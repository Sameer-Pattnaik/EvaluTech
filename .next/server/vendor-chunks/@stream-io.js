"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stream-io";
exports.ids = ["vendor-chunks/@stream-io"];
exports.modules = {

/***/ "(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@stream-io/node-sdk/dist/index.es.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelOwnCapability: () => (/* binding */ ChannelOwnCapability),\n/* harmony export */   FeedOwnCapability: () => (/* binding */ FeedOwnCapability),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamChannel: () => (/* binding */ StreamChannel),\n/* harmony export */   StreamChatClient: () => (/* binding */ StreamChatClient),\n/* harmony export */   StreamClient: () => (/* binding */ StreamClient),\n/* harmony export */   StreamFeed: () => (/* binding */ StreamFeed),\n/* harmony export */   StreamFeedsClient: () => (/* binding */ StreamFeedsClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(action-browser)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\nfunction JWTUserToken(apiSecret, payload) {\n    // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if (jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ == null || jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign == null) {\n        throw Error(`Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.`);\n    }\n    const opts = Object.assign({\n        algorithm: 'HS256',\n        noTimestamp: true,\n    });\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret, jwtOptions = {}) {\n    const payload = {\n        server: true,\n    };\n    const opts = Object.assign({ algorithm: 'HS256', noTimestamp: true }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\n\nconst decoders = {};\nconst decodeDatetimeType = (input) => typeof input === 'number'\n    ? new Date(Math.floor(input / 1000000))\n    : new Date(input);\ndecoders.DatetimeType = decodeDatetimeType;\nconst decode = (typeMappings, input) => {\n    if (!input || Object.keys(typeMappings).length === 0)\n        return input;\n    Object.keys(typeMappings).forEach((key) => {\n        if (input[key] != null) {\n            if (typeMappings[key]) {\n                const decoder = decoders[typeMappings[key].type];\n                if (decoder) {\n                    if (typeMappings[key].isSingle) {\n                        input[key] = decoder(input[key]);\n                    }\n                    else {\n                        Object.keys(input[key]).forEach((k) => {\n                            input[key][k] = decoder(input[key][k]);\n                        });\n                    }\n                }\n            }\n        }\n    });\n    return input;\n};\ndecoders.AcceptFeedMemberInviteResponse = (input) => {\n    const typeMappings = {\n        member: { type: 'FeedMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AcceptFollowResponse = (input) => {\n    const typeMappings = {\n        follow: { type: 'FollowResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActionLogResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItemResponse', isSingle: true },\n        target_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityMarkEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityMarkedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityPinResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityPinnedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        pinned_activity: { type: 'PinActivityResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityReactionAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityReactionDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityReactionUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityRemovedFromFeedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        comments: { type: 'CommentResponse', isSingle: false },\n        latest_reactions: { type: 'FeedsReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_bookmarks: { type: 'BookmarkResponse', isSingle: false },\n        own_reactions: { type: 'FeedsReactionResponse', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        edited_at: { type: 'DatetimeType', isSingle: true },\n        expires_at: { type: 'DatetimeType', isSingle: true },\n        current_feed: { type: 'FeedResponse', isSingle: true },\n        parent: { type: 'ActivityResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivitySelectorConfig = (input) => {\n    const typeMappings = {\n        cutoff_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityUnpinnedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        pinned_activity: { type: 'PinActivityResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActivityUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AddActivityResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AddBookmarkResponse = (input) => {\n    const typeMappings = {\n        bookmark: { type: 'BookmarkResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AddCommentReactionResponse = (input) => {\n    const typeMappings = {\n        comment: { type: 'CommentResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AddCommentResponse = (input) => {\n    const typeMappings = {\n        comment: { type: 'CommentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AddCommentsBatchResponse = (input) => {\n    const typeMappings = {\n        comments: { type: 'CommentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AddReactionResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AggregatedActivityResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        activities: { type: 'ActivityResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AnyEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AppResponseFields = (input) => {\n    const typeMappings = {\n        event_hooks: { type: 'EventHook', isSingle: false },\n        call_types: { type: 'CallType', isSingle: false },\n        channel_configs: { type: 'ChannelConfig', isSingle: false },\n        push_notifications: { type: 'PushNotificationFields', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AsyncBulkImageModerationEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        finished_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AsyncExportChannelsEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        finished_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AsyncExportErrorEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        finished_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AsyncExportModerationLogsEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        finished_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AsyncExportUsersEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        finished_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AutomodDetails = (input) => {\n    const typeMappings = {\n        result: { type: 'MessageModerationResult', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Ban = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        target: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BanResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        banned_by: { type: 'UserResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockListResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockUsersResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockedUserEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        blocked_by_user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockedUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        blocked_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        bookmark: { type: 'BookmarkResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        bookmark: { type: 'BookmarkResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkFolderDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        bookmark_folder: { type: 'BookmarkFolderResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkFolderResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkFolderUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        bookmark_folder: { type: 'BookmarkFolderResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        folder: { type: 'BookmarkFolderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BookmarkUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        bookmark: { type: 'BookmarkResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallAcceptedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallClosedCaptionsFailedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallClosedCaptionsStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallClosedCaptionsStoppedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallCreatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallEndedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallFrameRecordingFailedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallFrameRecordingFrameReadyEvent = (input) => {\n    const typeMappings = {\n        captured_at: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        users: { type: 'UserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallFrameRecordingStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallFrameRecordingStoppedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallHLSBroadcastingFailedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallHLSBroadcastingStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallHLSBroadcastingStoppedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallLiveStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallMemberAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallMemberRemovedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallMemberUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallMemberUpdatedPermissionEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallMissedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallModerationBlurEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallModerationWarningEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallNotificationEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallParticipantResponse = (input) => {\n    const typeMappings = {\n        joined_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallReactionEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecording = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecordingFailedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecordingReadyEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call_recording: { type: 'CallRecording', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecordingStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecordingStoppedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRejectedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallReportResponse = (input) => {\n    const typeMappings = {\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        starts_at: { type: 'DatetimeType', isSingle: true },\n        session: { type: 'CallSessionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRingEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRtmpBroadcastFailedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRtmpBroadcastStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRtmpBroadcastStoppedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionEndedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionParticipantCountsUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionParticipantJoinedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        participant: { type: 'CallParticipantResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionParticipantLeftEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        participant: { type: 'CallParticipantResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionResponse = (input) => {\n    const typeMappings = {\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        accepted_by: { type: 'DatetimeType', isSingle: false },\n        missed_by: { type: 'DatetimeType', isSingle: false },\n        rejected_by: { type: 'DatetimeType', isSingle: false },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        live_ended_at: { type: 'DatetimeType', isSingle: true },\n        live_started_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        timer_ends_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStatsReportReadyEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStatsReportSummaryResponse = (input) => {\n    const typeMappings = {\n        first_stats_time: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscription = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscriptionFailedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscriptionReadyEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call_transcription: { type: 'CallTranscription', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscriptionStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscriptionStoppedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallType = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallUserFeedbackSubmittedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallUserMutedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignCompletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        campaign: { type: 'CampaignResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        segments: { type: 'Segment', isSingle: false },\n        users: { type: 'UserResponse', isSingle: false },\n        stats: { type: 'CampaignStatsResponse', isSingle: true },\n        scheduled_for: { type: 'DatetimeType', isSingle: true },\n        stop_at: { type: 'DatetimeType', isSingle: true },\n        sender: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignStartedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        campaign: { type: 'CampaignResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignStatsResponse = (input) => {\n    const typeMappings = {\n        stats_completed_at: { type: 'DatetimeType', isSingle: true },\n        stats_started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Channel = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        message_count_updated_at: { type: 'DatetimeType', isSingle: true },\n        active_live_locations: { type: 'SharedLocation', isSingle: false },\n        invites: { type: 'ChannelMember', isSingle: false },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfig', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        truncated_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfigWithInfo = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelCreatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelFrozenEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelHiddenEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMember = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMutedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelPushPreferences = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        mute_expires_at: { type: 'DatetimeType', isSingle: true },\n        truncated_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfigWithInfo', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        truncated_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        active_live_locations: {\n            type: 'SharedLocationResponseData',\n            isSingle: false,\n        },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n        push_preferences: { type: 'ChannelPushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        active_live_locations: {\n            type: 'SharedLocationResponseData',\n            isSingle: false,\n        },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n        push_preferences: { type: 'ChannelPushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelTruncatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelTypeConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelUnFrozenEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelUnmutedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelVisibleEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChatActivityStatsResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageStatsResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ClosedCaptionEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Command = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        comment: { type: 'CommentResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        comment: { type: 'CommentResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentReactionAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        comment: { type: 'CommentResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentReactionDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        comment: { type: 'CommentResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentReactionUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        comment: { type: 'CommentResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'FeedsReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'FeedsReactionResponse', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CommentUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        comment: { type: 'CommentResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ConfigResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CountByMinuteResponse = (input) => {\n    const typeMappings = {\n        start_ts: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateFeedGroupResponse = (input) => {\n    const typeMappings = {\n        feed_group: { type: 'FeedGroupResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateFeedViewResponse = (input) => {\n    const typeMappings = {\n        feed_view: { type: 'FeedViewResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateFeedsBatchResponse = (input) => {\n    const typeMappings = {\n        feeds: { type: 'FeedResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateGuestResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateMembershipLevelResponse = (input) => {\n    const typeMappings = {\n        membership_level: { type: 'MembershipLevelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateRoleResponse = (input) => {\n    const typeMappings = {\n        role: { type: 'Role', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CustomCheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CustomVideoEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteActivityReactionResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteBookmarkResponse = (input) => {\n    const typeMappings = {\n        bookmark: { type: 'BookmarkResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteCallResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteCommentReactionResponse = (input) => {\n    const typeMappings = {\n        comment: { type: 'CommentResponse', isSingle: true },\n        reaction: { type: 'FeedsReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Device = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeviceResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DraftPayloadResponse = (input) => {\n    const typeMappings = {\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DraftResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        message: { type: 'DraftPayloadResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EgressRTMPResponse = (input) => {\n    const typeMappings = {\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreatorResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventHook = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'WSEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ExportUserResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n        reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedCreatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'FeedMemberResponse', isSingle: false },\n        feed: { type: 'FeedResponse', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedGroupChangedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedGroupDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedGroupResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        activity_selectors: { type: 'ActivitySelectorConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedMemberAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        member: { type: 'FeedMemberResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedMemberRemovedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedMemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        membership_level: { type: 'MembershipLevelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedMemberUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        member: { type: 'FeedMemberResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        own_follows: { type: 'FollowResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        feed: { type: 'FeedResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedViewResponse = (input) => {\n    const typeMappings = {\n        last_used_at: { type: 'DatetimeType', isSingle: true },\n        activity_selectors: { type: 'ActivitySelectorConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FeedsReactionResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagDetails = (input) => {\n    const typeMappings = {\n        automod: { type: 'AutomodDetails', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagFeedback = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FollowBatchResponse = (input) => {\n    const typeMappings = {\n        follows: { type: 'FollowResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FollowCreatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        follow: { type: 'FollowResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FollowDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        follow: { type: 'FollowResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FollowResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        source_feed: { type: 'FeedResponse', isSingle: true },\n        target_feed: { type: 'FeedResponse', isSingle: true },\n        request_accepted_at: { type: 'DatetimeType', isSingle: true },\n        request_rejected_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FollowUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        follow: { type: 'FollowResponse', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FullUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetActiveCallsStatusResponse = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetActivityResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetApplicationResponse = (input) => {\n    const typeMappings = {\n        app: { type: 'AppResponseFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockedUsersResponse = (input) => {\n    const typeMappings = {\n        blocks: { type: 'BlockedUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallReportResponse = (input) => {\n    const typeMappings = {\n        video_reactions: { type: 'VideoReactionsResponse', isSingle: false },\n        chat_activity: { type: 'ChatActivityStatsResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommandResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommentRepliesResponse = (input) => {\n    const typeMappings = {\n        comments: { type: 'ThreadedCommentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommentResponse = (input) => {\n    const typeMappings = {\n        comment: { type: 'CommentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommentsResponse = (input) => {\n    const typeMappings = {\n        comments: { type: 'ThreadedCommentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetDraftResponse = (input) => {\n    const typeMappings = {\n        draft: { type: 'DraftResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetFeedGroupResponse = (input) => {\n    const typeMappings = {\n        feed_group: { type: 'FeedGroupResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetFeedViewResponse = (input) => {\n    const typeMappings = {\n        feed_view: { type: 'FeedViewResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetFollowSuggestionsResponse = (input) => {\n    const typeMappings = {\n        suggestions: { type: 'FeedResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetManyMessagesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageWithChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateFeedGroupResponse = (input) => {\n    const typeMappings = {\n        feed_group: { type: 'FeedGroupResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateFeedResponse = (input) => {\n    const typeMappings = {\n        activities: { type: 'ActivityResponse', isSingle: false },\n        aggregated_activities: {\n            type: 'AggregatedActivityResponse',\n            isSingle: false,\n        },\n        followers: { type: 'FollowResponse', isSingle: false },\n        following: { type: 'FollowResponse', isSingle: false },\n        members: { type: 'FeedMemberResponse', isSingle: false },\n        pinned_activities: { type: 'ActivityPinResponse', isSingle: false },\n        feed: { type: 'FeedResponse', isSingle: true },\n        own_follows: { type: 'FollowResponse', isSingle: false },\n        notification_status: { type: 'NotificationStatusResponse', isSingle: true },\n        own_membership: { type: 'FeedMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateFeedViewResponse = (input) => {\n    const typeMappings = {\n        feed_view: { type: 'FeedViewResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetPushTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'PushTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'Reaction', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetRepliesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetSegmentResponse = (input) => {\n    const typeMappings = {\n        segment: { type: 'SegmentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetTaskResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetThreadResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadStateResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GoLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTask = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        history: { type: 'ImportTaskHistory', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTaskHistory = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.KickedUserEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        kicked_by_user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklists: { type: 'BlockListResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCallTypeResponse = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallTypeResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListChannelTypesResponse = (input) => {\n    const typeMappings = {\n        channel_types: { type: 'ChannelTypeConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCommandsResponse = (input) => {\n    const typeMappings = {\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListDevicesResponse = (input) => {\n    const typeMappings = {\n        devices: { type: 'DeviceResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListFeedGroupsResponse = (input) => {\n    const typeMappings = {\n        groups: { type: 'FeedGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListFeedViewsResponse = (input) => {\n    const typeMappings = {\n        views: { type: 'FeedViewResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListImportsResponse = (input) => {\n    const typeMappings = {\n        import_tasks: { type: 'ImportTask', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListPushProvidersResponse = (input) => {\n    const typeMappings = {\n        push_providers: { type: 'PushProviderResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRecordingsResponse = (input) => {\n    const typeMappings = {\n        recordings: { type: 'CallRecording', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRolesResponse = (input) => {\n    const typeMappings = {\n        roles: { type: 'Role', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListTranscriptionsResponse = (input) => {\n    const typeMappings = {\n        transcriptions: { type: 'CallTranscription', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MarkReadResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'MessageReadEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberAddedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberRemovedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MembershipLevelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Message = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'Reaction', isSingle: false },\n        mentioned_users: { type: 'User', isSingle: false },\n        own_reactions: { type: 'Reaction', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        pinned_by: { type: 'User', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        reminder: { type: 'MessageReminder', isSingle: true },\n        shared_location: { type: 'SharedLocation', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageFlagResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        approved_at: { type: 'DatetimeType', isSingle: true },\n        rejected_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        details: { type: 'FlagDetails', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        moderation_feedback: { type: 'FlagFeedback', isSingle: true },\n        moderation_result: { type: 'MessageModerationResult', isSingle: true },\n        reviewed_by: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageFlaggedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageHistoryEntryResponse = (input) => {\n    const typeMappings = {\n        message_updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageModerationResult = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageNewEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReadEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel_last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReminder = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        remind_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        draft: { type: 'DraftResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n        shared_location: { type: 'SharedLocationResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageStatsResponse = (input) => {\n    const typeMappings = {\n        count_over_time: { type: 'CountByMinuteResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageUnblockedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageUndeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageWithChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        draft: { type: 'DraftResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n        shared_location: { type: 'SharedLocationResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationCheckCompletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationCustomActionEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationFlagResponse = (input) => {\n    const typeMappings = {\n        review_queue_item: { type: 'ReviewQueueItemResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationFlaggedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationMarkReviewedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteChannelResponse = (input) => {\n    const typeMappings = {\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        channel_mute: { type: 'ChannelMute', isSingle: true },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteResponse = (input) => {\n    const typeMappings = {\n        mutes: { type: 'UserMute', isSingle: false },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.NotificationFeedUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        aggregated_activities: {\n            type: 'AggregatedActivityResponse',\n            isSingle: false,\n        },\n        notification_status: { type: 'NotificationStatusResponse', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.NotificationMarkUnreadEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.NotificationStatusResponse = (input) => {\n    const typeMappings = {\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        last_seen_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUser = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'Device', isSingle: false },\n        mutes: { type: 'UserMute', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        push_preferences: { type: 'PushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_preferences: { type: 'PushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ParticipantCountByMinuteResponse = (input) => {\n    const typeMappings = {\n        start_ts: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ParticipantCountOverTimeResponse = (input) => {\n    const typeMappings = {\n        by_minute: { type: 'ParticipantCountByMinuteResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PendingMessageEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PendingMessageResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PermissionRequestEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PinActivityResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        activity: { type: 'ActivityResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Poll = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVote', isSingle: false },\n        own_votes: { type: 'PollVote', isSingle: false },\n        created_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponse = (input) => {\n    const typeMappings = {\n        poll: { type: 'PollResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVoteResponseData', isSingle: false },\n        own_votes: { type: 'PollVoteResponseData', isSingle: false },\n        created_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVote = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponse = (input) => {\n    const typeMappings = {\n        vote: { type: 'PollVoteResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVotesResponse = (input) => {\n    const typeMappings = {\n        votes: { type: 'PollVoteResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationFields = (input) => {\n    const typeMappings = {\n        providers: { type: 'PushProvider', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettingsResponse = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushPreferences = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProvider = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n        push_templates: { type: 'PushTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProviderResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryActivitiesResponse = (input) => {\n    const typeMappings = {\n        activities: { type: 'ActivityResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryActivityReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'FeedsReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBannedUsersResponse = (input) => {\n    const typeMappings = {\n        bans: { type: 'BanResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBookmarkFoldersResponse = (input) => {\n    const typeMappings = {\n        bookmark_folders: { type: 'BookmarkFolderResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBookmarksResponse = (input) => {\n    const typeMappings = {\n        bookmarks: { type: 'BookmarkResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallParticipantsResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallStatsResponse = (input) => {\n    const typeMappings = {\n        reports: { type: 'CallStatsReportSummaryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallsResponse = (input) => {\n    const typeMappings = {\n        calls: { type: 'CallStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCampaignsResponse = (input) => {\n    const typeMappings = {\n        campaigns: { type: 'CampaignResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryChannelsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'ChannelStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCommentReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'FeedsReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCommentsResponse = (input) => {\n    const typeMappings = {\n        comments: { type: 'CommentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryDraftsResponse = (input) => {\n    const typeMappings = {\n        drafts: { type: 'DraftResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'FeedMemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'QueryFeedModerationTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedsResponse = (input) => {\n    const typeMappings = {\n        feeds: { type: 'FeedResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFollowsResponse = (input) => {\n    const typeMappings = {\n        follows: { type: 'FollowResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMembershipLevelsResponse = (input) => {\n    const typeMappings = {\n        membership_levels: { type: 'MembershipLevelResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'MessageFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageHistoryResponse = (input) => {\n    const typeMappings = {\n        message_history: { type: 'MessageHistoryEntryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationConfigsResponse = (input) => {\n    const typeMappings = {\n        configs: { type: 'ConfigResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'ModerationFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationLogsResponse = (input) => {\n    const typeMappings = {\n        logs: { type: 'ActionLogResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryPollsResponse = (input) => {\n    const typeMappings = {\n        polls: { type: 'PollResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'ReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryRemindersResponse = (input) => {\n    const typeMappings = {\n        reminders: { type: 'ReminderResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReviewQueueResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ReviewQueueItemResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentTargetsResponse = (input) => {\n    const typeMappings = {\n        targets: { type: 'SegmentTargetResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentsResponse = (input) => {\n    const typeMappings = {\n        segments: { type: 'SegmentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryThreadsResponse = (input) => {\n    const typeMappings = {\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Reaction = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionGroupResponse = (input) => {\n    const typeMappings = {\n        first_reaction_at: { type: 'DatetimeType', isSingle: true },\n        last_reaction_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionNewEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        message: { type: 'Message', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReadStateResponse = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.RejectFeedMemberInviteResponse = (input) => {\n    const typeMappings = {\n        member: { type: 'FeedMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.RejectFollowResponse = (input) => {\n    const typeMappings = {\n        follow: { type: 'FollowResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReminderCreatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReminderDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReminderNotificationEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReminderResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        remind_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReminderUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItemNewEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        flags: { type: 'ModerationFlagResponse', isSingle: false },\n        action: { type: 'ActionLogResponse', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLogResponse', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'ModerationFlagResponse', isSingle: false },\n        completed_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        assigned_to: { type: 'UserResponse', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n        entity_creator: { type: 'EntityCreatorResponse', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItemUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n        flags: { type: 'ModerationFlagResponse', isSingle: false },\n        action: { type: 'ActionLogResponse', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Role = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResult = (input) => {\n    const typeMappings = {\n        message: { type: 'SearchResultMessage', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResultMessage = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n        shared_location: { type: 'SharedLocationResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Segment = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentTargetResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SharedLocation = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        end_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SharedLocationResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        end_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SharedLocationResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        end_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SharedLocationsResponse = (input) => {\n    const typeMappings = {\n        active_live_locations: {\n            type: 'SharedLocationResponseData',\n            isSingle: false,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SingleFollowResponse = (input) => {\n    const typeMappings = {\n        follow: { type: 'FollowResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StopLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SubmitActionResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadParticipant = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        last_thread_message_at: { type: 'DatetimeType', isSingle: true },\n        left_thread_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadStateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_replies: { type: 'MessageResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadedCommentResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'FeedsReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'FeedsReactionResponse', isSingle: false },\n        replies: { type: 'ThreadedCommentResponse', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.TruncateChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnblockedUserEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnfollowBatchResponse = (input) => {\n    const typeMappings = {\n        follows: { type: 'FollowResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnfollowResponse = (input) => {\n    const typeMappings = {\n        follow: { type: 'FollowResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnpinActivityResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsBatchResponse = (input) => {\n    const typeMappings = {\n        counts_by_user: { type: 'UnreadCountsResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsChannel = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsThread = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateActivityPartialResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateActivityResponse = (input) => {\n    const typeMappings = {\n        activity: { type: 'ActivityResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateBookmarkFolderResponse = (input) => {\n    const typeMappings = {\n        bookmark_folder: { type: 'BookmarkFolderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateBookmarkResponse = (input) => {\n    const typeMappings = {\n        bookmark: { type: 'BookmarkResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelPartialResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMemberResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCommentResponse = (input) => {\n    const typeMappings = {\n        comment: { type: 'CommentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateFeedGroupResponse = (input) => {\n    const typeMappings = {\n        feed_group: { type: 'FeedGroupResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateFeedMembersResponse = (input) => {\n    const typeMappings = {\n        added: { type: 'FeedMemberResponse', isSingle: false },\n        updated: { type: 'FeedMemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateFeedResponse = (input) => {\n    const typeMappings = {\n        feed: { type: 'FeedResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateFeedViewResponse = (input) => {\n    const typeMappings = {\n        feed_view: { type: 'FeedViewResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateFollowResponse = (input) => {\n    const typeMappings = {\n        follow: { type: 'FollowResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMemberPartialResponse = (input) => {\n    const typeMappings = {\n        channel_member: { type: 'ChannelMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMembershipLevelResponse = (input) => {\n    const typeMappings = {\n        membership_level: { type: 'MembershipLevelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessagePartialResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateReminderResponse = (input) => {\n    const typeMappings = {\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateThreadPartialResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdatedCallPermissionsEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertActivitiesResponse = (input) => {\n    const typeMappings = {\n        activities: { type: 'ActivityResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertModerationTemplateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushPreferencesResponse = (input) => {\n    const typeMappings = {\n        user_preferences: { type: 'PushPreferences', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushProviderResponse = (input) => {\n    const typeMappings = {\n        push_provider: { type: 'PushProviderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushTemplateResponse = (input) => {\n    const typeMappings = {\n        template: { type: 'PushTemplate', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.User = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserBannedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        expiration: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserDeactivatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserFlaggedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMessagesDeletedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMuteResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMutedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserReactivatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponseCommonFields = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserUnbannedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserUnmutedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserUnreadReminderEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserUpdatedEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        received_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.VideoReactionOverTimeResponse = (input) => {\n    const typeMappings = {\n        by_minute: { type: 'CountByMinuteResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.VideoReactionsResponse = (input) => {\n    const typeMappings = {\n        count_over_time: { type: 'VideoReactionOverTimeResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WSEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel_last_message_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        me: { type: 'OwnUserResponse', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        poll_vote: { type: 'PollVoteResponseData', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WrappedUnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\n\nclass CommonApi {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n    }\n    async getApp() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/app', undefined, undefined);\n        decoders.GetApplicationResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateApp(request) {\n        const body = {\n            async_url_enrich_enabled: request?.async_url_enrich_enabled,\n            auto_translation_enabled: request?.auto_translation_enabled,\n            before_message_send_hook_url: request?.before_message_send_hook_url,\n            cdn_expiration_seconds: request?.cdn_expiration_seconds,\n            channel_hide_members_only: request?.channel_hide_members_only,\n            custom_action_handler_url: request?.custom_action_handler_url,\n            disable_auth_checks: request?.disable_auth_checks,\n            disable_permissions_checks: request?.disable_permissions_checks,\n            enforce_unique_usernames: request?.enforce_unique_usernames,\n            feeds_moderation_enabled: request?.feeds_moderation_enabled,\n            feeds_v2_region: request?.feeds_v2_region,\n            guest_user_creation_disabled: request?.guest_user_creation_disabled,\n            image_moderation_enabled: request?.image_moderation_enabled,\n            max_aggregated_activities_length: request?.max_aggregated_activities_length,\n            migrate_permissions_to_v2: request?.migrate_permissions_to_v2,\n            moderation_enabled: request?.moderation_enabled,\n            moderation_webhook_url: request?.moderation_webhook_url,\n            multi_tenant_enabled: request?.multi_tenant_enabled,\n            permission_version: request?.permission_version,\n            reminders_interval: request?.reminders_interval,\n            reminders_max_members: request?.reminders_max_members,\n            revoke_tokens_issued_before: request?.revoke_tokens_issued_before,\n            sns_key: request?.sns_key,\n            sns_secret: request?.sns_secret,\n            sns_topic_arn: request?.sns_topic_arn,\n            sqs_key: request?.sqs_key,\n            sqs_secret: request?.sqs_secret,\n            sqs_url: request?.sqs_url,\n            user_response_time_enabled: request?.user_response_time_enabled,\n            webhook_url: request?.webhook_url,\n            allowed_flag_reasons: request?.allowed_flag_reasons,\n            event_hooks: request?.event_hooks,\n            image_moderation_block_labels: request?.image_moderation_block_labels,\n            image_moderation_labels: request?.image_moderation_labels,\n            user_search_disallowed_roles: request?.user_search_disallowed_roles,\n            webhook_events: request?.webhook_events,\n            apn_config: request?.apn_config,\n            async_moderation_config: request?.async_moderation_config,\n            datadog_info: request?.datadog_info,\n            file_upload_config: request?.file_upload_config,\n            firebase_config: request?.firebase_config,\n            grants: request?.grants,\n            huawei_config: request?.huawei_config,\n            image_upload_config: request?.image_upload_config,\n            moderation_dashboard_preferences: request?.moderation_dashboard_preferences,\n            push_config: request?.push_config,\n            xiaomi_config: request?.xiaomi_config,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/app', undefined, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listBlockLists(request) {\n        const queryParams = {\n            team: request?.team,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/blocklists', undefined, queryParams);\n        decoders.ListBlockListResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createBlockList(request) {\n        const body = {\n            name: request?.name,\n            words: request?.words,\n            team: request?.team,\n            type: request?.type,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/blocklists', undefined, undefined, body, 'application/json');\n        decoders.CreateBlockListResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteBlockList(request) {\n        const queryParams = {\n            team: request?.team,\n        };\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/blocklists/{name}', pathParams, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getBlockList(request) {\n        const queryParams = {\n            team: request?.team,\n        };\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/blocklists/{name}', pathParams, queryParams);\n        decoders.GetBlockListResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateBlockList(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const body = {\n            team: request?.team,\n            words: request?.words,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/blocklists/{name}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateBlockListResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async checkPush(request) {\n        const body = {\n            apn_template: request?.apn_template,\n            event_type: request?.event_type,\n            firebase_data_template: request?.firebase_data_template,\n            firebase_template: request?.firebase_template,\n            message_id: request?.message_id,\n            push_provider_name: request?.push_provider_name,\n            push_provider_type: request?.push_provider_type,\n            skip_devices: request?.skip_devices,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/check_push', undefined, undefined, body, 'application/json');\n        decoders.CheckPushResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async checkSNS(request) {\n        const body = {\n            sns_key: request?.sns_key,\n            sns_secret: request?.sns_secret,\n            sns_topic_arn: request?.sns_topic_arn,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/check_sns', undefined, undefined, body, 'application/json');\n        decoders.CheckSNSResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async checkSQS(request) {\n        const body = {\n            sqs_key: request?.sqs_key,\n            sqs_secret: request?.sqs_secret,\n            sqs_url: request?.sqs_url,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/check_sqs', undefined, undefined, body, 'application/json');\n        decoders.CheckSQSResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteDevice(request) {\n        const queryParams = {\n            id: request?.id,\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/devices', undefined, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listDevices(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/devices', undefined, queryParams);\n        decoders.ListDevicesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createDevice(request) {\n        const body = {\n            id: request?.id,\n            push_provider: request?.push_provider,\n            push_provider_name: request?.push_provider_name,\n            user_id: request?.user_id,\n            voip_token: request?.voip_token,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/devices', undefined, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async exportUsers(request) {\n        const body = {\n            user_ids: request?.user_ids,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/export/users', undefined, undefined, body, 'application/json');\n        decoders.ExportUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listExternalStorage() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/external_storage', undefined, undefined);\n        decoders.ListExternalStorageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createExternalStorage(request) {\n        const body = {\n            bucket: request?.bucket,\n            name: request?.name,\n            storage_type: request?.storage_type,\n            gcs_credentials: request?.gcs_credentials,\n            path: request?.path,\n            aws_s3: request?.aws_s3,\n            azure_blob: request?.azure_blob,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/external_storage', undefined, undefined, body, 'application/json');\n        decoders.CreateExternalStorageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteExternalStorage(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/external_storage/{name}', pathParams, undefined);\n        decoders.DeleteExternalStorageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateExternalStorage(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const body = {\n            bucket: request?.bucket,\n            storage_type: request?.storage_type,\n            gcs_credentials: request?.gcs_credentials,\n            path: request?.path,\n            aws_s3: request?.aws_s3,\n            azure_blob: request?.azure_blob,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/external_storage/{name}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateExternalStorageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async checkExternalStorage(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/external_storage/{name}/check', pathParams, undefined);\n        decoders.CheckExternalStorageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createGuest(request) {\n        const body = {\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/guest', undefined, undefined, body, 'application/json');\n        decoders.CreateGuestResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createImportURL(request) {\n        const body = {\n            filename: request?.filename,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/import_urls', undefined, undefined, body, 'application/json');\n        decoders.CreateImportURLResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listImports() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/imports', undefined, undefined);\n        decoders.ListImportsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createImport(request) {\n        const body = {\n            mode: request?.mode,\n            path: request?.path,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/imports', undefined, undefined, body, 'application/json');\n        decoders.CreateImportResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getImport(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/imports/{id}', pathParams, undefined);\n        decoders.GetImportResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOG(request) {\n        const queryParams = {\n            url: request?.url,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/og', undefined, queryParams);\n        decoders.GetOGResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listPermissions() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/permissions', undefined, undefined);\n        decoders.ListPermissionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getPermission(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/permissions/{id}', pathParams, undefined);\n        decoders.GetCustomPermissionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createPoll(request) {\n        const body = {\n            name: request?.name,\n            allow_answers: request?.allow_answers,\n            allow_user_suggested_options: request?.allow_user_suggested_options,\n            description: request?.description,\n            enforce_unique_vote: request?.enforce_unique_vote,\n            id: request?.id,\n            is_closed: request?.is_closed,\n            max_votes_allowed: request?.max_votes_allowed,\n            user_id: request?.user_id,\n            voting_visibility: request?.voting_visibility,\n            options: request?.options,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/polls', undefined, undefined, body, 'application/json');\n        decoders.PollResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updatePoll(request) {\n        const body = {\n            id: request?.id,\n            name: request?.name,\n            allow_answers: request?.allow_answers,\n            allow_user_suggested_options: request?.allow_user_suggested_options,\n            description: request?.description,\n            enforce_unique_vote: request?.enforce_unique_vote,\n            is_closed: request?.is_closed,\n            max_votes_allowed: request?.max_votes_allowed,\n            user_id: request?.user_id,\n            voting_visibility: request?.voting_visibility,\n            options: request?.options,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/polls', undefined, undefined, body, 'application/json');\n        decoders.PollResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryPolls(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/polls/query', undefined, queryParams, body, 'application/json');\n        decoders.QueryPollsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deletePoll(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            poll_id: request?.poll_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/polls/{poll_id}', pathParams, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getPoll(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            poll_id: request?.poll_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/polls/{poll_id}', pathParams, queryParams);\n        decoders.PollResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updatePollPartial(request) {\n        const pathParams = {\n            poll_id: request?.poll_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            unset: request?.unset,\n            set: request?.set,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/polls/{poll_id}', pathParams, undefined, body, 'application/json');\n        decoders.PollResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createPollOption(request) {\n        const pathParams = {\n            poll_id: request?.poll_id,\n        };\n        const body = {\n            text: request?.text,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/polls/{poll_id}/options', pathParams, undefined, body, 'application/json');\n        decoders.PollOptionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updatePollOption(request) {\n        const pathParams = {\n            poll_id: request?.poll_id,\n        };\n        const body = {\n            id: request?.id,\n            text: request?.text,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/polls/{poll_id}/options', pathParams, undefined, body, 'application/json');\n        decoders.PollOptionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deletePollOption(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            poll_id: request?.poll_id,\n            option_id: request?.option_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getPollOption(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            poll_id: request?.poll_id,\n            option_id: request?.option_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n        decoders.PollOptionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryPollVotes(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            poll_id: request?.poll_id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/polls/{poll_id}/votes', pathParams, queryParams, body, 'application/json');\n        decoders.PollVotesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listPushProviders() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/push_providers', undefined, undefined);\n        decoders.ListPushProvidersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async upsertPushProvider(request) {\n        const body = {\n            push_provider: request?.push_provider,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/push_providers', undefined, undefined, body, 'application/json');\n        decoders.UpsertPushProviderResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deletePushProvider(request) {\n        const pathParams = {\n            type: request?.type,\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/push_providers/{type}/{name}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getRateLimits(request) {\n        const queryParams = {\n            server_side: request?.server_side,\n            android: request?.android,\n            ios: request?.ios,\n            web: request?.web,\n            endpoints: request?.endpoints,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/rate_limits', undefined, queryParams);\n        decoders.GetRateLimitsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listRoles() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/roles', undefined, undefined);\n        decoders.ListRolesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createRole(request) {\n        const body = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/roles', undefined, undefined, body, 'application/json');\n        decoders.CreateRoleResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteRole(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/roles/{name}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getTask(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/tasks/{id}', pathParams, undefined);\n        decoders.GetTaskResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteFile(request) {\n        const queryParams = {\n            url: request?.url,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/uploads/file', undefined, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async uploadFile(request) {\n        const body = {\n            file: request?.file,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/uploads/file', undefined, undefined, body, 'multipart/form-data');\n        decoders.FileUploadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteImage(request) {\n        const queryParams = {\n            url: request?.url,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/uploads/image', undefined, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async uploadImage(request) {\n        const body = {\n            file: request?.file,\n            upload_sizes: request?.upload_sizes,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/uploads/image', undefined, undefined, body, 'multipart/form-data');\n        decoders.ImageUploadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryUsers(request) {\n        const queryParams = {\n            payload: request?.payload,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/users', undefined, queryParams);\n        decoders.QueryUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateUsersPartial(request) {\n        const body = {\n            users: request?.users,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/users', undefined, undefined, body, 'application/json');\n        decoders.UpdateUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateUsers(request) {\n        const body = {\n            users: request?.users,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users', undefined, undefined, body, 'application/json');\n        decoders.UpdateUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getBlockedUsers(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/users/block', undefined, queryParams);\n        decoders.GetBlockedUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async blockUsers(request) {\n        const body = {\n            blocked_user_id: request?.blocked_user_id,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/block', undefined, undefined, body, 'application/json');\n        decoders.BlockUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deactivateUsers(request) {\n        const body = {\n            user_ids: request?.user_ids,\n            created_by_id: request?.created_by_id,\n            mark_channels_deleted: request?.mark_channels_deleted,\n            mark_messages_deleted: request?.mark_messages_deleted,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/deactivate', undefined, undefined, body, 'application/json');\n        decoders.DeactivateUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteUsers(request) {\n        const body = {\n            user_ids: request?.user_ids,\n            calls: request?.calls,\n            conversations: request?.conversations,\n            files: request?.files,\n            messages: request?.messages,\n            new_call_owner_id: request?.new_call_owner_id,\n            new_channel_owner_id: request?.new_channel_owner_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/delete', undefined, undefined, body, 'application/json');\n        decoders.DeleteUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getUserLiveLocations(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/users/live_locations', undefined, queryParams);\n        decoders.SharedLocationsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateLiveLocation(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const body = {\n            message_id: request?.message_id,\n            end_at: request?.end_at,\n            latitude: request?.latitude,\n            longitude: request?.longitude,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/users/live_locations', undefined, queryParams, body, 'application/json');\n        decoders.SharedLocationResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async reactivateUsers(request) {\n        const body = {\n            user_ids: request?.user_ids,\n            created_by_id: request?.created_by_id,\n            restore_channels: request?.restore_channels,\n            restore_messages: request?.restore_messages,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/reactivate', undefined, undefined, body, 'application/json');\n        decoders.ReactivateUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async restoreUsers(request) {\n        const body = {\n            user_ids: request?.user_ids,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/restore', undefined, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unblockUsers(request) {\n        const body = {\n            blocked_user_id: request?.blocked_user_id,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/unblock', undefined, undefined, body, 'application/json');\n        decoders.UnblockUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deactivateUser(request) {\n        const pathParams = {\n            user_id: request?.user_id,\n        };\n        const body = {\n            created_by_id: request?.created_by_id,\n            mark_messages_deleted: request?.mark_messages_deleted,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/{user_id}/deactivate', pathParams, undefined, body, 'application/json');\n        decoders.DeactivateUserResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async exportUser(request) {\n        const pathParams = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/users/{user_id}/export', pathParams, undefined);\n        decoders.ExportUserResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async reactivateUser(request) {\n        const pathParams = {\n            user_id: request?.user_id,\n        };\n        const body = {\n            created_by_id: request?.created_by_id,\n            name: request?.name,\n            restore_messages: request?.restore_messages,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/users/{user_id}/reactivate', pathParams, undefined, body, 'application/json');\n        decoders.ReactivateUserResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n}\n\nclass VideoApi {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n    }\n    async getActiveCallsStatus() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/active_calls_status', undefined, undefined);\n        decoders.GetActiveCallsStatusResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryUserFeedback(request) {\n        const queryParams = {\n            full: request?.full,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter_conditions: request?.filter_conditions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/feedback', undefined, queryParams, body, 'application/json');\n        decoders.QueryUserFeedbackResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryCallMembers(request) {\n        const body = {\n            id: request?.id,\n            type: request?.type,\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter_conditions: request?.filter_conditions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/members', undefined, undefined, body, 'application/json');\n        decoders.QueryCallMembersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryCallStats(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter_conditions: request?.filter_conditions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/stats', undefined, undefined, body, 'application/json');\n        decoders.QueryCallStatsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getCall(request) {\n        const queryParams = {\n            members_limit: request?.members_limit,\n            ring: request?.ring,\n            notify: request?.notify,\n            video: request?.video,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/call/{type}/{id}', pathParams, queryParams);\n        decoders.GetCallResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateCall(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            starts_at: request?.starts_at,\n            custom: request?.custom,\n            settings_override: request?.settings_override,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateCallResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOrCreateCall(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            members_limit: request?.members_limit,\n            notify: request?.notify,\n            ring: request?.ring,\n            video: request?.video,\n            data: request?.data,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body, 'application/json');\n        decoders.GetOrCreateCallResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async blockUser(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/block', pathParams, undefined, body, 'application/json');\n        decoders.BlockUserResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteCall(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            hard: request?.hard,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/delete', pathParams, undefined, body, 'application/json');\n        decoders.DeleteCallResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async sendCallEvent(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/event', pathParams, undefined, body, 'application/json');\n        decoders.SendCallEventResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async collectUserFeedback(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            rating: request?.rating,\n            sdk: request?.sdk,\n            sdk_version: request?.sdk_version,\n            reason: request?.reason,\n            user_session_id: request?.user_session_id,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/feedback', pathParams, undefined, body, 'application/json');\n        decoders.CollectUserFeedbackResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async goLive(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            recording_storage_name: request?.recording_storage_name,\n            start_closed_caption: request?.start_closed_caption,\n            start_hls: request?.start_hls,\n            start_recording: request?.start_recording,\n            start_transcription: request?.start_transcription,\n            transcription_storage_name: request?.transcription_storage_name,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/go_live', pathParams, undefined, body, 'application/json');\n        decoders.GoLiveResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async kickUser(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            block: request?.block,\n            kicked_by_id: request?.kicked_by_id,\n            kicked_by: request?.kicked_by,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/kick', pathParams, undefined, body, 'application/json');\n        decoders.KickUserResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async endCall(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mark_ended', pathParams, undefined);\n        decoders.EndCallResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateCallMembers(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            remove_members: request?.remove_members,\n            update_members: request?.update_members,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/members', pathParams, undefined, body, 'application/json');\n        decoders.UpdateCallMembersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async muteUsers(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            audio: request?.audio,\n            mute_all_users: request?.mute_all_users,\n            muted_by_id: request?.muted_by_id,\n            screenshare: request?.screenshare,\n            screenshare_audio: request?.screenshare_audio,\n            video: request?.video,\n            user_ids: request?.user_ids,\n            muted_by: request?.muted_by,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mute_users', pathParams, undefined, body, 'application/json');\n        decoders.MuteUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryCallParticipants(request) {\n        const queryParams = {\n            limit: request?.limit,\n        };\n        const pathParams = {\n            id: request?.id,\n            type: request?.type,\n        };\n        const body = {\n            filter_conditions: request?.filter_conditions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/participants', pathParams, queryParams, body, 'application/json');\n        decoders.QueryCallParticipantsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async videoPin(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            session_id: request?.session_id,\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/pin', pathParams, undefined, body, 'application/json');\n        decoders.PinResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listRecordings(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/call/{type}/{id}/recordings', pathParams, undefined);\n        decoders.ListRecordingsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getCallReport(request) {\n        const queryParams = {\n            session_id: request?.session_id,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/call/{type}/{id}/report', pathParams, queryParams);\n        decoders.GetCallReportResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startRTMPBroadcasts(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            broadcasts: request?.broadcasts,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts', pathParams, undefined, body, 'application/json');\n        decoders.StartRTMPBroadcastsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopAllRTMPBroadcasts(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/stop', pathParams, undefined);\n        decoders.StopAllRTMPBroadcastsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopRTMPBroadcast(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n            name: request?.name,\n        };\n        const body = {};\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/{name}/stop', pathParams, undefined, body, 'application/json');\n        decoders.StopRTMPBroadcastsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startHLSBroadcasting(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_broadcasting', pathParams, undefined);\n        decoders.StartHLSBroadcastingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startClosedCaptions(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            enable_transcription: request?.enable_transcription,\n            external_storage: request?.external_storage,\n            language: request?.language,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_closed_captions', pathParams, undefined, body, 'application/json');\n        decoders.StartClosedCaptionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startFrameRecording(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            recording_external_storage: request?.recording_external_storage,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_frame_recording', pathParams, undefined, body, 'application/json');\n        decoders.StartFrameRecordingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startRecording(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            recording_external_storage: request?.recording_external_storage,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_recording', pathParams, undefined, body, 'application/json');\n        decoders.StartRecordingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startTranscription(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            enable_closed_captions: request?.enable_closed_captions,\n            language: request?.language,\n            transcription_external_storage: request?.transcription_external_storage,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_transcription', pathParams, undefined, body, 'application/json');\n        decoders.StartTranscriptionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopHLSBroadcasting(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_broadcasting', pathParams, undefined);\n        decoders.StopHLSBroadcastingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopClosedCaptions(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            stop_transcription: request?.stop_transcription,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_closed_captions', pathParams, undefined, body, 'application/json');\n        decoders.StopClosedCaptionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopFrameRecording(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_frame_recording', pathParams, undefined);\n        decoders.StopFrameRecordingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopLive(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            continue_closed_caption: request?.continue_closed_caption,\n            continue_hls: request?.continue_hls,\n            continue_recording: request?.continue_recording,\n            continue_rtmp_broadcasts: request?.continue_rtmp_broadcasts,\n            continue_transcription: request?.continue_transcription,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_live', pathParams, undefined, body, 'application/json');\n        decoders.StopLiveResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopRecording(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_recording', pathParams, undefined);\n        decoders.StopRecordingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async stopTranscription(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            stop_closed_captions: request?.stop_closed_captions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_transcription', pathParams, undefined, body, 'application/json');\n        decoders.StopTranscriptionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listTranscriptions(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/call/{type}/{id}/transcriptions', pathParams, undefined);\n        decoders.ListTranscriptionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unblockUser(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unblock', pathParams, undefined, body, 'application/json');\n        decoders.UnblockUserResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async videoUnpin(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            session_id: request?.session_id,\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unpin', pathParams, undefined, body, 'application/json');\n        decoders.UnpinResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateUserPermissions(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            grant_permissions: request?.grant_permissions,\n            revoke_permissions: request?.revoke_permissions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/call/{type}/{id}/user_permissions', pathParams, undefined, body, 'application/json');\n        decoders.UpdateUserPermissionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteRecording(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n            session: request?.session,\n            filename: request?.filename,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/recordings/{filename}', pathParams, undefined);\n        decoders.DeleteRecordingResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteTranscription(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n            session: request?.session,\n            filename: request?.filename,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/transcriptions/{filename}', pathParams, undefined);\n        decoders.DeleteTranscriptionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryCalls(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter_conditions: request?.filter_conditions,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/calls', undefined, undefined, body, 'application/json');\n        decoders.QueryCallsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listCallTypes() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/calltypes', undefined, undefined);\n        decoders.ListCallTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createCallType(request) {\n        const body = {\n            name: request?.name,\n            external_storage: request?.external_storage,\n            grants: request?.grants,\n            notification_settings: request?.notification_settings,\n            settings: request?.settings,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/calltypes', undefined, undefined, body, 'application/json');\n        decoders.CreateCallTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteCallType(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getCallType(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n        decoders.GetCallTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateCallType(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const body = {\n            external_storage: request?.external_storage,\n            grants: request?.grants,\n            notification_settings: request?.notification_settings,\n            settings: request?.settings,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/video/calltypes/{name}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateCallTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getEdges() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/video/edges', undefined, undefined);\n        decoders.GetEdgesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryAggregateCallStats(request) {\n        const body = {\n            from: request?.from,\n            to: request?.to,\n            report_types: request?.report_types,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/video/stats', undefined, undefined, body, 'application/json');\n        decoders.QueryAggregateCallStatsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n}\n\nclass CallApi {\n    constructor(videoApi, type, id) {\n        this.videoApi = videoApi;\n        this.type = type;\n        this.id = id;\n    }\n    get(request) {\n        return this.videoApi.getCall({ id: this.id, type: this.type, ...request });\n    }\n    update(request) {\n        return this.videoApi.updateCall({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    getOrCreate(request) {\n        return this.videoApi.getOrCreateCall({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    blockUser(request) {\n        return this.videoApi.blockUser({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    delete(request) {\n        return this.videoApi.deleteCall({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    sendCallEvent(request) {\n        return this.videoApi.sendCallEvent({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    collectUserFeedback(request) {\n        return this.videoApi.collectUserFeedback({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    goLive(request) {\n        return this.videoApi.goLive({ id: this.id, type: this.type, ...request });\n    }\n    kickUser(request) {\n        return this.videoApi.kickUser({ id: this.id, type: this.type, ...request });\n    }\n    end() {\n        return this.videoApi.endCall({ id: this.id, type: this.type });\n    }\n    updateCallMembers(request) {\n        return this.videoApi.updateCallMembers({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    muteUsers(request) {\n        return this.videoApi.muteUsers({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    queryCallParticipants(request) {\n        return this.videoApi.queryCallParticipants({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    videoPin(request) {\n        return this.videoApi.videoPin({ id: this.id, type: this.type, ...request });\n    }\n    listRecordings() {\n        return this.videoApi.listRecordings({ id: this.id, type: this.type });\n    }\n    getCallReport(request) {\n        return this.videoApi.getCallReport({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    startRTMPBroadcasts(request) {\n        return this.videoApi.startRTMPBroadcasts({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    stopAllRTMPBroadcasts() {\n        return this.videoApi.stopAllRTMPBroadcasts({\n            id: this.id,\n            type: this.type,\n        });\n    }\n    stopRTMPBroadcast(request) {\n        return this.videoApi.stopRTMPBroadcast({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    startHLSBroadcasting() {\n        return this.videoApi.startHLSBroadcasting({ id: this.id, type: this.type });\n    }\n    startClosedCaptions(request) {\n        return this.videoApi.startClosedCaptions({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    startFrameRecording(request) {\n        return this.videoApi.startFrameRecording({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    startRecording(request) {\n        return this.videoApi.startRecording({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    startTranscription(request) {\n        return this.videoApi.startTranscription({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    stopHLSBroadcasting() {\n        return this.videoApi.stopHLSBroadcasting({ id: this.id, type: this.type });\n    }\n    stopClosedCaptions(request) {\n        return this.videoApi.stopClosedCaptions({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    stopFrameRecording() {\n        return this.videoApi.stopFrameRecording({ id: this.id, type: this.type });\n    }\n    stopLive(request) {\n        return this.videoApi.stopLive({ id: this.id, type: this.type, ...request });\n    }\n    stopRecording() {\n        return this.videoApi.stopRecording({ id: this.id, type: this.type });\n    }\n    stopTranscription(request) {\n        return this.videoApi.stopTranscription({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    listTranscriptions() {\n        return this.videoApi.listTranscriptions({ id: this.id, type: this.type });\n    }\n    unblockUser(request) {\n        return this.videoApi.unblockUser({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    videoUnpin(request) {\n        return this.videoApi.videoUnpin({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    updateUserPermissions(request) {\n        return this.videoApi.updateUserPermissions({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    deleteRecording(request) {\n        return this.videoApi.deleteRecording({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    deleteTranscription(request) {\n        return this.videoApi.deleteTranscription({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n}\n\nclass StreamCall extends CallApi {\n    constructor() {\n        super(...arguments);\n        this.create = (request) => this.getOrCreate(request);\n        this.queryMembers = (request) => {\n            return this.videoApi.queryCallMembers({\n                id: this.id,\n                type: this.type,\n                ...(request ?? {}),\n            });\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n}\n\nclass StreamVideoClient extends VideoApi {\n    constructor({ streamClient, apiClient, }) {\n        super(apiClient);\n        this.call = (type, id) => {\n            return new StreamCall(this, type, id);\n        };\n        this.connectOpenAi = async (options) => {\n            let doCreateRealtimeClient;\n            try {\n                doCreateRealtimeClient = (await __webpack_require__.e(/*! import() */ \"_9055\").then(__webpack_require__.t.bind(__webpack_require__, /*! @stream-io/openai-realtime-api */ \"?9055\", 19)))\n                    .createRealtimeClient;\n            }\n            catch {\n                throw new Error('Cannot create Realtime API client. Is @stream-io/openai-realtime-api installed?');\n            }\n            if (!options.agentUserId) {\n                throw new Error('\"agentUserId\" must by specified in options');\n            }\n            const token = this.streamClient.generateCallToken({\n                user_id: options.agentUserId,\n                call_cids: [options.call.cid],\n                validity_in_seconds: options.validityInSeconds,\n            });\n            const realtimeClient = doCreateRealtimeClient({\n                baseUrl: this.streamClient.apiClient.apiConfig.baseUrl,\n                call: options.call,\n                streamApiKey: this.streamClient.apiClient.apiConfig.apiKey,\n                streamUserToken: token,\n                openAiApiKey: options.openAiApiKey,\n                model: options.model,\n            });\n            await realtimeClient.connect();\n            return realtimeClient;\n        };\n        this.streamClient = streamClient;\n    }\n}\n\nclass ChatApi {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n    }\n    async queryCampaigns(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_limit: request?.user_limit,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/campaigns/query', undefined, undefined, body, 'application/json');\n        decoders.QueryCampaignsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getCampaign(request) {\n        const queryParams = {\n            prev: request?.prev,\n            next: request?.next,\n            limit: request?.limit,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/campaigns/{id}', pathParams, queryParams);\n        decoders.GetCampaignResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async startCampaign(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            scheduled_for: request?.scheduled_for,\n            stop_at: request?.stop_at,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/campaigns/{id}/start', pathParams, undefined, body, 'application/json');\n        decoders.StartCampaignResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async scheduleCampaign(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {};\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/campaigns/{id}/stop', pathParams, undefined, body, 'application/json');\n        decoders.CampaignResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryChannels(request) {\n        const body = {\n            limit: request?.limit,\n            member_limit: request?.member_limit,\n            message_limit: request?.message_limit,\n            offset: request?.offset,\n            state: request?.state,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter_conditions: request?.filter_conditions,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels', undefined, undefined, body, 'application/json');\n        decoders.QueryChannelsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteChannels(request) {\n        const body = {\n            cids: request?.cids,\n            hard_delete: request?.hard_delete,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/delete', undefined, undefined, body, 'application/json');\n        decoders.DeleteChannelsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async markChannelsRead(request) {\n        const body = {\n            user_id: request?.user_id,\n            read_by_channel: request?.read_by_channel,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/read', undefined, undefined, body, 'application/json');\n        decoders.MarkReadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOrCreateDistinctChannel(request) {\n        const pathParams = {\n            type: request?.type,\n        };\n        const body = {\n            hide_for_creator: request?.hide_for_creator,\n            state: request?.state,\n            thread_unread_counts: request?.thread_unread_counts,\n            data: request?.data,\n            members: request?.members,\n            messages: request?.messages,\n            watchers: request?.watchers,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/query', pathParams, undefined, body, 'application/json');\n        decoders.ChannelStateResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteChannel(request) {\n        const queryParams = {\n            hard_delete: request?.hard_delete,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}', pathParams, queryParams);\n        decoders.DeleteChannelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateChannelPartial(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            unset: request?.unset,\n            set: request?.set,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateChannelPartialResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateChannel(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            accept_invite: request?.accept_invite,\n            cooldown: request?.cooldown,\n            hide_history: request?.hide_history,\n            reject_invite: request?.reject_invite,\n            skip_push: request?.skip_push,\n            user_id: request?.user_id,\n            add_members: request?.add_members,\n            add_moderators: request?.add_moderators,\n            assign_roles: request?.assign_roles,\n            demote_moderators: request?.demote_moderators,\n            invites: request?.invites,\n            remove_members: request?.remove_members,\n            data: request?.data,\n            message: request?.message,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateChannelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteDraft(request) {\n        const queryParams = {\n            parent_id: request?.parent_id,\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/draft', pathParams, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getDraft(request) {\n        const queryParams = {\n            parent_id: request?.parent_id,\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/draft', pathParams, queryParams);\n        decoders.GetDraftResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async sendEvent(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            event: request?.event,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/event', pathParams, undefined, body, 'application/json');\n        decoders.EventResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteFile(request) {\n        const queryParams = {\n            url: request?.url,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/file', pathParams, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async uploadFile(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            file: request?.file,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/file', pathParams, undefined, body, 'multipart/form-data');\n        decoders.FileUploadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async hideChannel(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            clear_history: request?.clear_history,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/hide', pathParams, undefined, body, 'application/json');\n        decoders.HideChannelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteImage(request) {\n        const queryParams = {\n            url: request?.url,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/image', pathParams, queryParams);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async uploadImage(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            file: request?.file,\n            upload_sizes: request?.upload_sizes,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/image', pathParams, undefined, body, 'multipart/form-data');\n        decoders.ImageUploadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateMemberPartial(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            unset: request?.unset,\n            set: request?.set,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}/member', pathParams, queryParams, body, 'application/json');\n        decoders.UpdateMemberPartialResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async sendMessage(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            message: request?.message,\n            force_moderation: request?.force_moderation,\n            keep_channel_hidden: request?.keep_channel_hidden,\n            pending: request?.pending,\n            skip_enrich_url: request?.skip_enrich_url,\n            skip_push: request?.skip_push,\n            pending_message_metadata: request?.pending_message_metadata,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/message', pathParams, undefined, body, 'application/json');\n        decoders.SendMessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getManyMessages(request) {\n        const queryParams = {\n            ids: request?.ids,\n        };\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/messages', pathParams, queryParams);\n        decoders.GetManyMessagesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOrCreateChannel(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            hide_for_creator: request?.hide_for_creator,\n            state: request?.state,\n            thread_unread_counts: request?.thread_unread_counts,\n            data: request?.data,\n            members: request?.members,\n            messages: request?.messages,\n            watchers: request?.watchers,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/query', pathParams, undefined, body, 'application/json');\n        decoders.ChannelStateResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async markRead(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            message_id: request?.message_id,\n            thread_id: request?.thread_id,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/read', pathParams, undefined, body, 'application/json');\n        decoders.MarkReadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async showChannel(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/show', pathParams, undefined, body, 'application/json');\n        decoders.ShowChannelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async truncateChannel(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            hard_delete: request?.hard_delete,\n            skip_push: request?.skip_push,\n            truncated_at: request?.truncated_at,\n            user_id: request?.user_id,\n            member_ids: request?.member_ids,\n            message: request?.message,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/truncate', pathParams, undefined, body, 'application/json');\n        decoders.TruncateChannelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async markUnread(request) {\n        const pathParams = {\n            type: request?.type,\n            id: request?.id,\n        };\n        const body = {\n            message_id: request?.message_id,\n            thread_id: request?.thread_id,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/unread', pathParams, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listChannelTypes() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/channeltypes', undefined, undefined);\n        decoders.ListChannelTypesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createChannelType(request) {\n        const body = {\n            automod: request?.automod,\n            automod_behavior: request?.automod_behavior,\n            max_message_length: request?.max_message_length,\n            name: request?.name,\n            blocklist: request?.blocklist,\n            blocklist_behavior: request?.blocklist_behavior,\n            connect_events: request?.connect_events,\n            custom_events: request?.custom_events,\n            mark_messages_pending: request?.mark_messages_pending,\n            message_retention: request?.message_retention,\n            mutes: request?.mutes,\n            partition_size: request?.partition_size,\n            partition_ttl: request?.partition_ttl,\n            polls: request?.polls,\n            push_notifications: request?.push_notifications,\n            reactions: request?.reactions,\n            read_events: request?.read_events,\n            replies: request?.replies,\n            search: request?.search,\n            shared_locations: request?.shared_locations,\n            skip_last_msg_update_for_system_msgs: request?.skip_last_msg_update_for_system_msgs,\n            typing_events: request?.typing_events,\n            uploads: request?.uploads,\n            url_enrichment: request?.url_enrichment,\n            user_message_reminders: request?.user_message_reminders,\n            blocklists: request?.blocklists,\n            commands: request?.commands,\n            permissions: request?.permissions,\n            grants: request?.grants,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/channeltypes', undefined, undefined, body, 'application/json');\n        decoders.CreateChannelTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteChannelType(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getChannelType(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n        decoders.GetChannelTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateChannelType(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const body = {\n            automod: request?.automod,\n            automod_behavior: request?.automod_behavior,\n            max_message_length: request?.max_message_length,\n            blocklist: request?.blocklist,\n            blocklist_behavior: request?.blocklist_behavior,\n            connect_events: request?.connect_events,\n            count_messages: request?.count_messages,\n            custom_events: request?.custom_events,\n            mark_messages_pending: request?.mark_messages_pending,\n            mutes: request?.mutes,\n            partition_size: request?.partition_size,\n            partition_ttl: request?.partition_ttl,\n            polls: request?.polls,\n            push_notifications: request?.push_notifications,\n            quotes: request?.quotes,\n            reactions: request?.reactions,\n            read_events: request?.read_events,\n            reminders: request?.reminders,\n            replies: request?.replies,\n            search: request?.search,\n            shared_locations: request?.shared_locations,\n            skip_last_msg_update_for_system_msgs: request?.skip_last_msg_update_for_system_msgs,\n            typing_events: request?.typing_events,\n            uploads: request?.uploads,\n            url_enrichment: request?.url_enrichment,\n            user_message_reminders: request?.user_message_reminders,\n            allowed_flag_reasons: request?.allowed_flag_reasons,\n            blocklists: request?.blocklists,\n            commands: request?.commands,\n            permissions: request?.permissions,\n            automod_thresholds: request?.automod_thresholds,\n            grants: request?.grants,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/chat/channeltypes/{name}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateChannelTypeResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listCommands() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/commands', undefined, undefined);\n        decoders.ListCommandsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createCommand(request) {\n        const body = {\n            description: request?.description,\n            name: request?.name,\n            args: request?.args,\n            set: request?.set,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/commands', undefined, undefined, body, 'application/json');\n        decoders.CreateCommandResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteCommand(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/commands/{name}', pathParams, undefined);\n        decoders.DeleteCommandResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getCommand(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/commands/{name}', pathParams, undefined);\n        decoders.GetCommandResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateCommand(request) {\n        const pathParams = {\n            name: request?.name,\n        };\n        const body = {\n            description: request?.description,\n            args: request?.args,\n            set: request?.set,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/chat/commands/{name}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateCommandResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryDrafts(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/drafts/query', undefined, undefined, body, 'application/json');\n        decoders.QueryDraftsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async exportChannels(request) {\n        const body = {\n            channels: request?.channels,\n            clear_deleted_message_text: request?.clear_deleted_message_text,\n            export_users: request?.export_users,\n            include_soft_deleted_channels: request?.include_soft_deleted_channels,\n            include_truncated_messages: request?.include_truncated_messages,\n            version: request?.version,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/export_channels', undefined, undefined, body, 'application/json');\n        decoders.ExportChannelsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryMembers(request) {\n        const queryParams = {\n            payload: request?.payload,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/members', undefined, queryParams);\n        decoders.MembersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryMessageHistory(request) {\n        const body = {\n            filter: request?.filter,\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/history', undefined, undefined, body, 'application/json');\n        decoders.QueryMessageHistoryResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteMessage(request) {\n        const queryParams = {\n            hard: request?.hard,\n            deleted_by: request?.deleted_by,\n            delete_for_me: request?.delete_for_me,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n        decoders.DeleteMessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getMessage(request) {\n        const queryParams = {\n            show_deleted_message: request?.show_deleted_message,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n        decoders.GetMessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateMessage(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            message: request?.message,\n            skip_enrich_url: request?.skip_enrich_url,\n            skip_push: request?.skip_push,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateMessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateMessagePartial(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            skip_enrich_url: request?.skip_enrich_url,\n            user_id: request?.user_id,\n            unset: request?.unset,\n            set: request?.set,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/chat/messages/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateMessagePartialResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async runMessageAction(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            form_data: request?.form_data,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}/action', pathParams, undefined, body, 'application/json');\n        decoders.MessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async commitMessage(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {};\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}/commit', pathParams, undefined, body, 'application/json');\n        decoders.MessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async sendReaction(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            reaction: request?.reaction,\n            enforce_unique: request?.enforce_unique,\n            skip_push: request?.skip_push,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}/reaction', pathParams, undefined, body, 'application/json');\n        decoders.SendReactionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteReaction(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            id: request?.id,\n            type: request?.type,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/messages/{id}/reaction/{type}', pathParams, queryParams);\n        decoders.DeleteReactionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getReactions(request) {\n        const queryParams = {\n            limit: request?.limit,\n            offset: request?.offset,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/messages/{id}/reactions', pathParams, queryParams);\n        decoders.GetReactionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryReactions(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}/reactions', pathParams, undefined, body, 'application/json');\n        decoders.QueryReactionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async translateMessage(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            language: request?.language,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}/translate', pathParams, undefined, body, 'application/json');\n        decoders.MessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async undeleteMessage(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            message: request?.message,\n            skip_enrich_url: request?.skip_enrich_url,\n            skip_push: request?.skip_push,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{id}/undelete', pathParams, undefined, body, 'application/json');\n        decoders.UpdateMessageResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async castPollVote(request) {\n        const pathParams = {\n            message_id: request?.message_id,\n            poll_id: request?.poll_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            user: request?.user,\n            vote: request?.vote,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote', pathParams, undefined, body, 'application/json');\n        decoders.PollVoteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deletePollVote(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            message_id: request?.message_id,\n            poll_id: request?.poll_id,\n            vote_id: request?.vote_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote/{vote_id}', pathParams, queryParams);\n        decoders.PollVoteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteReminder(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            message_id: request?.message_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/reminders', pathParams, queryParams);\n        decoders.DeleteReminderResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateReminder(request) {\n        const pathParams = {\n            message_id: request?.message_id,\n        };\n        const body = {\n            remind_at: request?.remind_at,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/chat/messages/{message_id}/reminders', pathParams, undefined, body, 'application/json');\n        decoders.UpdateReminderResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createReminder(request) {\n        const pathParams = {\n            message_id: request?.message_id,\n        };\n        const body = {\n            remind_at: request?.remind_at,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/messages/{message_id}/reminders', pathParams, undefined, body, 'application/json');\n        decoders.ReminderResponseData?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getReplies(request) {\n        const queryParams = {\n            limit: request?.limit,\n            offset: request?.offset,\n            id_gte: request?.id_gte,\n            id_gt: request?.id_gt,\n            id_lte: request?.id_lte,\n            id_lt: request?.id_lt,\n            created_at_after_or_equal: request?.created_at_after_or_equal,\n            created_at_after: request?.created_at_after,\n            created_at_before_or_equal: request?.created_at_before_or_equal,\n            created_at_before: request?.created_at_before,\n            id_around: request?.id_around,\n            created_at_around: request?.created_at_around,\n            sort: request?.sort,\n        };\n        const pathParams = {\n            parent_id: request?.parent_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/messages/{parent_id}/replies', pathParams, queryParams);\n        decoders.GetRepliesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryMessageFlags(request) {\n        const queryParams = {\n            payload: request?.payload,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/moderation/flags/message', undefined, queryParams);\n        decoders.QueryMessageFlagsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async muteChannel(request) {\n        const body = {\n            expiration: request?.expiration,\n            user_id: request?.user_id,\n            channel_cids: request?.channel_cids,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/moderation/mute/channel', undefined, undefined, body, 'application/json');\n        decoders.MuteChannelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unmuteChannel(request) {\n        const body = {\n            expiration: request?.expiration,\n            user_id: request?.user_id,\n            channel_cids: request?.channel_cids,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/moderation/unmute/channel', undefined, undefined, body, 'application/json');\n        decoders.UnmuteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updatePushNotificationPreferences(request) {\n        const body = {\n            preferences: request?.preferences,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/push_preferences', undefined, undefined, body, 'application/json');\n        decoders.UpsertPushPreferencesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getPushTemplates(request) {\n        const queryParams = {\n            push_provider_type: request?.push_provider_type,\n            push_provider_name: request?.push_provider_name,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/push_templates', undefined, queryParams);\n        decoders.GetPushTemplatesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async upsertPushTemplate(request) {\n        const body = {\n            event_type: request?.event_type,\n            push_provider_type: request?.push_provider_type,\n            enable_push: request?.enable_push,\n            push_provider_name: request?.push_provider_name,\n            template: request?.template,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/push_templates', undefined, undefined, body, 'application/json');\n        decoders.UpsertPushTemplateResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryBannedUsers(request) {\n        const queryParams = {\n            payload: request?.payload,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/query_banned_users', undefined, queryParams);\n        decoders.QueryBannedUsersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryReminders(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/reminders/query', undefined, undefined, body, 'application/json');\n        decoders.QueryRemindersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async search(request) {\n        const queryParams = {\n            payload: request?.payload,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/search', undefined, queryParams);\n        decoders.SearchResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async querySegments(request) {\n        const body = {\n            filter: request?.filter,\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/segments/query', undefined, undefined, body, 'application/json');\n        decoders.QuerySegmentsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteSegment(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/chat/segments/{id}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getSegment(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/segments/{id}', pathParams, undefined);\n        decoders.GetSegmentResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteSegmentTargets(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            target_ids: request?.target_ids,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/segments/{id}/deletetargets', pathParams, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async segmentTargetExists(request) {\n        const pathParams = {\n            id: request?.id,\n            target_id: request?.target_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/segments/{id}/target/{target_id}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async querySegmentTargets(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/segments/{id}/targets/query', pathParams, undefined, body, 'application/json');\n        decoders.QuerySegmentTargetsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryThreads(request) {\n        const body = {\n            limit: request?.limit,\n            member_limit: request?.member_limit,\n            next: request?.next,\n            participant_limit: request?.participant_limit,\n            prev: request?.prev,\n            reply_limit: request?.reply_limit,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/threads', undefined, undefined, body, 'application/json');\n        decoders.QueryThreadsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getThread(request) {\n        const queryParams = {\n            reply_limit: request?.reply_limit,\n            participant_limit: request?.participant_limit,\n            member_limit: request?.member_limit,\n        };\n        const pathParams = {\n            message_id: request?.message_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/threads/{message_id}', pathParams, queryParams);\n        decoders.GetThreadResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateThreadPartial(request) {\n        const pathParams = {\n            message_id: request?.message_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            unset: request?.unset,\n            set: request?.set,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/chat/threads/{message_id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateThreadPartialResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unreadCounts() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/chat/unread', undefined, undefined);\n        decoders.WrappedUnreadCountsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unreadCountsBatch(request) {\n        const body = {\n            user_ids: request?.user_ids,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/unread_batch', undefined, undefined, body, 'application/json');\n        decoders.UnreadCountsBatchResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async sendUserCustomEvent(request) {\n        const pathParams = {\n            user_id: request?.user_id,\n        };\n        const body = {\n            event: request?.event,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/chat/users/{user_id}/event', pathParams, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n}\n\nclass ChannelApi {\n    constructor(chatApi, type, id) {\n        this.chatApi = chatApi;\n        this.type = type;\n        this.id = id;\n    }\n    delete(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.deleteChannel({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    updateChannelPartial(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.updateChannelPartial({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    update(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.updateChannel({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    deleteDraft(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.deleteDraft({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    getDraft(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.getDraft({ id: this.id, type: this.type, ...request });\n    }\n    sendEvent(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.sendEvent({ id: this.id, type: this.type, ...request });\n    }\n    deleteFile(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.deleteFile({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    uploadFile(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.uploadFile({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    hide(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.hideChannel({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    deleteImage(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.deleteImage({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    uploadImage(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.uploadImage({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    updateMemberPartial(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.updateMemberPartial({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    sendMessage(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.sendMessage({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    getManyMessages(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.getManyMessages({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    getOrCreate(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.getOrCreateChannel({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    markRead(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.markRead({ id: this.id, type: this.type, ...request });\n    }\n    show(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.showChannel({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    truncate(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.truncateChannel({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n    markUnread(request) {\n        if (!this.id) {\n            throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n        }\n        return this.chatApi.markUnread({\n            id: this.id,\n            type: this.type,\n            ...request,\n        });\n    }\n}\n\nclass StreamChannel extends ChannelApi {\n    constructor() {\n        super(...arguments);\n        this.getOrCreate = (channel_get_or_create_request) => {\n            if (!this.id) {\n                return this.chatApi\n                    .getOrCreateDistinctChannel({\n                    type: this.type,\n                    ...channel_get_or_create_request,\n                })\n                    .then((response) => {\n                    this.id = response.channel?.id;\n                    return response;\n                });\n            }\n            else {\n                return this.chatApi.getOrCreateChannel({\n                    id: this.id,\n                    type: this.type,\n                    ...channel_get_or_create_request,\n                });\n            }\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n    queryMembers(request) {\n        return this.chatApi.queryMembers({\n            payload: {\n                id: this.id,\n                type: this.type,\n                ...(request?.payload ?? { filter_conditions: {} }),\n            },\n        });\n    }\n}\n\nclass StreamChatClient extends ChatApi {\n    constructor() {\n        super(...arguments);\n        this.channel = (type, id) => {\n            return new StreamChannel(this, type, id);\n        };\n    }\n}\n\nclass ModerationApi {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n    }\n    async ban(request) {\n        const body = {\n            target_user_id: request?.target_user_id,\n            banned_by_id: request?.banned_by_id,\n            channel_cid: request?.channel_cid,\n            delete_messages: request?.delete_messages,\n            ip_ban: request?.ip_ban,\n            reason: request?.reason,\n            shadow: request?.shadow,\n            timeout: request?.timeout,\n            banned_by: request?.banned_by,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/ban', undefined, undefined, body, 'application/json');\n        decoders.BanResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async bulkImageModeration(request) {\n        const body = {\n            csv_file: request?.csv_file,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/bulk_image_moderation', undefined, undefined, body, 'application/json');\n        decoders.BulkImageModerationResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async check(request) {\n        const body = {\n            config_key: request?.config_key,\n            entity_creator_id: request?.entity_creator_id,\n            entity_id: request?.entity_id,\n            entity_type: request?.entity_type,\n            config_team: request?.config_team,\n            test_mode: request?.test_mode,\n            user_id: request?.user_id,\n            moderation_payload: request?.moderation_payload,\n            options: request?.options,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/check', undefined, undefined, body, 'application/json');\n        decoders.CheckResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async upsertConfig(request) {\n        const body = {\n            key: request?.key,\n            async: request?.async,\n            team: request?.team,\n            user_id: request?.user_id,\n            ai_image_config: request?.ai_image_config,\n            ai_text_config: request?.ai_text_config,\n            ai_video_config: request?.ai_video_config,\n            automod_platform_circumvention_config: request?.automod_platform_circumvention_config,\n            automod_semantic_filters_config: request?.automod_semantic_filters_config,\n            automod_toxicity_config: request?.automod_toxicity_config,\n            aws_rekognition_config: request?.aws_rekognition_config,\n            block_list_config: request?.block_list_config,\n            bodyguard_config: request?.bodyguard_config,\n            google_vision_config: request?.google_vision_config,\n            llm_config: request?.llm_config,\n            rule_builder_config: request?.rule_builder_config,\n            user: request?.user,\n            velocity_filter_config: request?.velocity_filter_config,\n            video_call_rule_config: request?.video_call_rule_config,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/config', undefined, undefined, body, 'application/json');\n        decoders.UpsertConfigResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteConfig(request) {\n        const queryParams = {\n            team: request?.team,\n        };\n        const pathParams = {\n            key: request?.key,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/moderation/config/{key}', pathParams, queryParams);\n        decoders.DeleteModerationConfigResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getConfig(request) {\n        const queryParams = {\n            team: request?.team,\n        };\n        const pathParams = {\n            key: request?.key,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/moderation/config/{key}', pathParams, queryParams);\n        decoders.GetConfigResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryModerationConfigs(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/configs', undefined, undefined, body, 'application/json');\n        decoders.QueryModerationConfigsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async customCheck(request) {\n        const body = {\n            entity_id: request?.entity_id,\n            entity_type: request?.entity_type,\n            flags: request?.flags,\n            entity_creator_id: request?.entity_creator_id,\n            user_id: request?.user_id,\n            moderation_payload: request?.moderation_payload,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/custom_check', undefined, undefined, body, 'application/json');\n        decoders.CustomCheckResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async v2DeleteTemplate() {\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n        decoders.DeleteModerationTemplateResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async v2QueryTemplates() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n        decoders.QueryFeedModerationTemplatesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async v2UpsertTemplate(request) {\n        const body = {\n            name: request?.name,\n            config: request?.config,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/feeds_moderation_template', undefined, undefined, body, 'application/json');\n        decoders.UpsertModerationTemplateResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async flag(request) {\n        const body = {\n            entity_id: request?.entity_id,\n            entity_type: request?.entity_type,\n            entity_creator_id: request?.entity_creator_id,\n            reason: request?.reason,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            moderation_payload: request?.moderation_payload,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/flag', undefined, undefined, body, 'application/json');\n        decoders.FlagResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryModerationFlags(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/flags', undefined, undefined, body, 'application/json');\n        decoders.QueryModerationFlagsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryModerationLogs(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/logs', undefined, undefined, body, 'application/json');\n        decoders.QueryModerationLogsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async mute(request) {\n        const body = {\n            target_ids: request?.target_ids,\n            timeout: request?.timeout,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/mute', undefined, undefined, body, 'application/json');\n        decoders.MuteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryReviewQueue(request) {\n        const body = {\n            limit: request?.limit,\n            lock_count: request?.lock_count,\n            lock_duration: request?.lock_duration,\n            lock_items: request?.lock_items,\n            next: request?.next,\n            prev: request?.prev,\n            stats_only: request?.stats_only,\n            user_id: request?.user_id,\n            sort: request?.sort,\n            filter: request?.filter,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/review_queue', undefined, undefined, body, 'application/json');\n        decoders.QueryReviewQueueResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getReviewQueueItem(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/moderation/review_queue/{id}', pathParams, undefined);\n        decoders.GetReviewQueueItemResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async submitAction(request) {\n        const body = {\n            action_type: request?.action_type,\n            item_id: request?.item_id,\n            user_id: request?.user_id,\n            ban: request?.ban,\n            custom: request?.custom,\n            delete_activity: request?.delete_activity,\n            delete_message: request?.delete_message,\n            delete_reaction: request?.delete_reaction,\n            delete_user: request?.delete_user,\n            mark_reviewed: request?.mark_reviewed,\n            unban: request?.unban,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/submit_action', undefined, undefined, body, 'application/json');\n        decoders.SubmitActionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unban(request) {\n        const queryParams = {\n            target_user_id: request?.target_user_id,\n            channel_cid: request?.channel_cid,\n            created_by: request?.created_by,\n        };\n        const body = {\n            unbanned_by_id: request?.unbanned_by_id,\n            unbanned_by: request?.unbanned_by,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/unban', undefined, queryParams, body, 'application/json');\n        decoders.UnbanResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unmute(request) {\n        const body = {\n            target_ids: request?.target_ids,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/moderation/unmute', undefined, undefined, body, 'application/json');\n        decoders.UnmuteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n}\n\nclass StreamModerationClient extends ModerationApi {\n}\n\nclass StreamError extends Error {\n    constructor(message, metadata, code, errorOptions) {\n        super(message, errorOptions);\n        this.metadata = metadata;\n        this.code = code;\n    }\n}\n\nconst getRateLimitFromResponseHeader = (responseHeaders) => {\n    const rateLimit = responseHeaders.has('x-ratelimit-limit')\n        ? +responseHeaders.get('x-ratelimit-limit')\n        : undefined;\n    const rateLimitRemaining = responseHeaders.has('x-ratelimit-remaining')\n        ? +responseHeaders.get('x-ratelimit-remaining')\n        : undefined;\n    const rateLimitReset = responseHeaders.has('x-ratelimit-reset')\n        ? new Date(+responseHeaders.get('x-ratelimit-reset') * 1000)\n        : undefined;\n    const result = {\n        rateLimit,\n        rateLimitRemaining,\n        rateLimitReset,\n    };\n    return result;\n};\n\nclass ApiClient {\n    constructor(apiConfig) {\n        this.apiConfig = apiConfig;\n        /**\n         *\n         * @internal\n         */\n        this.sendRequest = async (method, url, pathParams, queryParams, body, requestContentType) => {\n            queryParams = queryParams ?? {};\n            queryParams.api_key = this.apiConfig.apiKey;\n            const encodedParams = this.queryParamsStringify(queryParams);\n            if (pathParams) {\n                Object.keys(pathParams).forEach((paramName) => {\n                    url = url.replace(`{${paramName}}`, pathParams[paramName]);\n                });\n            }\n            url += `?${encodedParams}`;\n            const clientRequestId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const headers = {\n                Authorization: this.apiConfig.token,\n                'stream-auth-type': 'jwt',\n                'X-Stream-Client': 'stream-node-' + \"0.6.2\",\n                'Accept-Encoding': 'gzip',\n                'x-client-request-id': clientRequestId,\n            };\n            // https://stackoverflow.com/questions/39280438/fetch-missing-boundary-in-multipart-form-data-post\n            if (requestContentType !== 'multipart/form-data') {\n                headers['Content-Type'] = requestContentType ?? 'application/json';\n            }\n            const signal = AbortSignal.timeout(this.apiConfig.timeout);\n            const encodedBody = requestContentType === 'multipart/form-data'\n                ? new FormData()\n                : JSON.stringify(body);\n            if (requestContentType === 'multipart/form-data') {\n                Object.keys(body).forEach((key) => {\n                    encodedBody.append(key, body[key]);\n                });\n            }\n            try {\n                const response = await fetch(`${this.apiConfig.baseUrl}${url}`, {\n                    signal: requestContentType === 'multipart/form-data' ? undefined : signal,\n                    method,\n                    body: encodedBody,\n                    headers,\n                    dispatcher: this.dispatcher,\n                });\n                const responseHeaders = response.headers;\n                const metadata = {\n                    clientRequestId,\n                    responseHeaders,\n                    responseCode: response.status,\n                    rateLimit: getRateLimitFromResponseHeader(responseHeaders),\n                };\n                if (response.status < 200 || response.status >= 300) {\n                    let error;\n                    try {\n                        error = (await response.json());\n                    }\n                    catch (_) {\n                        throw new StreamError(`Stream error: ${response.status} - ${response.statusText}`, metadata, response.status);\n                    }\n                    throw new StreamError(`Stream error code ${error.code}: ${error.message}`, metadata, error.code, undefined);\n                }\n                const responseBody = (await response.json());\n                return { body: responseBody, metadata };\n            }\n            catch (error) {\n                if (error instanceof StreamError) {\n                    throw error;\n                }\n                const metadata = {\n                    clientRequestId,\n                    responseCode: error.status,\n                };\n                if (error.name === 'AbortError' || error.name === 'TimeoutError') {\n                    throw new StreamError(`The request was aborted due to to the ${this.apiConfig.timeout}ms timeout, you can set the timeout in the StreamClient constructor`, metadata, undefined, error);\n                }\n                else {\n                    throw new StreamError(`The request failed due to an unexpected error`, metadata, error);\n                }\n            }\n        };\n        this.queryParamsStringify = (params) => {\n            const newParams = [];\n            for (const k in params) {\n                const param = params[k];\n                if (Array.isArray(param)) {\n                    newParams.push(`${k}=${encodeURIComponent(param.join(','))}`);\n                }\n                else if (param instanceof Date) {\n                    newParams.push(param.toISOString());\n                }\n                else if (typeof param === 'object') {\n                    newParams.push(`${k}=${encodeURIComponent(JSON.stringify(param))}`);\n                }\n                else {\n                    if (typeof param === 'string' ||\n                        typeof param === 'number' ||\n                        typeof param === 'boolean') {\n                        newParams.push(`${k}=${encodeURIComponent(param)}`);\n                    }\n                }\n            }\n            return newParams.join('&');\n        };\n        this.dispatcher = this.apiConfig.agent;\n    }\n}\n\nclass FeedsApi {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n    }\n    async addActivity(request) {\n        const body = {\n            type: request?.type,\n            feeds: request?.feeds,\n            expires_at: request?.expires_at,\n            id: request?.id,\n            parent_id: request?.parent_id,\n            poll_id: request?.poll_id,\n            text: request?.text,\n            user_id: request?.user_id,\n            visibility: request?.visibility,\n            visibility_tag: request?.visibility_tag,\n            attachments: request?.attachments,\n            filter_tags: request?.filter_tags,\n            interest_tags: request?.interest_tags,\n            mentioned_user_ids: request?.mentioned_user_ids,\n            custom: request?.custom,\n            location: request?.location,\n            search_data: request?.search_data,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities', undefined, undefined, body, 'application/json');\n        decoders.AddActivityResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async upsertActivities(request) {\n        const body = {\n            activities: request?.activities,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/batch', undefined, undefined, body, 'application/json');\n        decoders.UpsertActivitiesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteActivities(request) {\n        const body = {\n            ids: request?.ids,\n            hard_delete: request?.hard_delete,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/delete', undefined, undefined, body, 'application/json');\n        decoders.DeleteActivitiesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryActivities(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/query', undefined, undefined, body, 'application/json');\n        decoders.QueryActivitiesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteBookmark(request) {\n        const queryParams = {\n            folder_id: request?.folder_id,\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            activity_id: request?.activity_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/activities/{activity_id}/bookmarks', pathParams, queryParams);\n        decoders.DeleteBookmarkResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateBookmark(request) {\n        const pathParams = {\n            activity_id: request?.activity_id,\n        };\n        const body = {\n            folder_id: request?.folder_id,\n            new_folder_id: request?.new_folder_id,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            new_folder: request?.new_folder,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/activities/{activity_id}/bookmarks', pathParams, undefined, body, 'application/json');\n        decoders.UpdateBookmarkResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async addBookmark(request) {\n        const pathParams = {\n            activity_id: request?.activity_id,\n        };\n        const body = {\n            folder_id: request?.folder_id,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            new_folder: request?.new_folder,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/{activity_id}/bookmarks', pathParams, undefined, body, 'application/json');\n        decoders.AddBookmarkResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async activityFeedback(request) {\n        const pathParams = {\n            activity_id: request?.activity_id,\n        };\n        const body = {\n            hide: request?.hide,\n            mute_user: request?.mute_user,\n            reason: request?.reason,\n            report: request?.report,\n            show_less: request?.show_less,\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/{activity_id}/feedback', pathParams, undefined, body, 'application/json');\n        decoders.ActivityFeedbackResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async castPollVote(request) {\n        const pathParams = {\n            activity_id: request?.activity_id,\n            poll_id: request?.poll_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            user: request?.user,\n            vote: request?.vote,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/{activity_id}/polls/{poll_id}/vote', pathParams, undefined, body, 'application/json');\n        decoders.PollVoteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deletePollVote(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            activity_id: request?.activity_id,\n            poll_id: request?.poll_id,\n            vote_id: request?.vote_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/activities/{activity_id}/polls/{poll_id}/vote/{vote_id}', pathParams, queryParams);\n        decoders.PollVoteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async addReaction(request) {\n        const pathParams = {\n            activity_id: request?.activity_id,\n        };\n        const body = {\n            type: request?.type,\n            create_notification_activity: request?.create_notification_activity,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/{activity_id}/reactions', pathParams, undefined, body, 'application/json');\n        decoders.AddReactionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryActivityReactions(request) {\n        const pathParams = {\n            activity_id: request?.activity_id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/activities/{activity_id}/reactions/query', pathParams, undefined, body, 'application/json');\n        decoders.QueryActivityReactionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteActivityReaction(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            activity_id: request?.activity_id,\n            type: request?.type,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/activities/{activity_id}/reactions/{type}', pathParams, queryParams);\n        decoders.DeleteActivityReactionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteActivity(request) {\n        const queryParams = {\n            hard_delete: request?.hard_delete,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/activities/{id}', pathParams, queryParams);\n        decoders.DeleteActivityResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getActivity(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/activities/{id}', pathParams, undefined);\n        decoders.GetActivityResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateActivityPartial(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            unset: request?.unset,\n            set: request?.set,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/activities/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateActivityPartialResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateActivity(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            expires_at: request?.expires_at,\n            poll_id: request?.poll_id,\n            text: request?.text,\n            user_id: request?.user_id,\n            visibility: request?.visibility,\n            attachments: request?.attachments,\n            filter_tags: request?.filter_tags,\n            interest_tags: request?.interest_tags,\n            custom: request?.custom,\n            location: request?.location,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/feeds/activities/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateActivityResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryBookmarkFolders(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/bookmark_folders/query', undefined, undefined, body, 'application/json');\n        decoders.QueryBookmarkFoldersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteBookmarkFolder(request) {\n        const pathParams = {\n            folder_id: request?.folder_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/bookmark_folders/{folder_id}', pathParams, undefined);\n        decoders.DeleteBookmarkFolderResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateBookmarkFolder(request) {\n        const pathParams = {\n            folder_id: request?.folder_id,\n        };\n        const body = {\n            name: request?.name,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/bookmark_folders/{folder_id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateBookmarkFolderResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryBookmarks(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/bookmarks/query', undefined, undefined, body, 'application/json');\n        decoders.QueryBookmarksResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getComments(request) {\n        const queryParams = {\n            object_id: request?.object_id,\n            object_type: request?.object_type,\n            depth: request?.depth,\n            sort: request?.sort,\n            replies_limit: request?.replies_limit,\n            limit: request?.limit,\n            prev: request?.prev,\n            next: request?.next,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/comments', undefined, queryParams);\n        decoders.GetCommentsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async addComment(request) {\n        const body = {\n            comment: request?.comment,\n            object_id: request?.object_id,\n            object_type: request?.object_type,\n            create_notification_activity: request?.create_notification_activity,\n            parent_id: request?.parent_id,\n            user_id: request?.user_id,\n            attachments: request?.attachments,\n            mentioned_user_ids: request?.mentioned_user_ids,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/comments', undefined, undefined, body, 'application/json');\n        decoders.AddCommentResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async addCommentsBatch(request) {\n        const body = {\n            comments: request?.comments,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/comments/batch', undefined, undefined, body, 'application/json');\n        decoders.AddCommentsBatchResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryComments(request) {\n        const body = {\n            filter: request?.filter,\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/comments/query', undefined, undefined, body, 'application/json');\n        decoders.QueryCommentsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteComment(request) {\n        const queryParams = {\n            hard_delete: request?.hard_delete,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/comments/{id}', pathParams, queryParams);\n        decoders.DeleteCommentResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getComment(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/comments/{id}', pathParams, undefined);\n        decoders.GetCommentResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateComment(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            comment: request?.comment,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/comments/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateCommentResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async addCommentReaction(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            type: request?.type,\n            create_notification_activity: request?.create_notification_activity,\n            user_id: request?.user_id,\n            custom: request?.custom,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/comments/{id}/reactions', pathParams, undefined, body, 'application/json');\n        decoders.AddCommentReactionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryCommentReactions(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/comments/{id}/reactions/query', pathParams, undefined, body, 'application/json');\n        decoders.QueryCommentReactionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteCommentReaction(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            id: request?.id,\n            type: request?.type,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/comments/{id}/reactions/{type}', pathParams, queryParams);\n        decoders.DeleteCommentReactionResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getCommentReplies(request) {\n        const queryParams = {\n            depth: request?.depth,\n            sort: request?.sort,\n            replies_limit: request?.replies_limit,\n            limit: request?.limit,\n            prev: request?.prev,\n            next: request?.next,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/comments/{id}/replies', pathParams, queryParams);\n        decoders.GetCommentRepliesResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listFeedGroups() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/feed_groups', undefined, undefined);\n        decoders.ListFeedGroupsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createFeedGroup(request) {\n        const body = {\n            id: request?.id,\n            default_visibility: request?.default_visibility,\n            activity_processors: request?.activity_processors,\n            activity_selectors: request?.activity_selectors,\n            aggregation: request?.aggregation,\n            custom: request?.custom,\n            notification: request?.notification,\n            ranking: request?.ranking,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups', undefined, undefined, body, 'application/json');\n        decoders.CreateFeedGroupResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteFeed(request) {\n        const queryParams = {\n            hard_delete: request?.hard_delete,\n        };\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}', pathParams, queryParams);\n        decoders.DeleteFeedResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOrCreateFeed(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            user_id: request?.user_id,\n            view: request?.view,\n            watch: request?.watch,\n            activity_selector_options: request?.activity_selector_options,\n            data: request?.data,\n            external_ranking: request?.external_ranking,\n            filter: request?.filter,\n            followers_pagination: request?.followers_pagination,\n            following_pagination: request?.following_pagination,\n            interest_weights: request?.interest_weights,\n            member_pagination: request?.member_pagination,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}', pathParams, undefined, body, 'application/json');\n        decoders.GetOrCreateFeedResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateFeed(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const body = {\n            created_by_id: request?.created_by_id,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateFeedResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async markActivity(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const body = {\n            mark_all_read: request?.mark_all_read,\n            mark_all_seen: request?.mark_all_seen,\n            user_id: request?.user_id,\n            mark_read: request?.mark_read,\n            mark_seen: request?.mark_seen,\n            mark_watched: request?.mark_watched,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/activities/mark/batch', pathParams, undefined, body, 'application/json');\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unpinActivity(request) {\n        const queryParams = {\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n            activity_id: request?.activity_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/activities/{activity_id}/pin', pathParams, queryParams);\n        decoders.UnpinActivityResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async pinActivity(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n            activity_id: request?.activity_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/activities/{activity_id}/pin', pathParams, undefined, body, 'application/json');\n        decoders.PinActivityResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateFeedMembers(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const body = {\n            operation: request?.operation,\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            members: request?.members,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members', pathParams, undefined, body, 'application/json');\n        decoders.UpdateFeedMembersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async acceptFeedMemberInvite(request) {\n        const pathParams = {\n            feed_id: request?.feed_id,\n            feed_group_id: request?.feed_group_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members/accept', pathParams, undefined, body, 'application/json');\n        decoders.AcceptFeedMemberInviteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryFeedMembers(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members/query', pathParams, undefined, body, 'application/json');\n        decoders.QueryFeedMembersResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async rejectFeedMemberInvite(request) {\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n            feed_id: request?.feed_id,\n        };\n        const body = {\n            user_id: request?.user_id,\n            user: request?.user,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members/reject', pathParams, undefined, body, 'application/json');\n        decoders.RejectFeedMemberInviteResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getFollowSuggestions(request) {\n        const queryParams = {\n            limit: request?.limit,\n            user_id: request?.user_id,\n        };\n        const pathParams = {\n            feed_group_id: request?.feed_group_id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/feed_groups/{feed_group_id}/follow_suggestions', pathParams, queryParams);\n        decoders.GetFollowSuggestionsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteFeedGroup(request) {\n        const queryParams = {\n            hard_delete: request?.hard_delete,\n        };\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/feed_groups/{id}', pathParams, queryParams);\n        decoders.DeleteFeedGroupResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getFeedGroup(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/feed_groups/{id}', pathParams, undefined);\n        decoders.GetFeedGroupResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOrCreateFeedGroup(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            default_visibility: request?.default_visibility,\n            activity_processors: request?.activity_processors,\n            activity_selectors: request?.activity_selectors,\n            aggregation: request?.aggregation,\n            custom: request?.custom,\n            notification: request?.notification,\n            ranking: request?.ranking,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_groups/{id}', pathParams, undefined, body, 'application/json');\n        decoders.GetOrCreateFeedGroupResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateFeedGroup(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            activity_processors: request?.activity_processors,\n            activity_selectors: request?.activity_selectors,\n            aggregation: request?.aggregation,\n            custom: request?.custom,\n            notification: request?.notification,\n            ranking: request?.ranking,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/feeds/feed_groups/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateFeedGroupResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async listFeedViews() {\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/feed_views', undefined, undefined);\n        decoders.ListFeedViewsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createFeedView(request) {\n        const body = {\n            id: request?.id,\n            activity_processors: request?.activity_processors,\n            activity_selectors: request?.activity_selectors,\n            aggregation: request?.aggregation,\n            ranking: request?.ranking,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_views', undefined, undefined, body, 'application/json');\n        decoders.CreateFeedViewResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteFeedView(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/feed_views/{id}', pathParams, undefined);\n        decoders.DeleteFeedViewResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getFeedView(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('GET', '/api/v2/feeds/feed_views/{id}', pathParams, undefined);\n        decoders.GetFeedViewResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async getOrCreateFeedView(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            activity_processors: request?.activity_processors,\n            activity_selectors: request?.activity_selectors,\n            aggregation: request?.aggregation,\n            ranking: request?.ranking,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feed_views/{id}', pathParams, undefined, body, 'application/json');\n        decoders.GetOrCreateFeedViewResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateFeedView(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            activity_processors: request?.activity_processors,\n            activity_selectors: request?.activity_selectors,\n            aggregation: request?.aggregation,\n            ranking: request?.ranking,\n        };\n        const response = await this.apiClient.sendRequest('PUT', '/api/v2/feeds/feed_views/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateFeedViewResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createFeedsBatch(request) {\n        const body = {\n            feeds: request?.feeds,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feeds/batch', undefined, undefined, body, 'application/json');\n        decoders.CreateFeedsBatchResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async _queryFeeds(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            watch: request?.watch,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/feeds/query', undefined, undefined, body, 'application/json');\n        decoders.QueryFeedsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateFollow(request) {\n        const body = {\n            source: request?.source,\n            target: request?.target,\n            create_notification_activity: request?.create_notification_activity,\n            follower_role: request?.follower_role,\n            push_preference: request?.push_preference,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/follows', undefined, undefined, body, 'application/json');\n        decoders.UpdateFollowResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async follow(request) {\n        const body = {\n            source: request?.source,\n            target: request?.target,\n            create_notification_activity: request?.create_notification_activity,\n            push_preference: request?.push_preference,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/follows', undefined, undefined, body, 'application/json');\n        decoders.SingleFollowResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async acceptFollow(request) {\n        const body = {\n            source: request?.source,\n            target: request?.target,\n            follower_role: request?.follower_role,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/follows/accept', undefined, undefined, body, 'application/json');\n        decoders.AcceptFollowResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async followBatch(request) {\n        const body = {\n            follows: request?.follows,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/follows/batch', undefined, undefined, body, 'application/json');\n        decoders.FollowBatchResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryFollows(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/follows/query', undefined, undefined, body, 'application/json');\n        decoders.QueryFollowsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async rejectFollow(request) {\n        const body = {\n            source: request?.source,\n            target: request?.target,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/follows/reject', undefined, undefined, body, 'application/json');\n        decoders.RejectFollowResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unfollow(request) {\n        const pathParams = {\n            source: request?.source,\n            target: request?.target,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/follows/{source}/{target}', pathParams, undefined);\n        decoders.UnfollowResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async createMembershipLevel(request) {\n        const body = {\n            id: request?.id,\n            name: request?.name,\n            description: request?.description,\n            priority: request?.priority,\n            tags: request?.tags,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/membership_levels', undefined, undefined, body, 'application/json');\n        decoders.CreateMembershipLevelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async queryMembershipLevels(request) {\n        const body = {\n            limit: request?.limit,\n            next: request?.next,\n            prev: request?.prev,\n            sort: request?.sort,\n            filter: request?.filter,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/membership_levels/query', undefined, undefined, body, 'application/json');\n        decoders.QueryMembershipLevelsResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteMembershipLevel(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/membership_levels/{id}', pathParams, undefined);\n        decoders.Response?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async updateMembershipLevel(request) {\n        const pathParams = {\n            id: request?.id,\n        };\n        const body = {\n            description: request?.description,\n            name: request?.name,\n            priority: request?.priority,\n            tags: request?.tags,\n            custom: request?.custom,\n        };\n        const response = await this.apiClient.sendRequest('PATCH', '/api/v2/feeds/membership_levels/{id}', pathParams, undefined, body, 'application/json');\n        decoders.UpdateMembershipLevelResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async unfollowBatch(request) {\n        const body = {\n            follows: request?.follows,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/unfollow/batch', undefined, undefined, body, 'application/json');\n        decoders.UnfollowBatchResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async deleteFeedUserData(request) {\n        const pathParams = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('DELETE', '/api/v2/feeds/users/{user_id}/delete', pathParams, undefined);\n        decoders.DeleteFeedUserDataResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n    async exportFeedUserData(request) {\n        const pathParams = {\n            user_id: request?.user_id,\n        };\n        const response = await this.apiClient.sendRequest('POST', '/api/v2/feeds/users/{user_id}/export', pathParams, undefined);\n        decoders.ExportFeedUserDataResponse?.(response.body);\n        return { ...response.body, metadata: response.metadata };\n    }\n}\n\nclass FeedApi {\n    constructor(feedsApi, group, id) {\n        this.feedsApi = feedsApi;\n        this.group = group;\n        this.id = id;\n    }\n    delete(request) {\n        return this.feedsApi.deleteFeed({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    getOrCreate(request) {\n        return this.feedsApi.getOrCreateFeed({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    update(request) {\n        return this.feedsApi.updateFeed({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    markActivity(request) {\n        return this.feedsApi.markActivity({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    unpinActivity(request) {\n        return this.feedsApi.unpinActivity({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    pinActivity(request) {\n        return this.feedsApi.pinActivity({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    updateFeedMembers(request) {\n        return this.feedsApi.updateFeedMembers({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    acceptFeedMemberInvite(request) {\n        return this.feedsApi.acceptFeedMemberInvite({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    queryFeedMembers(request) {\n        return this.feedsApi.queryFeedMembers({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n    rejectFeedMemberInvite(request) {\n        return this.feedsApi.rejectFeedMemberInvite({\n            feed_id: this.id,\n            feed_group_id: this.group,\n            ...request,\n        });\n    }\n}\n\nclass StreamFeed extends FeedApi {\n    get feed() {\n        return `${this.group}:${this.id}`;\n    }\n}\n\nclass StreamFeedsClient extends FeedsApi {\n    constructor() {\n        super(...arguments);\n        this.feed = (group, id) => {\n            return new StreamFeed(this, group, id);\n        };\n        this.queryFeeds = (request) => {\n            return super._queryFeeds(request);\n        };\n    }\n}\n\nclass StreamClient extends CommonApi {\n    /**\n     *\n     * @param apiKey\n     * @param secret\n     * @param config config object\n     */\n    constructor(apiKey, secret, config) {\n        const token = JWTServerToken(secret);\n        const timeout = config?.timeout ?? StreamClient.DEFAULT_TIMEOUT;\n        const chatBaseUrl = config?.basePath ?? 'https://chat.stream-io-api.com';\n        const videoBaseUrl = config?.basePath ?? 'https://video.stream-io-api.com';\n        const feedsBaseUrl = config?.basePath ?? 'https://feeds.stream-io-api.com';\n        const chatApiClient = new ApiClient({\n            apiKey,\n            token,\n            baseUrl: chatBaseUrl,\n            timeout,\n            agent: config?.agent,\n        });\n        const videoApiClient = new ApiClient({\n            apiKey,\n            token,\n            baseUrl: videoBaseUrl,\n            timeout,\n            agent: config?.agent,\n        });\n        const feedsApiClient = new ApiClient({\n            apiKey,\n            token,\n            baseUrl: feedsBaseUrl,\n            timeout,\n            agent: config?.agent,\n        });\n        super(chatApiClient);\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.config = config;\n        this.options = {};\n        this.upsertUsers = (users) => {\n            const payload = {};\n            users.forEach((u) => {\n                payload[u.id] = u;\n            });\n            return this.updateUsers({ users: payload });\n        };\n        this.queryBannedUsers = (request) => {\n            return this.chat.queryBannedUsers(request);\n        };\n        // @ts-expect-error API spec says file should be a string\n        this.uploadFile = (request) => {\n            return super.uploadFile({\n                // @ts-expect-error API spec says file should be a string\n                file: request.file,\n                // @ts-expect-error form data will only work if this is a string\n                user: JSON.stringify(request.user),\n            });\n        };\n        // @ts-expect-error API spec says file should be a string\n        this.uploadImage = (request) => {\n            return super.uploadImage({\n                // @ts-expect-error API spec says file should be a string\n                file: request.file,\n                // @ts-expect-error form data will only work if this is a string\n                user: JSON.stringify(request.user),\n                // @ts-expect-error form data will only work if this is a string\n                upload_sizes: JSON.stringify(request.upload_sizes),\n            });\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateUserToken = (payload) => {\n            const defaultIat = Math.floor((Date.now() - 1000) / 1000);\n            payload.iat = payload.iat ?? defaultIat;\n            const validityInSeconds = payload.validity_in_seconds ?? 60 * 60;\n            payload.exp = payload.exp ?? payload.iat + validityInSeconds;\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateCallToken = (payload) => {\n            return this.generateUserToken(payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param exp\n         * @param iat deprecated, the default date will be set internally\n         * @returns\n         *\n         * @deprecated use generateUserToken instead\n         */\n        this.createToken = (userID, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                user_id: userID,\n                exp,\n                iat,\n            };\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param call_cids\n         * @param exp\n         * @param iat this is deprecated, the current date will be set internally\n         * @returns\n         *\n         * @deprecated use generateCallToken instead\n         */\n        this.createCallToken = (userIdOrObject, call_cids, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                exp,\n                iat,\n                call_cids,\n                user_id: typeof userIdOrObject === 'string'\n                    ? userIdOrObject\n                    : userIdOrObject.user_id,\n            };\n            if (typeof userIdOrObject === 'object' && userIdOrObject.role) {\n                payload.role = userIdOrObject.role;\n            }\n            return JWTUserToken(this.secret, payload);\n        };\n        this.verifyWebhook = (requestBody, xSignature) => {\n            const key = Buffer.from(this.secret, 'utf8');\n            const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHmac('sha256', key)\n                .update(requestBody)\n                .digest('hex');\n            try {\n                return crypto__WEBPACK_IMPORTED_MODULE_1__.timingSafeEqual(Buffer.from(hash), Buffer.from(xSignature));\n            }\n            catch (err) {\n                return false;\n            }\n        };\n        this.video = new StreamVideoClient({\n            streamClient: this,\n            apiClient: videoApiClient,\n        });\n        this.chat = new StreamChatClient(this.apiClient);\n        this.moderation = new StreamModerationClient(chatApiClient);\n        this.feeds = new StreamFeedsClient(feedsApiClient);\n    }\n}\nStreamClient.DEFAULT_TIMEOUT = 3000;\n\nconst ChannelOwnCapability = {\n    BAN_CHANNEL_MEMBERS: 'ban-channel-members',\n    CAST_POLL_VOTE: 'cast-poll-vote',\n    CONNECT_EVENTS: 'connect-events',\n    CREATE_ATTACHMENT: 'create-attachment',\n    DELETE_ANY_MESSAGE: 'delete-any-message',\n    DELETE_CHANNEL: 'delete-channel',\n    DELETE_OWN_MESSAGE: 'delete-own-message',\n    FLAG_MESSAGE: 'flag-message',\n    FREEZE_CHANNEL: 'freeze-channel',\n    JOIN_CHANNEL: 'join-channel',\n    LEAVE_CHANNEL: 'leave-channel',\n    MUTE_CHANNEL: 'mute-channel',\n    PIN_MESSAGE: 'pin-message',\n    QUERY_POLL_VOTES: 'query-poll-votes',\n    QUOTE_MESSAGE: 'quote-message',\n    READ_EVENTS: 'read-events',\n    SEARCH_MESSAGES: 'search-messages',\n    SEND_CUSTOM_EVENTS: 'send-custom-events',\n    SEND_LINKS: 'send-links',\n    SEND_MESSAGE: 'send-message',\n    SEND_POLL: 'send-poll',\n    SEND_REACTION: 'send-reaction',\n    SEND_REPLY: 'send-reply',\n    SEND_RESTRICTED_VISIBILITY_MESSAGE: 'send-restricted-visibility-message',\n    SEND_TYPING_EVENTS: 'send-typing-events',\n    SET_CHANNEL_COOLDOWN: 'set-channel-cooldown',\n    SHARE_LOCATION: 'share-location',\n    SKIP_SLOW_MODE: 'skip-slow-mode',\n    SLOW_MODE: 'slow-mode',\n    TYPING_EVENTS: 'typing-events',\n    UPDATE_ANY_MESSAGE: 'update-any-message',\n    UPDATE_CHANNEL: 'update-channel',\n    UPDATE_CHANNEL_MEMBERS: 'update-channel-members',\n    UPDATE_OWN_MESSAGE: 'update-own-message',\n    UPDATE_THREAD: 'update-thread',\n    UPLOAD_FILE: 'upload-file',\n};\nconst FeedOwnCapability = {\n    ADD_ACTIVITY: 'add-activity',\n    ADD_ACTIVITY_REACTION: 'add-activity-reaction',\n    ADD_COMMENT: 'add-comment',\n    ADD_COMMENT_REACTION: 'add-comment-reaction',\n    BOOKMARK_ACTIVITY: 'bookmark-activity',\n    CREATE_FEED: 'create-feed',\n    DELETE_BOOKMARK: 'delete-bookmark',\n    DELETE_COMMENT: 'delete-comment',\n    DELETE_FEED: 'delete-feed',\n    EDIT_BOOKMARK: 'edit-bookmark',\n    FOLLOW: 'follow',\n    INVITE_FEED: 'invite-feed',\n    JOIN_FEED: 'join-feed',\n    LEAVE_FEED: 'leave-feed',\n    MANAGE_FEED_GROUP: 'manage-feed-group',\n    MARK_ACTIVITY: 'mark-activity',\n    PIN_ACTIVITY: 'pin-activity',\n    QUERY_FEED_MEMBERS: 'query-feed-members',\n    QUERY_FOLLOWS: 'query-follows',\n    READ_ACTIVITIES: 'read-activities',\n    READ_FEED: 'read-feed',\n    REMOVE_ACTIVITY: 'remove-activity',\n    REMOVE_ACTIVITY_REACTION: 'remove-activity-reaction',\n    REMOVE_COMMENT_REACTION: 'remove-comment-reaction',\n    UNFOLLOW: 'unfollow',\n    UPDATE_ACTIVITY: 'update-activity',\n    UPDATE_COMMENT: 'update-comment',\n    UPDATE_FEED: 'update-feed',\n    UPDATE_FEED_FOLLOWERS: 'update-feed-followers',\n    UPDATE_FEED_MEMBERS: 'update-feed-members',\n};\nconst OwnCapability = {\n    BLOCK_USERS: 'block-users',\n    CHANGE_MAX_DURATION: 'change-max-duration',\n    CREATE_CALL: 'create-call',\n    CREATE_REACTION: 'create-reaction',\n    ENABLE_NOISE_CANCELLATION: 'enable-noise-cancellation',\n    END_CALL: 'end-call',\n    JOIN_BACKSTAGE: 'join-backstage',\n    JOIN_CALL: 'join-call',\n    JOIN_ENDED_CALL: 'join-ended-call',\n    KICK_USER: 'kick-user',\n    MUTE_USERS: 'mute-users',\n    PIN_FOR_EVERYONE: 'pin-for-everyone',\n    READ_CALL: 'read-call',\n    REMOVE_CALL_MEMBER: 'remove-call-member',\n    SCREENSHARE: 'screenshare',\n    SEND_AUDIO: 'send-audio',\n    SEND_VIDEO: 'send-video',\n    START_BROADCAST_CALL: 'start-broadcast-call',\n    START_CLOSED_CAPTIONS_CALL: 'start-closed-captions-call',\n    START_FRAME_RECORD_CALL: 'start-frame-record-call',\n    START_RECORD_CALL: 'start-record-call',\n    START_TRANSCRIPTION_CALL: 'start-transcription-call',\n    STOP_BROADCAST_CALL: 'stop-broadcast-call',\n    STOP_CLOSED_CAPTIONS_CALL: 'stop-closed-captions-call',\n    STOP_FRAME_RECORD_CALL: 'stop-frame-record-call',\n    STOP_RECORD_CALL: 'stop-record-call',\n    STOP_TRANSCRIPTION_CALL: 'stop-transcription-call',\n    UPDATE_CALL: 'update-call',\n    UPDATE_CALL_MEMBER: 'update-call-member',\n    UPDATE_CALL_PERMISSIONS: 'update-call-permissions',\n    UPDATE_CALL_SETTINGS: 'update-call-settings',\n};\n\n\n//# sourceMappingURL=index.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL25vZGUtc2RrL2Rpc3QvaW5kZXguZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDSDtBQUNGOztBQUUxQjtBQUNBO0FBQ0EsUUFBUSx5Q0FBRyxZQUFZLDhDQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4Q0FBUTtBQUNuQjtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUNBQXVDO0FBQ3hFLFdBQVcsOENBQVE7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNENBQTRDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0NBQXdDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVELDZCQUE2QixpREFBaUQ7QUFDOUUsdUJBQXVCLHNDQUFzQztBQUM3RCxnQkFBZ0Isc0NBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVELG9CQUFvQiwwQ0FBMEM7QUFDOUQsdUJBQXVCLHNDQUFzQztBQUM3RCxnQkFBZ0Isa0RBQWtEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVELG9CQUFvQiwwQ0FBMEM7QUFDOUQsdUJBQXVCLHNDQUFzQztBQUM3RCxnQkFBZ0Isa0RBQWtEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXND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QSxzQkFBc0Isc0NBQXNDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVELGdCQUFnQixzQ0FBc0M7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzQ0FBc0M7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzQ0FBc0M7QUFDNUQsZ0JBQWdCLHNDQUFzQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNDQUFzQztBQUM1RCxtQkFBbUIseUNBQXlDO0FBQzVELGdCQUFnQixzQ0FBc0M7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzQ0FBc0M7QUFDNUQsZ0JBQWdCLHNDQUFzQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNDQUFzQztBQUM1RCxtQkFBbUIseUNBQXlDO0FBQzVELGdCQUFnQixzQ0FBc0M7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzQ0FBc0M7QUFDNUQsbUJBQW1CLHlDQUF5QztBQUM1RCxnQkFBZ0Isc0NBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVELG1CQUFtQix5Q0FBeUM7QUFDNUQsZ0JBQWdCLHNDQUFzQztBQUN0RCxnQkFBZ0Isc0NBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0NBQXNDO0FBQzVELG1CQUFtQix5Q0FBeUM7QUFDNUQsZ0JBQWdCLHNDQUFzQztBQUN0RCxnQkFBZ0Isc0NBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0NBQXNDO0FBQzNELGdCQUFnQixzQ0FBc0M7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLEtBQUs7QUFDcEc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsS0FBSztBQUNqRztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGLEtBQUs7QUFDakc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLEdBQUc7QUFDdEY7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLFFBQVE7QUFDMUY7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixRQUFRO0FBQ3pGO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLFFBQVE7QUFDMUY7QUFDQSxpQkFBaUI7QUFDakI7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QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsUUFBUTtBQUMvRjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwQ0FBMEM7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywwQ0FBMEM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwQ0FBMEM7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixVQUFVLEdBQUcsUUFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsdUJBQXVCO0FBQ2pFLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHLElBQUk7QUFDcEc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixJQUFJO0FBQ2pHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyxHQUFHO0FBQ3RHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixXQUFXLEdBQUcsUUFBUTtBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isc0NBQXNDLGdCQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDhDQUNFO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtREFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRStLO0FBQy9LIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGhwXFxEb3dubG9hZHNcXHJlbW90ZS1pbnRlcnZpZXctcGxhdGZvcm1cXG5vZGVfbW9kdWxlc1xcQHN0cmVhbS1pb1xcbm9kZS1zZGtcXGRpc3RcXGluZGV4LmVzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuXG5mdW5jdGlvbiBKV1RVc2VyVG9rZW4oYXBpU2VjcmV0LCBwYXlsb2FkKSB7XG4gICAgLy8gbWFrZSBzdXJlIHdlIHJldHVybiBhIGNsZWFyIGVycm9yIHdoZW4gand0IGlzIHNoaW1tZWQgKGllLiBicm93c2VyIGJ1aWxkKVxuICAgIGlmIChqd3QgPT0gbnVsbCB8fCBqd3Quc2lnbiA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBVbmFibGUgdG8gZmluZCBqd3QgY3J5cHRvLCBpZiB5b3UgYXJlIGdldHRpbmcgdGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHlvdSBhcmUgdHJ5aW5nIHRvIGdlbmVyYXRlIHRva2VucyBvbiBicm93c2VyIG9yIFJlYWN0IE5hdGl2ZSAob3Igb3RoZXIgZW52aXJvbm1lbnQgd2hlcmUgY3J5cHRvIGZ1bmN0aW9ucyBhcmUgbm90IGF2YWlsYWJsZSkuIFBsZWFzZSBOb3RlOiB0b2tlbiBzaG91bGQgb25seSBiZSBnZW5lcmF0ZWQgc2VydmVyLXNpZGUuYCk7XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgYWxnb3JpdGhtOiAnSFMyNTYnLFxuICAgICAgICBub1RpbWVzdGFtcDogdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAocGF5bG9hZC5pYXQpIHtcbiAgICAgICAgb3B0cy5ub1RpbWVzdGFtcCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIEpXVFNlcnZlclRva2VuKGFwaVNlY3JldCwgand0T3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgc2VydmVyOiB0cnVlLFxuICAgIH07XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyBhbGdvcml0aG06ICdIUzI1NicsIG5vVGltZXN0YW1wOiB0cnVlIH0sIGp3dE9wdGlvbnMpO1xuICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBhcGlTZWNyZXQsIG9wdHMpO1xufVxuXG5jb25zdCBkZWNvZGVycyA9IHt9O1xuY29uc3QgZGVjb2RlRGF0ZXRpbWVUeXBlID0gKGlucHV0KSA9PiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInXG4gICAgPyBuZXcgRGF0ZShNYXRoLmZsb29yKGlucHV0IC8gMTAwMDAwMCkpXG4gICAgOiBuZXcgRGF0ZShpbnB1dCk7XG5kZWNvZGVycy5EYXRldGltZVR5cGUgPSBkZWNvZGVEYXRldGltZVR5cGU7XG5jb25zdCBkZWNvZGUgPSAodHlwZU1hcHBpbmdzLCBpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQgfHwgT2JqZWN0LmtleXModHlwZU1hcHBpbmdzKS5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICBPYmplY3Qua2V5cyh0eXBlTWFwcGluZ3MpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoaW5wdXRba2V5XSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZU1hcHBpbmdzW2tleV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVyID0gZGVjb2RlcnNbdHlwZU1hcHBpbmdzW2tleV0udHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVNYXBwaW5nc1trZXldLmlzU2luZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFtrZXldID0gZGVjb2RlcihpbnB1dFtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGlucHV0W2tleV0pLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFtrZXldW2tdID0gZGVjb2RlcihpbnB1dFtrZXldW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0O1xufTtcbmRlY29kZXJzLkFjY2VwdEZlZWRNZW1iZXJJbnZpdGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyOiB7IHR5cGU6ICdGZWVkTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY2NlcHRGb2xsb3dSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZm9sbG93OiB7IHR5cGU6ICdGb2xsb3dSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFjdGlvbkxvZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdfcXVldWVfaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXRfdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aXZpdHlBZGRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpdml0eURlbGV0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYWN0aXZpdHk6IHsgdHlwZTogJ0FjdGl2aXR5UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aXZpdHlNYXJrRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpdml0eU1hcmtlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpdml0eVBpblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFjdGl2aXR5UGlubmVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hY3Rpdml0eTogeyB0eXBlOiAnUGluQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpdml0eVJlYWN0aW9uQWRkZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYWN0aXZpdHk6IHsgdHlwZTogJ0FjdGl2aXR5UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnRmVlZHNSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFjdGl2aXR5UmVhY3Rpb25EZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpdml0eVJlYWN0aW9uVXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdGZWVkc1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aXZpdHlSZW1vdmVkRnJvbUZlZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYWN0aXZpdHk6IHsgdHlwZTogJ0FjdGl2aXR5UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aXZpdHlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWVudHM6IHsgdHlwZTogJ0NvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdGZWVkc1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX2Jvb2ttYXJrczogeyB0eXBlOiAnQm9va21hcmtSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdGZWVkc1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZWRpdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjdXJyZW50X2ZlZWQ6IHsgdHlwZTogJ0ZlZWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudDogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpdml0eVNlbGVjdG9yQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjdXRvZmZfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aXZpdHlVbnBpbm5lZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYWN0aXZpdHk6IHsgdHlwZTogJ1BpbkFjdGl2aXR5UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aXZpdHlVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFkZEFjdGl2aXR5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWRkQm9va21hcmtSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYm9va21hcms6IHsgdHlwZTogJ0Jvb2ttYXJrUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BZGRDb21tZW50UmVhY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29tbWVudDogeyB0eXBlOiAnQ29tbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFkZENvbW1lbnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29tbWVudDogeyB0eXBlOiAnQ29tbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWRkQ29tbWVudHNCYXRjaFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tZW50czogeyB0eXBlOiAnQ29tbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFkZFJlYWN0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFnZ3JlZ2F0ZWRBY3Rpdml0eVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0aWVzOiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFueUV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BcHBSZXNwb25zZUZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZXZlbnRfaG9va3M6IHsgdHlwZTogJ0V2ZW50SG9vaycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsX3R5cGVzOiB7IHR5cGU6ICdDYWxsVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsX2NvbmZpZ3M6IHsgdHlwZTogJ0NoYW5uZWxDb25maWcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Bc3luY0J1bGtJbWFnZU1vZGVyYXRpb25FdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZmluaXNoZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Bc3luY0V4cG9ydENoYW5uZWxzRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGZpbmlzaGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQXN5bmNFeHBvcnRFcnJvckV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmaW5pc2hlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFzeW5jRXhwb3J0TW9kZXJhdGlvbkxvZ3NFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZmluaXNoZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Bc3luY0V4cG9ydFVzZXJzRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGZpbmlzaGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQXV0b21vZERldGFpbHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlc3VsdDogeyB0eXBlOiAnTWVzc2FnZU1vZGVyYXRpb25SZXN1bHQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CYW4gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWwnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmFuUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJsb2NrVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tlZFVzZXJFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYmxvY2tlZF9ieV91c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CbG9ja2VkVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBibG9ja2VkX3VzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJvb2ttYXJrQWRkZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYm9va21hcms6IHsgdHlwZTogJ0Jvb2ttYXJrUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQm9va21hcmtEZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJvb2ttYXJrOiB7IHR5cGU6ICdCb29rbWFya1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJvb2ttYXJrRm9sZGVyRGVsZXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBib29rbWFya19mb2xkZXI6IHsgdHlwZTogJ0Jvb2ttYXJrRm9sZGVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQm9va21hcmtGb2xkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQm9va21hcmtGb2xkZXJVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJvb2ttYXJrX2ZvbGRlcjogeyB0eXBlOiAnQm9va21hcmtGb2xkZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Cb29rbWFya1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGZvbGRlcjogeyB0eXBlOiAnQm9va21hcmtGb2xkZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJvb2ttYXJrVXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBib29rbWFyazogeyB0eXBlOiAnQm9va21hcmtSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsQWNjZXB0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxDbG9zZWRDYXB0aW9uc1N0YXJ0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbENsb3NlZENhcHRpb25zU3RvcHBlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsQ3JlYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsRGVsZXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsRW5kZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FwdHVyZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbEZyYW1lUmVjb3JkaW5nU3RhcnRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsRnJhbWVSZWNvcmRpbmdTdG9wcGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbExpdmVTdGFydGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxNZW1iZXJBZGRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsTWVtYmVyUmVtb3ZlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsTWVtYmVyVXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbE1pc3NlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsTW9kZXJhdGlvbkJsdXJFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxOb3RpZmljYXRpb25FdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGpvaW5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlYWN0aW9uRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlY29yZGluZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0X3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZWNvcmRpbmdGYWlsZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGxfcmVjb3JkaW5nOiB7IHR5cGU6ICdDYWxsUmVjb3JkaW5nJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlamVjdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZXBvcnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0c19hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2Vzc2lvbjogeyB0eXBlOiAnQ2FsbFNlc3Npb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSaW5nRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSdG1wQnJvYWRjYXN0RmFpbGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSdG1wQnJvYWRjYXN0U3RhcnRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFNlc3Npb25FbmRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcnRpY2lwYW50OiB7IHR5cGU6ICdDYWxsUGFydGljaXBhbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcnRpY2lwYW50OiB7IHR5cGU6ICdDYWxsUGFydGljaXBhbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTZXNzaW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBhcnRpY2lwYW50czogeyB0eXBlOiAnQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYWNjZXB0ZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtaXNzZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWplY3RlZF9ieTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGVuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX2VuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX3N0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRpbWVyX2VuZHNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTZXNzaW9uU3RhcnRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU3RhdGVSZXNwb25zZUZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFN0YXRzUmVwb3J0UmVhZHlFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmaXJzdF9zdGF0c190aW1lOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsVHJhbnNjcmlwdGlvbiA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0X3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FsbF90cmFuc2NyaXB0aW9uOiB7IHR5cGU6ICdDYWxsVHJhbnNjcmlwdGlvbicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFR5cGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxVc2VyRmVlZGJhY2tTdWJtaXR0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFVzZXJNdXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYW1wYWlnbkNvbXBsZXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FtcGFpZ246IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYW1wYWlnblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzZWdtZW50czogeyB0eXBlOiAnU2VnbWVudCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHN0YXRzOiB7IHR5cGU6ICdDYW1wYWlnblN0YXRzUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzY2hlZHVsZWRfZm9yOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdG9wX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzZW5kZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbXBhaWduU3RhcnRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FtcGFpZ246IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYW1wYWlnblN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHN0YXRzX2NvbXBsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhdHNfc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX2NvdW50X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGl2ZV9saXZlX2xvY2F0aW9uczogeyB0eXBlOiAnU2hhcmVkTG9jYXRpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgaW52aXRlczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNvbmZpZzogeyB0eXBlOiAnQ2hhbm5lbENvbmZpZycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0cnVuY2F0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsQ29uZmlnV2l0aEluZm8gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1hbmRzOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxDcmVhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxEZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxGcm96ZW5FdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbEhpZGRlbkV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbE1lbWJlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXJjaGl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfYWNjZXB0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9yZWplY3RlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFyY2hpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX2FjY2VwdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfcmVqZWN0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbE11dGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxNdXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsUHVzaFByZWZlcmVuY2VzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkaXNhYmxlZF91bnRpbDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtdXRlX2V4cGlyZXNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjb25maWc6IHsgdHlwZTogJ0NoYW5uZWxDb25maWdXaXRoSW5mbycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFN0YXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGhpZGVfbWVzc2FnZXNfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3RpdmVfbGl2ZV9sb2NhdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdTaGFyZWRMb2NhdGlvblJlc3BvbnNlRGF0YScsXG4gICAgICAgICAgICBpc1NpbmdsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHBlbmRpbmdfbWVzc2FnZXM6IHsgdHlwZTogJ1BlbmRpbmdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgd2F0Y2hlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkcmFmdDogeyB0eXBlOiAnRHJhZnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnNoaXA6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX3ByZWZlcmVuY2VzOiB7IHR5cGU6ICdDaGFubmVsUHVzaFByZWZlcmVuY2VzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFN0YXRlUmVzcG9uc2VGaWVsZHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGhpZGVfbWVzc2FnZXNfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3RpdmVfbGl2ZV9sb2NhdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdTaGFyZWRMb2NhdGlvblJlc3BvbnNlRGF0YScsXG4gICAgICAgICAgICBpc1NpbmdsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHBlbmRpbmdfbWVzc2FnZXM6IHsgdHlwZTogJ1BlbmRpbmdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgd2F0Y2hlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkcmFmdDogeyB0eXBlOiAnRHJhZnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnNoaXA6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX3ByZWZlcmVuY2VzOiB7IHR5cGU6ICdDaGFubmVsUHVzaFByZWZlcmVuY2VzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFRydW5jYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsVHlwZUNvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFVuRnJvemVuRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxVbm11dGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFZpc2libGVFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlU3RhdHNSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoZWNrUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGl0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2xvc2VkQ2FwdGlvbkV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Db21tYW5kID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Db21tZW50QWRkZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWVudDogeyB0eXBlOiAnQ29tbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNvbW1lbnREZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1lbnQ6IHsgdHlwZTogJ0NvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Db21tZW50UmVhY3Rpb25BZGRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjb21tZW50OiB7IHR5cGU6ICdDb21tZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnRmVlZHNSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNvbW1lbnRSZWFjdGlvbkRlbGV0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWVudDogeyB0eXBlOiAnQ29tbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Db21tZW50UmVhY3Rpb25VcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1lbnQ6IHsgdHlwZTogJ0NvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdGZWVkc1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlQ29tbW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29tbWVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdGZWVkc1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnRmVlZHNSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWN0aW9uX2dyb3VwczogeyB0eXBlOiAnUmVhY3Rpb25Hcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNvbW1lbnRVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1lbnQ6IHsgdHlwZTogJ0NvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Db25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ291bnRCeU1pbnV0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzdGFydF90czogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdDogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVDYWxsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVDaGFubmVsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVDb21tYW5kUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1hbmQ6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVGZWVkR3JvdXBSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmVlZF9ncm91cDogeyB0eXBlOiAnRmVlZEdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVGZWVkVmlld1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmZWVkX3ZpZXc6IHsgdHlwZTogJ0ZlZWRWaWV3UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVGZWVkc0JhdGNoUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZlZWRzOiB7IHR5cGU6ICdGZWVkUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlR3Vlc3RSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlSW1wb3J0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGltcG9ydF90YXNrOiB7IHR5cGU6ICdJbXBvcnRUYXNrJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlTWVtYmVyc2hpcExldmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnNoaXBfbGV2ZWw6IHsgdHlwZTogJ01lbWJlcnNoaXBMZXZlbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlUm9sZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByb2xlOiB7IHR5cGU6ICdSb2xlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3VzdG9tQ2hlY2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DdXN0b21WaWRlb0V2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWFjdGl2YXRlVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVBY3Rpdml0eVJlYWN0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZUJvb2ttYXJrUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJvb2ttYXJrOiB7IHR5cGU6ICdCb29rbWFya1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVsZXRlQ2FsbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZUNvbW1lbnRSZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tZW50OiB7IHR5cGU6ICdDb21tZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnRmVlZHNSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVsZXRlTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVSZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRldmljZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGV2aWNlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRyYWZ0UGF5bG9hZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EcmFmdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdEcmFmdFBheWxvYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRWdyZXNzUlRNUFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FbnRpdHlDcmVhdG9yUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkV2ZW50SG9vayA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRXZlbnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZXZlbnQ6IHsgdHlwZTogJ1dTRXZlbnQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FeHBvcnRVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRDcmVhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0ZlZWRNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBmZWVkOiB7IHR5cGU6ICdGZWVkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRmVlZERlbGV0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRHcm91cENoYW5nZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRHcm91cERlbGV0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRHcm91cFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0eV9zZWxlY3RvcnM6IHsgdHlwZTogJ0FjdGl2aXR5U2VsZWN0b3JDb25maWcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRmVlZE1lbWJlckFkZGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcjogeyB0eXBlOiAnRmVlZE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRNZW1iZXJSZW1vdmVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GZWVkTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9hY2NlcHRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX3JlamVjdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzaGlwX2xldmVsOiB7IHR5cGU6ICdNZW1iZXJzaGlwTGV2ZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRNZW1iZXJVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcjogeyB0eXBlOiAnRmVlZE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgb3duX2ZvbGxvd3M6IHsgdHlwZTogJ0ZvbGxvd1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZlZWRVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGZlZWQ6IHsgdHlwZTogJ0ZlZWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GZWVkVmlld1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsYXN0X3VzZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGl2aXR5X3NlbGVjdG9yczogeyB0eXBlOiAnQWN0aXZpdHlTZWxlY3RvckNvbmZpZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GZWVkc1JlYWN0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWdEZXRhaWxzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhdXRvbW9kOiB7IHR5cGU6ICdBdXRvbW9kRGV0YWlscycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWdGZWVkYmFjayA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRmxhZ1VwZGF0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZvbGxvd0JhdGNoUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZvbGxvd3M6IHsgdHlwZTogJ0ZvbGxvd1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZvbGxvd0NyZWF0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZm9sbG93OiB7IHR5cGU6ICdGb2xsb3dSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Gb2xsb3dEZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGZvbGxvdzogeyB0eXBlOiAnRm9sbG93UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRm9sbG93UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHNvdXJjZV9mZWVkOiB7IHR5cGU6ICdGZWVkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXRfZmVlZDogeyB0eXBlOiAnRmVlZFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVxdWVzdF9hY2NlcHRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVxdWVzdF9yZWplY3RlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRm9sbG93VXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmb2xsb3c6IHsgdHlwZTogJ0ZvbGxvd1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZ1bGxVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QWN0aXZlQ2FsbHNTdGF0dXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0X3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEFjdGl2aXR5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QXBwbGljYXRpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYXBwOiB7IHR5cGU6ICdBcHBSZXNwb25zZUZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEJsb2NrTGlzdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBibG9ja2xpc3Q6IHsgdHlwZTogJ0Jsb2NrTGlzdFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QmxvY2tlZFVzZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrczogeyB0eXBlOiAnQmxvY2tlZFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDYWxsUmVwb3J0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHZpZGVvX3JlYWN0aW9uczogeyB0eXBlOiAnVmlkZW9SZWFjdGlvbnNSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGF0X2FjdGl2aXR5OiB7IHR5cGU6ICdDaGF0QWN0aXZpdHlTdGF0c1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q2FsbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDYWxsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDaGFubmVsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjb21tYW5kczogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDb21tYW5kUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENvbW1lbnRSZXBsaWVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1lbnRzOiB7IHR5cGU6ICdUaHJlYWRlZENvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDb21tZW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1lbnQ6IHsgdHlwZTogJ0NvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENvbW1lbnRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1lbnRzOiB7IHR5cGU6ICdUaHJlYWRlZENvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldERyYWZ0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRyYWZ0OiB7IHR5cGU6ICdEcmFmdFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0RmVlZEdyb3VwUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZlZWRfZ3JvdXA6IHsgdHlwZTogJ0ZlZWRHcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0RmVlZFZpZXdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmVlZF92aWV3OiB7IHR5cGU6ICdGZWVkVmlld1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Rm9sbG93U3VnZ2VzdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc3VnZ2VzdGlvbnM6IHsgdHlwZTogJ0ZlZWRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRJbXBvcnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaW1wb3J0X3Rhc2s6IHsgdHlwZTogJ0ltcG9ydFRhc2snLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRNYW55TWVzc2FnZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VXaXRoQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE9yQ3JlYXRlRmVlZEdyb3VwUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZlZWRfZ3JvdXA6IHsgdHlwZTogJ0ZlZWRHcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0T3JDcmVhdGVGZWVkUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2aXRpZXM6IHsgdHlwZTogJ0FjdGl2aXR5UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYWdncmVnYXRlZF9hY3Rpdml0aWVzOiB7XG4gICAgICAgICAgICB0eXBlOiAnQWdncmVnYXRlZEFjdGl2aXR5UmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBmb2xsb3dlcnM6IHsgdHlwZTogJ0ZvbGxvd1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGZvbGxvd2luZzogeyB0eXBlOiAnRm9sbG93UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnRmVlZE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHBpbm5lZF9hY3Rpdml0aWVzOiB7IHR5cGU6ICdBY3Rpdml0eVBpblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGZlZWQ6IHsgdHlwZTogJ0ZlZWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG93bl9mb2xsb3dzOiB7IHR5cGU6ICdGb2xsb3dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBub3RpZmljYXRpb25fc3RhdHVzOiB7IHR5cGU6ICdOb3RpZmljYXRpb25TdGF0dXNSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG93bl9tZW1iZXJzaGlwOiB7IHR5cGU6ICdGZWVkTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRPckNyZWF0ZUZlZWRWaWV3UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZlZWRfdmlldzogeyB0eXBlOiAnRmVlZFZpZXdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFB1c2hUZW1wbGF0ZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGVtcGxhdGVzOiB7IHR5cGU6ICdQdXNoVGVtcGxhdGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UmVhY3Rpb25zUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UmVwbGllc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFJldmlld1F1ZXVlSXRlbVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFNlZ21lbnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc2VnbWVudDogeyB0eXBlOiAnU2VnbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0VGFza1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRUaHJlYWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR29MaXZlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkltcG9ydFRhc2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGhpc3Rvcnk6IHsgdHlwZTogJ0ltcG9ydFRhc2tIaXN0b3J5JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkltcG9ydFRhc2tIaXN0b3J5ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5LaWNrZWRVc2VyRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGtpY2tlZF9ieV91c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0QmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdHM6IHsgdHlwZTogJ0Jsb2NrTGlzdFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RDYWxsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsX3R5cGVzOiB7IHR5cGU6ICdDYWxsVHlwZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RDaGFubmVsVHlwZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbF90eXBlczogeyB0eXBlOiAnQ2hhbm5lbFR5cGVDb25maWcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdENvbW1hbmRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1hbmRzOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3REZXZpY2VzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RGZWVkR3JvdXBzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGdyb3VwczogeyB0eXBlOiAnRmVlZEdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdEZlZWRWaWV3c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB2aWV3czogeyB0eXBlOiAnRmVlZFZpZXdSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0SW1wb3J0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFza3M6IHsgdHlwZTogJ0ltcG9ydFRhc2snLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdFB1c2hQcm92aWRlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHVzaF9wcm92aWRlcnM6IHsgdHlwZTogJ1B1c2hQcm92aWRlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RSZWNvcmRpbmdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlY29yZGluZ3M6IHsgdHlwZTogJ0NhbGxSZWNvcmRpbmcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdFJvbGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJvbGVzOiB7IHR5cGU6ICdSb2xlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0cmFuc2NyaXB0aW9uczogeyB0eXBlOiAnQ2FsbFRyYW5zY3JpcHRpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZXZlbnQ6IHsgdHlwZTogJ01lc3NhZ2VSZWFkRXZlbnQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZW1iZXJBZGRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVtYmVyUmVtb3ZlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lbWJlclVwZGF0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lbWJlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZW1iZXJzaGlwTGV2ZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWN0aW9uX2dyb3VwczogeyB0eXBlOiAnUmVhY3Rpb25Hcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHBpbm5lZF9ieTogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGwnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlbWluZGVyOiB7IHR5cGU6ICdNZXNzYWdlUmVtaW5kZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzaGFyZWRfbG9jYXRpb246IHsgdHlwZTogJ1NoYXJlZExvY2F0aW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VEZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlRmxhZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhcHByb3ZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVqZWN0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld2VkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZXRhaWxzOiB7IHR5cGU6ICdGbGFnRGV0YWlscycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtb2RlcmF0aW9uX2ZlZWRiYWNrOiB7IHR5cGU6ICdGbGFnRmVlZGJhY2snLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtb2RlcmF0aW9uX3Jlc3VsdDogeyB0eXBlOiAnTWVzc2FnZU1vZGVyYXRpb25SZXN1bHQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZUZsYWdnZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VIaXN0b3J5RW50cnlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZV91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlTW9kZXJhdGlvblJlc3VsdCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZU5ld0V2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZVJlYWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9sYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlUmVtaW5kZXIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlbWluZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZV90ZXh0X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkcmFmdDogeyB0eXBlOiAnRHJhZnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbFJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHF1b3RlZF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbl9ncm91cHM6IHsgdHlwZTogJ1JlYWN0aW9uR3JvdXBSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZW1pbmRlcjogeyB0eXBlOiAnUmVtaW5kZXJSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzaGFyZWRfbG9jYXRpb246IHsgdHlwZTogJ1NoYXJlZExvY2F0aW9uUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZVN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvdW50X292ZXJfdGltZTogeyB0eXBlOiAnQ291bnRCeU1pbnV0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VVbmJsb2NrZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VVbmRlbGV0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlV2l0aENoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZHJhZnQ6IHsgdHlwZTogJ0RyYWZ0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2hhcmVkX2xvY2F0aW9uOiB7IHR5cGU6ICdTaGFyZWRMb2NhdGlvblJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1vZGVyYXRpb25DaGVja0NvbXBsZXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTW9kZXJhdGlvbkN1c3RvbUFjdGlvbkV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1vZGVyYXRpb25GbGFnUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJldmlld19xdWV1ZV9pdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1vZGVyYXRpb25GbGFnZ2VkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Nb2RlcmF0aW9uTWFya1Jldmlld2VkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTXV0ZUNoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbF9tdXRlczogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbF9tdXRlOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG93bl91c2VyOiB7IHR5cGU6ICdPd25Vc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTXV0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtdXRlczogeyB0eXBlOiAnVXNlck11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3VzZXI6IHsgdHlwZTogJ093blVzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Ob3RpZmljYXRpb25GZWVkVXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYWdncmVnYXRlZF9hY3Rpdml0aWVzOiB7XG4gICAgICAgICAgICB0eXBlOiAnQWdncmVnYXRlZEFjdGl2aXR5UmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBub3RpZmljYXRpb25fc3RhdHVzOiB7IHR5cGU6ICdOb3RpZmljYXRpb25TdGF0dXNSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk5vdGlmaWNhdGlvbk1hcmtVbnJlYWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9yZWFkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTm90aWZpY2F0aW9uU3RhdHVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxhc3RfcmVhZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9zZWVuX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Pd25Vc2VyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsX211dGVzOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9lbmdhZ2VkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX3ByZWZlcmVuY2VzOiB7IHR5cGU6ICdQdXNoUHJlZmVyZW5jZXMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Pd25Vc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX3ByZWZlcmVuY2VzOiB7IHR5cGU6ICdQdXNoUHJlZmVyZW5jZXMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QYXJ0aWNpcGFudENvdW50QnlNaW51dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc3RhcnRfdHM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBhcnRpY2lwYW50Q291bnRPdmVyVGltZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBieV9taW51dGU6IHsgdHlwZTogJ1BhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBlbmRpbmdNZXNzYWdlRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QZW5kaW5nTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QZXJtaXNzaW9uUmVxdWVzdEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QaW5BY3Rpdml0eVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGwgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9hbnN3ZXJzOiB7IHR5cGU6ICdQb2xsVm90ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fdm90ZXM6IHsgdHlwZTogJ1BvbGxWb3RlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsUmVzcG9uc2VEYXRhID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfYW5zd2VyczogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3ZvdGVzOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsVm90ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3RlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHZvdGU6IHsgdHlwZTogJ1BvbGxWb3RlUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3Rlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB2b3RlczogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvbkZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHJvdmlkZXJzOiB7IHR5cGU6ICdQdXNoUHJvdmlkZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRpc2FibGVkX3VudGlsOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJlZmVyZW5jZXMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRpc2FibGVkX3VudGlsOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJvdmlkZXIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRpc2FibGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX3RlbXBsYXRlczogeyB0eXBlOiAnUHVzaFRlbXBsYXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlB1c2hQcm92aWRlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkaXNhYmxlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaFRlbXBsYXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUFjdGl2aXRpZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYWN0aXZpdGllczogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUFjdGl2aXR5UmVhY3Rpb25zUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnRmVlZHNSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5QmFubmVkVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmFuczogeyB0eXBlOiAnQmFuUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlCb29rbWFya0ZvbGRlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYm9va21hcmtfZm9sZGVyczogeyB0eXBlOiAnQm9va21hcmtGb2xkZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUJvb2ttYXJrc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBib29rbWFya3M6IHsgdHlwZTogJ0Jvb2ttYXJrUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGFydGljaXBhbnRzOiB7IHR5cGU6ICdDYWxsUGFydGljaXBhbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxTdGF0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZXBvcnRzOiB7IHR5cGU6ICdDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYWxsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsczogeyB0eXBlOiAnQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYW1wYWlnbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FtcGFpZ25zOiB7IHR5cGU6ICdDYW1wYWlnblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5Q2hhbm5lbHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ0NoYW5uZWxTdGF0ZVJlc3BvbnNlRmllbGRzJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5Q29tbWVudFJlYWN0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZWFjdGlvbnM6IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNvbW1lbnRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1lbnRzOiB7IHR5cGU6ICdDb21tZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlEcmFmdHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZHJhZnRzOiB7IHR5cGU6ICdEcmFmdFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5RmVlZE1lbWJlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnRmVlZE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5RmVlZE1vZGVyYXRpb25UZW1wbGF0ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0ZW1wbGF0ZXM6IHsgdHlwZTogJ1F1ZXJ5RmVlZE1vZGVyYXRpb25UZW1wbGF0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUZlZWRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZlZWRzOiB7IHR5cGU6ICdGZWVkUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlGb2xsb3dzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZvbGxvd3M6IHsgdHlwZTogJ0ZvbGxvd1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TWVtYmVyc2hpcExldmVsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzaGlwX2xldmVsczogeyB0eXBlOiAnTWVtYmVyc2hpcExldmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNZXNzYWdlRmxhZ3NSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ01lc3NhZ2VGbGFnUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNZXNzYWdlSGlzdG9yeVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlX2hpc3Rvcnk6IHsgdHlwZTogJ01lc3NhZ2VIaXN0b3J5RW50cnlSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Db25maWdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbmZpZ3M6IHsgdHlwZTogJ0NvbmZpZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkZsYWdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZsYWdzOiB7IHR5cGU6ICdNb2RlcmF0aW9uRmxhZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkxvZ3NSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbG9nczogeyB0eXBlOiAnQWN0aW9uTG9nUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlQb2xsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBwb2xsczogeyB0eXBlOiAnUG9sbFJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVJlYWN0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlSZW1pbmRlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmVtaW5kZXJzOiB7IHR5cGU6ICdSZW1pbmRlclJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVJldmlld1F1ZXVlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGl0ZW1zOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVNlZ21lbnRUYXJnZXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRhcmdldHM6IHsgdHlwZTogJ1NlZ21lbnRUYXJnZXRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVNlZ21lbnRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHNlZ21lbnRzOiB7IHR5cGU6ICdTZWdtZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlUaHJlYWRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZHM6IHsgdHlwZTogJ1RocmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyczogeyB0eXBlOiAnRnVsbFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGlvbiA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aW9uRGVsZXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb25Hcm91cFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmaXJzdF9yZWFjdGlvbl9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9yZWFjdGlvbl9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb25OZXdFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aW9uVXBkYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aXZhdGVVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWRTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsYXN0X3JlYWQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlamVjdEZlZWRNZW1iZXJJbnZpdGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyOiB7IHR5cGU6ICdGZWVkTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWplY3RGb2xsb3dSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZm9sbG93OiB7IHR5cGU6ICdGb2xsb3dSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlbWluZGVyQ3JlYXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVtaW5kZXJEZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZW1pbmRlcjogeyB0eXBlOiAnUmVtaW5kZXJSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZW1pbmRlck5vdGlmaWNhdGlvbkV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVtaW5kZXJSZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlbWluZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZW1pbmRlclVwZGF0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlbWluZGVyOiB7IHR5cGU6ICdSZW1pbmRlclJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJldmlld1F1ZXVlSXRlbU5ld0V2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ01vZGVyYXRpb25GbGFnUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYWN0aW9uOiB7IHR5cGU6ICdBY3Rpb25Mb2dSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld19xdWV1ZV9pdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJldmlld1F1ZXVlSXRlbVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpb25zOiB7IHR5cGU6ICdBY3Rpb25Mb2dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ01vZGVyYXRpb25GbGFnUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY29tcGxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXNzaWduZWRfdG86IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVudGl0eV9jcmVhdG9yOiB7IHR5cGU6ICdFbnRpdHlDcmVhdG9yUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmZWVkc192Ml9yZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZXZpZXdRdWV1ZUl0ZW1VcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmbGFnczogeyB0eXBlOiAnTW9kZXJhdGlvbkZsYWdSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBhY3Rpb246IHsgdHlwZTogJ0FjdGlvbkxvZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3X3F1ZXVlX2l0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUm9sZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VhcmNoUmVzdWx0ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdTZWFyY2hSZXN1bHRNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VhcmNoUmVzdWx0TWVzc2FnZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZHJhZnQ6IHsgdHlwZTogJ0RyYWZ0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2hhcmVkX2xvY2F0aW9uOiB7IHR5cGU6ICdTaGFyZWRMb2NhdGlvblJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlZ21lbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlZ21lbnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudFRhcmdldFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZW5kTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZW5kUmVhY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TaGFyZWRMb2NhdGlvbiA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW5kX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNoYXJlZExvY2F0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVuZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2hhcmVkTG9jYXRpb25SZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVuZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2hhcmVkTG9jYXRpb25zUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2ZV9saXZlX2xvY2F0aW9uczoge1xuICAgICAgICAgICAgdHlwZTogJ1NoYXJlZExvY2F0aW9uUmVzcG9uc2VEYXRhJyxcbiAgICAgICAgICAgIGlzU2luZ2xlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2luZ2xlRm9sbG93UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZvbGxvdzogeyB0eXBlOiAnRm9sbG93UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdWJtaXRBY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRQYXJ0aWNpcGFudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9yZWFkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X3RocmVhZF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsZWZ0X3RocmVhZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVGhyZWFkUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVGhyZWFkUGFydGljaXBhbnQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGFyZW50X21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRocmVhZFN0YXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZXBsaWVzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdUaHJlYWRQYXJ0aWNpcGFudCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkcmFmdDogeyB0eXBlOiAnRHJhZnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRVcGRhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVGhyZWFkZWRDb21tZW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ0ZlZWRzUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdGZWVkc1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVwbGllczogeyB0eXBlOiAnVGhyZWFkZWRDb21tZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVHJ1bmNhdGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVuYmxvY2tlZFVzZXJFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5mb2xsb3dCYXRjaFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmb2xsb3dzOiB7IHR5cGU6ICdGb2xsb3dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbmZvbGxvd1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmb2xsb3c6IHsgdHlwZTogJ0ZvbGxvd1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5waW5BY3Rpdml0eVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVucmVhZENvdW50c0JhdGNoUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvdW50c19ieV91c2VyOiB7IHR5cGU6ICdVbnJlYWRDb3VudHNSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNDaGFubmVsID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsYXN0X3JlYWQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVucmVhZENvdW50c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsczogeyB0eXBlOiAnVW5yZWFkQ291bnRzQ2hhbm5lbCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdVbnJlYWRDb3VudHNUaHJlYWQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5yZWFkQ291bnRzVGhyZWFkID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsYXN0X3JlYWQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUFjdGl2aXR5UGFydGlhbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhY3Rpdml0eTogeyB0eXBlOiAnQWN0aXZpdHlSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUFjdGl2aXR5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFjdGl2aXR5OiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdDogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVCb29rbWFya0ZvbGRlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBib29rbWFya19mb2xkZXI6IHsgdHlwZTogJ0Jvb2ttYXJrRm9sZGVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVCb29rbWFya1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBib29rbWFyazogeyB0eXBlOiAnQm9va21hcmtSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFBhcnRpYWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDaGFubmVsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDb21tYW5kUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1hbmQ6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDb21tZW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1lbnQ6IHsgdHlwZTogJ0NvbW1lbnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUZlZWRHcm91cFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmZWVkX2dyb3VwOiB7IHR5cGU6ICdGZWVkR3JvdXBSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUZlZWRNZW1iZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGFkZGVkOiB7IHR5cGU6ICdGZWVkTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXBkYXRlZDogeyB0eXBlOiAnRmVlZE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUZlZWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmVlZDogeyB0eXBlOiAnRmVlZFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlRmVlZFZpZXdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmVlZF92aWV3OiB7IHR5cGU6ICdGZWVkVmlld1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlRm9sbG93UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZvbGxvdzogeyB0eXBlOiAnRm9sbG93UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVNZW1iZXJQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWxfbWVtYmVyOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVNZW1iZXJzaGlwTGV2ZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyc2hpcF9sZXZlbDogeyB0eXBlOiAnTWVtYmVyc2hpcExldmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVNZXNzYWdlUGFydGlhbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZVJlbWluZGVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlbWluZGVyOiB7IHR5cGU6ICdSZW1pbmRlclJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZVRocmVhZFBhcnRpYWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZVVzZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXJzOiB7IHR5cGU6ICdGdWxsVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBzZXJ0QWN0aXZpdGllc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhY3Rpdml0aWVzOiB7IHR5cGU6ICdBY3Rpdml0eVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydENvbmZpZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb25maWc6IHsgdHlwZTogJ0NvbmZpZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBzZXJ0TW9kZXJhdGlvblRlbXBsYXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydFB1c2hQcmVmZXJlbmNlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyX3ByZWZlcmVuY2VzOiB7IHR5cGU6ICdQdXNoUHJlZmVyZW5jZXMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBzZXJ0UHVzaFByb3ZpZGVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHB1c2hfcHJvdmlkZXI6IHsgdHlwZTogJ1B1c2hQcm92aWRlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBzZXJ0UHVzaFRlbXBsYXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRlbXBsYXRlOiB7IHR5cGU6ICdQdXNoVGVtcGxhdGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlckJhbm5lZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJhdGlvbjogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJEZWFjdGl2YXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJEZWxldGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyRmxhZ2dlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlck1lc3NhZ2VzRGVsZXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2VDb21tb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWNlaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlck11dGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRhcmdldDogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyTXV0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXQ6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJNdXRlZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlclJlYWN0aXZhdGVkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJSZXNwb25zZUNvbW1vbkZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJVbmJhbm5lZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlclVubXV0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJVbnJlYWRSZW1pbmRlckV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlclVwZGF0ZWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBieV9taW51dGU6IHsgdHlwZTogJ0NvdW50QnlNaW51dGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5WaWRlb1JlYWN0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb3VudF9vdmVyX3RpbWU6IHsgdHlwZTogJ1ZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuV1NFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9sYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lOiB7IHR5cGU6ICdPd25Vc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbF92b3RlOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldyYXBwZWRVbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcblxuY2xhc3MgQ29tbW9uQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDbGllbnQpIHtcbiAgICAgICAgdGhpcy5hcGlDbGllbnQgPSBhcGlDbGllbnQ7XG4gICAgfVxuICAgIGFzeW5jIGdldEFwcCgpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYXBwJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVBcHAocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgYXN5bmNfdXJsX2VucmljaF9lbmFibGVkOiByZXF1ZXN0Py5hc3luY191cmxfZW5yaWNoX2VuYWJsZWQsXG4gICAgICAgICAgICBhdXRvX3RyYW5zbGF0aW9uX2VuYWJsZWQ6IHJlcXVlc3Q/LmF1dG9fdHJhbnNsYXRpb25fZW5hYmxlZCxcbiAgICAgICAgICAgIGJlZm9yZV9tZXNzYWdlX3NlbmRfaG9va191cmw6IHJlcXVlc3Q/LmJlZm9yZV9tZXNzYWdlX3NlbmRfaG9va191cmwsXG4gICAgICAgICAgICBjZG5fZXhwaXJhdGlvbl9zZWNvbmRzOiByZXF1ZXN0Py5jZG5fZXhwaXJhdGlvbl9zZWNvbmRzLFxuICAgICAgICAgICAgY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seTogcmVxdWVzdD8uY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seSxcbiAgICAgICAgICAgIGN1c3RvbV9hY3Rpb25faGFuZGxlcl91cmw6IHJlcXVlc3Q/LmN1c3RvbV9hY3Rpb25faGFuZGxlcl91cmwsXG4gICAgICAgICAgICBkaXNhYmxlX2F1dGhfY2hlY2tzOiByZXF1ZXN0Py5kaXNhYmxlX2F1dGhfY2hlY2tzLFxuICAgICAgICAgICAgZGlzYWJsZV9wZXJtaXNzaW9uc19jaGVja3M6IHJlcXVlc3Q/LmRpc2FibGVfcGVybWlzc2lvbnNfY2hlY2tzLFxuICAgICAgICAgICAgZW5mb3JjZV91bmlxdWVfdXNlcm5hbWVzOiByZXF1ZXN0Py5lbmZvcmNlX3VuaXF1ZV91c2VybmFtZXMsXG4gICAgICAgICAgICBmZWVkc19tb2RlcmF0aW9uX2VuYWJsZWQ6IHJlcXVlc3Q/LmZlZWRzX21vZGVyYXRpb25fZW5hYmxlZCxcbiAgICAgICAgICAgIGZlZWRzX3YyX3JlZ2lvbjogcmVxdWVzdD8uZmVlZHNfdjJfcmVnaW9uLFxuICAgICAgICAgICAgZ3Vlc3RfdXNlcl9jcmVhdGlvbl9kaXNhYmxlZDogcmVxdWVzdD8uZ3Vlc3RfdXNlcl9jcmVhdGlvbl9kaXNhYmxlZCxcbiAgICAgICAgICAgIGltYWdlX21vZGVyYXRpb25fZW5hYmxlZDogcmVxdWVzdD8uaW1hZ2VfbW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgbWF4X2FnZ3JlZ2F0ZWRfYWN0aXZpdGllc19sZW5ndGg6IHJlcXVlc3Q/Lm1heF9hZ2dyZWdhdGVkX2FjdGl2aXRpZXNfbGVuZ3RoLFxuICAgICAgICAgICAgbWlncmF0ZV9wZXJtaXNzaW9uc190b192MjogcmVxdWVzdD8ubWlncmF0ZV9wZXJtaXNzaW9uc190b192MixcbiAgICAgICAgICAgIG1vZGVyYXRpb25fZW5hYmxlZDogcmVxdWVzdD8ubW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgbW9kZXJhdGlvbl93ZWJob29rX3VybDogcmVxdWVzdD8ubW9kZXJhdGlvbl93ZWJob29rX3VybCxcbiAgICAgICAgICAgIG11bHRpX3RlbmFudF9lbmFibGVkOiByZXF1ZXN0Py5tdWx0aV90ZW5hbnRfZW5hYmxlZCxcbiAgICAgICAgICAgIHBlcm1pc3Npb25fdmVyc2lvbjogcmVxdWVzdD8ucGVybWlzc2lvbl92ZXJzaW9uLFxuICAgICAgICAgICAgcmVtaW5kZXJzX2ludGVydmFsOiByZXF1ZXN0Py5yZW1pbmRlcnNfaW50ZXJ2YWwsXG4gICAgICAgICAgICByZW1pbmRlcnNfbWF4X21lbWJlcnM6IHJlcXVlc3Q/LnJlbWluZGVyc19tYXhfbWVtYmVycyxcbiAgICAgICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogcmVxdWVzdD8ucmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlLFxuICAgICAgICAgICAgc25zX2tleTogcmVxdWVzdD8uc25zX2tleSxcbiAgICAgICAgICAgIHNuc19zZWNyZXQ6IHJlcXVlc3Q/LnNuc19zZWNyZXQsXG4gICAgICAgICAgICBzbnNfdG9waWNfYXJuOiByZXF1ZXN0Py5zbnNfdG9waWNfYXJuLFxuICAgICAgICAgICAgc3FzX2tleTogcmVxdWVzdD8uc3FzX2tleSxcbiAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3Q/LnNxc19zZWNyZXQsXG4gICAgICAgICAgICBzcXNfdXJsOiByZXF1ZXN0Py5zcXNfdXJsLFxuICAgICAgICAgICAgdXNlcl9yZXNwb25zZV90aW1lX2VuYWJsZWQ6IHJlcXVlc3Q/LnVzZXJfcmVzcG9uc2VfdGltZV9lbmFibGVkLFxuICAgICAgICAgICAgd2ViaG9va191cmw6IHJlcXVlc3Q/LndlYmhvb2tfdXJsLFxuICAgICAgICAgICAgYWxsb3dlZF9mbGFnX3JlYXNvbnM6IHJlcXVlc3Q/LmFsbG93ZWRfZmxhZ19yZWFzb25zLFxuICAgICAgICAgICAgZXZlbnRfaG9va3M6IHJlcXVlc3Q/LmV2ZW50X2hvb2tzLFxuICAgICAgICAgICAgaW1hZ2VfbW9kZXJhdGlvbl9ibG9ja19sYWJlbHM6IHJlcXVlc3Q/LmltYWdlX21vZGVyYXRpb25fYmxvY2tfbGFiZWxzLFxuICAgICAgICAgICAgaW1hZ2VfbW9kZXJhdGlvbl9sYWJlbHM6IHJlcXVlc3Q/LmltYWdlX21vZGVyYXRpb25fbGFiZWxzLFxuICAgICAgICAgICAgdXNlcl9zZWFyY2hfZGlzYWxsb3dlZF9yb2xlczogcmVxdWVzdD8udXNlcl9zZWFyY2hfZGlzYWxsb3dlZF9yb2xlcyxcbiAgICAgICAgICAgIHdlYmhvb2tfZXZlbnRzOiByZXF1ZXN0Py53ZWJob29rX2V2ZW50cyxcbiAgICAgICAgICAgIGFwbl9jb25maWc6IHJlcXVlc3Q/LmFwbl9jb25maWcsXG4gICAgICAgICAgICBhc3luY19tb2RlcmF0aW9uX2NvbmZpZzogcmVxdWVzdD8uYXN5bmNfbW9kZXJhdGlvbl9jb25maWcsXG4gICAgICAgICAgICBkYXRhZG9nX2luZm86IHJlcXVlc3Q/LmRhdGFkb2dfaW5mbyxcbiAgICAgICAgICAgIGZpbGVfdXBsb2FkX2NvbmZpZzogcmVxdWVzdD8uZmlsZV91cGxvYWRfY29uZmlnLFxuICAgICAgICAgICAgZmlyZWJhc2VfY29uZmlnOiByZXF1ZXN0Py5maXJlYmFzZV9jb25maWcsXG4gICAgICAgICAgICBncmFudHM6IHJlcXVlc3Q/LmdyYW50cyxcbiAgICAgICAgICAgIGh1YXdlaV9jb25maWc6IHJlcXVlc3Q/Lmh1YXdlaV9jb25maWcsXG4gICAgICAgICAgICBpbWFnZV91cGxvYWRfY29uZmlnOiByZXF1ZXN0Py5pbWFnZV91cGxvYWRfY29uZmlnLFxuICAgICAgICAgICAgbW9kZXJhdGlvbl9kYXNoYm9hcmRfcHJlZmVyZW5jZXM6IHJlcXVlc3Q/Lm1vZGVyYXRpb25fZGFzaGJvYXJkX3ByZWZlcmVuY2VzLFxuICAgICAgICAgICAgcHVzaF9jb25maWc6IHJlcXVlc3Q/LnB1c2hfY29uZmlnLFxuICAgICAgICAgICAgeGlhb21pX2NvbmZpZzogcmVxdWVzdD8ueGlhb21pX2NvbmZpZyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9hcHAnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGxpc3RCbG9ja0xpc3RzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9ibG9ja2xpc3RzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkxpc3RCbG9ja0xpc3RSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlQmxvY2tMaXN0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB3b3JkczogcmVxdWVzdD8ud29yZHMsXG4gICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQ3JlYXRlQmxvY2tMaXN0UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUJsb2NrTGlzdChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2Jsb2NrbGlzdHMve25hbWV9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0QmxvY2tMaXN0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYmxvY2tsaXN0cy97bmFtZX0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldEJsb2NrTGlzdFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVCbG9ja0xpc3QocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHRlYW06IHJlcXVlc3Q/LnRlYW0sXG4gICAgICAgICAgICB3b3JkczogcmVxdWVzdD8ud29yZHMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVCbG9ja0xpc3RSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY2hlY2tQdXNoKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGFwbl90ZW1wbGF0ZTogcmVxdWVzdD8uYXBuX3RlbXBsYXRlLFxuICAgICAgICAgICAgZXZlbnRfdHlwZTogcmVxdWVzdD8uZXZlbnRfdHlwZSxcbiAgICAgICAgICAgIGZpcmViYXNlX2RhdGFfdGVtcGxhdGU6IHJlcXVlc3Q/LmZpcmViYXNlX2RhdGFfdGVtcGxhdGUsXG4gICAgICAgICAgICBmaXJlYmFzZV90ZW1wbGF0ZTogcmVxdWVzdD8uZmlyZWJhc2VfdGVtcGxhdGUsXG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiByZXF1ZXN0Py5wdXNoX3Byb3ZpZGVyX25hbWUsXG4gICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX3R5cGU6IHJlcXVlc3Q/LnB1c2hfcHJvdmlkZXJfdHlwZSxcbiAgICAgICAgICAgIHNraXBfZGV2aWNlczogcmVxdWVzdD8uc2tpcF9kZXZpY2VzLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGVja19wdXNoJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNoZWNrUHVzaFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjaGVja1NOUyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBzbnNfa2V5OiByZXF1ZXN0Py5zbnNfa2V5LFxuICAgICAgICAgICAgc25zX3NlY3JldDogcmVxdWVzdD8uc25zX3NlY3JldCxcbiAgICAgICAgICAgIHNuc190b3BpY19hcm46IHJlcXVlc3Q/LnNuc190b3BpY19hcm4sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGVja19zbnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQ2hlY2tTTlNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY2hlY2tTUVMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgc3FzX2tleTogcmVxdWVzdD8uc3FzX2tleSxcbiAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3Q/LnNxc19zZWNyZXQsXG4gICAgICAgICAgICBzcXNfdXJsOiByZXF1ZXN0Py5zcXNfdXJsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hlY2tfc3FzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNoZWNrU1FTUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZURldmljZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZGV2aWNlcycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdERldmljZXMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuTGlzdERldmljZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRGV2aWNlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHB1c2hfcHJvdmlkZXI6IHJlcXVlc3Q/LnB1c2hfcHJvdmlkZXIsXG4gICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX25hbWU6IHJlcXVlc3Q/LnB1c2hfcHJvdmlkZXJfbmFtZSxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB2b2lwX3Rva2VuOiByZXF1ZXN0Py52b2lwX3Rva2VuLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGV4cG9ydFVzZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0Py51c2VyX2lkcyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2V4cG9ydC91c2VycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5FeHBvcnRVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBsaXN0RXh0ZXJuYWxTdG9yYWdlKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5MaXN0RXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUV4dGVybmFsU3RvcmFnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBidWNrZXQ6IHJlcXVlc3Q/LmJ1Y2tldCxcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICBzdG9yYWdlX3R5cGU6IHJlcXVlc3Q/LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgIGdjc19jcmVkZW50aWFsczogcmVxdWVzdD8uZ2NzX2NyZWRlbnRpYWxzLFxuICAgICAgICAgICAgcGF0aDogcmVxdWVzdD8ucGF0aCxcbiAgICAgICAgICAgIGF3c19zMzogcmVxdWVzdD8uYXdzX3MzLFxuICAgICAgICAgICAgYXp1cmVfYmxvYjogcmVxdWVzdD8uYXp1cmVfYmxvYixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2UnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQ3JlYXRlRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUV4dGVybmFsU3RvcmFnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZUV4dGVybmFsU3RvcmFnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVFeHRlcm5hbFN0b3JhZ2UocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGJ1Y2tldDogcmVxdWVzdD8uYnVja2V0LFxuICAgICAgICAgICAgc3RvcmFnZV90eXBlOiByZXF1ZXN0Py5zdG9yYWdlX3R5cGUsXG4gICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3Q/Lmdjc19jcmVkZW50aWFscyxcbiAgICAgICAgICAgIHBhdGg6IHJlcXVlc3Q/LnBhdGgsXG4gICAgICAgICAgICBhd3NfczM6IHJlcXVlc3Q/LmF3c19zMyxcbiAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3Q/LmF6dXJlX2Jsb2IsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2Uve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY2hlY2tFeHRlcm5hbFN0b3JhZ2UocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZS97bmFtZX0vY2hlY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5DaGVja0V4dGVybmFsU3RvcmFnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVHdWVzdChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZ3Vlc3QnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQ3JlYXRlR3Vlc3RSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlSW1wb3J0VVJMKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiByZXF1ZXN0Py5maWxlbmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ltcG9ydF91cmxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNyZWF0ZUltcG9ydFVSTFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBsaXN0SW1wb3J0cygpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvaW1wb3J0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuTGlzdEltcG9ydHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlSW1wb3J0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG1vZGU6IHJlcXVlc3Q/Lm1vZGUsXG4gICAgICAgICAgICBwYXRoOiByZXF1ZXN0Py5wYXRoLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvaW1wb3J0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DcmVhdGVJbXBvcnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0SW1wb3J0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvaW1wb3J0cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0SW1wb3J0UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldE9HKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB1cmw6IHJlcXVlc3Q/LnVybCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvb2cnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0T0dSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFBlcm1pc3Npb25zKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wZXJtaXNzaW9ucycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuTGlzdFBlcm1pc3Npb25zUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFBlcm1pc3Npb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wZXJtaXNzaW9ucy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0Q3VzdG9tUGVybWlzc2lvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVQb2xsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICBhbGxvd19hbnN3ZXJzOiByZXF1ZXN0Py5hbGxvd19hbnN3ZXJzLFxuICAgICAgICAgICAgYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9uczogcmVxdWVzdD8uYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9ucyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlX3ZvdGU6IHJlcXVlc3Q/LmVuZm9yY2VfdW5pcXVlX3ZvdGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICBpc19jbG9zZWQ6IHJlcXVlc3Q/LmlzX2Nsb3NlZCxcbiAgICAgICAgICAgIG1heF92b3Rlc19hbGxvd2VkOiByZXF1ZXN0Py5tYXhfdm90ZXNfYWxsb3dlZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB2b3RpbmdfdmlzaWJpbGl0eTogcmVxdWVzdD8udm90aW5nX3Zpc2liaWxpdHksXG4gICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0Py5vcHRpb25zLFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvcG9sbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVQb2xsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICBhbGxvd19hbnN3ZXJzOiByZXF1ZXN0Py5hbGxvd19hbnN3ZXJzLFxuICAgICAgICAgICAgYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9uczogcmVxdWVzdD8uYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9ucyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlX3ZvdGU6IHJlcXVlc3Q/LmVuZm9yY2VfdW5pcXVlX3ZvdGUsXG4gICAgICAgICAgICBpc19jbG9zZWQ6IHJlcXVlc3Q/LmlzX2Nsb3NlZCxcbiAgICAgICAgICAgIG1heF92b3Rlc19hbGxvd2VkOiByZXF1ZXN0Py5tYXhfdm90ZXNfYWxsb3dlZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB2b3RpbmdfdmlzaWJpbGl0eTogcmVxdWVzdD8udm90aW5nX3Zpc2liaWxpdHksXG4gICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0Py5vcHRpb25zLFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9wb2xscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5Qb2xsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5UG9sbHMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3BvbGxzL3F1ZXJ5JywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcywgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlQb2xsc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVQb2xsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0UG9sbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3BvbGxzL3twb2xsX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVQb2xsUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9wb2xscy97cG9sbF9pZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlBvbGxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlUG9sbE9wdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdGV4dDogcmVxdWVzdD8udGV4dCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9wb2xscy97cG9sbF9pZH0vb3B0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVQb2xsT3B0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB0ZXh0OiByZXF1ZXN0Py50ZXh0LFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvcG9sbHMve3BvbGxfaWR9L29wdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlBvbGxPcHRpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlUG9sbE9wdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgICAgICBvcHRpb25faWQ6IHJlcXVlc3Q/Lm9wdGlvbl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvcG9sbHMve3BvbGxfaWR9L29wdGlvbnMve29wdGlvbl9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRQb2xsT3B0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgICAgIG9wdGlvbl9pZDogcmVxdWVzdD8ub3B0aW9uX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wb2xscy97cG9sbF9pZH0vb3B0aW9ucy97b3B0aW9uX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeVBvbGxWb3RlcyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3BvbGxzL3twb2xsX2lkfS92b3RlcycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5Qb2xsVm90ZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFB1c2hQcm92aWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5MaXN0UHVzaFByb3ZpZGVyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cHNlcnRQdXNoUHJvdmlkZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgcHVzaF9wcm92aWRlcjogcmVxdWVzdD8ucHVzaF9wcm92aWRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwc2VydFB1c2hQcm92aWRlclJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVQdXNoUHJvdmlkZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzL3t0eXBlfS97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0UmF0ZUxpbWl0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgc2VydmVyX3NpZGU6IHJlcXVlc3Q/LnNlcnZlcl9zaWRlLFxuICAgICAgICAgICAgYW5kcm9pZDogcmVxdWVzdD8uYW5kcm9pZCxcbiAgICAgICAgICAgIGlvczogcmVxdWVzdD8uaW9zLFxuICAgICAgICAgICAgd2ViOiByZXF1ZXN0Py53ZWIsXG4gICAgICAgICAgICBlbmRwb2ludHM6IHJlcXVlc3Q/LmVuZHBvaW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvcmF0ZV9saW1pdHMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0UmF0ZUxpbWl0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBsaXN0Um9sZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3JvbGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5MaXN0Um9sZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlUm9sZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvcm9sZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQ3JlYXRlUm9sZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVSb2xlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3JvbGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRUYXNrKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdGFza3Mve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkdldFRhc2tSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRmlsZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXJsOiByZXF1ZXN0Py51cmwsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3VwbG9hZHMvZmlsZScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkRmlsZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmaWxlOiByZXF1ZXN0Py5maWxlLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VwbG9hZHMvZmlsZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpO1xuICAgICAgICBkZWNvZGVycy5GaWxlVXBsb2FkUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUltYWdlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB1cmw6IHJlcXVlc3Q/LnVybCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvdXBsb2Fkcy9pbWFnZScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkSW1hZ2UocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZmlsZTogcmVxdWVzdD8uZmlsZSxcbiAgICAgICAgICAgIHVwbG9hZF9zaXplczogcmVxdWVzdD8udXBsb2FkX3NpemVzLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VwbG9hZHMvaW1hZ2UnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ211bHRpcGFydC9mb3JtLWRhdGEnKTtcbiAgICAgICAgZGVjb2RlcnMuSW1hZ2VVcGxvYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlVc2VycyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdD8ucGF5bG9hZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdXNlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVVc2Vyc1BhcnRpYWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcnM6IHJlcXVlc3Q/LnVzZXJzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL3VzZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwZGF0ZVVzZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZVVzZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJzOiByZXF1ZXN0Py51c2VycyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwZGF0ZVVzZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldEJsb2NrZWRVc2VycyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdXNlcnMvYmxvY2snLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0QmxvY2tlZFVzZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGJsb2NrVXNlcnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgYmxvY2tlZF91c2VyX2lkOiByZXF1ZXN0Py5ibG9ja2VkX3VzZXJfaWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL2Jsb2NrJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkJsb2NrVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVhY3RpdmF0ZVVzZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0Py51c2VyX2lkcyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJlcXVlc3Q/LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICBtYXJrX2NoYW5uZWxzX2RlbGV0ZWQ6IHJlcXVlc3Q/Lm1hcmtfY2hhbm5lbHNfZGVsZXRlZCxcbiAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfZGVsZXRlZDogcmVxdWVzdD8ubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvZGVhY3RpdmF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5EZWFjdGl2YXRlVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlVXNlcnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3Q/LnVzZXJfaWRzLFxuICAgICAgICAgICAgY2FsbHM6IHJlcXVlc3Q/LmNhbGxzLFxuICAgICAgICAgICAgY29udmVyc2F0aW9uczogcmVxdWVzdD8uY29udmVyc2F0aW9ucyxcbiAgICAgICAgICAgIGZpbGVzOiByZXF1ZXN0Py5maWxlcyxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0Py5tZXNzYWdlcyxcbiAgICAgICAgICAgIG5ld19jYWxsX293bmVyX2lkOiByZXF1ZXN0Py5uZXdfY2FsbF9vd25lcl9pZCxcbiAgICAgICAgICAgIG5ld19jaGFubmVsX293bmVyX2lkOiByZXF1ZXN0Py5uZXdfY2hhbm5lbF9vd25lcl9pZCxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9kZWxldGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0VXNlckxpdmVMb2NhdGlvbnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3VzZXJzL2xpdmVfbG9jYXRpb25zJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLlNoYXJlZExvY2F0aW9uc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVMaXZlTG9jYXRpb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgZW5kX2F0OiByZXF1ZXN0Py5lbmRfYXQsXG4gICAgICAgICAgICBsYXRpdHVkZTogcmVxdWVzdD8ubGF0aXR1ZGUsXG4gICAgICAgICAgICBsb25naXR1ZGU6IHJlcXVlc3Q/LmxvbmdpdHVkZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvdXNlcnMvbGl2ZV9sb2NhdGlvbnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TaGFyZWRMb2NhdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyByZWFjdGl2YXRlVXNlcnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3Q/LnVzZXJfaWRzLFxuICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdD8uY3JlYXRlZF9ieV9pZCxcbiAgICAgICAgICAgIHJlc3RvcmVfY2hhbm5lbHM6IHJlcXVlc3Q/LnJlc3RvcmVfY2hhbm5lbHMsXG4gICAgICAgICAgICByZXN0b3JlX21lc3NhZ2VzOiByZXF1ZXN0Py5yZXN0b3JlX21lc3NhZ2VzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvcmVhY3RpdmF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5SZWFjdGl2YXRlVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcmVzdG9yZVVzZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0Py51c2VyX2lkcyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3Jlc3RvcmUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVuYmxvY2tVc2VycyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBibG9ja2VkX3VzZXJfaWQ6IHJlcXVlc3Q/LmJsb2NrZWRfdXNlcl9pZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvdW5ibG9jaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VbmJsb2NrVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVhY3RpdmF0ZVVzZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJlcXVlc3Q/LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICBtYXJrX21lc3NhZ2VzX2RlbGV0ZWQ6IHJlcXVlc3Q/Lm1hcmtfbWVzc2FnZXNfZGVsZXRlZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9kZWFjdGl2YXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5EZWFjdGl2YXRlVXNlclJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBleHBvcnRVc2VyKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9leHBvcnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5FeHBvcnRVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHJlYWN0aXZhdGVVc2VyKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0Py5jcmVhdGVkX2J5X2lkLFxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIHJlc3RvcmVfbWVzc2FnZXM6IHJlcXVlc3Q/LnJlc3RvcmVfbWVzc2FnZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy97dXNlcl9pZH0vcmVhY3RpdmF0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVhY3RpdmF0ZVVzZXJSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG59XG5cbmNsYXNzIFZpZGVvQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDbGllbnQpIHtcbiAgICAgICAgdGhpcy5hcGlDbGllbnQgPSBhcGlDbGllbnQ7XG4gICAgfVxuICAgIGFzeW5jIGdldEFjdGl2ZUNhbGxzU3RhdHVzKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9hY3RpdmVfY2FsbHNfc3RhdHVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRBY3RpdmVDYWxsc1N0YXR1c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeVVzZXJGZWVkYmFjayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgZnVsbDogcmVxdWVzdD8uZnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0Py5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwvZmVlZGJhY2snLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeVVzZXJGZWVkYmFja1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUNhbGxNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdD8uZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL21lbWJlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUNhbGxTdGF0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdD8uZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldENhbGwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1lbWJlcnNfbGltaXQ6IHJlcXVlc3Q/Lm1lbWJlcnNfbGltaXQsXG4gICAgICAgICAgICByaW5nOiByZXF1ZXN0Py5yaW5nLFxuICAgICAgICAgICAgbm90aWZ5OiByZXF1ZXN0Py5ub3RpZnksXG4gICAgICAgICAgICB2aWRlbzogcmVxdWVzdD8udmlkZW8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5HZXRDYWxsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZUNhbGwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHN0YXJ0c19hdDogcmVxdWVzdD8uc3RhcnRzX2F0LFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICBzZXR0aW5nc19vdmVycmlkZTogcmVxdWVzdD8uc2V0dGluZ3Nfb3ZlcnJpZGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ2FsbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRPckNyZWF0ZUNhbGwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG1lbWJlcnNfbGltaXQ6IHJlcXVlc3Q/Lm1lbWJlcnNfbGltaXQsXG4gICAgICAgICAgICBub3RpZnk6IHJlcXVlc3Q/Lm5vdGlmeSxcbiAgICAgICAgICAgIHJpbmc6IHJlcXVlc3Q/LnJpbmcsXG4gICAgICAgICAgICB2aWRlbzogcmVxdWVzdD8udmlkZW8sXG4gICAgICAgICAgICBkYXRhOiByZXF1ZXN0Py5kYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGJsb2NrVXNlcihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vYmxvY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkJsb2NrVXNlclJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVDYWxsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBoYXJkOiByZXF1ZXN0Py5oYXJkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9kZWxldGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZUNhbGxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZENhbGxFdmVudChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlNlbmRDYWxsRXZlbnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY29sbGVjdFVzZXJGZWVkYmFjayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgcmF0aW5nOiByZXF1ZXN0Py5yYXRpbmcsXG4gICAgICAgICAgICBzZGs6IHJlcXVlc3Q/LnNkayxcbiAgICAgICAgICAgIHNka192ZXJzaW9uOiByZXF1ZXN0Py5zZGtfdmVyc2lvbixcbiAgICAgICAgICAgIHJlYXNvbjogcmVxdWVzdD8ucmVhc29uLFxuICAgICAgICAgICAgdXNlcl9zZXNzaW9uX2lkOiByZXF1ZXN0Py51c2VyX3Nlc3Npb25faWQsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZmVlZGJhY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ29MaXZlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICByZWNvcmRpbmdfc3RvcmFnZV9uYW1lOiByZXF1ZXN0Py5yZWNvcmRpbmdfc3RvcmFnZV9uYW1lLFxuICAgICAgICAgICAgc3RhcnRfY2xvc2VkX2NhcHRpb246IHJlcXVlc3Q/LnN0YXJ0X2Nsb3NlZF9jYXB0aW9uLFxuICAgICAgICAgICAgc3RhcnRfaGxzOiByZXF1ZXN0Py5zdGFydF9obHMsXG4gICAgICAgICAgICBzdGFydF9yZWNvcmRpbmc6IHJlcXVlc3Q/LnN0YXJ0X3JlY29yZGluZyxcbiAgICAgICAgICAgIHN0YXJ0X3RyYW5zY3JpcHRpb246IHJlcXVlc3Q/LnN0YXJ0X3RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICB0cmFuc2NyaXB0aW9uX3N0b3JhZ2VfbmFtZTogcmVxdWVzdD8udHJhbnNjcmlwdGlvbl9zdG9yYWdlX25hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2dvX2xpdmUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkdvTGl2ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBraWNrVXNlcihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIGJsb2NrOiByZXF1ZXN0Py5ibG9jayxcbiAgICAgICAgICAgIGtpY2tlZF9ieV9pZDogcmVxdWVzdD8ua2lja2VkX2J5X2lkLFxuICAgICAgICAgICAga2lja2VkX2J5OiByZXF1ZXN0Py5raWNrZWRfYnksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2tpY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLktpY2tVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGVuZENhbGwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbWFya19lbmRlZCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkVuZENhbGxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlQ2FsbE1lbWJlcnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHJlbW92ZV9tZW1iZXJzOiByZXF1ZXN0Py5yZW1vdmVfbWVtYmVycyxcbiAgICAgICAgICAgIHVwZGF0ZV9tZW1iZXJzOiByZXF1ZXN0Py51cGRhdGVfbWVtYmVycyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbWVtYmVycycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbXV0ZVVzZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBhdWRpbzogcmVxdWVzdD8uYXVkaW8sXG4gICAgICAgICAgICBtdXRlX2FsbF91c2VyczogcmVxdWVzdD8ubXV0ZV9hbGxfdXNlcnMsXG4gICAgICAgICAgICBtdXRlZF9ieV9pZDogcmVxdWVzdD8ubXV0ZWRfYnlfaWQsXG4gICAgICAgICAgICBzY3JlZW5zaGFyZTogcmVxdWVzdD8uc2NyZWVuc2hhcmUsXG4gICAgICAgICAgICBzY3JlZW5zaGFyZV9hdWRpbzogcmVxdWVzdD8uc2NyZWVuc2hhcmVfYXVkaW8sXG4gICAgICAgICAgICB2aWRlbzogcmVxdWVzdD8udmlkZW8sXG4gICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdD8udXNlcl9pZHMsXG4gICAgICAgICAgICBtdXRlZF9ieTogcmVxdWVzdD8ubXV0ZWRfYnksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L211dGVfdXNlcnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLk11dGVVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUNhbGxQYXJ0aWNpcGFudHMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdD8uZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3BhcnRpY2lwYW50cycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdmlkZW9QaW4ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3Q/LnNlc3Npb25faWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9waW4nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlBpblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBsaXN0UmVjb3JkaW5ncyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3JlY29yZGluZ3MnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5MaXN0UmVjb3JkaW5nc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRDYWxsUmVwb3J0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBzZXNzaW9uX2lkOiByZXF1ZXN0Py5zZXNzaW9uX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9yZXBvcnQnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldENhbGxSZXBvcnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnRSVE1QQnJvYWRjYXN0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgYnJvYWRjYXN0czogcmVxdWVzdD8uYnJvYWRjYXN0cyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcnRtcF9icm9hZGNhc3RzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHN0b3BBbGxSVE1QQnJvYWRjYXN0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMvc3RvcCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLlN0b3BBbGxSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzdG9wUlRNUEJyb2FkY2FzdChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMve25hbWV9L3N0b3AnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlN0b3BSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzdGFydEhMU0Jyb2FkY2FzdGluZyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9icm9hZGNhc3RpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5TdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzdGFydENsb3NlZENhcHRpb25zKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBlbmFibGVfdHJhbnNjcmlwdGlvbjogcmVxdWVzdD8uZW5hYmxlX3RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICBleHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0Py5leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IHJlcXVlc3Q/Lmxhbmd1YWdlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9jbG9zZWRfY2FwdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnRGcmFtZVJlY29yZGluZyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgcmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3Q/LnJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9mcmFtZV9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnRSZWNvcmRpbmcocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0Py5yZWNvcmRpbmdfZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfcmVjb3JkaW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TdGFydFJlY29yZGluZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzdGFydFRyYW5zY3JpcHRpb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGVuYWJsZV9jbG9zZWRfY2FwdGlvbnM6IHJlcXVlc3Q/LmVuYWJsZV9jbG9zZWRfY2FwdGlvbnMsXG4gICAgICAgICAgICBsYW5ndWFnZTogcmVxdWVzdD8ubGFuZ3VhZ2UsXG4gICAgICAgICAgICB0cmFuc2NyaXB0aW9uX2V4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3Q/LnRyYW5zY3JpcHRpb25fZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfdHJhbnNjcmlwdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHN0b3BITFNCcm9hZGNhc3RpbmcocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9icm9hZGNhc3RpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5TdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHN0b3BDbG9zZWRDYXB0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgc3RvcF90cmFuc2NyaXB0aW9uOiByZXF1ZXN0Py5zdG9wX3RyYW5zY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfY2xvc2VkX2NhcHRpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc3RvcEZyYW1lUmVjb3JkaW5nKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfZnJhbWVfcmVjb3JkaW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuU3RvcEZyYW1lUmVjb3JkaW5nUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHN0b3BMaXZlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBjb250aW51ZV9jbG9zZWRfY2FwdGlvbjogcmVxdWVzdD8uY29udGludWVfY2xvc2VkX2NhcHRpb24sXG4gICAgICAgICAgICBjb250aW51ZV9obHM6IHJlcXVlc3Q/LmNvbnRpbnVlX2hscyxcbiAgICAgICAgICAgIGNvbnRpbnVlX3JlY29yZGluZzogcmVxdWVzdD8uY29udGludWVfcmVjb3JkaW5nLFxuICAgICAgICAgICAgY29udGludWVfcnRtcF9icm9hZGNhc3RzOiByZXF1ZXN0Py5jb250aW51ZV9ydG1wX2Jyb2FkY2FzdHMsXG4gICAgICAgICAgICBjb250aW51ZV90cmFuc2NyaXB0aW9uOiByZXF1ZXN0Py5jb250aW51ZV90cmFuc2NyaXB0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdG9wX2xpdmUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlN0b3BMaXZlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHN0b3BSZWNvcmRpbmcocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5TdG9wUmVjb3JkaW5nUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHN0b3BUcmFuc2NyaXB0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBzdG9wX2Nsb3NlZF9jYXB0aW9uczogcmVxdWVzdD8uc3RvcF9jbG9zZWRfY2FwdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfdHJhbnNjcmlwdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFRyYW5zY3JpcHRpb25zKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vdHJhbnNjcmlwdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5MaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdW5ibG9ja1VzZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3VuYmxvY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVuYmxvY2tVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHZpZGVvVW5waW4ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3Q/LnNlc3Npb25faWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS91bnBpbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVW5waW5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlVXNlclBlcm1pc3Npb25zKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgZ3JhbnRfcGVybWlzc2lvbnM6IHJlcXVlc3Q/LmdyYW50X3Blcm1pc3Npb25zLFxuICAgICAgICAgICAgcmV2b2tlX3Blcm1pc3Npb25zOiByZXF1ZXN0Py5yZXZva2VfcGVybWlzc2lvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3VzZXJfcGVybWlzc2lvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVSZWNvcmRpbmcocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3Q/LnNlc3Npb24sXG4gICAgICAgICAgICBmaWxlbmFtZTogcmVxdWVzdD8uZmlsZW5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0ve3Nlc3Npb259L3JlY29yZGluZ3Mve2ZpbGVuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVUcmFuc2NyaXB0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICBzZXNzaW9uOiByZXF1ZXN0Py5zZXNzaW9uLFxuICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3Q/LmZpbGVuYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3tzZXNzaW9ufS90cmFuc2NyaXB0aW9ucy97ZmlsZW5hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlVHJhbnNjcmlwdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUNhbGxzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0Py5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5Q2FsbHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdENhbGxUeXBlcygpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5MaXN0Q2FsbFR5cGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlQ2FsbFR5cGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIGV4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3Q/LmV4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICBncmFudHM6IHJlcXVlc3Q/LmdyYW50cyxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbl9zZXR0aW5nczogcmVxdWVzdD8ubm90aWZpY2F0aW9uX3NldHRpbmdzLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHJlcXVlc3Q/LnNldHRpbmdzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNyZWF0ZUNhbGxUeXBlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUNhbGxUeXBlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q2FsbFR5cGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkdldENhbGxUeXBlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZUNhbGxUeXBlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBleHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0Py5leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0Py5ncmFudHMsXG4gICAgICAgICAgICBub3RpZmljYXRpb25fc2V0dGluZ3M6IHJlcXVlc3Q/Lm5vdGlmaWNhdGlvbl9zZXR0aW5ncyxcbiAgICAgICAgICAgIHNldHRpbmdzOiByZXF1ZXN0Py5zZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ2FsbFR5cGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0RWRnZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2VkZ2VzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRFZGdlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmcm9tOiByZXF1ZXN0Py5mcm9tLFxuICAgICAgICAgICAgdG86IHJlcXVlc3Q/LnRvLFxuICAgICAgICAgICAgcmVwb3J0X3R5cGVzOiByZXF1ZXN0Py5yZXBvcnRfdHlwZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9zdGF0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbn1cblxuY2xhc3MgQ2FsbEFwaSB7XG4gICAgY29uc3RydWN0b3IodmlkZW9BcGksIHR5cGUsIGlkKSB7XG4gICAgICAgIHRoaXMudmlkZW9BcGkgPSB2aWRlb0FwaTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICBnZXQocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSwgLi4ucmVxdWVzdCB9KTtcbiAgICB9XG4gICAgdXBkYXRlKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudXBkYXRlQ2FsbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRPckNyZWF0ZShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmdldE9yQ3JlYXRlQ2FsbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBibG9ja1VzZXIocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5ibG9ja1VzZXIoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlQ2FsbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZW5kQ2FsbEV2ZW50KHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc2VuZENhbGxFdmVudCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb2xsZWN0VXNlckZlZWRiYWNrKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuY29sbGVjdFVzZXJGZWVkYmFjayh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnb0xpdmUocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nb0xpdmUoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlLCAuLi5yZXF1ZXN0IH0pO1xuICAgIH1cbiAgICBraWNrVXNlcihyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmtpY2tVc2VyKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSwgLi4ucmVxdWVzdCB9KTtcbiAgICB9XG4gICAgZW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5lbmRDYWxsKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICB9XG4gICAgdXBkYXRlQ2FsbE1lbWJlcnMocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51cGRhdGVDYWxsTWVtYmVycyh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdXRlVXNlcnMocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5tdXRlVXNlcnMoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcXVlcnlDYWxsUGFydGljaXBhbnRzKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkucXVlcnlDYWxsUGFydGljaXBhbnRzKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZpZGVvUGluKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudmlkZW9QaW4oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlLCAuLi5yZXF1ZXN0IH0pO1xuICAgIH1cbiAgICBsaXN0UmVjb3JkaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubGlzdFJlY29yZGluZ3MoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgIH1cbiAgICBnZXRDYWxsUmVwb3J0KHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0Q2FsbFJlcG9ydCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydFJUTVBCcm9hZGNhc3RzKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRSVE1QQnJvYWRjYXN0cyh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdG9wQWxsUlRNUEJyb2FkY2FzdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BBbGxSVE1QQnJvYWRjYXN0cyh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0b3BSVE1QQnJvYWRjYXN0KHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcFJUTVBCcm9hZGNhc3Qoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRITFNCcm9hZGNhc3RpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0SExTQnJvYWRjYXN0aW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICB9XG4gICAgc3RhcnRDbG9zZWRDYXB0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0Q2xvc2VkQ2FwdGlvbnMoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRGcmFtZVJlY29yZGluZyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0RnJhbWVSZWNvcmRpbmcoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRSZWNvcmRpbmcocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFJlY29yZGluZyh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydFRyYW5zY3JpcHRpb24ocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFRyYW5zY3JpcHRpb24oe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RvcEhMU0Jyb2FkY2FzdGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcEhMU0Jyb2FkY2FzdGluZyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgfVxuICAgIHN0b3BDbG9zZWRDYXB0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BDbG9zZWRDYXB0aW9ucyh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdG9wRnJhbWVSZWNvcmRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BGcmFtZVJlY29yZGluZyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgfVxuICAgIHN0b3BMaXZlKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcExpdmUoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlLCAuLi5yZXF1ZXN0IH0pO1xuICAgIH1cbiAgICBzdG9wUmVjb3JkaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wUmVjb3JkaW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICB9XG4gICAgc3RvcFRyYW5zY3JpcHRpb24ocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wVHJhbnNjcmlwdGlvbih7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0VHJhbnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmxpc3RUcmFuc2NyaXB0aW9ucyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgfVxuICAgIHVuYmxvY2tVc2VyKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudW5ibG9ja1VzZXIoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmlkZW9VbnBpbihyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnZpZGVvVW5waW4oe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlVXNlclBlcm1pc3Npb25zKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlbGV0ZVJlY29yZGluZyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZVJlY29yZGluZyh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWxldGVUcmFuc2NyaXB0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlVHJhbnNjcmlwdGlvbih7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2FsbCBleHRlbmRzIENhbGxBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNyZWF0ZSA9IChyZXF1ZXN0KSA9PiB0aGlzLmdldE9yQ3JlYXRlKHJlcXVlc3QpO1xuICAgICAgICB0aGlzLnF1ZXJ5TWVtYmVycyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5xdWVyeUNhbGxNZW1iZXJzKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4uKHJlcXVlc3QgPz8ge30pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBjaWQoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnR5cGV9OiR7dGhpcy5pZH1gO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtVmlkZW9DbGllbnQgZXh0ZW5kcyBWaWRlb0FwaSB7XG4gICAgY29uc3RydWN0b3IoeyBzdHJlYW1DbGllbnQsIGFwaUNsaWVudCwgfSkge1xuICAgICAgICBzdXBlcihhcGlDbGllbnQpO1xuICAgICAgICB0aGlzLmNhbGwgPSAodHlwZSwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2FsbCh0aGlzLCB0eXBlLCBpZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29ubmVjdE9wZW5BaSA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBsZXQgZG9DcmVhdGVSZWFsdGltZUNsaWVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZG9DcmVhdGVSZWFsdGltZUNsaWVudCA9IChhd2FpdCBpbXBvcnQoJ0BzdHJlYW0taW8vb3BlbmFpLXJlYWx0aW1lLWFwaScpKVxuICAgICAgICAgICAgICAgICAgICAuY3JlYXRlUmVhbHRpbWVDbGllbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIFJlYWx0aW1lIEFQSSBjbGllbnQuIElzIEBzdHJlYW0taW8vb3BlbmFpLXJlYWx0aW1lLWFwaSBpbnN0YWxsZWQ/Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWdlbnRVc2VySWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiYWdlbnRVc2VySWRcIiBtdXN0IGJ5IHNwZWNpZmllZCBpbiBvcHRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuc3RyZWFtQ2xpZW50LmdlbmVyYXRlQ2FsbFRva2VuKHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiBvcHRpb25zLmFnZW50VXNlcklkLFxuICAgICAgICAgICAgICAgIGNhbGxfY2lkczogW29wdGlvbnMuY2FsbC5jaWRdLFxuICAgICAgICAgICAgICAgIHZhbGlkaXR5X2luX3NlY29uZHM6IG9wdGlvbnMudmFsaWRpdHlJblNlY29uZHMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWx0aW1lQ2xpZW50ID0gZG9DcmVhdGVSZWFsdGltZUNsaWVudCh7XG4gICAgICAgICAgICAgICAgYmFzZVVybDogdGhpcy5zdHJlYW1DbGllbnQuYXBpQ2xpZW50LmFwaUNvbmZpZy5iYXNlVXJsLFxuICAgICAgICAgICAgICAgIGNhbGw6IG9wdGlvbnMuY2FsbCxcbiAgICAgICAgICAgICAgICBzdHJlYW1BcGlLZXk6IHRoaXMuc3RyZWFtQ2xpZW50LmFwaUNsaWVudC5hcGlDb25maWcuYXBpS2V5LFxuICAgICAgICAgICAgICAgIHN0cmVhbVVzZXJUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgb3BlbkFpQXBpS2V5OiBvcHRpb25zLm9wZW5BaUFwaUtleSxcbiAgICAgICAgICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgcmVhbHRpbWVDbGllbnQuY29ubmVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlYWx0aW1lQ2xpZW50O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0cmVhbUNsaWVudCA9IHN0cmVhbUNsaWVudDtcbiAgICB9XG59XG5cbmNsYXNzIENoYXRBcGkge1xuICAgIGNvbnN0cnVjdG9yKGFwaUNsaWVudCkge1xuICAgICAgICB0aGlzLmFwaUNsaWVudCA9IGFwaUNsaWVudDtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlDYW1wYWlnbnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICB1c2VyX2xpbWl0OiByZXF1ZXN0Py51c2VyX2xpbWl0LFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlDYW1wYWlnbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q2FtcGFpZ24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NhbXBhaWducy97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5HZXRDYW1wYWlnblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzdGFydENhbXBhaWduKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHNjaGVkdWxlZF9mb3I6IHJlcXVlc3Q/LnNjaGVkdWxlZF9mb3IsXG4gICAgICAgICAgICBzdG9wX2F0OiByZXF1ZXN0Py5zdG9wX2F0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfS9zdGFydCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuU3RhcnRDYW1wYWlnblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzY2hlZHVsZUNhbXBhaWduKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfS9zdG9wJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DYW1wYWlnblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUNoYW5uZWxzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIG1lbWJlcl9saW1pdDogcmVxdWVzdD8ubWVtYmVyX2xpbWl0LFxuICAgICAgICAgICAgbWVzc2FnZV9saW1pdDogcmVxdWVzdD8ubWVzc2FnZV9saW1pdCxcbiAgICAgICAgICAgIG9mZnNldDogcmVxdWVzdD8ub2Zmc2V0LFxuICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3Q/LnN0YXRlLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdD8uZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeUNoYW5uZWxzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUNoYW5uZWxzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGNpZHM6IHJlcXVlc3Q/LmNpZHMsXG4gICAgICAgICAgICBoYXJkX2RlbGV0ZTogcmVxdWVzdD8uaGFyZF9kZWxldGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL2RlbGV0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5EZWxldGVDaGFubmVsc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBtYXJrQ2hhbm5lbHNSZWFkKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICByZWFkX2J5X2NoYW5uZWw6IHJlcXVlc3Q/LnJlYWRfYnlfY2hhbm5lbCxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGhpZGVfZm9yX2NyZWF0b3I6IHJlcXVlc3Q/LmhpZGVfZm9yX2NyZWF0b3IsXG4gICAgICAgICAgICBzdGF0ZTogcmVxdWVzdD8uc3RhdGUsXG4gICAgICAgICAgICB0aHJlYWRfdW5yZWFkX2NvdW50czogcmVxdWVzdD8udGhyZWFkX3VucmVhZF9jb3VudHMsXG4gICAgICAgICAgICBkYXRhOiByZXF1ZXN0Py5kYXRhLFxuICAgICAgICAgICAgbWVtYmVyczogcmVxdWVzdD8ubWVtYmVycyxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0Py5tZXNzYWdlcyxcbiAgICAgICAgICAgIHdhdGNoZXJzOiByZXF1ZXN0Py53YXRjaGVycyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3F1ZXJ5JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlQ2hhbm5lbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3Q/LmhhcmRfZGVsZXRlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlQ2hhbm5lbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVDaGFubmVsUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVDaGFubmVsUGFydGlhbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVDaGFubmVsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBhY2NlcHRfaW52aXRlOiByZXF1ZXN0Py5hY2NlcHRfaW52aXRlLFxuICAgICAgICAgICAgY29vbGRvd246IHJlcXVlc3Q/LmNvb2xkb3duLFxuICAgICAgICAgICAgaGlkZV9oaXN0b3J5OiByZXF1ZXN0Py5oaWRlX2hpc3RvcnksXG4gICAgICAgICAgICByZWplY3RfaW52aXRlOiByZXF1ZXN0Py5yZWplY3RfaW52aXRlLFxuICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0Py5za2lwX3B1c2gsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgYWRkX21lbWJlcnM6IHJlcXVlc3Q/LmFkZF9tZW1iZXJzLFxuICAgICAgICAgICAgYWRkX21vZGVyYXRvcnM6IHJlcXVlc3Q/LmFkZF9tb2RlcmF0b3JzLFxuICAgICAgICAgICAgYXNzaWduX3JvbGVzOiByZXF1ZXN0Py5hc3NpZ25fcm9sZXMsXG4gICAgICAgICAgICBkZW1vdGVfbW9kZXJhdG9yczogcmVxdWVzdD8uZGVtb3RlX21vZGVyYXRvcnMsXG4gICAgICAgICAgICBpbnZpdGVzOiByZXF1ZXN0Py5pbnZpdGVzLFxuICAgICAgICAgICAgcmVtb3ZlX21lbWJlcnM6IHJlcXVlc3Q/LnJlbW92ZV9tZW1iZXJzLFxuICAgICAgICAgICAgZGF0YTogcmVxdWVzdD8uZGF0YSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3Q/Lm1lc3NhZ2UsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVEcmFmdChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgcGFyZW50X2lkOiByZXF1ZXN0Py5wYXJlbnRfaWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9kcmFmdCcsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldERyYWZ0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBwYXJlbnRfaWQ6IHJlcXVlc3Q/LnBhcmVudF9pZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2RyYWZ0JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5HZXREcmFmdFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzZW5kRXZlbnQocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiByZXF1ZXN0Py5ldmVudCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkV2ZW50UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUZpbGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVybDogcmVxdWVzdD8udXJsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9maWxlJywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkRmlsZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZmlsZTogcmVxdWVzdD8uZmlsZSxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2ZpbGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdtdWx0aXBhcnQvZm9ybS1kYXRhJyk7XG4gICAgICAgIGRlY29kZXJzLkZpbGVVcGxvYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgaGlkZUNoYW5uZWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGNsZWFyX2hpc3Rvcnk6IHJlcXVlc3Q/LmNsZWFyX2hpc3RvcnksXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vaGlkZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuSGlkZUNoYW5uZWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlSW1hZ2UocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVybDogcmVxdWVzdD8udXJsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9pbWFnZScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVwbG9hZEltYWdlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmaWxlOiByZXF1ZXN0Py5maWxlLFxuICAgICAgICAgICAgdXBsb2FkX3NpemVzOiByZXF1ZXN0Py51cGxvYWRfc2l6ZXMsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9pbWFnZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ211bHRpcGFydC9mb3JtLWRhdGEnKTtcbiAgICAgICAgZGVjb2RlcnMuSW1hZ2VVcGxvYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlTWVtYmVyUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB1bnNldDogcmVxdWVzdD8udW5zZXQsXG4gICAgICAgICAgICBzZXQ6IHJlcXVlc3Q/LnNldCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L21lbWJlcicsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVNZW1iZXJQYXJ0aWFsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0Py5tZXNzYWdlLFxuICAgICAgICAgICAgZm9yY2VfbW9kZXJhdGlvbjogcmVxdWVzdD8uZm9yY2VfbW9kZXJhdGlvbixcbiAgICAgICAgICAgIGtlZXBfY2hhbm5lbF9oaWRkZW46IHJlcXVlc3Q/LmtlZXBfY2hhbm5lbF9oaWRkZW4sXG4gICAgICAgICAgICBwZW5kaW5nOiByZXF1ZXN0Py5wZW5kaW5nLFxuICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0Py5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3Q/LnNraXBfcHVzaCxcbiAgICAgICAgICAgIHBlbmRpbmdfbWVzc2FnZV9tZXRhZGF0YTogcmVxdWVzdD8ucGVuZGluZ19tZXNzYWdlX21ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZXNzYWdlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TZW5kTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRNYW55TWVzc2FnZXMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkczogcmVxdWVzdD8uaWRzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZXNzYWdlcycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0TWFueU1lc3NhZ2VzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldE9yQ3JlYXRlQ2hhbm5lbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgaGlkZV9mb3JfY3JlYXRvcjogcmVxdWVzdD8uaGlkZV9mb3JfY3JlYXRvcixcbiAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0Py5zdGF0ZSxcbiAgICAgICAgICAgIHRocmVhZF91bnJlYWRfY291bnRzOiByZXF1ZXN0Py50aHJlYWRfdW5yZWFkX2NvdW50cyxcbiAgICAgICAgICAgIGRhdGE6IHJlcXVlc3Q/LmRhdGEsXG4gICAgICAgICAgICBtZW1iZXJzOiByZXF1ZXN0Py5tZW1iZXJzLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3Q/Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgd2F0Y2hlcnM6IHJlcXVlc3Q/LndhdGNoZXJzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQ2hhbm5lbFN0YXRlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIG1hcmtSZWFkKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgdGhyZWFkX2lkOiByZXF1ZXN0Py50aHJlYWRfaWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vcmVhZCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc2hvd0NoYW5uZWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9zaG93JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TaG93Q2hhbm5lbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB0cnVuY2F0ZUNoYW5uZWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0Py5oYXJkX2RlbGV0ZSxcbiAgICAgICAgICAgIHNraXBfcHVzaDogcmVxdWVzdD8uc2tpcF9wdXNoLFxuICAgICAgICAgICAgdHJ1bmNhdGVkX2F0OiByZXF1ZXN0Py50cnVuY2F0ZWRfYXQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgbWVtYmVyX2lkczogcmVxdWVzdD8ubWVtYmVyX2lkcyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3Q/Lm1lc3NhZ2UsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS90cnVuY2F0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVHJ1bmNhdGVDaGFubmVsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIG1hcmtVbnJlYWQocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3Q/Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICB0aHJlYWRfaWQ6IHJlcXVlc3Q/LnRocmVhZF9pZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS91bnJlYWQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBsaXN0Q2hhbm5lbFR5cGVzKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuTGlzdENoYW5uZWxUeXBlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVDaGFubmVsVHlwZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBhdXRvbW9kOiByZXF1ZXN0Py5hdXRvbW9kLFxuICAgICAgICAgICAgYXV0b21vZF9iZWhhdmlvcjogcmVxdWVzdD8uYXV0b21vZF9iZWhhdmlvcixcbiAgICAgICAgICAgIG1heF9tZXNzYWdlX2xlbmd0aDogcmVxdWVzdD8ubWF4X21lc3NhZ2VfbGVuZ3RoLFxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIGJsb2NrbGlzdDogcmVxdWVzdD8uYmxvY2tsaXN0LFxuICAgICAgICAgICAgYmxvY2tsaXN0X2JlaGF2aW9yOiByZXF1ZXN0Py5ibG9ja2xpc3RfYmVoYXZpb3IsXG4gICAgICAgICAgICBjb25uZWN0X2V2ZW50czogcmVxdWVzdD8uY29ubmVjdF9ldmVudHMsXG4gICAgICAgICAgICBjdXN0b21fZXZlbnRzOiByZXF1ZXN0Py5jdXN0b21fZXZlbnRzLFxuICAgICAgICAgICAgbWFya19tZXNzYWdlc19wZW5kaW5nOiByZXF1ZXN0Py5tYXJrX21lc3NhZ2VzX3BlbmRpbmcsXG4gICAgICAgICAgICBtZXNzYWdlX3JldGVudGlvbjogcmVxdWVzdD8ubWVzc2FnZV9yZXRlbnRpb24sXG4gICAgICAgICAgICBtdXRlczogcmVxdWVzdD8ubXV0ZXMsXG4gICAgICAgICAgICBwYXJ0aXRpb25fc2l6ZTogcmVxdWVzdD8ucGFydGl0aW9uX3NpemUsXG4gICAgICAgICAgICBwYXJ0aXRpb25fdHRsOiByZXF1ZXN0Py5wYXJ0aXRpb25fdHRsLFxuICAgICAgICAgICAgcG9sbHM6IHJlcXVlc3Q/LnBvbGxzLFxuICAgICAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiByZXF1ZXN0Py5wdXNoX25vdGlmaWNhdGlvbnMsXG4gICAgICAgICAgICByZWFjdGlvbnM6IHJlcXVlc3Q/LnJlYWN0aW9ucyxcbiAgICAgICAgICAgIHJlYWRfZXZlbnRzOiByZXF1ZXN0Py5yZWFkX2V2ZW50cyxcbiAgICAgICAgICAgIHJlcGxpZXM6IHJlcXVlc3Q/LnJlcGxpZXMsXG4gICAgICAgICAgICBzZWFyY2g6IHJlcXVlc3Q/LnNlYXJjaCxcbiAgICAgICAgICAgIHNoYXJlZF9sb2NhdGlvbnM6IHJlcXVlc3Q/LnNoYXJlZF9sb2NhdGlvbnMsXG4gICAgICAgICAgICBza2lwX2xhc3RfbXNnX3VwZGF0ZV9mb3Jfc3lzdGVtX21zZ3M6IHJlcXVlc3Q/LnNraXBfbGFzdF9tc2dfdXBkYXRlX2Zvcl9zeXN0ZW1fbXNncyxcbiAgICAgICAgICAgIHR5cGluZ19ldmVudHM6IHJlcXVlc3Q/LnR5cGluZ19ldmVudHMsXG4gICAgICAgICAgICB1cGxvYWRzOiByZXF1ZXN0Py51cGxvYWRzLFxuICAgICAgICAgICAgdXJsX2VucmljaG1lbnQ6IHJlcXVlc3Q/LnVybF9lbnJpY2htZW50LFxuICAgICAgICAgICAgdXNlcl9tZXNzYWdlX3JlbWluZGVyczogcmVxdWVzdD8udXNlcl9tZXNzYWdlX3JlbWluZGVycyxcbiAgICAgICAgICAgIGJsb2NrbGlzdHM6IHJlcXVlc3Q/LmJsb2NrbGlzdHMsXG4gICAgICAgICAgICBjb21tYW5kczogcmVxdWVzdD8uY29tbWFuZHMsXG4gICAgICAgICAgICBwZXJtaXNzaW9uczogcmVxdWVzdD8ucGVybWlzc2lvbnMsXG4gICAgICAgICAgICBncmFudHM6IHJlcXVlc3Q/LmdyYW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNyZWF0ZUNoYW5uZWxUeXBlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUNoYW5uZWxUeXBlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRDaGFubmVsVHlwZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRDaGFubmVsVHlwZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVDaGFubmVsVHlwZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgYXV0b21vZDogcmVxdWVzdD8uYXV0b21vZCxcbiAgICAgICAgICAgIGF1dG9tb2RfYmVoYXZpb3I6IHJlcXVlc3Q/LmF1dG9tb2RfYmVoYXZpb3IsXG4gICAgICAgICAgICBtYXhfbWVzc2FnZV9sZW5ndGg6IHJlcXVlc3Q/Lm1heF9tZXNzYWdlX2xlbmd0aCxcbiAgICAgICAgICAgIGJsb2NrbGlzdDogcmVxdWVzdD8uYmxvY2tsaXN0LFxuICAgICAgICAgICAgYmxvY2tsaXN0X2JlaGF2aW9yOiByZXF1ZXN0Py5ibG9ja2xpc3RfYmVoYXZpb3IsXG4gICAgICAgICAgICBjb25uZWN0X2V2ZW50czogcmVxdWVzdD8uY29ubmVjdF9ldmVudHMsXG4gICAgICAgICAgICBjb3VudF9tZXNzYWdlczogcmVxdWVzdD8uY291bnRfbWVzc2FnZXMsXG4gICAgICAgICAgICBjdXN0b21fZXZlbnRzOiByZXF1ZXN0Py5jdXN0b21fZXZlbnRzLFxuICAgICAgICAgICAgbWFya19tZXNzYWdlc19wZW5kaW5nOiByZXF1ZXN0Py5tYXJrX21lc3NhZ2VzX3BlbmRpbmcsXG4gICAgICAgICAgICBtdXRlczogcmVxdWVzdD8ubXV0ZXMsXG4gICAgICAgICAgICBwYXJ0aXRpb25fc2l6ZTogcmVxdWVzdD8ucGFydGl0aW9uX3NpemUsXG4gICAgICAgICAgICBwYXJ0aXRpb25fdHRsOiByZXF1ZXN0Py5wYXJ0aXRpb25fdHRsLFxuICAgICAgICAgICAgcG9sbHM6IHJlcXVlc3Q/LnBvbGxzLFxuICAgICAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiByZXF1ZXN0Py5wdXNoX25vdGlmaWNhdGlvbnMsXG4gICAgICAgICAgICBxdW90ZXM6IHJlcXVlc3Q/LnF1b3RlcyxcbiAgICAgICAgICAgIHJlYWN0aW9uczogcmVxdWVzdD8ucmVhY3Rpb25zLFxuICAgICAgICAgICAgcmVhZF9ldmVudHM6IHJlcXVlc3Q/LnJlYWRfZXZlbnRzLFxuICAgICAgICAgICAgcmVtaW5kZXJzOiByZXF1ZXN0Py5yZW1pbmRlcnMsXG4gICAgICAgICAgICByZXBsaWVzOiByZXF1ZXN0Py5yZXBsaWVzLFxuICAgICAgICAgICAgc2VhcmNoOiByZXF1ZXN0Py5zZWFyY2gsXG4gICAgICAgICAgICBzaGFyZWRfbG9jYXRpb25zOiByZXF1ZXN0Py5zaGFyZWRfbG9jYXRpb25zLFxuICAgICAgICAgICAgc2tpcF9sYXN0X21zZ191cGRhdGVfZm9yX3N5c3RlbV9tc2dzOiByZXF1ZXN0Py5za2lwX2xhc3RfbXNnX3VwZGF0ZV9mb3Jfc3lzdGVtX21zZ3MsXG4gICAgICAgICAgICB0eXBpbmdfZXZlbnRzOiByZXF1ZXN0Py50eXBpbmdfZXZlbnRzLFxuICAgICAgICAgICAgdXBsb2FkczogcmVxdWVzdD8udXBsb2FkcyxcbiAgICAgICAgICAgIHVybF9lbnJpY2htZW50OiByZXF1ZXN0Py51cmxfZW5yaWNobWVudCxcbiAgICAgICAgICAgIHVzZXJfbWVzc2FnZV9yZW1pbmRlcnM6IHJlcXVlc3Q/LnVzZXJfbWVzc2FnZV9yZW1pbmRlcnMsXG4gICAgICAgICAgICBhbGxvd2VkX2ZsYWdfcmVhc29uczogcmVxdWVzdD8uYWxsb3dlZF9mbGFnX3JlYXNvbnMsXG4gICAgICAgICAgICBibG9ja2xpc3RzOiByZXF1ZXN0Py5ibG9ja2xpc3RzLFxuICAgICAgICAgICAgY29tbWFuZHM6IHJlcXVlc3Q/LmNvbW1hbmRzLFxuICAgICAgICAgICAgcGVybWlzc2lvbnM6IHJlcXVlc3Q/LnBlcm1pc3Npb25zLFxuICAgICAgICAgICAgYXV0b21vZF90aHJlc2hvbGRzOiByZXF1ZXN0Py5hdXRvbW9kX3RocmVzaG9sZHMsXG4gICAgICAgICAgICBncmFudHM6IHJlcXVlc3Q/LmdyYW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVDaGFubmVsVHlwZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBsaXN0Q29tbWFuZHMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY29tbWFuZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkxpc3RDb21tYW5kc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVDb21tYW5kKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICBhcmdzOiByZXF1ZXN0Py5hcmdzLFxuICAgICAgICAgICAgc2V0OiByZXF1ZXN0Py5zZXQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNyZWF0ZUNvbW1hbmRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlQ29tbWFuZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZUNvbW1hbmRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q29tbWFuZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkdldENvbW1hbmRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlQ29tbWFuZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3Q/LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgYXJnczogcmVxdWVzdD8uYXJncyxcbiAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeURyYWZ0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9kcmFmdHMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlEcmFmdHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZXhwb3J0Q2hhbm5lbHMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgY2hhbm5lbHM6IHJlcXVlc3Q/LmNoYW5uZWxzLFxuICAgICAgICAgICAgY2xlYXJfZGVsZXRlZF9tZXNzYWdlX3RleHQ6IHJlcXVlc3Q/LmNsZWFyX2RlbGV0ZWRfbWVzc2FnZV90ZXh0LFxuICAgICAgICAgICAgZXhwb3J0X3VzZXJzOiByZXF1ZXN0Py5leHBvcnRfdXNlcnMsXG4gICAgICAgICAgICBpbmNsdWRlX3NvZnRfZGVsZXRlZF9jaGFubmVsczogcmVxdWVzdD8uaW5jbHVkZV9zb2Z0X2RlbGV0ZWRfY2hhbm5lbHMsXG4gICAgICAgICAgICBpbmNsdWRlX3RydW5jYXRlZF9tZXNzYWdlczogcmVxdWVzdD8uaW5jbHVkZV90cnVuY2F0ZWRfbWVzc2FnZXMsXG4gICAgICAgICAgICB2ZXJzaW9uOiByZXF1ZXN0Py52ZXJzaW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9leHBvcnRfY2hhbm5lbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuRXhwb3J0Q2hhbm5lbHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0Py5wYXlsb2FkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lbWJlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuTWVtYmVyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeU1lc3NhZ2VIaXN0b3J5KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy9oaXN0b3J5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5TWVzc2FnZUhpc3RvcnlSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlTWVzc2FnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgaGFyZDogcmVxdWVzdD8uaGFyZCxcbiAgICAgICAgICAgIGRlbGV0ZWRfYnk6IHJlcXVlc3Q/LmRlbGV0ZWRfYnksXG4gICAgICAgICAgICBkZWxldGVfZm9yX21lOiByZXF1ZXN0Py5kZWxldGVfZm9yX21lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZU1lc3NhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TWVzc2FnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgc2hvd19kZWxldGVkX21lc3NhZ2U6IHJlcXVlc3Q/LnNob3dfZGVsZXRlZF9tZXNzYWdlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldE1lc3NhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlTWVzc2FnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0Py5tZXNzYWdlLFxuICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0Py5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3Q/LnNraXBfcHVzaCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVNZXNzYWdlUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBza2lwX2VucmljaF91cmw6IHJlcXVlc3Q/LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1bnNldDogcmVxdWVzdD8udW5zZXQsXG4gICAgICAgICAgICBzZXQ6IHJlcXVlc3Q/LnNldCxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVBhcnRpYWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcnVuTWVzc2FnZUFjdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmb3JtX2RhdGE6IHJlcXVlc3Q/LmZvcm1fZGF0YSxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L2FjdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjb21taXRNZXNzYWdlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L2NvbW1pdCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBzZW5kUmVhY3Rpb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgcmVhY3Rpb246IHJlcXVlc3Q/LnJlYWN0aW9uLFxuICAgICAgICAgICAgZW5mb3JjZV91bmlxdWU6IHJlcXVlc3Q/LmVuZm9yY2VfdW5pcXVlLFxuICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0Py5za2lwX3B1c2gsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vcmVhY3Rpb24nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlNlbmRSZWFjdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVSZWFjdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbi97dHlwZX0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZVJlYWN0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFJlYWN0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgb2Zmc2V0OiByZXF1ZXN0Py5vZmZzZXQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbnMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldFJlYWN0aW9uc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeVJlYWN0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlSZWFjdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdHJhbnNsYXRlTWVzc2FnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsYW5ndWFnZTogcmVxdWVzdD8ubGFuZ3VhZ2UsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdHJhbnNsYXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVuZGVsZXRlTWVzc2FnZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0Py5tZXNzYWdlLFxuICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0Py5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3Q/LnNraXBfcHVzaCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS91bmRlbGV0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjYXN0UG9sbFZvdGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIHZvdGU6IHJlcXVlc3Q/LnZvdGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlUG9sbFZvdGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgICAgIHZvdGVfaWQ6IHJlcXVlc3Q/LnZvdGVfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve21lc3NhZ2VfaWR9L3BvbGxzL3twb2xsX2lkfS92b3RlL3t2b3RlX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlUmVtaW5kZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9yZW1pbmRlcnMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZVJlbWluZGVyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZVJlbWluZGVyKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3Q/Lm1lc3NhZ2VfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICByZW1pbmRfYXQ6IHJlcXVlc3Q/LnJlbWluZF9hdCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve21lc3NhZ2VfaWR9L3JlbWluZGVycycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlUmVtaW5kZXJSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlUmVtaW5kZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHJlbWluZF9hdDogcmVxdWVzdD8ucmVtaW5kX2F0LFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9yZW1pbmRlcnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlJlbWluZGVyUmVzcG9uc2VEYXRhPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRSZXBsaWVzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBvZmZzZXQ6IHJlcXVlc3Q/Lm9mZnNldCxcbiAgICAgICAgICAgIGlkX2d0ZTogcmVxdWVzdD8uaWRfZ3RlLFxuICAgICAgICAgICAgaWRfZ3Q6IHJlcXVlc3Q/LmlkX2d0LFxuICAgICAgICAgICAgaWRfbHRlOiByZXF1ZXN0Py5pZF9sdGUsXG4gICAgICAgICAgICBpZF9sdDogcmVxdWVzdD8uaWRfbHQsXG4gICAgICAgICAgICBjcmVhdGVkX2F0X2FmdGVyX29yX2VxdWFsOiByZXF1ZXN0Py5jcmVhdGVkX2F0X2FmdGVyX29yX2VxdWFsLFxuICAgICAgICAgICAgY3JlYXRlZF9hdF9hZnRlcjogcmVxdWVzdD8uY3JlYXRlZF9hdF9hZnRlcixcbiAgICAgICAgICAgIGNyZWF0ZWRfYXRfYmVmb3JlX29yX2VxdWFsOiByZXF1ZXN0Py5jcmVhdGVkX2F0X2JlZm9yZV9vcl9lcXVhbCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXRfYmVmb3JlOiByZXF1ZXN0Py5jcmVhdGVkX2F0X2JlZm9yZSxcbiAgICAgICAgICAgIGlkX2Fyb3VuZDogcmVxdWVzdD8uaWRfYXJvdW5kLFxuICAgICAgICAgICAgY3JlYXRlZF9hdF9hcm91bmQ6IHJlcXVlc3Q/LmNyZWF0ZWRfYXRfYXJvdW5kLFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBhcmVudF9pZDogcmVxdWVzdD8ucGFyZW50X2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3twYXJlbnRfaWR9L3JlcGxpZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldFJlcGxpZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlNZXNzYWdlRmxhZ3MocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBheWxvYWQ6IHJlcXVlc3Q/LnBheWxvYWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbW9kZXJhdGlvbi9mbGFncy9tZXNzYWdlJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5TWVzc2FnZUZsYWdzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIG11dGVDaGFubmVsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGV4cGlyYXRpb246IHJlcXVlc3Q/LmV4cGlyYXRpb24sXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgY2hhbm5lbF9jaWRzOiByZXF1ZXN0Py5jaGFubmVsX2NpZHMsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL211dGUvY2hhbm5lbCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5NdXRlQ2hhbm5lbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1bm11dGVDaGFubmVsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGV4cGlyYXRpb246IHJlcXVlc3Q/LmV4cGlyYXRpb24sXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgY2hhbm5lbF9jaWRzOiByZXF1ZXN0Py5jaGFubmVsX2NpZHMsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL3VubXV0ZS9jaGFubmVsJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVubXV0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVQdXNoTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgcHJlZmVyZW5jZXM6IHJlcXVlc3Q/LnByZWZlcmVuY2VzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wdXNoX3ByZWZlcmVuY2VzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwc2VydFB1c2hQcmVmZXJlbmNlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRQdXNoVGVtcGxhdGVzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX3R5cGU6IHJlcXVlc3Q/LnB1c2hfcHJvdmlkZXJfdHlwZSxcbiAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3B1c2hfdGVtcGxhdGVzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldFB1c2hUZW1wbGF0ZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBzZXJ0UHVzaFRlbXBsYXRlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGV2ZW50X3R5cGU6IHJlcXVlc3Q/LmV2ZW50X3R5cGUsXG4gICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX3R5cGU6IHJlcXVlc3Q/LnB1c2hfcHJvdmlkZXJfdHlwZSxcbiAgICAgICAgICAgIGVuYWJsZV9wdXNoOiByZXF1ZXN0Py5lbmFibGVfcHVzaCxcbiAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHJlcXVlc3Q/LnRlbXBsYXRlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wdXNoX3RlbXBsYXRlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcHNlcnRQdXNoVGVtcGxhdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlCYW5uZWRVc2VycyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdD8ucGF5bG9hZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9xdWVyeV9iYW5uZWRfdXNlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlCYW5uZWRVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeVJlbWluZGVycyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9yZW1pbmRlcnMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlSZW1pbmRlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc2VhcmNoKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0Py5wYXlsb2FkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3NlYXJjaCcsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5TZWFyY2hSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlTZWdtZW50cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlTZWdtZW50c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVTZWdtZW50KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9zZWdtZW50cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFNlZ21lbnQocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRTZWdtZW50UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZVNlZ21lbnRUYXJnZXRzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHRhcmdldF9pZHM6IHJlcXVlc3Q/LnRhcmdldF9pZHMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0vZGVsZXRldGFyZ2V0cycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHNlZ21lbnRUYXJnZXRFeGlzdHMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgdGFyZ2V0X2lkOiByZXF1ZXN0Py50YXJnZXRfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfS90YXJnZXQve3RhcmdldF9pZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlTZWdtZW50VGFyZ2V0cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfS90YXJnZXRzL3F1ZXJ5JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeVNlZ21lbnRUYXJnZXRzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5VGhyZWFkcyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBtZW1iZXJfbGltaXQ6IHJlcXVlc3Q/Lm1lbWJlcl9saW1pdCxcbiAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICBwYXJ0aWNpcGFudF9saW1pdDogcmVxdWVzdD8ucGFydGljaXBhbnRfbGltaXQsXG4gICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgcmVwbHlfbGltaXQ6IHJlcXVlc3Q/LnJlcGx5X2xpbWl0LFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3RocmVhZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlUaHJlYWRzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFRocmVhZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgcmVwbHlfbGltaXQ6IHJlcXVlc3Q/LnJlcGx5X2xpbWl0LFxuICAgICAgICAgICAgcGFydGljaXBhbnRfbGltaXQ6IHJlcXVlc3Q/LnBhcnRpY2lwYW50X2xpbWl0LFxuICAgICAgICAgICAgbWVtYmVyX2xpbWl0OiByZXF1ZXN0Py5tZW1iZXJfbGltaXQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3RocmVhZHMve21lc3NhZ2VfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5HZXRUaHJlYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlVGhyZWFkUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L3RocmVhZHMve21lc3NhZ2VfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVUaHJlYWRQYXJ0aWFsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVucmVhZENvdW50cygpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC91bnJlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLldyYXBwZWRVbnJlYWRDb3VudHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdW5yZWFkQ291bnRzQmF0Y2gocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3Q/LnVzZXJfaWRzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC91bnJlYWRfYmF0Y2gnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVW5yZWFkQ291bnRzQmF0Y2hSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFVzZXJDdXN0b21FdmVudChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZXZlbnQ6IHJlcXVlc3Q/LmV2ZW50LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC91c2Vycy97dXNlcl9pZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbn1cblxuY2xhc3MgQ2hhbm5lbEFwaSB7XG4gICAgY29uc3RydWN0b3IoY2hhdEFwaSwgdHlwZSwgaWQpIHtcbiAgICAgICAgdGhpcy5jaGF0QXBpID0gY2hhdEFwaTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICBkZWxldGUocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlQ2hhbm5lbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVDaGFubmVsUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGRhdGVDaGFubmVsUGFydGlhbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGUocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlQ2hhbm5lbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWxldGVEcmFmdChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5kZWxldGVEcmFmdCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXREcmFmdChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5nZXREcmFmdCh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUsIC4uLnJlcXVlc3QgfSk7XG4gICAgfVxuICAgIHNlbmRFdmVudChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zZW5kRXZlbnQoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlLCAuLi5yZXF1ZXN0IH0pO1xuICAgIH1cbiAgICBkZWxldGVGaWxlKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmRlbGV0ZUZpbGUoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBsb2FkRmlsZShyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGxvYWRGaWxlKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhpZGUocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuaGlkZUNoYW5uZWwoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlSW1hZ2UocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlSW1hZ2Uoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBsb2FkSW1hZ2UocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBsb2FkSW1hZ2Uoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlTWVtYmVyUGFydGlhbChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGRhdGVNZW1iZXJQYXJ0aWFsKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldE1hbnlNZXNzYWdlcyhyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5nZXRNYW55TWVzc2FnZXMoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0T3JDcmVhdGUocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZ2V0T3JDcmVhdGVDaGFubmVsKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1hcmtSZWFkKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLm1hcmtSZWFkKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSwgLi4ucmVxdWVzdCB9KTtcbiAgICB9XG4gICAgc2hvdyhyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zaG93Q2hhbm5lbCh7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0cnVuY2F0ZShyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS50cnVuY2F0ZUNoYW5uZWwoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWFya1VucmVhZChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5tYXJrVW5yZWFkKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DaGFubmVsIGV4dGVuZHMgQ2hhbm5lbEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAoY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGlcbiAgICAgICAgICAgICAgICAgICAgLmdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICAuLi5jaGFubmVsX2dldF9vcl9jcmVhdGVfcmVxdWVzdCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZCA9IHJlc3BvbnNlLmNoYW5uZWw/LmlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE9yQ3JlYXRlQ2hhbm5lbCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC4uLmNoYW5uZWxfZ2V0X29yX2NyZWF0ZV9yZXF1ZXN0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY2lkKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50eXBlfToke3RoaXMuaWR9YDtcbiAgICB9XG4gICAgcXVlcnlNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5xdWVyeU1lbWJlcnMoe1xuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi4ocmVxdWVzdD8ucGF5bG9hZCA/PyB7IGZpbHRlcl9jb25kaXRpb25zOiB7fSB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2hhdENsaWVudCBleHRlbmRzIENoYXRBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSAodHlwZSwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2hhbm5lbCh0aGlzLCB0eXBlLCBpZCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBNb2RlcmF0aW9uQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDbGllbnQpIHtcbiAgICAgICAgdGhpcy5hcGlDbGllbnQgPSBhcGlDbGllbnQ7XG4gICAgfVxuICAgIGFzeW5jIGJhbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogcmVxdWVzdD8udGFyZ2V0X3VzZXJfaWQsXG4gICAgICAgICAgICBiYW5uZWRfYnlfaWQ6IHJlcXVlc3Q/LmJhbm5lZF9ieV9pZCxcbiAgICAgICAgICAgIGNoYW5uZWxfY2lkOiByZXF1ZXN0Py5jaGFubmVsX2NpZCxcbiAgICAgICAgICAgIGRlbGV0ZV9tZXNzYWdlczogcmVxdWVzdD8uZGVsZXRlX21lc3NhZ2VzLFxuICAgICAgICAgICAgaXBfYmFuOiByZXF1ZXN0Py5pcF9iYW4sXG4gICAgICAgICAgICByZWFzb246IHJlcXVlc3Q/LnJlYXNvbixcbiAgICAgICAgICAgIHNoYWRvdzogcmVxdWVzdD8uc2hhZG93LFxuICAgICAgICAgICAgdGltZW91dDogcmVxdWVzdD8udGltZW91dCxcbiAgICAgICAgICAgIGJhbm5lZF9ieTogcmVxdWVzdD8uYmFubmVkX2J5LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9iYW4nLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQmFuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGJ1bGtJbWFnZU1vZGVyYXRpb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgY3N2X2ZpbGU6IHJlcXVlc3Q/LmNzdl9maWxlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9idWxrX2ltYWdlX21vZGVyYXRpb24nLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQnVsa0ltYWdlTW9kZXJhdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjaGVjayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBjb25maWdfa2V5OiByZXF1ZXN0Py5jb25maWdfa2V5LFxuICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3Q/LmVudGl0eV9jcmVhdG9yX2lkLFxuICAgICAgICAgICAgZW50aXR5X2lkOiByZXF1ZXN0Py5lbnRpdHlfaWQsXG4gICAgICAgICAgICBlbnRpdHlfdHlwZTogcmVxdWVzdD8uZW50aXR5X3R5cGUsXG4gICAgICAgICAgICBjb25maWdfdGVhbTogcmVxdWVzdD8uY29uZmlnX3RlYW0sXG4gICAgICAgICAgICB0ZXN0X21vZGU6IHJlcXVlc3Q/LnRlc3RfbW9kZSxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBtb2RlcmF0aW9uX3BheWxvYWQ6IHJlcXVlc3Q/Lm1vZGVyYXRpb25fcGF5bG9hZCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHJlcXVlc3Q/Lm9wdGlvbnMsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jaGVjaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DaGVja1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cHNlcnRDb25maWcocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAga2V5OiByZXF1ZXN0Py5rZXksXG4gICAgICAgICAgICBhc3luYzogcmVxdWVzdD8uYXN5bmMsXG4gICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIGFpX2ltYWdlX2NvbmZpZzogcmVxdWVzdD8uYWlfaW1hZ2VfY29uZmlnLFxuICAgICAgICAgICAgYWlfdGV4dF9jb25maWc6IHJlcXVlc3Q/LmFpX3RleHRfY29uZmlnLFxuICAgICAgICAgICAgYWlfdmlkZW9fY29uZmlnOiByZXF1ZXN0Py5haV92aWRlb19jb25maWcsXG4gICAgICAgICAgICBhdXRvbW9kX3BsYXRmb3JtX2NpcmN1bXZlbnRpb25fY29uZmlnOiByZXF1ZXN0Py5hdXRvbW9kX3BsYXRmb3JtX2NpcmN1bXZlbnRpb25fY29uZmlnLFxuICAgICAgICAgICAgYXV0b21vZF9zZW1hbnRpY19maWx0ZXJzX2NvbmZpZzogcmVxdWVzdD8uYXV0b21vZF9zZW1hbnRpY19maWx0ZXJzX2NvbmZpZyxcbiAgICAgICAgICAgIGF1dG9tb2RfdG94aWNpdHlfY29uZmlnOiByZXF1ZXN0Py5hdXRvbW9kX3RveGljaXR5X2NvbmZpZyxcbiAgICAgICAgICAgIGF3c19yZWtvZ25pdGlvbl9jb25maWc6IHJlcXVlc3Q/LmF3c19yZWtvZ25pdGlvbl9jb25maWcsXG4gICAgICAgICAgICBibG9ja19saXN0X2NvbmZpZzogcmVxdWVzdD8uYmxvY2tfbGlzdF9jb25maWcsXG4gICAgICAgICAgICBib2R5Z3VhcmRfY29uZmlnOiByZXF1ZXN0Py5ib2R5Z3VhcmRfY29uZmlnLFxuICAgICAgICAgICAgZ29vZ2xlX3Zpc2lvbl9jb25maWc6IHJlcXVlc3Q/Lmdvb2dsZV92aXNpb25fY29uZmlnLFxuICAgICAgICAgICAgbGxtX2NvbmZpZzogcmVxdWVzdD8ubGxtX2NvbmZpZyxcbiAgICAgICAgICAgIHJ1bGVfYnVpbGRlcl9jb25maWc6IHJlcXVlc3Q/LnJ1bGVfYnVpbGRlcl9jb25maWcsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgdmVsb2NpdHlfZmlsdGVyX2NvbmZpZzogcmVxdWVzdD8udmVsb2NpdHlfZmlsdGVyX2NvbmZpZyxcbiAgICAgICAgICAgIHZpZGVvX2NhbGxfcnVsZV9jb25maWc6IHJlcXVlc3Q/LnZpZGVvX2NhbGxfcnVsZV9jb25maWcsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlQ29uZmlnKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAga2V5OiByZXF1ZXN0Py5rZXksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL21vZGVyYXRpb24vY29uZmlnL3trZXl9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5EZWxldGVNb2RlcmF0aW9uQ29uZmlnUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldENvbmZpZyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGtleTogcmVxdWVzdD8ua2V5LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZy97a2V5fScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0Q29uZmlnUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5TW9kZXJhdGlvbkNvbmZpZ3MocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY29uZmlncycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Db25maWdzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGN1c3RvbUNoZWNrKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGVudGl0eV9pZDogcmVxdWVzdD8uZW50aXR5X2lkLFxuICAgICAgICAgICAgZW50aXR5X3R5cGU6IHJlcXVlc3Q/LmVudGl0eV90eXBlLFxuICAgICAgICAgICAgZmxhZ3M6IHJlcXVlc3Q/LmZsYWdzLFxuICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3Q/LmVudGl0eV9jcmVhdG9yX2lkLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIG1vZGVyYXRpb25fcGF5bG9hZDogcmVxdWVzdD8ubW9kZXJhdGlvbl9wYXlsb2FkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY3VzdG9tX2NoZWNrJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkN1c3RvbUNoZWNrUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHYyRGVsZXRlVGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL21vZGVyYXRpb24vZmVlZHNfbW9kZXJhdGlvbl90ZW1wbGF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlTW9kZXJhdGlvblRlbXBsYXRlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHYyUXVlcnlUZW1wbGF0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vZmVlZHNfbW9kZXJhdGlvbl90ZW1wbGF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB2MlVwc2VydFRlbXBsYXRlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICBjb25maWc6IHJlcXVlc3Q/LmNvbmZpZyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vZmVlZHNfbW9kZXJhdGlvbl90ZW1wbGF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcHNlcnRNb2RlcmF0aW9uVGVtcGxhdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZmxhZyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBlbnRpdHlfaWQ6IHJlcXVlc3Q/LmVudGl0eV9pZCxcbiAgICAgICAgICAgIGVudGl0eV90eXBlOiByZXF1ZXN0Py5lbnRpdHlfdHlwZSxcbiAgICAgICAgICAgIGVudGl0eV9jcmVhdG9yX2lkOiByZXF1ZXN0Py5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgIHJlYXNvbjogcmVxdWVzdD8ucmVhc29uLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgbW9kZXJhdGlvbl9wYXlsb2FkOiByZXF1ZXN0Py5tb2RlcmF0aW9uX3BheWxvYWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9mbGFnJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkZsYWdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlNb2RlcmF0aW9uRmxhZ3MocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZsYWdzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkZsYWdzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5TW9kZXJhdGlvbkxvZ3MocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vbG9ncycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Mb2dzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIG11dGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdGFyZ2V0X2lkczogcmVxdWVzdD8udGFyZ2V0X2lkcyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHJlcXVlc3Q/LnRpbWVvdXQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vbXV0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5NdXRlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5UmV2aWV3UXVldWUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbG9ja19jb3VudDogcmVxdWVzdD8ubG9ja19jb3VudCxcbiAgICAgICAgICAgIGxvY2tfZHVyYXRpb246IHJlcXVlc3Q/LmxvY2tfZHVyYXRpb24sXG4gICAgICAgICAgICBsb2NrX2l0ZW1zOiByZXF1ZXN0Py5sb2NrX2l0ZW1zLFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzdGF0c19vbmx5OiByZXF1ZXN0Py5zdGF0c19vbmx5LFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3Jldmlld19xdWV1ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeVJldmlld1F1ZXVlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFJldmlld1F1ZXVlSXRlbShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vcmV2aWV3X3F1ZXVlL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgc3VibWl0QWN0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGFjdGlvbl90eXBlOiByZXF1ZXN0Py5hY3Rpb25fdHlwZSxcbiAgICAgICAgICAgIGl0ZW1faWQ6IHJlcXVlc3Q/Lml0ZW1faWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgYmFuOiByZXF1ZXN0Py5iYW4sXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgICAgIGRlbGV0ZV9hY3Rpdml0eTogcmVxdWVzdD8uZGVsZXRlX2FjdGl2aXR5LFxuICAgICAgICAgICAgZGVsZXRlX21lc3NhZ2U6IHJlcXVlc3Q/LmRlbGV0ZV9tZXNzYWdlLFxuICAgICAgICAgICAgZGVsZXRlX3JlYWN0aW9uOiByZXF1ZXN0Py5kZWxldGVfcmVhY3Rpb24sXG4gICAgICAgICAgICBkZWxldGVfdXNlcjogcmVxdWVzdD8uZGVsZXRlX3VzZXIsXG4gICAgICAgICAgICBtYXJrX3Jldmlld2VkOiByZXF1ZXN0Py5tYXJrX3Jldmlld2VkLFxuICAgICAgICAgICAgdW5iYW46IHJlcXVlc3Q/LnVuYmFuLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vc3VibWl0X2FjdGlvbicsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TdWJtaXRBY3Rpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdW5iYW4ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHRhcmdldF91c2VyX2lkOiByZXF1ZXN0Py50YXJnZXRfdXNlcl9pZCxcbiAgICAgICAgICAgIGNoYW5uZWxfY2lkOiByZXF1ZXN0Py5jaGFubmVsX2NpZCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYnk6IHJlcXVlc3Q/LmNyZWF0ZWRfYnksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB1bmJhbm5lZF9ieV9pZDogcmVxdWVzdD8udW5iYW5uZWRfYnlfaWQsXG4gICAgICAgICAgICB1bmJhbm5lZF9ieTogcmVxdWVzdD8udW5iYW5uZWRfYnksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3VuYmFuJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcywgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVW5iYW5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdW5tdXRlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHRhcmdldF9pZHM6IHJlcXVlc3Q/LnRhcmdldF9pZHMsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdW5tdXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVubXV0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtTW9kZXJhdGlvbkNsaWVudCBleHRlbmRzIE1vZGVyYXRpb25BcGkge1xufVxuXG5jbGFzcyBTdHJlYW1FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBtZXRhZGF0YSwgY29kZSwgZXJyb3JPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIGVycm9yT3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG5cbmNvbnN0IGdldFJhdGVMaW1pdEZyb21SZXNwb25zZUhlYWRlciA9IChyZXNwb25zZUhlYWRlcnMpID0+IHtcbiAgICBjb25zdCByYXRlTGltaXQgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1saW1pdCcpXG4gICAgICAgID8gK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LWxpbWl0JylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmF0ZUxpbWl0UmVtYWluaW5nID0gcmVzcG9uc2VIZWFkZXJzLmhhcygneC1yYXRlbGltaXQtcmVtYWluaW5nJylcbiAgICAgICAgPyArcmVzcG9uc2VIZWFkZXJzLmdldCgneC1yYXRlbGltaXQtcmVtYWluaW5nJylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzZXQgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1yZXNldCcpXG4gICAgICAgID8gbmV3IERhdGUoK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LXJlc2V0JykgKiAxMDAwKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHJhdGVMaW1pdCxcbiAgICAgICAgcmF0ZUxpbWl0UmVtYWluaW5nLFxuICAgICAgICByYXRlTGltaXRSZXNldCxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5jbGFzcyBBcGlDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGFwaUNvbmZpZykge1xuICAgICAgICB0aGlzLmFwaUNvbmZpZyA9IGFwaUNvbmZpZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZW5kUmVxdWVzdCA9IGFzeW5jIChtZXRob2QsIHVybCwgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMsIGJvZHksIHJlcXVlc3RDb250ZW50VHlwZSkgPT4ge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcyA/PyB7fTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwaV9rZXkgPSB0aGlzLmFwaUNvbmZpZy5hcGlLZXk7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVkUGFyYW1zID0gdGhpcy5xdWVyeVBhcmFtc1N0cmluZ2lmeShxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBpZiAocGF0aFBhcmFtcykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhdGhQYXJhbXMpLmZvckVhY2goKHBhcmFtTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShgeyR7cGFyYW1OYW1lfX1gLCBwYXRoUGFyYW1zW3BhcmFtTmFtZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsICs9IGA/JHtlbmNvZGVkUGFyYW1zfWA7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRSZXF1ZXN0SWQgPSB2NCgpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLmFwaUNvbmZpZy50b2tlbixcbiAgICAgICAgICAgICAgICAnc3RyZWFtLWF1dGgtdHlwZSc6ICdqd3QnLFxuICAgICAgICAgICAgICAgICdYLVN0cmVhbS1DbGllbnQnOiAnc3RyZWFtLW5vZGUtJyArIFwiMC42LjJcIixcbiAgICAgICAgICAgICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAnLFxuICAgICAgICAgICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogY2xpZW50UmVxdWVzdElkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5MjgwNDM4L2ZldGNoLW1pc3NpbmctYm91bmRhcnktaW4tbXVsdGlwYXJ0LWZvcm0tZGF0YS1wb3N0XG4gICAgICAgICAgICBpZiAocmVxdWVzdENvbnRlbnRUeXBlICE9PSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHJlcXVlc3RDb250ZW50VHlwZSA/PyAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMuYXBpQ29uZmlnLnRpbWVvdXQpO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZEJvZHkgPSByZXF1ZXN0Q29udGVudFR5cGUgPT09ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICAgICAgICAgID8gbmV3IEZvcm1EYXRhKClcbiAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RDb250ZW50VHlwZSA9PT0gJ211bHRpcGFydC9mb3JtLWRhdGEnKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYm9keSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZWRCb2R5LmFwcGVuZChrZXksIGJvZHlba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlDb25maWcuYmFzZVVybH0ke3VybH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbDogcmVxdWVzdENvbnRlbnRUeXBlID09PSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgPyB1bmRlZmluZWQgOiBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogZW5jb2RlZEJvZHksXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZS5oZWFkZXJzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHJhdGVMaW1pdDogZ2V0UmF0ZUxpbWl0RnJvbVJlc3BvbnNlSGVhZGVyKHJlc3BvbnNlSGVhZGVycyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzIDwgMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA+PSAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBTdHJlYW0gZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLCBtZXRhZGF0YSwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFN0cmVhbSBlcnJvciBjb2RlICR7ZXJyb3IuY29kZX06ICR7ZXJyb3IubWVzc2FnZX1gLCBtZXRhZGF0YSwgZXJyb3IuY29kZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VCb2R5ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgYm9keTogcmVzcG9uc2VCb2R5LCBtZXRhZGF0YSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU3RyZWFtRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJyB8fCBlcnJvci5uYW1lID09PSAnVGltZW91dEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkIGR1ZSB0byB0byB0aGUgJHt0aGlzLmFwaUNvbmZpZy50aW1lb3V0fW1zIHRpbWVvdXQsIHlvdSBjYW4gc2V0IHRoZSB0aW1lb3V0IGluIHRoZSBTdHJlYW1DbGllbnQgY29uc3RydWN0b3JgLCBtZXRhZGF0YSwgdW5kZWZpbmVkLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFRoZSByZXF1ZXN0IGZhaWxlZCBkdWUgdG8gYW4gdW5leHBlY3RlZCBlcnJvcmAsIG1ldGFkYXRhLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zU3RyaW5naWZ5ID0gKHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UGFyYW1zID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBwYXJhbXNba107XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKGAke2t9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtLmpvaW4oJywnKSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChwYXJhbS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChgJHtrfT0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwYXJhbSkpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXJhbSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXJhbSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChgJHtrfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbSl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UGFyYW1zLmpvaW4oJyYnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gdGhpcy5hcGlDb25maWcuYWdlbnQ7XG4gICAgfVxufVxuXG5jbGFzcyBGZWVkc0FwaSB7XG4gICAgY29uc3RydWN0b3IoYXBpQ2xpZW50KSB7XG4gICAgICAgIHRoaXMuYXBpQ2xpZW50ID0gYXBpQ2xpZW50O1xuICAgIH1cbiAgICBhc3luYyBhZGRBY3Rpdml0eShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgZmVlZHM6IHJlcXVlc3Q/LmZlZWRzLFxuICAgICAgICAgICAgZXhwaXJlc19hdDogcmVxdWVzdD8uZXhwaXJlc19hdCxcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHBhcmVudF9pZDogcmVxdWVzdD8ucGFyZW50X2lkLFxuICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgICAgIHRleHQ6IHJlcXVlc3Q/LnRleHQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogcmVxdWVzdD8udmlzaWJpbGl0eSxcbiAgICAgICAgICAgIHZpc2liaWxpdHlfdGFnOiByZXF1ZXN0Py52aXNpYmlsaXR5X3RhZyxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiByZXF1ZXN0Py5hdHRhY2htZW50cyxcbiAgICAgICAgICAgIGZpbHRlcl90YWdzOiByZXF1ZXN0Py5maWx0ZXJfdGFncyxcbiAgICAgICAgICAgIGludGVyZXN0X3RhZ3M6IHJlcXVlc3Q/LmludGVyZXN0X3RhZ3MsXG4gICAgICAgICAgICBtZW50aW9uZWRfdXNlcl9pZHM6IHJlcXVlc3Q/Lm1lbnRpb25lZF91c2VyX2lkcyxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgbG9jYXRpb246IHJlcXVlc3Q/LmxvY2F0aW9uLFxuICAgICAgICAgICAgc2VhcmNoX2RhdGE6IHJlcXVlc3Q/LnNlYXJjaF9kYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvYWN0aXZpdGllcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5BZGRBY3Rpdml0eVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cHNlcnRBY3Rpdml0aWVzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGFjdGl2aXRpZXM6IHJlcXVlc3Q/LmFjdGl2aXRpZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9hY3Rpdml0aWVzL2JhdGNoJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwc2VydEFjdGl2aXRpZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlQWN0aXZpdGllcyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBpZHM6IHJlcXVlc3Q/LmlkcyxcbiAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0Py5oYXJkX2RlbGV0ZSxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvYWN0aXZpdGllcy9kZWxldGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlQWN0aXZpdGllc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUFjdGl2aXRpZXMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9hY3Rpdml0aWVzL3F1ZXJ5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5QWN0aXZpdGllc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVCb29rbWFyayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgZm9sZGVyX2lkOiByZXF1ZXN0Py5mb2xkZXJfaWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IHJlcXVlc3Q/LmFjdGl2aXR5X2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9mZWVkcy9hY3Rpdml0aWVzL3thY3Rpdml0eV9pZH0vYm9va21hcmtzJywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5EZWxldGVCb29rbWFya1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVCb29rbWFyayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogcmVxdWVzdD8uYWN0aXZpdHlfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmb2xkZXJfaWQ6IHJlcXVlc3Q/LmZvbGRlcl9pZCxcbiAgICAgICAgICAgIG5ld19mb2xkZXJfaWQ6IHJlcXVlc3Q/Lm5ld19mb2xkZXJfaWQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICBuZXdfZm9sZGVyOiByZXF1ZXN0Py5uZXdfZm9sZGVyLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9mZWVkcy9hY3Rpdml0aWVzL3thY3Rpdml0eV9pZH0vYm9va21hcmtzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVCb29rbWFya1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBhZGRCb29rbWFyayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogcmVxdWVzdD8uYWN0aXZpdHlfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmb2xkZXJfaWQ6IHJlcXVlc3Q/LmZvbGRlcl9pZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgICAgIG5ld19mb2xkZXI6IHJlcXVlc3Q/Lm5ld19mb2xkZXIsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvYWN0aXZpdGllcy97YWN0aXZpdHlfaWR9L2Jvb2ttYXJrcycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQWRkQm9va21hcmtSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgYWN0aXZpdHlGZWVkYmFjayhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogcmVxdWVzdD8uYWN0aXZpdHlfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBoaWRlOiByZXF1ZXN0Py5oaWRlLFxuICAgICAgICAgICAgbXV0ZV91c2VyOiByZXF1ZXN0Py5tdXRlX3VzZXIsXG4gICAgICAgICAgICByZWFzb246IHJlcXVlc3Q/LnJlYXNvbixcbiAgICAgICAgICAgIHJlcG9ydDogcmVxdWVzdD8ucmVwb3J0LFxuICAgICAgICAgICAgc2hvd19sZXNzOiByZXF1ZXN0Py5zaG93X2xlc3MsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL2FjdGl2aXRpZXMve2FjdGl2aXR5X2lkfS9mZWVkYmFjaycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQWN0aXZpdHlGZWVkYmFja1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjYXN0UG9sbFZvdGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IHJlcXVlc3Q/LmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgdm90ZTogcmVxdWVzdD8udm90ZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL2FjdGl2aXRpZXMve2FjdGl2aXR5X2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlUG9sbFZvdGUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogcmVxdWVzdD8uYWN0aXZpdHlfaWQsXG4gICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICAgICAgdm90ZV9pZDogcmVxdWVzdD8udm90ZV9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZmVlZHMvYWN0aXZpdGllcy97YWN0aXZpdHlfaWR9L3BvbGxzL3twb2xsX2lkfS92b3RlL3t2b3RlX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgYWRkUmVhY3Rpb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IHJlcXVlc3Q/LmFjdGl2aXR5X2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHk6IHJlcXVlc3Q/LmNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHksXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvYWN0aXZpdGllcy97YWN0aXZpdHlfaWR9L3JlYWN0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQWRkUmVhY3Rpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlBY3Rpdml0eVJlYWN0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogcmVxdWVzdD8uYWN0aXZpdHlfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL2FjdGl2aXRpZXMve2FjdGl2aXR5X2lkfS9yZWFjdGlvbnMvcXVlcnknLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5QWN0aXZpdHlSZWFjdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlQWN0aXZpdHlSZWFjdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGFjdGl2aXR5X2lkOiByZXF1ZXN0Py5hY3Rpdml0eV9pZCxcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2FjdGl2aXRpZXMve2FjdGl2aXR5X2lkfS9yZWFjdGlvbnMve3R5cGV9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5EZWxldGVBY3Rpdml0eVJlYWN0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUFjdGl2aXR5KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBoYXJkX2RlbGV0ZTogcmVxdWVzdD8uaGFyZF9kZWxldGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2FjdGl2aXRpZXMve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlQWN0aXZpdHlSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0QWN0aXZpdHkocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9mZWVkcy9hY3Rpdml0aWVzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5HZXRBY3Rpdml0eVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVBY3Rpdml0eVBhcnRpYWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9mZWVkcy9hY3Rpdml0aWVzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwZGF0ZUFjdGl2aXR5UGFydGlhbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVBY3Rpdml0eShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBleHBpcmVzX2F0OiByZXF1ZXN0Py5leHBpcmVzX2F0LFxuICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgICAgIHRleHQ6IHJlcXVlc3Q/LnRleHQsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogcmVxdWVzdD8udmlzaWJpbGl0eSxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiByZXF1ZXN0Py5hdHRhY2htZW50cyxcbiAgICAgICAgICAgIGZpbHRlcl90YWdzOiByZXF1ZXN0Py5maWx0ZXJfdGFncyxcbiAgICAgICAgICAgIGludGVyZXN0X3RhZ3M6IHJlcXVlc3Q/LmludGVyZXN0X3RhZ3MsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiByZXF1ZXN0Py5sb2NhdGlvbixcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2ZlZWRzL2FjdGl2aXRpZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQWN0aXZpdHlSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnlCb29rbWFya0ZvbGRlcnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9ib29rbWFya19mb2xkZXJzL3F1ZXJ5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5Qm9va21hcmtGb2xkZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUJvb2ttYXJrRm9sZGVyKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZvbGRlcl9pZDogcmVxdWVzdD8uZm9sZGVyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9mZWVkcy9ib29rbWFya19mb2xkZXJzL3tmb2xkZXJfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlQm9va21hcmtGb2xkZXJSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlQm9va21hcmtGb2xkZXIocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgZm9sZGVyX2lkOiByZXF1ZXN0Py5mb2xkZXJfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9mZWVkcy9ib29rbWFya19mb2xkZXJzL3tmb2xkZXJfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVCb29rbWFya0ZvbGRlclJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUJvb2ttYXJrcyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL2Jvb2ttYXJrcy9xdWVyeScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeUJvb2ttYXJrc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRDb21tZW50cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgb2JqZWN0X2lkOiByZXF1ZXN0Py5vYmplY3RfaWQsXG4gICAgICAgICAgICBvYmplY3RfdHlwZTogcmVxdWVzdD8ub2JqZWN0X3R5cGUsXG4gICAgICAgICAgICBkZXB0aDogcmVxdWVzdD8uZGVwdGgsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgcmVwbGllc19saW1pdDogcmVxdWVzdD8ucmVwbGllc19saW1pdCxcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9mZWVkcy9jb21tZW50cycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5HZXRDb21tZW50c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBhZGRDb21tZW50KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGNvbW1lbnQ6IHJlcXVlc3Q/LmNvbW1lbnQsXG4gICAgICAgICAgICBvYmplY3RfaWQ6IHJlcXVlc3Q/Lm9iamVjdF9pZCxcbiAgICAgICAgICAgIG9iamVjdF90eXBlOiByZXF1ZXN0Py5vYmplY3RfdHlwZSxcbiAgICAgICAgICAgIGNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHk6IHJlcXVlc3Q/LmNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHksXG4gICAgICAgICAgICBwYXJlbnRfaWQ6IHJlcXVlc3Q/LnBhcmVudF9pZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBhdHRhY2htZW50czogcmVxdWVzdD8uYXR0YWNobWVudHMsXG4gICAgICAgICAgICBtZW50aW9uZWRfdXNlcl9pZHM6IHJlcXVlc3Q/Lm1lbnRpb25lZF91c2VyX2lkcyxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL2NvbW1lbnRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkFkZENvbW1lbnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgYWRkQ29tbWVudHNCYXRjaChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBjb21tZW50czogcmVxdWVzdD8uY29tbWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9jb21tZW50cy9iYXRjaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5BZGRDb21tZW50c0JhdGNoUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5Q29tbWVudHMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9jb21tZW50cy9xdWVyeScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeUNvbW1lbnRzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUNvbW1lbnQocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0Py5oYXJkX2RlbGV0ZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZmVlZHMvY29tbWVudHMve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlQ29tbWVudFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRDb21tZW50KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZmVlZHMvY29tbWVudHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkdldENvbW1lbnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlQ29tbWVudChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBjb21tZW50OiByZXF1ZXN0Py5jb21tZW50LFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvZmVlZHMvY29tbWVudHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ29tbWVudFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBhZGRDb21tZW50UmVhY3Rpb24ocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIGNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHk6IHJlcXVlc3Q/LmNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHksXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvY29tbWVudHMve2lkfS9yZWFjdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkFkZENvbW1lbnRSZWFjdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUNvbW1lbnRSZWFjdGlvbnMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9jb21tZW50cy97aWR9L3JlYWN0aW9ucy9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlDb21tZW50UmVhY3Rpb25zUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUNvbW1lbnRSZWFjdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2NvbW1lbnRzL3tpZH0vcmVhY3Rpb25zL3t0eXBlfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuRGVsZXRlQ29tbWVudFJlYWN0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldENvbW1lbnRSZXBsaWVzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICBkZXB0aDogcmVxdWVzdD8uZGVwdGgsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgcmVwbGllc19saW1pdDogcmVxdWVzdD8ucmVwbGllc19saW1pdCxcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9mZWVkcy9jb21tZW50cy97aWR9L3JlcGxpZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldENvbW1lbnRSZXBsaWVzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGxpc3RGZWVkR3JvdXBzKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9mZWVkcy9mZWVkX2dyb3VwcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuTGlzdEZlZWRHcm91cHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRmVlZEdyb3VwKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIGRlZmF1bHRfdmlzaWJpbGl0eTogcmVxdWVzdD8uZGVmYXVsdF92aXNpYmlsaXR5LFxuICAgICAgICAgICAgYWN0aXZpdHlfcHJvY2Vzc29yczogcmVxdWVzdD8uYWN0aXZpdHlfcHJvY2Vzc29ycyxcbiAgICAgICAgICAgIGFjdGl2aXR5X3NlbGVjdG9yczogcmVxdWVzdD8uYWN0aXZpdHlfc2VsZWN0b3JzLFxuICAgICAgICAgICAgYWdncmVnYXRpb246IHJlcXVlc3Q/LmFnZ3JlZ2F0aW9uLFxuICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICBub3RpZmljYXRpb246IHJlcXVlc3Q/Lm5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgIHJhbmtpbmc6IHJlcXVlc3Q/LnJhbmtpbmcsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9mZWVkX2dyb3VwcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DcmVhdGVGZWVkR3JvdXBSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRmVlZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3Q/LmhhcmRfZGVsZXRlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogcmVxdWVzdD8uZmVlZF9ncm91cF9pZCxcbiAgICAgICAgICAgIGZlZWRfaWQ6IHJlcXVlc3Q/LmZlZWRfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2ZlZWRfZ3JvdXBzL3tmZWVkX2dyb3VwX2lkfS9mZWVkcy97ZmVlZF9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZUZlZWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0T3JDcmVhdGVGZWVkKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHJlcXVlc3Q/LmZlZWRfZ3JvdXBfaWQsXG4gICAgICAgICAgICBmZWVkX2lkOiByZXF1ZXN0Py5mZWVkX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgdmlldzogcmVxdWVzdD8udmlldyxcbiAgICAgICAgICAgIHdhdGNoOiByZXF1ZXN0Py53YXRjaCxcbiAgICAgICAgICAgIGFjdGl2aXR5X3NlbGVjdG9yX29wdGlvbnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3NlbGVjdG9yX29wdGlvbnMsXG4gICAgICAgICAgICBkYXRhOiByZXF1ZXN0Py5kYXRhLFxuICAgICAgICAgICAgZXh0ZXJuYWxfcmFua2luZzogcmVxdWVzdD8uZXh0ZXJuYWxfcmFua2luZyxcbiAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgZm9sbG93ZXJzX3BhZ2luYXRpb246IHJlcXVlc3Q/LmZvbGxvd2Vyc19wYWdpbmF0aW9uLFxuICAgICAgICAgICAgZm9sbG93aW5nX3BhZ2luYXRpb246IHJlcXVlc3Q/LmZvbGxvd2luZ19wYWdpbmF0aW9uLFxuICAgICAgICAgICAgaW50ZXJlc3Rfd2VpZ2h0czogcmVxdWVzdD8uaW50ZXJlc3Rfd2VpZ2h0cyxcbiAgICAgICAgICAgIG1lbWJlcl9wYWdpbmF0aW9uOiByZXF1ZXN0Py5tZW1iZXJfcGFnaW5hdGlvbixcbiAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9mZWVkX2dyb3Vwcy97ZmVlZF9ncm91cF9pZH0vZmVlZHMve2ZlZWRfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5HZXRPckNyZWF0ZUZlZWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlRmVlZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBmZWVkX2dyb3VwX2lkOiByZXF1ZXN0Py5mZWVkX2dyb3VwX2lkLFxuICAgICAgICAgICAgZmVlZF9pZDogcmVxdWVzdD8uZmVlZF9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJlcXVlc3Q/LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2ZlZWRfZ3JvdXBfaWR9L2ZlZWRzL3tmZWVkX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlRmVlZFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBtYXJrQWN0aXZpdHkocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogcmVxdWVzdD8uZmVlZF9ncm91cF9pZCxcbiAgICAgICAgICAgIGZlZWRfaWQ6IHJlcXVlc3Q/LmZlZWRfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBtYXJrX2FsbF9yZWFkOiByZXF1ZXN0Py5tYXJrX2FsbF9yZWFkLFxuICAgICAgICAgICAgbWFya19hbGxfc2VlbjogcmVxdWVzdD8ubWFya19hbGxfc2VlbixcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICBtYXJrX3JlYWQ6IHJlcXVlc3Q/Lm1hcmtfcmVhZCxcbiAgICAgICAgICAgIG1hcmtfc2VlbjogcmVxdWVzdD8ubWFya19zZWVuLFxuICAgICAgICAgICAgbWFya193YXRjaGVkOiByZXF1ZXN0Py5tYXJrX3dhdGNoZWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2ZlZWRfZ3JvdXBfaWR9L2ZlZWRzL3tmZWVkX2lkfS9hY3Rpdml0aWVzL21hcmsvYmF0Y2gnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1bnBpbkFjdGl2aXR5KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogcmVxdWVzdD8uZmVlZF9ncm91cF9pZCxcbiAgICAgICAgICAgIGZlZWRfaWQ6IHJlcXVlc3Q/LmZlZWRfaWQsXG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogcmVxdWVzdD8uYWN0aXZpdHlfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2ZlZWRfZ3JvdXBzL3tmZWVkX2dyb3VwX2lkfS9mZWVkcy97ZmVlZF9pZH0vYWN0aXZpdGllcy97YWN0aXZpdHlfaWR9L3BpbicsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgZGVjb2RlcnMuVW5waW5BY3Rpdml0eVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBwaW5BY3Rpdml0eShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBmZWVkX2dyb3VwX2lkOiByZXF1ZXN0Py5mZWVkX2dyb3VwX2lkLFxuICAgICAgICAgICAgZmVlZF9pZDogcmVxdWVzdD8uZmVlZF9pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5X2lkOiByZXF1ZXN0Py5hY3Rpdml0eV9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2ZlZWRfZ3JvdXBfaWR9L2ZlZWRzL3tmZWVkX2lkfS9hY3Rpdml0aWVzL3thY3Rpdml0eV9pZH0vcGluJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5QaW5BY3Rpdml0eVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVGZWVkTWVtYmVycyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBmZWVkX2dyb3VwX2lkOiByZXF1ZXN0Py5mZWVkX2dyb3VwX2lkLFxuICAgICAgICAgICAgZmVlZF9pZDogcmVxdWVzdD8uZmVlZF9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogcmVxdWVzdD8ub3BlcmF0aW9uLFxuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBtZW1iZXJzOiByZXF1ZXN0Py5tZW1iZXJzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2ZlZWRzL2ZlZWRfZ3JvdXBzL3tmZWVkX2dyb3VwX2lkfS9mZWVkcy97ZmVlZF9pZH0vbWVtYmVycycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlRmVlZE1lbWJlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgYWNjZXB0RmVlZE1lbWJlckludml0ZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBmZWVkX2lkOiByZXF1ZXN0Py5mZWVkX2lkLFxuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogcmVxdWVzdD8uZmVlZF9ncm91cF9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2ZlZWRfZ3JvdXBfaWR9L2ZlZWRzL3tmZWVkX2lkfS9tZW1iZXJzL2FjY2VwdCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQWNjZXB0RmVlZE1lbWJlckludml0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeUZlZWRNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHJlcXVlc3Q/LmZlZWRfZ3JvdXBfaWQsXG4gICAgICAgICAgICBmZWVkX2lkOiByZXF1ZXN0Py5mZWVkX2lkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9mZWVkX2dyb3Vwcy97ZmVlZF9ncm91cF9pZH0vZmVlZHMve2ZlZWRfaWR9L21lbWJlcnMvcXVlcnknLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlF1ZXJ5RmVlZE1lbWJlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgcmVqZWN0RmVlZE1lbWJlckludml0ZShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBmZWVkX2dyb3VwX2lkOiByZXF1ZXN0Py5mZWVkX2dyb3VwX2lkLFxuICAgICAgICAgICAgZmVlZF9pZDogcmVxdWVzdD8uZmVlZF9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2ZlZWRfZ3JvdXBfaWR9L2ZlZWRzL3tmZWVkX2lkfS9tZW1iZXJzL3JlamVjdCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVqZWN0RmVlZE1lbWJlckludml0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRGb2xsb3dTdWdnZXN0aW9ucyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHJlcXVlc3Q/LmZlZWRfZ3JvdXBfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2ZlZWRzL2ZlZWRfZ3JvdXBzL3tmZWVkX2dyb3VwX2lkfS9mb2xsb3dfc3VnZ2VzdGlvbnMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIGRlY29kZXJzLkdldEZvbGxvd1N1Z2dlc3Rpb25zUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUZlZWRHcm91cChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3Q/LmhhcmRfZGVsZXRlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9mZWVkcy9mZWVkX2dyb3Vwcy97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICBkZWNvZGVycy5EZWxldGVGZWVkR3JvdXBSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0RmVlZEdyb3VwKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkdldEZlZWRHcm91cFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRPckNyZWF0ZUZlZWRHcm91cChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBkZWZhdWx0X3Zpc2liaWxpdHk6IHJlcXVlc3Q/LmRlZmF1bHRfdmlzaWJpbGl0eSxcbiAgICAgICAgICAgIGFjdGl2aXR5X3Byb2Nlc3NvcnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3Byb2Nlc3NvcnMsXG4gICAgICAgICAgICBhY3Rpdml0eV9zZWxlY3RvcnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3NlbGVjdG9ycyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uOiByZXF1ZXN0Py5hZ2dyZWdhdGlvbixcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiByZXF1ZXN0Py5ub3RpZmljYXRpb24sXG4gICAgICAgICAgICByYW5raW5nOiByZXF1ZXN0Py5yYW5raW5nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF9ncm91cHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0T3JDcmVhdGVGZWVkR3JvdXBSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlRmVlZEdyb3VwKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGFjdGl2aXR5X3Byb2Nlc3NvcnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3Byb2Nlc3NvcnMsXG4gICAgICAgICAgICBhY3Rpdml0eV9zZWxlY3RvcnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3NlbGVjdG9ycyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uOiByZXF1ZXN0Py5hZ2dyZWdhdGlvbixcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiByZXF1ZXN0Py5ub3RpZmljYXRpb24sXG4gICAgICAgICAgICByYW5raW5nOiByZXF1ZXN0Py5yYW5raW5nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9mZWVkcy9mZWVkX2dyb3Vwcy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVGZWVkR3JvdXBSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdEZlZWRWaWV3cygpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF92aWV3cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuTGlzdEZlZWRWaWV3c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVGZWVkVmlldyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICBhY3Rpdml0eV9wcm9jZXNzb3JzOiByZXF1ZXN0Py5hY3Rpdml0eV9wcm9jZXNzb3JzLFxuICAgICAgICAgICAgYWN0aXZpdHlfc2VsZWN0b3JzOiByZXF1ZXN0Py5hY3Rpdml0eV9zZWxlY3RvcnMsXG4gICAgICAgICAgICBhZ2dyZWdhdGlvbjogcmVxdWVzdD8uYWdncmVnYXRpb24sXG4gICAgICAgICAgICByYW5raW5nOiByZXF1ZXN0Py5yYW5raW5nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF92aWV3cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DcmVhdGVGZWVkVmlld1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVGZWVkVmlldyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2ZlZWRfdmlld3Mve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZUZlZWRWaWV3UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGdldEZlZWRWaWV3KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF92aWV3cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgZGVjb2RlcnMuR2V0RmVlZFZpZXdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0T3JDcmVhdGVGZWVkVmlldyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBhY3Rpdml0eV9wcm9jZXNzb3JzOiByZXF1ZXN0Py5hY3Rpdml0eV9wcm9jZXNzb3JzLFxuICAgICAgICAgICAgYWN0aXZpdHlfc2VsZWN0b3JzOiByZXF1ZXN0Py5hY3Rpdml0eV9zZWxlY3RvcnMsXG4gICAgICAgICAgICBhZ2dyZWdhdGlvbjogcmVxdWVzdD8uYWdncmVnYXRpb24sXG4gICAgICAgICAgICByYW5raW5nOiByZXF1ZXN0Py5yYW5raW5nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZF92aWV3cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5HZXRPckNyZWF0ZUZlZWRWaWV3UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZUZlZWRWaWV3KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGFjdGl2aXR5X3Byb2Nlc3NvcnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3Byb2Nlc3NvcnMsXG4gICAgICAgICAgICBhY3Rpdml0eV9zZWxlY3RvcnM6IHJlcXVlc3Q/LmFjdGl2aXR5X3NlbGVjdG9ycyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uOiByZXF1ZXN0Py5hZ2dyZWdhdGlvbixcbiAgICAgICAgICAgIHJhbmtpbmc6IHJlcXVlc3Q/LnJhbmtpbmcsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2ZlZWRzL2ZlZWRfdmlld3Mve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVXBkYXRlRmVlZFZpZXdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRmVlZHNCYXRjaChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmZWVkczogcmVxdWVzdD8uZmVlZHMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9mZWVkcy9iYXRjaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5DcmVhdGVGZWVkc0JhdGNoUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIF9xdWVyeUZlZWRzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgd2F0Y2g6IHJlcXVlc3Q/LndhdGNoLFxuICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZmVlZHMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlGZWVkc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVGb2xsb3cocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgc291cmNlOiByZXF1ZXN0Py5zb3VyY2UsXG4gICAgICAgICAgICB0YXJnZXQ6IHJlcXVlc3Q/LnRhcmdldCxcbiAgICAgICAgICAgIGNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHk6IHJlcXVlc3Q/LmNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHksXG4gICAgICAgICAgICBmb2xsb3dlcl9yb2xlOiByZXF1ZXN0Py5mb2xsb3dlcl9yb2xlLFxuICAgICAgICAgICAgcHVzaF9wcmVmZXJlbmNlOiByZXF1ZXN0Py5wdXNoX3ByZWZlcmVuY2UsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9mZWVkcy9mb2xsb3dzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLlVwZGF0ZUZvbGxvd1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBmb2xsb3cocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgc291cmNlOiByZXF1ZXN0Py5zb3VyY2UsXG4gICAgICAgICAgICB0YXJnZXQ6IHJlcXVlc3Q/LnRhcmdldCxcbiAgICAgICAgICAgIGNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHk6IHJlcXVlc3Q/LmNyZWF0ZV9ub3RpZmljYXRpb25fYWN0aXZpdHksXG4gICAgICAgICAgICBwdXNoX3ByZWZlcmVuY2U6IHJlcXVlc3Q/LnB1c2hfcHJlZmVyZW5jZSxcbiAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZm9sbG93cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5TaW5nbGVGb2xsb3dSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgYWNjZXB0Rm9sbG93KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogcmVxdWVzdD8uc291cmNlLFxuICAgICAgICAgICAgdGFyZ2V0OiByZXF1ZXN0Py50YXJnZXQsXG4gICAgICAgICAgICBmb2xsb3dlcl9yb2xlOiByZXF1ZXN0Py5mb2xsb3dlcl9yb2xlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZm9sbG93cy9hY2NlcHQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuQWNjZXB0Rm9sbG93UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIGZvbGxvd0JhdGNoKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGZvbGxvd3M6IHJlcXVlc3Q/LmZvbGxvd3MsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9mb2xsb3dzL2JhdGNoJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkZvbGxvd0JhdGNoUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHF1ZXJ5Rm9sbG93cyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL2ZvbGxvd3MvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUXVlcnlGb2xsb3dzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHJlamVjdEZvbGxvdyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IHJlcXVlc3Q/LnNvdXJjZSxcbiAgICAgICAgICAgIHRhcmdldDogcmVxdWVzdD8udGFyZ2V0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvZm9sbG93cy9yZWplY3QnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuUmVqZWN0Rm9sbG93UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgfVxuICAgIGFzeW5jIHVuZm9sbG93KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogcmVxdWVzdD8uc291cmNlLFxuICAgICAgICAgICAgdGFyZ2V0OiByZXF1ZXN0Py50YXJnZXQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2ZlZWRzL2ZvbGxvd3Mve3NvdXJjZX0ve3RhcmdldH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5VbmZvbGxvd1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVNZW1iZXJzaGlwTGV2ZWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHByaW9yaXR5OiByZXF1ZXN0Py5wcmlvcml0eSxcbiAgICAgICAgICAgIHRhZ3M6IHJlcXVlc3Q/LnRhZ3MsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL21lbWJlcnNoaXBfbGV2ZWxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHksICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIGRlY29kZXJzLkNyZWF0ZU1lbWJlcnNoaXBMZXZlbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBxdWVyeU1lbWJlcnNoaXBMZXZlbHMocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9mZWVkcy9tZW1iZXJzaGlwX2xldmVscy9xdWVyeScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5RdWVyeU1lbWJlcnNoaXBMZXZlbHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlTWVtYmVyc2hpcExldmVsKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZmVlZHMvbWVtYmVyc2hpcF9sZXZlbHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVNZW1iZXJzaGlwTGV2ZWwocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3Q/LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiByZXF1ZXN0Py5wcmlvcml0eSxcbiAgICAgICAgICAgIHRhZ3M6IHJlcXVlc3Q/LnRhZ3MsXG4gICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9mZWVkcy9tZW1iZXJzaGlwX2xldmVscy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5LCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBkZWNvZGVycy5VcGRhdGVNZW1iZXJzaGlwTGV2ZWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG4gICAgYXN5bmMgdW5mb2xsb3dCYXRjaChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBmb2xsb3dzOiByZXF1ZXN0Py5mb2xsb3dzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZmVlZHMvdW5mb2xsb3cvYmF0Y2gnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSwgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgZGVjb2RlcnMuVW5mb2xsb3dCYXRjaFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVGZWVkVXNlckRhdGEocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZmVlZHMvdXNlcnMve3VzZXJfaWR9L2RlbGV0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRlY29kZXJzLkRlbGV0ZUZlZWRVc2VyRGF0YVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgIH1cbiAgICBhc3luYyBleHBvcnRGZWVkVXNlckRhdGEocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ZlZWRzL3VzZXJzL3t1c2VyX2lkfS9leHBvcnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICBkZWNvZGVycy5FeHBvcnRGZWVkVXNlckRhdGFSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICB9XG59XG5cbmNsYXNzIEZlZWRBcGkge1xuICAgIGNvbnN0cnVjdG9yKGZlZWRzQXBpLCBncm91cCwgaWQpIHtcbiAgICAgICAgdGhpcy5mZWVkc0FwaSA9IGZlZWRzQXBpO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgZGVsZXRlKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVlZHNBcGkuZGVsZXRlRmVlZCh7XG4gICAgICAgICAgICBmZWVkX2lkOiB0aGlzLmlkLFxuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogdGhpcy5ncm91cCxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRPckNyZWF0ZShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlZWRzQXBpLmdldE9yQ3JlYXRlRmVlZCh7XG4gICAgICAgICAgICBmZWVkX2lkOiB0aGlzLmlkLFxuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogdGhpcy5ncm91cCxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGUocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWVkc0FwaS51cGRhdGVGZWVkKHtcbiAgICAgICAgICAgIGZlZWRfaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICBmZWVkX2dyb3VwX2lkOiB0aGlzLmdyb3VwLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1hcmtBY3Rpdml0eShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlZWRzQXBpLm1hcmtBY3Rpdml0eSh7XG4gICAgICAgICAgICBmZWVkX2lkOiB0aGlzLmlkLFxuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogdGhpcy5ncm91cCxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bnBpbkFjdGl2aXR5KHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVlZHNBcGkudW5waW5BY3Rpdml0eSh7XG4gICAgICAgICAgICBmZWVkX2lkOiB0aGlzLmlkLFxuICAgICAgICAgICAgZmVlZF9ncm91cF9pZDogdGhpcy5ncm91cCxcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaW5BY3Rpdml0eShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlZWRzQXBpLnBpbkFjdGl2aXR5KHtcbiAgICAgICAgICAgIGZlZWRfaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICBmZWVkX2dyb3VwX2lkOiB0aGlzLmdyb3VwLFxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZUZlZWRNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVlZHNBcGkudXBkYXRlRmVlZE1lbWJlcnMoe1xuICAgICAgICAgICAgZmVlZF9pZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWNjZXB0RmVlZE1lbWJlckludml0ZShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlZWRzQXBpLmFjY2VwdEZlZWRNZW1iZXJJbnZpdGUoe1xuICAgICAgICAgICAgZmVlZF9pZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcXVlcnlGZWVkTWVtYmVycyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlZWRzQXBpLnF1ZXJ5RmVlZE1lbWJlcnMoe1xuICAgICAgICAgICAgZmVlZF9pZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVqZWN0RmVlZE1lbWJlckludml0ZShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlZWRzQXBpLnJlamVjdEZlZWRNZW1iZXJJbnZpdGUoe1xuICAgICAgICAgICAgZmVlZF9pZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGZlZWRfZ3JvdXBfaWQ6IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmVhbUZlZWQgZXh0ZW5kcyBGZWVkQXBpIHtcbiAgICBnZXQgZmVlZCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZ3JvdXB9OiR7dGhpcy5pZH1gO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtRmVlZHNDbGllbnQgZXh0ZW5kcyBGZWVkc0FwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZmVlZCA9IChncm91cCwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtRmVlZCh0aGlzLCBncm91cCwgaWQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5RmVlZHMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLl9xdWVyeUZlZWRzKHJlcXVlc3QpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2xpZW50IGV4dGVuZHMgQ29tbW9uQXBpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcGlLZXlcbiAgICAgKiBAcGFyYW0gc2VjcmV0XG4gICAgICogQHBhcmFtIGNvbmZpZyBjb25maWcgb2JqZWN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBpS2V5LCBzZWNyZXQsIGNvbmZpZykge1xuICAgICAgICBjb25zdCB0b2tlbiA9IEpXVFNlcnZlclRva2VuKHNlY3JldCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBjb25maWc/LnRpbWVvdXQgPz8gU3RyZWFtQ2xpZW50LkRFRkFVTFRfVElNRU9VVDtcbiAgICAgICAgY29uc3QgY2hhdEJhc2VVcmwgPSBjb25maWc/LmJhc2VQYXRoID8/ICdodHRwczovL2NoYXQuc3RyZWFtLWlvLWFwaS5jb20nO1xuICAgICAgICBjb25zdCB2aWRlb0Jhc2VVcmwgPSBjb25maWc/LmJhc2VQYXRoID8/ICdodHRwczovL3ZpZGVvLnN0cmVhbS1pby1hcGkuY29tJztcbiAgICAgICAgY29uc3QgZmVlZHNCYXNlVXJsID0gY29uZmlnPy5iYXNlUGF0aCA/PyAnaHR0cHM6Ly9mZWVkcy5zdHJlYW0taW8tYXBpLmNvbSc7XG4gICAgICAgIGNvbnN0IGNoYXRBcGlDbGllbnQgPSBuZXcgQXBpQ2xpZW50KHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgYmFzZVVybDogY2hhdEJhc2VVcmwsXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgYWdlbnQ6IGNvbmZpZz8uYWdlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB2aWRlb0FwaUNsaWVudCA9IG5ldyBBcGlDbGllbnQoe1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBiYXNlVXJsOiB2aWRlb0Jhc2VVcmwsXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgYWdlbnQ6IGNvbmZpZz8uYWdlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmZWVkc0FwaUNsaWVudCA9IG5ldyBBcGlDbGllbnQoe1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBiYXNlVXJsOiBmZWVkc0Jhc2VVcmwsXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgYWdlbnQ6IGNvbmZpZz8uYWdlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlcihjaGF0QXBpQ2xpZW50KTtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgIHRoaXMudXBzZXJ0VXNlcnMgPSAodXNlcnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7fTtcbiAgICAgICAgICAgIHVzZXJzLmZvckVhY2goKHUpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkW3UuaWRdID0gdTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlcnMoeyB1c2VyczogcGF5bG9hZCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXQucXVlcnlCYW5uZWRVc2VycyhyZXF1ZXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBUEkgc3BlYyBzYXlzIGZpbGUgc2hvdWxkIGJlIGEgc3RyaW5nXG4gICAgICAgIHRoaXMudXBsb2FkRmlsZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIudXBsb2FkRmlsZSh7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBUEkgc3BlYyBzYXlzIGZpbGUgc2hvdWxkIGJlIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgZmlsZTogcmVxdWVzdC5maWxlLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZm9ybSBkYXRhIHdpbGwgb25seSB3b3JrIGlmIHRoaXMgaXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICB1c2VyOiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0LnVzZXIpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQVBJIHNwZWMgc2F5cyBmaWxlIHNob3VsZCBiZSBhIHN0cmluZ1xuICAgICAgICB0aGlzLnVwbG9hZEltYWdlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci51cGxvYWRJbWFnZSh7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBUEkgc3BlYyBzYXlzIGZpbGUgc2hvdWxkIGJlIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgZmlsZTogcmVxdWVzdC5maWxlLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZm9ybSBkYXRhIHdpbGwgb25seSB3b3JrIGlmIHRoaXMgaXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICB1c2VyOiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0LnVzZXIpLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZm9ybSBkYXRhIHdpbGwgb25seSB3b3JrIGlmIHRoaXMgaXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICB1cGxvYWRfc2l6ZXM6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QudXBsb2FkX3NpemVzKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHBheWxvYWRcbiAgICAgICAgICogLSB1c2VyX2lkIC0gdGhlIGlkIG9mIHRoZSB1c2VyIHRoZSB0b2tlbiBpcyBmb3JcbiAgICAgICAgICogLSB2YWxpZGl0eV9pbl9zZWNvbmRzIC0gaG93IG1hbnkgc2Vjb25kcyBpcyB0aGUgdG9rZW4gdmFsaWQgZm9yIChzdGFydGluZyBmcm9tIGlzc3VlZCBhdCksIGJ5IGRlZmF1bHQgaXQncyAxIGhvdXIsIGRpY2FyZGVkIGlmIGV4cCBpcyBwcm92aWRlZFxuICAgICAgICAgKiAtIGV4cCAtIHdoZW4gdGhlIHRva2VuIGV4cGlyZXMsIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICAgICAgICogLSBpYXQgLSBpc3N1ZWQgYXQgZGF0ZSBvZiB0aGUgdG9rZW4sIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHMsIGJ5IGRlZmF1bHQgaXQncyBub3dcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVVc2VyVG9rZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdElhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApO1xuICAgICAgICAgICAgcGF5bG9hZC5pYXQgPSBwYXlsb2FkLmlhdCA/PyBkZWZhdWx0SWF0O1xuICAgICAgICAgICAgY29uc3QgdmFsaWRpdHlJblNlY29uZHMgPSBwYXlsb2FkLnZhbGlkaXR5X2luX3NlY29uZHMgPz8gNjAgKiA2MDtcbiAgICAgICAgICAgIHBheWxvYWQuZXhwID0gcGF5bG9hZC5leHAgPz8gcGF5bG9hZC5pYXQgKyB2YWxpZGl0eUluU2Vjb25kcztcbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHBheWxvYWRcbiAgICAgICAgICogLSB1c2VyX2lkIC0gdGhlIGlkIG9mIHRoZSB1c2VyIHRoZSB0b2tlbiBpcyBmb3JcbiAgICAgICAgICogLSB2YWxpZGl0eV9pbl9zZWNvbmRzIC0gaG93IG1hbnkgc2Vjb25kcyBpcyB0aGUgdG9rZW4gdmFsaWQgZm9yIChzdGFydGluZyBmcm9tIGlzc3VlZCBhdCksIGJ5IGRlZmF1bHQgaXQncyAxIGhvdXIsIGRpY2FyZGVkIGlmIGV4cCBpcyBwcm92aWRlZFxuICAgICAgICAgKiAtIGV4cCAtIHdoZW4gdGhlIHRva2VuIGV4cGlyZXMsIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICAgICAgICogLSBpYXQgLSBpc3N1ZWQgYXQgZGF0ZSBvZiB0aGUgdG9rZW4sIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHMsIGJ5IGRlZmF1bHQgaXQncyBub3dcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDYWxsVG9rZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVVc2VyVG9rZW4ocGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdXNlcklEXG4gICAgICAgICAqIEBwYXJhbSBleHBcbiAgICAgICAgICogQHBhcmFtIGlhdCBkZXByZWNhdGVkLCB0aGUgZGVmYXVsdCBkYXRlIHdpbGwgYmUgc2V0IGludGVybmFsbHlcbiAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIGdlbmVyYXRlVXNlclRva2VuIGluc3RlYWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlVG9rZW4gPSAodXNlcklELCBleHAgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjAsIGlhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRCxcbiAgICAgICAgICAgICAgICBleHAsXG4gICAgICAgICAgICAgICAgaWF0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHVzZXJJRFxuICAgICAgICAgKiBAcGFyYW0gY2FsbF9jaWRzXG4gICAgICAgICAqIEBwYXJhbSBleHBcbiAgICAgICAgICogQHBhcmFtIGlhdCB0aGlzIGlzIGRlcHJlY2F0ZWQsIHRoZSBjdXJyZW50IGRhdGUgd2lsbCBiZSBzZXQgaW50ZXJuYWxseVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgZ2VuZXJhdGVDYWxsVG9rZW4gaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcmVhdGVDYWxsVG9rZW4gPSAodXNlcklkT3JPYmplY3QsIGNhbGxfY2lkcywgZXhwID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCkgKyA2MCAqIDYwLCBpYXQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gMTAwMCkgLyAxMDAwKSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBleHAsXG4gICAgICAgICAgICAgICAgaWF0LFxuICAgICAgICAgICAgICAgIGNhbGxfY2lkcyxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB0eXBlb2YgdXNlcklkT3JPYmplY3QgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gdXNlcklkT3JPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgOiB1c2VySWRPck9iamVjdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlcklkT3JPYmplY3QgPT09ICdvYmplY3QnICYmIHVzZXJJZE9yT2JqZWN0LnJvbGUpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnJvbGUgPSB1c2VySWRPck9iamVjdC5yb2xlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpXVFVzZXJUb2tlbih0aGlzLnNlY3JldCwgcGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyaWZ5V2ViaG9vayA9IChyZXF1ZXN0Qm9keSwgeFNpZ25hdHVyZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gQnVmZmVyLmZyb20odGhpcy5zZWNyZXQsICd1dGY4Jyk7XG4gICAgICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSlcbiAgICAgICAgICAgICAgICAudXBkYXRlKHJlcXVlc3RCb2R5KVxuICAgICAgICAgICAgICAgIC5kaWdlc3QoJ2hleCcpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChCdWZmZXIuZnJvbShoYXNoKSwgQnVmZmVyLmZyb20oeFNpZ25hdHVyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWRlbyA9IG5ldyBTdHJlYW1WaWRlb0NsaWVudCh7XG4gICAgICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMsXG4gICAgICAgICAgICBhcGlDbGllbnQ6IHZpZGVvQXBpQ2xpZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGF0ID0gbmV3IFN0cmVhbUNoYXRDbGllbnQodGhpcy5hcGlDbGllbnQpO1xuICAgICAgICB0aGlzLm1vZGVyYXRpb24gPSBuZXcgU3RyZWFtTW9kZXJhdGlvbkNsaWVudChjaGF0QXBpQ2xpZW50KTtcbiAgICAgICAgdGhpcy5mZWVkcyA9IG5ldyBTdHJlYW1GZWVkc0NsaWVudChmZWVkc0FwaUNsaWVudCk7XG4gICAgfVxufVxuU3RyZWFtQ2xpZW50LkRFRkFVTFRfVElNRU9VVCA9IDMwMDA7XG5cbmNvbnN0IENoYW5uZWxPd25DYXBhYmlsaXR5ID0ge1xuICAgIEJBTl9DSEFOTkVMX01FTUJFUlM6ICdiYW4tY2hhbm5lbC1tZW1iZXJzJyxcbiAgICBDQVNUX1BPTExfVk9URTogJ2Nhc3QtcG9sbC12b3RlJyxcbiAgICBDT05ORUNUX0VWRU5UUzogJ2Nvbm5lY3QtZXZlbnRzJyxcbiAgICBDUkVBVEVfQVRUQUNITUVOVDogJ2NyZWF0ZS1hdHRhY2htZW50JyxcbiAgICBERUxFVEVfQU5ZX01FU1NBR0U6ICdkZWxldGUtYW55LW1lc3NhZ2UnLFxuICAgIERFTEVURV9DSEFOTkVMOiAnZGVsZXRlLWNoYW5uZWwnLFxuICAgIERFTEVURV9PV05fTUVTU0FHRTogJ2RlbGV0ZS1vd24tbWVzc2FnZScsXG4gICAgRkxBR19NRVNTQUdFOiAnZmxhZy1tZXNzYWdlJyxcbiAgICBGUkVFWkVfQ0hBTk5FTDogJ2ZyZWV6ZS1jaGFubmVsJyxcbiAgICBKT0lOX0NIQU5ORUw6ICdqb2luLWNoYW5uZWwnLFxuICAgIExFQVZFX0NIQU5ORUw6ICdsZWF2ZS1jaGFubmVsJyxcbiAgICBNVVRFX0NIQU5ORUw6ICdtdXRlLWNoYW5uZWwnLFxuICAgIFBJTl9NRVNTQUdFOiAncGluLW1lc3NhZ2UnLFxuICAgIFFVRVJZX1BPTExfVk9URVM6ICdxdWVyeS1wb2xsLXZvdGVzJyxcbiAgICBRVU9URV9NRVNTQUdFOiAncXVvdGUtbWVzc2FnZScsXG4gICAgUkVBRF9FVkVOVFM6ICdyZWFkLWV2ZW50cycsXG4gICAgU0VBUkNIX01FU1NBR0VTOiAnc2VhcmNoLW1lc3NhZ2VzJyxcbiAgICBTRU5EX0NVU1RPTV9FVkVOVFM6ICdzZW5kLWN1c3RvbS1ldmVudHMnLFxuICAgIFNFTkRfTElOS1M6ICdzZW5kLWxpbmtzJyxcbiAgICBTRU5EX01FU1NBR0U6ICdzZW5kLW1lc3NhZ2UnLFxuICAgIFNFTkRfUE9MTDogJ3NlbmQtcG9sbCcsXG4gICAgU0VORF9SRUFDVElPTjogJ3NlbmQtcmVhY3Rpb24nLFxuICAgIFNFTkRfUkVQTFk6ICdzZW5kLXJlcGx5JyxcbiAgICBTRU5EX1JFU1RSSUNURURfVklTSUJJTElUWV9NRVNTQUdFOiAnc2VuZC1yZXN0cmljdGVkLXZpc2liaWxpdHktbWVzc2FnZScsXG4gICAgU0VORF9UWVBJTkdfRVZFTlRTOiAnc2VuZC10eXBpbmctZXZlbnRzJyxcbiAgICBTRVRfQ0hBTk5FTF9DT09MRE9XTjogJ3NldC1jaGFubmVsLWNvb2xkb3duJyxcbiAgICBTSEFSRV9MT0NBVElPTjogJ3NoYXJlLWxvY2F0aW9uJyxcbiAgICBTS0lQX1NMT1dfTU9ERTogJ3NraXAtc2xvdy1tb2RlJyxcbiAgICBTTE9XX01PREU6ICdzbG93LW1vZGUnLFxuICAgIFRZUElOR19FVkVOVFM6ICd0eXBpbmctZXZlbnRzJyxcbiAgICBVUERBVEVfQU5ZX01FU1NBR0U6ICd1cGRhdGUtYW55LW1lc3NhZ2UnLFxuICAgIFVQREFURV9DSEFOTkVMOiAndXBkYXRlLWNoYW5uZWwnLFxuICAgIFVQREFURV9DSEFOTkVMX01FTUJFUlM6ICd1cGRhdGUtY2hhbm5lbC1tZW1iZXJzJyxcbiAgICBVUERBVEVfT1dOX01FU1NBR0U6ICd1cGRhdGUtb3duLW1lc3NhZ2UnLFxuICAgIFVQREFURV9USFJFQUQ6ICd1cGRhdGUtdGhyZWFkJyxcbiAgICBVUExPQURfRklMRTogJ3VwbG9hZC1maWxlJyxcbn07XG5jb25zdCBGZWVkT3duQ2FwYWJpbGl0eSA9IHtcbiAgICBBRERfQUNUSVZJVFk6ICdhZGQtYWN0aXZpdHknLFxuICAgIEFERF9BQ1RJVklUWV9SRUFDVElPTjogJ2FkZC1hY3Rpdml0eS1yZWFjdGlvbicsXG4gICAgQUREX0NPTU1FTlQ6ICdhZGQtY29tbWVudCcsXG4gICAgQUREX0NPTU1FTlRfUkVBQ1RJT046ICdhZGQtY29tbWVudC1yZWFjdGlvbicsXG4gICAgQk9PS01BUktfQUNUSVZJVFk6ICdib29rbWFyay1hY3Rpdml0eScsXG4gICAgQ1JFQVRFX0ZFRUQ6ICdjcmVhdGUtZmVlZCcsXG4gICAgREVMRVRFX0JPT0tNQVJLOiAnZGVsZXRlLWJvb2ttYXJrJyxcbiAgICBERUxFVEVfQ09NTUVOVDogJ2RlbGV0ZS1jb21tZW50JyxcbiAgICBERUxFVEVfRkVFRDogJ2RlbGV0ZS1mZWVkJyxcbiAgICBFRElUX0JPT0tNQVJLOiAnZWRpdC1ib29rbWFyaycsXG4gICAgRk9MTE9XOiAnZm9sbG93JyxcbiAgICBJTlZJVEVfRkVFRDogJ2ludml0ZS1mZWVkJyxcbiAgICBKT0lOX0ZFRUQ6ICdqb2luLWZlZWQnLFxuICAgIExFQVZFX0ZFRUQ6ICdsZWF2ZS1mZWVkJyxcbiAgICBNQU5BR0VfRkVFRF9HUk9VUDogJ21hbmFnZS1mZWVkLWdyb3VwJyxcbiAgICBNQVJLX0FDVElWSVRZOiAnbWFyay1hY3Rpdml0eScsXG4gICAgUElOX0FDVElWSVRZOiAncGluLWFjdGl2aXR5JyxcbiAgICBRVUVSWV9GRUVEX01FTUJFUlM6ICdxdWVyeS1mZWVkLW1lbWJlcnMnLFxuICAgIFFVRVJZX0ZPTExPV1M6ICdxdWVyeS1mb2xsb3dzJyxcbiAgICBSRUFEX0FDVElWSVRJRVM6ICdyZWFkLWFjdGl2aXRpZXMnLFxuICAgIFJFQURfRkVFRDogJ3JlYWQtZmVlZCcsXG4gICAgUkVNT1ZFX0FDVElWSVRZOiAncmVtb3ZlLWFjdGl2aXR5JyxcbiAgICBSRU1PVkVfQUNUSVZJVFlfUkVBQ1RJT046ICdyZW1vdmUtYWN0aXZpdHktcmVhY3Rpb24nLFxuICAgIFJFTU9WRV9DT01NRU5UX1JFQUNUSU9OOiAncmVtb3ZlLWNvbW1lbnQtcmVhY3Rpb24nLFxuICAgIFVORk9MTE9XOiAndW5mb2xsb3cnLFxuICAgIFVQREFURV9BQ1RJVklUWTogJ3VwZGF0ZS1hY3Rpdml0eScsXG4gICAgVVBEQVRFX0NPTU1FTlQ6ICd1cGRhdGUtY29tbWVudCcsXG4gICAgVVBEQVRFX0ZFRUQ6ICd1cGRhdGUtZmVlZCcsXG4gICAgVVBEQVRFX0ZFRURfRk9MTE9XRVJTOiAndXBkYXRlLWZlZWQtZm9sbG93ZXJzJyxcbiAgICBVUERBVEVfRkVFRF9NRU1CRVJTOiAndXBkYXRlLWZlZWQtbWVtYmVycycsXG59O1xuY29uc3QgT3duQ2FwYWJpbGl0eSA9IHtcbiAgICBCTE9DS19VU0VSUzogJ2Jsb2NrLXVzZXJzJyxcbiAgICBDSEFOR0VfTUFYX0RVUkFUSU9OOiAnY2hhbmdlLW1heC1kdXJhdGlvbicsXG4gICAgQ1JFQVRFX0NBTEw6ICdjcmVhdGUtY2FsbCcsXG4gICAgQ1JFQVRFX1JFQUNUSU9OOiAnY3JlYXRlLXJlYWN0aW9uJyxcbiAgICBFTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OOiAnZW5hYmxlLW5vaXNlLWNhbmNlbGxhdGlvbicsXG4gICAgRU5EX0NBTEw6ICdlbmQtY2FsbCcsXG4gICAgSk9JTl9CQUNLU1RBR0U6ICdqb2luLWJhY2tzdGFnZScsXG4gICAgSk9JTl9DQUxMOiAnam9pbi1jYWxsJyxcbiAgICBKT0lOX0VOREVEX0NBTEw6ICdqb2luLWVuZGVkLWNhbGwnLFxuICAgIEtJQ0tfVVNFUjogJ2tpY2stdXNlcicsXG4gICAgTVVURV9VU0VSUzogJ211dGUtdXNlcnMnLFxuICAgIFBJTl9GT1JfRVZFUllPTkU6ICdwaW4tZm9yLWV2ZXJ5b25lJyxcbiAgICBSRUFEX0NBTEw6ICdyZWFkLWNhbGwnLFxuICAgIFJFTU9WRV9DQUxMX01FTUJFUjogJ3JlbW92ZS1jYWxsLW1lbWJlcicsXG4gICAgU0NSRUVOU0hBUkU6ICdzY3JlZW5zaGFyZScsXG4gICAgU0VORF9BVURJTzogJ3NlbmQtYXVkaW8nLFxuICAgIFNFTkRfVklERU86ICdzZW5kLXZpZGVvJyxcbiAgICBTVEFSVF9CUk9BRENBU1RfQ0FMTDogJ3N0YXJ0LWJyb2FkY2FzdC1jYWxsJyxcbiAgICBTVEFSVF9DTE9TRURfQ0FQVElPTlNfQ0FMTDogJ3N0YXJ0LWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgICBTVEFSVF9GUkFNRV9SRUNPUkRfQ0FMTDogJ3N0YXJ0LWZyYW1lLXJlY29yZC1jYWxsJyxcbiAgICBTVEFSVF9SRUNPUkRfQ0FMTDogJ3N0YXJ0LXJlY29yZC1jYWxsJyxcbiAgICBTVEFSVF9UUkFOU0NSSVBUSU9OX0NBTEw6ICdzdGFydC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICAgIFNUT1BfQlJPQURDQVNUX0NBTEw6ICdzdG9wLWJyb2FkY2FzdC1jYWxsJyxcbiAgICBTVE9QX0NMT1NFRF9DQVBUSU9OU19DQUxMOiAnc3RvcC1jbG9zZWQtY2FwdGlvbnMtY2FsbCcsXG4gICAgU1RPUF9GUkFNRV9SRUNPUkRfQ0FMTDogJ3N0b3AtZnJhbWUtcmVjb3JkLWNhbGwnLFxuICAgIFNUT1BfUkVDT1JEX0NBTEw6ICdzdG9wLXJlY29yZC1jYWxsJyxcbiAgICBTVE9QX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0b3AtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgICBVUERBVEVfQ0FMTDogJ3VwZGF0ZS1jYWxsJyxcbiAgICBVUERBVEVfQ0FMTF9NRU1CRVI6ICd1cGRhdGUtY2FsbC1tZW1iZXInLFxuICAgIFVQREFURV9DQUxMX1BFUk1JU1NJT05TOiAndXBkYXRlLWNhbGwtcGVybWlzc2lvbnMnLFxuICAgIFVQREFURV9DQUxMX1NFVFRJTkdTOiAndXBkYXRlLWNhbGwtc2V0dGluZ3MnLFxufTtcblxuZXhwb3J0IHsgQ2hhbm5lbE93bkNhcGFiaWxpdHksIEZlZWRPd25DYXBhYmlsaXR5LCBPd25DYXBhYmlsaXR5LCBTdHJlYW1DYWxsLCBTdHJlYW1DaGFubmVsLCBTdHJlYW1DaGF0Q2xpZW50LCBTdHJlYW1DbGllbnQsIFN0cmVhbUZlZWQsIFN0cmVhbUZlZWRzQ2xpZW50LCBTdHJlYW1WaWRlb0NsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"fe31b4bbe0c7\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxocFxcRG93bmxvYWRzXFxyZW1vdGUtaW50ZXJ2aWV3LXBsYXRmb3JtXFxub2RlX21vZHVsZXNcXEBzdHJlYW0taW9cXHZpZGVvLXJlYWN0LXNka1xcZGlzdFxcY3NzXFxzdHlsZXMuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiZmUzMWI0YmJlMGM3XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stream-io/video-client/dist/index.es.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* binding */ AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* binding */ AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   AxiosError: () => (/* reexport safe */ axios__WEBPACK_IMPORTED_MODULE_1__.AxiosError),\n/* harmony export */   Browsers: () => (/* binding */ browsers),\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   CallState: () => (/* binding */ CallState),\n/* harmony export */   CallType: () => (/* binding */ CallType),\n/* harmony export */   CallTypes: () => (/* binding */ CallTypes),\n/* harmony export */   CallingState: () => (/* binding */ CallingState),\n/* harmony export */   CameraManager: () => (/* binding */ CameraManager),\n/* harmony export */   CameraManagerState: () => (/* binding */ CameraManagerState),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* binding */ CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* binding */ DebounceType),\n/* harmony export */   DynascaleManager: () => (/* binding */ DynascaleManager),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   FrameRecordingSettingsRequestModeEnum: () => (/* binding */ FrameRecordingSettingsRequestModeEnum),\n/* harmony export */   FrameRecordingSettingsRequestQualityEnum: () => (/* binding */ FrameRecordingSettingsRequestQualityEnum),\n/* harmony export */   FrameRecordingSettingsResponseModeEnum: () => (/* binding */ FrameRecordingSettingsResponseModeEnum),\n/* harmony export */   IngressAudioEncodingOptionsRequestChannelsEnum: () => (/* binding */ IngressAudioEncodingOptionsRequestChannelsEnum),\n/* harmony export */   IngressVideoLayerRequestCodecEnum: () => (/* binding */ IngressVideoLayerRequestCodecEnum),\n/* harmony export */   InputMediaDeviceManager: () => (/* binding */ InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* binding */ InputMediaDeviceManagerState),\n/* harmony export */   LayoutSettingsRequestNameEnum: () => (/* binding */ LayoutSettingsRequestNameEnum),\n/* harmony export */   MicrophoneManager: () => (/* binding */ MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* binding */ MicrophoneManagerState),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* binding */ NoiseCancellationSettingsModeEnum),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   RNSpeechDetector: () => (/* binding */ RNSpeechDetector),\n/* harmony export */   RTMPBroadcastRequestQualityEnum: () => (/* binding */ RTMPBroadcastRequestQualityEnum),\n/* harmony export */   RTMPSettingsRequestQualityEnum: () => (/* binding */ RTMPSettingsRequestQualityEnum),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* binding */ RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* binding */ RecordSettingsRequestQualityEnum),\n/* harmony export */   RxUtils: () => (/* binding */ rxUtils),\n/* harmony export */   ScreenShareManager: () => (/* binding */ ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* binding */ ScreenShareState),\n/* harmony export */   SfuEvents: () => (/* binding */ events),\n/* harmony export */   SfuModels: () => (/* binding */ models),\n/* harmony export */   SpeakerManager: () => (/* binding */ SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* binding */ SpeakerState),\n/* harmony export */   StartClosedCaptionsRequestLanguageEnum: () => (/* binding */ StartClosedCaptionsRequestLanguageEnum),\n/* harmony export */   StartTranscriptionRequestLanguageEnum: () => (/* binding */ StartTranscriptionRequestLanguageEnum),\n/* harmony export */   StreamSfuClient: () => (/* binding */ StreamSfuClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* binding */ StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* binding */ StreamVideoWriteableStateStore),\n/* harmony export */   TranscriptionSettingsRequestClosedCaptionModeEnum: () => (/* binding */ TranscriptionSettingsRequestClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsRequestLanguageEnum: () => (/* binding */ TranscriptionSettingsRequestLanguageEnum),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* binding */ TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseClosedCaptionModeEnum: () => (/* binding */ TranscriptionSettingsResponseClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsResponseLanguageEnum: () => (/* binding */ TranscriptionSettingsResponseLanguageEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* binding */ TranscriptionSettingsResponseModeEnum),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* binding */ VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* binding */ VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* binding */ ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* binding */ VisibilityState),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* binding */ checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* binding */ combineComparators),\n/* harmony export */   conditional: () => (/* binding */ conditional),\n/* harmony export */   createSoundDetector: () => (/* binding */ createSoundDetector),\n/* harmony export */   defaultSortPreset: () => (/* binding */ defaultSortPreset),\n/* harmony export */   descending: () => (/* binding */ descending),\n/* harmony export */   deviceIds$: () => (/* binding */ deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* binding */ disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* binding */ dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* binding */ getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* binding */ getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* binding */ getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* binding */ getAudioStream),\n/* harmony export */   getClientDetails: () => (/* binding */ getClientDetails),\n/* harmony export */   getDeviceState: () => (/* binding */ getDeviceState),\n/* harmony export */   getLogLevel: () => (/* binding */ getLogLevel),\n/* harmony export */   getLogger: () => (/* binding */ getLogger),\n/* harmony export */   getScreenShareStream: () => (/* binding */ getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* binding */ getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* binding */ getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* binding */ getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* binding */ getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* binding */ getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* binding */ hasAudio),\n/* harmony export */   hasPausedTrack: () => (/* binding */ hasPausedTrack),\n/* harmony export */   hasScreenShare: () => (/* binding */ hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* binding */ hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* binding */ hasVideo),\n/* harmony export */   isPinned: () => (/* binding */ isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* binding */ livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* binding */ logLevels),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   noopComparator: () => (/* binding */ noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* binding */ paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* binding */ pinned),\n/* harmony export */   publishingAudio: () => (/* binding */ publishingAudio),\n/* harmony export */   publishingVideo: () => (/* binding */ publishingVideo),\n/* harmony export */   reactionType: () => (/* binding */ reactionType),\n/* harmony export */   resolveDeviceId: () => (/* binding */ resolveDeviceId),\n/* harmony export */   role: () => (/* binding */ role),\n/* harmony export */   screenSharing: () => (/* binding */ screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* binding */ setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setLogger: () => (/* binding */ setLogger),\n/* harmony export */   setOSInfo: () => (/* binding */ setOSInfo),\n/* harmony export */   setPowerState: () => (/* binding */ setPowerState),\n/* harmony export */   setSdkInfo: () => (/* binding */ setSdkInfo),\n/* harmony export */   setThermalState: () => (/* binding */ setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* binding */ setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* binding */ speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* binding */ speaking)\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"(ssr)/./node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-error.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/index.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twirp-transport.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twitch-twirp-error-code.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile,tap!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/cjs/index.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ua-parser-js */ \"(ssr)/./node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sdp-transform */ \"(ssr)/./node_modules/sdp-transform/lib/index.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\n\n\n\n\n/* tslint:disable */ /**\n * @export\n */ const AudioSettingsRequestDefaultDeviceEnum = {\n    SPEAKER: 'speaker',\n    EARPIECE: 'earpiece'\n};\n/**\n * @export\n */ const AudioSettingsResponseDefaultDeviceEnum = {\n    SPEAKER: 'speaker',\n    EARPIECE: 'earpiece'\n};\n/**\n * @export\n */ const CreateDeviceRequestPushProviderEnum = {\n    FIREBASE: 'firebase',\n    APN: 'apn',\n    HUAWEI: 'huawei',\n    XIAOMI: 'xiaomi'\n};\n/**\n * @export\n */ const FrameRecordingSettingsRequestModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const FrameRecordingSettingsRequestQualityEnum = {\n    _360P: '360p',\n    _480P: '480p',\n    _720P: '720p',\n    _1080P: '1080p',\n    _1440P: '1440p',\n    _2160P: '2160p'\n};\n/**\n * @export\n */ const FrameRecordingSettingsResponseModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const IngressAudioEncodingOptionsRequestChannelsEnum = {\n    NUMBER_1: 1,\n    NUMBER_2: 2\n};\n/**\n * @export\n */ const IngressVideoLayerRequestCodecEnum = {\n    H264: 'h264',\n    VP8: 'vp8'\n};\n/**\n * @export\n */ const LayoutSettingsRequestNameEnum = {\n    SPOTLIGHT: 'spotlight',\n    GRID: 'grid',\n    SINGLE_PARTICIPANT: 'single-participant',\n    MOBILE: 'mobile',\n    CUSTOM: 'custom'\n};\n/**\n * @export\n */ const NoiseCancellationSettingsModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * All possibility of string to use\n * @export\n */ const OwnCapability = {\n    BLOCK_USERS: 'block-users',\n    CHANGE_MAX_DURATION: 'change-max-duration',\n    CREATE_CALL: 'create-call',\n    CREATE_REACTION: 'create-reaction',\n    ENABLE_NOISE_CANCELLATION: 'enable-noise-cancellation',\n    END_CALL: 'end-call',\n    JOIN_BACKSTAGE: 'join-backstage',\n    JOIN_CALL: 'join-call',\n    JOIN_ENDED_CALL: 'join-ended-call',\n    KICK_USER: 'kick-user',\n    MUTE_USERS: 'mute-users',\n    PIN_FOR_EVERYONE: 'pin-for-everyone',\n    READ_CALL: 'read-call',\n    REMOVE_CALL_MEMBER: 'remove-call-member',\n    SCREENSHARE: 'screenshare',\n    SEND_AUDIO: 'send-audio',\n    SEND_VIDEO: 'send-video',\n    START_BROADCAST_CALL: 'start-broadcast-call',\n    START_CLOSED_CAPTIONS_CALL: 'start-closed-captions-call',\n    START_FRAME_RECORD_CALL: 'start-frame-record-call',\n    START_RECORD_CALL: 'start-record-call',\n    START_TRANSCRIPTION_CALL: 'start-transcription-call',\n    STOP_BROADCAST_CALL: 'stop-broadcast-call',\n    STOP_CLOSED_CAPTIONS_CALL: 'stop-closed-captions-call',\n    STOP_FRAME_RECORD_CALL: 'stop-frame-record-call',\n    STOP_RECORD_CALL: 'stop-record-call',\n    STOP_TRANSCRIPTION_CALL: 'stop-transcription-call',\n    UPDATE_CALL: 'update-call',\n    UPDATE_CALL_MEMBER: 'update-call-member',\n    UPDATE_CALL_PERMISSIONS: 'update-call-permissions',\n    UPDATE_CALL_SETTINGS: 'update-call-settings'\n};\n/**\n * @export\n */ const RTMPBroadcastRequestQualityEnum = {\n    _360P: '360p',\n    _480P: '480p',\n    _720P: '720p',\n    _1080P: '1080p',\n    _1440P: '1440p',\n    _2160P: '2160p',\n    PORTRAIT_360X640: 'portrait-360x640',\n    PORTRAIT_480X854: 'portrait-480x854',\n    PORTRAIT_720X1280: 'portrait-720x1280',\n    PORTRAIT_1080X1920: 'portrait-1080x1920',\n    PORTRAIT_1440X2560: 'portrait-1440x2560',\n    PORTRAIT_2160X3840: 'portrait-2160x3840'\n};\n/**\n * @export\n */ const RTMPSettingsRequestQualityEnum = {\n    _360P: '360p',\n    _480P: '480p',\n    _720P: '720p',\n    _1080P: '1080p',\n    _1440P: '1440p',\n    _2160P: '2160p',\n    PORTRAIT_360X640: 'portrait-360x640',\n    PORTRAIT_480X854: 'portrait-480x854',\n    PORTRAIT_720X1280: 'portrait-720x1280',\n    PORTRAIT_1080X1920: 'portrait-1080x1920',\n    PORTRAIT_1440X2560: 'portrait-1440x2560',\n    PORTRAIT_2160X3840: 'portrait-2160x3840'\n};\n/**\n * @export\n */ const RecordSettingsRequestModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const RecordSettingsRequestQualityEnum = {\n    _360P: '360p',\n    _480P: '480p',\n    _720P: '720p',\n    _1080P: '1080p',\n    _1440P: '1440p',\n    _2160P: '2160p',\n    PORTRAIT_360X640: 'portrait-360x640',\n    PORTRAIT_480X854: 'portrait-480x854',\n    PORTRAIT_720X1280: 'portrait-720x1280',\n    PORTRAIT_1080X1920: 'portrait-1080x1920',\n    PORTRAIT_1440X2560: 'portrait-1440x2560',\n    PORTRAIT_2160X3840: 'portrait-2160x3840'\n};\n/**\n * @export\n */ const StartClosedCaptionsRequestLanguageEnum = {\n    AUTO: 'auto',\n    EN: 'en',\n    FR: 'fr',\n    ES: 'es',\n    DE: 'de',\n    IT: 'it',\n    NL: 'nl',\n    PT: 'pt',\n    PL: 'pl',\n    CA: 'ca',\n    CS: 'cs',\n    DA: 'da',\n    EL: 'el',\n    FI: 'fi',\n    ID: 'id',\n    JA: 'ja',\n    RU: 'ru',\n    SV: 'sv',\n    TA: 'ta',\n    TH: 'th',\n    TR: 'tr',\n    HU: 'hu',\n    RO: 'ro',\n    ZH: 'zh',\n    AR: 'ar',\n    TL: 'tl',\n    HE: 'he',\n    HI: 'hi',\n    HR: 'hr',\n    KO: 'ko',\n    MS: 'ms',\n    NO: 'no',\n    UK: 'uk',\n    BG: 'bg',\n    ET: 'et',\n    SL: 'sl',\n    SK: 'sk'\n};\n/**\n * @export\n */ const StartTranscriptionRequestLanguageEnum = {\n    AUTO: 'auto',\n    EN: 'en',\n    FR: 'fr',\n    ES: 'es',\n    DE: 'de',\n    IT: 'it',\n    NL: 'nl',\n    PT: 'pt',\n    PL: 'pl',\n    CA: 'ca',\n    CS: 'cs',\n    DA: 'da',\n    EL: 'el',\n    FI: 'fi',\n    ID: 'id',\n    JA: 'ja',\n    RU: 'ru',\n    SV: 'sv',\n    TA: 'ta',\n    TH: 'th',\n    TR: 'tr',\n    HU: 'hu',\n    RO: 'ro',\n    ZH: 'zh',\n    AR: 'ar',\n    TL: 'tl',\n    HE: 'he',\n    HI: 'hi',\n    HR: 'hr',\n    KO: 'ko',\n    MS: 'ms',\n    NO: 'no',\n    UK: 'uk',\n    BG: 'bg',\n    ET: 'et',\n    SL: 'sl',\n    SK: 'sk'\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestClosedCaptionModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestLanguageEnum = {\n    AUTO: 'auto',\n    EN: 'en',\n    FR: 'fr',\n    ES: 'es',\n    DE: 'de',\n    IT: 'it',\n    NL: 'nl',\n    PT: 'pt',\n    PL: 'pl',\n    CA: 'ca',\n    CS: 'cs',\n    DA: 'da',\n    EL: 'el',\n    FI: 'fi',\n    ID: 'id',\n    JA: 'ja',\n    RU: 'ru',\n    SV: 'sv',\n    TA: 'ta',\n    TH: 'th',\n    TR: 'tr',\n    HU: 'hu',\n    RO: 'ro',\n    ZH: 'zh',\n    AR: 'ar',\n    TL: 'tl',\n    HE: 'he',\n    HI: 'hi',\n    HR: 'hr',\n    KO: 'ko',\n    MS: 'ms',\n    NO: 'no',\n    UK: 'uk',\n    BG: 'bg',\n    ET: 'et',\n    SL: 'sl',\n    SK: 'sk'\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseClosedCaptionModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseLanguageEnum = {\n    AUTO: 'auto',\n    EN: 'en',\n    FR: 'fr',\n    ES: 'es',\n    DE: 'de',\n    IT: 'it',\n    NL: 'nl',\n    PT: 'pt',\n    PL: 'pl',\n    CA: 'ca',\n    CS: 'cs',\n    DA: 'da',\n    EL: 'el',\n    FI: 'fi',\n    ID: 'id',\n    JA: 'ja',\n    RU: 'ru',\n    SV: 'sv',\n    TA: 'ta',\n    TH: 'th',\n    TR: 'tr',\n    HU: 'hu',\n    RO: 'ro',\n    ZH: 'zh',\n    AR: 'ar',\n    TL: 'tl',\n    HE: 'he',\n    HI: 'hi',\n    HR: 'hr',\n    KO: 'ko',\n    MS: 'ms',\n    NO: 'no',\n    UK: 'uk',\n    BG: 'bg',\n    ET: 'et',\n    SL: 'sl',\n    SK: 'sk'\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseModeEnum = {\n    AVAILABLE: 'available',\n    DISABLED: 'disabled',\n    AUTO_ON: 'auto-on'\n};\n/**\n * @export\n */ const VideoSettingsRequestCameraFacingEnum = {\n    FRONT: 'front',\n    BACK: 'back',\n    EXTERNAL: 'external'\n};\n/**\n * @export\n */ const VideoSettingsResponseCameraFacingEnum = {\n    FRONT: 'front',\n    BACK: 'back',\n    EXTERNAL: 'external'\n};\nclass ErrorFromResponse extends Error {\n    constructor({ message, code, status, response, unrecoverable }){\n        super(message);\n        this.name = 'ErrorFromResponse';\n        this.code = code;\n        this.response = response;\n        this.status = status;\n        this.unrecoverable = unrecoverable;\n    }\n    // Vitest helper (serialized errors are too large to read)\n    // https://github.com/vitest-dev/vitest/blob/v3.1.3/packages/utils/src/error.ts#L60-L62\n    toJSON() {\n        const extra = [\n            [\n                'status',\n                this.status\n            ],\n            [\n                'code',\n                this.code\n            ],\n            [\n                'unrecoverable',\n                this.unrecoverable\n            ]\n        ];\n        const joinable = [];\n        for (const [key, value] of extra){\n            if (typeof value !== 'undefined' && value !== null) {\n                joinable.push(`${key}: ${value}`);\n            }\n        }\n        return {\n            message: `(${joinable.join(', ')}) - ${this.message}`,\n            stack: this.stack,\n            name: this.name\n        };\n    }\n}\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/struct.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n *  The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from protobuf enum google.protobuf.NullValue\n */ var NullValue;\n(function(NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from protobuf enum value: NULL_VALUE = 0;\n     */ NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass Struct$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('google.protobuf.Struct', [\n            {\n                no: 1,\n                name: 'fields',\n                kind: 'map',\n                K: 9 /*ScalarType.STRING*/ ,\n                V: {\n                    kind: 'message',\n                    T: ()=>Value\n                }\n            }\n        ]);\n    }\n    /**\n     * Encode `Struct` to JSON object.\n     */ internalJsonWrite(message, options) {\n        let json = {};\n        for (let [k, v] of Object.entries(message.fields)){\n            json[k] = Value.toJson(v);\n        }\n        return json;\n    }\n    /**\n     * Decode `Struct` from JSON object.\n     */ internalJsonRead(json, options, target) {\n        if (!(0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.isJsonObject)(json)) throw new globalThis.Error('Unable to parse message ' + this.typeName + ' from JSON ' + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + '.');\n        if (!target) target = this.create();\n        for (let [k, v] of globalThis.Object.entries(json)){\n            target.fields[k] = Value.fromJson(v);\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Struct\n */ const Struct = new Struct$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Value$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('google.protobuf.Value', [\n            {\n                no: 1,\n                name: 'null_value',\n                kind: 'enum',\n                oneof: 'kind',\n                T: ()=>[\n                        'google.protobuf.NullValue',\n                        NullValue\n                    ]\n            },\n            {\n                no: 2,\n                name: 'number_value',\n                kind: 'scalar',\n                oneof: 'kind',\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 3,\n                name: 'string_value',\n                kind: 'scalar',\n                oneof: 'kind',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: 'bool_value',\n                kind: 'scalar',\n                oneof: 'kind',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 5,\n                name: 'struct_value',\n                kind: 'message',\n                oneof: 'kind',\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: 'list_value',\n                kind: 'message',\n                oneof: 'kind',\n                T: ()=>ListValue\n            }\n        ]);\n    }\n    /**\n     * Encode `Value` to JSON value.\n     */ internalJsonWrite(message, options) {\n        if (message.kind.oneofKind === undefined) throw new globalThis.Error();\n        switch(message.kind.oneofKind){\n            case undefined:\n                throw new globalThis.Error();\n            case 'boolValue':\n                return message.kind.boolValue;\n            case 'nullValue':\n                return null;\n            case 'numberValue':\n                let numberValue = message.kind.numberValue;\n                if (typeof numberValue == 'number' && !Number.isFinite(numberValue)) throw new globalThis.Error();\n                return numberValue;\n            case 'stringValue':\n                return message.kind.stringValue;\n            case 'listValue':\n                let listValueField = this.fields.find((f)=>f.no === 6);\n                if (listValueField?.kind !== 'message') throw new globalThis.Error();\n                return listValueField.T().toJson(message.kind.listValue);\n            case 'structValue':\n                let structValueField = this.fields.find((f)=>f.no === 5);\n                if (structValueField?.kind !== 'message') throw new globalThis.Error();\n                return structValueField.T().toJson(message.kind.structValue);\n        }\n    }\n    /**\n     * Decode `Value` from JSON value.\n     */ internalJsonRead(json, options, target) {\n        if (!target) target = this.create();\n        switch(typeof json){\n            case 'number':\n                target.kind = {\n                    oneofKind: 'numberValue',\n                    numberValue: json\n                };\n                break;\n            case 'string':\n                target.kind = {\n                    oneofKind: 'stringValue',\n                    stringValue: json\n                };\n                break;\n            case 'boolean':\n                target.kind = {\n                    oneofKind: 'boolValue',\n                    boolValue: json\n                };\n                break;\n            case 'object':\n                if (json === null) {\n                    target.kind = {\n                        oneofKind: 'nullValue',\n                        nullValue: NullValue.NULL_VALUE\n                    };\n                } else if (globalThis.Array.isArray(json)) {\n                    target.kind = {\n                        oneofKind: 'listValue',\n                        listValue: ListValue.fromJson(json)\n                    };\n                } else {\n                    target.kind = {\n                        oneofKind: 'structValue',\n                        structValue: Struct.fromJson(json)\n                    };\n                }\n                break;\n            default:\n                throw new globalThis.Error('Unable to parse ' + this.typeName + ' from JSON ' + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Value\n */ const Value = new Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ListValue$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('google.protobuf.ListValue', [\n            {\n                no: 1,\n                name: 'values',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Value\n            }\n        ]);\n    }\n    /**\n     * Encode `ListValue` to JSON array.\n     */ internalJsonWrite(message, options) {\n        return message.values.map((v)=>Value.toJson(v));\n    }\n    /**\n     * Decode `ListValue` from JSON array.\n     */ internalJsonRead(json, options, target) {\n        if (!globalThis.Array.isArray(json)) throw new globalThis.Error('Unable to parse ' + this.typeName + ' from JSON ' + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        if (!target) target = this.create();\n        let values = json.map((v)=>Value.fromJson(v));\n        target.values.push(...values);\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.ListValue\n */ const ListValue = new ListValue$Type();\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/timestamp.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// @generated message type with reflection information, may provide speed optimized methods\nclass Timestamp$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('google.protobuf.Timestamp', [\n            {\n                no: 1,\n                name: 'seconds',\n                kind: 'scalar',\n                T: 3 /*ScalarType.INT64*/ \n            },\n            {\n                no: 2,\n                name: 'nanos',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    /**\n     * Creates a new `Timestamp` for the current time.\n     */ now() {\n        const msg = this.create();\n        const ms = Date.now();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript Date.\n     */ toDate(message) {\n        return new Date(_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000 + Math.ceil(message.nanos / 1000000));\n    }\n    /**\n     * Converts a JavaScript Date to a `Timestamp`.\n     */ fromDate(date) {\n        const msg = this.create();\n        const ms = date.getTime();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = (ms % 1000 + (ms < 0 && ms % 1000 !== 0 ? 1000 : 0)) * 1000000;\n        return msg;\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonWrite(message, options) {\n        let ms = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000;\n        if (ms < Date.parse('0001-01-01T00:00:00Z') || ms > Date.parse('9999-12-31T23:59:59Z')) throw new Error('Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.');\n        if (message.nanos < 0) throw new Error('Unable to encode invalid Timestamp to JSON. Nanos must not be negative.');\n        let z = 'Z';\n        if (message.nanos > 0) {\n            let nanosStr = (message.nanos + 1000000000).toString().substring(1);\n            if (nanosStr.substring(3) === '000000') z = '.' + nanosStr.substring(0, 3) + 'Z';\n            else if (nanosStr.substring(6) === '000') z = '.' + nanosStr.substring(0, 6) + 'Z';\n            else z = '.' + nanosStr + 'Z';\n        }\n        return new Date(ms).toISOString().replace('.000Z', z);\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonRead(json, options, target) {\n        if (typeof json !== 'string') throw new Error('Unable to parse Timestamp from JSON ' + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + '.');\n        let matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n        if (!matches) throw new Error('Unable to parse Timestamp from JSON. Invalid format.');\n        let ms = Date.parse(matches[1] + '-' + matches[2] + '-' + matches[3] + 'T' + matches[4] + ':' + matches[5] + ':' + matches[6] + (matches[8] ? matches[8] : 'Z'));\n        if (Number.isNaN(ms)) throw new Error('Unable to parse Timestamp from JSON. Invalid value.');\n        if (ms < Date.parse('0001-01-01T00:00:00Z') || ms > Date.parse('9999-12-31T23:59:59Z')) throw new globalThis.Error('Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.');\n        if (!target) target = this.create();\n        target.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(ms / 1000).toString();\n        target.nanos = 0;\n        if (matches[7]) target.nanos = parseInt('1' + matches[7] + '0'.repeat(9 - matches[7].length)) - 1000000000;\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Timestamp\n */ const Timestamp = new Timestamp$Type();\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/models/models.proto\" (package \"stream.video.sfu.models\", syntax proto3)\n// tslint:disable\n/**\n * @generated from protobuf enum stream.video.sfu.models.PeerType\n */ var PeerType;\n(function(PeerType) {\n    /**\n     * todo fix me (marcelo)\n     *\n     * @generated from protobuf enum value: PEER_TYPE_PUBLISHER_UNSPECIFIED = 0;\n     */ PeerType[PeerType[\"PUBLISHER_UNSPECIFIED\"] = 0] = \"PUBLISHER_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PEER_TYPE_SUBSCRIBER = 1;\n     */ PeerType[PeerType[\"SUBSCRIBER\"] = 1] = \"SUBSCRIBER\";\n})(PeerType || (PeerType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ConnectionQuality\n */ var ConnectionQuality;\n(function(ConnectionQuality) {\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_UNSPECIFIED = 0;\n     */ ConnectionQuality[ConnectionQuality[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_POOR = 1;\n     */ ConnectionQuality[ConnectionQuality[\"POOR\"] = 1] = \"POOR\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_GOOD = 2;\n     */ ConnectionQuality[ConnectionQuality[\"GOOD\"] = 2] = \"GOOD\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_EXCELLENT = 3;\n     */ ConnectionQuality[ConnectionQuality[\"EXCELLENT\"] = 3] = \"EXCELLENT\";\n})(ConnectionQuality || (ConnectionQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.VideoQuality\n */ var VideoQuality;\n(function(VideoQuality) {\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_LOW_UNSPECIFIED = 0;\n     */ VideoQuality[VideoQuality[\"LOW_UNSPECIFIED\"] = 0] = \"LOW_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_MID = 1;\n     */ VideoQuality[VideoQuality[\"MID\"] = 1] = \"MID\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_HIGH = 2;\n     */ VideoQuality[VideoQuality[\"HIGH\"] = 2] = \"HIGH\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_OFF = 3;\n     */ VideoQuality[VideoQuality[\"OFF\"] = 3] = \"OFF\";\n})(VideoQuality || (VideoQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackType\n */ var TrackType;\n(function(TrackType) {\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_UNSPECIFIED = 0;\n     */ TrackType[TrackType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_AUDIO = 1;\n     */ TrackType[TrackType[\"AUDIO\"] = 1] = \"AUDIO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_VIDEO = 2;\n     */ TrackType[TrackType[\"VIDEO\"] = 2] = \"VIDEO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE = 3;\n     */ TrackType[TrackType[\"SCREEN_SHARE\"] = 3] = \"SCREEN_SHARE\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE_AUDIO = 4;\n     */ TrackType[TrackType[\"SCREEN_SHARE_AUDIO\"] = 4] = \"SCREEN_SHARE_AUDIO\";\n})(TrackType || (TrackType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ErrorCode\n */ var ErrorCode;\n(function(ErrorCode) {\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNSPECIFIED = 0;\n     */ ErrorCode[ErrorCode[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_NOT_FOUND = 100;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_NOT_FOUND\"] = 100] = \"PUBLISH_TRACK_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACKS_MISMATCH = 101;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACKS_MISMATCH\"] = 101] = \"PUBLISH_TRACKS_MISMATCH\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_OUT_OF_ORDER = 102;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_OUT_OF_ORDER\"] = 102] = \"PUBLISH_TRACK_OUT_OF_ORDER\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND = 103;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\"] = 103] = \"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_LIVE_ENDED = 104;\n     */ ErrorCode[ErrorCode[\"LIVE_ENDED\"] = 104] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_NOT_FOUND = 200;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_NOT_FOUND\"] = 200] = \"PARTICIPANT_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING_OUT = 201;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING_OUT\"] = 201] = \"PARTICIPANT_MIGRATING_OUT\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATION_FAILED = 202;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATION_FAILED\"] = 202] = \"PARTICIPANT_MIGRATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING = 203;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING\"] = 203] = \"PARTICIPANT_MIGRATING\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_RECONNECT_FAILED = 204;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_RECONNECT_FAILED\"] = 204] = \"PARTICIPANT_RECONNECT_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MEDIA_TRANSPORT_FAILURE = 205;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\"] = 205] = \"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_SIGNAL_LOST = 206;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_SIGNAL_LOST\"] = 206] = \"PARTICIPANT_SIGNAL_LOST\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_NOT_FOUND = 300;\n     */ ErrorCode[ErrorCode[\"CALL_NOT_FOUND\"] = 300] = \"CALL_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_PARTICIPANT_LIMIT_REACHED = 301;\n     */ ErrorCode[ErrorCode[\"CALL_PARTICIPANT_LIMIT_REACHED\"] = 301] = \"CALL_PARTICIPANT_LIMIT_REACHED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_REQUEST_VALIDATION_FAILED = 400;\n     */ ErrorCode[ErrorCode[\"REQUEST_VALIDATION_FAILED\"] = 400] = \"REQUEST_VALIDATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNAUTHENTICATED = 401;\n     */ ErrorCode[ErrorCode[\"UNAUTHENTICATED\"] = 401] = \"UNAUTHENTICATED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PERMISSION_DENIED = 403;\n     */ ErrorCode[ErrorCode[\"PERMISSION_DENIED\"] = 403] = \"PERMISSION_DENIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_TOO_MANY_REQUESTS = 429;\n     */ ErrorCode[ErrorCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_INTERNAL_SERVER_ERROR = 500;\n     */ ErrorCode[ErrorCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_SHUTTING_DOWN = 600;\n     */ ErrorCode[ErrorCode[\"SFU_SHUTTING_DOWN\"] = 600] = \"SFU_SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_FULL = 700;\n     */ ErrorCode[ErrorCode[\"SFU_FULL\"] = 700] = \"SFU_FULL\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.SdkType\n */ var SdkType;\n(function(SdkType) {\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNSPECIFIED = 0;\n     */ SdkType[SdkType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT = 1;\n     */ SdkType[SdkType[\"REACT\"] = 1] = \"REACT\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANGULAR = 2;\n     */ SdkType[SdkType[\"ANGULAR\"] = 2] = \"ANGULAR\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANDROID = 3;\n     */ SdkType[SdkType[\"ANDROID\"] = 3] = \"ANDROID\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_IOS = 4;\n     */ SdkType[SdkType[\"IOS\"] = 4] = \"IOS\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_FLUTTER = 5;\n     */ SdkType[SdkType[\"FLUTTER\"] = 5] = \"FLUTTER\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT_NATIVE = 6;\n     */ SdkType[SdkType[\"REACT_NATIVE\"] = 6] = \"REACT_NATIVE\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNITY = 7;\n     */ SdkType[SdkType[\"UNITY\"] = 7] = \"UNITY\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_GO = 8;\n     */ SdkType[SdkType[\"GO\"] = 8] = \"GO\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_PLAIN_JAVASCRIPT = 9;\n     */ SdkType[SdkType[\"PLAIN_JAVASCRIPT\"] = 9] = \"PLAIN_JAVASCRIPT\";\n})(SdkType || (SdkType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackUnpublishReason\n */ var TrackUnpublishReason;\n(function(TrackUnpublishReason) {\n    /**\n     * Default value which is used when the specific reason\n     * for muting the track is not known.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_UNSPECIFIED = 0;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Represents user muting their tracks.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_USER_MUTED = 1;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"USER_MUTED\"] = 1] = \"USER_MUTED\";\n    /**\n     * Represents muting the track because the permission to\n     * publish the track has been revoked.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_PERMISSION_REVOKED = 2;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"PERMISSION_REVOKED\"] = 2] = \"PERMISSION_REVOKED\";\n    /**\n     * Represents muting the track due to moderation actions.\n     * This is different from permission revoked because the\n     * participant can unmute themselves here whereas in case\n     * of \"permission revoke\" it is not possible until the\n     * call permissions are updated.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_MODERATION = 3;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"MODERATION\"] = 3] = \"MODERATION\";\n})(TrackUnpublishReason || (TrackUnpublishReason = {}));\n/**\n * GoAwayReason represents the reason for the SFU to\n * disconnect the client.\n *\n * @generated from protobuf enum stream.video.sfu.models.GoAwayReason\n */ var GoAwayReason;\n(function(GoAwayReason) {\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_UNSPECIFIED = 0;\n     */ GoAwayReason[GoAwayReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_SHUTTING_DOWN = 1;\n     */ GoAwayReason[GoAwayReason[\"SHUTTING_DOWN\"] = 1] = \"SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_REBALANCE = 2;\n     */ GoAwayReason[GoAwayReason[\"REBALANCE\"] = 2] = \"REBALANCE\";\n})(GoAwayReason || (GoAwayReason = {}));\n/**\n * CallEndedReason represents the reason for the call to end.\n *\n * @generated from protobuf enum stream.video.sfu.models.CallEndedReason\n */ var CallEndedReason;\n(function(CallEndedReason) {\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_UNSPECIFIED = 0;\n     */ CallEndedReason[CallEndedReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_ENDED = 1;\n     */ CallEndedReason[CallEndedReason[\"ENDED\"] = 1] = \"ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_LIVE_ENDED = 2;\n     */ CallEndedReason[CallEndedReason[\"LIVE_ENDED\"] = 2] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_KICKED = 3;\n     */ CallEndedReason[CallEndedReason[\"KICKED\"] = 3] = \"KICKED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_SESSION_ENDED = 4;\n     */ CallEndedReason[CallEndedReason[\"SESSION_ENDED\"] = 4] = \"SESSION_ENDED\";\n})(CallEndedReason || (CallEndedReason = {}));\n/**\n * WebsocketReconnectStrategy defines the ws strategies available for handling reconnections.\n *\n * @generated from protobuf enum stream.video.sfu.models.WebsocketReconnectStrategy\n */ var WebsocketReconnectStrategy;\n(function(WebsocketReconnectStrategy) {\n    /**\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_UNSPECIFIED = 0;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Sent after reaching the maximum reconnection attempts, or any other unrecoverable error leading to permanent disconnect.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_DISCONNECT = 1;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    /**\n     * SDK should maintaining existing publisher/subscriber pc instances\n     * and establish a new WebSocket connection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FAST = 2;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FAST\"] = 2] = \"FAST\";\n    /**\n     * SDK should obtain new credentials from the coordinator, drops existing pc instances, set a new session_id and initializes\n     * a completely new WebSocket connection, ensuring a comprehensive reset.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_REJOIN = 3;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"REJOIN\"] = 3] = \"REJOIN\";\n    /**\n     * SDK should migrate to a new SFU instance\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_MIGRATE = 4;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"MIGRATE\"] = 4] = \"MIGRATE\";\n})(WebsocketReconnectStrategy || (WebsocketReconnectStrategy = {}));\n/**\n * AndroidThermalState is reported by the Android API. The full list of values is documented here\n * https://developer.android.com/reference/android/os/PowerManager.html#getCurrentThermalStatus()\n *\n * @generated from protobuf enum stream.video.sfu.models.AndroidThermalState\n */ var AndroidThermalState;\n(function(AndroidThermalState) {\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AndroidThermalState[AndroidThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_NONE = 1;\n     */ AndroidThermalState[AndroidThermalState[\"NONE\"] = 1] = \"NONE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_LIGHT = 2;\n     */ AndroidThermalState[AndroidThermalState[\"LIGHT\"] = 2] = \"LIGHT\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_MODERATE = 3;\n     */ AndroidThermalState[AndroidThermalState[\"MODERATE\"] = 3] = \"MODERATE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SEVERE = 4;\n     */ AndroidThermalState[AndroidThermalState[\"SEVERE\"] = 4] = \"SEVERE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_CRITICAL = 5;\n     */ AndroidThermalState[AndroidThermalState[\"CRITICAL\"] = 5] = \"CRITICAL\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_EMERGENCY = 6;\n     */ AndroidThermalState[AndroidThermalState[\"EMERGENCY\"] = 6] = \"EMERGENCY\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SHUTDOWN = 7;\n     */ AndroidThermalState[AndroidThermalState[\"SHUTDOWN\"] = 7] = \"SHUTDOWN\";\n})(AndroidThermalState || (AndroidThermalState = {}));\n/**\n * AppleThermalState is the thermal state as reported by Apple devices when available or applicable to the platform.\n * The full list of states (enum) is available here: https://developer.apple.com/documentation/foundation/processinfo/thermalstate\n *\n * @generated from protobuf enum stream.video.sfu.models.AppleThermalState\n */ var AppleThermalState;\n(function(AppleThermalState) {\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AppleThermalState[AppleThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_NOMINAL = 1;\n     */ AppleThermalState[AppleThermalState[\"NOMINAL\"] = 1] = \"NOMINAL\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_FAIR = 2;\n     */ AppleThermalState[AppleThermalState[\"FAIR\"] = 2] = \"FAIR\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_SERIOUS = 3;\n     */ AppleThermalState[AppleThermalState[\"SERIOUS\"] = 3] = \"SERIOUS\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_CRITICAL = 4;\n     */ AppleThermalState[AppleThermalState[\"CRITICAL\"] = 4] = \"CRITICAL\";\n})(AppleThermalState || (AppleThermalState = {}));\n/**\n * ClientCapability defines a feature that client supports\n *\n * @generated from protobuf enum stream.video.sfu.models.ClientCapability\n */ var ClientCapability;\n(function(ClientCapability) {\n    /**\n     * @generated from protobuf enum value: CLIENT_CAPABILITY_UNSPECIFIED = 0;\n     */ ClientCapability[ClientCapability[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Enables SFU pausing inbound video\n     *\n     * @generated from protobuf enum value: CLIENT_CAPABILITY_SUBSCRIBER_VIDEO_PAUSE = 1;\n     */ ClientCapability[ClientCapability[\"SUBSCRIBER_VIDEO_PAUSE\"] = 1] = \"SUBSCRIBER_VIDEO_PAUSE\";\n})(ClientCapability || (ClientCapability = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.CallState', [\n            {\n                no: 1,\n                name: 'participants',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Participant\n            },\n            {\n                no: 2,\n                name: 'started_at',\n                kind: 'message',\n                T: ()=>Timestamp\n            },\n            {\n                no: 3,\n                name: 'participant_count',\n                kind: 'message',\n                T: ()=>ParticipantCount\n            },\n            {\n                no: 4,\n                name: 'pins',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallState\n */ const CallState$1 = new CallState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantCount$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.ParticipantCount', [\n            {\n                no: 1,\n                name: 'total',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: 'anonymous',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ParticipantCount\n */ const ParticipantCount = new ParticipantCount$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Pin$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Pin', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Pin\n */ const Pin = new Pin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Participant$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Participant', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'published_tracks',\n                kind: 'enum',\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 4,\n                name: 'joined_at',\n                kind: 'message',\n                T: ()=>Timestamp\n            },\n            {\n                no: 5,\n                name: 'track_lookup_prefix',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: 'connection_quality',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.ConnectionQuality',\n                        ConnectionQuality,\n                        'CONNECTION_QUALITY_'\n                    ]\n            },\n            {\n                no: 7,\n                name: 'is_speaking',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: 'is_dominant_speaker',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: 'audio_level',\n                kind: 'scalar',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 10,\n                name: 'name',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 11,\n                name: 'image',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: 'custom',\n                kind: 'message',\n                T: ()=>Struct\n            },\n            {\n                no: 13,\n                name: 'roles',\n                kind: 'scalar',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Participant\n */ const Participant = new Participant$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StreamQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.StreamQuality', [\n            {\n                no: 1,\n                name: 'video_quality',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.VideoQuality',\n                        VideoQuality,\n                        'VIDEO_QUALITY_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.StreamQuality\n */ const StreamQuality = new StreamQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoDimension$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.VideoDimension', [\n            {\n                no: 1,\n                name: 'width',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: 'height',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoDimension\n */ const VideoDimension = new VideoDimension$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.VideoLayer', [\n            {\n                no: 1,\n                name: 'rid',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'video_dimension',\n                kind: 'message',\n                T: ()=>VideoDimension\n            },\n            {\n                no: 4,\n                name: 'bitrate',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: 'fps',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: 'quality',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.VideoQuality',\n                        VideoQuality,\n                        'VIDEO_QUALITY_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoLayer\n */ const VideoLayer = new VideoLayer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscribeOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.SubscribeOption', [\n            {\n                no: 1,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'codecs',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Codec\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.SubscribeOption\n */ const SubscribeOption = new SubscribeOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublishOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.PublishOption', [\n            {\n                no: 1,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'codec',\n                kind: 'message',\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: 'bitrate',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: 'fps',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 5,\n                name: 'max_spatial_layers',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 6,\n                name: 'max_temporal_layers',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 7,\n                name: 'video_dimension',\n                kind: 'message',\n                T: ()=>VideoDimension\n            },\n            {\n                no: 8,\n                name: 'id',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 9,\n                name: 'use_single_layer',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PublishOption\n */ const PublishOption = new PublishOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Codec$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Codec', [\n            {\n                no: 16,\n                name: 'payload_type',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 10,\n                name: 'name',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 14,\n                name: 'clock_rate',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 15,\n                name: 'encoding_parameters',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: 'fmtp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Codec\n */ const Codec = new Codec$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet ICETrickle$Type$1 = class ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.ICETrickle', [\n            {\n                no: 1,\n                name: 'peer_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.PeerType',\n                        PeerType,\n                        'PEER_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'ice_candidate',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ICETrickle\n */ const ICETrickle$1 = new ICETrickle$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.TrackInfo', [\n            {\n                no: 1,\n                name: 'track_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 5,\n                name: 'layers',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>VideoLayer\n            },\n            {\n                no: 6,\n                name: 'mid',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: 'dtx',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: 'stereo',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: 'red',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 10,\n                name: 'muted',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 11,\n                name: 'codec',\n                kind: 'message',\n                T: ()=>Codec\n            },\n            {\n                no: 12,\n                name: 'publish_option_id',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.TrackInfo\n */ const TrackInfo = new TrackInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet Error$Type$1 = class Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Error', [\n            {\n                no: 1,\n                name: 'code',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.ErrorCode',\n                        ErrorCode,\n                        'ERROR_CODE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'message',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'should_retry',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Error\n */ const Error$2 = new Error$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ClientDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.ClientDetails', [\n            {\n                no: 1,\n                name: 'sdk',\n                kind: 'message',\n                T: ()=>Sdk\n            },\n            {\n                no: 2,\n                name: 'os',\n                kind: 'message',\n                T: ()=>OS\n            },\n            {\n                no: 3,\n                name: 'browser',\n                kind: 'message',\n                T: ()=>Browser\n            },\n            {\n                no: 4,\n                name: 'device',\n                kind: 'message',\n                T: ()=>Device\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ClientDetails\n */ const ClientDetails = new ClientDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Sdk$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Sdk', [\n            {\n                no: 1,\n                name: 'type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.SdkType',\n                        SdkType,\n                        'SDK_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'major',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'minor',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: 'patch',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Sdk\n */ const Sdk = new Sdk$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OS$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.OS', [\n            {\n                no: 1,\n                name: 'name',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'version',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'architecture',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.OS\n */ const OS = new OS$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Browser$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Browser', [\n            {\n                no: 1,\n                name: 'name',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'version',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Browser\n */ const Browser = new Browser$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass RTMPIngress$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.RTMPIngress', [\n            {\n                no: 1,\n                name: 'width',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: 'height',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 3,\n                name: 'frame_rate',\n                kind: 'scalar',\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 4,\n                name: 'software',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: 'version',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: 'encoder',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: 'remote_addr',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.RTMPIngress\n */ const RTMPIngress = new RTMPIngress$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Device$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Device', [\n            {\n                no: 1,\n                name: 'name',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'version',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Device\n */ const Device = new Device$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Call$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.Call', [\n            {\n                no: 1,\n                name: 'type',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'created_by_user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: 'host_user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: 'custom',\n                kind: 'message',\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: 'created_at',\n                kind: 'message',\n                T: ()=>Timestamp\n            },\n            {\n                no: 7,\n                name: 'updated_at',\n                kind: 'message',\n                T: ()=>Timestamp\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Call\n */ const Call$1 = new Call$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrants$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.CallGrants', [\n            {\n                no: 1,\n                name: 'can_publish_audio',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: 'can_publish_video',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: 'can_screenshare',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallGrants\n */ const CallGrants = new CallGrants$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass InputDevices$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.InputDevices', [\n            {\n                no: 1,\n                name: 'available_devices',\n                kind: 'scalar',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'current_device',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'is_permitted',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.InputDevices\n */ const InputDevices = new InputDevices$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AndroidState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.AndroidState', [\n            {\n                no: 1,\n                name: 'thermal_state',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.AndroidThermalState',\n                        AndroidThermalState,\n                        'ANDROID_THERMAL_STATE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'is_power_saver_mode',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AndroidState\n */ const AndroidState = new AndroidState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AppleState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.AppleState', [\n            {\n                no: 1,\n                name: 'thermal_state',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.AppleThermalState',\n                        AppleThermalState,\n                        'APPLE_THERMAL_STATE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'is_low_power_mode_enabled',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AppleState\n */ const AppleState = new AppleState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PerformanceStats$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.models.PerformanceStats', [\n            {\n                no: 1,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'codec',\n                kind: 'message',\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: 'avg_frame_time_ms',\n                kind: 'scalar',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: 'avg_fps',\n                kind: 'scalar',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 5,\n                name: 'video_dimension',\n                kind: 'message',\n                T: ()=>VideoDimension\n            },\n            {\n                no: 6,\n                name: 'target_bitrate',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PerformanceStats\n */ const PerformanceStats = new PerformanceStats$Type();\nvar models = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AndroidState: AndroidState,\n    get AndroidThermalState () {\n        return AndroidThermalState;\n    },\n    AppleState: AppleState,\n    get AppleThermalState () {\n        return AppleThermalState;\n    },\n    Browser: Browser,\n    Call: Call$1,\n    get CallEndedReason () {\n        return CallEndedReason;\n    },\n    CallGrants: CallGrants,\n    CallState: CallState$1,\n    get ClientCapability () {\n        return ClientCapability;\n    },\n    ClientDetails: ClientDetails,\n    Codec: Codec,\n    get ConnectionQuality () {\n        return ConnectionQuality;\n    },\n    Device: Device,\n    Error: Error$2,\n    get ErrorCode () {\n        return ErrorCode;\n    },\n    get GoAwayReason () {\n        return GoAwayReason;\n    },\n    ICETrickle: ICETrickle$1,\n    InputDevices: InputDevices,\n    OS: OS,\n    Participant: Participant,\n    ParticipantCount: ParticipantCount,\n    get PeerType () {\n        return PeerType;\n    },\n    PerformanceStats: PerformanceStats,\n    Pin: Pin,\n    PublishOption: PublishOption,\n    RTMPIngress: RTMPIngress,\n    Sdk: Sdk,\n    get SdkType () {\n        return SdkType;\n    },\n    StreamQuality: StreamQuality,\n    SubscribeOption: SubscribeOption,\n    TrackInfo: TrackInfo,\n    get TrackType () {\n        return TrackType;\n    },\n    get TrackUnpublishReason () {\n        return TrackUnpublishReason;\n    },\n    VideoDimension: VideoDimension,\n    VideoLayer: VideoLayer,\n    get VideoQuality () {\n        return VideoQuality;\n    },\n    get WebsocketReconnectStrategy () {\n        return WebsocketReconnectStrategy;\n    }\n});\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/signal_rpc/signal.proto\" (package \"stream.video.sfu.signal\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.StartNoiseCancellationRequest', [\n            {\n                no: 1,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationRequest\n */ const StartNoiseCancellationRequest = new StartNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.StartNoiseCancellationResponse', [\n            {\n                no: 1,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationResponse\n */ const StartNoiseCancellationResponse = new StartNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.StopNoiseCancellationRequest', [\n            {\n                no: 1,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationRequest\n */ const StopNoiseCancellationRequest = new StopNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.StopNoiseCancellationResponse', [\n            {\n                no: 1,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationResponse\n */ const StopNoiseCancellationResponse = new StopNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Reconnection$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.Reconnection', [\n            {\n                no: 1,\n                name: 'time_seconds',\n                kind: 'scalar',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: 'strategy',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.WebsocketReconnectStrategy',\n                        WebsocketReconnectStrategy,\n                        'WEBSOCKET_RECONNECT_STRATEGY_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Reconnection\n */ const Reconnection = new Reconnection$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Telemetry$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.Telemetry', [\n            {\n                no: 1,\n                name: 'connection_time_seconds',\n                kind: 'scalar',\n                oneof: 'data',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: 'reconnection',\n                kind: 'message',\n                oneof: 'data',\n                T: ()=>Reconnection\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Telemetry\n */ const Telemetry = new Telemetry$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.SendStatsRequest', [\n            {\n                no: 1,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'subscriber_stats',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'publisher_stats',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: 'webrtc_version',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: 'sdk',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: 'sdk_version',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: 'audio_devices',\n                kind: 'message',\n                T: ()=>InputDevices\n            },\n            {\n                no: 8,\n                name: 'video_devices',\n                kind: 'message',\n                T: ()=>InputDevices\n            },\n            {\n                no: 9,\n                name: 'android',\n                kind: 'message',\n                oneof: 'deviceState',\n                T: ()=>AndroidState\n            },\n            {\n                no: 10,\n                name: 'apple',\n                kind: 'message',\n                oneof: 'deviceState',\n                T: ()=>AppleState\n            },\n            {\n                no: 11,\n                name: 'telemetry',\n                kind: 'message',\n                T: ()=>Telemetry\n            },\n            {\n                no: 12,\n                name: 'rtmp',\n                kind: 'message',\n                T: ()=>RTMPIngress\n            },\n            {\n                no: 13,\n                name: 'subscriber_rtc_stats',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 14,\n                name: 'publisher_rtc_stats',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 15,\n                name: 'rtc_stats',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 16,\n                name: 'encode_stats',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PerformanceStats\n            },\n            {\n                no: 17,\n                name: 'decode_stats',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PerformanceStats\n            },\n            {\n                no: 18,\n                name: 'unified_session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsRequest\n */ const SendStatsRequest = new SendStatsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.SendStatsResponse', [\n            {\n                no: 1,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsResponse\n */ const SendStatsResponse = new SendStatsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.ICERestartRequest', [\n            {\n                no: 1,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'peer_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.PeerType',\n                        PeerType,\n                        'PEER_TYPE_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartRequest\n */ const ICERestartRequest = new ICERestartRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.ICERestartResponse', [\n            {\n                no: 1,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartResponse\n */ const ICERestartResponse = new ICERestartResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.UpdateMuteStatesRequest', [\n            {\n                no: 1,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'mute_states',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackMuteState\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesRequest\n */ const UpdateMuteStatesRequest = new UpdateMuteStatesRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.UpdateMuteStatesResponse', [\n            {\n                no: 4,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesResponse\n */ const UpdateMuteStatesResponse = new UpdateMuteStatesResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackMuteState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.TrackMuteState', [\n            {\n                no: 1,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'muted',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackMuteState\n */ const TrackMuteState = new TrackMuteState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.AudioMuteChanged', [\n            {\n                no: 1,\n                name: 'muted',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.AudioMuteChanged\n */ new AudioMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.VideoMuteChanged', [\n            {\n                no: 2,\n                name: 'muted',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.VideoMuteChanged\n */ new VideoMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.UpdateSubscriptionsRequest', [\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'tracks',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsRequest\n */ const UpdateSubscriptionsRequest = new UpdateSubscriptionsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.UpdateSubscriptionsResponse', [\n            {\n                no: 4,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsResponse\n */ const UpdateSubscriptionsResponse = new UpdateSubscriptionsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackSubscriptionDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.TrackSubscriptionDetails', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 4,\n                name: 'dimension',\n                kind: 'message',\n                T: ()=>VideoDimension\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackSubscriptionDetails\n */ const TrackSubscriptionDetails = new TrackSubscriptionDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.SendAnswerRequest', [\n            {\n                no: 1,\n                name: 'peer_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.PeerType',\n                        PeerType,\n                        'PEER_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerRequest\n */ const SendAnswerRequest = new SendAnswerRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.SendAnswerResponse', [\n            {\n                no: 4,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerResponse\n */ const SendAnswerResponse = new SendAnswerResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickleResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.ICETrickleResponse', [\n            {\n                no: 4,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICETrickleResponse\n */ const ICETrickleResponse = new ICETrickleResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.SetPublisherRequest', [\n            {\n                no: 1,\n                name: 'sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'tracks',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherRequest\n */ const SetPublisherRequest = new SetPublisherRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.signal.SetPublisherResponse', [\n            {\n                no: 1,\n                name: 'sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'ice_restart',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 4,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherResponse\n */ const SetPublisherResponse = new SetPublisherResponse$Type();\n/**\n * @generated ServiceType for protobuf service stream.video.sfu.signal.SignalServer\n */ const SignalServer = new _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__.ServiceType('stream.video.sfu.signal.SignalServer', [\n    {\n        name: 'SetPublisher',\n        options: {},\n        I: SetPublisherRequest,\n        O: SetPublisherResponse\n    },\n    {\n        name: 'SendAnswer',\n        options: {},\n        I: SendAnswerRequest,\n        O: SendAnswerResponse\n    },\n    {\n        name: 'IceTrickle',\n        options: {},\n        I: ICETrickle$1,\n        O: ICETrickleResponse\n    },\n    {\n        name: 'UpdateSubscriptions',\n        options: {},\n        I: UpdateSubscriptionsRequest,\n        O: UpdateSubscriptionsResponse\n    },\n    {\n        name: 'UpdateMuteStates',\n        options: {},\n        I: UpdateMuteStatesRequest,\n        O: UpdateMuteStatesResponse\n    },\n    {\n        name: 'IceRestart',\n        options: {},\n        I: ICERestartRequest,\n        O: ICERestartResponse\n    },\n    {\n        name: 'SendStats',\n        options: {},\n        I: SendStatsRequest,\n        O: SendStatsResponse\n    },\n    {\n        name: 'StartNoiseCancellation',\n        options: {},\n        I: StartNoiseCancellationRequest,\n        O: StartNoiseCancellationResponse\n    },\n    {\n        name: 'StopNoiseCancellation',\n        options: {},\n        I: StopNoiseCancellationRequest,\n        O: StopNoiseCancellationResponse\n    }\n]);\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/event/events.proto\" (package \"stream.video.sfu.event\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuEvent$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.SfuEvent', [\n            {\n                no: 1,\n                name: 'subscriber_offer',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>SubscriberOffer\n            },\n            {\n                no: 2,\n                name: 'publisher_answer',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>PublisherAnswer\n            },\n            {\n                no: 3,\n                name: 'connection_quality_changed',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ConnectionQualityChanged\n            },\n            {\n                no: 4,\n                name: 'audio_level_changed',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>AudioLevelChanged\n            },\n            {\n                no: 5,\n                name: 'ice_trickle',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ICETrickle$1\n            },\n            {\n                no: 6,\n                name: 'change_publish_quality',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ChangePublishQuality\n            },\n            {\n                no: 10,\n                name: 'participant_joined',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ParticipantJoined\n            },\n            {\n                no: 11,\n                name: 'participant_left',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ParticipantLeft\n            },\n            {\n                no: 12,\n                name: 'dominant_speaker_changed',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>DominantSpeakerChanged\n            },\n            {\n                no: 13,\n                name: 'join_response',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>JoinResponse\n            },\n            {\n                no: 14,\n                name: 'health_check_response',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>HealthCheckResponse\n            },\n            {\n                no: 16,\n                name: 'track_published',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>TrackPublished\n            },\n            {\n                no: 17,\n                name: 'track_unpublished',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>TrackUnpublished\n            },\n            {\n                no: 18,\n                name: 'error',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>Error$1\n            },\n            {\n                no: 19,\n                name: 'call_grants_updated',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>CallGrantsUpdated\n            },\n            {\n                no: 20,\n                name: 'go_away',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>GoAway\n            },\n            {\n                no: 21,\n                name: 'ice_restart',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ICERestart\n            },\n            {\n                no: 22,\n                name: 'pins_updated',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>PinsChanged\n            },\n            {\n                no: 23,\n                name: 'call_ended',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>CallEnded\n            },\n            {\n                no: 24,\n                name: 'participant_updated',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ParticipantUpdated\n            },\n            {\n                no: 25,\n                name: 'participant_migration_complete',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ParticipantMigrationComplete\n            },\n            {\n                no: 27,\n                name: 'change_publish_options',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>ChangePublishOptions\n            },\n            {\n                no: 28,\n                name: 'inbound_state_notification',\n                kind: 'message',\n                oneof: 'eventPayload',\n                T: ()=>InboundStateNotification\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuEvent\n */ const SfuEvent = new SfuEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptions$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ChangePublishOptions', [\n            {\n                no: 1,\n                name: 'publish_options',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PublishOption\n            },\n            {\n                no: 2,\n                name: 'reason',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptions\n */ const ChangePublishOptions = new ChangePublishOptions$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptionsComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ChangePublishOptionsComplete', []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptionsComplete\n */ const ChangePublishOptionsComplete = new ChangePublishOptionsComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantMigrationComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ParticipantMigrationComplete', []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantMigrationComplete\n */ const ParticipantMigrationComplete = new ParticipantMigrationComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PinsChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.PinsChanged', [\n            {\n                no: 1,\n                name: 'pins',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PinsChanged\n */ const PinsChanged = new PinsChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.Error', [\n            {\n                no: 4,\n                name: 'error',\n                kind: 'message',\n                T: ()=>Error$2\n            },\n            {\n                no: 5,\n                name: 'reconnect_strategy',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.WebsocketReconnectStrategy',\n                        WebsocketReconnectStrategy,\n                        'WEBSOCKET_RECONNECT_STRATEGY_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Error\n */ const Error$1 = new Error$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ICETrickle', [\n            {\n                no: 1,\n                name: 'peer_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.PeerType',\n                        PeerType,\n                        'PEER_TYPE_'\n                    ]\n            },\n            {\n                no: 2,\n                name: 'ice_candidate',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICETrickle\n */ const ICETrickle = new ICETrickle$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestart$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ICERestart', [\n            {\n                no: 1,\n                name: 'peer_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.PeerType',\n                        PeerType,\n                        'PEER_TYPE_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICERestart\n */ const ICERestart = new ICERestart$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.SfuRequest', [\n            {\n                no: 1,\n                name: 'join_request',\n                kind: 'message',\n                oneof: 'requestPayload',\n                T: ()=>JoinRequest\n            },\n            {\n                no: 2,\n                name: 'health_check_request',\n                kind: 'message',\n                oneof: 'requestPayload',\n                T: ()=>HealthCheckRequest\n            },\n            {\n                no: 3,\n                name: 'leave_call_request',\n                kind: 'message',\n                oneof: 'requestPayload',\n                T: ()=>LeaveCallRequest\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuRequest\n */ const SfuRequest = new SfuRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass LeaveCallRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.LeaveCallRequest', [\n            {\n                no: 1,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'reason',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.LeaveCallRequest\n */ const LeaveCallRequest = new LeaveCallRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.HealthCheckRequest', []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckRequest\n */ const HealthCheckRequest = new HealthCheckRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.HealthCheckResponse', [\n            {\n                no: 1,\n                name: 'participant_count',\n                kind: 'message',\n                T: ()=>ParticipantCount\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckResponse\n */ const HealthCheckResponse = new HealthCheckResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackPublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.TrackPublished', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 4,\n                name: 'participant',\n                kind: 'message',\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackPublished\n */ const TrackPublished = new TrackPublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackUnpublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.TrackUnpublished', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 4,\n                name: 'cause',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackUnpublishReason',\n                        TrackUnpublishReason,\n                        'TRACK_UNPUBLISH_REASON_'\n                    ]\n            },\n            {\n                no: 5,\n                name: 'participant',\n                kind: 'message',\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackUnpublished\n */ const TrackUnpublished = new TrackUnpublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.JoinRequest', [\n            {\n                no: 1,\n                name: 'token',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'subscriber_sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 8,\n                name: 'publisher_sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: 'client_details',\n                kind: 'message',\n                T: ()=>ClientDetails\n            },\n            {\n                no: 5,\n                name: 'migration',\n                kind: 'message',\n                T: ()=>Migration\n            },\n            {\n                no: 6,\n                name: 'fast_reconnect',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 7,\n                name: 'reconnect_details',\n                kind: 'message',\n                T: ()=>ReconnectDetails\n            },\n            {\n                no: 9,\n                name: 'preferred_publish_options',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PublishOption\n            },\n            {\n                no: 10,\n                name: 'preferred_subscribe_options',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>SubscribeOption\n            },\n            {\n                no: 11,\n                name: 'capabilities',\n                kind: 'enum',\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        'stream.video.sfu.models.ClientCapability',\n                        ClientCapability,\n                        'CLIENT_CAPABILITY_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinRequest\n */ const JoinRequest = new JoinRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ReconnectDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ReconnectDetails', [\n            {\n                no: 1,\n                name: 'strategy',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.WebsocketReconnectStrategy',\n                        WebsocketReconnectStrategy,\n                        'WEBSOCKET_RECONNECT_STRATEGY_'\n                    ]\n            },\n            {\n                no: 3,\n                name: 'announced_tracks',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 4,\n                name: 'subscriptions',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            },\n            {\n                no: 5,\n                name: 'reconnect_attempt',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: 'from_sfu_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: 'previous_session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 8,\n                name: 'reason',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ReconnectDetails\n */ const ReconnectDetails = new ReconnectDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Migration$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.Migration', [\n            {\n                no: 1,\n                name: 'from_sfu_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'announced_tracks',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 3,\n                name: 'subscriptions',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Migration\n */ const Migration = new Migration$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.JoinResponse', [\n            {\n                no: 1,\n                name: 'call_state',\n                kind: 'message',\n                T: ()=>CallState$1\n            },\n            {\n                no: 2,\n                name: 'reconnected',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: 'fast_reconnect_deadline_seconds',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: 'publish_options',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PublishOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinResponse\n */ const JoinResponse = new JoinResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantJoined$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ParticipantJoined', [\n            {\n                no: 1,\n                name: 'call_cid',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'participant',\n                kind: 'message',\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantJoined\n */ const ParticipantJoined = new ParticipantJoined$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantLeft$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ParticipantLeft', [\n            {\n                no: 1,\n                name: 'call_cid',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'participant',\n                kind: 'message',\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantLeft\n */ const ParticipantLeft = new ParticipantLeft$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ParticipantUpdated', [\n            {\n                no: 1,\n                name: 'call_cid',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'participant',\n                kind: 'message',\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantUpdated\n */ const ParticipantUpdated = new ParticipantUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscriberOffer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.SubscriberOffer', [\n            {\n                no: 1,\n                name: 'ice_restart',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: 'sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SubscriberOffer\n */ const SubscriberOffer = new SubscriberOffer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublisherAnswer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.PublisherAnswer', [\n            {\n                no: 1,\n                name: 'sdp',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PublisherAnswer\n */ const PublisherAnswer = new PublisherAnswer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ConnectionQualityChanged', [\n            {\n                no: 1,\n                name: 'connection_quality_updates',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>ConnectionQualityInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityChanged\n */ const ConnectionQualityChanged = new ConnectionQualityChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ConnectionQualityInfo', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'connection_quality',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.ConnectionQuality',\n                        ConnectionQuality,\n                        'CONNECTION_QUALITY_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityInfo\n */ const ConnectionQualityInfo = new ConnectionQualityInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DominantSpeakerChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.DominantSpeakerChanged', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.DominantSpeakerChanged\n */ const DominantSpeakerChanged = new DominantSpeakerChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevel$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.AudioLevel', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'level',\n                kind: 'scalar',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: 'is_speaking',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevel\n */ const AudioLevel = new AudioLevel$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevelChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.AudioLevelChanged', [\n            {\n                no: 1,\n                name: 'audio_levels',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>AudioLevel\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevelChanged\n */ const AudioLevelChanged = new AudioLevelChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.AudioSender', [\n            {\n                no: 2,\n                name: 'codec',\n                kind: 'message',\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 4,\n                name: 'publish_option_id',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioSender\n */ const AudioSender = new AudioSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayerSetting$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.VideoLayerSetting', [\n            {\n                no: 1,\n                name: 'name',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'active',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: 'max_bitrate',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: 'scale_resolution_down_by',\n                kind: 'scalar',\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 6,\n                name: 'codec',\n                kind: 'message',\n                T: ()=>Codec\n            },\n            {\n                no: 7,\n                name: 'max_framerate',\n                kind: 'scalar',\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 8,\n                name: 'scalability_mode',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoLayerSetting\n */ const VideoLayerSetting = new VideoLayerSetting$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.VideoSender', [\n            {\n                no: 2,\n                name: 'codec',\n                kind: 'message',\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: 'layers',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>VideoLayerSetting\n            },\n            {\n                no: 4,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 5,\n                name: 'publish_option_id',\n                kind: 'scalar',\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoSender\n */ const VideoSender = new VideoSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.ChangePublishQuality', [\n            {\n                no: 1,\n                name: 'audio_senders',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>AudioSender\n            },\n            {\n                no: 2,\n                name: 'video_senders',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>VideoSender\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishQuality\n */ const ChangePublishQuality = new ChangePublishQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrantsUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.CallGrantsUpdated', [\n            {\n                no: 1,\n                name: 'current_grants',\n                kind: 'message',\n                T: ()=>CallGrants\n            },\n            {\n                no: 2,\n                name: 'message',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallGrantsUpdated\n */ const CallGrantsUpdated = new CallGrantsUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GoAway$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.GoAway', [\n            {\n                no: 1,\n                name: 'reason',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.GoAwayReason',\n                        GoAwayReason,\n                        'GO_AWAY_REASON_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.GoAway\n */ const GoAway = new GoAway$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallEnded$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.CallEnded', [\n            {\n                no: 1,\n                name: 'reason',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.CallEndedReason',\n                        CallEndedReason,\n                        'CALL_ENDED_REASON_'\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallEnded\n */ const CallEnded = new CallEnded$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass InboundStateNotification$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.InboundStateNotification', [\n            {\n                no: 1,\n                name: 'inbound_video_states',\n                kind: 'message',\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>InboundVideoState\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.InboundStateNotification\n */ const InboundStateNotification = new InboundStateNotification$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass InboundVideoState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super('stream.video.sfu.event.InboundVideoState', [\n            {\n                no: 1,\n                name: 'user_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: 'session_id',\n                kind: 'scalar',\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: 'track_type',\n                kind: 'enum',\n                T: ()=>[\n                        'stream.video.sfu.models.TrackType',\n                        TrackType,\n                        'TRACK_TYPE_'\n                    ]\n            },\n            {\n                no: 4,\n                name: 'paused',\n                kind: 'scalar',\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.InboundVideoState\n */ const InboundVideoState = new InboundVideoState$Type();\nvar events = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AudioLevel: AudioLevel,\n    AudioLevelChanged: AudioLevelChanged,\n    AudioSender: AudioSender,\n    CallEnded: CallEnded,\n    CallGrantsUpdated: CallGrantsUpdated,\n    ChangePublishOptions: ChangePublishOptions,\n    ChangePublishOptionsComplete: ChangePublishOptionsComplete,\n    ChangePublishQuality: ChangePublishQuality,\n    ConnectionQualityChanged: ConnectionQualityChanged,\n    ConnectionQualityInfo: ConnectionQualityInfo,\n    DominantSpeakerChanged: DominantSpeakerChanged,\n    Error: Error$1,\n    GoAway: GoAway,\n    HealthCheckRequest: HealthCheckRequest,\n    HealthCheckResponse: HealthCheckResponse,\n    ICERestart: ICERestart,\n    ICETrickle: ICETrickle,\n    InboundStateNotification: InboundStateNotification,\n    InboundVideoState: InboundVideoState,\n    JoinRequest: JoinRequest,\n    JoinResponse: JoinResponse,\n    LeaveCallRequest: LeaveCallRequest,\n    Migration: Migration,\n    ParticipantJoined: ParticipantJoined,\n    ParticipantLeft: ParticipantLeft,\n    ParticipantMigrationComplete: ParticipantMigrationComplete,\n    ParticipantUpdated: ParticipantUpdated,\n    PinsChanged: PinsChanged,\n    PublisherAnswer: PublisherAnswer,\n    ReconnectDetails: ReconnectDetails,\n    SfuEvent: SfuEvent,\n    SfuRequest: SfuRequest,\n    SubscriberOffer: SubscriberOffer,\n    TrackPublished: TrackPublished,\n    TrackUnpublished: TrackUnpublished,\n    VideoLayerSetting: VideoLayerSetting,\n    VideoSender: VideoSender\n});\nvar VisibilityState;\n(function(VisibilityState) {\n    VisibilityState[\"UNKNOWN\"] = \"UNKNOWN\";\n    VisibilityState[\"VISIBLE\"] = \"VISIBLE\";\n    VisibilityState[\"INVISIBLE\"] = \"INVISIBLE\";\n})(VisibilityState || (VisibilityState = {}));\nvar DebounceType;\n(function(DebounceType) {\n    DebounceType[DebounceType[\"IMMEDIATE\"] = 20] = \"IMMEDIATE\";\n    DebounceType[DebounceType[\"FAST\"] = 100] = \"FAST\";\n    DebounceType[DebounceType[\"MEDIUM\"] = 600] = \"MEDIUM\";\n    DebounceType[DebounceType[\"SLOW\"] = 1200] = \"SLOW\";\n})(DebounceType || (DebounceType = {}));\n/**\n * @generated from protobuf service stream.video.sfu.signal.SignalServer\n */ class SignalServerClient {\n    constructor(_transport){\n        this._transport = _transport;\n        this.typeName = SignalServer.typeName;\n        this.methods = SignalServer.methods;\n        this.options = SignalServer.options;\n    }\n    /**\n     * SetPublisher sends the WebRTC offer for the peer connection used to publish A/V\n     *\n     * @generated from protobuf rpc: SetPublisher(stream.video.sfu.signal.SetPublisherRequest) returns (stream.video.sfu.signal.SetPublisherResponse);\n     */ setPublisher(input, options) {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * answer is sent by the client to the SFU after receiving a subscriber_offer.\n     *\n     * @generated from protobuf rpc: SendAnswer(stream.video.sfu.signal.SendAnswerRequest) returns (stream.video.sfu.signal.SendAnswerResponse);\n     */ sendAnswer(input, options) {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * SendICECandidate sends an ICE candidate to the client\n     *\n     * @generated from protobuf rpc: IceTrickle(stream.video.sfu.models.ICETrickle) returns (stream.video.sfu.signal.ICETrickleResponse);\n     */ iceTrickle(input, options) {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * UpdateSubscribers is used to notify the SFU about the list of video subscriptions\n     * TODO: sync subscriptions based on this + update tracks using the dimension info sent by the user\n     *\n     * @generated from protobuf rpc: UpdateSubscriptions(stream.video.sfu.signal.UpdateSubscriptionsRequest) returns (stream.video.sfu.signal.UpdateSubscriptionsResponse);\n     */ updateSubscriptions(input, options) {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: UpdateMuteStates(stream.video.sfu.signal.UpdateMuteStatesRequest) returns (stream.video.sfu.signal.UpdateMuteStatesResponse);\n     */ updateMuteStates(input, options) {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: IceRestart(stream.video.sfu.signal.ICERestartRequest) returns (stream.video.sfu.signal.ICERestartResponse);\n     */ iceRestart(input, options) {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: SendStats(stream.video.sfu.signal.SendStatsRequest) returns (stream.video.sfu.signal.SendStatsResponse);\n     */ sendStats(input, options) {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StartNoiseCancellation(stream.video.sfu.signal.StartNoiseCancellationRequest) returns (stream.video.sfu.signal.StartNoiseCancellationResponse);\n     */ startNoiseCancellation(input, options) {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StopNoiseCancellation(stream.video.sfu.signal.StopNoiseCancellationRequest) returns (stream.video.sfu.signal.StopNoiseCancellationResponse);\n     */ stopNoiseCancellation(input, options) {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)('unary', this._transport, method, opt, input);\n    }\n}\nconst defaultOptions = {\n    baseUrl: '',\n    sendJson: true,\n    timeout: 5 * 1000,\n    jsonOptions: {\n        ignoreUnknownFields: true\n    }\n};\nconst withHeaders = (headers)=>{\n    return {\n        interceptUnary (next, method, input, options) {\n            options.meta = {\n                ...options.meta,\n                ...headers\n            };\n            return next(method, input, options);\n        }\n    };\n};\nconst withRequestLogger = (logger, level)=>{\n    return {\n        interceptUnary: (next, method, input, options)=>{\n            const invocation = next(method, input, options);\n            logger(level, `Invoked SFU RPC method ${method.name}`, {\n                request: invocation.request,\n                headers: invocation.requestHeaders,\n                response: invocation.response\n            });\n            return invocation;\n        }\n    };\n};\nconst withRequestTracer = (trace)=>{\n    const traceError = (name, input, err)=>trace(`${name}OnFailure`, [\n            err,\n            input\n        ]);\n    const exclusions = {\n        SendStats: true\n    };\n    return {\n        interceptUnary (next, method, input, options) {\n            if (exclusions[method.name]) {\n                return next(method, input, options);\n            }\n            trace(method.name, input);\n            const unaryCall = next(method, input, options);\n            unaryCall.then((invocation)=>{\n                const err = invocation.response?.error;\n                if (err) traceError(method.name, input, err);\n            }, (err)=>traceError(method.name, input, err));\n            return unaryCall;\n        }\n    };\n};\n/**\n * Creates new SignalServerClient instance.\n *\n * @param options the twirp options.\n */ const createSignalClient = (options)=>{\n    const transport = new _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__.TwirpFetchTransport({\n        ...defaultOptions,\n        ...options\n    });\n    return new SignalServerClient(transport);\n};\nconst sleep = (m)=>new Promise((r)=>setTimeout(r, m));\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === '[object Function]' || 'function' === typeof value || value instanceof Function);\n}\n/**\n * A map of known error codes.\n */ const KnownCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000\n};\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-5 seconds (random to spread out the load from failures)\n    const max = Math.min(500 + numberOfFailures * 2000, 5000);\n    const min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 5000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction hex(bytes) {\n    let s = '';\n    for(let i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, '0');\n    }\n    return s;\n}\n// https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    const bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return [\n        hex(bytes.subarray(0, 4)),\n        hex(bytes.subarray(4, 6)),\n        hex(bytes.subarray(6, 8)),\n        hex(bytes.subarray(8, 10)),\n        hex(bytes.subarray(10, 16))\n    ].join('-');\n}\nconst getRandomValues = (()=>{\n    if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\n        return crypto.getRandomValues.bind(crypto);\n    }\n    return function getRandomValuesWithMathRandom(bytes) {\n        const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n        for(let i = 0; i < bytes.length; i++){\n            bytes[i] = Math.random() * max;\n        }\n    };\n})();\nfunction getRandomBytes(length) {\n    const bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\n// Type guards to check WebSocket error type\nfunction isCloseEvent(res) {\n    return res.code !== undefined;\n}\n/**\n * Checks whether we are using React Native\n */ const isReactNative = ()=>{\n    if (typeof navigator === 'undefined') return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n// log levels, sorted by verbosity\nconst logLevels = Object.freeze({\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4\n});\nlet logger;\nlet level = 'info';\nconst logToConsole = (logLevel, message, ...args)=>{\n    let logMethod;\n    switch(logLevel){\n        case 'error':\n            if (isReactNative()) {\n                message = `ERROR: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.error;\n            break;\n        case 'warn':\n            if (isReactNative()) {\n                message = `WARN: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.warn;\n            break;\n        case 'info':\n            logMethod = console.info;\n            break;\n        case 'trace':\n            logMethod = console.trace;\n            break;\n        default:\n            logMethod = console.log;\n            break;\n    }\n    logMethod(message, ...args);\n};\nconst setLogger = (l, lvl)=>{\n    logger = l;\n    if (lvl) {\n        setLogLevel(lvl);\n    }\n};\nconst setLogLevel = (l)=>{\n    level = l;\n};\nconst getLogLevel = ()=>level;\nconst getLogger = (withTags)=>{\n    const loggerMethod = logger || logToConsole;\n    const tags = (withTags || []).filter(Boolean).join(':');\n    const result = (logLevel, message, ...args)=>{\n        if (logLevels[logLevel] >= logLevels[level]) {\n            loggerMethod(logLevel, `[${tags}]: ${message}`, ...args);\n        }\n    };\n    return result;\n};\n/**\n * Creates a closure which wraps the given RPC call and retries invoking\n * the RPC until it succeeds or the maximum number of retries is reached.\n *\n * For each retry, there would be a delay to avoid request bursts toward the SFU.\n *\n * @param rpc the closure around the RPC call to execute.\n * @param signal the signal to abort the RPC call and retries loop.\n */ const retryable = async (rpc, signal)=>{\n    let attempt = 0;\n    let result = undefined;\n    do {\n        if (attempt > 0) await sleep(retryInterval(attempt));\n        try {\n            result = await rpc();\n        } catch (err) {\n            const isRequestCancelled = err instanceof _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.RpcError && err.code === _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode[_protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode.cancelled];\n            const isAborted = signal?.aborted ?? false;\n            if (isRequestCancelled || isAborted) throw err;\n            getLogger([\n                'sfu-client',\n                'rpc'\n            ])('debug', `rpc failed (${attempt})`, err);\n            attempt++;\n        }\n    }while (!result || result.response.error?.shouldRetry);\n    return result;\n};\n/**\n * Returns a generic SDP for the given direction.\n * We use this SDP to send it as part of our JoinRequest so that the SFU\n * can use it to determine the client's codec capabilities.\n *\n * @param direction the direction of the transceiver.\n */ const getGenericSdp = async (direction)=>{\n    const tempPc = new RTCPeerConnection();\n    tempPc.addTransceiver('video', {\n        direction\n    });\n    tempPc.addTransceiver('audio', {\n        direction\n    });\n    const offer = await tempPc.createOffer();\n    const sdp = offer.sdp ?? '';\n    tempPc.getTransceivers().forEach((t)=>{\n        t.stop?.();\n    });\n    tempPc.close();\n    return sdp;\n};\n/**\n * Returns whether the codec is an SVC codec.\n *\n * @param codecOrMimeType the codec to check.\n */ const isSvcCodec = (codecOrMimeType)=>{\n    if (!codecOrMimeType) return false;\n    codecOrMimeType = codecOrMimeType.toLowerCase();\n    return codecOrMimeType === 'vp9' || codecOrMimeType === 'av1' || codecOrMimeType === 'video/vp9' || codecOrMimeType === 'video/av1';\n};\nconst sfuEventKinds = {\n    subscriberOffer: undefined,\n    publisherAnswer: undefined,\n    connectionQualityChanged: undefined,\n    audioLevelChanged: undefined,\n    iceTrickle: undefined,\n    changePublishQuality: undefined,\n    participantJoined: undefined,\n    participantLeft: undefined,\n    dominantSpeakerChanged: undefined,\n    joinResponse: undefined,\n    healthCheckResponse: undefined,\n    trackPublished: undefined,\n    trackUnpublished: undefined,\n    error: undefined,\n    callGrantsUpdated: undefined,\n    goAway: undefined,\n    iceRestart: undefined,\n    pinsUpdated: undefined,\n    callEnded: undefined,\n    participantUpdated: undefined,\n    participantMigrationComplete: undefined,\n    changePublishOptions: undefined,\n    inboundStateNotification: undefined\n};\nconst isSfuEvent = (eventName)=>{\n    return Object.prototype.hasOwnProperty.call(sfuEventKinds, eventName);\n};\nclass Dispatcher {\n    constructor(){\n        this.logger = getLogger([\n            'Dispatcher'\n        ]);\n        this.subscribers = {};\n        this.dispatch = (message, tag = '0')=>{\n            const eventKind = message.eventPayload.oneofKind;\n            if (!eventKind) return;\n            const payload = message.eventPayload[eventKind];\n            this.logger('debug', `Dispatching ${eventKind}, tag=${tag}`, payload);\n            const listeners = this.subscribers[eventKind];\n            if (!listeners) return;\n            for (const fn of listeners){\n                try {\n                    fn(payload);\n                } catch (e) {\n                    this.logger('warn', 'Listener failed with error', e);\n                }\n            }\n        };\n        this.on = (eventName, fn)=>{\n            var _a;\n            ((_a = this.subscribers)[eventName] ?? (_a[eventName] = [])).push(fn);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        this.off = (eventName, fn)=>{\n            this.subscribers[eventName] = (this.subscribers[eventName] || []).filter((f)=>f !== fn);\n        };\n    }\n}\n/**\n * A buffer for ICE Candidates. Used for ICE Trickle:\n * - https://bloggeek.me/webrtcglossary/trickle-ice/\n */ class IceTrickleBuffer {\n    constructor(){\n        this.subscriberCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.publisherCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.push = (iceTrickle)=>{\n            const iceCandidate = toIceCandidate(iceTrickle);\n            if (!iceCandidate) return;\n            if (iceTrickle.peerType === PeerType.SUBSCRIBER) {\n                this.subscriberCandidates.next(iceCandidate);\n            } else if (iceTrickle.peerType === PeerType.PUBLISHER_UNSPECIFIED) {\n                this.publisherCandidates.next(iceCandidate);\n            } else {\n                const logger = getLogger([\n                    'sfu-client'\n                ]);\n                logger('warn', `ICETrickle, Unknown peer type`, iceTrickle);\n            }\n        };\n        this.dispose = ()=>{\n            this.subscriberCandidates.complete();\n            this.publisherCandidates.complete();\n        };\n    }\n}\nconst toIceCandidate = (iceTrickle)=>{\n    try {\n        return JSON.parse(iceTrickle.iceCandidate);\n    } catch (e) {\n        const logger = getLogger([\n            'sfu-client'\n        ]);\n        logger('error', `Failed to parse ICE Trickle`, e, iceTrickle);\n        return undefined;\n    }\n};\n/**\n * Runs async functions serially. Useful for wrapping async actions that\n * should never run simultaneously: if marked with the same tag, functions\n * will run one after another.\n *\n * @param tag Async functions with the same tag will run serially. Async functions\n * with different tags can run in parallel.\n * @param cb Async function to run.\n * @returns Promise that resolves when async functions returns.\n */ const withoutConcurrency = createRunner(wrapWithContinuationTracking);\n/**\n * Runs async functions serially, and cancels all other actions with the same tag\n * when a new action is scheduled. Useful for wrapping async actions that override\n * each other (e.g. enabling and disabling camera).\n *\n * If an async function hasn't started yet and was canceled, it will never run.\n * If an async function is already running and was canceled, it will be notified\n * via an abort signal passed as an argument.\n *\n * @param tag Async functions with the same tag will run serially and are canceled\n * when a new action with the same tag is scheduled.\n * @param cb Async function to run. Receives AbortSignal as the only argument.\n * @returns Promise that resolves when async functions returns. If the function didn't\n * start and was canceled, will resolve with 'canceled'. If the function started to run,\n * it's up to the function to decide how to react to cancelation.\n */ const withCancellation = createRunner(wrapWithCancellation);\nconst pendingPromises = new Map();\nfunction hasPending(tag) {\n    return pendingPromises.has(tag);\n}\nasync function settled(tag) {\n    let pending;\n    while(pending = pendingPromises.get(tag)){\n        await pending.promise;\n    }\n}\n/**\n * Implements common functionality of running async functions serially, by chaining\n * their promises one after another.\n *\n * Before running, async function is \"wrapped\" using the provided wrapper. This wrapper\n * can add additional steps to run before or after the function.\n *\n * When async function is scheduled to run, the previous function is notified\n * by calling the associated onContinued callback. This behavior of this callback\n * is defined by the wrapper.\n */ function createRunner(wrapper) {\n    return function run(tag, cb) {\n        const { cb: wrapped, onContinued } = wrapper(tag, cb);\n        const pending = pendingPromises.get(tag);\n        pending?.onContinued();\n        const promise = pending ? pending.promise.then(wrapped, wrapped) : wrapped();\n        pendingPromises.set(tag, {\n            promise,\n            onContinued\n        });\n        return promise;\n    };\n}\n/**\n * Wraps an async function with an additional step run after the function:\n * if the function is the last in the queue, it cleans up the whole chain\n * of promises after finishing.\n */ function wrapWithContinuationTracking(tag, cb) {\n    let hasContinuation = false;\n    const wrapped = ()=>cb().finally(()=>{\n            if (!hasContinuation) {\n                pendingPromises.delete(tag);\n            }\n        });\n    const onContinued = ()=>hasContinuation = true;\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Wraps an async function with additional functionalilty:\n * 1. Associates an abort signal with every function, that is passed to it\n *    as an argument. When a new function is scheduled to run after the current\n *    one, current signal is aborted.\n * 2. If current function didn't start and was aborted, in will never start.\n * 3. If the function is the last in the queue, it cleans up the whole chain\n *    of promises after finishing.\n */ function wrapWithCancellation(tag, cb) {\n    const ac = new AbortController();\n    const wrapped = ()=>{\n        if (ac.signal.aborted) {\n            return Promise.resolve('canceled');\n        }\n        return cb(ac.signal).finally(()=>{\n            if (!ac.signal.aborted) {\n                pendingPromises.delete(tag);\n            }\n        });\n    };\n    const onContinued = ()=>ac.abort();\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Checks if the provided update is a function patch.\n *\n * @param update the value to check.\n */ const isFunctionPatch = (update)=>typeof update === 'function';\n/**\n * Gets the current value of an observable, or undefined if the observable has\n * not emitted a value yet.\n *\n * @param observable$ the observable to get the value from.\n */ const getCurrentValue = (observable$)=>{\n    let value;\n    let err = undefined;\n    (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n        observable$\n    ]).subscribe({\n        next: ([v])=>{\n            value = v;\n        },\n        error: (e)=>{\n            err = e;\n        }\n    }).unsubscribe();\n    if (err) throw err;\n    return value;\n};\n/**\n * Updates the value of the provided Subject.\n * An `update` can either be a new value or a function which takes\n * the current value and returns a new value.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n * @return the updated value.\n */ const setCurrentValue = (subject, update)=>{\n    const next = isFunctionPatch(update) ? update(getCurrentValue(subject)) : update;\n    subject.next(next);\n    return next;\n};\n/**\n * Updates the value of the provided Subject and returns the previous value\n * and a function to roll back the update.\n * This is useful when you want to optimistically update a value\n * and roll back the update if an error occurs.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n */ const updateValue = (subject, update)=>{\n    const lastValue = subject.getValue();\n    const value = setCurrentValue(subject, update);\n    return {\n        lastValue,\n        value,\n        rollback: ()=>setCurrentValue(subject, lastValue)\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe.\n *\n * @param observable the observable to subscribe to.\n * @param handler the handler to call when the observable emits a value.\n * @param onError an optional error handler.\n */ const createSubscription = (observable, handler, onError = (error)=>getLogger([\n        'RxUtils'\n    ])('warn', 'An observable emitted an error', error))=>{\n    const subscription = observable.subscribe({\n        next: handler,\n        error: onError\n    });\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe. Makes sure that\n * only one async handler runs at the same time. If updates come in quicker than\n * it takes for the current handler to finish, other handlers will wait.\n *\n * @param observable the observable to subscribe to.\n * @param handler the async handler to call when the observable emits a value.\n */ const createSafeAsyncSubscription = (observable, handler)=>{\n    const tag = Symbol();\n    return createSubscription(observable, (value)=>{\n        withoutConcurrency(tag, ()=>handler(value));\n    });\n};\nvar rxUtils = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    createSafeAsyncSubscription: createSafeAsyncSubscription,\n    createSubscription: createSubscription,\n    getCurrentValue: getCurrentValue,\n    setCurrentValue: setCurrentValue,\n    updateValue: updateValue\n});\n/**\n * Represents the state of the current call.\n */ var CallingState;\n(function(CallingState) {\n    /**\n     * The call is in an unknown state.\n     */ CallingState[\"UNKNOWN\"] = \"unknown\";\n    /**\n     * The call is in an idle state.\n     */ CallingState[\"IDLE\"] = \"idle\";\n    /**\n     * The call is in the process of ringing.\n     * (User hasn't accepted nor rejected the call yet.)\n     */ CallingState[\"RINGING\"] = \"ringing\";\n    /**\n     * The call is in the process of joining.\n     */ CallingState[\"JOINING\"] = \"joining\";\n    /**\n     * The call is currently active.\n     */ CallingState[\"JOINED\"] = \"joined\";\n    /**\n     * The call has been left.\n     */ CallingState[\"LEFT\"] = \"left\";\n    /**\n     * The call is in the process of reconnecting.\n     */ CallingState[\"RECONNECTING\"] = \"reconnecting\";\n    /**\n     * The call is in the process of migrating from one node to another.\n     */ CallingState[\"MIGRATING\"] = \"migrating\";\n    /**\n     * The call has failed to reconnect.\n     */ CallingState[\"RECONNECTING_FAILED\"] = \"reconnecting-failed\";\n    /**\n     * The call is in offline mode.\n     */ CallingState[\"OFFLINE\"] = \"offline\";\n})(CallingState || (CallingState = {}));\nclass StreamVideoWriteableStateStore {\n    constructor(){\n        /**\n         * A store keeping data of a successfully connected user over WS to the coordinator server.\n         */ this.connectedUserSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        /**\n         * A list of {@link Call} objects created/tracked by this client.\n         */ this.callsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject([]);\n        /**\n         * Sets the currently connected user.\n         *\n         * @internal\n         * @param user the user to set as connected.\n         */ this.setConnectedUser = (user)=>{\n            return setCurrentValue(this.connectedUserSubject, user);\n        };\n        /**\n         * Sets the list of {@link Call} objects created/tracked by this client.\n         * @param calls\n         */ this.setCalls = (calls)=>{\n            return setCurrentValue(this.callsSubject, calls);\n        };\n        /**\n         * Adds a {@link Call} object to the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to add.\n         */ this.registerCall = (call)=>{\n            if (!this.calls.find((c)=>c.cid === call.cid)) {\n                this.setCalls((calls)=>[\n                        ...calls,\n                        call\n                    ]);\n            }\n        };\n        /**\n         * Removes a {@link Call} object from the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to remove\n         */ this.unregisterCall = (call)=>{\n            const logger = getLogger([\n                'client-state'\n            ]);\n            logger('trace', `Unregistering call: ${call.cid}`);\n            return this.setCalls((calls)=>calls.filter((c)=>c !== call));\n        };\n        /**\n         * Finds a {@link Call} object in the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param type the type of call to find.\n         * @param id the id of the call to find.\n         */ this.findCall = (type, id)=>{\n            return this.calls.find((c)=>c.type === type && c.id === id);\n        };\n        this.connectedUserSubject.subscribe(async (user)=>{\n            // leave all calls when the user disconnects.\n            if (!user) {\n                const logger = getLogger([\n                    'client-state'\n                ]);\n                for (const call of this.calls){\n                    if (call.state.callingState === CallingState.LEFT) continue;\n                    logger('info', `User disconnected, leaving call: ${call.cid}`);\n                    await call.leave({\n                        message: 'client.disconnectUser() called'\n                    }).catch((err)=>{\n                        logger('error', `Error leaving call: ${call.cid}`, err);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * The currently connected user.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUserSubject);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.callsSubject);\n    }\n}\n/**\n * A reactive store that exposes state variables in a reactive manner.\n * You can subscribe to changes of the different state variables.\n * This central store contains all the state variables related to [`StreamVideoClient`](./StreamVideClient.md) and [`Call`](./Call.md).\n */ class StreamVideoReadOnlyStateStore {\n    constructor(store){\n        // convert and expose subjects as observables\n        this.connectedUser$ = store.connectedUserSubject.asObservable();\n        this.calls$ = store.callsSubject.asObservable();\n    }\n    /**\n     * The current user connected over WS to the backend.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUser$);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.calls$);\n    }\n}\n/**\n * Creates a new combined {@link Comparator<T>} which sorts items by the given comparators.\n * The comparators are applied in the order they are given (left -> right).\n *\n * @param comparators the comparators to use for sorting.\n * @returns a combined {@link Comparator<T>}.\n */ const combineComparators = (...comparators)=>{\n    return (a, b)=>{\n        for (const comparator of comparators){\n            const result = comparator(a, b);\n            if (result !== 0) return result;\n        }\n        return 0;\n    };\n};\n/**\n * Creates a new comparator which sorts items in descending order.\n *\n * @example\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const byValueDesc = descending(byValue);\n *\n * @param comparator the comparator to wrap.\n */ const descending = (comparator)=>{\n    return (a, b)=>comparator(b, a);\n};\n/**\n * Creates a new comparator which conditionally applies the given comparator.\n *\n * @example\n * const shouldSortByValue = (a, b) => a % 2 === 0; // return false to turn it off\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const comparator = conditional(shouldSortByValue)(byValue);\n *\n * @param predicate the predicate to use for determining whether to apply the comparator.\n */ const conditional = (predicate)=>{\n    return (comparator)=>{\n        return (a, b)=>{\n            if (!predicate(a, b)) return 0;\n            return comparator(a, b);\n        };\n    };\n};\n/**\n * A no-op comparator which always returns 0.\n */ const noopComparator = ()=>{\n    return ()=>0;\n};\n/**\n * Check if a participant has a video.\n *\n * @param p the participant to check.\n */ const hasVideo = (p)=>p.publishedTracks.includes(TrackType.VIDEO);\n/**\n * Check if a participant has audio.\n *\n * @param p the participant to check.\n */ const hasAudio = (p)=>p.publishedTracks.includes(TrackType.AUDIO);\n/**\n * Check if a participant is screen sharing.\n *\n * @param p the participant to check.\n */ const hasScreenShare = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE);\n/**\n * Check if a participant is screen sharing audio.\n *\n * @param p the participant to check.\n */ const hasScreenShareAudio = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE_AUDIO);\n/**\n * Check if the participant is pinned.\n *\n * @param p the participant.\n */ const isPinned = (p)=>!!p.pin && (p.pin.isLocalPin || p.pin.pinnedAt > 0);\n/**\n * Check if a participant has a paused track of the specified type.\n *\n * @param p the participant to check.\n * @param videoTrackType the type of video track to check for ('videoTrack' or 'screenShareTrack').\n */ const hasPausedTrack = (p, videoTrackType)=>{\n    if (!p.pausedTracks) return false;\n    const trackType = videoTrackType === 'videoTrack' ? TrackType.VIDEO : videoTrackType === 'screenShareTrack' ? TrackType.SCREEN_SHARE : undefined;\n    if (!trackType) return false;\n    return p.pausedTracks.includes(trackType);\n};\n/**\n * A comparator which sorts participants by the fact that they are the dominant speaker or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const dominantSpeaker = (a, b)=>{\n    if (a.isDominantSpeaker && !b.isDominantSpeaker) return -1;\n    if (!a.isDominantSpeaker && b.isDominantSpeaker) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by the fact that they are speaking or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const speaking = (a, b)=>{\n    if (a.isSpeaking && !b.isSpeaking) return -1;\n    if (!a.isSpeaking && b.isSpeaking) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by screen sharing status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const screenSharing = (a, b)=>{\n    if (hasScreenShare(a) && !hasScreenShare(b)) return -1;\n    if (!hasScreenShare(a) && hasScreenShare(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by video status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingVideo = (a, b)=>{\n    if (hasVideo(a) && !hasVideo(b)) return -1;\n    if (!hasVideo(a) && hasVideo(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by audio status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingAudio = (a, b)=>{\n    if (hasAudio(a) && !hasAudio(b)) return -1;\n    if (!hasAudio(a) && hasAudio(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which prioritizes participants who are pinned.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const pinned = (a, b)=>{\n    if (a.pin && b.pin) {\n        if (!a.pin.isLocalPin && b.pin.isLocalPin) return -1;\n        if (a.pin.isLocalPin && !b.pin.isLocalPin) return 1;\n        if (a.pin.pinnedAt > b.pin.pinnedAt) return -1;\n        if (a.pin.pinnedAt < b.pin.pinnedAt) return 1;\n    }\n    if (a.pin && !b.pin) return -1;\n    if (!a.pin && b.pin) return 1;\n    return 0;\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific reaction.\n *\n * @param type the reaction type.\n */ const reactionType = (type)=>{\n    return (a, b)=>{\n        if (a.reaction?.type === type && b.reaction?.type !== type) return -1;\n        if (a.reaction?.type !== type && b.reaction?.type === type) return 1;\n        return 0;\n    };\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific role.\n *\n * @param roles the roles to prioritize.\n */ const role = (...roles)=>(a, b)=>{\n        if (hasAnyRole(a, roles) && !hasAnyRole(b, roles)) return -1;\n        if (!hasAnyRole(a, roles) && hasAnyRole(b, roles)) return 1;\n        return 0;\n    };\n/**\n * A comparator which sorts participants by name.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const name = (a, b)=>{\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n};\nconst hasAnyRole = (p, roles)=>(p.roles || []).some((r)=>roles.includes(r));\n// a comparator decorator which applies the decorated comparator only if the\n// participant is invisible.\n// This ensures stable sorting when all participants are visible.\nconst ifInvisibleBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE);\n/**\n * A comparator that applies the decorated comparator when a participant is\n * either invisible or its visibility state isn't known.\n * For visible participants, it ensures stable sorting.\n */ const ifInvisibleOrUnknownBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || a.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN);\n/**\n * The default sorting preset.\n */ const defaultSortPreset = combineComparators(pinned, screenSharing, ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType('raised-hand'), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for speaker layout.\n */ const speakerLayoutSortPreset = combineComparators(pinned, screenSharing, dominantSpeaker, ifInvisibleBy(combineComparators(speaking, reactionType('raised-hand'), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for layouts that don't render all participants but\n * instead, render them in pages.\n */ const paginatedLayoutSortPreset = combineComparators(pinned, ifInvisibleOrUnknownBy(combineComparators(dominantSpeaker, speaking, reactionType('raised-hand'), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for livestreams and audio rooms.\n */ const livestreamOrAudioRoomSortPreset = combineComparators(ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType('raised-hand'), publishingVideo, publishingAudio)), role('admin', 'host', 'speaker'));\n/**\n * Returns the default egress object - when no egress data is available.\n */ const defaultEgress = {\n    broadcasting: false,\n    hls: {\n        playlist_url: '',\n        status: ''\n    },\n    rtmps: []\n};\n/**\n * Holds the state of the current call.\n * @react You don't have to use this class directly, as we are exposing the state through Hooks.\n */ class CallState {\n    /**\n     * Creates a new instance of the CallState class.\n     *\n     */ constructor(){\n        this.backstageSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(true);\n        this.blockedUserIdsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject([]);\n        this.createdAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(new Date());\n        this.endedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.startsAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.updatedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(new Date());\n        this.createdBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.customSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject({});\n        this.egressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.ingressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.recordingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(false);\n        this.sessionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.transcribingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(false);\n        this.captioningSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(false);\n        this.endedBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.thumbnailsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.membersSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject([]);\n        this.ownCapabilitiesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject([]);\n        this.callingStateSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(CallingState.UNKNOWN);\n        this.startedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.participantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(0);\n        this.anonymousParticipantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(0);\n        this.participantsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject([]);\n        this.callStatsReportSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.closedCaptionsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject([]);\n        // These are tracks that were delivered to the Subscriber's onTrack event\n        // that we couldn't associate with a participant yet.\n        // This happens when the participantJoined event hasn't been received yet.\n        // We keep these tracks around until we can associate them with a participant.\n        this.orphanedTracks = [];\n        this.logger = getLogger([\n            'CallState'\n        ]);\n        /**\n         * A list of comparators that are used to sort the participants.\n         */ this.sortParticipantsBy = defaultSortPreset;\n        this.closedCaptionsTasks = new Map();\n        /**\n         * Runs the cleanup tasks.\n         */ this.dispose = ()=>{\n            for (const [ccKey, taskId] of this.closedCaptionsTasks.entries()){\n                clearTimeout(taskId);\n                this.closedCaptionsTasks.delete(ccKey);\n            }\n        };\n        /**\n         * Sets the list of criteria that are used to sort the participants.\n         * To disable sorting, you can pass `noopComparator()`.\n         *\n         * @param comparator the comparator to use to sort the participants.\n         */ this.setSortParticipantsBy = (comparator)=>{\n            this.sortParticipantsBy = comparator;\n            // trigger re-sorting of participants\n            this.setCurrentValue(this.participantsSubject, (ps)=>ps);\n        };\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the number of participants in the current call.\n         *\n         * @internal\n         * @param count the number of participants.\n         */ this.setParticipantCount = (count)=>{\n            return this.setCurrentValue(this.participantCountSubject, count);\n        };\n        /**\n         * Sets the time the call session actually started.\n         *\n         * @internal\n         * @param startedAt the time the call session actually started.\n         */ this.setStartedAt = (startedAt)=>{\n            return this.setCurrentValue(this.startedAtSubject, startedAt);\n        };\n        /**\n         * Sets the closed captioning state of the current call.\n         *\n         * @internal\n         * @param captioning the closed captioning state.\n         */ this.setCaptioning = (captioning)=>{\n            return updateValue(this.captioningSubject, captioning);\n        };\n        /**\n         * Sets the number of anonymous participants in the current call.\n         *\n         * @internal\n         * @param count the number of anonymous participants.\n         */ this.setAnonymousParticipantCount = (count)=>{\n            return this.setCurrentValue(this.anonymousParticipantCountSubject, count);\n        };\n        /**\n         * Sets the list of participants in the current call.\n         *\n         * @internal\n         *\n         * @param participants the list of participants.\n         */ this.setParticipants = (participants)=>{\n            return this.setCurrentValue(this.participantsSubject, participants);\n        };\n        /**\n         * Sets the calling state.\n         *\n         * @internal\n         * @param state the new calling state.\n         */ this.setCallingState = (state)=>{\n            return this.setCurrentValue(this.callingStateSubject, state);\n        };\n        /**\n         * Sets the call stats report.\n         *\n         * @internal\n         * @param report the report to set.\n         */ this.setCallStatsReport = (report)=>{\n            return this.setCurrentValue(this.callStatsReportSubject, report);\n        };\n        /**\n         * Sets the members of the current call.\n         *\n         * @internal\n         * @param members the members to set.\n         */ this.setMembers = (members)=>{\n            this.setCurrentValue(this.membersSubject, members);\n        };\n        /**\n         * Sets the own capabilities.\n         *\n         * @internal\n         * @param capabilities the capabilities to set.\n         */ this.setOwnCapabilities = (capabilities)=>{\n            return this.setCurrentValue(this.ownCapabilitiesSubject, capabilities);\n        };\n        /**\n         * Sets the backstage state.\n         * @param backstage the backstage state.\n         */ this.setBackstage = (backstage)=>{\n            return this.setCurrentValue(this.backstageSubject, backstage);\n        };\n        /**\n         * Sets the time when this call has been ended.\n         * @param endedAt the time when this call has been ended.\n         */ this.setEndedAt = (endedAt)=>{\n            return this.setCurrentValue(this.endedAtSubject, endedAt);\n        };\n        /**\n         * Will try to find the participant with the given sessionId in the current call.\n         *\n         * @param sessionId the sessionId of the participant to find.\n         * @returns the participant with the given sessionId or undefined if not found.\n         */ this.findParticipantBySessionId = (sessionId)=>{\n            return this.participants.find((p)=>p.sessionId === sessionId);\n        };\n        /**\n         * Returns a new lookup table of participants indexed by their session ID.\n         */ this.getParticipantLookupBySessionId = ()=>{\n            return this.participants.reduce((lookupTable, participant)=>{\n                lookupTable[participant.sessionId] = participant;\n                return lookupTable;\n            }, {});\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If the participant can't be found, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param patch the patch to apply to the participant.\n         * @returns the updated participant or `undefined` if the participant couldn't be found.\n         */ this.updateParticipant = (sessionId, patch)=>{\n            const participant = this.findParticipantBySessionId(sessionId);\n            if (!participant) {\n                this.logger('warn', `Participant with sessionId ${sessionId} not found`);\n                return;\n            }\n            const thePatch = typeof patch === 'function' ? patch(participant) : patch;\n            const updatedParticipant = {\n                ...participant,\n                ...thePatch\n            };\n            return this.setParticipants((participants)=>participants.map((p)=>p.sessionId === sessionId ? updatedParticipant : p));\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If a participant with matching `sessionId` can't be found, the provided\n         * `participant` is added to the list of participants.\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param participant the participant to update or add.\n         * @param patch an optional patch to apply to the participant.\n         */ this.updateOrAddParticipant = (sessionId, participant, patch)=>{\n            return this.setParticipants((participants)=>{\n                let add = true;\n                const nextParticipants = participants.map((p)=>{\n                    if (p.sessionId === sessionId) {\n                        add = false;\n                        const updated = {\n                            ...p,\n                            ...participant\n                        };\n                        const thePatch = typeof patch === 'function' ? patch(updated) : patch;\n                        return Object.assign(updated, thePatch);\n                    }\n                    return p;\n                });\n                if (add) nextParticipants.push(participant);\n                return nextParticipants;\n            });\n        };\n        /**\n         * Updates all participants in the current call whose session ID is in the given `sessionIds`.\n         * If no patches are provided, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param patch the patch to apply to the participants.\n         * @returns all participants, with all patch applied.\n         */ this.updateParticipants = (patch)=>{\n            if (Object.keys(patch).length === 0) return this.participants;\n            return this.setParticipants((participants)=>participants.map((p)=>{\n                    const thePatch = patch[p.sessionId];\n                    if (thePatch) {\n                        return {\n                            ...p,\n                            ...thePatch\n                        };\n                    }\n                    return p;\n                }));\n        };\n        /**\n         * Update track subscription configuration for one or more participants.\n         * You have to create a subscription for each participant for all the different kinds of tracks you want to receive.\n         * You can only subscribe for tracks after the participant started publishing the given kind of track.\n         *\n         * @param trackType the kind of subscription to update.\n         * @param changes the list of subscription changes to do.\n         */ this.updateParticipantTracks = (trackType, changes)=>{\n            return this.updateParticipants(Object.entries(changes).reduce((acc, [sessionId, change])=>{\n                if (change.dimension) {\n                    change.dimension.height = Math.ceil(change.dimension.height);\n                    change.dimension.width = Math.ceil(change.dimension.width);\n                }\n                const prop = trackType === 'videoTrack' ? 'videoDimension' : trackType === 'screenShareTrack' ? 'screenShareDimension' : undefined;\n                if (prop) {\n                    acc[sessionId] = {\n                        [prop]: change.dimension\n                    };\n                }\n                return acc;\n            }, {}));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param event the video event that our backend sent us.\n         */ this.updateFromEvent = (event)=>{\n            const update = this.eventHandlers[event.type];\n            if (update) {\n                update(event);\n            }\n        };\n        /**\n         * Updates the participant pinned state with server side pinning data.\n         *\n         * @param pins the latest pins from the server.\n         */ this.setServerSidePins = (pins)=>{\n            const pinsLookup = pins.reduce((lookup, pin)=>{\n                lookup[pin.sessionId] = Date.now();\n                return lookup;\n            }, {});\n            return this.setParticipants((participants)=>participants.map((participant)=>{\n                    const serverSidePinnedAt = pinsLookup[participant.sessionId];\n                    // the participant is newly pinned\n                    if (serverSidePinnedAt) {\n                        return {\n                            ...participant,\n                            pin: {\n                                isLocalPin: false,\n                                pinnedAt: serverSidePinnedAt\n                            }\n                        };\n                    }\n                    // the participant is no longer pinned server side\n                    // we need to reset the pin\n                    if (participant.pin && !participant.pin.isLocalPin) {\n                        return {\n                            ...participant,\n                            pin: undefined\n                        };\n                    }\n                    // no changes to be applied\n                    return participant;\n                }));\n        };\n        /**\n         * Adds an orphaned track to the call state.\n         *\n         * @internal\n         *\n         * @param orphanedTrack the orphaned track to add.\n         */ this.registerOrphanedTrack = (orphanedTrack)=>{\n            this.orphanedTracks.push(orphanedTrack);\n        };\n        /**\n         * Removes an orphaned track from the call state.\n         *\n         * @internal\n         *\n         * @param id the ID of the orphaned track to remove.\n         */ this.removeOrphanedTrack = (id)=>{\n            this.orphanedTracks = this.orphanedTracks.filter((o)=>o.id !== id);\n        };\n        /**\n         * Takes all orphaned tracks with the given track lookup prefix.\n         * All orphaned tracks with the given track lookup prefix are removed from the call state.\n         *\n         * @internal\n         *\n         * @param trackLookupPrefix the track lookup prefix to match the orphaned tracks by.\n         */ this.takeOrphanedTracks = (trackLookupPrefix)=>{\n            const orphans = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix === trackLookupPrefix);\n            if (orphans.length > 0) {\n                this.orphanedTracks = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix !== trackLookupPrefix);\n            }\n            return orphans;\n        };\n        /**\n         * Updates the closed captions settings.\n         *\n         * @param config the new closed captions settings.\n         */ this.updateClosedCaptionSettings = (config)=>{\n            this.closedCaptionsSettings = {\n                ...this.closedCaptionsSettings,\n                ...config\n            };\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param call the call response from the server.\n         */ this.updateFromCallResponse = (call)=>{\n            this.setBackstage(call.backstage);\n            this.setCurrentValue(this.blockedUserIdsSubject, call.blocked_user_ids);\n            this.setCurrentValue(this.createdAtSubject, new Date(call.created_at));\n            this.setCurrentValue(this.updatedAtSubject, new Date(call.updated_at));\n            this.setCurrentValue(this.startsAtSubject, call.starts_at ? new Date(call.starts_at) : undefined);\n            this.setEndedAt(call.ended_at ? new Date(call.ended_at) : undefined);\n            this.setCurrentValue(this.createdBySubject, call.created_by);\n            this.setCurrentValue(this.customSubject, call.custom);\n            this.setCurrentValue(this.egressSubject, call.egress);\n            this.setCurrentValue(this.ingressSubject, call.ingress);\n            this.setCurrentValue(this.recordingSubject, call.recording);\n            const s = this.setCurrentValue(this.sessionSubject, call.session);\n            this.updateParticipantCountFromSession(s);\n            this.setCurrentValue(this.settingsSubject, call.settings);\n            this.setCurrentValue(this.transcribingSubject, call.transcribing);\n            this.setCurrentValue(this.captioningSubject, call.captioning);\n            this.setCurrentValue(this.thumbnailsSubject, call.thumbnails);\n        };\n        /**\n         * Updates the call state with the data received from the SFU server.\n         *\n         * @internal\n         *\n         * @param callState the call state from the SFU server.\n         * @param currentSessionId the session ID of the current user.\n         * @param reconnectDetails optional reconnect details.\n         */ this.updateFromSfuCallState = (callState, currentSessionId, reconnectDetails)=>{\n            const { participants, participantCount, startedAt, pins } = callState;\n            const localPublishedTracks = reconnectDetails?.announcedTracks.map((t)=>t.trackType) ?? [];\n            this.setParticipants(()=>{\n                const participantLookup = this.getParticipantLookupBySessionId();\n                return participants.map((p)=>{\n                    // We need to preserve the local state of the participant\n                    // (e.g. videoDimension, visibilityState, pinnedAt, etc.)\n                    // as it doesn't exist on the server.\n                    const existingParticipant = participantLookup[p.sessionId];\n                    const isLocalParticipant = p.sessionId === currentSessionId;\n                    return Object.assign({}, existingParticipant, p, {\n                        isLocalParticipant,\n                        publishedTracks: isLocalParticipant ? localPublishedTracks : p.publishedTracks,\n                        viewportVisibilityState: existingParticipant?.viewportVisibilityState ?? {\n                            videoTrack: VisibilityState.UNKNOWN,\n                            screenShareTrack: VisibilityState.UNKNOWN\n                        }\n                    });\n                });\n            });\n            this.setParticipantCount(participantCount?.total || 0);\n            this.setAnonymousParticipantCount(participantCount?.anonymous || 0);\n            this.setStartedAt(startedAt ? Timestamp.toDate(startedAt) : new Date());\n            this.setServerSidePins(pins);\n        };\n        this.updateFromMemberRemoved = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.filter((m)=>event.members.indexOf(m.user_id) === -1));\n        };\n        this.updateFromMemberAdded = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>[\n                    ...members,\n                    ...event.members\n                ]);\n        };\n        this.updateFromHLSBroadcastStopped = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false,\n                    hls: {\n                        ...egress.hls,\n                        status: ''\n                    }\n                }));\n        };\n        this.updateFromHLSBroadcastingFailed = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false,\n                    hls: {\n                        ...egress.hls,\n                        status: ''\n                    }\n                }));\n        };\n        this.updateParticipantCountFromSession = (session)=>{\n            // when in JOINED state, we should use the participant count coming through\n            // the SFU healthcheck event, as it's more accurate.\n            if (!session || this.callingState === CallingState.JOINED) return;\n            const byRoleCount = Object.values(session.participants_count_by_role).reduce((total, countByRole)=>total + countByRole, 0);\n            const participantCount = Math.max(byRoleCount, session.participants.length);\n            this.setParticipantCount(participantCount);\n            this.setAnonymousParticipantCount(session.anonymous_participant_count || 0);\n        };\n        this.updateFromSessionParticipantCountUpdate = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                return {\n                    ...session,\n                    anonymous_participant_count: event.anonymous_participant_count,\n                    participants_count_by_role: event.participants_count_by_role\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantLeft = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                return {\n                    ...session,\n                    participants: participants.filter((p)=>p.user_session_id !== user_session_id),\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: Math.max(0, (participants_count_by_role[user.role] || 0) - 1)\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantJoined = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                // It could happen that the backend delivers the same participant more than once.\n                // Once with the call.session_started event and once again with the\n                // call.session_participant_joined event. In this case,\n                // we should update the existing participant and prevent duplicating it.\n                let shouldInsertParticipant = true;\n                const updatedParticipants = participants.map((p)=>{\n                    if (p.user_session_id === user_session_id) {\n                        shouldInsertParticipant = false;\n                        return event.participant;\n                    }\n                    return p;\n                });\n                if (shouldInsertParticipant) {\n                    // this is a new array, we can safely push the new participant\n                    updatedParticipants.push(event.participant);\n                }\n                // If we are updating an existing participant, we don't want to increment\n                // the participant_by_role count.\n                const increment = shouldInsertParticipant ? 1 : 0;\n                return {\n                    ...session,\n                    participants: updatedParticipants,\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: (participants_count_by_role[user.role] || 0) + increment\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateMembers = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.map((member)=>{\n                    const memberUpdate = event.members.find((m)=>m.user_id === member.user_id);\n                    return memberUpdate ? memberUpdate : member;\n                }));\n        };\n        this.updateParticipantReaction = (event)=>{\n            const { user, custom, type, emoji_code } = event.reaction;\n            this.setParticipants((participants)=>{\n                return participants.map((p)=>{\n                    // skip if the reaction is not for this participant\n                    if (p.userId !== user.id) return p;\n                    // update the participant with the new reaction\n                    return {\n                        ...p,\n                        reaction: {\n                            type,\n                            emoji_code,\n                            custom\n                        }\n                    };\n                });\n            });\n        };\n        this.unblockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>{\n                if (!current) return current;\n                return current.filter((id)=>id !== event.user.id);\n            });\n        };\n        this.blockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>[\n                    ...current || [],\n                    event.user.id\n                ]);\n        };\n        this.updateOwnCapabilities = (event)=>{\n            if (event.user.id === this.localParticipant?.userId) {\n                this.setCurrentValue(this.ownCapabilitiesSubject, event.own_capabilities);\n            }\n        };\n        this.updateFromClosedCaptions = (event)=>{\n            this.setCurrentValue(this.closedCaptionsSubject, (queue)=>{\n                const { closed_caption } = event;\n                const keyOf = (c)=>`${c.speaker_id}/${c.start_time}`;\n                const currentKey = keyOf(closed_caption);\n                const duplicate = queue.some((caption)=>keyOf(caption) === currentKey);\n                if (duplicate) return queue;\n                const nextQueue = [\n                    ...queue,\n                    closed_caption\n                ];\n                const { visibilityDurationMs = 2700, maxVisibleCaptions = 2 } = this.closedCaptionsSettings || {};\n                // schedule the removal of the closed caption after the retention time\n                if (visibilityDurationMs > 0) {\n                    const taskId = setTimeout(()=>{\n                        this.setCurrentValue(this.closedCaptionsSubject, (captions)=>captions.filter((caption)=>caption !== closed_caption));\n                        this.closedCaptionsTasks.delete(currentKey);\n                    }, visibilityDurationMs);\n                    this.closedCaptionsTasks.set(currentKey, taskId);\n                    // cancel the cleanup tasks for the closed captions that are no longer in the queue\n                    for(let i = 0; i < nextQueue.length - maxVisibleCaptions; i++){\n                        const key = keyOf(nextQueue[i]);\n                        const task = this.closedCaptionsTasks.get(key);\n                        clearTimeout(task);\n                        this.closedCaptionsTasks.delete(key);\n                    }\n                }\n                // trim the queue\n                return nextQueue.slice(-maxVisibleCaptions);\n            });\n        };\n        this.rawParticipants$ = this.participantsSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.participants$ = this.participantsSubject.asObservable().pipe(// maintain stable-sort by mutating the participants stored\n        // in the original subject\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((ps)=>ps.sort(this.sortParticipantsBy)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.localParticipant$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((participants)=>participants.find((p)=>p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.remoteParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((participants)=>participants.filter((p)=>!p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.pinnedParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((participants)=>participants.filter((p)=>!!p.pin)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.dominantSpeaker$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((participants)=>participants.find((p)=>p.isDominantSpeaker)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.hasOngoingScreenShare$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((participants)=>participants.some((p)=>hasScreenShare(p))), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        // dates\n        this.createdAt$ = this.createdAtSubject.asObservable();\n        this.endedAt$ = this.endedAtSubject.asObservable();\n        this.startsAt$ = this.startsAtSubject.asObservable();\n        this.startedAt$ = this.startedAtSubject.asObservable();\n        this.updatedAt$ = this.updatedAtSubject.asObservable();\n        this.callStatsReport$ = this.callStatsReportSubject.asObservable();\n        this.members$ = this.membersSubject.asObservable();\n        // complex objects should work as streams of data\n        this.createdBy$ = this.createdBySubject.asObservable();\n        this.custom$ = this.customSubject.asObservable();\n        this.egress$ = this.egressSubject.asObservable();\n        this.ingress$ = this.ingressSubject.asObservable();\n        this.session$ = this.sessionSubject.asObservable();\n        this.settings$ = this.settingsSubject.asObservable();\n        this.endedBy$ = this.endedBySubject.asObservable();\n        this.thumbnails$ = this.thumbnailsSubject.asObservable();\n        this.closedCaptions$ = this.closedCaptionsSubject.asObservable();\n        /**\n         * Performs shallow comparison of two arrays.\n         * Expects primitive values: [1, 2, 3] is equal to [2, 1, 3].\n         */ const isShallowEqual = (a, b)=>{\n            if (a.length !== b.length) return false;\n            for (const item of a)if (!b.includes(item)) return false;\n            for (const item of b)if (!a.includes(item)) return false;\n            return true;\n        };\n        /**\n         * Creates an Observable from the given subject by piping to the\n         * `distinctUntilChanged()` operator.\n         */ const duc = (subject, comparator)=>subject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)(comparator));\n        // primitive values should only emit once the value they hold changes\n        this.anonymousParticipantCount$ = duc(this.anonymousParticipantCountSubject);\n        this.blockedUserIds$ = duc(this.blockedUserIdsSubject, isShallowEqual);\n        this.backstage$ = duc(this.backstageSubject);\n        this.callingState$ = duc(this.callingStateSubject);\n        this.ownCapabilities$ = duc(this.ownCapabilitiesSubject, isShallowEqual);\n        this.participantCount$ = duc(this.participantCountSubject);\n        this.recording$ = duc(this.recordingSubject);\n        this.transcribing$ = duc(this.transcribingSubject);\n        this.captioning$ = duc(this.captioningSubject);\n        this.eventHandlers = {\n            // these events are not updating the call state:\n            'call.frame_recording_ready': undefined,\n            'call.kicked_user': undefined,\n            'call.moderation_blur': undefined,\n            'call.moderation_warning': undefined,\n            'call.permission_request': undefined,\n            'call.recording_ready': undefined,\n            'call.rtmp_broadcast_failed': undefined,\n            'call.rtmp_broadcast_started': undefined,\n            'call.rtmp_broadcast_stopped': undefined,\n            'call.stats_report_ready': undefined,\n            'call.transcription_ready': undefined,\n            'call.user_feedback_submitted': undefined,\n            'call.user_muted': undefined,\n            'connection.error': undefined,\n            'connection.ok': undefined,\n            'health.check': undefined,\n            'user.updated': undefined,\n            custom: undefined,\n            // events that update call state:\n            'call.accepted': (e)=>this.updateFromCallResponse(e.call),\n            'call.blocked_user': this.blockUser,\n            'call.closed_caption': this.updateFromClosedCaptions,\n            'call.closed_captions_failed': ()=>{\n                this.setCurrentValue(this.captioningSubject, false);\n            },\n            'call.closed_captions_started': ()=>{\n                this.setCurrentValue(this.captioningSubject, true);\n            },\n            'call.closed_captions_stopped': ()=>{\n                this.setCurrentValue(this.captioningSubject, false);\n            },\n            'call.created': (e)=>this.updateFromCallResponse(e.call),\n            'call.deleted': (e)=>this.updateFromCallResponse(e.call),\n            'call.ended': (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setCurrentValue(this.endedBySubject, e.user);\n            },\n            'call.frame_recording_failed': (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            'call.frame_recording_started': (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            'call.frame_recording_stopped': (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            'call.hls_broadcasting_failed': this.updateFromHLSBroadcastingFailed,\n            'call.hls_broadcasting_started': (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            'call.hls_broadcasting_stopped': this.updateFromHLSBroadcastStopped,\n            'call.live_started': (e)=>this.updateFromCallResponse(e.call),\n            'call.member_added': this.updateFromMemberAdded,\n            'call.member_removed': this.updateFromMemberRemoved,\n            'call.member_updated_permission': this.updateMembers,\n            'call.member_updated': this.updateMembers,\n            'call.notification': (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setMembers(e.members);\n            },\n            'call.permissions_updated': this.updateOwnCapabilities,\n            'call.reaction_new': this.updateParticipantReaction,\n            'call.recording_started': ()=>this.setCurrentValue(this.recordingSubject, true),\n            'call.recording_stopped': ()=>this.setCurrentValue(this.recordingSubject, false),\n            'call.recording_failed': ()=>this.setCurrentValue(this.recordingSubject, false),\n            'call.rejected': (e)=>this.updateFromCallResponse(e.call),\n            'call.ring': (e)=>this.updateFromCallResponse(e.call),\n            'call.missed': (e)=>this.updateFromCallResponse(e.call),\n            'call.session_ended': (e)=>this.updateFromCallResponse(e.call),\n            'call.session_participant_count_updated': this.updateFromSessionParticipantCountUpdate,\n            'call.session_participant_joined': this.updateFromSessionParticipantJoined,\n            'call.session_participant_left': this.updateFromSessionParticipantLeft,\n            'call.session_started': (e)=>this.updateFromCallResponse(e.call),\n            'call.transcription_started': ()=>{\n                this.setCurrentValue(this.transcribingSubject, true);\n            },\n            'call.transcription_stopped': ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            'call.transcription_failed': ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            'call.unblocked_user': this.unblockUser,\n            'call.updated': (e)=>this.updateFromCallResponse(e.call)\n        };\n    }\n    /**\n     * The server-side counted number of participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get participantCount() {\n        return this.getCurrentValue(this.participantCount$);\n    }\n    /**\n     * The time the call session actually started.\n     * Useful for displaying the call duration.\n     */ get startedAt() {\n        return this.getCurrentValue(this.startedAt$);\n    }\n    /**\n     * Returns whether closed captions are enabled in the current call.\n     */ get captioning() {\n        return this.getCurrentValue(this.captioning$);\n    }\n    /**\n     * The server-side counted number of anonymous participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get anonymousParticipantCount() {\n        return this.getCurrentValue(this.anonymousParticipantCount$);\n    }\n    /**\n     * The list of participants in the current call.\n     */ get participants() {\n        return this.getCurrentValue(this.participants$);\n    }\n    /**\n     * The stable list of participants in the current call, unsorted.\n     */ get rawParticipants() {\n        return this.getCurrentValue(this.rawParticipants$);\n    }\n    /**\n     * The local participant in the current call.\n     */ get localParticipant() {\n        return this.getCurrentValue(this.localParticipant$);\n    }\n    /**\n     * The list of remote participants in the current call.\n     */ get remoteParticipants() {\n        return this.getCurrentValue(this.remoteParticipants$);\n    }\n    /**\n     * The dominant speaker in the current call.\n     */ get dominantSpeaker() {\n        return this.getCurrentValue(this.dominantSpeaker$);\n    }\n    /**\n     * The list of pinned participants in the current call.\n     */ get pinnedParticipants() {\n        return this.getCurrentValue(this.pinnedParticipants$);\n    }\n    /**\n     * Tell if there is an ongoing screen share in this call.\n     */ get hasOngoingScreenShare() {\n        return this.getCurrentValue(this.hasOngoingScreenShare$);\n    }\n    /**\n     * The calling state.\n     */ get callingState() {\n        return this.getCurrentValue(this.callingState$);\n    }\n    /**\n     * The call stats report.\n     */ get callStatsReport() {\n        return this.getCurrentValue(this.callStatsReport$);\n    }\n    /**\n     * Returns whether the call stats report is being observed or not.\n     * @internal\n     */ get isCallStatsReportObserved() {\n        return this.callStatsReportSubject.observed;\n    }\n    /**\n     * The members of the current call.\n     */ get members() {\n        return this.getCurrentValue(this.members$);\n    }\n    /**\n     * The capabilities of the current user for the current call.\n     */ get ownCapabilities() {\n        return this.getCurrentValue(this.ownCapabilities$);\n    }\n    /**\n     * The backstage state.\n     */ get backstage() {\n        return this.getCurrentValue(this.backstage$);\n    }\n    /**\n     * Will provide the list of blocked user IDs.\n     */ get blockedUserIds() {\n        return this.getCurrentValue(this.blockedUserIds$);\n    }\n    /**\n     * Will provide the time when this call has been created.\n     */ get createdAt() {\n        return this.getCurrentValue(this.createdAt$);\n    }\n    /**\n     * Will provide the time when this call has been ended.\n     */ get endedAt() {\n        return this.getCurrentValue(this.endedAt$);\n    }\n    /**\n     * Will provide the time when this call has been scheduled to start.\n     */ get startsAt() {\n        return this.getCurrentValue(this.startsAt$);\n    }\n    /**\n     * Will provide the time when this call has been updated.\n     */ get updatedAt() {\n        return this.getCurrentValue(this.updatedAt$);\n    }\n    /**\n     * Will provide the user who created this call.\n     */ get createdBy() {\n        return this.getCurrentValue(this.createdBy$);\n    }\n    /**\n     * Will provide the custom data of this call.\n     */ get custom() {\n        return this.getCurrentValue(this.custom$);\n    }\n    /**\n     * Will provide the egress data of this call.\n     */ get egress() {\n        return this.getCurrentValue(this.egress$);\n    }\n    /**\n     * Will provide the ingress data of this call.\n     */ get ingress() {\n        return this.getCurrentValue(this.ingress$);\n    }\n    /**\n     * Will provide the recording state of this call.\n     */ get recording() {\n        return this.getCurrentValue(this.recording$);\n    }\n    /**\n     * Will provide the session data of this call.\n     */ get session() {\n        return this.getCurrentValue(this.session$);\n    }\n    /**\n     * Will provide the settings of this call.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Will provide the transcribing state of this call.\n     */ get transcribing() {\n        return this.getCurrentValue(this.transcribing$);\n    }\n    /**\n     * Will provide the user who ended this call.\n     */ get endedBy() {\n        return this.getCurrentValue(this.endedBy$);\n    }\n    /**\n     * Will provide the thumbnails of this call, if enabled in the call settings.\n     */ get thumbnails() {\n        return this.getCurrentValue(this.thumbnails$);\n    }\n    /**\n     * Returns the current queue of closed captions.\n     */ get closedCaptions() {\n        return this.getCurrentValue(this.closedCaptions$);\n    }\n}\n/**\n * NegotiationError is thrown when there is an error during the negotiation process.\n * It extends the built-in Error class and includes an SfuError object for more details.\n */ class NegotiationError extends Error {\n    /**\n     * Creates an instance of NegotiationError.\n     */ constructor(error){\n        super(error.message);\n        this.name = 'NegotiationError';\n        this.error = error;\n    }\n}\n/**\n * Flatten the stats report into an array of stats objects.\n *\n * @param report the report to flatten.\n */ const flatten = (report)=>{\n    const stats = [];\n    report.forEach((s)=>{\n        stats.push(s);\n    });\n    return stats;\n};\n/**\n * Dump the provided MediaStream into a JSON object.\n */ const dumpStream = (stream)=>({\n        id: stream.id,\n        tracks: stream.getTracks().map((track)=>({\n                id: track.id,\n                kind: track.kind,\n                label: track.label,\n                enabled: track.enabled,\n                muted: track.muted,\n                readyState: track.readyState\n            }))\n    });\nconst getSdkSignature = (clientDetails)=>{\n    const { sdk, ...platform } = clientDetails;\n    const sdkName = getSdkName(sdk);\n    const sdkVersion = getSdkVersion(sdk);\n    return {\n        sdkName,\n        sdkVersion,\n        ...platform\n    };\n};\nconst getSdkName = (sdk)=>{\n    return sdk && sdk.type === SdkType.REACT ? 'stream-react' : sdk && sdk.type === SdkType.REACT_NATIVE ? 'stream-react-native' : 'stream-js';\n};\nconst getSdkVersion = (sdk)=>{\n    return sdk ? `${sdk.major}.${sdk.minor}.${sdk.patch}` : '0.0.0-development';\n};\nconst version = \"1.28.1\";\nconst [major, minor, patch] = version.split('.');\nlet sdkInfo = {\n    type: SdkType.PLAIN_JAVASCRIPT,\n    major,\n    minor,\n    patch\n};\nlet osInfo;\nlet deviceInfo;\nlet webRtcInfo;\nlet deviceState = {\n    oneofKind: undefined\n};\nconst setSdkInfo = (info)=>{\n    sdkInfo = info;\n};\nconst getSdkInfo = ()=>{\n    return sdkInfo;\n};\nconst setOSInfo = (info)=>{\n    osInfo = info;\n};\nconst setDeviceInfo = (info)=>{\n    deviceInfo = info;\n};\nconst getWebRTCInfo = ()=>{\n    return webRtcInfo;\n};\nconst setWebRTCInfo = (info)=>{\n    webRtcInfo = info;\n};\nconst setThermalState = (state)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === 'android') {\n        const thermalState = AndroidThermalState[state] || AndroidThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: 'android',\n            android: {\n                thermalState,\n                isPowerSaverMode: deviceState?.oneofKind === 'android' && deviceState.android.isPowerSaverMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === 'ios') {\n        const thermalState = AppleThermalState[state] || AppleThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: 'apple',\n            apple: {\n                thermalState,\n                isLowPowerModeEnabled: deviceState?.oneofKind === 'apple' && deviceState.apple.isLowPowerModeEnabled\n            }\n        };\n    }\n};\nconst setPowerState = (powerMode)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === 'android') {\n        deviceState = {\n            oneofKind: 'android',\n            android: {\n                thermalState: deviceState?.oneofKind === 'android' ? deviceState.android.thermalState : AndroidThermalState.UNSPECIFIED,\n                isPowerSaverMode: powerMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === 'ios') {\n        deviceState = {\n            oneofKind: 'apple',\n            apple: {\n                thermalState: deviceState?.oneofKind === 'apple' ? deviceState.apple.thermalState : AppleThermalState.UNSPECIFIED,\n                isLowPowerModeEnabled: powerMode\n            }\n        };\n    }\n};\nconst getDeviceState = ()=>{\n    return deviceState;\n};\nconst getClientDetails = async ()=>{\n    if (isReactNative()) {\n        // Since RN doesn't support web, sharing browser info is not required\n        return {\n            sdk: sdkInfo,\n            os: osInfo,\n            device: deviceInfo\n        };\n    }\n    // @ts-expect-error - userAgentData is not yet in the TS types\n    const userAgentDataApi = navigator.userAgentData;\n    let userAgentData;\n    if (userAgentDataApi && userAgentDataApi.getHighEntropyValues) {\n        try {\n            userAgentData = await userAgentDataApi.getHighEntropyValues([\n                'platform',\n                'platformVersion',\n                'fullVersionList'\n            ]);\n        } catch  {\n        // Ignore the error\n        }\n    }\n    const userAgent = new ua_parser_js__WEBPACK_IMPORTED_MODULE_2__.UAParser(navigator.userAgent);\n    const { browser, os, device, cpu } = userAgent.getResult();\n    // If userAgentData is available, it means we are in a modern Chromium browser,\n    // and we can use it to get more accurate browser information.\n    // We hook into the fullVersionList to find the browser name and version and\n    // eventually detect exotic browsers like Samsung Internet, AVG Secure Browser, etc.\n    // who by default they identify themselves as \"Chromium\" in the user agent string.\n    // Eliminates the generic \"Chromium\" name and \"Not)A_Brand\" name from the list.\n    // https://wicg.github.io/ua-client-hints/#create-arbitrary-brands-section\n    const uaBrowser = userAgentData?.fullVersionList?.find((v)=>!v.brand.includes('Chromium') && !v.brand.match(/[()\\-./:;=?_]/g));\n    return {\n        sdk: sdkInfo,\n        browser: {\n            name: uaBrowser?.brand || browser.name || navigator.userAgent,\n            version: uaBrowser?.version || browser.version || ''\n        },\n        os: {\n            name: userAgentData?.platform || os.name || '',\n            version: userAgentData?.platformVersion || os.version || '',\n            architecture: cpu.architecture || ''\n        },\n        device: {\n            name: [\n                device.vendor,\n                device.model,\n                device.type\n            ].filter(Boolean).join(' '),\n            version: ''\n        }\n    };\n};\n/**\n * Checks whether the current browser is Safari.\n */ const isSafari = ()=>{\n    if (typeof navigator === 'undefined') return false;\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent || '');\n};\n/**\n * Checks whether the current browser is Firefox.\n */ const isFirefox = ()=>{\n    if (typeof navigator === 'undefined') return false;\n    return navigator.userAgent?.includes('Firefox');\n};\n/**\n * Checks whether the current browser is Google Chrome.\n */ const isChrome = ()=>{\n    if (typeof navigator === 'undefined') return false;\n    return navigator.userAgent?.includes('Chrome');\n};\n/**\n * Checks whether the current browser is among the list of first-class supported browsers.\n * This includes Chrome, Edge, Firefox, and Safari.\n *\n * Although the Stream Video SDK may work in other browsers, these are the ones we officially support.\n */ const isSupportedBrowser = async ()=>{\n    const { browser } = await getClientDetails();\n    if (!browser) return false; // we aren't running in a browser\n    const name = browser.name.toLowerCase();\n    const [major] = browser.version.split('.');\n    const version = parseInt(major, 10);\n    return name.includes('chrome') && version >= 124 || name.includes('edge') && version >= 124 || name.includes('firefox') && version >= 124 || name.includes('safari') && version >= 17 || name.includes('webkit') && version >= 605 || // WebView on iOS\n    name.includes('webview') && version >= 124 // WebView on Android\n    ;\n};\nvar browsers = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    isChrome: isChrome,\n    isFirefox: isFirefox,\n    isSafari: isSafari,\n    isSupportedBrowser: isSupportedBrowser\n});\n/**\n * Creates a new StatsReporter instance that collects metrics about the ongoing call and reports them to the state store\n */ const createStatsReporter = ({ subscriber, publisher, state, datacenter, pollingIntervalInMs = 2000 })=>{\n    const logger = getLogger([\n        'stats'\n    ]);\n    const getRawStatsForTrack = async (kind, selector)=>{\n        if (kind === 'subscriber' && subscriber) {\n            return subscriber.getStats(selector);\n        } else if (kind === 'publisher' && publisher) {\n            return publisher.getStats(selector);\n        } else {\n            return undefined;\n        }\n    };\n    const getStatsForStream = async (kind, tracks)=>{\n        const pc = kind === 'subscriber' ? subscriber : publisher;\n        if (!pc) return [];\n        const statsForStream = [];\n        for (const track of tracks){\n            const report = await pc.getStats(track);\n            const stats = transform(report, {\n                trackKind: track.kind,\n                kind,\n                publisher: undefined\n            });\n            statsForStream.push(stats);\n        }\n        return statsForStream;\n    };\n    const startReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.add(sessionId);\n        void run();\n    };\n    const stopReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.delete(sessionId);\n        void run();\n    };\n    const sessionIdsToTrack = new Set();\n    /**\n     * The main stats reporting loop.\n     */ const run = async ()=>{\n        const participantStats = {};\n        if (sessionIdsToTrack.size > 0) {\n            const sessionIds = new Set(sessionIdsToTrack);\n            for (const participant of state.participants){\n                if (!sessionIds.has(participant.sessionId)) continue;\n                const { audioStream, isLocalParticipant, sessionId, userId, videoStream } = participant;\n                const kind = isLocalParticipant ? 'publisher' : 'subscriber';\n                try {\n                    const tracks = isLocalParticipant ? publisher?.getPublishedTracks() || [] : [\n                        ...videoStream?.getVideoTracks() || [],\n                        ...audioStream?.getAudioTracks() || []\n                    ];\n                    participantStats[sessionId] = await getStatsForStream(kind, tracks);\n                } catch (e) {\n                    logger('warn', `Failed to collect ${kind} stats for ${userId}`, e);\n                }\n            }\n        }\n        const [subscriberRawStats, publisherRawStats] = await Promise.all([\n            getRawStatsForTrack('subscriber'),\n            publisher ? getRawStatsForTrack('publisher') : undefined\n        ]);\n        const process = (report, kind)=>aggregate(transform(report, {\n                kind,\n                trackKind: 'video',\n                publisher\n            }));\n        const subscriberStats = subscriberRawStats ? process(subscriberRawStats, 'subscriber') : getEmptyStats();\n        const publisherStats = publisherRawStats ? process(publisherRawStats, 'publisher') : getEmptyStats();\n        state.setCallStatsReport({\n            datacenter,\n            publisherStats,\n            subscriberStats,\n            subscriberRawStats,\n            publisherRawStats,\n            participants: participantStats,\n            timestamp: Date.now()\n        });\n    };\n    let timeoutId;\n    if (pollingIntervalInMs > 0) {\n        const loop = async ()=>{\n            // bail out of the loop as we don't want to collect stats\n            // (they are expensive) if no one is listening to them\n            if (state.isCallStatsReportObserved) {\n                await run().catch((e)=>{\n                    logger('debug', 'Failed to collect stats', e);\n                });\n            }\n            timeoutId = setTimeout(loop, pollingIntervalInMs);\n        };\n        void loop();\n    }\n    const stop = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    };\n    return {\n        getRawStatsForTrack,\n        getStatsForStream,\n        startReportingStatsFor,\n        stopReportingStatsFor,\n        stop\n    };\n};\n/**\n * Transforms raw RTC stats into a slimmer and uniform across browsers format.\n *\n * @param report the report to transform.\n * @param opts the transform options.\n */ const transform = (report, opts)=>{\n    const { trackKind, kind, publisher } = opts;\n    const direction = kind === 'subscriber' ? 'inbound-rtp' : 'outbound-rtp';\n    const stats = flatten(report);\n    const streams = stats.filter((stat)=>stat.type === direction && stat.kind === trackKind).map((stat)=>{\n        const rtcStreamStats = stat;\n        const codec = stats.find((s)=>s.type === 'codec' && s.id === rtcStreamStats.codecId);\n        const transport = stats.find((s)=>s.type === 'transport' && s.id === rtcStreamStats.transportId);\n        let roundTripTime;\n        if (transport && transport.dtlsState === 'connected') {\n            const candidatePair = stats.find((s)=>s.type === 'candidate-pair' && s.id === transport.selectedCandidatePairId);\n            roundTripTime = candidatePair?.currentRoundTripTime;\n        }\n        let trackType;\n        if (kind === 'publisher' && publisher) {\n            const firefox = isFirefox();\n            const mediaSource = stats.find((s)=>s.type === 'media-source' && // Firefox doesn't have mediaSourceId, so we need to guess the media source\n                (firefox ? true : s.id === rtcStreamStats.mediaSourceId));\n            if (mediaSource) {\n                trackType = publisher.getTrackType(mediaSource.trackIdentifier);\n            }\n        }\n        return {\n            bytesSent: rtcStreamStats.bytesSent,\n            bytesReceived: rtcStreamStats.bytesReceived,\n            codec: codec?.mimeType,\n            currentRoundTripTime: roundTripTime,\n            frameHeight: rtcStreamStats.frameHeight,\n            frameWidth: rtcStreamStats.frameWidth,\n            framesPerSecond: rtcStreamStats.framesPerSecond,\n            jitter: rtcStreamStats.jitter,\n            kind: rtcStreamStats.kind,\n            mediaSourceId: rtcStreamStats.mediaSourceId,\n            qualityLimitationReason: rtcStreamStats.qualityLimitationReason,\n            rid: rtcStreamStats.rid,\n            ssrc: rtcStreamStats.ssrc,\n            trackType\n        };\n    });\n    return {\n        rawStats: report,\n        streams,\n        timestamp: Date.now()\n    };\n};\nconst getEmptyStats = (stats)=>{\n    return {\n        rawReport: stats ?? {\n            streams: [],\n            timestamp: Date.now()\n        },\n        totalBytesSent: 0,\n        totalBytesReceived: 0,\n        averageJitterInMs: 0,\n        averageRoundTripTimeInMs: 0,\n        qualityLimitationReasons: 'none',\n        highestFrameWidth: 0,\n        highestFrameHeight: 0,\n        highestFramesPerSecond: 0,\n        codec: '',\n        codecPerTrackType: {},\n        timestamp: Date.now()\n    };\n};\n/**\n * Aggregates generic stats.\n *\n * @param stats the stats to aggregate.\n */ const aggregate = (stats)=>{\n    const aggregatedStats = getEmptyStats(stats);\n    let maxArea = -1;\n    const area = (w, h)=>w * h;\n    const qualityLimitationReasons = new Set();\n    const streams = stats.streams;\n    const report = streams.reduce((acc, stream)=>{\n        acc.totalBytesSent += stream.bytesSent || 0;\n        acc.totalBytesReceived += stream.bytesReceived || 0;\n        acc.averageJitterInMs += stream.jitter || 0;\n        acc.averageRoundTripTimeInMs += stream.currentRoundTripTime || 0;\n        // naive calculation of the highest resolution\n        const streamArea = area(stream.frameWidth || 0, stream.frameHeight || 0);\n        if (streamArea > maxArea) {\n            acc.highestFrameWidth = stream.frameWidth || 0;\n            acc.highestFrameHeight = stream.frameHeight || 0;\n            acc.highestFramesPerSecond = stream.framesPerSecond || 0;\n            maxArea = streamArea;\n        }\n        qualityLimitationReasons.add(stream.qualityLimitationReason || '');\n        return acc;\n    }, aggregatedStats);\n    if (streams.length > 0) {\n        report.averageJitterInMs = Math.round(report.averageJitterInMs / streams.length * 1000);\n        report.averageRoundTripTimeInMs = Math.round(report.averageRoundTripTimeInMs / streams.length * 1000);\n        // we take the first codec we find, as it should be the same for all streams\n        report.codec = streams[0].codec || '';\n        report.codecPerTrackType = streams.reduce((acc, stream)=>{\n            if (stream.trackType) {\n                acc[stream.trackType] = stream.codec || '';\n            }\n            return acc;\n        }, {});\n    }\n    const qualityLimitationReason = [\n        qualityLimitationReasons.has('cpu') && 'cpu',\n        qualityLimitationReasons.has('bandwidth') && 'bandwidth',\n        qualityLimitationReasons.has('other') && 'other'\n    ].filter(Boolean).join(', ');\n    if (qualityLimitationReason) {\n        report.qualityLimitationReasons = qualityLimitationReason;\n    }\n    return report;\n};\nclass SfuStatsReporter {\n    constructor(sfuClient, { options, clientDetails, subscriber, publisher, microphone, camera, state, tracer, unifiedSessionId }){\n        this.logger = getLogger([\n            'SfuStatsReporter'\n        ]);\n        this.inputDevices = new Map();\n        this.observeDevice = (device, kind)=>{\n            const { browserPermissionState$ } = device.state;\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n                browserPermissionState$,\n                this.state.ownCapabilities$\n            ]), ([browserPermissionState, ownCapabilities])=>{\n                // cleanup the previous listDevices() subscription in case\n                // permissions or capabilities have changed.\n                // we will subscribe again if everything is in order.\n                this.unsubscribeListDevicesSubscription?.();\n                const hasCapability = kind === 'mic' ? ownCapabilities.includes(OwnCapability.SEND_AUDIO) : ownCapabilities.includes(OwnCapability.SEND_VIDEO);\n                if (browserPermissionState !== 'granted' || !hasCapability) {\n                    this.inputDevices.set(kind, {\n                        currentDevice: '',\n                        availableDevices: [],\n                        isPermitted: false\n                    });\n                    return;\n                }\n                this.unsubscribeListDevicesSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n                    device.listDevices(),\n                    device.state.selectedDevice$\n                ]), ([devices, deviceId])=>{\n                    const selected = devices.find((d)=>d.deviceId === deviceId);\n                    this.inputDevices.set(kind, {\n                        currentDevice: selected?.label || deviceId || '',\n                        availableDevices: devices.map((d)=>d.label),\n                        isPermitted: true\n                    });\n                });\n            });\n        };\n        this.sendConnectionTime = (connectionTimeSeconds)=>{\n            this.sendTelemetryData({\n                data: {\n                    oneofKind: 'connectionTimeSeconds',\n                    connectionTimeSeconds\n                }\n            });\n        };\n        this.sendReconnectionTime = (strategy, timeSeconds)=>{\n            this.sendTelemetryData({\n                data: {\n                    oneofKind: 'reconnection',\n                    reconnection: {\n                        strategy,\n                        timeSeconds\n                    }\n                }\n            });\n        };\n        this.sendTelemetryData = (telemetryData)=>{\n            // intentionally not awaiting the promise here\n            // to avoid impeding with the ongoing actions.\n            this.run(telemetryData).catch((err)=>{\n                this.logger('warn', 'Failed to send telemetry data', err);\n            });\n        };\n        this.run = async (telemetry)=>{\n            const [subscriberStats, publisherStats] = await Promise.all([\n                this.subscriber.stats.get(),\n                this.publisher?.stats.get()\n            ]);\n            this.subscriber.tracer?.trace('getstats', subscriberStats.delta);\n            if (publisherStats) {\n                this.publisher?.tracer?.trace('getstats', publisherStats.delta);\n            }\n            const subscriberTrace = this.subscriber.tracer?.take();\n            const publisherTrace = this.publisher?.tracer?.take();\n            const tracer = this.tracer.take();\n            const sfuTrace = this.sfuClient.getTrace();\n            const traces = [\n                ...tracer.snapshot,\n                ...sfuTrace?.snapshot ?? [],\n                ...publisherTrace?.snapshot ?? [],\n                ...subscriberTrace?.snapshot ?? []\n            ];\n            try {\n                await this.sfuClient.sendStats({\n                    sdk: this.sdkName,\n                    sdkVersion: this.sdkVersion,\n                    webrtcVersion: this.webRTCVersion,\n                    subscriberStats: JSON.stringify(flatten(subscriberStats.stats)),\n                    publisherStats: publisherStats ? JSON.stringify(flatten(publisherStats.stats)) : '[]',\n                    subscriberRtcStats: '',\n                    publisherRtcStats: '',\n                    rtcStats: JSON.stringify(traces),\n                    encodeStats: publisherStats?.performanceStats ?? [],\n                    decodeStats: subscriberStats.performanceStats,\n                    audioDevices: this.inputDevices.get('mic'),\n                    videoDevices: this.inputDevices.get('camera'),\n                    unifiedSessionId: this.unifiedSessionId,\n                    deviceState: getDeviceState(),\n                    telemetry\n                });\n            } catch (err) {\n                publisherTrace?.rollback();\n                subscriberTrace?.rollback();\n                tracer.rollback();\n                sfuTrace?.rollback();\n                throw err;\n            }\n        };\n        this.start = ()=>{\n            if (this.options.reporting_interval_ms <= 0) return;\n            this.observeDevice(this.microphone, 'mic');\n            this.observeDevice(this.camera, 'camera');\n            clearInterval(this.intervalId);\n            this.intervalId = setInterval(()=>{\n                this.run().catch((err)=>{\n                    this.logger('warn', 'Failed to report stats', err);\n                });\n            }, this.options.reporting_interval_ms);\n        };\n        this.stop = ()=>{\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = undefined;\n            this.unsubscribeListDevicesSubscription?.();\n            this.unsubscribeListDevicesSubscription = undefined;\n            this.inputDevices.clear();\n            clearInterval(this.intervalId);\n            this.intervalId = undefined;\n            clearTimeout(this.timeoutId);\n            this.timeoutId = undefined;\n        };\n        this.flush = ()=>{\n            this.run().catch((err)=>{\n                this.logger('warn', 'Failed to flush report stats', err);\n            });\n        };\n        this.scheduleOne = (timeout)=>{\n            clearTimeout(this.timeoutId);\n            this.timeoutId = setTimeout(()=>{\n                this.run().catch((err)=>{\n                    this.logger('warn', 'Failed to report stats', err);\n                });\n            }, timeout);\n        };\n        this.sfuClient = sfuClient;\n        this.options = options;\n        this.subscriber = subscriber;\n        this.publisher = publisher;\n        this.microphone = microphone;\n        this.camera = camera;\n        this.state = state;\n        this.tracer = tracer;\n        this.unifiedSessionId = unifiedSessionId;\n        const { sdk, browser } = clientDetails;\n        this.sdkName = getSdkName(sdk);\n        this.sdkVersion = getSdkVersion(sdk);\n        // use the WebRTC version if set by the SDK (React Native) otherwise,\n        // use the browser version as a fallback\n        const webRTCInfo = getWebRTCInfo();\n        this.webRTCVersion = webRTCInfo?.version || `${browser?.name || ''}-${browser?.version || ''}` || 'N/A';\n    }\n}\nconst traceRTCPeerConnection = (pc, trace)=>{\n    pc.addEventListener('icecandidate', (e)=>{\n        trace('onicecandidate', e.candidate);\n    });\n    pc.addEventListener('track', (e)=>{\n        const streams = e.streams.map((stream)=>`stream:${stream.id}`);\n        trace('ontrack', `${e.track.kind}:${e.track.id} ${streams}`);\n    });\n    pc.addEventListener('signalingstatechange', ()=>{\n        trace('signalingstatechange', pc.signalingState);\n    });\n    pc.addEventListener('iceconnectionstatechange', ()=>{\n        trace('iceconnectionstatechange', pc.iceConnectionState);\n    });\n    pc.addEventListener('icegatheringstatechange', ()=>{\n        trace('icegatheringstatechange', pc.iceGatheringState);\n    });\n    pc.addEventListener('connectionstatechange', ()=>{\n        trace('connectionstatechange', pc.connectionState);\n    });\n    pc.addEventListener('negotiationneeded', ()=>{\n        trace('negotiationneeded', undefined);\n    });\n    pc.addEventListener('datachannel', ({ channel })=>{\n        trace('datachannel', [\n            channel.id,\n            channel.label\n        ]);\n    });\n    const origClose = pc.close;\n    pc.close = function tracedClose() {\n        trace('close', undefined);\n        return origClose.call(this);\n    };\n    for (const method of [\n        'createOffer',\n        'createAnswer',\n        'setLocalDescription',\n        'setRemoteDescription',\n        'addIceCandidate'\n    ]){\n        const original = pc[method];\n        if (!original) continue;\n        // @ts-expect-error we don't use deprecated APIs\n        pc[method] = async function tracedMethod(...args) {\n            try {\n                trace(method, args);\n                // @ts-expect-error improper types\n                const result = await original.apply(this, args);\n                trace(`${method}OnSuccess`, result);\n                return result;\n            } catch (err) {\n                trace(`${method}OnFailure`, err.toString());\n                throw err;\n            }\n        };\n    }\n};\n/**\n * StatsTracer is a class that collects and processes WebRTC stats.\n * It is used to track the performance of the WebRTC connection\n * and to provide information about the media streams.\n * It is used by both the Publisher and Subscriber classes.\n *\n * @internal\n */ class StatsTracer {\n    /**\n     * Creates a new StatsTracer instance.\n     */ constructor(pc, peerType, trackIdToTrackType){\n        this.previousStats = {};\n        this.frameTimeHistory = [];\n        this.fpsHistory = [];\n        /**\n         * Get the stats from the RTCPeerConnection.\n         * When called, it will return the stats for the current connection.\n         * It will also return the delta between the current stats and the previous stats.\n         * This is used to track the performance of the connection.\n         *\n         * @internal\n         */ this.get = async ()=>{\n            const stats = await this.pc.getStats();\n            const currentStats = toObject(stats);\n            const performanceStats = this.withOverrides(this.peerType === PeerType.SUBSCRIBER ? this.getDecodeStats(currentStats) : this.getEncodeStats(currentStats));\n            const delta = deltaCompression(this.previousStats, currentStats);\n            // store the current data for the next iteration\n            this.previousStats = currentStats;\n            this.frameTimeHistory = this.frameTimeHistory.slice(-2);\n            this.fpsHistory = this.fpsHistory.slice(-2);\n            return {\n                performanceStats,\n                delta,\n                stats\n            };\n        };\n        /**\n         * Collects encode stats from the RTCPeerConnection.\n         */ this.getEncodeStats = (currentStats)=>{\n            const encodeStats = [];\n            for (const rtp of Object.values(currentStats)){\n                if (rtp.type !== 'outbound-rtp') continue;\n                const { codecId, framesSent = 0, kind, id, totalEncodeTime = 0, framesPerSecond = 0, frameHeight = 0, frameWidth = 0, targetBitrate = 0, mediaSourceId } = rtp;\n                if (kind === 'audio' || !this.previousStats[id]) continue;\n                const prevRtp = this.previousStats[id];\n                const deltaTotalEncodeTime = totalEncodeTime - (prevRtp.totalEncodeTime || 0);\n                const deltaFramesSent = framesSent - (prevRtp.framesSent || 0);\n                const framesEncodeTime = deltaFramesSent > 0 ? deltaTotalEncodeTime / deltaFramesSent * 1000 : 0;\n                this.frameTimeHistory.push(framesEncodeTime);\n                this.fpsHistory.push(framesPerSecond);\n                let trackType = TrackType.VIDEO;\n                if (mediaSourceId && currentStats[mediaSourceId]) {\n                    const mediaSource = currentStats[mediaSourceId];\n                    trackType = this.trackIdToTrackType.get(mediaSource.trackIdentifier) || trackType;\n                }\n                encodeStats.push({\n                    trackType,\n                    codec: getCodecFromStats(currentStats, codecId),\n                    avgFrameTimeMs: average(this.frameTimeHistory),\n                    avgFps: average(this.fpsHistory),\n                    targetBitrate: Math.round(targetBitrate),\n                    videoDimension: {\n                        width: frameWidth,\n                        height: frameHeight\n                    }\n                });\n            }\n            return encodeStats;\n        };\n        /**\n         * Collects decode stats from the RTCPeerConnection.\n         */ this.getDecodeStats = (currentStats)=>{\n            let rtp = undefined;\n            let max = 0;\n            for (const item of Object.values(currentStats)){\n                if (item.type !== 'inbound-rtp') continue;\n                const rtpItem = item;\n                const { kind, frameWidth = 0, frameHeight = 0 } = rtpItem;\n                const area = frameWidth * frameHeight;\n                if (kind === 'video' && area > max) {\n                    rtp = rtpItem;\n                    max = area;\n                }\n            }\n            if (!rtp || !this.previousStats[rtp.id]) return [];\n            const prevRtp = this.previousStats[rtp.id];\n            const { framesDecoded = 0, framesPerSecond = 0, totalDecodeTime = 0, trackIdentifier } = rtp;\n            const deltaTotalDecodeTime = totalDecodeTime - (prevRtp.totalDecodeTime || 0);\n            const deltaFramesDecoded = framesDecoded - (prevRtp.framesDecoded || 0);\n            const framesDecodeTime = deltaFramesDecoded > 0 ? deltaTotalDecodeTime / deltaFramesDecoded * 1000 : 0;\n            this.frameTimeHistory.push(framesDecodeTime);\n            this.fpsHistory.push(framesPerSecond);\n            const trackType = this.trackIdToTrackType.get(trackIdentifier) || TrackType.VIDEO;\n            return [\n                PerformanceStats.create({\n                    trackType,\n                    codec: getCodecFromStats(currentStats, rtp.codecId),\n                    avgFrameTimeMs: average(this.frameTimeHistory),\n                    avgFps: average(this.fpsHistory),\n                    videoDimension: {\n                        width: rtp.frameWidth,\n                        height: rtp.frameHeight\n                    }\n                })\n            ];\n        };\n        /**\n         * Applies cost overrides to the performance stats.\n         * This is used to override the default encode/decode times with custom values.\n         * This is useful for testing and debugging purposes, and it shouldn't be used in production.\n         */ this.withOverrides = (performanceStats)=>{\n            if (this.costOverrides) {\n                for (const s of performanceStats){\n                    const override = this.costOverrides.get(s.trackType);\n                    if (override !== undefined) {\n                        // override the average encode/decode time with the provided cost.\n                        // format: [override].[original-frame-time]\n                        s.avgFrameTimeMs = override + (s.avgFrameTimeMs || 0) / 1000;\n                    }\n                }\n            }\n            return performanceStats;\n        };\n        /**\n         * Set the encode/decode cost for a specific track type.\n         * This is used to override the default encode/decode times with custom values.\n         * This is useful for testing and debugging purposes, and it shouldn't be used in production.\n         *\n         * @internal\n         */ this.setCost = (cost, trackType = TrackType.VIDEO)=>{\n            if (!this.costOverrides) this.costOverrides = new Map();\n            this.costOverrides.set(trackType, cost);\n        };\n        this.pc = pc;\n        this.peerType = peerType;\n        this.trackIdToTrackType = trackIdToTrackType;\n    }\n}\n/**\n * Convert the stat report to an object.\n *\n * @param report the stat report to convert.\n */ const toObject = (report)=>{\n    const obj = {};\n    report.forEach((v, k)=>{\n        obj[k] = v;\n    });\n    return obj;\n};\n/**\n * Apply delta compression to the stats report.\n * Reduces size by ~90%.\n * To reduce further, report keys could be compressed.\n */ const deltaCompression = (oldStats, newStats)=>{\n    newStats = JSON.parse(JSON.stringify(newStats));\n    for (const [id, report] of Object.entries(newStats)){\n        delete report.id;\n        if (!oldStats[id]) continue;\n        for (const [name, value] of Object.entries(report)){\n            if (value === oldStats[id][name]) {\n                delete report[name];\n            }\n        }\n    }\n    let timestamp = -Infinity;\n    const values = Object.values(newStats);\n    for (const report of values){\n        if (report.timestamp > timestamp) {\n            timestamp = report.timestamp;\n        }\n    }\n    for (const report of values){\n        if (report.timestamp === timestamp) {\n            report.timestamp = 0;\n        }\n    }\n    newStats.timestamp = timestamp;\n    return newStats;\n};\n/**\n * Calculates an average value.\n */ const average = (arr)=>arr.reduce((a, b)=>a + b, 0) / arr.length;\n/**\n * Create a Codec object from the codec stats.\n *\n * @param stats the stats report.\n * @param codecId the codec ID to look for.\n */ const getCodecFromStats = (stats, codecId)=>{\n    if (!codecId || !stats[codecId]) return;\n    const codecStats = stats[codecId];\n    return Codec.create({\n        name: codecStats.mimeType.split('/').pop(),\n        clockRate: codecStats.clockRate,\n        payloadType: codecStats.payloadType,\n        fmtp: codecStats.sdpFmtpLine\n    });\n};\nclass Tracer {\n    constructor(id){\n        this.buffer = [];\n        this.enabled = true;\n        this.setEnabled = (enabled)=>{\n            if (this.enabled === enabled) return;\n            this.enabled = enabled;\n            this.buffer = [];\n        };\n        this.trace = (tag, data)=>{\n            if (!this.enabled) return;\n            this.buffer.push([\n                tag,\n                this.id,\n                data,\n                Date.now()\n            ]);\n        };\n        this.traceOnce = (key, tag, data)=>{\n            if (this.keys?.has(key)) return;\n            this.trace(tag, data);\n            (this.keys ?? (this.keys = new Map())).set(key, true);\n        };\n        this.resetTrace = (key)=>{\n            this.keys?.delete(key);\n        };\n        this.take = ()=>{\n            const snapshot = this.buffer;\n            this.buffer = [];\n            return {\n                snapshot,\n                rollback: ()=>{\n                    this.buffer.unshift(...snapshot);\n                }\n            };\n        };\n        this.dispose = ()=>{\n            this.buffer = [];\n            this.keys?.clear();\n        };\n        this.id = id;\n    }\n}\n/**\n * A base class for the `Publisher` and `Subscriber` classes.\n * @internal\n */ class BasePeerConnection {\n    /**\n     * Constructs a new `BasePeerConnection` instance.\n     */ constructor(peerType, { sfuClient, connectionConfig, state, dispatcher, onReconnectionNeeded, tag, enableTracing, iceRestartDelay = 2500 }){\n        this.isIceRestarting = false;\n        this.isDisposed = false;\n        this.trackIdToTrackType = new Map();\n        this.subscriptions = [];\n        this.lock = Math.random().toString(36).slice(2);\n        this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            pc.addEventListener('icecandidate', this.onIceCandidate);\n            pc.addEventListener('icecandidateerror', this.onIceCandidateError);\n            pc.addEventListener('iceconnectionstatechange', this.onIceConnectionStateChange);\n            pc.addEventListener('icegatheringstatechange', this.onIceGatherChange);\n            pc.addEventListener('signalingstatechange', this.onSignalingChange);\n            pc.addEventListener('connectionstatechange', this.onConnectionStateChange);\n            return pc;\n        };\n        /**\n         * Attempts to restart ICE on the `RTCPeerConnection`.\n         * This method intentionally doesn't await the `restartIce()` method,\n         * allowing it to run in the background and handle any errors that may occur.\n         */ this.tryRestartIce = ()=>{\n            this.restartIce().catch((e)=>{\n                const reason = 'restartICE() failed, initiating reconnect';\n                this.logger('error', reason, e);\n                const strategy = e instanceof NegotiationError && e.error.code === ErrorCode.PARTICIPANT_SIGNAL_LOST ? WebsocketReconnectStrategy.FAST : WebsocketReconnectStrategy.REJOIN;\n                this.onReconnectionNeeded?.(strategy, reason);\n            });\n        };\n        /**\n         * Handles events synchronously.\n         * Consecutive events are queued and executed one after the other.\n         */ this.on = (event, fn)=>{\n            this.subscriptions.push(this.dispatcher.on(event, (e)=>{\n                const lockKey = `pc.${this.lock}.${event}`;\n                withoutConcurrency(lockKey, async ()=>fn(e)).catch((err)=>{\n                    if (this.isDisposed) return;\n                    this.logger('warn', `Error handling ${event}`, err);\n                });\n            }));\n        };\n        /**\n         * Appends the trickled ICE candidates to the `RTCPeerConnection`.\n         */ this.addTrickledIceCandidates = ()=>{\n            const { iceTrickleBuffer } = this.sfuClient;\n            const observable = this.peerType === PeerType.SUBSCRIBER ? iceTrickleBuffer.subscriberCandidates : iceTrickleBuffer.publisherCandidates;\n            this.unsubscribeIceTrickle?.();\n            this.unsubscribeIceTrickle = createSafeAsyncSubscription(observable, async (candidate)=>{\n                return this.pc.addIceCandidate(candidate).catch((e)=>{\n                    if (this.isDisposed) return;\n                    this.logger('warn', `ICE candidate error`, e, candidate);\n                });\n            });\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector an optional `MediaStreamTrack` to get the stats for.\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        /**\n         * Maps the given track ID to the corresponding track type.\n         */ this.getTrackType = (trackId)=>{\n            return this.trackIdToTrackType.get(trackId);\n        };\n        /**\n         * Checks if the `RTCPeerConnection` is healthy.\n         * It checks the ICE connection state and the peer connection state.\n         * If either state is `failed`, `disconnected`, or `closed`,\n         * it returns `false`, otherwise it returns `true`.\n         */ this.isHealthy = ()=>{\n            const failedStates = new Set([\n                'failed',\n                'closed'\n            ]);\n            const iceState = this.pc.iceConnectionState;\n            const connectionState = this.pc.connectionState;\n            return !failedStates.has(iceState) && !failedStates.has(connectionState);\n        };\n        /**\n         * Handles the ICECandidate event and\n         * Initiates an ICE Trickle process with the SFU.\n         */ this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger('debug', 'null ice candidate');\n                return;\n            }\n            const iceCandidate = this.asJSON(candidate);\n            this.sfuClient.iceTrickle({\n                peerType: this.peerType,\n                iceCandidate\n            }).catch((err)=>{\n                if (this.isDisposed) return;\n                this.logger('warn', `ICETrickle failed`, err);\n            });\n        };\n        /**\n         * Converts the ICE candidate to a JSON string.\n         */ this.asJSON = (candidate)=>{\n            if (!candidate.usernameFragment) {\n                // react-native-webrtc doesn't include usernameFragment in the candidate\n                const segments = candidate.candidate.split(' ');\n                const ufragIndex = segments.findIndex((s)=>s === 'ufrag') + 1;\n                const usernameFragment = segments[ufragIndex];\n                return JSON.stringify({\n                    ...candidate,\n                    usernameFragment\n                });\n            }\n            return JSON.stringify(candidate.toJSON());\n        };\n        /**\n         * Handles the ConnectionStateChange event.\n         */ this.onConnectionStateChange = async ()=>{\n            const state = this.pc.connectionState;\n            this.logger('debug', `Connection state changed`, state);\n            if (this.tracer && (state === 'connected' || state === 'failed')) {\n                try {\n                    const stats = await this.stats.get();\n                    this.tracer.trace('getstats', stats.delta);\n                } catch (err) {\n                    this.tracer.trace('getstatsOnFailure', err.toString());\n                }\n            }\n            // we can't recover from a failed connection state (contrary to ICE)\n            if (state === 'failed') {\n                this.onReconnectionNeeded?.(WebsocketReconnectStrategy.REJOIN, 'Connection failed');\n                return;\n            }\n            this.handleConnectionStateUpdate(state);\n        };\n        /**\n         * Handles the ICE connection state change event.\n         */ this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger('debug', `ICE connection state changed`, state);\n            this.handleConnectionStateUpdate(state);\n        };\n        this.handleConnectionStateUpdate = (state)=>{\n            const { callingState } = this.state;\n            if (callingState === CallingState.OFFLINE) return;\n            if (callingState === CallingState.RECONNECTING) return;\n            // do nothing when ICE is restarting\n            if (this.isIceRestarting) return;\n            switch(state){\n                case 'failed':\n                    // in the `failed` state, we try to restart ICE immediately\n                    this.logger('info', 'restartICE due to failed connection');\n                    this.tryRestartIce();\n                    break;\n                case 'disconnected':\n                    // in the `disconnected` state, we schedule a restartICE() after a delay\n                    // as the browser might recover the connection in the meantime\n                    this.logger('info', 'disconnected connection, scheduling restartICE');\n                    clearTimeout(this.iceRestartTimeout);\n                    this.iceRestartTimeout = setTimeout(()=>{\n                        const currentState = this.pc.iceConnectionState;\n                        if (currentState === 'disconnected' || currentState === 'failed') {\n                            this.tryRestartIce();\n                        }\n                    }, this.iceRestartDelay);\n                    break;\n                case 'connected':\n                    // in the `connected` state, we clear the ice restart timeout if it exists\n                    if (this.iceRestartTimeout) {\n                        this.logger('info', 'connected connection, canceling restartICE');\n                        clearTimeout(this.iceRestartTimeout);\n                        this.iceRestartTimeout = undefined;\n                    }\n                    break;\n            }\n        };\n        /**\n         * Handles the ICE candidate error event.\n         */ this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent ? `${e.errorCode}: ${e.errorText}` : e;\n            this.logger('debug', 'ICE Candidate error', errorMessage);\n        };\n        /**\n         * Handles the ICE gathering state change event.\n         */ this.onIceGatherChange = ()=>{\n            this.logger('debug', `ICE Gathering State`, this.pc.iceGatheringState);\n        };\n        /**\n         * Handles the signaling state change event.\n         */ this.onSignalingChange = ()=>{\n            this.logger('debug', `Signaling state changed`, this.pc.signalingState);\n        };\n        this.peerType = peerType;\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.dispatcher = dispatcher;\n        this.iceRestartDelay = iceRestartDelay;\n        this.onReconnectionNeeded = onReconnectionNeeded;\n        this.logger = getLogger([\n            peerType === PeerType.SUBSCRIBER ? 'Subscriber' : 'Publisher',\n            tag\n        ]);\n        this.pc = this.createPeerConnection(connectionConfig);\n        this.stats = new StatsTracer(this.pc, peerType, this.trackIdToTrackType);\n        if (enableTracing) {\n            this.tracer = new Tracer(`${tag}-${peerType === PeerType.SUBSCRIBER ? 'sub' : 'pub'}`);\n            this.tracer.trace('create', {\n                url: sfuClient.edgeName,\n                ...connectionConfig\n            });\n            traceRTCPeerConnection(this.pc, this.tracer.trace);\n        }\n    }\n    /**\n     * Disposes the `RTCPeerConnection` instance.\n     */ dispose() {\n        clearTimeout(this.iceRestartTimeout);\n        this.iceRestartTimeout = undefined;\n        this.onReconnectionNeeded = undefined;\n        this.isDisposed = true;\n        this.detachEventHandlers();\n        this.pc.close();\n        this.tracer?.dispose();\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     */ detachEventHandlers() {\n        const pc = this.pc;\n        pc.removeEventListener('icecandidate', this.onIceCandidate);\n        pc.removeEventListener('icecandidateerror', this.onIceCandidateError);\n        pc.removeEventListener('signalingstatechange', this.onSignalingChange);\n        pc.removeEventListener('iceconnectionstatechange', this.onIceConnectionStateChange);\n        pc.removeEventListener('icegatheringstatechange', this.onIceGatherChange);\n        this.unsubscribeIceTrickle?.();\n        this.subscriptions.forEach((unsubscribe)=>unsubscribe());\n    }\n}\nclass TransceiverCache {\n    constructor(){\n        this.cache = [];\n        this.layers = [];\n        /**\n         * An array maintaining the order how transceivers were added to the peer connection.\n         * This is needed because some browsers (Firefox) don't reliably report\n         * trackId and `mid` parameters.\n         */ this.transceiverOrder = [];\n        /**\n         * Adds a transceiver to the cache.\n         */ this.add = (publishOption, transceiver)=>{\n            this.cache.push({\n                publishOption,\n                transceiver\n            });\n            this.transceiverOrder.push(transceiver);\n        };\n        /**\n         * Gets the transceiver for the given publish option.\n         */ this.get = (publishOption)=>{\n            return this.findTransceiver(publishOption)?.transceiver;\n        };\n        /**\n         * Checks if the cache has the given publish option.\n         */ this.has = (publishOption)=>{\n            return !!this.get(publishOption);\n        };\n        /**\n         * Finds the first transceiver that satisfies the given predicate.\n         */ this.find = (predicate)=>{\n            return this.cache.find(predicate);\n        };\n        /**\n         * Provides all the items in the cache.\n         */ this.items = ()=>{\n            return this.cache;\n        };\n        /**\n         * Init index of the transceiver in the cache.\n         */ this.indexOf = (transceiver)=>{\n            return this.transceiverOrder.indexOf(transceiver);\n        };\n        /**\n         * Gets cached video layers for the given track.\n         */ this.getLayers = (publishOption)=>{\n            const entry = this.layers.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n            return entry?.layers;\n        };\n        /**\n         * Sets the video layers for the given track.\n         */ this.setLayers = (publishOption, layers = [])=>{\n            const entry = this.findLayer(publishOption);\n            if (entry) {\n                entry.layers = layers;\n            } else {\n                this.layers.push({\n                    publishOption,\n                    layers\n                });\n            }\n        };\n        this.findTransceiver = (publishOption)=>{\n            return this.cache.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n        };\n        this.findLayer = (publishOption)=>{\n            return this.layers.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n        };\n    }\n}\nconst ensureExhausted = (x, message)=>{\n    getLogger([\n        'helpers'\n    ])('warn', message, x);\n};\nconst trackTypeToParticipantStreamKey = (trackType)=>{\n    switch(trackType){\n        case TrackType.SCREEN_SHARE:\n            return 'screenShareStream';\n        case TrackType.SCREEN_SHARE_AUDIO:\n            return 'screenShareAudioStream';\n        case TrackType.VIDEO:\n            return 'videoStream';\n        case TrackType.AUDIO:\n            return 'audioStream';\n        case TrackType.UNSPECIFIED:\n            throw new Error('Track type is unspecified');\n        default:\n            ensureExhausted(trackType, 'Unknown track type');\n    }\n};\nconst muteTypeToTrackType = (muteType)=>{\n    switch(muteType){\n        case 'audio':\n            return TrackType.AUDIO;\n        case 'video':\n            return TrackType.VIDEO;\n        case 'screenshare':\n            return TrackType.SCREEN_SHARE;\n        case 'screenshare_audio':\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            ensureExhausted(muteType, 'Unknown mute type');\n    }\n};\nconst toTrackType = (trackType)=>{\n    switch(trackType){\n        case 'TRACK_TYPE_AUDIO':\n            return TrackType.AUDIO;\n        case 'TRACK_TYPE_VIDEO':\n            return TrackType.VIDEO;\n        case 'TRACK_TYPE_SCREEN_SHARE':\n            return TrackType.SCREEN_SHARE;\n        case 'TRACK_TYPE_SCREEN_SHARE_AUDIO':\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            return undefined;\n    }\n};\nconst isAudioTrackType = (trackType)=>trackType === TrackType.AUDIO || trackType === TrackType.SCREEN_SHARE_AUDIO;\nconst defaultBitratePerRid = {\n    q: 300000,\n    h: 750000,\n    f: 1250000\n};\n/**\n * In SVC, we need to send only one video encoding (layer).\n * this layer will have the additional spatial and temporal layers\n * defined via the scalabilityMode property.\n *\n * @param layers the layers to process.\n */ const toSvcEncodings = (layers)=>{\n    if (!layers) return;\n    // we take the highest quality layer, and we assign it to `q` encoder.\n    const withRid = (rid)=>(l)=>l.rid === rid;\n    const highestLayer = layers.find(withRid('f')) || layers.find(withRid('h')) || layers.find(withRid('q'));\n    return [\n        {\n            ...highestLayer,\n            rid: 'q'\n        }\n    ];\n};\n/**\n * Converts the rid to a video quality.\n */ const ridToVideoQuality = (rid)=>{\n    return rid === 'q' ? VideoQuality.LOW_UNSPECIFIED : rid === 'h' ? VideoQuality.MID : VideoQuality.HIGH; // default to HIGH\n};\n/**\n * Converts the given video layers to SFU video layers.\n */ const toVideoLayers = (layers = [])=>{\n    return layers.map((layer)=>({\n            rid: layer.rid || '',\n            bitrate: layer.maxBitrate || 0,\n            fps: layer.maxFramerate || 0,\n            quality: ridToVideoQuality(layer.rid || ''),\n            videoDimension: {\n                width: layer.width,\n                height: layer.height\n            }\n        }));\n};\n/**\n * Converts the spatial and temporal layers to a scalability mode.\n */ const toScalabilityMode = (spatialLayers, temporalLayers)=>`L${spatialLayers}T${temporalLayers}${spatialLayers > 1 ? '_KEY' : ''}`;\n/**\n * Determines the most optimal video layers for the given track.\n *\n * @param videoTrack the video track to find optimal layers for.\n * @param publishOption the publish options for the track.\n */ const computeVideoLayers = (videoTrack, publishOption)=>{\n    if (isAudioTrackType(publishOption.trackType)) return;\n    const optimalVideoLayers = [];\n    const { bitrate, codec, fps = 30, maxSpatialLayers = 3, maxTemporalLayers = 3, videoDimension = {\n        width: 1280,\n        height: 720\n    }, useSingleLayer } = publishOption;\n    const { width = videoDimension.width, height = videoDimension.height } = videoTrack.getSettings();\n    const maxBitrate = getComputedMaxBitrate(videoDimension, width, height, bitrate);\n    let downscaleFactor = 1;\n    let bitrateFactor = 1;\n    const svcCodec = isSvcCodec(codec?.name);\n    for (const rid of [\n        'f',\n        'h',\n        'q'\n    ].slice(0, maxSpatialLayers)){\n        const layer = {\n            active: true,\n            rid,\n            width: Math.round(width / downscaleFactor),\n            height: Math.round(height / downscaleFactor),\n            maxBitrate: Math.round(maxBitrate / bitrateFactor) || defaultBitratePerRid[rid],\n            maxFramerate: fps\n        };\n        if (svcCodec) {\n            // for SVC codecs, we need to set the scalability mode, and the\n            // codec will handle the rest (layers, temporal layers, etc.)\n            layer.scalabilityMode = toScalabilityMode(useSingleLayer ? 1 : maxSpatialLayers, maxTemporalLayers);\n        } else {\n            // for non-SVC codecs, we need to downscale proportionally (simulcast)\n            layer.scaleResolutionDownBy = downscaleFactor;\n        }\n        downscaleFactor *= 2;\n        bitrateFactor *= 2;\n        // Reversing the order [f, h, q] to [q, h, f] as Chrome uses encoding index\n        // when deciding which layer to disable when CPU or bandwidth is constrained.\n        // Encodings should be ordered in increasing spatial resolution order.\n        optimalVideoLayers.unshift(layer);\n    }\n    // for simplicity, we start with all layers enabled, then this function\n    // will clear/reassign the layers that are not needed\n    return withSimulcastConstraints(width, height, optimalVideoLayers, useSingleLayer);\n};\n/**\n * Computes the maximum bitrate for a given resolution.\n * If the current resolution is lower than the target resolution,\n * we want to proportionally reduce the target bitrate.\n * If the current resolution is higher than the target resolution,\n * we want to use the target bitrate.\n *\n * @param targetResolution the target resolution.\n * @param currentWidth the current width of the track.\n * @param currentHeight the current height of the track.\n * @param bitrate the target bitrate.\n */ const getComputedMaxBitrate = (targetResolution, currentWidth, currentHeight, bitrate)=>{\n    // if the current resolution is lower than the target resolution,\n    // we want to proportionally reduce the target bitrate\n    const { width: targetWidth, height: targetHeight } = targetResolution;\n    if (currentWidth < targetWidth || currentHeight < targetHeight) {\n        const currentPixels = currentWidth * currentHeight;\n        const targetPixels = targetWidth * targetHeight;\n        const reductionFactor = currentPixels / targetPixels;\n        return Math.round(bitrate * reductionFactor);\n    }\n    return bitrate;\n};\n/**\n * Browsers have different simulcast constraints for different video resolutions.\n *\n * This function modifies the provided list of video layers according to the\n * current implementation of simulcast constraints in the Chromium based browsers.\n *\n * https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/media/engine/simulcast.cc#90\n */ const withSimulcastConstraints = (width, height, optimalVideoLayers, useSingleLayer)=>{\n    let layers;\n    const size = Math.max(width, height);\n    if (size <= 320) {\n        // provide only one layer 320x240 (f), the one with the highest quality\n        layers = optimalVideoLayers.filter((layer)=>layer.rid === 'f');\n    } else if (size <= 640) {\n        // provide two layers, 320x240 (h) and 640x480 (f)\n        layers = optimalVideoLayers.filter((layer)=>layer.rid !== 'q');\n    } else {\n        // provide three layers for sizes > 640x480\n        layers = optimalVideoLayers;\n    }\n    // we might have removed some layers, so we need to reassign the rid\n    // to match the expected order of [q, h, f] for simulcast\n    const ridMapping = [\n        'q',\n        'h',\n        'f'\n    ];\n    return layers.map((layer, index, arr)=>({\n            ...layer,\n            rid: ridMapping[index],\n            active: useSingleLayer && index < arr.length - 1 ? false : layer.active\n        }));\n};\n/**\n * Extracts the mid from the transceiver or the SDP.\n *\n * @param transceiver the transceiver.\n * @param transceiverInitIndex the index of the transceiver in the transceiver's init array.\n * @param sdp the SDP.\n */ const extractMid = (transceiver, transceiverInitIndex, sdp)=>{\n    if (transceiver.mid) return transceiver.mid;\n    if (!sdp) return String(transceiverInitIndex);\n    const track = transceiver.sender.track;\n    const parsedSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse)(sdp);\n    const media = parsedSdp.media.find((m)=>{\n        return m.type === track.kind && // if `msid` is not present, we assume that the track is the first one\n        (m.msid?.includes(track.id) ?? true);\n    });\n    if (typeof media?.mid !== 'undefined') return String(media.mid);\n    if (transceiverInitIndex < 0) return '';\n    return String(transceiverInitIndex);\n};\n/**\n * Enables stereo in the answer SDP based on the offered stereo in the offer SDP.\n *\n * @param offerSdp the offer SDP containing the stereo configuration.\n * @param answerSdp the answer SDP to be modified.\n */ const enableStereo = (offerSdp, answerSdp)=>{\n    const offeredStereoMids = new Set();\n    const parsedOfferSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse)(offerSdp);\n    for (const media of parsedOfferSdp.media){\n        if (media.type !== 'audio') continue;\n        const opus = media.rtp.find((r)=>r.codec === 'opus');\n        if (!opus) continue;\n        for (const fmtp of media.fmtp){\n            if (fmtp.payload === opus.payload && fmtp.config.includes('stereo=1')) {\n                offeredStereoMids.add(media.mid);\n            }\n        }\n    }\n    // No stereo offered, return the original answerSdp\n    if (offeredStereoMids.size === 0) return answerSdp;\n    const parsedAnswerSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse)(answerSdp);\n    for (const media of parsedAnswerSdp.media){\n        if (media.type !== 'audio' || !offeredStereoMids.has(media.mid)) continue;\n        const opus = media.rtp.find((r)=>r.codec === 'opus');\n        if (!opus) continue;\n        for (const fmtp of media.fmtp){\n            if (fmtp.payload === opus.payload && !fmtp.config.includes('stereo=1')) {\n                fmtp.config += ';stereo=1';\n            }\n        }\n    }\n    return (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.write)(parsedAnswerSdp);\n};\n/**\n * The `Publisher` is responsible for publishing/unpublishing media streams to/from the SFU\n *\n * @internal\n */ class Publisher extends BasePeerConnection {\n    /**\n     * Constructs a new `Publisher` instance.\n     */ constructor({ publishOptions, ...baseOptions }){\n        super(PeerType.PUBLISHER_UNSPECIFIED, baseOptions);\n        this.transceiverCache = new TransceiverCache();\n        this.clonedTracks = new Set();\n        /**\n         * Starts publishing the given track of the given media stream.\n         *\n         * Consecutive calls to this method will replace the stream.\n         * The previous stream will be stopped.\n         *\n         * @param track the track to publish.\n         * @param trackType the track type to publish.\n         */ this.publish = async (track, trackType)=>{\n            if (!this.publishOptions.some((o)=>o.trackType === trackType)) {\n                throw new Error(`No publish options found for ${TrackType[trackType]}`);\n            }\n            for (const publishOption of this.publishOptions){\n                if (publishOption.trackType !== trackType) continue;\n                // create a clone of the track as otherwise the same trackId will\n                // appear in the SDP in multiple transceivers\n                const trackToPublish = this.cloneTrack(track);\n                const transceiver = this.transceiverCache.get(publishOption);\n                if (!transceiver) {\n                    await this.addTransceiver(trackToPublish, publishOption);\n                } else {\n                    const previousTrack = transceiver.sender.track;\n                    await this.updateTransceiver(transceiver, trackToPublish, trackType);\n                    if (!isReactNative()) {\n                        this.stopTrack(previousTrack);\n                    }\n                }\n            }\n        };\n        /**\n         * Adds a new transceiver carrying the given track to the peer connection.\n         */ this.addTransceiver = async (track, publishOption)=>{\n            const videoEncodings = computeVideoLayers(track, publishOption);\n            const sendEncodings = isSvcCodec(publishOption.codec?.name) ? toSvcEncodings(videoEncodings) : videoEncodings;\n            const transceiver = this.pc.addTransceiver(track, {\n                direction: 'sendonly',\n                sendEncodings\n            });\n            const params = transceiver.sender.getParameters();\n            params.degradationPreference = 'maintain-framerate';\n            await transceiver.sender.setParameters(params);\n            const trackType = publishOption.trackType;\n            this.logger('debug', `Added ${TrackType[trackType]} transceiver`);\n            this.transceiverCache.add(publishOption, transceiver);\n            this.trackIdToTrackType.set(track.id, trackType);\n            await this.negotiate();\n        };\n        /**\n         * Updates the transceiver with the given track and track type.\n         */ this.updateTransceiver = async (transceiver, track, trackType)=>{\n            const sender = transceiver.sender;\n            if (sender.track) this.trackIdToTrackType.delete(sender.track.id);\n            await sender.replaceTrack(track);\n            if (track) this.trackIdToTrackType.set(track.id, trackType);\n        };\n        /**\n         * Synchronizes the current Publisher state with the provided publish options.\n         */ this.syncPublishOptions = async ()=>{\n            // enable publishing with new options -> [av1, vp9]\n            for (const publishOption of this.publishOptions){\n                const { trackType } = publishOption;\n                if (!this.isPublishing(trackType)) continue;\n                if (this.transceiverCache.has(publishOption)) continue;\n                const item = this.transceiverCache.find((i)=>!!i.transceiver.sender.track && i.publishOption.trackType === trackType);\n                if (!item || !item.transceiver) continue;\n                // take the track from the existing transceiver for the same track type,\n                // clone it and publish it with the new publish options\n                const track = this.cloneTrack(item.transceiver.sender.track);\n                await this.addTransceiver(track, publishOption);\n            }\n            // stop publishing with options not required anymore -> [vp9]\n            for (const item of this.transceiverCache.items()){\n                const { publishOption, transceiver } = item;\n                const hasPublishOption = this.publishOptions.some((option)=>option.id === publishOption.id && option.trackType === publishOption.trackType);\n                if (hasPublishOption) continue;\n                // it is safe to stop the track here, it is a clone\n                this.stopTrack(transceiver.sender.track);\n                await this.updateTransceiver(transceiver, null, publishOption.trackType);\n            }\n        };\n        /**\n         * Returns true if the given track type is currently being published to the SFU.\n         *\n         * @param trackType the track type to check. If omitted, checks if any track is being published.\n         */ this.isPublishing = (trackType)=>{\n            for (const item of this.transceiverCache.items()){\n                if (trackType && item.publishOption.trackType !== trackType) continue;\n                const track = item.transceiver.sender.track;\n                if (!track) continue;\n                if (track.readyState === 'live' && track.enabled) return true;\n            }\n            return false;\n        };\n        /**\n         * Stops the cloned track that is being published to the SFU.\n         */ this.stopTracks = (...trackTypes)=>{\n            for (const item of this.transceiverCache.items()){\n                const { publishOption, transceiver } = item;\n                if (!trackTypes.includes(publishOption.trackType)) continue;\n                this.stopTrack(transceiver.sender.track);\n            }\n        };\n        /**\n         * Stops all the cloned tracks that are being published to the SFU.\n         */ this.stopAllTracks = ()=>{\n            for (const { transceiver } of this.transceiverCache.items()){\n                this.stopTrack(transceiver.sender.track);\n            }\n            for (const track of this.clonedTracks){\n                this.stopTrack(track);\n            }\n        };\n        this.changePublishQuality = async (videoSender)=>{\n            const { trackType, layers, publishOptionId } = videoSender;\n            const enabledLayers = layers.filter((l)=>l.active);\n            const tag = 'Update publish quality:';\n            this.logger('info', `${tag} requested layers by SFU:`, enabledLayers);\n            const transceiverId = this.transceiverCache.find((t)=>t.publishOption.id === publishOptionId && t.publishOption.trackType === trackType);\n            const sender = transceiverId?.transceiver.sender;\n            if (!sender) {\n                return this.logger('warn', `${tag} no video sender found.`);\n            }\n            const params = sender.getParameters();\n            if (params.encodings.length === 0) {\n                return this.logger('warn', `${tag} there are no encodings set.`);\n            }\n            const codecInUse = transceiverId?.publishOption.codec?.name;\n            const usesSvcCodec = codecInUse && isSvcCodec(codecInUse);\n            let changed = false;\n            for (const encoder of params.encodings){\n                const layer = usesSvcCodec ? enabledLayers[0] : enabledLayers.find((l)=>l.name === encoder.rid) ?? (params.encodings.length === 1 ? enabledLayers[0] : undefined);\n                // flip 'active' flag only when necessary\n                const shouldActivate = !!layer?.active;\n                if (shouldActivate !== encoder.active) {\n                    encoder.active = shouldActivate;\n                    changed = true;\n                }\n                // skip the rest of the settings if the layer is disabled or not found\n                if (!layer) continue;\n                const { maxFramerate, scaleResolutionDownBy, maxBitrate, scalabilityMode } = layer;\n                if (scaleResolutionDownBy >= 1 && scaleResolutionDownBy !== encoder.scaleResolutionDownBy) {\n                    encoder.scaleResolutionDownBy = scaleResolutionDownBy;\n                    changed = true;\n                }\n                if (maxBitrate > 0 && maxBitrate !== encoder.maxBitrate) {\n                    encoder.maxBitrate = maxBitrate;\n                    changed = true;\n                }\n                if (maxFramerate > 0 && maxFramerate !== encoder.maxFramerate) {\n                    encoder.maxFramerate = maxFramerate;\n                    changed = true;\n                }\n                // @ts-expect-error scalabilityMode is not in the typedefs yet\n                if (scalabilityMode && scalabilityMode !== encoder.scalabilityMode) {\n                    // @ts-expect-error scalabilityMode is not in the typedefs yet\n                    encoder.scalabilityMode = scalabilityMode;\n                    changed = true;\n                }\n            }\n            const activeEncoders = params.encodings.filter((e)=>e.active);\n            if (!changed) {\n                return this.logger('info', `${tag} no change:`, activeEncoders);\n            }\n            await sender.setParameters(params);\n            this.logger('info', `${tag} enabled rids:`, activeEncoders);\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger('debug', 'Restarting ICE connection');\n            const signalingState = this.pc.signalingState;\n            if (this.isIceRestarting || signalingState === 'have-local-offer') {\n                this.logger('debug', 'ICE restart is already in progress');\n                return;\n            }\n            await this.negotiate({\n                iceRestart: true\n            });\n        };\n        /**\n         * Initiates a new offer/answer exchange with the currently connected SFU.\n         *\n         * @param options the optional offer options to use.\n         */ this.negotiate = async (options)=>{\n            return withoutConcurrency(`publisher.negotiate.${this.lock}`, async ()=>{\n                const offer = await this.pc.createOffer(options);\n                const tracks = this.getAnnouncedTracks(offer.sdp);\n                if (!tracks.length) throw new Error(`Can't negotiate without any tracks`);\n                try {\n                    this.isIceRestarting = options?.iceRestart ?? false;\n                    await this.pc.setLocalDescription(offer);\n                    const { sdp = '' } = offer;\n                    const { response } = await this.sfuClient.setPublisher({\n                        sdp,\n                        tracks\n                    });\n                    if (response.error) throw new NegotiationError(response.error);\n                    const { sdp: answerSdp } = response;\n                    await this.pc.setRemoteDescription({\n                        type: 'answer',\n                        sdp: answerSdp\n                    });\n                } catch (err) {\n                    // negotiation failed, rollback to the previous state\n                    if (this.pc.signalingState === 'have-local-offer') {\n                        await this.pc.setLocalDescription({\n                            type: 'rollback'\n                        });\n                    }\n                    throw err;\n                } finally{\n                    this.isIceRestarting = false;\n                }\n                this.addTrickledIceCandidates();\n            });\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         */ this.getPublishedTracks = ()=>{\n            const tracks = [];\n            for (const { transceiver } of this.transceiverCache.items()){\n                const track = transceiver.sender.track;\n                if (track && track.readyState === 'live') tracks.push(track);\n            }\n            return tracks;\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         * @param sdp an optional SDP to extract the `mid` from.\n         */ this.getAnnouncedTracks = (sdp)=>{\n            const trackInfos = [];\n            for (const bundle of this.transceiverCache.items()){\n                const { transceiver, publishOption } = bundle;\n                const track = transceiver.sender.track;\n                if (!track) continue;\n                trackInfos.push(this.toTrackInfo(transceiver, publishOption, sdp));\n            }\n            return trackInfos;\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         * This method shall be used for the reconnection flow.\n         * There we shouldn't announce the tracks that have been stopped due to a codec switch.\n         */ this.getAnnouncedTracksForReconnect = ()=>{\n            const sdp = this.pc.localDescription?.sdp;\n            const trackInfos = [];\n            for (const publishOption of this.publishOptions){\n                const transceiver = this.transceiverCache.get(publishOption);\n                if (!transceiver || !transceiver.sender.track) continue;\n                trackInfos.push(this.toTrackInfo(transceiver, publishOption, sdp));\n            }\n            return trackInfos;\n        };\n        /**\n         * Converts the given transceiver to a `TrackInfo` object.\n         */ this.toTrackInfo = (transceiver, publishOption, sdp)=>{\n            const track = transceiver.sender.track;\n            const isTrackLive = track.readyState === 'live';\n            const layers = isTrackLive ? computeVideoLayers(track, publishOption) : this.transceiverCache.getLayers(publishOption);\n            this.transceiverCache.setLayers(publishOption, layers);\n            const isAudioTrack = isAudioTrackType(publishOption.trackType);\n            const isStereo = isAudioTrack && track.getSettings().channelCount === 2;\n            const transceiverIndex = this.transceiverCache.indexOf(transceiver);\n            const audioSettings = this.state.settings?.audio;\n            return {\n                trackId: track.id,\n                layers: toVideoLayers(layers),\n                trackType: publishOption.trackType,\n                mid: extractMid(transceiver, transceiverIndex, sdp),\n                stereo: isStereo,\n                dtx: isAudioTrack && !!audioSettings?.opus_dtx_enabled,\n                red: isAudioTrack && !!audioSettings?.redundant_coding_enabled,\n                muted: !isTrackLive,\n                codec: publishOption.codec,\n                publishOptionId: publishOption.id\n            };\n        };\n        this.cloneTrack = (track)=>{\n            const clone = track.clone();\n            this.clonedTracks.add(clone);\n            return clone;\n        };\n        this.stopTrack = (track)=>{\n            if (!track) return;\n            track.stop();\n            this.clonedTracks.delete(track);\n        };\n        this.publishOptions = publishOptions;\n        this.on('iceRestart', (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.PUBLISHER_UNSPECIFIED) return;\n            this.tryRestartIce();\n        });\n        this.on('changePublishQuality', async (event)=>{\n            for (const videoSender of event.videoSenders){\n                await this.changePublishQuality(videoSender);\n            }\n        });\n        this.on('changePublishOptions', (event)=>{\n            this.publishOptions = event.publishOptions;\n            return this.syncPublishOptions();\n        });\n    }\n    /**\n     * Disposes this Publisher instance.\n     */ dispose() {\n        super.dispose();\n        this.stopAllTracks();\n        this.clonedTracks.clear();\n    }\n}\n/**\n * A wrapper around the `RTCPeerConnection` that handles the incoming\n * media streams from the SFU.\n *\n * @internal\n */ class Subscriber extends BasePeerConnection {\n    /**\n     * Constructs a new `Subscriber` instance.\n     */ constructor(opts){\n        super(PeerType.SUBSCRIBER, opts);\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger('debug', 'Restarting ICE connection');\n            if (this.pc.signalingState === 'have-remote-offer') {\n                this.logger('debug', 'ICE restart is already in progress');\n                return;\n            }\n            if (this.pc.connectionState === 'new') {\n                this.logger('debug', `ICE connection is not yet established, skipping restart.`);\n                return;\n            }\n            const previousIsIceRestarting = this.isIceRestarting;\n            this.isIceRestarting = true;\n            try {\n                const { response } = await this.sfuClient.iceRestart({\n                    peerType: PeerType.SUBSCRIBER\n                });\n                if (response.error) throw new NegotiationError(response.error);\n            } catch (e) {\n                // restore the previous state, as our intent for restarting ICE failed\n                this.isIceRestarting = previousIsIceRestarting;\n                throw e;\n            }\n        };\n        this.handleOnTrack = (e)=>{\n            const [primaryStream] = e.streams;\n            // example: `e3f6aaf8-b03d-4911-be36-83f47d37a76a:TRACK_TYPE_VIDEO`\n            const [trackId, rawTrackType] = primaryStream.id.split(':');\n            const participantToUpdate = this.state.participants.find((p)=>p.trackLookupPrefix === trackId);\n            this.logger('debug', `[onTrack]: Got remote ${rawTrackType} track for userId: ${participantToUpdate?.userId}`, e.track.id, e.track);\n            const trackDebugInfo = `${participantToUpdate?.userId} ${rawTrackType}:${trackId}`;\n            e.track.addEventListener('mute', ()=>{\n                this.logger('info', `[onTrack]: Track muted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener('unmute', ()=>{\n                this.logger('info', `[onTrack]: Track unmuted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener('ended', ()=>{\n                this.logger('info', `[onTrack]: Track ended: ${trackDebugInfo}`);\n                this.state.removeOrphanedTrack(primaryStream.id);\n            });\n            const trackType = toTrackType(rawTrackType);\n            if (!trackType) {\n                return this.logger('error', `Unknown track type: ${rawTrackType}`);\n            }\n            this.trackIdToTrackType.set(e.track.id, trackType);\n            if (!participantToUpdate) {\n                this.logger('warn', `[onTrack]: Received track for unknown participant: ${trackId}`, e);\n                this.state.registerOrphanedTrack({\n                    id: primaryStream.id,\n                    trackLookupPrefix: trackId,\n                    track: primaryStream,\n                    trackType\n                });\n                return;\n            }\n            const streamKindProp = trackTypeToParticipantStreamKey(trackType);\n            if (!streamKindProp) {\n                this.logger('error', `Unknown track type: ${rawTrackType}`);\n                return;\n            }\n            // get the previous stream to dispose it later\n            // usually this happens during migration, when the stream is replaced\n            // with a new one but the old one is still in the state\n            const previousStream = participantToUpdate[streamKindProp];\n            // replace the previous stream with the new one, prevents flickering\n            this.state.updateParticipant(participantToUpdate.sessionId, {\n                [streamKindProp]: primaryStream\n            });\n            // now, dispose the previous stream if it exists\n            if (previousStream) {\n                this.logger('info', `[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${participantToUpdate.userId}`);\n                previousStream.getTracks().forEach((t)=>{\n                    t.stop();\n                    previousStream.removeTrack(t);\n                });\n            }\n        };\n        this.negotiate = async (subscriberOffer)=>{\n            await this.pc.setRemoteDescription({\n                type: 'offer',\n                sdp: subscriberOffer.sdp\n            });\n            this.addTrickledIceCandidates();\n            const answer = await this.pc.createAnswer();\n            if (answer.sdp) {\n                answer.sdp = enableStereo(subscriberOffer.sdp, answer.sdp);\n            }\n            await this.pc.setLocalDescription(answer);\n            await this.sfuClient.sendAnswer({\n                peerType: PeerType.SUBSCRIBER,\n                sdp: answer.sdp || ''\n            });\n            this.isIceRestarting = false;\n        };\n        this.pc.addEventListener('track', this.handleOnTrack);\n        this.on('subscriberOffer', async (subscriberOffer)=>{\n            return this.negotiate(subscriberOffer).catch((err)=>{\n                this.logger('error', `Negotiation failed.`, err);\n            });\n        });\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     * This is useful when we want to replace the `RTCPeerConnection`\n     * instance with a new one (in case of migration).\n     */ detachEventHandlers() {\n        super.detachEventHandlers();\n        this.pc.removeEventListener('track', this.handleOnTrack);\n    }\n}\nconst createWebSocketSignalChannel = (opts)=>{\n    const { endpoint, onMessage, tag, tracer } = opts;\n    const logger = getLogger([\n        'SfuClientWS',\n        tag\n    ]);\n    logger('debug', 'Creating signaling WS channel:', endpoint);\n    const ws = new WebSocket(endpoint);\n    ws.binaryType = 'arraybuffer'; // do we need this?\n    ws.addEventListener('error', (e)=>{\n        logger('error', 'Signaling WS channel error', e);\n        tracer?.trace('signal.ws.error', e);\n    });\n    ws.addEventListener('close', (e)=>{\n        logger('info', 'Signaling WS channel is closed', e);\n        tracer?.trace('signal.ws.close', e);\n    });\n    ws.addEventListener('open', (e)=>{\n        logger('info', 'Signaling WS channel is open', e);\n        tracer?.trace('signal.ws.open', e);\n    });\n    ws.addEventListener('message', (e)=>{\n        try {\n            const message = e.data instanceof ArrayBuffer ? SfuEvent.fromBinary(new Uint8Array(e.data)) : SfuEvent.fromJsonString(e.data.toString());\n            onMessage(message);\n        } catch (err) {\n            const message = 'Failed to decode a message. Check whether the Proto models match.';\n            logger('error', message, {\n                event: e,\n                error: err\n            });\n            tracer?.trace('signal.ws.message.error', message);\n        }\n    });\n    return ws;\n};\nconst toRtcConfiguration = (config)=>{\n    return {\n        bundlePolicy: 'max-bundle',\n        iceServers: config.map((ice)=>({\n                urls: ice.urls,\n                username: ice.username,\n                credential: ice.password\n            }))\n    };\n};\n/**\n * Saving a long-lived reference to a promise that can reject can be unsafe,\n * since rejecting the promise causes an unhandled rejection error (even if the\n * rejection is handled everywhere promise result is expected).\n *\n * To avoid that, we add both resolution and rejection handlers to the promise.\n * That way, the saved promise never rejects. A callback is provided as return\n * value to build a *new* promise, that resolves and rejects along with\n * the original promise.\n * @param promise Promise to wrap, which possibly rejects\n * @returns Callback to build a new promise, which resolves and rejects along\n * with the original promise\n */ function makeSafePromise(promise) {\n    let isPending = true;\n    const safePromise = promise.then((result)=>({\n            status: 'resolved',\n            result\n        }), (error)=>({\n            status: 'rejected',\n            error\n        })).finally(()=>isPending = false);\n    const unwrapPromise = ()=>safePromise.then((fulfillment)=>{\n            if (fulfillment.status === 'rejected') throw fulfillment.error;\n            return fulfillment.result;\n        });\n    unwrapPromise.checkPending = ()=>isPending;\n    return unwrapPromise;\n}\n/**\n * Creates a new promise with resolvers.\n *\n * Based on:\n * - https://github.com/tc39/proposal-promise-with-resolvers/blob/main/polyfills.js\n */ const promiseWithResolvers = ()=>{\n    let resolve;\n    let reject;\n    const promise = new Promise((_resolve, _reject)=>{\n        resolve = _resolve;\n        reject = _reject;\n    });\n    let isResolved = false;\n    let isRejected = false;\n    const resolver = (value)=>{\n        isResolved = true;\n        resolve(value);\n    };\n    const rejecter = (reason)=>{\n        isRejected = true;\n        reject(reason);\n    };\n    return {\n        promise,\n        resolve: resolver,\n        reject: rejecter,\n        isResolved: ()=>isResolved,\n        isRejected: ()=>isRejected\n    };\n};\nconst uninitialized = Symbol('uninitialized');\n/**\n * Lazily creates a value using a provided factory\n */ function lazy(factory) {\n    let value = uninitialized;\n    return (...args)=>{\n        if (value === uninitialized) {\n            value = factory(...args);\n        }\n        return value;\n    };\n}\n// Do not modify this file manually. Instead, edit worker.ts\n// and the run ./generate-timer-worker.sh\nconst timerWorker = {\n    src: `const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}`\n};\nclass TimerWorker {\n    constructor(){\n        this.currentTimerId = 1;\n        this.callbacks = new Map();\n        this.fallback = false;\n    }\n    setup({ useTimerWorker = true } = {}) {\n        if (!useTimerWorker) {\n            this.fallback = true;\n            return;\n        }\n        try {\n            const source = timerWorker.src;\n            const blob = new Blob([\n                source\n            ], {\n                type: 'application/javascript; charset=utf-8'\n            });\n            const script = URL.createObjectURL(blob);\n            this.worker = new Worker(script, {\n                name: 'str-timer-worker'\n            });\n            this.worker.addEventListener('message', (event)=>{\n                const { type, id } = event.data;\n                if (type === 'tick') {\n                    this.callbacks.get(id)?.();\n                }\n            });\n        } catch (err) {\n            getLogger([\n                'timer-worker'\n            ])('error', err);\n            this.fallback = true;\n        }\n    }\n    destroy() {\n        this.callbacks.clear();\n        this.worker?.terminate();\n        this.worker = undefined;\n        this.fallback = false;\n    }\n    get ready() {\n        return this.fallback || Boolean(this.worker);\n    }\n    setInterval(callback, timeout) {\n        return this.setTimer('setInterval', callback, timeout);\n    }\n    clearInterval(id) {\n        this.clearTimer('clearInterval', id);\n    }\n    setTimeout(callback, timeout) {\n        return this.setTimer('setTimeout', callback, timeout);\n    }\n    clearTimeout(id) {\n        this.clearTimer('clearTimeout', id);\n    }\n    setTimer(type, callback, timeout) {\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            return (type === 'setTimeout' ? setTimeout : setInterval)(callback, timeout);\n        }\n        const id = this.getTimerId();\n        this.callbacks.set(id, ()=>{\n            callback();\n            // Timeouts are one-off operations, so no need to keep callback reference\n            // after timer has fired\n            if (type === 'setTimeout') {\n                this.callbacks.delete(id);\n            }\n        });\n        this.sendMessage({\n            type,\n            id,\n            timeout\n        });\n        return id;\n    }\n    clearTimer(type, id) {\n        if (!id) {\n            return;\n        }\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            (type === 'clearTimeout' ? clearTimeout : clearInterval)(id);\n            return;\n        }\n        this.callbacks.delete(id);\n        this.sendMessage({\n            type,\n            id\n        });\n    }\n    getTimerId() {\n        return this.currentTimerId++;\n    }\n    sendMessage(message) {\n        if (!this.worker) {\n            throw new Error(\"Cannot use timer worker before it's set up\");\n        }\n        this.worker.postMessage(message);\n    }\n}\nlet timerWorkerEnabled = false;\nconst enableTimerWorker = ()=>{\n    timerWorkerEnabled = true;\n};\nconst getTimers = lazy(()=>{\n    const instance = new TimerWorker();\n    instance.setup({\n        useTimerWorker: timerWorkerEnabled\n    });\n    return instance;\n});\n/**\n * The client used for exchanging information with the SFU.\n */ class StreamSfuClient {\n    /**\n     * Constructs a new SFU client.\n     */ constructor({ dispatcher, credentials, sessionId, cid, tag, joinResponseTimeout = 5000, onSignalClose, streamClient, enableTracing }){\n        /**\n         * A buffer for ICE Candidates that are received before\n         * the Publisher and Subscriber Peer Connections are ready to handle them.\n         */ this.iceTrickleBuffer = new IceTrickleBuffer();\n        /**\n         * Flag to indicate if the client is in the process of leaving the call.\n         * This is set to `true` when the user initiates the leave process.\n         */ this.isLeaving = false;\n        /**\n         * Flag to indicate if the client is in the process of clean closing the connection.\n         * When set to `true`, the client will not attempt to reconnect\n         * and will close the WebSocket connection gracefully.\n         * Otherwise, it will close the connection with an error code and\n         * trigger a reconnection attempt.\n         */ this.isClosingClean = false;\n        this.pingIntervalInMs = 5 * 1000;\n        this.unhealthyTimeoutInMs = 15 * 1000;\n        /**\n         * Promise that resolves when the JoinResponse is received.\n         * Rejects after a certain threshold if the response is not received.\n         */ this.joinResponseTask = promiseWithResolvers();\n        /**\n         * A controller to abort the current requests.\n         */ this.abortController = new AbortController();\n        this.createWebSocket = (params)=>{\n            const eventsToTrace = {\n                callEnded: true,\n                changePublishQuality: true,\n                changePublishOptions: true,\n                connectionQualityChanged: true,\n                error: true,\n                goAway: true,\n                inboundStateNotification: true\n            };\n            this.signalWs = createWebSocketSignalChannel({\n                tag: this.tag,\n                endpoint: `${this.credentials.server.ws_endpoint}?${new URLSearchParams(params).toString()}`,\n                tracer: this.tracer,\n                onMessage: (message)=>{\n                    this.lastMessageTimestamp = new Date();\n                    this.scheduleConnectionCheck();\n                    const eventKind = message.eventPayload.oneofKind;\n                    if (eventsToTrace[eventKind]) {\n                        this.tracer?.trace(eventKind, message);\n                    }\n                    this.dispatcher.dispatch(message, this.tag);\n                }\n            });\n            let timeoutId;\n            this.signalReady = makeSafePromise(Promise.race([\n                new Promise((resolve, reject)=>{\n                    let didOpen = false;\n                    const onOpen = ()=>{\n                        didOpen = true;\n                        clearTimeout(timeoutId);\n                        this.signalWs.removeEventListener('open', onOpen);\n                        resolve(this.signalWs);\n                    };\n                    this.signalWs.addEventListener('open', onOpen);\n                    this.signalWs.addEventListener('close', (e)=>{\n                        this.handleWebSocketClose(e);\n                        // Normally, this shouldn't have any effect, because WS should never emit 'close'\n                        // before emitting 'open'. However, stranger things have happened, and we don't\n                        // want to leave signalReady in a pending state.\n                        const message = didOpen ? `SFU WS closed: ${e.code} ${e.reason}` : `SFU WS connection can't be established: ${e.code} ${e.reason}`;\n                        this.tracer?.trace('signal.close', message);\n                        clearTimeout(timeoutId);\n                        reject(new Error(message));\n                    });\n                }),\n                new Promise((resolve, reject)=>{\n                    timeoutId = setTimeout(()=>{\n                        const message = `SFU WS connection failed to open after ${this.joinResponseTimeout}ms`;\n                        this.tracer?.trace('signal.timeout', message);\n                        reject(new Error(message));\n                    }, this.joinResponseTimeout);\n                })\n            ]));\n        };\n        this.handleWebSocketClose = (e)=>{\n            this.signalWs.removeEventListener('close', this.handleWebSocketClose);\n            getTimers().clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            this.onSignalClose?.(`${e.code} ${e.reason}`);\n        };\n        this.close = (code = StreamSfuClient.NORMAL_CLOSURE, reason)=>{\n            this.isClosingClean = code !== StreamSfuClient.ERROR_CONNECTION_UNHEALTHY;\n            if (this.signalWs.readyState === WebSocket.OPEN) {\n                this.logger('debug', `Closing SFU WS connection: ${code} - ${reason}`);\n                this.signalWs.close(code, `js-client: ${reason}`);\n                this.signalWs.removeEventListener('close', this.handleWebSocketClose);\n            }\n            this.dispose();\n        };\n        this.dispose = ()=>{\n            this.logger('debug', 'Disposing SFU client');\n            this.unsubscribeIceTrickle();\n            this.unsubscribeNetworkChanged();\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            clearTimeout(this.migrateAwayTimeout);\n            this.abortController.abort();\n            this.migrationTask?.resolve();\n            this.iceTrickleBuffer.dispose();\n        };\n        this.getTrace = ()=>{\n            return this.tracer?.take();\n        };\n        this.leaveAndClose = async (reason)=>{\n            try {\n                this.isLeaving = true;\n                await this.joinTask;\n                await this.notifyLeave(reason);\n            } catch (err) {\n                this.logger('debug', 'Error notifying SFU about leaving call', err);\n            }\n            this.close(StreamSfuClient.NORMAL_CLOSURE, reason.substring(0, 115));\n        };\n        this.updateSubscriptions = async (tracks)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateSubscriptions({\n                    sessionId: this.sessionId,\n                    tracks\n                }), this.abortController.signal);\n        };\n        this.setPublisher = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.setPublisher({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendAnswer = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendAnswer({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceTrickle = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceTrickle({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceRestart = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceRestart({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.updateMuteStates = async (muteStates)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateMuteStates({\n                    muteStates,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendStats = async (stats)=>{\n            await this.joinTask;\n            // NOTE: we don't retry sending stats\n            return this.rpc.sendStats({\n                ...stats,\n                sessionId: this.sessionId\n            });\n        };\n        this.startNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.startNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.stopNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.stopNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.enterMigration = async (opts = {})=>{\n            this.isLeaving = true;\n            const { timeout = 7 * 1000 } = opts;\n            this.migrationTask?.reject(new Error('Cancelled previous migration'));\n            const task = this.migrationTask = promiseWithResolvers();\n            const unsubscribe = this.dispatcher.on('participantMigrationComplete', ()=>{\n                unsubscribe();\n                clearTimeout(this.migrateAwayTimeout);\n                task.resolve();\n            });\n            this.migrateAwayTimeout = setTimeout(()=>{\n                unsubscribe();\n                task.reject(new Error(`Migration (${this.tag}) failed to complete in ${timeout}ms`));\n            }, timeout);\n            return task.promise;\n        };\n        this.join = async (data)=>{\n            // wait for the signal web socket to be ready before sending \"joinRequest\"\n            await this.signalReady();\n            if (this.joinResponseTask.isResolved() || this.joinResponseTask.isRejected()) {\n                // we need to lock the RPC requests until we receive a JoinResponse.\n                // that's why we have this primitive lock mechanism.\n                // the client starts with already initialized joinResponseTask,\n                // and this code creates a new one for the next join request.\n                this.joinResponseTask = promiseWithResolvers();\n            }\n            // capture a reference to the current joinResponseTask as it might\n            // be replaced with a new one in case a second join request is made\n            const current = this.joinResponseTask;\n            let timeoutId = undefined;\n            const unsubscribe = this.dispatcher.on('joinResponse', (joinResponse)=>{\n                clearTimeout(timeoutId);\n                unsubscribe();\n                this.keepAlive();\n                current.resolve(joinResponse);\n            });\n            timeoutId = setTimeout(()=>{\n                unsubscribe();\n                const message = `Waiting for \"joinResponse\" has timed out after ${this.joinResponseTimeout}ms`;\n                this.tracer?.trace('joinRequestTimeout', message);\n                current.reject(new Error(message));\n            }, this.joinResponseTimeout);\n            const joinRequest = SfuRequest.create({\n                requestPayload: {\n                    oneofKind: 'joinRequest',\n                    joinRequest: JoinRequest.create({\n                        ...data,\n                        sessionId: this.sessionId,\n                        token: this.credentials.token\n                    })\n                }\n            });\n            this.tracer?.trace('joinRequest', joinRequest);\n            await this.send(joinRequest);\n            return current.promise;\n        };\n        this.ping = async ()=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: 'healthCheckRequest',\n                    healthCheckRequest: {}\n                }\n            }));\n        };\n        this.notifyLeave = async (reason)=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: 'leaveCallRequest',\n                    leaveCallRequest: {\n                        sessionId: this.sessionId,\n                        reason\n                    }\n                }\n            }));\n        };\n        this.send = async (message)=>{\n            await this.signalReady(); // wait for the signal ws to be open\n            const msgJson = SfuRequest.toJson(message);\n            if (this.signalWs.readyState !== WebSocket.OPEN) {\n                this.logger('debug', 'Signal WS is not open. Skipping message', msgJson);\n                return;\n            }\n            this.logger('debug', `Sending message to: ${this.edgeName}`, msgJson);\n            this.signalWs.send(SfuRequest.toBinary(message));\n        };\n        this.keepAlive = ()=>{\n            const timers = getTimers();\n            timers.clearInterval(this.keepAliveInterval);\n            this.keepAliveInterval = timers.setInterval(()=>{\n                this.ping().catch((e)=>{\n                    this.logger('error', 'Error sending healthCheckRequest to SFU', e);\n                });\n            }, this.pingIntervalInMs);\n        };\n        this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeout);\n            this.connectionCheckTimeout = setTimeout(()=>{\n                if (this.lastMessageTimestamp) {\n                    const timeSinceLastMessage = new Date().getTime() - this.lastMessageTimestamp.getTime();\n                    if (timeSinceLastMessage > this.unhealthyTimeoutInMs) {\n                        this.close(StreamSfuClient.ERROR_CONNECTION_UNHEALTHY, `SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`);\n                    }\n                }\n            }, this.unhealthyTimeoutInMs);\n        };\n        this.dispatcher = dispatcher;\n        this.sessionId = sessionId || generateUUIDv4();\n        this.onSignalClose = onSignalClose;\n        this.credentials = credentials;\n        const { server, token } = credentials;\n        this.edgeName = server.edge_name;\n        this.joinResponseTimeout = joinResponseTimeout;\n        this.tag = tag;\n        this.logger = getLogger([\n            'SfuClient',\n            tag\n        ]);\n        this.tracer = enableTracing ? new Tracer(`${tag}-${this.edgeName}`) : undefined;\n        this.rpc = createSignalClient({\n            baseUrl: server.url,\n            interceptors: [\n                withHeaders({\n                    Authorization: `Bearer ${token}`\n                }),\n                this.tracer && withRequestTracer(this.tracer.trace),\n                getLogLevel() === 'trace' && withRequestLogger(this.logger, 'trace')\n            ].filter((v)=>!!v)\n        });\n        // Special handling for the ICETrickle kind of events.\n        // The SFU might trigger these events before the initial RTC\n        // connection is established or \"JoinResponse\" received.\n        // In that case, those events (ICE candidates) need to be buffered\n        // and later added to the appropriate PeerConnection\n        // once the remoteDescription is known and set.\n        this.unsubscribeIceTrickle = dispatcher.on('iceTrickle', (iceTrickle)=>{\n            this.iceTrickleBuffer.push(iceTrickle);\n        });\n        // listen to network changes to handle offline state\n        // we shouldn't attempt to recover websocket connection when offline\n        this.unsubscribeNetworkChanged = streamClient.on('network.changed', (e)=>{\n            if (!e.online) {\n                this.networkAvailableTask = promiseWithResolvers();\n            } else {\n                this.networkAvailableTask?.resolve();\n            }\n        });\n        this.createWebSocket({\n            attempt: tag,\n            user_id: streamClient.user?.id || '',\n            api_key: streamClient.key,\n            user_session_id: this.sessionId,\n            cid\n        });\n    }\n    get isHealthy() {\n        return this.signalWs.readyState === WebSocket.OPEN && this.joinResponseTask.isResolved();\n    }\n    get joinTask() {\n        return this.joinResponseTask.promise;\n    }\n}\n/**\n * The normal closure code. Used for controlled shutdowns.\n */ StreamSfuClient.NORMAL_CLOSURE = 1000;\n/**\n * The error code used when the SFU connection is unhealthy.\n * Usually, this means that no message has been received from the SFU for\n * a certain amount of time (`connectionCheckTimeout`).\n */ StreamSfuClient.ERROR_CONNECTION_UNHEALTHY = 4001;\n/**\n * The error code used when the SFU connection is disposed because a new\n * connection is established or is about to be established.\n * Here, we don't use 1000 (normal closure) because we don't want the\n * SFU to clean up the resources associated with the current participant.\n */ StreamSfuClient.DISPOSE_OLD_SOCKET = 4100;\n/**\n * The close code used when the client fails to join the call (on the SFU).\n */ StreamSfuClient.JOIN_FAILED = 4101;\n/**\n * Event handler that watched the delivery of `call.accepted`.\n * Once the event is received, the call is joined.\n */ const watchCallAccepted = (call)=>{\n    return async function onCallAccepted(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { state } = call;\n        if (event.call.created_by.id === call.currentUserId && state.callingState === CallingState.RINGING) {\n            await call.join();\n        }\n    };\n};\n/**\n * Event handler that watches delivery of `call.rejected` Websocket event.\n * Once the event is received, the call is left.\n */ const watchCallRejected = (call)=>{\n    return async function onCallRejected(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { call: eventCall } = event;\n        const { session: callSession } = eventCall;\n        if (!callSession) {\n            call.logger('warn', 'No call session provided. Ignoring call.rejected event.', event);\n            return;\n        }\n        const rejectedBy = callSession.rejected_by;\n        const { members, callingState } = call.state;\n        if (callingState !== CallingState.RINGING) {\n            call.logger('info', 'Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.', event);\n            return;\n        }\n        if (call.isCreatedByMe) {\n            const everyoneElseRejected = members.filter((m)=>m.user_id !== call.currentUserId).every((m)=>rejectedBy[m.user_id]);\n            if (everyoneElseRejected) {\n                call.logger('info', 'everyone rejected, leaving the call');\n                await call.leave({\n                    reject: true,\n                    reason: 'cancel',\n                    message: 'ring: everyone rejected'\n                });\n            }\n        } else {\n            if (rejectedBy[eventCall.created_by.id]) {\n                call.logger('info', 'call creator rejected, leaving call');\n                await call.leave({\n                    message: 'ring: creator rejected'\n                });\n            }\n        }\n    };\n};\n/**\n * Event handler that watches the delivery of `call.ended` Websocket event.\n */ const watchCallEnded = (call)=>{\n    return function onCallEnded() {\n        const { callingState } = call.state;\n        if (callingState !== CallingState.IDLE && callingState !== CallingState.LEFT) {\n            call.leave({\n                message: 'call.ended event received',\n                reject: false\n            }).catch((err)=>{\n                call.logger('error', 'Failed to leave call after call.ended ', err);\n            });\n        }\n    };\n};\n/**\n * Watches for `callEnded` events.\n */ const watchSfuCallEnded = (call)=>{\n    return call.on('callEnded', async (e)=>{\n        if (call.state.callingState === CallingState.LEFT) return;\n        try {\n            if (e.reason === CallEndedReason.LIVE_ENDED) {\n                call.state.setBackstage(true);\n                // don't leave the call if the user has permission to join backstage\n                const { hasPermission } = call.permissionsContext;\n                if (hasPermission(OwnCapability.JOIN_BACKSTAGE)) return;\n            }\n            // `call.ended` event arrived after the call is already left\n            // and all event handlers are detached. We need to manually\n            // update the call state to reflect the call has ended.\n            call.state.setEndedAt(new Date());\n            const reason = CallEndedReason[e.reason];\n            await call.leave({\n                message: `callEnded received: ${reason}`\n            });\n        } catch (err) {\n            call.logger('error', 'Failed to leave call after being ended by the SFU', err);\n        }\n    });\n};\n/**\n * Event handler that watches for `callGrantsUpdated` events.\n *\n * @param state the call state to update.\n */ const watchCallGrantsUpdated = (state)=>{\n    return function onCallGrantsUpdated(event) {\n        const { currentGrants } = event;\n        if (currentGrants) {\n            const { canPublishAudio, canPublishVideo, canScreenshare } = currentGrants;\n            const update = {\n                [OwnCapability.SEND_AUDIO]: canPublishAudio,\n                [OwnCapability.SEND_VIDEO]: canPublishVideo,\n                [OwnCapability.SCREENSHARE]: canScreenshare\n            };\n            const nextCapabilities = state.ownCapabilities.filter((capability)=>update[capability] !== false);\n            Object.entries(update).forEach(([capability, value])=>{\n                if (value && !nextCapabilities.includes(capability)) {\n                    nextCapabilities.push(capability);\n                }\n            });\n            state.setOwnCapabilities(nextCapabilities);\n        }\n    };\n};\n/**\n * Adds unique values to an array.\n *\n * @param arr the array to add to.\n * @param values the values to add.\n */ const pushToIfMissing = (arr, ...values)=>{\n    for (const v of values){\n        if (!arr.includes(v)) {\n            arr.push(v);\n        }\n    }\n    return arr;\n};\n/**\n * Removes values from an array if they are present.\n *\n * @param arr the array to remove from.\n * @param values the values to remove.\n */ const removeFromIfPresent = (arr, ...values)=>{\n    for (const v of values){\n        const index = arr.indexOf(v);\n        if (index !== -1) {\n            arr.splice(index, 1);\n        }\n    }\n    return arr;\n};\nconst watchConnectionQualityChanged = (dispatcher, state)=>{\n    return dispatcher.on('connectionQualityChanged', (e)=>{\n        const { connectionQualityUpdates } = e;\n        if (!connectionQualityUpdates) return;\n        state.updateParticipants(connectionQualityUpdates.reduce((patches, update)=>{\n            const { sessionId, connectionQuality } = update;\n            patches[sessionId] = {\n                connectionQuality\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Updates the approximate number of participants in the call by peeking at the\n * health check events that our SFU sends.\n */ const watchParticipantCountChanged = (dispatcher, state)=>{\n    return dispatcher.on('healthCheckResponse', (e)=>{\n        const { participantCount } = e;\n        if (participantCount) {\n            state.setParticipantCount(participantCount.total);\n            state.setAnonymousParticipantCount(participantCount.anonymous);\n        }\n    });\n};\nconst watchLiveEnded = (dispatcher, call)=>{\n    return dispatcher.on('error', (e)=>{\n        if (e.error && e.error.code !== ErrorCode.LIVE_ENDED) return;\n        call.state.setBackstage(true);\n        if (!call.permissionsContext.hasPermission(OwnCapability.JOIN_BACKSTAGE)) {\n            call.leave({\n                message: 'live ended'\n            }).catch((err)=>{\n                call.logger('error', 'Failed to leave call after live ended', err);\n            });\n        }\n    });\n};\n/**\n * Watches and logs the errors reported by the currently connected SFU.\n */ const watchSfuErrorReports = (dispatcher)=>{\n    return dispatcher.on('error', (e)=>{\n        if (!e.error) return;\n        const logger = getLogger([\n            'SfuClient'\n        ]);\n        const { error, reconnectStrategy } = e;\n        logger('error', 'SFU reported error', {\n            code: ErrorCode[error.code],\n            reconnectStrategy: WebsocketReconnectStrategy[reconnectStrategy],\n            message: error.message,\n            shouldRetry: error.shouldRetry\n        });\n    });\n};\n/**\n * Watches for `pinsUpdated` events and updates the pinned state of participants\n * in the call.\n */ const watchPinsUpdated = (state)=>{\n    return function onPinsUpdated(e) {\n        const { pins } = e;\n        state.setServerSidePins(pins);\n    };\n};\n/**\n * Watches for inbound state notifications and updates the paused tracks\n *\n * @param state the call state to update.\n */ const watchInboundStateNotification = (state)=>{\n    return function onInboundStateNotification(e) {\n        const { inboundVideoStates } = e;\n        const current = state.getParticipantLookupBySessionId();\n        const patches = {};\n        for (const { sessionId, trackType, paused } of inboundVideoStates){\n            const pausedTracks = [\n                ...current[sessionId]?.pausedTracks ?? []\n            ];\n            if (paused) {\n                pushToIfMissing(pausedTracks, trackType);\n            } else {\n                removeFromIfPresent(pausedTracks, trackType);\n            }\n            patches[sessionId] = {\n                pausedTracks\n            };\n        }\n        state.updateParticipants(patches);\n    };\n};\n/**\n * An event handler that handles soft mutes.\n *\n * @param call the call.\n */ const handleRemoteSoftMute = (call)=>{\n    return call.on('trackUnpublished', async (event)=>{\n        const { cause, type, sessionId } = event;\n        const { localParticipant } = call.state;\n        if (cause === TrackUnpublishReason.MODERATION && sessionId === localParticipant?.sessionId) {\n            const logger = call.logger;\n            logger('info', `Local participant's ${TrackType[type]} track is muted remotely`);\n            try {\n                if (type === TrackType.VIDEO) {\n                    await call.camera.disable();\n                } else if (type === TrackType.AUDIO) {\n                    await call.microphone.disable();\n                } else if (type === TrackType.SCREEN_SHARE || type === TrackType.SCREEN_SHARE_AUDIO) {\n                    await call.screenShare.disable();\n                } else {\n                    logger('warn', 'Unsupported track type to soft mute', TrackType[type]);\n                }\n            } catch (error) {\n                logger('error', 'Failed to stop publishing', error);\n            }\n        }\n    });\n};\n/**\n * An event responder which handles the `participantJoined` event.\n */ const watchParticipantJoined = (state)=>{\n    return function onParticipantJoined(e) {\n        const { participant } = e;\n        if (!participant) return;\n        // `state.updateOrAddParticipant` acts as a safeguard against\n        // potential duplicate events from the SFU.\n        //\n        // Although the SFU should not send duplicate events, we have seen\n        // some race conditions in the past during the `join-flow`.\n        // The SFU would send participant info as part of the `join`\n        // response and then follow up with a `participantJoined` event for\n        // already announced participants.\n        const orphanedTracks = reconcileOrphanedTracks(state, participant);\n        state.updateOrAddParticipant(participant.sessionId, Object.assign(participant, orphanedTracks, {\n            viewportVisibilityState: {\n                videoTrack: VisibilityState.UNKNOWN,\n                screenShareTrack: VisibilityState.UNKNOWN\n            }\n        }));\n    };\n};\n/**\n * An event responder which handles the `participantLeft` event.\n */ const watchParticipantLeft = (state)=>{\n    return function onParticipantLeft(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.setParticipants((participants)=>participants.filter((p)=>p.sessionId !== participant.sessionId));\n    };\n};\n/**\n * An event responder which handles the `participantUpdated` event.\n */ const watchParticipantUpdated = (state)=>{\n    return function onParticipantUpdated(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.updateParticipant(participant.sessionId, participant);\n    };\n};\n/**\n * An event responder which handles the `trackPublished` event.\n * The SFU will send this event when a participant publishes a track.\n */ const watchTrackPublished = (state)=>{\n    return function onTrackPublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls.\n        // After a certain threshold, the SFU would stop emitting `participantJoined`\n        // events, and instead, it would only provide the participant's information\n        // once they start publishing a track.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: pushToIfMissing([\n                        ...p.publishedTracks\n                    ], type)\n                }));\n        }\n    };\n};\n/**\n * An event responder which handles the `trackUnpublished` event.\n * The SFU will send this event when a participant unpublishes a track.\n */ const watchTrackUnpublished = (state)=>{\n    return function onTrackUnpublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls. See `watchTrackPublished`.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant, (p)=>({\n                    pausedTracks: p.pausedTracks?.filter((t)=>t !== type)\n                }));\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: p.publishedTracks.filter((t)=>t !== type),\n                    pausedTracks: p.pausedTracks?.filter((t)=>t !== type)\n                }));\n        }\n    };\n};\n/**\n * Reconciles orphaned tracks (if any) for the given participant.\n *\n * @param state the call state.\n * @param participant the participant.\n */ const reconcileOrphanedTracks = (state, participant)=>{\n    const orphanTracks = state.takeOrphanedTracks(participant.trackLookupPrefix);\n    if (!orphanTracks.length) return;\n    const reconciledTracks = {};\n    for (const orphan of orphanTracks){\n        const key = trackTypeToParticipantStreamKey(orphan.trackType);\n        if (!key) continue;\n        reconciledTracks[key] = orphan.track;\n    }\n    return reconciledTracks;\n};\n/**\n * Watches for `dominantSpeakerChanged` events.\n */ const watchDominantSpeakerChanged = (dispatcher, state)=>{\n    return dispatcher.on('dominantSpeakerChanged', (e)=>{\n        const { sessionId } = e;\n        if (sessionId === state.dominantSpeaker?.sessionId) return;\n        state.setParticipants((participants)=>participants.map((participant)=>{\n                // mark the new dominant speaker\n                if (participant.sessionId === sessionId) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: true\n                    };\n                }\n                // unmark the old dominant speaker\n                if (participant.isDominantSpeaker) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: false\n                    };\n                }\n                return participant; // no change\n            }));\n    });\n};\n/**\n * Watches for `audioLevelChanged` events.\n */ const watchAudioLevelChanged = (dispatcher, state)=>{\n    return dispatcher.on('audioLevelChanged', (e)=>{\n        const { audioLevels } = e;\n        state.updateParticipants(audioLevels.reduce((patches, current)=>{\n            patches[current.sessionId] = {\n                audioLevel: current.level,\n                isSpeaking: current.isSpeaking\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Registers the default event handlers for a call during its lifecycle.\n *\n * @param call the call to register event handlers for.\n * @param dispatcher the dispatcher.\n */ const registerEventHandlers = (call, dispatcher)=>{\n    const state = call.state;\n    const eventHandlers = [\n        call.on('call.ended', watchCallEnded(call)),\n        watchSfuCallEnded(call),\n        watchLiveEnded(dispatcher, call),\n        watchSfuErrorReports(dispatcher),\n        watchConnectionQualityChanged(dispatcher, state),\n        watchParticipantCountChanged(dispatcher, state),\n        call.on('participantJoined', watchParticipantJoined(state)),\n        call.on('participantLeft', watchParticipantLeft(state)),\n        call.on('participantUpdated', watchParticipantUpdated(state)),\n        call.on('trackPublished', watchTrackPublished(state)),\n        call.on('trackUnpublished', watchTrackUnpublished(state)),\n        watchAudioLevelChanged(dispatcher, state),\n        watchDominantSpeakerChanged(dispatcher, state),\n        call.on('callGrantsUpdated', watchCallGrantsUpdated(state)),\n        call.on('pinsUpdated', watchPinsUpdated(state)),\n        call.on('inboundStateNotification', watchInboundStateNotification(state)),\n        handleRemoteSoftMute(call)\n    ];\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Registers event handlers for a call that is of ringing type.\n *\n * @param call the call to register event handlers for.\n */ const registerRingingCallEventHandlers = (call)=>{\n    const coordinatorRingEvents = {\n        'call.accepted': watchCallAccepted(call),\n        'call.rejected': watchCallRejected(call)\n    };\n    const eventHandlers = Object.keys(coordinatorRingEvents).map((event)=>{\n        const eventName = event;\n        return call.on(eventName, coordinatorRingEvents[eventName]);\n    });\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\nconst DEFAULT_THRESHOLD = 0.35;\nclass ViewportTracker {\n    constructor(){\n        /**\n         * @private\n         */ this.elementHandlerMap = new Map();\n        /**\n         * @private\n         */ this.observer = null;\n        // in React children render before viewport is set, add\n        // them to the queue and observe them once the observer is ready\n        /**\n         * @private\n         */ this.queueSet = new Set();\n        /**\n         * Method to set scrollable viewport as root for the IntersectionObserver, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param viewportElement\n         * @param options\n         * @returns Unobserve\n         */ this.setViewport = (viewportElement, options)=>{\n            const cleanup = ()=>{\n                this.observer?.disconnect();\n                this.observer = null;\n                this.elementHandlerMap.clear();\n            };\n            this.observer = new IntersectionObserver((entries)=>{\n                entries.forEach((entry)=>{\n                    const handler = this.elementHandlerMap.get(entry.target);\n                    handler?.(entry);\n                });\n            }, {\n                root: viewportElement,\n                ...options,\n                threshold: options?.threshold ?? DEFAULT_THRESHOLD\n            });\n            if (this.queueSet.size) {\n                this.queueSet.forEach(([queueElement, queueHandler])=>{\n                    // check if element which requested observation is\n                    // a child of a viewport element, skip if isn't\n                    if (!viewportElement.contains(queueElement)) return;\n                    this.observer.observe(queueElement);\n                    this.elementHandlerMap.set(queueElement, queueHandler);\n                });\n                this.queueSet.clear();\n            }\n            return cleanup;\n        };\n        /**\n         * Method to set element to observe and handler to be triggered whenever IntersectionObserver\n         * detects a possible change in element's visibility within specified viewport, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param element\n         * @param handler\n         * @returns Unobserve\n         */ this.observe = (element, handler)=>{\n            const queueItem = [\n                element,\n                handler\n            ];\n            const cleanup = ()=>{\n                this.elementHandlerMap.delete(element);\n                this.observer?.unobserve(element);\n                this.queueSet.delete(queueItem);\n            };\n            if (this.elementHandlerMap.has(element)) return cleanup;\n            if (!this.observer) {\n                this.queueSet.add(queueItem);\n                return cleanup;\n            }\n            if (this.observer.root.contains(element)) {\n                this.elementHandlerMap.set(element, handler);\n                this.observer.observe(element);\n            }\n            return cleanup;\n        };\n    }\n}\nconst DEFAULT_VIEWPORT_VISIBILITY_STATE = {\n    videoTrack: VisibilityState.UNKNOWN,\n    screenShareTrack: VisibilityState.UNKNOWN\n};\nconst globalOverrideKey = Symbol('globalOverrideKey');\n/**\n * A manager class that handles dynascale related tasks like:\n *\n * - binding video elements to session ids\n * - binding audio elements to session ids\n * - tracking element visibility\n * - updating subscriptions based on viewport visibility\n * - updating subscriptions based on video element dimensions\n * - updating subscriptions based on published tracks\n */ class DynascaleManager {\n    /**\n     * Creates a new DynascaleManager instance.\n     */ constructor(callState, speaker){\n        /**\n         * The viewport tracker instance.\n         */ this.viewportTracker = new ViewportTracker();\n        this.logger = getLogger([\n            'DynascaleManager'\n        ]);\n        this.pendingSubscriptionsUpdate = null;\n        this.videoTrackSubscriptionOverridesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject({});\n        this.videoTrackSubscriptionOverrides$ = this.videoTrackSubscriptionOverridesSubject.asObservable();\n        this.incomingVideoSettings$ = this.videoTrackSubscriptionOverrides$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((overrides)=>{\n            const { [globalOverrideKey]: globalSettings, ...participants } = overrides;\n            return {\n                enabled: globalSettings?.enabled !== false,\n                preferredResolution: globalSettings?.enabled ? globalSettings.dimension : undefined,\n                participants: Object.fromEntries(Object.entries(participants).map(([sessionId, participantOverride])=>[\n                        sessionId,\n                        {\n                            enabled: participantOverride?.enabled !== false,\n                            preferredResolution: participantOverride?.enabled ? participantOverride.dimension : undefined\n                        }\n                    ])),\n                isParticipantVideoEnabled: (sessionId)=>overrides[sessionId]?.enabled ?? overrides[globalOverrideKey]?.enabled ?? true\n            };\n        }), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1));\n        /**\n         * Disposes the allocated resources and closes the audio context if it was created.\n         */ this.dispose = async ()=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const context = this.getOrCreateAudioContext();\n            if (context && context.state !== 'closed') {\n                document.removeEventListener('click', this.resumeAudioContext);\n                await context.close();\n                this.audioContext = undefined;\n            }\n        };\n        this.setVideoTrackSubscriptionOverrides = (override, sessionIds)=>{\n            if (!sessionIds) {\n                return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, override ? {\n                    [globalOverrideKey]: override\n                } : {});\n            }\n            return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, (overrides)=>({\n                    ...overrides,\n                    ...Object.fromEntries(sessionIds.map((id)=>[\n                            id,\n                            override\n                        ]))\n                }));\n        };\n        this.applyTrackSubscriptions = (debounceType = DebounceType.SLOW)=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const updateSubscriptions = ()=>{\n                this.pendingSubscriptionsUpdate = null;\n                this.sfuClient?.updateSubscriptions(this.trackSubscriptions).catch((err)=>{\n                    this.logger('debug', `Failed to update track subscriptions`, err);\n                });\n            };\n            if (debounceType) {\n                this.pendingSubscriptionsUpdate = setTimeout(updateSubscriptions, debounceType);\n            } else {\n                updateSubscriptions();\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         * @returns Untrack.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            const cleanup = this.viewportTracker.observe(element, (entry)=>{\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    // observer triggers when the element is \"moved\" to be a fullscreen element\n                    // keep it VISIBLE if that happens to prevent fullscreen with placeholder\n                    const isVisible = entry.isIntersecting || document.fullscreenElement === element ? VisibilityState.VISIBLE : VisibilityState.INVISIBLE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: isVisible\n                        }\n                    };\n                });\n            });\n            return ()=>{\n                cleanup();\n                // reset visibility state to UNKNOWN upon cleanup\n                // so that the layouts that are not actively observed\n                // can still function normally (runtime layout switching)\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: VisibilityState.UNKNOWN\n                        }\n                    };\n                });\n            };\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.viewportTracker.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const boundParticipant = this.callState.findParticipantBySessionId(sessionId);\n            if (!boundParticipant) return;\n            const requestTrackWithDimensions = (debounceType, dimension)=>{\n                if (dimension && (dimension.width === 0 || dimension.height === 0)) {\n                    // ignore 0x0 dimensions. this can happen when the video element\n                    // is not visible (e.g., has display: none).\n                    // we treat this as \"unsubscription\" as we don't want to keep\n                    // consuming bandwidth for a video that is not visible on the screen.\n                    this.logger('debug', `Ignoring 0x0 dimension`, boundParticipant);\n                    dimension = undefined;\n                }\n                this.callState.updateParticipantTracks(trackType, {\n                    [sessionId]: {\n                        dimension\n                    }\n                });\n                this.applyTrackSubscriptions(debounceType);\n            };\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((ps)=>ps.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.takeWhile)((participant)=>!!participant), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            /**\n             * Since the video elements are now being removed from the DOM (React SDK) upon\n             * visibility change, this subscription is not in use an stays here only for the\n             * plain JS integrations where integrators might choose not to remove the video\n             * elements from the DOM.\n             */ // keep copy for resize observer handler\n            let viewportVisibilityState;\n            const viewportVisibilityStateSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((p)=>p.viewportVisibilityState?.[trackType]), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)()).subscribe((nextViewportVisibilityState)=>{\n                // skip initial trigger\n                if (!viewportVisibilityState) {\n                    viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                    return;\n                }\n                viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                if (nextViewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return requestTrackWithDimensions(DebounceType.MEDIUM, undefined);\n                }\n                requestTrackWithDimensions(DebounceType.MEDIUM, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n            });\n            let lastDimensions;\n            const resizeObserver = boundParticipant.isLocalParticipant ? null : new ResizeObserver(()=>{\n                const currentDimensions = {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                };\n                // skip initial trigger\n                if (!lastDimensions) {\n                    lastDimensions = currentDimensions;\n                    return;\n                }\n                if (lastDimensions.width === currentDimensions.width && lastDimensions.height === currentDimensions.height || viewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return;\n                }\n                const relativeDelta = Math.max(currentDimensions.width / lastDimensions.width, currentDimensions.height / lastDimensions.height);\n                // Low quality video in an upscaled video element is very noticable.\n                // We try to upscale faster, and downscale slower. We also update debounce\n                // more if the size change is not significant, gurading against fast-firing\n                // resize events.\n                const debounceType = relativeDelta > 1.2 ? DebounceType.IMMEDIATE : DebounceType.MEDIUM;\n                requestTrackWithDimensions(debounceType, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n                lastDimensions = currentDimensions;\n            });\n            resizeObserver?.observe(videoElement);\n            // element renders and gets bound - track subscription gets\n            // triggered first other ones get skipped on initial subscriptions\n            const publishedTracksSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilKeyChanged)('publishedTracks'), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((p)=>trackType === 'videoTrack' ? hasVideo(p) : hasScreenShare(p)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)()).subscribe((isPublishing)=>{\n                if (isPublishing) {\n                    // the participant just started to publish a track\n                    requestTrackWithDimensions(DebounceType.IMMEDIATE, {\n                        width: videoElement.clientWidth,\n                        height: videoElement.clientHeight\n                    });\n                } else {\n                    // the participant just stopped publishing a track\n                    requestTrackWithDimensions(DebounceType.FAST, undefined);\n                }\n            });\n            videoElement.autoplay = true;\n            videoElement.playsInline = true;\n            // explicitly marking the element as muted will allow autoplay to work\n            // without prior user interaction:\n            // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n            videoElement.muted = true;\n            const streamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilKeyChanged)(trackType === 'videoTrack' ? 'videoStream' : 'screenShareStream')).subscribe((p)=>{\n                const source = trackType === 'videoTrack' ? p.videoStream : p.screenShareStream;\n                if (videoElement.srcObject === source) return;\n                videoElement.srcObject = source ?? null;\n                if (isSafari() || isFirefox()) {\n                    setTimeout(()=>{\n                        videoElement.srcObject = source ?? null;\n                        videoElement.play().catch((e)=>{\n                            this.logger('warn', `Failed to play stream`, e);\n                        });\n                    // we add extra delay until we attempt to force-play\n                    // the participant's media stream in Firefox and Safari,\n                    // as they seem to have some timing issues\n                    }, 25);\n                }\n            });\n            return ()=>{\n                requestTrackWithDimensions(DebounceType.FAST, undefined);\n                viewportVisibilityStateSubscription?.unsubscribe();\n                publishedTracksSubscription?.unsubscribe();\n                streamSubscription.unsubscribe();\n                resizeObserver?.disconnect();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         * @returns a cleanup function that will unbind the audio element.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType)=>{\n            const participant = this.callState.findParticipantBySessionId(sessionId);\n            if (!participant || participant.isLocalParticipant) return;\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((ps)=>ps.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.takeWhile)((p)=>!!p), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            const updateSinkId = (deviceId, audioContext)=>{\n                if (!deviceId) return;\n                if ('setSinkId' in audioElement) {\n                    audioElement.setSinkId(deviceId).catch((e)=>{\n                        this.logger('warn', `Can't to set AudioElement sinkId`, e);\n                    });\n                }\n                if (audioContext && 'setSinkId' in audioContext) {\n                    // @ts-expect-error setSinkId is not available in all browsers\n                    audioContext.setSinkId(deviceId).catch((e)=>{\n                        this.logger('warn', `Can't to set AudioContext sinkId`, e);\n                    });\n                }\n            };\n            let sourceNode = undefined;\n            let gainNode = undefined;\n            const updateMediaStreamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilKeyChanged)(trackType === 'screenShareAudioTrack' ? 'screenShareAudioStream' : 'audioStream')).subscribe((p)=>{\n                const source = trackType === 'screenShareAudioTrack' ? p.screenShareAudioStream : p.audioStream;\n                if (audioElement.srcObject === source) return;\n                setTimeout(()=>{\n                    audioElement.srcObject = source ?? null;\n                    if (!source) return;\n                    // Safari has a special quirk that prevents playing audio until the user\n                    // interacts with the page or focuses on the tab where the call happens.\n                    // This is a workaround for the issue where:\n                    // - A and B are in a call\n                    // - A switches to another tab\n                    // - B mutes their microphone and unmutes it\n                    // - A does not hear B's unmuted audio until they focus the tab\n                    const audioContext = this.getOrCreateAudioContext();\n                    if (audioContext) {\n                        // we will play audio through the audio context in Safari\n                        audioElement.muted = true;\n                        sourceNode?.disconnect();\n                        sourceNode = audioContext.createMediaStreamSource(source);\n                        gainNode ?? (gainNode = audioContext.createGain());\n                        gainNode.gain.value = p.audioVolume ?? this.speaker.state.volume;\n                        sourceNode.connect(gainNode).connect(audioContext.destination);\n                        this.resumeAudioContext();\n                    } else {\n                        // we will play audio directly through the audio element in other browsers\n                        audioElement.muted = false;\n                        audioElement.play().catch((e)=>{\n                            this.logger('warn', `Failed to play audio stream`, e);\n                        });\n                    }\n                    const { selectedDevice } = this.speaker.state;\n                    if (selectedDevice) updateSinkId(selectedDevice, audioContext);\n                });\n            });\n            const sinkIdSubscription = !('setSinkId' in audioElement) ? null : this.speaker.state.selectedDevice$.subscribe((deviceId)=>{\n                const audioContext = this.getOrCreateAudioContext();\n                updateSinkId(deviceId, audioContext);\n            });\n            const volumeSubscription = (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n                this.speaker.state.volume$,\n                participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilKeyChanged)('audioVolume'))\n            ]).subscribe(([volume, p])=>{\n                const participantVolume = p.audioVolume ?? volume;\n                audioElement.volume = participantVolume;\n                if (gainNode) gainNode.gain.value = participantVolume;\n            });\n            audioElement.autoplay = true;\n            return ()=>{\n                sinkIdSubscription?.unsubscribe();\n                volumeSubscription.unsubscribe();\n                updateMediaStreamSubscription.unsubscribe();\n                audioElement.srcObject = null;\n                sourceNode?.disconnect();\n                gainNode?.disconnect();\n            };\n        };\n        this.getOrCreateAudioContext = ()=>{\n            if (this.audioContext || !isSafari()) return this.audioContext;\n            const context = new AudioContext();\n            if (context.state === 'suspended') {\n                document.addEventListener('click', this.resumeAudioContext);\n            }\n            // @ts-expect-error audioSession is available in Safari only\n            const audioSession = navigator.audioSession;\n            if (audioSession) {\n                // https://github.com/w3c/audio-session/blob/main/explainer.md\n                audioSession.type = 'play-and-record';\n            }\n            return this.audioContext = context;\n        };\n        this.resumeAudioContext = ()=>{\n            if (this.audioContext?.state === 'suspended') {\n                this.audioContext.resume().catch((err)=>this.logger('warn', `Can't resume audio context`, err)).then(()=>{\n                    document.removeEventListener('click', this.resumeAudioContext);\n                });\n            }\n        };\n        this.callState = callState;\n        this.speaker = speaker;\n    }\n    setSfuClient(sfuClient) {\n        this.sfuClient = sfuClient;\n    }\n    get trackSubscriptions() {\n        const subscriptions = [];\n        for (const p of this.callState.remoteParticipants){\n            // NOTE: audio tracks don't have to be requested explicitly\n            // as the SFU will implicitly subscribe us to all of them,\n            // once they become available.\n            if (p.videoDimension && hasVideo(p)) {\n                const override = this.videoTrackSubscriptionOverrides[p.sessionId] ?? this.videoTrackSubscriptionOverrides[globalOverrideKey];\n                if (override?.enabled !== false) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.VIDEO,\n                        dimension: override?.dimension ?? p.videoDimension\n                    });\n                }\n            }\n            if (p.screenShareDimension && hasScreenShare(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE,\n                    dimension: p.screenShareDimension\n                });\n            }\n            if (hasScreenShareAudio(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE_AUDIO\n                });\n            }\n        }\n        return subscriptions;\n    }\n    get videoTrackSubscriptionOverrides() {\n        return getCurrentValue(this.videoTrackSubscriptionOverrides$);\n    }\n}\n/**\n * Stores the permissions for the current user and exposes\n * a few helper methods which make it easier to work with permissions.\n *\n * This is an internal class meant to be used in combination with\n * a {@link Call} instance.\n *\n * @internal\n */ class PermissionsContext {\n    constructor(){\n        this.permissions = [];\n        /**\n         * Sets the permissions for the current user.\n         *\n         * @param permissions the permissions to set.\n         */ this.setPermissions = (permissions)=>{\n            this.permissions = permissions || [];\n        };\n        /**\n         * Sets the settings for the bound call.\n         * @param settings\n         */ this.setCallSettings = (settings)=>{\n            this.settings = settings;\n        };\n        /**\n         * Checks if the current user has a specific permission.\n         *\n         * @param permission the permission to check for.\n         */ this.hasPermission = (permission)=>{\n            return this.permissions.includes(permission);\n        };\n        /**\n         * Helper method that checks whether the current user has the permission\n         * to publish the given track type.\n         */ this.canPublish = (trackType)=>{\n            switch(trackType){\n                case TrackType.AUDIO:\n                    return this.hasPermission(OwnCapability.SEND_AUDIO);\n                case TrackType.VIDEO:\n                    return this.hasPermission(OwnCapability.SEND_VIDEO);\n                case TrackType.SCREEN_SHARE:\n                case TrackType.SCREEN_SHARE_AUDIO:\n                    return this.hasPermission(OwnCapability.SCREENSHARE);\n                case TrackType.UNSPECIFIED:\n                    return false;\n                default:\n                    ensureExhausted(trackType, 'Unknown track type');\n            }\n        };\n        /**\n         * Checks if the current user can request a specific permission\n         * within the call.\n         *\n         * @param permission the permission to check for.\n         * @param settings the call settings to check against (optional).\n         */ this.canRequest = (permission, settings = this.settings)=>{\n            if (!settings) return false;\n            const { audio, video, screensharing } = settings;\n            switch(permission){\n                case OwnCapability.SEND_AUDIO:\n                    return audio.access_request_enabled;\n                case OwnCapability.SEND_VIDEO:\n                    return video.access_request_enabled;\n                case OwnCapability.SCREENSHARE:\n                    return screensharing.access_request_enabled;\n                default:\n                    return false;\n            }\n        };\n    }\n}\n/**\n * Represents a call type.\n */ class CallType {\n    /**\n     * Constructs a new CallType.\n     *\n     * @param name the name of the call type.\n     * @param options the options for the call type.\n     */ constructor(name, options = {\n        sortParticipantsBy: defaultSortPreset\n    }){\n        this.name = name;\n        this.options = options;\n    }\n}\n/**\n * A registry of {@link CallType}s.\n * You can register and unregister call types.\n */ class CallTypesRegistry {\n    /**\n     * Constructs a new CallTypesRegistry.\n     *\n     * @param callTypes the initial call types to register.\n     */ constructor(callTypes){\n        /**\n         * Registers a new call type.\n         *\n         * @param callType the call type to register.\n         */ this.register = (callType)=>{\n            this.callTypes[callType.name] = callType;\n        };\n        /**\n         * Unregisters a call type.\n         *\n         * @param name the name of the call type to unregister.\n         */ this.unregister = (name)=>{\n            delete this.callTypes[name];\n        };\n        /**\n         * Gets a call type by name.\n         *\n         * @param name the name of the call type to get.\n         */ this.get = (name)=>{\n            if (!this.callTypes[name]) {\n                this.register(new CallType(name));\n            }\n            return this.callTypes[name];\n        };\n        this.callTypes = callTypes.reduce((acc, callType)=>{\n            acc[callType.name] = callType;\n            return acc;\n        }, {});\n    }\n}\n/**\n * The default call types registry.\n * You can use this instance to dynamically register and unregister call types.\n */ const CallTypes = new CallTypesRegistry([\n    new CallType('default', {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType('development', {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType('livestream', {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    }),\n    new CallType('audio_room', {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    })\n]);\n/**\n * Deactivates MediaStream (stops and removes tracks) to be later garbage collected\n *\n * @param stream MediaStream\n * @returns void\n */ const disposeOfMediaStream = (stream)=>{\n    if (!stream.active) return;\n    stream.getTracks().forEach((track)=>{\n        track.stop();\n    });\n    // @ts-expect-error release() is present in react-native-webrtc and must be called to dispose the stream\n    if (typeof stream.release === 'function') {\n        // @ts-expect-error - release() is present in react-native-webrtc\n        stream.release();\n    }\n};\nclass BrowserPermission {\n    constructor(permission){\n        this.permission = permission;\n        this.disposeController = new AbortController();\n        this.wasPrompted = false;\n        this.listeners = new Set();\n        this.logger = getLogger([\n            'permissions'\n        ]);\n        const signal = this.disposeController.signal;\n        this.ready = (async ()=>{\n            const assumeGranted = ()=>{\n                if (isReactNative()) {\n                    this.setState('granted');\n                } else {\n                    this.setState('prompt');\n                }\n            };\n            if (!canQueryPermissions()) {\n                return assumeGranted();\n            }\n            try {\n                const status = await navigator.permissions.query({\n                    name: permission.queryName\n                });\n                if (!signal.aborted) {\n                    this.setState(status.state);\n                    status.addEventListener('change', ()=>this.setState(status.state), {\n                        signal\n                    });\n                }\n            } catch (err) {\n                this.logger('debug', 'Failed to query permission status', err);\n                assumeGranted();\n            }\n        })();\n    }\n    dispose() {\n        this.state = undefined;\n        this.disposeController.abort();\n    }\n    async getState() {\n        await this.ready;\n        if (!this.state) {\n            throw new Error('BrowserPermission instance possibly disposed');\n        }\n        return this.state;\n    }\n    async prompt({ forcePrompt = false, throwOnNotAllowed = false } = {}) {\n        return await withoutConcurrency(`permission-prompt-${this.permission.queryName}`, async ()=>{\n            if (await this.getState() !== 'prompt' || this.wasPrompted && !forcePrompt) {\n                const isGranted = this.state === 'granted';\n                if (!isGranted && throwOnNotAllowed) {\n                    throw new Error('Permission was not granted previously, and prompting again is not allowed');\n                }\n                return isGranted;\n            }\n            try {\n                this.wasPrompted = true;\n                this.setState('prompting');\n                const stream = await navigator.mediaDevices.getUserMedia(this.permission.constraints);\n                disposeOfMediaStream(stream);\n                this.setState('granted');\n                return true;\n            } catch (e) {\n                if (e && typeof e === 'object' && 'name' in e && (e.name === 'NotAllowedError' || e.name === 'SecurityError')) {\n                    this.logger('info', 'Browser permission was not granted', {\n                        permission: this.permission\n                    });\n                    this.setState('denied');\n                    if (throwOnNotAllowed) {\n                        throw e;\n                    }\n                    return false;\n                }\n                this.logger('error', `Failed to getUserMedia`, {\n                    error: e,\n                    permission: this.permission\n                });\n                this.setState('prompt');\n                throw e;\n            }\n        });\n    }\n    listen(cb) {\n        this.listeners.add(cb);\n        if (this.state) cb(this.state);\n        return ()=>this.listeners.delete(cb);\n    }\n    asObservable() {\n        return this.getStateObservable().pipe(// In some browsers, the 'change' event doesn't reliably emit and hence,\n        // permissionState stays in 'prompt' state forever.\n        // Typically, this happens when a user grants one-time permission.\n        // Instead of checking if a permission is granted, we check if it isn't denied\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((state)=>state !== 'denied'));\n    }\n    asStateObservable() {\n        return this.getStateObservable();\n    }\n    getIsPromptingObservable() {\n        return this.getStateObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)((state)=>state === 'prompting'));\n    }\n    getStateObservable() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.fromEventPattern)((handler)=>this.listen(handler), (handler, unlisten)=>unlisten());\n    }\n    setState(state) {\n        if (this.state !== state) {\n            this.state = state;\n            this.listeners.forEach((listener)=>listener(state));\n        }\n    }\n}\nfunction canQueryPermissions() {\n    return !isReactNative() && typeof navigator !== 'undefined' && !!navigator.permissions?.query;\n}\n/**\n * Returns an Observable that emits the list of available devices\n * that meet the given constraints.\n *\n * @param permission a BrowserPermission instance.\n * @param kind the kind of devices to enumerate.\n * @param tracer the tracer to use for tracing the device enumeration.\n */ const getDevices = (permission, kind, tracer)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.from)((async ()=>{\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        // for privacy reasons, most browsers don't give you device labels\n        // unless you have a corresponding camera or microphone permission\n        const shouldPromptForBrowserPermission = devices.some((device)=>device.kind === kind && device.label === '');\n        if (shouldPromptForBrowserPermission && await permission.prompt()) {\n            devices = await navigator.mediaDevices.enumerateDevices();\n        }\n        tracer?.traceOnce('device-enumeration', 'navigator.mediaDevices.enumerateDevices', devices);\n        return devices.filter((device)=>device.kind === kind && device.label !== '' && device.deviceId !== 'default');\n    })());\n};\n/**\n * Tells if the browser supports audio output change on 'audio' elements,\n * see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId.\n */ const checkIfAudioOutputChangeSupported = ()=>{\n    if (typeof document === 'undefined') return false;\n    const element = document.createElement('audio');\n    return 'setSinkId' in element;\n};\n/**\n * The default constraints used to request audio devices.\n */ const audioDeviceConstraints = {\n    audio: {\n        autoGainControl: true,\n        noiseSuppression: true,\n        echoCancellation: true\n    }\n};\n/**\n * The default constraints used to request video devices.\n */ const videoDeviceConstraints = {\n    video: {\n        width: 1280,\n        height: 720\n    }\n};\n/**\n * Keeps track of the browser permission to use microphone. This permission also\n * affects an ability to enumerate audio devices.\n */ const getAudioBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: audioDeviceConstraints,\n        queryName: 'microphone'\n    }));\n/**\n * Keeps track of the browser permission to use camera. This permission also\n * affects an ability to enumerate video devices.\n */ const getVideoBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: videoDeviceConstraints,\n        queryName: 'camera'\n    }));\nconst getDeviceChangeObserver = lazy((tracer)=>{\n    // 'addEventListener' is not available in React Native, returning\n    // an observable that will never fire\n    if (!navigator.mediaDevices.addEventListener) return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.from)([]);\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.fromEvent)(navigator.mediaDevices, 'devicechange').pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.tap)(()=>tracer?.resetTrace('device-enumeration')), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.map)(()=>undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.debounceTime)(500));\n});\n/**\n * Prompts the user for a permission to use audio devices (if not already granted\n * and was not prompted before) and lists the available 'audioinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioDevices = lazy((tracer)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.merge)(getDeviceChangeObserver(tracer), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.concatMap)(()=>getDevices(getAudioBrowserPermission(), 'audioinput', tracer)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'videoinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getVideoDevices = lazy((tracer)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.merge)(getDeviceChangeObserver(tracer), getVideoBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.concatMap)(()=>getDevices(getVideoBrowserPermission(), 'videoinput', tracer)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'audiooutput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioOutputDevices = lazy((tracer)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.merge)(getDeviceChangeObserver(tracer), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.concatMap)(()=>getDevices(getAudioBrowserPermission(), 'audiooutput', tracer)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1));\n});\nlet getUserMediaExecId = 0;\nconst getStream = async (constraints, tracer)=>{\n    const tag = `navigator.mediaDevices.getUserMedia.${getUserMediaExecId++}.`;\n    try {\n        tracer?.trace(tag, constraints);\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        tracer?.trace(`${tag}OnSuccess`, dumpStream(stream));\n        if (isFirefox()) {\n            // When enumerating devices, Firefox will hide device labels unless there's been\n            // an active user media stream on the page. So we force device list updates after\n            // every successful getUserMedia call.\n            navigator.mediaDevices.dispatchEvent(new Event('devicechange'));\n        }\n        if (constraints.video) {\n            const [videoTrack] = stream.getVideoTracks();\n            if (videoTrack) {\n                const { width, height } = videoTrack.getSettings();\n                const target = constraints.video;\n                if (width !== target.width || height !== target.height) {\n                    tracer?.trace(`${tag}Warn`, `Requested resolution ${target.width}x${target.height} but got ${width}x${height}`);\n                }\n            }\n        }\n        return stream;\n    } catch (error) {\n        tracer?.trace(`${tag}OnFailure`, error.name);\n        throw error;\n    }\n};\nfunction isNotFoundOrOverconstrainedError(error) {\n    if (!error || typeof error !== 'object') {\n        return false;\n    }\n    if ('name' in error && typeof error.name === 'string') {\n        const name = error.name;\n        if ([\n            'OverconstrainedError',\n            'NotFoundError'\n        ].includes(name)) {\n            return true;\n        }\n    }\n    if ('message' in error && typeof error.message === 'string') {\n        const message = error.message;\n        if (message.startsWith('OverconstrainedError')) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * Returns an audio media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @param trackConstraints the constraints to use when requesting the stream.\n * @param tracer the tracer to use for tracing the stream creation.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getAudioStream = async (trackConstraints, tracer)=>{\n    const constraints = {\n        audio: {\n            ...audioDeviceConstraints.audio,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getAudioBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints, tracer);\n    } catch (error) {\n        if (isNotFoundOrOverconstrainedError(error) && trackConstraints?.deviceId) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                'devices'\n            ])('warn', 'Failed to get audio stream, will try again with relaxed constraints', {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getAudioStream(relaxedConstraints);\n        }\n        getLogger([\n            'devices'\n        ])('error', 'Failed to get audio stream', {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\n/**\n * Returns a video media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @param trackConstraints the constraints to use when requesting the stream.\n * @param tracer the tracer to use for tracing the stream creation.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getVideoStream = async (trackConstraints, tracer)=>{\n    const constraints = {\n        video: {\n            ...videoDeviceConstraints.video,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getVideoBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints, tracer);\n    } catch (error) {\n        if (isNotFoundOrOverconstrainedError(error) && trackConstraints?.deviceId) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                'devices'\n            ])('warn', 'Failed to get video stream, will try again with relaxed constraints', {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getVideoStream(relaxedConstraints);\n        }\n        getLogger([\n            'devices'\n        ])('error', 'Failed to get video stream', {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\nlet getDisplayMediaExecId = 0;\n/**\n * Prompts the user for a permission to share a screen.\n * If the user grants the permission, a screen sharing stream is returned. Throws otherwise.\n *\n * The callers of this API are responsible to handle the possible errors.\n *\n * @param options any additional options to pass to the [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia) API.\n * @param tracer the tracer to use for tracing the stream creation.\n */ const getScreenShareStream = async (options, tracer)=>{\n    const tag = `navigator.mediaDevices.getDisplayMedia.${getDisplayMediaExecId++}.`;\n    try {\n        const constraints = {\n            // @ts-expect-error - not present in types yet\n            systemAudio: 'include',\n            ...options,\n            video: typeof options?.video === 'boolean' ? options.video // must be 'true'\n             : {\n                width: {\n                    max: 2560\n                },\n                height: {\n                    max: 1440\n                },\n                frameRate: {\n                    ideal: 30\n                },\n                ...options?.video\n            },\n            audio: typeof options?.audio === 'boolean' ? options.audio : {\n                channelCount: {\n                    ideal: 2\n                },\n                echoCancellation: false,\n                autoGainControl: false,\n                noiseSuppression: false,\n                ...options?.audio\n            }\n        };\n        tracer?.trace(tag, constraints);\n        const stream = await navigator.mediaDevices.getDisplayMedia(constraints);\n        tracer?.trace(`${tag}OnSuccess`, dumpStream(stream));\n        return stream;\n    } catch (e) {\n        tracer?.trace(`${tag}OnFailure`, e.name);\n        getLogger([\n            'devices'\n        ])('error', 'Failed to get screen share stream', e);\n        throw e;\n    }\n};\nconst deviceIds$ = typeof navigator !== 'undefined' && typeof navigator.mediaDevices !== 'undefined' ? getDeviceChangeObserver().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.concatMap)(()=>navigator.mediaDevices.enumerateDevices()), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1)) : undefined;\n/**\n * Resolves `default` device id into the real device id. Some browsers (notably,\n * Chromium-based) report device with id `default` among audio input and output\n * devices. Since not every browser does that, we never want `default` id to be\n * used within our SDK. This function tries to find the real id for the `default`\n * device.\n */ function resolveDeviceId(deviceId, kind) {\n    if (deviceId !== 'default') return deviceId;\n    const devices = deviceIds$ && getCurrentValue(deviceIds$);\n    if (!devices) return deviceId;\n    const defaultDeviceInfo = devices.find((d)=>d.deviceId === deviceId);\n    if (!defaultDeviceInfo) return deviceId;\n    const groupId = defaultDeviceInfo.groupId;\n    const candidates = devices.filter((d)=>d.kind === kind && d.deviceId !== 'default' && d.groupId === groupId);\n    return candidates.length === 1 ? candidates[0].deviceId : deviceId;\n}\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */ const isMobile = ()=>/Mobi/i.test(navigator.userAgent);\nclass InputMediaDeviceManager {\n    constructor(call, state, trackType){\n        /**\n         * if true, stops the media stream when call is left\n         */ this.stopOnLeave = true;\n        this.subscriptions = [];\n        this.areSubscriptionsSetUp = false;\n        this.isTrackStoppedDueToTrackEnd = false;\n        this.filters = [];\n        this.statusChangeConcurrencyTag = Symbol('statusChangeConcurrencyTag');\n        this.filterRegistrationConcurrencyTag = Symbol('filterRegistrationConcurrencyTag');\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s());\n            this.subscriptions = [];\n            this.areSubscriptionsSetUp = false;\n        };\n        this.call = call;\n        this.state = state;\n        this.trackType = trackType;\n        this.logger = getLogger([\n            `${TrackType[trackType].toLowerCase()} manager`\n        ]);\n        this.setup();\n    }\n    setup() {\n        if (this.areSubscriptionsSetUp) {\n            return;\n        }\n        this.areSubscriptionsSetUp = true;\n        if (deviceIds$ && !isReactNative() && (this.trackType === TrackType.AUDIO || this.trackType === TrackType.VIDEO)) {\n            this.handleDisconnectedOrReplacedDevices();\n        }\n    }\n    /**\n     * Lists the available audio/video devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        return this.getDevices();\n    }\n    /**\n     * Returns `true` when this device is in enabled state.\n     */ get enabled() {\n        return this.state.status === 'enabled';\n    }\n    /**\n     * Starts stream.\n     */ async enable() {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (this.state.optimisticStatus === 'enabled') {\n            return;\n        }\n        this.state.setPendingStatus('enabled');\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                await this.unmuteStream();\n                this.state.setStatus('enabled');\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Stops or pauses the stream based on state.disableMode\n     * @param {boolean} [forceStop=false] when true, stops the tracks regardless of the state.disableMode\n     */ async disable(forceStop = false) {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (!forceStop && this.state.optimisticStatus === 'disabled') {\n            return;\n        }\n        this.state.setPendingStatus('disabled');\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                const stopTracks = forceStop || this.state.disableMode === 'stop-tracks';\n                await this.muteStream(stopTracks);\n                this.state.setStatus('disabled');\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a promise that resolves when all pe\n     */ async statusChangeSettled() {\n        await settled(this.statusChangeConcurrencyTag);\n    }\n    /**\n     * If status was previously enabled, it will re-enable the device.\n     */ async resume() {\n        if (this.state.prevStatus === 'enabled' && this.state.status !== 'enabled') {\n            await this.enable();\n        }\n    }\n    /**\n     * If the current device status is disabled, it will enable the device,\n     * else it will disable it.\n     */ async toggle() {\n        if (this.state.optimisticStatus === 'enabled') {\n            return await this.disable();\n        } else {\n            return await this.enable();\n        }\n    }\n    /**\n     * Registers a filter that will be applied to the stream.\n     *\n     * The registered filter will get the existing stream, and it should return\n     * a new stream with the applied filter.\n     *\n     * @param filter the filter to register.\n     * @returns MediaStreamFilterRegistrationResult\n     */ registerFilter(filter) {\n        const entry = {\n            start: filter,\n            stop: undefined\n        };\n        this.call.tracer.trace(`registerFilter.${TrackType[this.trackType]}`, null);\n        const registered = withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n            await settled(this.statusChangeConcurrencyTag);\n            this.filters.push(entry);\n            await this.applySettingsToStream();\n        });\n        return {\n            registered,\n            unregister: ()=>withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n                    await settled(this.statusChangeConcurrencyTag);\n                    entry.stop?.();\n                    this.filters = this.filters.filter((f)=>f !== entry);\n                    await this.applySettingsToStream();\n                    this.call.tracer.trace(`unregisterFilter.${TrackType[this.trackType]}`, null);\n                })\n        };\n    }\n    /**\n     * Will set the default constraints for the device.\n     *\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.state.setDefaultConstraints(constraints);\n    }\n    /**\n     * Selects a device.\n     *\n     * Note: This method is not supported in React Native\n     * @param deviceId the device id to select.\n     */ async select(deviceId) {\n        if (isReactNative()) {\n            throw new Error('This method is not supported in React Native.');\n        }\n        const prevDeviceId = this.state.selectedDevice;\n        if (deviceId === prevDeviceId) {\n            return;\n        }\n        try {\n            this.state.setDevice(deviceId);\n            await this.applySettingsToStream();\n        } catch (error) {\n            this.state.setDevice(prevDeviceId);\n            throw error;\n        }\n    }\n    async applySettingsToStream() {\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            if (this.enabled) {\n                try {\n                    await this.muteStream();\n                    this.state.setStatus('disabled');\n                    if (signal.aborted) {\n                        return;\n                    }\n                    await this.unmuteStream();\n                    this.state.setStatus('enabled');\n                } finally{\n                    if (!signal.aborted) {\n                        this.state.setPendingStatus(this.state.status);\n                    }\n                }\n            }\n        });\n    }\n    publishStream(stream) {\n        return this.call.publish(stream, this.trackType);\n    }\n    stopPublishStream() {\n        return this.call.stopPublish(this.trackType);\n    }\n    getTracks() {\n        return this.state.mediaStream?.getTracks() ?? [];\n    }\n    async muteStream(stopTracks = true) {\n        const mediaStream = this.state.mediaStream;\n        if (!mediaStream) return;\n        this.logger('debug', `${stopTracks ? 'Stopping' : 'Disabling'} stream`);\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.stopPublishStream();\n        }\n        this.muteLocalStream(stopTracks);\n        const allEnded = this.getTracks().every((t)=>t.readyState === 'ended');\n        if (allEnded) {\n            // @ts-expect-error release() is present in react-native-webrtc\n            if (typeof mediaStream.release === 'function') {\n                // @ts-expect-error called to dispose the stream in RN\n                mediaStream.release();\n            }\n            this.state.setMediaStream(undefined, undefined);\n            this.filters.forEach((entry)=>entry.stop?.());\n        }\n    }\n    disableTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.enabled) track.enabled = false;\n        });\n    }\n    enableTracks() {\n        this.getTracks().forEach((track)=>{\n            if (!track.enabled) track.enabled = true;\n        });\n    }\n    stopTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.readyState === 'live') track.stop();\n        });\n    }\n    muteLocalStream(stopTracks) {\n        if (!this.state.mediaStream) {\n            return;\n        }\n        if (stopTracks) {\n            this.stopTracks();\n        } else {\n            this.disableTracks();\n        }\n    }\n    async unmuteStream() {\n        this.logger('debug', 'Starting stream');\n        let stream;\n        let rootStream;\n        if (this.state.mediaStream && this.getTracks().every((t)=>t.readyState === 'live')) {\n            stream = this.state.mediaStream;\n            this.enableTracks();\n        } else {\n            const defaultConstraints = this.state.defaultConstraints;\n            const constraints = {\n                ...defaultConstraints,\n                deviceId: this.state.selectedDevice ? {\n                    exact: this.state.selectedDevice\n                } : undefined\n            };\n            /**\n             * Chains two media streams together.\n             *\n             * In our case, filters MediaStreams are derived from their parent MediaStream.\n             * However, once a child filter's track is stopped,\n             * the tracks of the parent MediaStream aren't automatically stopped.\n             * This leads to a situation where the camera indicator light is still on\n             * even though the user stopped publishing video.\n             *\n             * This function works around this issue by stopping the parent MediaStream's tracks\n             * as well once the child filter's tracks are stopped.\n             *\n             * It works by patching the stop() method of the child filter's tracks to also stop\n             * the parent MediaStream's tracks of the same type. Here we assume that\n             * the parent MediaStream has only one track of each type.\n             *\n             * @param parentStream the parent MediaStream. Omit for the root stream.\n             */ const chainWith = (parentStream)=>async (filterStream)=>{\n                    if (!parentStream) return filterStream;\n                    // TODO OL: take care of track.enabled property as well\n                    const parent = await parentStream;\n                    filterStream.getTracks().forEach((track)=>{\n                        const originalStop = track.stop;\n                        track.stop = function stop() {\n                            originalStop.call(track);\n                            parent.getTracks().forEach((parentTrack)=>{\n                                if (parentTrack.kind === track.kind) {\n                                    parentTrack.stop();\n                                }\n                            });\n                        };\n                    });\n                    parent.getTracks().forEach((parentTrack)=>{\n                        // When the parent stream abruptly ends, we propagate the event\n                        // to the filter stream.\n                        // This usually happens when the camera/microphone permissions\n                        // are revoked or when the device is disconnected.\n                        const handleParentTrackEnded = ()=>{\n                            filterStream.getTracks().forEach((track)=>{\n                                if (parentTrack.kind !== track.kind) return;\n                                track.stop();\n                                track.dispatchEvent(new Event('ended')); // propagate the event\n                            });\n                        };\n                        parentTrack.addEventListener('ended', handleParentTrackEnded);\n                        this.subscriptions.push(()=>{\n                            parentTrack.removeEventListener('ended', handleParentTrackEnded);\n                        });\n                    });\n                    return filterStream;\n                };\n            // the rootStream represents the stream coming from the actual device\n            // e.g. camera or microphone stream\n            rootStream = this.getStream(constraints);\n            // we publish the last MediaStream of the chain\n            stream = await this.filters.reduce((parent, entry)=>parent.then((inputStream)=>{\n                    const { stop, output } = entry.start(inputStream);\n                    entry.stop = stop;\n                    return output;\n                }).then(chainWith(parent), (error)=>{\n                    this.logger('warn', 'Filter failed to start and will be ignored', error);\n                    return parent;\n                }), rootStream);\n        }\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.publishStream(stream);\n        }\n        if (this.state.mediaStream !== stream) {\n            this.state.setMediaStream(stream, await rootStream);\n            const handleTrackEnded = async ()=>{\n                await this.statusChangeSettled();\n                if (this.enabled) {\n                    this.isTrackStoppedDueToTrackEnd = true;\n                    setTimeout(()=>{\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    }, 2000);\n                    await this.disable();\n                }\n            };\n            const createTrackMuteHandler = (muted)=>()=>{\n                    if (!isMobile() || this.trackType !== TrackType.VIDEO) return;\n                    this.call.notifyTrackMuteState(muted, this.trackType).catch((err)=>{\n                        this.logger('warn', 'Error while notifying track mute state', err);\n                    });\n                };\n            stream.getTracks().forEach((track)=>{\n                const muteHandler = createTrackMuteHandler(true);\n                const unmuteHandler = createTrackMuteHandler(false);\n                track.addEventListener('mute', muteHandler);\n                track.addEventListener('unmute', unmuteHandler);\n                track.addEventListener('ended', handleTrackEnded);\n                this.subscriptions.push(()=>{\n                    track.removeEventListener('mute', muteHandler);\n                    track.removeEventListener('unmute', unmuteHandler);\n                    track.removeEventListener('ended', handleTrackEnded);\n                });\n            });\n        }\n    }\n    get mediaDeviceKind() {\n        if (this.trackType === TrackType.AUDIO) {\n            return 'audioinput';\n        }\n        if (this.trackType === TrackType.VIDEO) {\n            return 'videoinput';\n        }\n        return '';\n    }\n    handleDisconnectedOrReplacedDevices() {\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n            deviceIds$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.pairwise)()),\n            this.state.selectedDevice$\n        ]), async ([[prevDevices, currentDevices], deviceId])=>{\n            try {\n                if (!deviceId) return;\n                await this.statusChangeSettled();\n                let isDeviceDisconnected = false;\n                let isDeviceReplaced = false;\n                const currentDevice = this.findDevice(currentDevices, deviceId);\n                const prevDevice = this.findDevice(prevDevices, deviceId);\n                if (!currentDevice && prevDevice) {\n                    isDeviceDisconnected = true;\n                } else if (currentDevice && prevDevice && currentDevice.deviceId === prevDevice.deviceId && currentDevice.groupId !== prevDevice.groupId) {\n                    isDeviceReplaced = true;\n                }\n                if (isDeviceDisconnected) {\n                    await this.disable();\n                    await this.select(undefined);\n                }\n                if (isDeviceReplaced) {\n                    if (this.isTrackStoppedDueToTrackEnd && this.state.status === 'disabled') {\n                        await this.enable();\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    } else {\n                        await this.applySettingsToStream();\n                    }\n                }\n            } catch (err) {\n                this.logger('warn', 'Unexpected error while handling disconnected or replaced device', err);\n            }\n        }));\n    }\n    findDevice(devices, deviceId) {\n        const kind = this.mediaDeviceKind;\n        return devices.find((d)=>d.deviceId === deviceId && d.kind === kind);\n    }\n}\nclass InputMediaDeviceManagerState {\n    /**\n     * Constructs new InputMediaDeviceManagerState instance.\n     *\n     * @param disableMode the disable mode to use.\n     * @param permission the BrowserPermission to use for querying.\n     * `undefined` means no permission is required.\n     */ constructor(disableMode = 'stop-tracks', permission){\n        this.disableMode = disableMode;\n        this.statusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.optimisticStatusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.mediaStreamSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.defaultConstraintsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current media stream, or `undefined` if the device is currently disabled.\n         *\n         */ this.mediaStream$ = this.mediaStreamSubject.asObservable();\n        /**\n         * An Observable that emits the currently selected device\n         */ this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the device status\n         */ this.status$ = this.statusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n        /**\n         * An Observable the reflects the requested device status. Useful for optimistic UIs\n         */ this.optimisticStatus$ = this.optimisticStatusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n        /**\n         * The default constraints for the device.\n         */ this.defaultConstraints$ = this.defaultConstraintsSubject.asObservable();\n        this.hasBrowserPermission$ = permission ? permission.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.of)(true);\n        this.browserPermissionState$ = permission ? permission.asStateObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.of)('prompt');\n        this.isPromptingPermission$ = permission ? permission.getIsPromptingObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.of)(false);\n    }\n    /**\n     * The device status\n     */ get status() {\n        return getCurrentValue(this.status$);\n    }\n    /**\n     * The requested device status. Useful for optimistic UIs\n     */ get optimisticStatus() {\n        return getCurrentValue(this.optimisticStatus$);\n    }\n    /**\n     * The currently selected device\n     */ get selectedDevice() {\n        return getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The current media stream, or `undefined` if the device is currently disabled.\n     */ get mediaStream() {\n        return getCurrentValue(this.mediaStream$);\n    }\n    /**\n     * @internal\n     * @param status\n     */ setStatus(status) {\n        setCurrentValue(this.statusSubject, status);\n    }\n    /**\n     * @internal\n     * @param pendingStatus\n     */ setPendingStatus(pendingStatus) {\n        setCurrentValue(this.optimisticStatusSubject, pendingStatus);\n    }\n    /**\n     * Updates the `mediaStream` state variable.\n     *\n     * @internal\n     * @param stream the stream to set.\n     * @param rootStream the root stream, applicable when filters are used\n     * as this is the stream that holds the actual deviceId information.\n     */ setMediaStream(stream, rootStream) {\n        setCurrentValue(this.mediaStreamSubject, stream);\n        if (rootStream) {\n            this.setDevice(this.getDeviceIdFromStream(rootStream));\n        }\n    }\n    /**\n     * @internal\n     * @param deviceId the device id to set.\n     */ setDevice(deviceId) {\n        setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * Gets the default constraints for the device.\n     */ get defaultConstraints() {\n        return getCurrentValue(this.defaultConstraints$);\n    }\n    /**\n     * Sets the default constraints for the device.\n     *\n     * @internal\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        setCurrentValue(this.defaultConstraintsSubject, constraints);\n    }\n}\nclass CameraManagerState extends InputMediaDeviceManagerState {\n    constructor(){\n        super('stop-tracks', getVideoBrowserPermission());\n        this.directionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        this.direction$ = this.directionSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n    }\n    /**\n     * The preferred camera direction\n     * front - means the camera facing the user\n     * back - means the camera facing the environment\n     */ get direction() {\n        return getCurrentValue(this.direction$);\n    }\n    /**\n     * @internal\n     */ setDirection(direction) {\n        setCurrentValue(this.directionSubject, direction);\n    }\n    /**\n     * @internal\n     */ setMediaStream(stream, rootStream) {\n        super.setMediaStream(stream, rootStream);\n        if (stream) {\n            // RN getSettings() doesn't return facingMode, so we don't verify camera direction\n            const direction = isReactNative() ? this.direction : stream.getVideoTracks()[0]?.getSettings().facingMode === 'environment' ? 'back' : 'front';\n            this.setDirection(direction);\n        }\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getVideoTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nclass CameraManager extends InputMediaDeviceManager {\n    /**\n     * Constructs a new CameraManager.\n     *\n     * @param call the call instance.\n     */ constructor(call){\n        super(call, new CameraManagerState(), TrackType.VIDEO);\n        this.targetResolution = {\n            width: 1280,\n            height: 720\n        };\n    }\n    isDirectionSupportedByDevice() {\n        return isReactNative() || isMobile();\n    }\n    /**\n     * Select the camera direction.\n     *\n     * @param direction the direction of the camera to select.\n     */ async selectDirection(direction) {\n        if (!this.isDirectionSupportedByDevice()) {\n            this.logger('warn', 'Setting direction is not supported on this device');\n            return;\n        }\n        // providing both device id and direction doesn't work, so we deselect the device\n        this.state.setDirection(direction);\n        this.state.setDevice(undefined);\n        if (isReactNative()) {\n            const videoTrack = this.getTracks()[0];\n            await videoTrack?.applyConstraints({\n                facingMode: direction === 'front' ? 'user' : 'environment'\n            });\n            return;\n        }\n        this.getTracks().forEach((track)=>track.stop());\n        try {\n            await this.unmuteStream();\n        } catch (error) {\n            if (error instanceof Error && error.name === 'NotReadableError') {\n                // the camera is already in use, and the device can't use it unless it's released.\n                // in that case, we need to stop the stream and start it again.\n                await this.muteStream();\n                await this.unmuteStream();\n            }\n            throw error;\n        }\n    }\n    /**\n     * Flips the camera direction: if it's front it will change to back, if it's back, it will change to front.\n     *\n     * Note: if there is no available camera with the desired direction, this method will do nothing.\n     * @returns\n     */ async flip() {\n        const newDirection = this.state.direction === 'front' ? 'back' : 'front';\n        await this.selectDirection(newDirection);\n    }\n    /**\n     * @internal\n     */ async selectTargetResolution(resolution) {\n        this.targetResolution.height = resolution.height;\n        this.targetResolution.width = resolution.width;\n        if (this.state.optimisticStatus === 'enabled') {\n            try {\n                await this.statusChangeSettled();\n            } catch (error) {\n                // couldn't enable device, target resolution will be applied the next time user attempts to start the device\n                this.logger('warn', 'could not apply target resolution', error);\n            }\n        }\n        if (this.enabled && this.state.mediaStream) {\n            const [videoTrack] = this.state.mediaStream.getVideoTracks();\n            if (!videoTrack) return;\n            const { width, height } = videoTrack.getSettings();\n            if (width !== this.targetResolution.width || height !== this.targetResolution.height) {\n                await this.applySettingsToStream();\n                this.logger('debug', `${width}x${height} target resolution applied to media stream`);\n            }\n        }\n    }\n    /**\n     * Applies the video settings to the camera.\n     *\n     * @param settings the video settings to apply.\n     * @param publish whether to publish the stream after applying the settings.\n     */ async apply(settings, publish) {\n        const hasPublishedVideo = !!this.call.state.localParticipant?.videoStream;\n        const hasPermission = this.call.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO);\n        if (hasPublishedVideo || !hasPermission) return;\n        // Wait for any in progress camera operation\n        await this.statusChangeSettled();\n        const { target_resolution, camera_facing, camera_default_on } = settings;\n        // normalize target resolution to landscape format.\n        // on mobile devices, the device itself adjusts the resolution to portrait or landscape\n        // depending on the orientation of the device. using portrait resolution\n        // will result in falling back to the default resolution (640x480).\n        let { width, height } = target_resolution;\n        if (width < height) [width, height] = [\n            height,\n            width\n        ];\n        await this.selectTargetResolution({\n            width,\n            height\n        });\n        // Set camera direction if it's not yet set\n        if (!this.state.direction && !this.state.selectedDevice) {\n            this.state.setDirection(camera_facing === 'front' ? 'front' : 'back');\n        }\n        if (!publish) return;\n        const { mediaStream } = this.state;\n        if (this.enabled && mediaStream) {\n            // The camera is already enabled (e.g. lobby screen). Publish the stream\n            await this.publishStream(mediaStream);\n        } else if (this.state.status === undefined && camera_default_on) {\n            // Start camera if backend config specifies, and there is no local setting\n            await this.enable();\n        }\n    }\n    getDevices() {\n        return getVideoDevices(this.call.tracer);\n    }\n    getStream(constraints) {\n        constraints.width = this.targetResolution.width;\n        constraints.height = this.targetResolution.height;\n        // We can't set both device id and facing mode\n        // Device id has higher priority\n        if (!constraints.deviceId && this.state.direction && this.isDirectionSupportedByDevice()) {\n            constraints.facingMode = this.state.direction === 'front' ? 'user' : 'environment';\n        }\n        return getVideoStream(constraints, this.call.tracer);\n    }\n}\nclass MicrophoneManagerState extends InputMediaDeviceManagerState {\n    constructor(disableMode){\n        super(disableMode, getAudioBrowserPermission());\n        this.speakingWhileMutedSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(false);\n        this.speakingWhileMuted$ = this.speakingWhileMutedSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n    }\n    /**\n     * `true` if the user's microphone is muted but they'are speaking.\n     *\n     * This feature is not available in the React Native SDK.\n     */ get speakingWhileMuted() {\n        return getCurrentValue(this.speakingWhileMuted$);\n    }\n    /**\n     * @internal\n     */ setSpeakingWhileMuted(isSpeaking) {\n        setCurrentValue(this.speakingWhileMutedSubject, isSpeaking);\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getAudioTracks();\n        const unresolvedDeviceId = track?.getSettings().deviceId;\n        return resolveDeviceId(unresolvedDeviceId, 'audioinput');\n    }\n}\nconst DETECTION_FREQUENCY_IN_MS = 500;\nconst AUDIO_LEVEL_THRESHOLD = 150;\nconst FFT_SIZE = 128;\n/**\n * Creates a new sound detector.\n *\n * @param audioStream the audio stream to observe. Depending on the provided configuration, this stream might be destroyed when the sound detector is stopped.\n * @param onSoundDetectedStateChanged a callback which is called when the sound state changes.\n * @param options custom options for the sound detector.\n * @returns a clean-up function which once invoked stops the sound detector.\n */ const createSoundDetector = (audioStream, onSoundDetectedStateChanged, options = {})=>{\n    const { detectionFrequencyInMs = DETECTION_FREQUENCY_IN_MS, audioLevelThreshold = AUDIO_LEVEL_THRESHOLD, fftSize = FFT_SIZE, destroyStreamOnStop = true } = options;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = fftSize;\n    const microphone = audioContext.createMediaStreamSource(audioStream);\n    microphone.connect(analyser);\n    const intervalId = setInterval(()=>{\n        const data = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(data);\n        const isSoundDetected = data.some((value)=>value >= audioLevelThreshold);\n        const averagedDataValue = data.reduce((pv, cv)=>pv + cv, 0) / data.length;\n        const percentage = averagedDataValue > audioLevelThreshold ? 100 : Math.round(averagedDataValue / audioLevelThreshold * 100);\n        // When the track is disabled, it takes time for the buffer to empty\n        // This check will ensure that we don't send anything if the track is disabled\n        if (audioStream.getAudioTracks()[0]?.enabled) {\n            onSoundDetectedStateChanged({\n                isSoundDetected,\n                audioLevel: percentage\n            });\n        } else {\n            onSoundDetectedStateChanged({\n                isSoundDetected: false,\n                audioLevel: 0\n            });\n        }\n    }, detectionFrequencyInMs);\n    return async function stop() {\n        clearInterval(intervalId);\n        // clean-up the AudioContext elements\n        microphone.disconnect();\n        analyser.disconnect();\n        if (audioContext.state !== 'closed') {\n            await audioContext.close();\n        }\n        // stop the stream\n        if (destroyStreamOnStop) {\n            audioStream.getTracks().forEach((track)=>{\n                track.stop();\n                audioStream.removeTrack(track);\n            });\n        }\n    };\n};\nclass RNSpeechDetector {\n    constructor(externalAudioStream){\n        this.pc1 = new RTCPeerConnection({});\n        this.pc2 = new RTCPeerConnection({});\n        this.externalAudioStream = externalAudioStream;\n    }\n    /**\n     * Starts the speech detection.\n     */ async start(onSoundDetectedStateChanged) {\n        try {\n            let audioStream;\n            if (this.externalAudioStream != null) {\n                audioStream = this.externalAudioStream;\n            } else {\n                audioStream = await navigator.mediaDevices.getUserMedia({\n                    audio: true\n                });\n                this.audioStream = audioStream;\n            }\n            this.pc1.addEventListener('icecandidate', async (e)=>{\n                await this.pc2.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener('icecandidate', async (e)=>{\n                await this.pc1.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener('track', (e)=>{\n                e.streams[0].getTracks().forEach((track)=>{\n                    // In RN, the remote track is automatically added to the audio output device\n                    // so we need to mute it to avoid hearing the audio back\n                    // @ts-expect-error _setVolume is a private method in react-native-webrtc\n                    track._setVolume(0);\n                });\n            });\n            audioStream.getTracks().forEach((track)=>this.pc1.addTrack(track, audioStream));\n            const offer = await this.pc1.createOffer({});\n            await this.pc2.setRemoteDescription(offer);\n            await this.pc1.setLocalDescription(offer);\n            const answer = await this.pc2.createAnswer();\n            await this.pc1.setRemoteDescription(answer);\n            await this.pc2.setLocalDescription(answer);\n            const unsub = this.onSpeakingDetectedStateChange(onSoundDetectedStateChanged);\n            return ()=>{\n                unsub();\n                this.stop();\n            };\n        } catch (error) {\n            const logger = getLogger([\n                'RNSpeechDetector'\n            ]);\n            logger('error', 'error handling permissions: ', error);\n            return ()=>{};\n        }\n    }\n    /**\n     * Stops the speech detection and releases all allocated resources.\n     */ stop() {\n        this.pc1.close();\n        this.pc2.close();\n        if (this.externalAudioStream != null) {\n            this.externalAudioStream = undefined;\n        } else {\n            this.cleanupAudioStream();\n        }\n    }\n    /**\n     * Public method that detects the audio levels and returns the status.\n     */ onSpeakingDetectedStateChange(onSoundDetectedStateChanged) {\n        const initialBaselineNoiseLevel = 0.13;\n        let baselineNoiseLevel = initialBaselineNoiseLevel;\n        let speechDetected = false;\n        let speechTimer;\n        let silenceTimer;\n        const audioLevelHistory = []; // Store recent audio levels for smoother detection\n        const historyLength = 10;\n        const silenceThreshold = 1.1;\n        const resetThreshold = 0.9;\n        const speechTimeout = 500; // Speech is set to true after 500ms of audio detection\n        const silenceTimeout = 5000; // Reset baseline after 5 seconds of silence\n        const checkAudioLevel = async ()=>{\n            try {\n                const stats = await this.pc1.getStats();\n                const report = flatten(stats);\n                // Audio levels are present inside stats of type `media-source` and of kind `audio`\n                const audioMediaSourceStats = report.find((stat)=>stat.type === 'media-source' && stat.kind === 'audio');\n                if (audioMediaSourceStats) {\n                    const { audioLevel } = audioMediaSourceStats;\n                    if (audioLevel) {\n                        // Update audio level history (with max historyLength sized array)\n                        audioLevelHistory.push(audioLevel);\n                        if (audioLevelHistory.length > historyLength) {\n                            audioLevelHistory.shift();\n                        }\n                        // Calculate average audio level\n                        const avgAudioLevel = audioLevelHistory.reduce((a, b)=>a + b, 0) / audioLevelHistory.length;\n                        // Update baseline (if necessary) based on silence detection\n                        if (avgAudioLevel < baselineNoiseLevel * silenceThreshold) {\n                            if (!silenceTimer) {\n                                silenceTimer = setTimeout(()=>{\n                                    baselineNoiseLevel = Math.min(avgAudioLevel * resetThreshold, initialBaselineNoiseLevel);\n                                }, silenceTimeout);\n                            }\n                        } else {\n                            clearTimeout(silenceTimer);\n                            silenceTimer = undefined;\n                        }\n                        // Speech detection with hysteresis\n                        if (avgAudioLevel > baselineNoiseLevel * 1.5) {\n                            if (!speechDetected) {\n                                speechDetected = true;\n                                onSoundDetectedStateChanged({\n                                    isSoundDetected: true,\n                                    audioLevel\n                                });\n                            }\n                            clearTimeout(speechTimer);\n                            speechTimer = setTimeout(()=>{\n                                speechDetected = false;\n                                onSoundDetectedStateChanged({\n                                    isSoundDetected: false,\n                                    audioLevel: 0\n                                });\n                            }, speechTimeout);\n                        }\n                    }\n                }\n            } catch (error) {\n                const logger = getLogger([\n                    'RNSpeechDetector'\n                ]);\n                logger('error', 'error checking audio level from stats', error);\n            }\n        };\n        // Call checkAudioLevel periodically (every 100ms)\n        const intervalId = setInterval(checkAudioLevel, 100);\n        return ()=>{\n            clearInterval(intervalId);\n            clearTimeout(speechTimer);\n            clearTimeout(silenceTimer);\n        };\n    }\n    cleanupAudioStream() {\n        if (!this.audioStream) {\n            return;\n        }\n        this.audioStream.getTracks().forEach((track)=>track.stop());\n        if (// @ts-expect-error release() is present in react-native-webrtc\n        typeof this.audioStream.release === 'function') {\n            // @ts-expect-error called to dispose the stream in RN\n            this.audioStream.release();\n        }\n    }\n}\nclass MicrophoneManager extends InputMediaDeviceManager {\n    constructor(call, disableMode = 'stop-tracks'){\n        super(call, new MicrophoneManagerState(disableMode), TrackType.AUDIO);\n        this.speakingWhileMutedNotificationEnabled = true;\n        this.soundDetectorConcurrencyTag = Symbol('soundDetectorConcurrencyTag');\n    }\n    setup() {\n        super.setup();\n        this.subscriptions.push(createSafeAsyncSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n            this.call.state.callingState$,\n            this.call.state.ownCapabilities$,\n            this.state.selectedDevice$,\n            this.state.status$\n        ]), async ([callingState, ownCapabilities, deviceId, status])=>{\n            try {\n                if (callingState === CallingState.LEFT) {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n                if (callingState !== CallingState.JOINED) return;\n                if (!this.speakingWhileMutedNotificationEnabled) return;\n                if (ownCapabilities.includes(OwnCapability.SEND_AUDIO)) {\n                    if (status === 'disabled') {\n                        await this.startSpeakingWhileMutedDetection(deviceId);\n                    } else {\n                        await this.stopSpeakingWhileMutedDetection();\n                    }\n                } else {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n            } catch (err) {\n                this.logger('warn', 'Could not enable speaking while muted', err);\n            }\n        }));\n        this.subscriptions.push(createSubscription(this.call.state.callingState$, (callingState)=>{\n            // do nothing when noise filtering isn't turned on\n            if (!this.noiseCancellationRegistration || !this.noiseCancellation) return;\n            const autoOn = this.call.state.settings?.audio.noise_cancellation?.mode === NoiseCancellationSettingsModeEnum.AUTO_ON;\n            if (autoOn && callingState === CallingState.JOINED) {\n                this.noiseCancellationRegistration.then(()=>{\n                    if (this.noiseCancellation?.canAutoEnable) {\n                        return this.noiseCancellation.canAutoEnable();\n                    }\n                    return true;\n                }).then((canAutoEnable)=>{\n                    if (canAutoEnable) {\n                        this.noiseCancellation?.enable();\n                    }\n                }).catch((err)=>{\n                    this.logger('warn', `Failed to enable noise cancellation`, err);\n                    return this.call.notifyNoiseCancellationStopped();\n                });\n            } else if (callingState === CallingState.LEFT) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch((err)=>{\n                    this.logger('warn', `Failed to disable noise cancellation`, err);\n                });\n            }\n        }));\n    }\n    /**\n     * Enables noise cancellation for the microphone.\n     *\n     * @param noiseCancellation - a noise cancellation instance to use.\n     */ async enableNoiseCancellation(noiseCancellation) {\n        const { ownCapabilities, settings } = this.call.state;\n        const hasNoiseCancellationCapability = ownCapabilities.includes(OwnCapability.ENABLE_NOISE_CANCELLATION);\n        if (!hasNoiseCancellationCapability) {\n            throw new Error('Noise cancellation is not available.');\n        }\n        const noiseCancellationSettings = settings?.audio.noise_cancellation;\n        if (!noiseCancellationSettings || noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.DISABLED) {\n            throw new Error('Noise cancellation is disabled for this call type.');\n        }\n        try {\n            this.noiseCancellation = noiseCancellation;\n            // listen for change events and notify the SFU\n            this.noiseCancellationChangeUnsubscribe = this.noiseCancellation.on('change', (enabled)=>{\n                this.call.tracer.trace('noiseCancellation.enabled', enabled);\n                if (enabled) {\n                    this.call.notifyNoiseCancellationStarting().catch((err)=>{\n                        this.logger('warn', `notifyNoiseCancellationStart failed`, err);\n                    });\n                } else {\n                    this.call.notifyNoiseCancellationStopped().catch((err)=>{\n                        this.logger('warn', `notifyNoiseCancellationStop failed`, err);\n                    });\n                }\n            });\n            if (isReactNative()) {\n                // no filter registration in React Native, its done in the native code on app init\n                this.noiseCancellationRegistration = Promise.resolve();\n            } else {\n                const registrationResult = this.registerFilter(noiseCancellation.toFilter());\n                this.noiseCancellationRegistration = registrationResult.registered;\n                this.unregisterNoiseCancellation = registrationResult.unregister;\n                await this.noiseCancellationRegistration;\n            }\n            // handles an edge case where a noise cancellation is enabled after\n            // the participant as joined the call -> we immediately enable NC\n            if (noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.AUTO_ON && this.call.state.callingState === CallingState.JOINED) {\n                let canAutoEnable = true;\n                if (noiseCancellation.canAutoEnable) {\n                    canAutoEnable = await noiseCancellation.canAutoEnable();\n                }\n                if (canAutoEnable) {\n                    noiseCancellation.enable();\n                }\n            }\n        } catch (e) {\n            this.logger('warn', 'Failed to enable noise cancellation', e);\n            await this.disableNoiseCancellation().catch((err)=>{\n                this.logger('warn', 'Failed to disable noise cancellation', err);\n            });\n            throw e;\n        }\n    }\n    /**\n     * Disables noise cancellation for the microphone.\n     */ async disableNoiseCancellation() {\n        await (this.unregisterNoiseCancellation?.() ?? Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch((err)=>{\n            this.logger('warn', 'Failed to unregister noise cancellation', err);\n        });\n        this.call.tracer.trace('noiseCancellation.disabled', true);\n        await this.call.notifyNoiseCancellationStopped();\n    }\n    /**\n     * Enables speaking while muted notification.\n     */ async enableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = true;\n        if (this.state.status === 'disabled') {\n            await this.startSpeakingWhileMutedDetection(this.state.selectedDevice);\n        }\n    }\n    /**\n     * Disables speaking while muted notification.\n     */ async disableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = false;\n        await this.stopSpeakingWhileMutedDetection();\n    }\n    /**\n     * Applies the audio settings to the microphone.\n     * @param settings the audio settings to apply.\n     * @param publish whether to publish the stream after applying the settings.\n     */ async apply(settings, publish) {\n        if (!publish) return;\n        const hasPublishedAudio = !!this.call.state.localParticipant?.audioStream;\n        const hasPermission = this.call.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO);\n        if (hasPublishedAudio || !hasPermission) return;\n        // Wait for any in progress mic operation\n        await this.statusChangeSettled();\n        // Publish media stream that was set before we joined\n        const { mediaStream } = this.state;\n        if (this.enabled && mediaStream) {\n            // The mic is already enabled (e.g. lobby screen). Publish the stream\n            await this.publishStream(mediaStream);\n        } else if (this.state.status === undefined && settings.mic_default_on) {\n            // Start mic if backend config specifies, and there is no local setting\n            await this.enable();\n        }\n    }\n    getDevices() {\n        return getAudioDevices(this.call.tracer);\n    }\n    getStream(constraints) {\n        return getAudioStream(constraints, this.call.tracer);\n    }\n    async startSpeakingWhileMutedDetection(deviceId) {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            await this.stopSpeakingWhileMutedDetection();\n            if (isReactNative()) {\n                this.rnSpeechDetector = new RNSpeechDetector();\n                const unsubscribe = await this.rnSpeechDetector.start((event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n                this.soundDetectorCleanup = ()=>{\n                    unsubscribe();\n                    this.rnSpeechDetector = undefined;\n                };\n            } else {\n                // Need to start a new stream that's not connected to publisher\n                const stream = await this.getStream({\n                    deviceId: {\n                        exact: deviceId\n                    }\n                });\n                this.soundDetectorCleanup = createSoundDetector(stream, (event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n            }\n        });\n    }\n    async stopSpeakingWhileMutedDetection() {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            if (!this.soundDetectorCleanup) return;\n            const soundDetectorCleanup = this.soundDetectorCleanup;\n            this.soundDetectorCleanup = undefined;\n            this.state.setSpeakingWhileMuted(false);\n            await soundDetectorCleanup();\n        });\n    }\n}\nclass ScreenShareState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(...arguments);\n        this.audioEnabledSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(true);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current screen share audio status.\n         */ this.audioEnabled$ = this.audioEnabledSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the current screen share settings.\n         */ this.settings$ = this.settingsSubject.asObservable();\n        /**\n         * @internal\n         */ this.getDeviceIdFromStream = (stream)=>{\n            const [track] = stream.getTracks();\n            return track?.getSettings().deviceId;\n        };\n    }\n    /**\n     * The current screen share audio status.\n     */ get audioEnabled() {\n        return getCurrentValue(this.audioEnabled$);\n    }\n    /**\n     * Set the current screen share audio status.\n     */ setAudioEnabled(isEnabled) {\n        setCurrentValue(this.audioEnabledSubject, isEnabled);\n    }\n    /**\n     * The current screen share settings.\n     */ get settings() {\n        return getCurrentValue(this.settings$);\n    }\n    /**\n     * Set the current screen share settings.\n     *\n     * @param settings the screen share settings to set.\n     */ setSettings(settings) {\n        setCurrentValue(this.settingsSubject, settings);\n    }\n}\nclass ScreenShareManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new ScreenShareState(), TrackType.SCREEN_SHARE);\n    }\n    setup() {\n        super.setup();\n        this.subscriptions.push(createSubscription(this.call.state.settings$, (settings)=>{\n            const maybeTargetResolution = settings?.screensharing.target_resolution;\n            if (maybeTargetResolution) {\n                this.setDefaultConstraints({\n                    video: {\n                        width: maybeTargetResolution.width,\n                        height: maybeTargetResolution.height\n                    }\n                });\n            }\n        }));\n    }\n    /**\n     * Will enable screen share audio options on supported platforms.\n     *\n     * Note: for ongoing screen share, audio won't be enabled until you\n     * re-publish the screen share stream.\n     */ enableScreenShareAudio() {\n        this.state.setAudioEnabled(true);\n    }\n    /**\n     * Will disable screen share audio options on supported platforms.\n     */ async disableScreenShareAudio() {\n        this.state.setAudioEnabled(false);\n        if (this.call.publisher?.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n            await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO);\n        }\n    }\n    /**\n     * Returns the current screen share settings.\n     */ getSettings() {\n        return this.state.settings;\n    }\n    /**\n     * Sets the current screen share settings.\n     *\n     * @param settings the settings to set.\n     */ setSettings(settings) {\n        this.state.setSettings(settings);\n    }\n    getDevices() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.of)([]); // there are no devices to be listed for Screen Share\n    }\n    async getStream(constraints) {\n        if (!this.state.audioEnabled) {\n            constraints.audio = false;\n        }\n        const stream = await getScreenShareStream(constraints, this.call.tracer);\n        const [track] = stream.getVideoTracks();\n        const { contentHint } = this.state.settings || {};\n        if (typeof contentHint !== 'undefined' && track && 'contentHint' in track) {\n            this.call.tracer.trace('navigator.mediaDevices.getDisplayMedia.contentHint', contentHint);\n            track.contentHint = contentHint;\n        }\n        return stream;\n    }\n    async stopPublishStream() {\n        return this.call.stopPublish(TrackType.SCREEN_SHARE, TrackType.SCREEN_SHARE_AUDIO);\n    }\n    /**\n     * Overrides the default `select` method to throw an error.\n     */ async select() {\n        throw new Error('Not supported');\n    }\n}\nclass SpeakerState {\n    constructor(tracer){\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject('');\n        this.volumeSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(1);\n        /**\n         * [Tells if the browser supports audio output change on 'audio' elements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId).\n         */ this.isDeviceSelectionSupported = checkIfAudioOutputChangeSupported();\n        this.tracer = tracer;\n        this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n        this.volume$ = this.volumeSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.distinctUntilChanged)());\n    }\n    /**\n     * The currently selected device\n     *\n     * Note: this feature is not supported in React Native\n     */ get selectedDevice() {\n        return getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The currently selected volume\n     *\n     * Note: this feature is not supported in React Native\n     */ get volume() {\n        return getCurrentValue(this.volume$);\n    }\n    /**\n     * @internal\n     * @param deviceId\n     */ setDevice(deviceId) {\n        setCurrentValue(this.selectedDeviceSubject, deviceId);\n        this.tracer.trace('navigator.mediaDevices.setSinkId', deviceId);\n    }\n    /**\n     * @internal\n     * @param volume\n     */ setVolume(volume) {\n        setCurrentValue(this.volumeSubject, volume);\n    }\n}\nclass SpeakerManager {\n    constructor(call){\n        this.subscriptions = [];\n        this.areSubscriptionsSetUp = false;\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s.unsubscribe());\n            this.subscriptions = [];\n            this.areSubscriptionsSetUp = false;\n        };\n        this.call = call;\n        this.state = new SpeakerState(call.tracer);\n        this.setup();\n    }\n    setup() {\n        if (this.areSubscriptionsSetUp) {\n            return;\n        }\n        this.areSubscriptionsSetUp = true;\n        if (deviceIds$ && !isReactNative()) {\n            this.subscriptions.push((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([\n                deviceIds$,\n                this.state.selectedDevice$\n            ]).subscribe(([devices, deviceId])=>{\n                if (!deviceId) {\n                    return;\n                }\n                const device = devices.find((d)=>d.deviceId === deviceId && d.kind === 'audiooutput');\n                if (!device) {\n                    this.select('');\n                }\n            }));\n        }\n    }\n    /**\n     * Lists the available audio output devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     * Note: This method is not supported in React Native\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        if (isReactNative()) {\n            throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n        }\n        return getAudioOutputDevices(this.call.tracer);\n    }\n    /**\n     * Select a device.\n     *\n     * Note: This method is not supported in React Native\n     *\n     * @param deviceId empty string means the system default\n     */ select(deviceId) {\n        if (isReactNative()) {\n            throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n        }\n        this.state.setDevice(deviceId);\n    }\n    /**\n     * Set the volume of the audio elements\n     * @param volume a number between 0 and 1.\n     *\n     * Note: This method is not supported in React Native\n     */ setVolume(volume) {\n        if (isReactNative()) {\n            throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error('Volume must be between 0 and 1');\n        }\n        this.state.setVolume(volume);\n    }\n    /**\n     * Set the volume of a participant.\n     *\n     * Note: This method is not supported in React Native.\n     *\n     * @param sessionId the participant's session id.\n     * @param volume a number between 0 and 1. Set it to `undefined` to use the default volume.\n     */ setParticipantVolume(sessionId, volume) {\n        if (isReactNative()) {\n            throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error('Volume must be between 0 and 1, or undefined');\n        }\n        this.call.state.updateParticipant(sessionId, {\n            audioVolume: volume\n        });\n    }\n}\n/**\n * An object representation of a `Call`.\n */ class Call {\n    /**\n     * Constructs a new `Call` instance.\n     *\n     * NOTE: Don't call the constructor directly, instead\n     * Use the [`StreamVideoClient.call`](./StreamVideoClient.md/#call)\n     * method to construct a `Call` instance.\n     */ constructor({ type, id, streamClient, members, ownCapabilities, sortParticipantsBy, clientStore, ringing = false, watching = false }){\n        /**\n         * The state of this call.\n         */ this.state = new CallState();\n        /**\n         * The permissions context of this call.\n         */ this.permissionsContext = new PermissionsContext();\n        this.tracer = new Tracer(null);\n        /**\n         * The event dispatcher instance dedicated to this Call instance.\n         * @private\n         */ this.dispatcher = new Dispatcher();\n        this.statsReportingIntervalInMs = 2000;\n        this.sfuClientTag = 0;\n        this.reconnectConcurrencyTag = Symbol('reconnectConcurrencyTag');\n        this.reconnectAttempts = 0;\n        this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n        this.reconnectReason = '';\n        this.fastReconnectDeadlineSeconds = 0;\n        this.disconnectionTimeoutSeconds = 0;\n        this.lastOfflineTimestamp = 0;\n        // maintain the order of publishing tracks to restore them after a reconnection\n        // it shouldn't contain duplicates\n        this.trackPublishOrder = [];\n        this.hasJoinedOnce = false;\n        this.deviceSettingsAppliedOnce = false;\n        this.initialized = false;\n        this.joinLeaveConcurrencyTag = Symbol('joinLeaveConcurrencyTag');\n        /**\n         * A list hooks/functions to invoke when the call is left.\n         * A typical use case is to clean up some global event handlers.\n         * @private\n         */ this.leaveCallHooks = new Set();\n        this.streamClientEventHandlers = new Map();\n        /**\n         * A list of capabilities that the client supports and are enabled.\n         */ this.clientCapabilities = new Set([\n            ClientCapability.SUBSCRIBER_VIDEO_PAUSE\n        ]);\n        /**\n         * Sets up the call instance.\n         *\n         * @internal an internal method and should not be used outside the SDK.\n         */ this.setup = async ()=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                if (this.initialized) return;\n                this.leaveCallHooks.add(this.on('all', (event)=>{\n                    // update state with the latest event data\n                    this.state.updateFromEvent(event);\n                }));\n                this.leaveCallHooks.add(this.on('changePublishOptions', (event)=>{\n                    this.currentPublishOptions = event.publishOptions;\n                }));\n                this.leaveCallHooks.add(registerEventHandlers(this, this.dispatcher));\n                this.registerEffects();\n                this.registerReconnectHandlers();\n                this.camera.setup();\n                this.microphone.setup();\n                this.screenShare.setup();\n                this.speaker.setup();\n                if (this.state.callingState === CallingState.LEFT) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n                this.initialized = true;\n            });\n        };\n        this.registerEffects = ()=>{\n            this.leaveCallHooks.add(// handles updating the permissions context when the settings change.\n            createSubscription(this.state.settings$, (settings)=>{\n                if (!settings) return;\n                this.permissionsContext.setCallSettings(settings);\n            }));\n            this.leaveCallHooks.add(// handle the case when the user permissions are modified.\n            createSafeAsyncSubscription(this.state.ownCapabilities$, this.handleOwnCapabilitiesUpdated));\n            this.leaveCallHooks.add(// handles the case when the user is blocked by the call owner.\n            createSubscription(this.state.blockedUserIds$, async (blockedUserIds)=>{\n                if (!blockedUserIds || blockedUserIds.length === 0) return;\n                const currentUserId = this.currentUserId;\n                if (currentUserId && blockedUserIds.includes(currentUserId)) {\n                    this.logger('info', 'Leaving call because of being blocked');\n                    await this.leave({\n                        message: 'user blocked'\n                    }).catch((err)=>{\n                        this.logger('error', 'Error leaving call after being blocked', err);\n                    });\n                }\n            }));\n            if (this.ringing) {\n                // if the call is ringing, we need to register the ringing call effects\n                this.handleRingingCall();\n            } else {\n                // if the call is not ringing, we need to register the ringing call subscriptions\n                // to handle the case when the call gets ringing flag after creation event\n                this.leaveCallHooks.add(// \"ringing\" mode effects and event handlers\n                createSubscription(this.ringingSubject, (isRinging)=>{\n                    if (!isRinging) return;\n                    this.handleRingingCall();\n                }));\n            }\n            this.leaveCallHooks.add(// cancel auto-drop when call is accepted or rejected\n            createSubscription(this.state.session$, (session)=>{\n                if (!this.ringing) return;\n                const receiverId = this.clientStore.connectedUser?.id;\n                if (!receiverId) return;\n                const isAcceptedByMe = Boolean(session?.accepted_by[receiverId]);\n                const isRejectedByMe = Boolean(session?.rejected_by[receiverId]);\n                if (isAcceptedByMe || isRejectedByMe) {\n                    this.cancelAutoDrop();\n                }\n                const isAcceptedElsewhere = isAcceptedByMe && this.state.callingState === CallingState.RINGING;\n                if ((isAcceptedElsewhere || isRejectedByMe) && !hasPending(this.joinLeaveConcurrencyTag)) {\n                    this.leave().catch(()=>{\n                        this.logger('error', 'Could not leave a call that was accepted or rejected elsewhere');\n                    });\n                }\n            }));\n        };\n        this.handleRingingCall = ()=>{\n            const callSession = this.state.session;\n            const receiver_id = this.clientStore.connectedUser?.id;\n            const ended_at = callSession?.ended_at;\n            const created_by_id = this.state.createdBy?.id;\n            const rejected_by = callSession?.rejected_by;\n            const accepted_by = callSession?.accepted_by;\n            let leaveCallIdle = false;\n            if (ended_at) {\n                // call was ended before it was accepted or rejected so we should leave it to idle\n                leaveCallIdle = true;\n            } else if (created_by_id && rejected_by) {\n                if (rejected_by[created_by_id]) {\n                    // call was cancelled by the caller\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && rejected_by) {\n                if (rejected_by[receiver_id]) {\n                    // call was rejected by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && accepted_by) {\n                if (accepted_by[receiver_id]) {\n                    // call was accepted by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            }\n            if (leaveCallIdle) {\n                if (this.state.callingState !== CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n            } else {\n                if (this.state.callingState === CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.RINGING);\n                }\n                this.scheduleAutoDrop();\n                this.leaveCallHooks.add(registerRingingCallEventHandlers(this));\n            }\n        };\n        this.handleOwnCapabilitiesUpdated = async (ownCapabilities)=>{\n            // update the permission context.\n            this.permissionsContext.setPermissions(ownCapabilities);\n            if (!this.publisher) return;\n            // check if the user still has publishing permissions and stop publishing if not.\n            const permissionToTrackType = {\n                [OwnCapability.SEND_AUDIO]: TrackType.AUDIO,\n                [OwnCapability.SEND_VIDEO]: TrackType.VIDEO,\n                [OwnCapability.SCREENSHARE]: TrackType.SCREEN_SHARE\n            };\n            for (const [permission, trackType] of Object.entries(permissionToTrackType)){\n                const hasPermission = this.permissionsContext.hasPermission(permission);\n                if (hasPermission) continue;\n                try {\n                    switch(trackType){\n                        case TrackType.AUDIO:\n                            if (this.microphone.enabled) await this.microphone.disable();\n                            break;\n                        case TrackType.VIDEO:\n                            if (this.camera.enabled) await this.camera.disable();\n                            break;\n                        case TrackType.SCREEN_SHARE:\n                            if (this.screenShare.enabled) await this.screenShare.disable();\n                            break;\n                    }\n                } catch (err) {\n                    this.logger('error', `Can't disable mic/camera/screenshare after revoked permissions`, err);\n                }\n            }\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API. To remove a subscription, call the `off` method.\n         * Please note that subscribing to WebSocket events is an advanced use-case.\n         * For most use-cases, it should be enough to watch for state changes.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.on = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.on(eventName, fn);\n            }\n            const offHandler = this.streamClient.on(eventName, (e)=>{\n                const event = e;\n                if (event.call_cid && event.call_cid === this.cid) {\n                    fn(event);\n                }\n            });\n            // keep the 'off' reference returned by the stream client\n            this.streamClientEventHandlers.set(fn, offHandler);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.off = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.off(eventName, fn);\n            }\n            // unsubscribe from the stream client event by using the 'off' reference\n            const registeredOffHandler = this.streamClientEventHandlers.get(fn);\n            if (registeredOffHandler) {\n                registeredOffHandler();\n            }\n        };\n        /**\n         * Leave the call and stop the media streams that were published by the call.\n         */ this.leave = async ({ reject, reason, message } = {})=>{\n            if (this.state.callingState === CallingState.LEFT) {\n                throw new Error('Cannot leave call that has already been left.');\n            }\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                const callingState = this.state.callingState;\n                if (callingState === CallingState.LEFT) {\n                    return;\n                }\n                if (callingState === CallingState.JOINING) {\n                    const waitUntilCallJoined = ()=>{\n                        return new Promise((resolve)=>{\n                            this.state.callingState$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.takeWhile)((state)=>state !== CallingState.JOINED, true)).subscribe(()=>resolve());\n                        });\n                    };\n                    await waitUntilCallJoined();\n                }\n                if (callingState === CallingState.RINGING && reject !== false) {\n                    if (reject) {\n                        await this.reject(reason ?? 'decline');\n                    } else {\n                        // if reject was undefined, we still have to cancel the call automatically\n                        // when I am the creator and everyone else left the call\n                        const hasOtherParticipants = this.state.remoteParticipants.length > 0;\n                        if (this.isCreatedByMe && !hasOtherParticipants) {\n                            await this.reject('cancel');\n                        }\n                    }\n                }\n                this.statsReporter?.stop();\n                this.statsReporter = undefined;\n                this.sfuStatsReporter?.flush();\n                this.sfuStatsReporter?.stop();\n                this.sfuStatsReporter = undefined;\n                this.subscriber?.dispose();\n                this.subscriber = undefined;\n                this.publisher?.dispose();\n                this.publisher = undefined;\n                await this.sfuClient?.leaveAndClose(message ?? reason ?? 'user is leaving the call');\n                this.sfuClient = undefined;\n                this.dynascaleManager.setSfuClient(undefined);\n                await this.dynascaleManager.dispose();\n                this.state.setCallingState(CallingState.LEFT);\n                this.state.setParticipants([]);\n                this.state.dispose();\n                // Call all leave call hooks, e.g. to clean up global event handlers\n                this.leaveCallHooks.forEach((hook)=>hook());\n                this.initialized = false;\n                this.hasJoinedOnce = false;\n                this.unifiedSessionId = undefined;\n                this.ringingSubject.next(false);\n                this.cancelAutoDrop();\n                this.clientStore.unregisterCall(this);\n                this.camera.dispose();\n                this.microphone.dispose();\n                this.screenShare.dispose();\n                this.speaker.dispose();\n                this.deviceSettingsAppliedOnce = false;\n                const stopOnLeavePromises = [];\n                if (this.camera.stopOnLeave) {\n                    stopOnLeavePromises.push(this.camera.disable(true));\n                }\n                if (this.microphone.stopOnLeave) {\n                    stopOnLeavePromises.push(this.microphone.disable(true));\n                }\n                if (this.screenShare.stopOnLeave) {\n                    stopOnLeavePromises.push(this.screenShare.disable(true));\n                }\n                await Promise.all(stopOnLeavePromises);\n            });\n        };\n        /**\n         * Update from the call response from the \"call.ring\" event\n         * @internal\n         */ this.updateFromRingingEvent = async (event)=>{\n            await this.setup();\n            // call.ring event excludes the call creator in the members list\n            // as the creator does not get the ring event\n            // so update the member list accordingly\n            const { created_by, settings } = event.call;\n            const creator = this.state.members.find((m)=>m.user.id === created_by.id);\n            if (!creator) {\n                this.state.setMembers(event.members);\n            } else {\n                this.state.setMembers([\n                    creator,\n                    ...event.members\n                ]);\n            }\n            // update the call state with the latest event data\n            this.state.updateFromCallResponse(event.call);\n            this.watching = true;\n            this.ringingSubject.next(true);\n            // we remove the instance from the calls list to enable the following filter in useCalls hook\n            // const calls = useCalls().filter((c) => c.ringing);\n            const calls = this.clientStore.calls.filter((c)=>c.cid !== this.cid);\n            this.clientStore.setCalls([\n                this,\n                ...calls\n            ]);\n            await this.applyDeviceConfig(settings, false);\n        };\n        /**\n         * Loads the information about the call.\n         *\n         * @param params.ring if set to true, a `call.ring` event will be sent to the call members.\n         * @param params.notify if set to true, a `call.notification` event will be sent to the call members.\n         * @param params.members_limit the total number of members to return as part of the response.\n         */ this.get = async (params)=>{\n            await this.setup();\n            const response = await this.streamClient.get(this.streamClientBasePath, params);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (params?.ring) {\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(response.call.settings, false);\n            return response;\n        };\n        /**\n         * Loads the information about the call and creates it if it doesn't exist.\n         *\n         * @param data the data to create the call with.\n         */ this.getOrCreate = async (data)=>{\n            await this.setup();\n            const response = await this.streamClient.post(this.streamClientBasePath, data);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (data?.ring) {\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(response.call.settings, false);\n            return response;\n        };\n        /**\n         * Creates a call\n         *\n         * @param data the data to create the call with.\n         */ this.create = async (data)=>{\n            return this.getOrCreate(data);\n        };\n        /**\n         * Deletes the call.\n         */ this.delete = async (data = {})=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/delete`, data);\n        };\n        /**\n         * A shortcut for {@link Call.get} with `ring` parameter set to `true`.\n         * Will send a `call.ring` event to the call members.\n         */ this.ring = async ()=>{\n            return await this.get({\n                ring: true\n            });\n        };\n        /**\n         * A shortcut for {@link Call.get} with `notify` parameter set to `true`.\n         * Will send a `call.notification` event to the call members.\n         */ this.notify = async ()=>{\n            return await this.get({\n                notify: true\n            });\n        };\n        /**\n         * Marks the incoming call as accepted.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.join} invokes this method automatically for you when joining a call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         */ this.accept = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/accept`);\n        };\n        /**\n         * Marks the incoming call as rejected.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.leave} invokes this method automatically for you when you leave or reject this call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         *\n         * @param reason the reason for rejecting the call.\n         */ this.reject = async (reason = 'decline')=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reject`, {\n                reason: reason\n            });\n        };\n        /**\n         * Will start to watch for call related WebSocket events and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.join = async ({ maxJoinRetries = 3, ...data } = {})=>{\n            await this.setup();\n            const callingState = this.state.callingState;\n            if ([\n                CallingState.JOINED,\n                CallingState.JOINING\n            ].includes(callingState)) {\n                throw new Error(`Illegal State: call.join() shall be called only once`);\n            }\n            this.state.setCallingState(CallingState.JOINING);\n            // we will count the number of join failures per SFU.\n            // once the number of failures reaches 2, we will piggyback on the `migrating_from`\n            // field to force the coordinator to provide us another SFU\n            const sfuJoinFailures = new Map();\n            const joinData = data;\n            maxJoinRetries = Math.max(maxJoinRetries, 1);\n            for(let attempt = 0; attempt < maxJoinRetries; attempt++){\n                try {\n                    this.logger('trace', `Joining call (${attempt})`, this.cid);\n                    await this.doJoin(data);\n                    delete joinData.migrating_from;\n                    break;\n                } catch (err) {\n                    this.logger('warn', `Failed to join call (${attempt})`, this.cid);\n                    if (err instanceof ErrorFromResponse && err.unrecoverable) {\n                        // if the error is unrecoverable, we should not retry as that signals\n                        // that connectivity is good, but the coordinator doesn't allow the user\n                        // to join the call due to some reason (e.g., ended call, expired token...)\n                        throw err;\n                    }\n                    const sfuId = this.credentials?.server.edge_name || '';\n                    const failures = (sfuJoinFailures.get(sfuId) || 0) + 1;\n                    sfuJoinFailures.set(sfuId, failures);\n                    if (failures >= 2) {\n                        joinData.migrating_from = sfuId;\n                    }\n                    if (attempt === maxJoinRetries - 1) {\n                        // restore the previous call state if the join-flow fails\n                        this.state.setCallingState(callingState);\n                        throw err;\n                    }\n                }\n                await sleep(retryInterval(attempt));\n            }\n        };\n        /**\n         * Will make a single attempt to watch for call related WebSocket events\n         * and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.doJoin = async (data)=>{\n            const connectStartTime = Date.now();\n            const callingState = this.state.callingState;\n            this.joinCallData = data;\n            this.logger('debug', 'Starting join flow');\n            this.state.setCallingState(CallingState.JOINING);\n            const performingMigration = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n            const performingRejoin = this.reconnectStrategy === WebsocketReconnectStrategy.REJOIN;\n            const performingFastReconnect = this.reconnectStrategy === WebsocketReconnectStrategy.FAST;\n            let statsOptions = this.sfuStatsReporter?.options;\n            if (!this.credentials || !statsOptions || performingRejoin || performingMigration) {\n                try {\n                    const joinResponse = await this.doJoinRequest(data);\n                    this.credentials = joinResponse.credentials;\n                    statsOptions = joinResponse.stats_options;\n                } catch (error) {\n                    // prevent triggering reconnect flow if the state is OFFLINE\n                    const avoidRestoreState = this.state.callingState === CallingState.OFFLINE;\n                    if (!avoidRestoreState) {\n                        // restore the previous call state if the join-flow fails\n                        this.state.setCallingState(callingState);\n                    }\n                    throw error;\n                }\n            }\n            const previousSfuClient = this.sfuClient;\n            const previousSessionId = previousSfuClient?.sessionId;\n            const isWsHealthy = !!previousSfuClient?.isHealthy;\n            const sfuClient = performingRejoin || performingMigration || !isWsHealthy ? new StreamSfuClient({\n                tag: String(this.sfuClientTag++),\n                cid: this.cid,\n                dispatcher: this.dispatcher,\n                credentials: this.credentials,\n                streamClient: this.streamClient,\n                enableTracing: statsOptions.enable_rtc_stats,\n                // a new session_id is necessary for the REJOIN strategy.\n                // we use the previous session_id if available\n                sessionId: performingRejoin ? undefined : previousSessionId,\n                onSignalClose: (reason)=>this.handleSfuSignalClose(sfuClient, reason)\n            }) : previousSfuClient;\n            this.sfuClient = sfuClient;\n            this.dynascaleManager.setSfuClient(sfuClient);\n            const clientDetails = await getClientDetails();\n            // we don't need to send JoinRequest if we are re-using an existing healthy SFU client\n            if (previousSfuClient !== sfuClient) {\n                // prepare a generic SDP and send it to the SFU.\n                // these are throw-away SDPs that the SFU will use to determine\n                // the capabilities of the client (codec support, etc.)\n                const [subscriberSdp, publisherSdp] = await Promise.all([\n                    getGenericSdp('recvonly'),\n                    getGenericSdp('sendonly')\n                ]);\n                const isReconnecting = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED;\n                const reconnectDetails = isReconnecting ? this.getReconnectDetails(data?.migrating_from, previousSessionId) : undefined;\n                const preferredPublishOptions = !isReconnecting ? this.getPreferredPublishOptions() : this.currentPublishOptions || [];\n                const preferredSubscribeOptions = !isReconnecting ? this.getPreferredSubscribeOptions() : [];\n                try {\n                    const { callState, fastReconnectDeadlineSeconds, publishOptions } = await sfuClient.join({\n                        subscriberSdp,\n                        publisherSdp,\n                        clientDetails,\n                        fastReconnect: performingFastReconnect,\n                        reconnectDetails,\n                        preferredPublishOptions,\n                        preferredSubscribeOptions,\n                        capabilities: Array.from(this.clientCapabilities)\n                    });\n                    this.currentPublishOptions = publishOptions;\n                    this.fastReconnectDeadlineSeconds = fastReconnectDeadlineSeconds;\n                    if (callState) {\n                        this.state.updateFromSfuCallState(callState, sfuClient.sessionId, reconnectDetails);\n                    }\n                } catch (error) {\n                    this.logger('warn', 'Join SFU request failed', error);\n                    sfuClient.close(StreamSfuClient.JOIN_FAILED, 'Join request failed, connection considered unhealthy');\n                    // restore the previous call state if the join-flow fails\n                    this.state.setCallingState(callingState);\n                    throw error;\n                }\n            }\n            if (!performingMigration) {\n                // in MIGRATION, `JOINED` state is set in `this.reconnectMigrate()`\n                this.state.setCallingState(CallingState.JOINED);\n            }\n            this.hasJoinedOnce = true;\n            // when performing fast reconnect, or when we reuse the same SFU client,\n            // (ws remained healthy), we just need to restore the ICE connection\n            if (performingFastReconnect) {\n                // the SFU automatically issues an ICE restart on the subscriber\n                // we don't have to do it ourselves\n                await this.restoreICE(sfuClient, {\n                    includeSubscriber: false\n                });\n            } else {\n                const connectionConfig = toRtcConfiguration(this.credentials.ice_servers);\n                this.initPublisherAndSubscriber({\n                    sfuClient,\n                    connectionConfig,\n                    clientDetails,\n                    statsOptions,\n                    publishOptions: this.currentPublishOptions || [],\n                    closePreviousInstances: !performingMigration\n                });\n            }\n            // make sure we only track connection timing if we are not calling this method as part of a reconnection flow\n            if (!performingRejoin && !performingFastReconnect && !performingMigration) {\n                this.sfuStatsReporter?.sendConnectionTime((Date.now() - connectStartTime) / 1000);\n            }\n            if (performingRejoin && isWsHealthy) {\n                const strategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                await previousSfuClient?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${strategy}`);\n            } else if (!isWsHealthy) {\n                previousSfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, 'Closing unhealthy WS after reconnect');\n            }\n            // device settings should be applied only once, we don't have to\n            // re-apply them on later reconnections or server-side data fetches\n            if (!this.deviceSettingsAppliedOnce && this.state.settings) {\n                await this.applyDeviceConfig(this.state.settings, true);\n                this.deviceSettingsAppliedOnce = true;\n            }\n            // We shouldn't persist the `ring` and `notify` state after joining the call\n            // as it's a one-time event and clashes with the potential reconnection attempts.\n            // When reconnecting, if provided with `ring: true` or `notify: true`,\n            // we will spam the other participants with push notifications and `call.ring` events.\n            delete this.joinCallData?.ring;\n            delete this.joinCallData?.notify;\n            // reset the reconnect strategy to unspecified after a successful reconnection\n            this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n            this.reconnectReason = '';\n            this.logger('info', `Joined call ${this.cid}`);\n        };\n        /**\n         * Prepares Reconnect Details object.\n         * @internal\n         */ this.getReconnectDetails = (migratingFromSfuId, previousSessionId)=>{\n            const strategy = this.reconnectStrategy;\n            const performingRejoin = strategy === WebsocketReconnectStrategy.REJOIN;\n            const announcedTracks = this.publisher?.getAnnouncedTracksForReconnect() || [];\n            return {\n                strategy,\n                announcedTracks,\n                subscriptions: this.dynascaleManager.trackSubscriptions,\n                reconnectAttempt: this.reconnectAttempts,\n                fromSfuId: migratingFromSfuId || '',\n                previousSessionId: performingRejoin ? previousSessionId || '' : '',\n                reason: this.reconnectReason\n            };\n        };\n        /**\n         * Prepares the preferred codec for the call.\n         * This is an experimental client feature and subject to change.\n         * @internal\n         */ this.getPreferredPublishOptions = ()=>{\n            const { preferredCodec, fmtpLine, preferredBitrate, maxSimulcastLayers } = this.clientPublishOptions || {};\n            if (!preferredCodec && !preferredBitrate && !maxSimulcastLayers) return [];\n            const codec = preferredCodec ? Codec.create({\n                name: preferredCodec.split('/').pop(),\n                fmtp: fmtpLine\n            }) : undefined;\n            const preferredPublishOptions = [\n                PublishOption.create({\n                    trackType: TrackType.VIDEO,\n                    codec,\n                    bitrate: preferredBitrate,\n                    maxSpatialLayers: maxSimulcastLayers\n                })\n            ];\n            const screenShareSettings = this.screenShare.getSettings();\n            if (screenShareSettings) {\n                preferredPublishOptions.push(PublishOption.create({\n                    trackType: TrackType.SCREEN_SHARE,\n                    fps: screenShareSettings.maxFramerate,\n                    bitrate: screenShareSettings.maxBitrate\n                }));\n            }\n            return preferredPublishOptions;\n        };\n        /**\n         * Prepares the preferred options for subscribing to tracks.\n         * This is an experimental client feature and subject to change.\n         * @internal\n         */ this.getPreferredSubscribeOptions = ()=>{\n            const { subscriberCodec, subscriberFmtpLine } = this.clientPublishOptions || {};\n            if (!subscriberCodec || !subscriberFmtpLine) return [];\n            return [\n                SubscribeOption.create({\n                    trackType: TrackType.VIDEO,\n                    codecs: [\n                        {\n                            name: subscriberCodec.split('/').pop(),\n                            fmtp: subscriberFmtpLine\n                        }\n                    ]\n                })\n            ];\n        };\n        /**\n         * Performs an ICE restart on both the Publisher and Subscriber Peer Connections.\n         * Uses the provided SFU client to restore the ICE connection.\n         *\n         * This method can throw an error if the ICE restart fails.\n         * This error should be handled by the reconnect loop,\n         * and a new reconnection shall be attempted.\n         *\n         * @internal\n         */ this.restoreICE = async (nextSfuClient, opts = {})=>{\n            const { includeSubscriber = true, includePublisher = true } = opts;\n            if (this.subscriber) {\n                this.subscriber.setSfuClient(nextSfuClient);\n                if (includeSubscriber) {\n                    await this.subscriber.restartIce();\n                }\n            }\n            if (this.publisher) {\n                this.publisher.setSfuClient(nextSfuClient);\n                if (includePublisher && this.publisher.isPublishing()) {\n                    await this.publisher.restartIce();\n                }\n            }\n        };\n        /**\n         * Initializes the Publisher and Subscriber Peer Connections.\n         * @internal\n         */ this.initPublisherAndSubscriber = (opts)=>{\n            const { sfuClient, connectionConfig, clientDetails, statsOptions, publishOptions, closePreviousInstances } = opts;\n            const { enable_rtc_stats: enableTracing } = statsOptions;\n            if (closePreviousInstances && this.subscriber) {\n                this.subscriber.dispose();\n            }\n            this.subscriber = new Subscriber({\n                sfuClient,\n                dispatcher: this.dispatcher,\n                state: this.state,\n                connectionConfig,\n                tag: sfuClient.tag,\n                enableTracing,\n                onReconnectionNeeded: (kind, reason)=>{\n                    this.reconnect(kind, reason).catch((err)=>{\n                        const message = `[Reconnect] Error reconnecting after a subscriber error: ${reason}`;\n                        this.logger('warn', message, err);\n                    });\n                }\n            });\n            // anonymous users can't publish anything hence, there is no need\n            // to create Publisher Peer Connection for them\n            const isAnonymous = this.streamClient.user?.type === 'anonymous';\n            if (!isAnonymous) {\n                if (closePreviousInstances && this.publisher) {\n                    this.publisher.dispose();\n                }\n                this.publisher = new Publisher({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    publishOptions,\n                    tag: sfuClient.tag,\n                    enableTracing,\n                    onReconnectionNeeded: (kind, reason)=>{\n                        this.reconnect(kind, reason).catch((err)=>{\n                            const message = `[Reconnect] Error reconnecting after a publisher error: ${reason}`;\n                            this.logger('warn', message, err);\n                        });\n                    }\n                });\n            }\n            this.statsReporter?.stop();\n            if (this.statsReportingIntervalInMs > 0) {\n                this.statsReporter = createStatsReporter({\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    state: this.state,\n                    datacenter: sfuClient.edgeName,\n                    pollingIntervalInMs: this.statsReportingIntervalInMs\n                });\n            }\n            this.tracer.setEnabled(enableTracing);\n            this.sfuStatsReporter?.stop();\n            if (statsOptions?.reporting_interval_ms > 0) {\n                this.unifiedSessionId ?? (this.unifiedSessionId = sfuClient.sessionId);\n                this.sfuStatsReporter = new SfuStatsReporter(sfuClient, {\n                    clientDetails,\n                    options: statsOptions,\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    microphone: this.microphone,\n                    camera: this.camera,\n                    state: this.state,\n                    tracer: this.tracer,\n                    unifiedSessionId: this.unifiedSessionId\n                });\n                this.sfuStatsReporter.start();\n            }\n        };\n        /**\n         * Retrieves credentials for joining the call.\n         *\n         * @internal\n         *\n         * @param data the join call data.\n         */ this.doJoinRequest = async (data)=>{\n            const location = await this.streamClient.getLocationHint();\n            const request = {\n                ...data,\n                location\n            };\n            const joinResponse = await this.streamClient.post(`${this.streamClientBasePath}/join`, request);\n            this.state.updateFromCallResponse(joinResponse.call);\n            this.state.setMembers(joinResponse.members);\n            this.state.setOwnCapabilities(joinResponse.own_capabilities);\n            if (data?.ring) {\n                this.ringingSubject.next(true);\n            }\n            const isReconnecting = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED;\n            if (!isReconnecting && this.ringing && !this.isCreatedByMe) {\n                // signals other users that I have accepted the incoming call.\n                await this.accept();\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            return joinResponse;\n        };\n        /**\n         * Handles the closing of the SFU signal connection.\n         *\n         * @internal\n         * @param sfuClient the SFU client instance that was closed.\n         * @param reason the reason for the closure.\n         */ this.handleSfuSignalClose = (sfuClient, reason)=>{\n            this.logger('debug', '[Reconnect] SFU signal connection closed');\n            const { callingState } = this.state;\n            if (// SFU WS closed before we finished current join,\n            // no need to schedule reconnecting\n            callingState === CallingState.JOINING || // we are already in the process of reconnecting,\n            // no need to schedule another one\n            callingState === CallingState.RECONNECTING || // SFU WS closed as a result of unsuccessful join,\n            // and no further retries need to be made\n            callingState === CallingState.IDLE || callingState === CallingState.LEFT) return;\n            // normal close, no need to reconnect\n            if (sfuClient.isLeaving || sfuClient.isClosingClean) return;\n            const strategy = this.publisher?.isHealthy() && this.subscriber?.isHealthy() ? WebsocketReconnectStrategy.FAST : WebsocketReconnectStrategy.REJOIN;\n            this.reconnect(strategy, reason).catch((err)=>{\n                this.logger('warn', '[Reconnect] Error reconnecting', err);\n            });\n        };\n        /**\n         * Handles the reconnection flow.\n         *\n         * @internal\n         *\n         * @param strategy the reconnection strategy to use.\n         * @param reason the reason for the reconnection.\n         */ this.reconnect = async (strategy, reason)=>{\n            if (this.state.callingState === CallingState.RECONNECTING || this.state.callingState === CallingState.MIGRATING || this.state.callingState === CallingState.RECONNECTING_FAILED) return;\n            return withoutConcurrency(this.reconnectConcurrencyTag, async ()=>{\n                const reconnectStartTime = Date.now();\n                this.reconnectStrategy = strategy;\n                this.reconnectReason = reason;\n                const markAsReconnectingFailed = async ()=>{\n                    try {\n                        // attempt to fetch the call data from the server, as the call\n                        // state might have changed while we were reconnecting or were offline\n                        await this.get();\n                    } finally{\n                        this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                    }\n                };\n                let attempt = 0;\n                do {\n                    const reconnectingTime = Date.now() - reconnectStartTime;\n                    const shouldGiveUpReconnecting = this.disconnectionTimeoutSeconds > 0 && reconnectingTime / 1000 > this.disconnectionTimeoutSeconds;\n                    if (shouldGiveUpReconnecting) {\n                        this.logger('warn', '[Reconnect] Stopping reconnection attempts after reaching disconnection timeout');\n                        await markAsReconnectingFailed();\n                        return;\n                    }\n                    // we don't increment reconnect attempts for the FAST strategy.\n                    if (this.reconnectStrategy !== WebsocketReconnectStrategy.FAST) {\n                        this.reconnectAttempts++;\n                    }\n                    const currentStrategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                    try {\n                        // wait until the network is available\n                        await this.networkAvailableTask?.promise;\n                        this.logger('info', `[Reconnect] Reconnecting with strategy ${WebsocketReconnectStrategy[this.reconnectStrategy]}`);\n                        switch(this.reconnectStrategy){\n                            case WebsocketReconnectStrategy.UNSPECIFIED:\n                            case WebsocketReconnectStrategy.DISCONNECT:\n                                this.logger('debug', `[Reconnect] No-op strategy ${currentStrategy}`);\n                                break;\n                            case WebsocketReconnectStrategy.FAST:\n                                await this.reconnectFast();\n                                break;\n                            case WebsocketReconnectStrategy.REJOIN:\n                                await this.reconnectRejoin();\n                                break;\n                            case WebsocketReconnectStrategy.MIGRATE:\n                                await this.reconnectMigrate();\n                                break;\n                            default:\n                                ensureExhausted(this.reconnectStrategy, 'Unknown reconnection strategy');\n                                break;\n                        }\n                        break; // do-while loop, reconnection worked, exit the loop\n                    } catch (error) {\n                        if (this.state.callingState === CallingState.OFFLINE) {\n                            this.logger('debug', `[Reconnect] Can't reconnect while offline, stopping reconnection attempts`);\n                            break;\n                        // we don't need to handle the error if the call is offline\n                        // network change event will trigger the reconnection\n                        }\n                        if (error instanceof ErrorFromResponse && error.unrecoverable) {\n                            this.logger('warn', `[Reconnect] Can't reconnect due to coordinator unrecoverable error`, error);\n                            await markAsReconnectingFailed();\n                            return;\n                        }\n                        await sleep(500);\n                        const wasMigrating = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n                        const mustPerformRejoin = (Date.now() - reconnectStartTime) / 1000 > this.fastReconnectDeadlineSeconds;\n                        // don't immediately switch to the REJOIN strategy, but instead attempt\n                        // to reconnect with the FAST strategy for a few times before switching.\n                        // in some cases, we immediately switch to the REJOIN strategy.\n                        const shouldRejoin = mustPerformRejoin || // if we are past the fast reconnect deadline\n                        wasMigrating || // if we were migrating, but the migration failed\n                        attempt >= 3 || // after 3 failed attempts\n                        !(this.publisher?.isHealthy() ?? true) || // if the publisher is not healthy\n                        !(this.subscriber?.isHealthy() ?? true); // if the subscriber is not healthy\n                        attempt++;\n                        const nextStrategy = shouldRejoin ? WebsocketReconnectStrategy.REJOIN : WebsocketReconnectStrategy.FAST;\n                        this.reconnectStrategy = nextStrategy;\n                        this.logger('info', `[Reconnect] ${currentStrategy} (${this.reconnectAttempts}) failed. Attempting with ${WebsocketReconnectStrategy[nextStrategy]}`, error);\n                    }\n                }while (this.state.callingState !== CallingState.JOINED && this.state.callingState !== CallingState.RECONNECTING_FAILED && this.state.callingState !== CallingState.LEFT);\n                this.logger('info', '[Reconnect] Reconnection flow finished');\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"fast\" strategy.\n         * @internal\n         */ this.reconnectFast = async ()=>{\n            const reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.FAST;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.doJoin(this.joinCallData);\n            await this.get(); // fetch the latest call state, as it might have changed\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.FAST, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Initiates the reconnection flow with the \"rejoin\" strategy.\n         * @internal\n         */ this.reconnectRejoin = async ()=>{\n            const reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.doJoin(this.joinCallData);\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.REJOIN, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Initiates the reconnection flow with the \"migrate\" strategy.\n         * @internal\n         */ this.reconnectMigrate = async ()=>{\n            const reconnectStartTime = Date.now();\n            const currentSfuClient = this.sfuClient;\n            if (!currentSfuClient) {\n                throw new Error('Cannot migrate without an active SFU client');\n            }\n            this.reconnectStrategy = WebsocketReconnectStrategy.MIGRATE;\n            this.state.setCallingState(CallingState.MIGRATING);\n            const currentSubscriber = this.subscriber;\n            const currentPublisher = this.publisher;\n            currentSubscriber?.detachEventHandlers();\n            currentPublisher?.detachEventHandlers();\n            const migrationTask = makeSafePromise(currentSfuClient.enterMigration());\n            try {\n                const currentSfu = currentSfuClient.edgeName;\n                await this.doJoin({\n                    ...this.joinCallData,\n                    migrating_from: currentSfu\n                });\n            } finally{\n                // cleanup the migration_from field after the migration is complete or failed\n                // as we don't want to keep dirty data in the join call data\n                delete this.joinCallData?.migrating_from;\n            }\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            try {\n                // Wait for the migration to complete, then close the previous SFU client\n                // and the peer connection instances. In case of failure, the migration\n                // task would throw an error and REJOIN would be attempted.\n                await migrationTask();\n                // in MIGRATE, we can consider the call as joined only after\n                // `participantMigrationComplete` event is received, signaled by\n                // the `migrationTask`\n                this.state.setCallingState(CallingState.JOINED);\n            } finally{\n                currentSubscriber?.dispose();\n                currentPublisher?.dispose();\n                // and close the previous SFU client, without specifying close code\n                currentSfuClient.close(StreamSfuClient.NORMAL_CLOSURE, 'Migrating away');\n            }\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.MIGRATE, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Registers the various event handlers for reconnection.\n         *\n         * @internal\n         */ this.registerReconnectHandlers = ()=>{\n            // handles the legacy \"goAway\" event\n            const unregisterGoAway = this.on('goAway', ()=>{\n                this.reconnect(WebsocketReconnectStrategy.MIGRATE, 'goAway').catch((err)=>this.logger('warn', '[Reconnect] Error reconnecting', err));\n            });\n            // handles the \"error\" event, through which the SFU can request a reconnect\n            const unregisterOnError = this.on('error', (e)=>{\n                const { reconnectStrategy: strategy, error } = e;\n                if (strategy === WebsocketReconnectStrategy.UNSPECIFIED) return;\n                if (strategy === WebsocketReconnectStrategy.DISCONNECT) {\n                    this.leave({\n                        message: 'SFU instructed to disconnect'\n                    }).catch((err)=>{\n                        this.logger('warn', `Can't leave call after disconnect request`, err);\n                    });\n                } else {\n                    this.reconnect(strategy, error?.message || 'SFU Error').catch((err)=>{\n                        this.logger('warn', '[Reconnect] Error reconnecting', err);\n                    });\n                }\n            });\n            const unregisterNetworkChanged = this.streamClient.on('network.changed', (e)=>{\n                this.tracer.trace('network.changed', e);\n                if (!e.online) {\n                    this.logger('debug', '[Reconnect] Going offline');\n                    if (!this.hasJoinedOnce) return;\n                    this.lastOfflineTimestamp = Date.now();\n                    // create a new task that would resolve when the network is available\n                    const networkAvailableTask = promiseWithResolvers();\n                    networkAvailableTask.promise.then(()=>{\n                        let strategy = WebsocketReconnectStrategy.FAST;\n                        if (this.lastOfflineTimestamp) {\n                            const offline = (Date.now() - this.lastOfflineTimestamp) / 1000;\n                            if (offline > this.fastReconnectDeadlineSeconds) {\n                                // We shouldn't attempt FAST if we have exceeded the deadline.\n                                // The SFU would have already wiped out the session.\n                                strategy = WebsocketReconnectStrategy.REJOIN;\n                            }\n                        }\n                        this.reconnect(strategy, 'Going online').catch((err)=>{\n                            this.logger('warn', '[Reconnect] Error reconnecting after going online', err);\n                        });\n                    });\n                    this.networkAvailableTask = networkAvailableTask;\n                    this.sfuStatsReporter?.stop();\n                    this.state.setCallingState(CallingState.OFFLINE);\n                } else {\n                    this.logger('debug', '[Reconnect] Going online');\n                    this.sfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, 'Closing WS to reconnect after going online');\n                    // we went online, release the previous waiters and reset the state\n                    this.networkAvailableTask?.resolve();\n                    this.networkAvailableTask = undefined;\n                    this.sfuStatsReporter?.start();\n                }\n            });\n            this.leaveCallHooks.add(unregisterGoAway).add(unregisterOnError).add(unregisterNetworkChanged);\n        };\n        /**\n         * Restores the published tracks after a reconnection.\n         * @internal\n         */ this.restorePublishedTracks = async ()=>{\n            // the tracks need to be restored in their original order of publishing\n            // otherwise, we might get `m-lines order mismatch` errors\n            for (const trackType of this.trackPublishOrder){\n                let mediaStream;\n                switch(trackType){\n                    case TrackType.AUDIO:\n                        mediaStream = this.microphone.state.mediaStream;\n                        break;\n                    case TrackType.VIDEO:\n                        mediaStream = this.camera.state.mediaStream;\n                        break;\n                    case TrackType.SCREEN_SHARE:\n                        mediaStream = this.screenShare.state.mediaStream;\n                        break;\n                    // screen share audio can't exist without a screen share, so we handle it there\n                    case TrackType.SCREEN_SHARE_AUDIO:\n                    case TrackType.UNSPECIFIED:\n                        break;\n                    default:\n                        ensureExhausted(trackType, 'Unknown track type');\n                        break;\n                }\n                if (mediaStream) await this.publish(mediaStream, trackType);\n            }\n        };\n        /**\n         * Restores the subscribed tracks after a reconnection.\n         * @internal\n         */ this.restoreSubscribedTracks = ()=>{\n            const { remoteParticipants } = this.state;\n            if (remoteParticipants.length <= 0) return;\n            this.dynascaleManager.applyTrackSubscriptions(undefined);\n        };\n        /**\n         * Starts publishing the given video stream to the call.\n         * @deprecated use `call.publish()`.\n         */ this.publishVideoStream = async (videoStream)=>{\n            await this.publish(videoStream, TrackType.VIDEO);\n        };\n        /**\n         * Starts publishing the given audio stream to the call.\n         * @deprecated use `call.publish()`\n         */ this.publishAudioStream = async (audioStream)=>{\n            await this.publish(audioStream, TrackType.AUDIO);\n        };\n        /**\n         * Starts publishing the given screen-share stream to the call.\n         * @deprecated use `call.publish()`\n         */ this.publishScreenShareStream = async (screenShareStream)=>{\n            await this.publish(screenShareStream, TrackType.SCREEN_SHARE);\n        };\n        /**\n         * Publishes the given media stream.\n         *\n         * @param mediaStream the media stream to publish.\n         * @param trackType the type of the track to announce.\n         */ this.publish = async (mediaStream, trackType)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.canPublish(trackType)) {\n                throw new Error(`No permission to publish ${TrackType[trackType]}`);\n            }\n            if (!this.publisher) throw new Error('Publisher is not initialized');\n            const [track] = isAudioTrackType(trackType) ? mediaStream.getAudioTracks() : mediaStream.getVideoTracks();\n            if (!track) {\n                throw new Error(`There is no ${TrackType[trackType]} track in the stream`);\n            }\n            if (track.readyState === 'ended') {\n                throw new Error(`Can't publish ended tracks.`);\n            }\n            pushToIfMissing(this.trackPublishOrder, trackType);\n            await this.publisher.publish(track, trackType);\n            const trackTypes = [\n                trackType\n            ];\n            if (trackType === TrackType.SCREEN_SHARE) {\n                const [audioTrack] = mediaStream.getAudioTracks();\n                if (audioTrack) {\n                    pushToIfMissing(this.trackPublishOrder, TrackType.SCREEN_SHARE_AUDIO);\n                    await this.publisher.publish(audioTrack, TrackType.SCREEN_SHARE_AUDIO);\n                    trackTypes.push(TrackType.SCREEN_SHARE_AUDIO);\n                }\n            }\n            if (track.kind === 'video') {\n                // schedules calibration report - the SFU will use the performance stats\n                // to adjust the quality thresholds as early as possible\n                this.sfuStatsReporter?.scheduleOne(3000);\n            }\n            await this.updateLocalStreamState(mediaStream, ...trackTypes);\n        };\n        /**\n         * Stops publishing the given track type to the call, if it is currently being published.\n         *\n         * @param trackTypes the track types to stop publishing.\n         */ this.stopPublish = async (...trackTypes)=>{\n            if (!this.sfuClient || !this.publisher) return;\n            this.publisher.stopTracks(...trackTypes);\n            await this.updateLocalStreamState(undefined, ...trackTypes);\n        };\n        /**\n         * Updates the call state with the new stream.\n         *\n         * @param mediaStream the new stream to update the call state with.\n         * If undefined, the stream will be removed from the call state.\n         * @param trackTypes the track types to update the call state with.\n         */ this.updateLocalStreamState = async (mediaStream, ...trackTypes)=>{\n            if (!this.sfuClient || !this.sfuClient.sessionId) return;\n            await this.notifyTrackMuteState(!mediaStream, ...trackTypes);\n            const { sessionId } = this.sfuClient;\n            for (const trackType of trackTypes){\n                const streamStateProp = trackTypeToParticipantStreamKey(trackType);\n                if (!streamStateProp) continue;\n                this.state.updateParticipant(sessionId, (p)=>({\n                        publishedTracks: mediaStream ? pushToIfMissing([\n                            ...p.publishedTracks\n                        ], trackType) : p.publishedTracks.filter((t)=>t !== trackType),\n                        [streamStateProp]: mediaStream\n                    }));\n            }\n        };\n        /**\n         * Updates the preferred publishing options\n         *\n         * @internal\n         * @param options the options to use.\n         */ this.updatePublishOptions = (options)=>{\n            this.logger('warn', '[call.updatePublishOptions]: You are manually overriding the publish options for this call. ' + 'This is not recommended, and it can cause call stability/compatibility issues. Use with caution.');\n            if (this.state.callingState === CallingState.JOINED) {\n                this.logger('warn', 'Updating publish options after joining the call does not have an effect');\n            }\n            this.clientPublishOptions = {\n                ...this.clientPublishOptions,\n                ...options\n            };\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has started.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStarting = async ()=>{\n            return this.sfuClient?.startNoiseCancellation().catch((err)=>{\n                this.logger('warn', 'Failed to notify start of noise cancellation', err);\n            });\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has stopped.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStopped = async ()=>{\n            return this.sfuClient?.stopNoiseCancellation().catch((err)=>{\n                this.logger('warn', 'Failed to notify stop of noise cancellation', err);\n            });\n        };\n        /**\n         * Notifies the SFU about the mute state of the given track types.\n         * @internal\n         */ this.notifyTrackMuteState = async (muted, ...trackTypes)=>{\n            const key = `muteState.${this.cid}.${trackTypes.join('-')}`;\n            await withoutConcurrency(key, async ()=>{\n                if (!this.sfuClient) return;\n                await this.sfuClient.updateMuteStates(trackTypes.map((trackType)=>({\n                        trackType,\n                        muted\n                    })));\n            });\n        };\n        /**\n         * Will enhance the reported stats with additional participant-specific information (`callStatsReport$` state [store variable](./StreamVideoClient.md/#readonlystatestore)).\n         * This is usually helpful when detailed stats for a specific participant are needed.\n         *\n         * @param sessionId the sessionId to start reporting for.\n         */ this.startReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.startReportingStatsFor(sessionId);\n        };\n        /**\n         * Opposite of `startReportingStatsFor`.\n         * Will turn off stats reporting for a specific participant.\n         *\n         * @param sessionId the sessionId to stop reporting for.\n         */ this.stopReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.stopReportingStatsFor(sessionId);\n        };\n        /**\n         * Sets the frequency of the call stats reporting.\n         *\n         * @param intervalInMs the interval in milliseconds to report the stats.\n         */ this.setStatsReportingIntervalInMs = (intervalInMs)=>{\n            this.statsReportingIntervalInMs = intervalInMs;\n        };\n        /**\n         * Resets the last sent reaction for the user holding the given `sessionId`. This is a local action, it won't reset the reaction on the backend.\n         *\n         * @param sessionId the session id.\n         */ this.resetReaction = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                reaction: undefined\n            });\n        };\n        /**\n         * Sets the list of criteria to sort the participants by.\n         *\n         * @param criteria the list of criteria to sort the participants by.\n         */ this.setSortParticipantsBy = (criteria)=>{\n            return this.state.setSortParticipantsBy(criteria);\n        };\n        /**\n         * Sends a reaction to the other call participants.\n         *\n         * @param reaction the reaction to send.\n         */ this.sendReaction = async (reaction)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reaction`, reaction);\n        };\n        /**\n         * Blocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to block.\n         */ this.blockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/block`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Unblocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to unblock.\n         */ this.unblockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unblock`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Kicks the user with the given `userId`.\n         * @param data the kick request.\n         */ this.kickUser = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/kick`, data);\n        };\n        /**\n         * Mutes the current user.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteSelf = (type)=>{\n            const myUserId = this.currentUserId;\n            if (myUserId) {\n                return this.muteUser(myUserId, type);\n            }\n        };\n        /**\n         * Mutes all the other participants.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteOthers = (type)=>{\n            const trackType = muteTypeToTrackType(type);\n            if (!trackType) return;\n            const userIdsToMute = [];\n            for (const participant of this.state.remoteParticipants){\n                if (participant.publishedTracks.includes(trackType)) {\n                    userIdsToMute.push(participant.userId);\n                }\n            }\n            if (userIdsToMute.length > 0) {\n                return this.muteUser(userIdsToMute, type);\n            }\n        };\n        /**\n         * Mutes the user with the given `userId`.\n         *\n         * @param userId the id of the user to mute.\n         * @param type the type of the mute operation.\n         */ this.muteUser = (userId, type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                user_ids: Array.isArray(userId) ? userId : [\n                    userId\n                ],\n                [type]: true\n            });\n        };\n        /**\n         * Will mute all users in the call.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteAllUsers = (type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                mute_all_users: true,\n                [type]: true\n            });\n        };\n        /**\n         * Starts recording the call\n         */ this.startRecording = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_recording`, request ? request : {});\n        };\n        /**\n         * Stops recording the call\n         */ this.stopRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_recording`, {});\n        };\n        /**\n         * Starts the transcription of the call.\n         *\n         * @param request the request data.\n         */ this.startTranscription = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_transcription`, request);\n        };\n        /**\n         * Stops the transcription of the call.\n         */ this.stopTranscription = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`);\n        };\n        /**\n         * Starts the closed captions of the call.\n         */ this.startClosedCaptions = async (options)=>{\n            const trx = this.state.setCaptioning(true); // optimistic update\n            try {\n                return await this.streamClient.post(`${this.streamClientBasePath}/start_closed_captions`, options);\n            } catch (err) {\n                trx.rollback(); // revert the optimistic update\n                throw err;\n            }\n        };\n        /**\n         * Stops the closed captions of the call.\n         */ this.stopClosedCaptions = async (options)=>{\n            const trx = this.state.setCaptioning(false); // optimistic update\n            try {\n                return await this.streamClient.post(`${this.streamClientBasePath}/stop_closed_captions`, options);\n            } catch (err) {\n                trx.rollback(); // revert the optimistic update\n                throw err;\n            }\n        };\n        /**\n         * Updates the closed caption settings.\n         *\n         * @param config the closed caption settings to apply\n         */ this.updateClosedCaptionSettings = (config)=>{\n            this.state.updateClosedCaptionSettings(config);\n        };\n        /**\n         * Sends a `call.permission_request` event to all users connected to the call.\n         * The call settings object contains information about which permissions can be requested during a call\n         * (for example, a user might be allowed to request permission to publish audio, but not video).\n         */ this.requestPermissions = async (data)=>{\n            const { permissions } = data;\n            const canRequestPermissions = permissions.every((permission)=>this.permissionsContext.canRequest(permission));\n            if (!canRequestPermissions) {\n                throw new Error(`You are not allowed to request permissions: ${permissions.join(', ')}`);\n            }\n            return this.streamClient.post(`${this.streamClientBasePath}/request_permission`, data);\n        };\n        /**\n         * Allows you to grant certain permissions to a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be granted are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to grant permissions to.\n         * @param permissions the permissions to grant.\n         */ this.grantPermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                grant_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to revoke certain permissions from a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be revoked are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to revoke permissions from.\n         * @param permissions the permissions to revoke.\n         */ this.revokePermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                revoke_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to grant or revoke a specific permission to a user in a call. The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * When revoking a permission, this endpoint will also mute the relevant track from the user. This is similar to muting a user with the difference that the user will not be able to unmute afterwards.\n         *\n         * Supported permissions that can be granted or revoked: `send-audio`, `send-video` and `screenshare`.\n         *\n         * `call.permissions_updated` event is sent to all members of the call.\n         *\n         */ this.updateUserPermissions = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/user_permissions`, data);\n        };\n        /**\n         * Starts the livestreaming of the call.\n         *\n         * @param data the request data.\n         * @param params the request params.\n         */ this.goLive = async (data = {}, params)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/go_live`, data, params);\n        };\n        /**\n         * Stops the livestreaming of the call.\n         */ this.stopLive = async (data = {})=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_live`, data);\n        };\n        /**\n         * Starts the broadcasting of the call.\n         */ this.startHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`, {});\n        };\n        /**\n         * Stops the broadcasting of the call.\n         */ this.stopHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`, {});\n        };\n        /**\n         * Starts the RTMP-out broadcasting of the call.\n         */ this.startRTMPBroadcasts = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts`, data);\n        };\n        /**\n         * Stops all RTMP-out broadcasting of the call.\n         */ this.stopAllRTMPBroadcasts = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/stop`);\n        };\n        /**\n         * Stops the RTMP-out broadcasting of the call specified by it's name.\n         */ this.stopRTMPBroadcast = async (name)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/${name}/stop`);\n        };\n        /**\n         * Starts frame by frame recording.\n         * Sends call.frame_recording_started events\n         */ this.startFrameRecording = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_frame_recording`, data);\n        };\n        /**\n         * Stops frame recording.\n         */ this.stopFrameRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_frame_recording`);\n        };\n        /**\n         * Updates the call settings or custom data.\n         *\n         * @param updates the updates to apply to the call.\n         */ this.update = async (updates)=>{\n            const response = await this.streamClient.patch(`${this.streamClientBasePath}`, updates);\n            const { call, members, own_capabilities } = response;\n            this.state.updateFromCallResponse(call);\n            this.state.setMembers(members);\n            this.state.setOwnCapabilities(own_capabilities);\n            return response;\n        };\n        /**\n         * Ends the call. Once the call is ended, it cannot be re-joined.\n         */ this.endCall = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mark_ended`);\n        };\n        /**\n         * Pins the given session to the top of the participants list.\n         *\n         * @param sessionId the sessionId to pin.\n         */ this.pin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: {\n                    isLocalPin: true,\n                    pinnedAt: Date.now()\n                }\n            });\n        };\n        /**\n         * Unpins the given session from the top of the participants list.\n         *\n         * @param sessionId the sessionId to unpin.\n         */ this.unpin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: undefined\n            });\n        };\n        /**\n         * Pins the given session to the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.pinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/pin`, request);\n        };\n        /**\n         * Unpins the given session from the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.unpinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unpin`, request);\n        };\n        /**\n         * Query call members with filter query. The result won't be stored in call state.\n         * @param request\n         * @returns\n         */ this.queryMembers = (request)=>{\n            return this.streamClient.post('/call/members', {\n                ...request || {},\n                id: this.id,\n                type: this.type\n            });\n        };\n        /**\n         * Will update the call members.\n         *\n         * @param data the request data.\n         */ this.updateCallMembers = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/members`, data);\n        };\n        /**\n         * Schedules an auto-drop timeout based on the call settings.\n         * Applicable only for ringing calls.\n         */ this.scheduleAutoDrop = ()=>{\n            this.cancelAutoDrop();\n            const settings = this.state.settings;\n            if (!settings) return;\n            // ignore if the call is not ringing\n            if (this.state.callingState !== CallingState.RINGING) return;\n            const timeoutInMs = this.isCreatedByMe ? settings.ring.auto_cancel_timeout_ms : settings.ring.incoming_call_timeout_ms;\n            // 0 means no auto-drop\n            if (timeoutInMs <= 0) return;\n            this.dropTimeout = setTimeout(()=>{\n                // the call might have stopped ringing by this point,\n                // e.g. it was already accepted and joined\n                if (this.state.callingState !== CallingState.RINGING) return;\n                this.leave({\n                    reject: true,\n                    reason: 'timeout',\n                    message: `ringing timeout - ${this.isCreatedByMe ? 'no one accepted' : `user didn't interact with incoming call screen`}`\n                }).catch((err)=>{\n                    this.logger('error', 'Failed to drop call', err);\n                });\n            }, timeoutInMs);\n        };\n        /**\n         * Cancels a scheduled auto-drop timeout.\n         */ this.cancelAutoDrop = ()=>{\n            clearTimeout(this.dropTimeout);\n            this.dropTimeout = undefined;\n        };\n        /**\n         * Retrieves the list of recordings for the current call or call session.\n         *\n         * If `callSessionId` is provided, it will return the recordings for that call session.\n         * Otherwise, all recordings for the current call will be returned.\n         *\n         * @param callSessionId the call session id to retrieve recordings for.\n         */ this.queryRecordings = async (callSessionId)=>{\n            let endpoint = this.streamClientBasePath;\n            if (callSessionId) {\n                endpoint = `${endpoint}/${callSessionId}`;\n            }\n            return this.streamClient.get(`${endpoint}/recordings`);\n        };\n        /**\n         * Retrieves the list of transcriptions for the current call.\n         *\n         * @returns the list of transcriptions.\n         */ this.queryTranscriptions = async ()=>{\n            return this.streamClient.get(`${this.streamClientBasePath}/transcriptions`);\n        };\n        /**\n         * Retrieve call statistics for a particular call session (historical).\n         * Here `callSessionID` is mandatory.\n         *\n         * @param callSessionID the call session ID to retrieve statistics for.\n         * @returns The call stats.\n         * @deprecated use `call.getCallReport` instead.\n         * @internal\n         */ this.getCallStats = async (callSessionID)=>{\n            const endpoint = `${this.streamClientBasePath}/stats/${callSessionID}`;\n            return this.streamClient.get(endpoint);\n        };\n        /**\n         * Retrieve call report. If the `callSessionID` is not specified, then the\n         * report for the latest call session is retrieved. If it is specified, then\n         * the report for that particular session is retrieved if it exists.\n         *\n         * @param callSessionID the optional call session ID to retrieve statistics for\n         * @returns the call report\n         */ this.getCallReport = async (callSessionID = '')=>{\n            const endpoint = `${this.streamClientBasePath}/report`;\n            const params = callSessionID !== '' ? {\n                session_id: callSessionID\n            } : {};\n            return this.streamClient.get(endpoint, params);\n        };\n        /**\n         * Submit user feedback for the call\n         *\n         * @param rating Rating between 1 and 5 denoting the experience of the user in the call\n         * @param reason The reason/description for the rating\n         * @param custom Custom data\n         */ this.submitFeedback = async (rating, { reason, custom } = {})=>{\n            const { sdkName, sdkVersion, ...platform } = getSdkSignature(await getClientDetails());\n            return this.streamClient.post(`${this.streamClientBasePath}/feedback`, {\n                rating,\n                reason,\n                user_session_id: this.sfuClient?.sessionId,\n                sdk: sdkName,\n                sdk_version: sdkVersion,\n                custom: {\n                    ...custom,\n                    'x-stream-platform-data': platform\n                }\n            });\n        };\n        /**\n         * Sends a custom event to all call participants.\n         *\n         * @param payload the payload to send.\n         */ this.sendCustomEvent = async (payload)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/event`, {\n                custom: payload\n            });\n        };\n        /**\n         * Applies the device configuration from the backend.\n         *\n         * @internal\n         */ this.applyDeviceConfig = async (settings, publish)=>{\n            await this.camera.apply(settings.video, publish).catch((err)=>{\n                this.logger('warn', 'Camera init failed', err);\n            });\n            await this.microphone.apply(settings.audio, publish).catch((err)=>{\n                this.logger('warn', 'Mic init failed', err);\n            });\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the video mode.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            return this.dynascaleManager.trackElementVisibility(element, sessionId, trackType);\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.dynascaleManager.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const unbind = this.dynascaleManager.bindVideoElement(videoElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType = 'audioTrack')=>{\n            const unbind = this.dynascaleManager.bindAudioElement(audioElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <img> element to this call's thumbnail (if enabled in settings).\n         *\n         * @param imageElement the image element to bind to.\n         * @param opts options for the binding.\n         */ this.bindCallThumbnailElement = (imageElement, opts = {})=>{\n            const handleError = ()=>{\n                imageElement.src = opts.fallbackImageSource || 'https://getstream.io/random_svg/?name=x&id=x';\n            };\n            const unsubscribe = createSubscription(this.state.thumbnails$, (thumbnails)=>{\n                if (!thumbnails) return;\n                imageElement.addEventListener('error', handleError);\n                const thumbnailUrl = new URL(thumbnails.image_url);\n                thumbnailUrl.searchParams.set('w', String(imageElement.clientWidth));\n                thumbnailUrl.searchParams.set('h', String(imageElement.clientHeight));\n                imageElement.src = thumbnailUrl.toString();\n            });\n            return ()=>{\n                unsubscribe();\n                imageElement.removeEventListener('error', handleError);\n            };\n        };\n        /**\n         * Specify preference for incoming video resolution. The preference will\n         * be matched as close as possible, but actual resolution will depend\n         * on the video source quality and client network conditions. Will enable\n         * incoming video, if previously disabled.\n         *\n         * @param resolution preferred resolution, or `undefined` to clear preference\n         * @param sessionIds optionally specify session ids of the participants this\n         * preference has effect on. Affects all participants by default.\n         */ this.setPreferredIncomingVideoResolution = (resolution, sessionIds)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(resolution ? {\n                enabled: true,\n                dimension: resolution\n            } : undefined, sessionIds);\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Enables or disables incoming video from all remote call participants,\n         * and removes any preference for preferred resolution.\n         */ this.setIncomingVideoEnabled = (enabled)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(enabled ? undefined : {\n                enabled: false\n            });\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Sets the maximum amount of time a user can remain waiting for a reconnect\n         * after a network disruption\n         * @param timeoutSeconds Timeout in seconds, or 0 to keep reconnecting indefinetely\n         */ this.setDisconnectionTimeout = (timeoutSeconds)=>{\n            this.disconnectionTimeoutSeconds = timeoutSeconds;\n        };\n        /**\n         * Enables the provided client capabilities.\n         */ this.enableClientCapabilities = (...capabilities)=>{\n            for (const capability of capabilities){\n                this.clientCapabilities.add(capability);\n            }\n        };\n        /**\n         * Disables the provided client capabilities.\n         */ this.disableClientCapabilities = (...capabilities)=>{\n            for (const capability of capabilities){\n                this.clientCapabilities.delete(capability);\n            }\n        };\n        this.type = type;\n        this.id = id;\n        this.cid = `${type}:${id}`;\n        this.ringingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_tap_rxjs__WEBPACK_IMPORTED_MODULE_13__.BehaviorSubject(ringing);\n        this.watching = watching;\n        this.streamClient = streamClient;\n        this.clientStore = clientStore;\n        this.streamClientBasePath = `/call/${this.type}/${this.id}`;\n        this.logger = getLogger([\n            'Call'\n        ]);\n        const callTypeConfig = CallTypes.get(type);\n        const participantSorter = sortParticipantsBy || callTypeConfig.options.sortParticipantsBy;\n        if (participantSorter) {\n            this.state.setSortParticipantsBy(participantSorter);\n        }\n        this.state.setMembers(members || []);\n        this.state.setOwnCapabilities(ownCapabilities || []);\n        this.state.setCallingState(ringing ? CallingState.RINGING : CallingState.IDLE);\n        this.camera = new CameraManager(this);\n        this.microphone = new MicrophoneManager(this);\n        this.speaker = new SpeakerManager(this);\n        this.screenShare = new ScreenShareManager(this);\n        this.dynascaleManager = new DynascaleManager(this.state, this.speaker);\n    }\n    /**\n     * A flag indicating whether the call is \"ringing\" type of call.\n     */ get ringing() {\n        return getCurrentValue(this.ringingSubject);\n    }\n    /**\n     * Retrieves the current user ID.\n     */ get currentUserId() {\n        return this.clientStore.connectedUser?.id;\n    }\n    /**\n     * A flag indicating whether the call was created by the current user.\n     */ get isCreatedByMe() {\n        return this.state.createdBy?.id === this.currentUserId;\n    }\n}\nconst APIErrorCodes = {\n    [-1]: 'InternalSystemError',\n    2: 'AccessKeyError',\n    3: 'AuthenticationFailedError',\n    4: 'InputError',\n    5: 'AuthenticationError',\n    6: 'DuplicateUsernameError',\n    9: 'RateLimitError',\n    16: 'DoesNotExistError',\n    17: 'NotAllowedError',\n    18: 'EventNotSupportedError',\n    19: 'ChannelFeatureNotSupportedError',\n    20: 'MessageTooLongError',\n    21: 'MultipleNestingLevelError',\n    22: 'PayloadTooBigError',\n    23: 'RequestTimeoutError',\n    24: 'MaxHeaderSizeExceededError',\n    40: 'AuthErrorTokenExpired',\n    41: 'AuthErrorTokenNotValidYet',\n    42: 'AuthErrorTokenUsedBeforeIssuedAt',\n    43: 'AuthErrorTokenSignatureInvalid',\n    44: 'CustomCommandEndpointMissingError',\n    45: 'CustomCommandEndpointCallError',\n    46: 'ConnectionIDNotFoundError',\n    60: 'CoolDownError',\n    69: 'ErrWrongRegion',\n    70: 'ErrQueryChannelPermissions',\n    71: 'ErrTooManyConnections',\n    73: 'MessageModerationFailedError',\n    99: 'AppSuspendedError'\n};\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ class StableWSConnection {\n    constructor(client){\n        this._log = (msg, extra = {}, level = 'info')=>{\n            this.client.logger(level, `connection:${msg}`, extra);\n        };\n        this.setClient = (client)=>{\n            this.client = client;\n        };\n        /**\n         * Builds and returns the url for websocket.\n         * @private\n         * @returns url string\n         */ this._buildUrl = ()=>{\n            const params = new URLSearchParams();\n            params.set('api_key', this.client.key);\n            params.set('stream-auth-type', this.client.getAuthType());\n            params.set('X-Stream-Client', this.client.getUserAgent());\n            return `${this.client.wsBaseURL}/connect?${params.toString()}`;\n        };\n        /**\n         * onlineStatusChanged - this function is called when the browser connects or disconnects from the internet.\n         *\n         * @param {Event} event Event with type online or offline\n         *\n         */ this.onlineStatusChanged = (event)=>{\n            if (event.type === 'offline') {\n                // mark the connection as down\n                this._log('onlineStatusChanged() - Status changing to offline');\n                // we know that the app is offline so dispatch the unhealthy connection event immediately\n                this._setHealth(false, true);\n            } else if (event.type === 'online') {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`);\n                if (!this.isHealthy) {\n                    this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        };\n        this.onopen = (wsID)=>{\n            if (this.wsID !== wsID) return;\n            const user = this.client.user;\n            if (!user) {\n                this.client.logger('error', `User not set, can't connect to WS`);\n                return;\n            }\n            const token = this.client._getToken();\n            if (!token) {\n                this.client.logger('error', `Token not set, can't connect authenticate`);\n                return;\n            }\n            const authMessage = JSON.stringify({\n                token,\n                user_details: {\n                    id: user.id,\n                    name: user.name,\n                    image: user.image,\n                    custom: user.custom\n                }\n            });\n            this._log(`onopen() - Sending auth message ${authMessage}`, {}, 'trace');\n            this.ws?.send(authMessage);\n            this._log('onopen() - onopen callback', {\n                wsID\n            });\n        };\n        this.onmessage = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            const data = typeof event.data === 'string' ? JSON.parse(event.data) : null;\n            // we wait till the first message before we consider the connection open.\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose.\n            if (!this.isConnectionOpenResolved && data && data.type === 'connection.error') {\n                this.isConnectionOpenResolved = true;\n                if (data.error) {\n                    this.rejectConnectionOpen?.(this._errorFromWSEvent(data, false));\n                    return;\n                }\n            }\n            // trigger the event..\n            this.lastEvent = new Date();\n            if (data && (data.type === 'health.check' || data.type === 'connection.ok')) {\n                // the initial health-check should come from the client\n                this.scheduleNextPing();\n            }\n            if (data && data.type === 'connection.ok') {\n                this.resolveConnectionOpen?.(data);\n                this._setHealth(true);\n            }\n            if (data && data.type === 'connection.error' && data.error) {\n                const { code } = data.error;\n                this.isHealthy = false;\n                this.isConnecting = false;\n                this.consecutiveFailures += 1;\n                if (code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                    clearTimeout(this.connectionCheckTimeoutRef);\n                    this._log('connect() - WS failure due to expired token, so going to try to reload token and reconnect');\n                    this._reconnect({\n                        refreshToken: true\n                    });\n                }\n            }\n            if (data) {\n                data.received_at = new Date();\n                this.client.dispatchEvent(data);\n            }\n            this.scheduleConnectionCheck();\n        };\n        this.onclose = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log('onclose() - onclose callback - ' + event.code, {\n                event,\n                wsID\n            });\n            if (event.code === KnownCodes.WS_CLOSED_SUCCESS) {\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                const error = new Error(`WS connection reject with error ${event.reason}`);\n                // @ts-expect-error type issue\n                error.reason = event.reason;\n                // @ts-expect-error type issue\n                error.code = event.code;\n                // @ts-expect-error type issue\n                error.wasClean = event.wasClean;\n                // @ts-expect-error type issue\n                error.target = event.target;\n                this.rejectConnectionOpen?.(error);\n                this._log(`onclose() - WS connection reject with error ${event.reason}`, {\n                    event\n                });\n            } else {\n                this.consecutiveFailures += 1;\n                this.totalFailures += 1;\n                this._setHealth(false);\n                this.isConnecting = false;\n                this.rejectConnectionOpen?.(this._errorFromWSEvent(event));\n                this._log(`onclose() - WS connection closed. Calling reconnect ...`, {\n                    event\n                });\n                // reconnect if its an abnormal failure\n                this._reconnect();\n            }\n        };\n        this.onerror = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this.consecutiveFailures += 1;\n            this.totalFailures += 1;\n            this._setHealth(false);\n            this.isConnecting = false;\n            this._log(`onerror() - WS connection resulted into error`, {\n                event\n            });\n            this._reconnect();\n        };\n        /**\n         * _setHealth - Sets the connection to healthy or unhealthy.\n         * Broadcasts an event in case the connection status changed.\n         *\n         * @param {boolean} healthy boolean indicating if the connection is healthy or not\n         * @param {boolean} dispatchImmediately boolean indicating to dispatch event immediately even if the connection is unhealthy\n         */ this._setHealth = (healthy, dispatchImmediately = false)=>{\n            if (healthy === this.isHealthy) return;\n            this.isHealthy = healthy;\n            if (this.isHealthy || dispatchImmediately) {\n                this.client.dispatchEvent({\n                    type: 'connection.changed',\n                    online: this.isHealthy\n                });\n                return;\n            }\n            // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(()=>{\n                if (this.isHealthy) return;\n                this.client.dispatchEvent({\n                    type: 'connection.changed',\n                    online: this.isHealthy\n                });\n            }, 5000);\n        };\n        /**\n         * _errorFromWSEvent - Creates an error object for the WS event\n         */ this._errorFromWSEvent = (event, isWSFailure = true)=>{\n            let code;\n            let statusCode;\n            let message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                message = event.reason;\n                statusCode = 0;\n            } else {\n                const { error } = event;\n                code = error.code;\n                message = error.message;\n                statusCode = error.StatusCode;\n            }\n            const msg = `WS failed with code: ${code}: ${APIErrorCodes[code] || code} and reason: ${message}`;\n            this._log(msg, {\n                event\n            }, 'warn');\n            const error = new Error(msg);\n            error.code = code;\n            /**\n             * StatusCode does not exist on any event types but has been left\n             * as is to preserve JS functionality during the TS implementation\n             */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        };\n        /**\n         * _setupPromise - sets up the this.connectOpen promise\n         */ this._setupConnectionPromise = ()=>{\n            this.isConnectionOpenResolved = false;\n            /** a promise that is resolved once ws.open is called */ this.connectionOpenSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolveConnectionOpen = resolve;\n                this.rejectConnectionOpen = reject;\n            }));\n        };\n        /**\n         * Schedules a next health check ping for websocket.\n         */ this.scheduleNextPing = ()=>{\n            const timers = getTimers();\n            if (this.healthCheckTimeoutRef) {\n                timers.clearTimeout(this.healthCheckTimeoutRef);\n            }\n            // 30 seconds is the recommended interval (messenger uses this)\n            this.healthCheckTimeoutRef = timers.setTimeout(()=>{\n                // send the healthcheck..., server replies with a health check event\n                const data = [\n                    {\n                        type: 'health.check',\n                        client_id: this.client.clientID\n                    }\n                ];\n                // try to send on the connection\n                try {\n                    this.ws?.send(JSON.stringify(data));\n                } catch  {\n                // error will already be detected elsewhere\n                }\n            }, this.pingInterval);\n        };\n        /**\n         * scheduleConnectionCheck - schedules a check for time difference between last received event and now.\n         * If the difference is more than 35 seconds, it means our health check logic has failed and websocket needs\n         * to be reconnected.\n         */ this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeoutRef);\n            this.connectionCheckTimeoutRef = setTimeout(()=>{\n                const now = new Date();\n                if (this.lastEvent && now.getTime() - this.lastEvent.getTime() > this.connectionCheckTimeout) {\n                    this._log('scheduleConnectionCheck - going to reconnect');\n                    this._setHealth(false);\n                    this._reconnect();\n                }\n            }, this.connectionCheckTimeout);\n        };\n        this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isConnectionOpenResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    /**\n     * connect - Connect to the WS URL\n     * the default 15s timeout allows between 2~3 tries\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async connect(timeout = 15000) {\n        if (this.isConnecting) {\n            throw Error(`You've called connect twice, can only attempt 1 connection at the time`);\n        }\n        this.isDisconnected = false;\n        try {\n            const healthCheck = await this._connect();\n            this.consecutiveFailures = 0;\n            this._log(`connect() - Established ws connection with healthcheck: ${healthCheck}`);\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (// @ts-expect-error type issue\n            error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log('connect() - WS failure due to expired token, so going to try to reload token and reconnect');\n                this._reconnect({\n                    refreshToken: true\n                });\n            } else {\n                // @ts-expect-error type issue\n                if (!error.isWSFailure) {\n                    // API rejected the connection and we should not retry\n                    throw new Error(JSON.stringify({\n                        // @ts-expect-error type issue\n                        code: error.code,\n                        // @ts-expect-error type issue\n                        StatusCode: error.StatusCode,\n                        // @ts-expect-error type issue\n                        message: error.message,\n                        // @ts-expect-error type issue\n                        isWSFailure: error.isWSFailure\n                    }));\n                }\n            }\n        }\n        return await this._waitForHealthy(timeout);\n    }\n    /**\n     * _waitForHealthy polls the promise connection to see if its resolved until it times out\n     * the default 15s timeout allows between 2~3 tries\n     * @param timeout duration(ms)\n     */ async _waitForHealthy(timeout = 15000) {\n        return Promise.race([\n            (async ()=>{\n                const interval = 50; // ms\n                for(let i = 0; i <= timeout; i += interval){\n                    try {\n                        return await this.connectionOpen;\n                    } catch (error) {\n                        if (i === timeout) {\n                            throw new Error(JSON.stringify({\n                                code: error.code,\n                                StatusCode: error.StatusCode,\n                                message: error.message,\n                                isWSFailure: error.isWSFailure\n                            }));\n                        }\n                        await sleep(interval);\n                    }\n                }\n            })(),\n            (async ()=>{\n                await sleep(timeout);\n                this.isConnecting = false;\n                throw new Error(JSON.stringify({\n                    code: '',\n                    StatusCode: '',\n                    message: 'initial WS connection could not be established',\n                    isWSFailure: true\n                }));\n            })()\n        ]);\n    }\n    /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ disconnect(timeout) {\n        this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`);\n        this.wsID += 1;\n        this.isConnecting = false;\n        this.isDisconnected = true;\n        // start by removing all the listeners\n        if (this.healthCheckTimeoutRef) {\n            getTimers().clearInterval(this.healthCheckTimeoutRef);\n        }\n        if (this.connectionCheckTimeoutRef) {\n            clearInterval(this.connectionCheckTimeoutRef);\n        }\n        removeConnectionEventListeners(this.onlineStatusChanged);\n        this.isHealthy = false;\n        let isClosedPromise;\n        // and finally close...\n        // Assigning to local here because we will remove it from this before the\n        // promise resolves.\n        const { ws } = this;\n        if (ws && ws.close && ws.readyState === ws.OPEN) {\n            isClosedPromise = new Promise((resolve)=>{\n                const onclose = (event)=>{\n                    this._log(`disconnect() - resolving isClosedPromise ${event ? 'with' : 'without'} close frame`, {\n                        event\n                    });\n                    resolve();\n                };\n                ws.onclose = onclose;\n                // In case we don't receive close frame websocket server in time,\n                // lets not wait for more than 1 second.\n                setTimeout(onclose, timeout != null ? timeout : 1000);\n            });\n            this._log(`disconnect() - Manually closed connection by calling client.disconnect()`);\n            ws.close(KnownCodes.WS_CLOSED_SUCCESS, 'Manually closed connection by calling client.disconnect()');\n        } else {\n            this._log(`disconnect() - ws connection doesn't exist or it is already closed.`);\n            isClosedPromise = Promise.resolve();\n        }\n        delete this.ws;\n        return isClosedPromise;\n    }\n    /**\n     * _connect - Connect to the WS endpoint\n     *\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async _connect() {\n        if (this.isConnecting) return; // ignore _connect if it's currently trying to connect\n        this.isConnecting = true;\n        let isTokenReady = false;\n        try {\n            this._log(`_connect() - waiting for token`);\n            await this.client.tokenManager.tokenReady();\n            isTokenReady = true;\n        } catch  {\n        // token provider has failed before, so try again\n        }\n        try {\n            if (!isTokenReady) {\n                this._log(`_connect() - tokenProvider failed before, so going to retry`);\n                await this.client.tokenManager.loadToken();\n            }\n            if (!this.client.isConnectionIsPromisePending) {\n                this.client._setupConnectionIdPromise();\n            }\n            this._setupConnectionPromise();\n            const wsURL = this._buildUrl();\n            this._log(`_connect() - Connecting to ${wsURL}`);\n            const WS = this.client.options.WebSocketImpl ?? WebSocket;\n            this.ws = new WS(wsURL);\n            this.ws.onopen = this.onopen.bind(this, this.wsID);\n            this.ws.onclose = this.onclose.bind(this, this.wsID);\n            this.ws.onerror = this.onerror.bind(this, this.wsID);\n            this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n            const response = await this.connectionOpen;\n            this.isConnecting = false;\n            if (response) {\n                this.connectionID = response.connection_id;\n                this.client.resolveConnectionId?.(this.connectionID);\n                return response;\n            }\n        } catch (err) {\n            this.client._setupConnectionIdPromise();\n            this.isConnecting = false;\n            // @ts-expect-error type issue\n            this._log(`_connect() - Error - `, err);\n            this.client.rejectConnectionId?.(err);\n            throw err;\n        }\n    }\n    /**\n     * _reconnect - Retry the connection to WS endpoint\n     *\n     * @param {{ interval?: number; refreshToken?: boolean }} options Following options are available\n     *\n     * - `interval`\t{int}\t\t\tnumber of ms that function should wait before reconnecting\n     * - `refreshToken` {boolean}\treload/refresh user token be refreshed before attempting reconnection.\n     */ async _reconnect(options = {}) {\n        this._log('_reconnect() - Initiating the reconnect');\n        // only allow 1 connection at the time\n        if (this.isConnecting || this.isHealthy) {\n            this._log('_reconnect() - Abort (1) since already connecting or healthy');\n            return;\n        }\n        // reconnect in case of on error or on close\n        // also reconnect if the health check cycle fails\n        let interval = options.interval;\n        if (!interval) {\n            interval = retryInterval(this.consecutiveFailures);\n        }\n        // reconnect, or try again after a little while...\n        await sleep(interval);\n        // Check once again if by some other call to _reconnect is active or connection is\n        // already restored, then no need to proceed.\n        if (this.isConnecting || this.isHealthy) {\n            this._log('_reconnect() - Abort (2) since already connecting or healthy');\n            return;\n        }\n        if (this.isDisconnected) {\n            this._log('_reconnect() - Abort (3) since disconnect() is called');\n            return;\n        }\n        this._log('_reconnect() - Destroying current WS connection');\n        // cleanup the old connection\n        this._destroyCurrentWSConnection();\n        if (options.refreshToken) {\n            await this.client.tokenManager.loadToken();\n        }\n        try {\n            await this._connect();\n            this._log('_reconnect() - Waiting for recoverCallBack');\n            // await this.client.recoverState();\n            this._log('_reconnect() - Finished recoverCallBack');\n            this.consecutiveFailures = 0;\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log('_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect');\n                return this._reconnect({\n                    refreshToken: true\n                });\n            }\n            // reconnect on WS failures, don't reconnect if there is a code bug\n            if (error.isWSFailure) {\n                this._log('_reconnect() - WS failure, so going to try to reconnect');\n                this._reconnect();\n            }\n        }\n        this._log('_reconnect() - == END ==');\n    }\n    /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ _destroyCurrentWSConnection() {\n        // increment the ID, meaning we will ignore all messages from the old\n        // ws connection from now on.\n        this.wsID += 1;\n        try {\n            this?.ws?.close();\n        } catch  {\n        // we don't care\n        }\n    }\n    get connectionOpen() {\n        return this.connectionOpenSafe?.();\n    }\n}\nfunction getUserFromToken(token) {\n    const fragments = token.split('.');\n    if (fragments.length !== 3) {\n        return '';\n    }\n    const b64Payload = fragments[1];\n    const payload = decodeBase64(b64Payload);\n    const data = JSON.parse(payload);\n    return data.user_id;\n}\n// base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nconst decodeBase64 = (s)=>{\n    const e = {}, w = String.fromCharCode, L = s.length;\n    let i, b = 0, c, x, l = 0, a, r = '';\n    const A = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            if ((a = b >>> (l -= 8) & 0xff) || x < L - 2) r += w(a);\n        }\n    }\n    return r;\n};\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ class TokenManager {\n    constructor(secret){\n        this.loadTokenPromise = null;\n        this.type = 'static';\n        /**\n         * Set the static string token or token provider.\n         * Token provider should return a token string or a promise which resolves to string token.\n         *\n         * @param {TokenOrProvider} tokenOrProvider - the token or token provider.\n         * @param {UserResponse} user - the user object.\n         * @param {boolean} isAnonymous - whether the user is anonymous or not.\n         */ this.setTokenOrProvider = async (tokenOrProvider, user, isAnonymous)=>{\n            this.user = user;\n            this.isAnonymous = isAnonymous;\n            this.validateToken(tokenOrProvider);\n            if (isFunction(tokenOrProvider)) {\n                this.tokenProvider = tokenOrProvider;\n                this.type = 'provider';\n            }\n            if (typeof tokenOrProvider === 'string') {\n                this.token = tokenOrProvider;\n                this.type = 'static';\n            }\n            await this.loadToken();\n        };\n        /**\n         * Resets the token manager.\n         * Useful for client disconnection or switching user.\n         */ this.reset = ()=>{\n            this.token = undefined;\n            this.tokenProvider = undefined;\n            this.type = 'static';\n            this.user = undefined;\n            this.loadTokenPromise = null;\n        };\n        // Validates the user token.\n        this.validateToken = (tokenOrProvider)=>{\n            // allow empty token for anon user\n            if (this.user && this.isAnonymous && !tokenOrProvider) return;\n            // Don't allow empty token for non-server side client.\n            if (!this.secret && !tokenOrProvider) {\n                throw new Error('User token can not be empty');\n            }\n            if (typeof tokenOrProvider !== 'string' && !isFunction(tokenOrProvider)) {\n                throw new Error('User token should either be a string or a function');\n            }\n            if (typeof tokenOrProvider === 'string') {\n                // Allow empty token for anonymous users\n                if (this.isAnonymous && tokenOrProvider === '') return;\n                const tokenUserId = getUserFromToken(tokenOrProvider);\n                if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === '' || !this.isAnonymous && tokenUserId !== this.user.id)) {\n                    throw new Error('userToken does not have a user_id or is not matching with user.id');\n                }\n            }\n        };\n        // Resolves when token is ready. This function is simply to check if loadToken is in progress, in which\n        // case a function should wait.\n        this.tokenReady = ()=>this.loadTokenPromise;\n        // Fetches a token from tokenProvider function and sets in tokenManager.\n        // In case of static token, it will simply resolve to static token.\n        this.loadToken = ()=>{\n            this.loadTokenPromise = new Promise(async (resolve, reject)=>{\n                if (this.type === 'static') {\n                    return resolve(this.token);\n                }\n                if (this.tokenProvider && typeof this.tokenProvider !== 'string') {\n                    try {\n                        const token = await this.tokenProvider();\n                        this.validateToken(token);\n                        this.token = token;\n                    } catch (e) {\n                        return reject(new Error(`Call to tokenProvider failed with message: ${e}`, {\n                            cause: e\n                        }));\n                    }\n                    resolve(this.token);\n                }\n            });\n            return this.loadTokenPromise;\n        };\n        // Returns a current token\n        this.getToken = ()=>{\n            if (this.token) {\n                return this.token;\n            }\n            if (this.user && !this.token) {\n                return this.token;\n            }\n            throw new Error(`User token is not set. Either client.connectUser wasn't called or client.disconnect was called`);\n        };\n        this.isStatic = ()=>this.type === 'static';\n        this.secret = secret;\n    }\n}\nconst getLocationHint = async (hintUrl = `https://hint.stream-io-video.com/`, timeout = 2000, maxAttempts = 3)=>{\n    const logger = getLogger([\n        'location-hint'\n    ]);\n    let attempt = 0;\n    let locationHint = 'ERR';\n    do {\n        const abortController = new AbortController();\n        const timeoutId = setTimeout(()=>abortController.abort(), timeout);\n        try {\n            const response = await fetch(hintUrl, {\n                method: 'HEAD',\n                signal: abortController.signal\n            });\n            const awsPop = response.headers.get('x-amz-cf-pop') || 'ERR';\n            logger('debug', `Location header: ${awsPop}`);\n            locationHint = awsPop.substring(0, 3); // AMS1-P2 -> AMS\n        } catch (e) {\n            logger('warn', `Failed to get location hint from ${hintUrl}`, e);\n            locationHint = 'ERR';\n        } finally{\n            clearTimeout(timeoutId);\n        }\n    }while (locationHint === 'ERR' && ++attempt < maxAttempts);\n    return locationHint;\n};\nclass StreamClient {\n    /**\n     * Initialize a client.\n     *\n     * @param {string} key - the api key\n     * @param {StreamClientOptions} [options] - additional options, here you can pass custom options to axios instance\n     * @param {string} [options.secret] - the api secret\n     * @param {boolean} [options.browser] - enforce the client to be in browser mode\n     * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n     * @param {Logger} [options.Logger] - custom logger\n     * @param {number} [options.timeout] - default to 3000\n     * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n     */ constructor(key, options){\n        this.listeners = {};\n        this.getAuthType = ()=>{\n            return this.anonymous ? 'anonymous' : 'jwt';\n        };\n        this.setBaseURL = (baseURL)=>{\n            this.baseURL = baseURL;\n            this.wsBaseURL = this.baseURL.replace('http', 'ws').replace(':3030', ':8800');\n        };\n        this.getLocationHint = async (hintUrl, timeout)=>{\n            const hint = await this.locationHint;\n            if (!hint || hint === 'ERR') {\n                this.locationHint = getLocationHint(hintUrl ?? this.options.locationHintUrl, timeout ?? this.options.locationHintTimeout);\n                return this.locationHint;\n            }\n            return hint;\n        };\n        this._getConnectionID = ()=>this.wsConnection?.connectionID;\n        this._hasConnectionID = ()=>Boolean(this._getConnectionID());\n        /**\n         * connectUser - Set the current user and open a WebSocket connection\n         *\n         * @param user Data about this user. IE {name: \"john\"}\n         * @param {TokenOrProvider} tokenOrProvider Token or provider\n         *\n         * @return {ConnectAPIResponse} Returns a promise that resolves when the connection is setup\n         */ this.connectUser = async (user, tokenOrProvider)=>{\n            if (!user.id) {\n                throw new Error('The \"id\" field on the user is missing');\n            }\n            /**\n             * Calling connectUser multiple times is potentially the result of a  bad integration, however,\n             * If the user id remains the same we don't throw error\n             */ if (this.userID === user.id && this.connectUserTask) {\n                this.logger('warn', 'Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.');\n                return this.connectUserTask;\n            }\n            if (this.userID) {\n                throw new Error('Use client.disconnect() before trying to connect as a different user. connectUser was called twice.');\n            }\n            if ((this.secret || this.node) && !this.options.allowServerSideConnect) {\n                this.logger('warn', 'Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/');\n            }\n            // we generate the client id client side\n            this.userID = user.id;\n            this.anonymous = false;\n            await this.tokenManager.setTokenOrProvider(tokenOrProvider, user, false);\n            this._setUser(user);\n            this.connectUserTask = this.openConnection();\n            try {\n                addConnectionEventListeners(this.updateNetworkConnectionStatus);\n                return await this.connectUserTask;\n            } catch (err) {\n                if (this.persistUserOnConnectionFailure) {\n                    // cleanup client to allow the user to retry connectUser again\n                    await this.closeConnection();\n                } else {\n                    await this.disconnectUser();\n                }\n                throw err;\n            }\n        };\n        this._setUser = (user)=>{\n            /**\n             * This one is used by the frontend. This is a copy of the current user object stored on backend.\n             * It contains reserved properties and own user properties which are not present in `this._user`.\n             */ this.user = user;\n            this.userID = user.id;\n            // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n            this._user = {\n                ...user\n            };\n        };\n        /**\n         * Disconnects the websocket connection, without removing the user set on client.\n         * client.closeConnection will not trigger default auto-retry mechanism for reconnection. You need\n         * to call client.openConnection to reconnect to websocket.\n         *\n         * This is mainly useful on mobile side. You can only receive push notifications\n         * if you don't have active websocket connection.\n         * So when your app goes to background, you can call `client.closeConnection`.\n         * And when app comes back to foreground, call `client.openConnection`.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming succesful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.closeConnection = async (timeout)=>{\n            await this.wsConnection?.disconnect(timeout);\n        };\n        /**\n         * Creates a new WebSocket connection with the current user. Returns empty promise, if there is an active connection\n         */ this.openConnection = async ()=>{\n            if (!this.userID) {\n                throw Error('UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead');\n            }\n            const wsPromise = this.wsPromiseSafe?.();\n            if (this.wsConnection?.isConnecting && wsPromise) {\n                this.logger('info', 'client:openConnection() - connection already in progress');\n                return await wsPromise;\n            }\n            if (this.wsConnection?.isHealthy && this._hasConnectionID()) {\n                this.logger('info', 'client:openConnection() - openConnection called twice, healthy connection already exists');\n                return;\n            }\n            this._setupConnectionIdPromise();\n            this.clientID = `${this.userID}--${generateUUIDv4()}`;\n            const newWsPromise = this.connect();\n            this.wsPromiseSafe = makeSafePromise(newWsPromise);\n            return await newWsPromise;\n        };\n        /**\n         * Disconnects the websocket and removes the user from client.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            this.logger('info', 'client:disconnect() - Disconnecting the client');\n            // remove the user specific fields\n            delete this.user;\n            delete this._user;\n            delete this.userID;\n            this.anonymous = false;\n            await this.closeConnection(timeout);\n            removeConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this.tokenManager.reset();\n            this.connectionIdPromiseSafe = undefined;\n            this.rejectConnectionId = undefined;\n            this.resolveConnectionId = undefined;\n        };\n        this.connectGuestUser = async (user)=>{\n            this.guestUserCreatePromise = this.doAxiosRequest('post', '/guest', {\n                user\n            }, {\n                publicEndpoint: true\n            });\n            const response = await this.guestUserCreatePromise;\n            this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise = undefined);\n            return this.connectUser(response.user, response.access_token);\n        };\n        /**\n         * connectAnonymousUser - Set an anonymous user and open a WebSocket connection\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            addConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this._setupConnectionIdPromise();\n            this.anonymous = true;\n            await this.tokenManager.setTokenOrProvider(tokenOrProvider, user, true);\n            this._setUser(user);\n            // some endpoints require a connection_id to be resolved.\n            // as anonymous users aren't allowed to open WS connections, we just\n            // resolve the connection_id here.\n            this.resolveConnectionId?.();\n        };\n        /**\n         * on - Listen to events on all channels and users your watching\n         *\n         * client.on('message.new', event => {console.log(\"my new message\", event, channel.state.messages)})\n         *\n         * @param eventName The event type to listen for (optional)\n         * @param callback The callback to call\n         *\n         * @return  Returns a function which, when called, unsubscribes the event handler.\n         */ this.on = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger('debug', `Adding listener for ${eventName} event`);\n            this.listeners[eventName]?.push(callback);\n            return ()=>{\n                this.off(eventName, callback);\n            };\n        };\n        /**\n         * off - Remove the event handler\n         */ this.off = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger('debug', `Removing listener for ${eventName} event`);\n            this.listeners[eventName] = this.listeners[eventName]?.filter((value)=>value !== callback);\n        };\n        /**\n         * sets up the this.connectionIdPromise\n         */ this._setupConnectionIdPromise = ()=>{\n            /** a promise that is resolved once connection id is set */ this.connectionIdPromiseSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            }));\n        };\n        this._logApiRequest = (type, url, data, config)=>{\n            if (getLogLevel() !== 'trace') return;\n            this.logger('trace', `client: ${type} - Request - ${url}`, {\n                payload: data,\n                config\n            });\n        };\n        this._logApiResponse = (type, url, response)=>{\n            if (getLogLevel() !== 'trace') return;\n            this.logger('trace', `client:${type} - Response - url: ${url} > status ${response.status}`, {\n                response\n            });\n        };\n        this.doAxiosRequest = async (type, url, data, options = {})=>{\n            if (!options.publicEndpoint) {\n                await Promise.all([\n                    this.tokenManager.tokenReady(),\n                    this.guestUserCreatePromise\n                ]);\n                // we need to wait for presence of connection id before making requests\n                try {\n                    await this.connectionIdPromise;\n                } catch  {\n                    // in case connection id was rejected\n                    // reconnection maybe in progress\n                    // we can wait for healthy connection to resolve, which rejects when 15s timeout is reached\n                    await this.wsConnection?._waitForHealthy();\n                    await this.connectionIdPromise;\n                }\n            }\n            const requestConfig = this._enrichAxiosOptions(options);\n            try {\n                let response;\n                this._logApiRequest(type, url, data, requestConfig);\n                switch(type){\n                    case 'get':\n                        response = await this.axiosInstance.get(url, requestConfig);\n                        break;\n                    case 'delete':\n                        response = await this.axiosInstance.delete(url, requestConfig);\n                        break;\n                    case 'post':\n                        response = await this.axiosInstance.post(url, data, requestConfig);\n                        break;\n                    case 'put':\n                        response = await this.axiosInstance.put(url, data, requestConfig);\n                        break;\n                    case 'patch':\n                        response = await this.axiosInstance.patch(url, data, requestConfig);\n                        break;\n                    case 'options':\n                        response = await this.axiosInstance.options(url, requestConfig);\n                        break;\n                    default:\n                        throw new Error('Invalid request type');\n                }\n                this._logApiResponse(type, url, response);\n                this.consecutiveFailures = 0;\n                return response.data;\n            } catch (e /**TODO: generalize error types  */ ) {\n                e.client_request_id = requestConfig.headers?.['x-client-request-id'];\n                this.consecutiveFailures += 1;\n                const { response } = e;\n                if (!response || !isErrorResponse(response)) {\n                    this.logger('error', `client:${type} url: ${url}`, e);\n                    throw e;\n                }\n                const { data: responseData, status } = response;\n                const isTokenExpired = responseData.code === KnownCodes.TOKEN_EXPIRED;\n                if (isTokenExpired && !this.tokenManager.isStatic()) {\n                    this.logger('warn', `client:${type}: url: ${url}`, response);\n                    if (this.consecutiveFailures > 1) {\n                        await sleep(retryInterval(this.consecutiveFailures));\n                    }\n                    // refresh and retry the request\n                    await this.tokenManager.loadToken();\n                    return await this.doAxiosRequest(type, url, data, options);\n                } else {\n                    this.logger('error', `client:${type} url: ${url}`, response);\n                    throw new ErrorFromResponse({\n                        message: `Stream error code ${responseData.code}: ${responseData.message}`,\n                        code: responseData.code ?? null,\n                        unrecoverable: responseData.unrecoverable ?? null,\n                        response: response,\n                        status: status\n                    });\n                }\n            }\n        };\n        this.get = (url, params)=>{\n            return this.doAxiosRequest('get', url, null, {\n                params\n            });\n        };\n        this.put = (url, data, params)=>{\n            return this.doAxiosRequest('put', url, data, {\n                params\n            });\n        };\n        this.post = (url, data, params)=>{\n            return this.doAxiosRequest('post', url, data, {\n                params\n            });\n        };\n        this.patch = (url, data, params)=>{\n            return this.doAxiosRequest('patch', url, data, {\n                params\n            });\n        };\n        this.delete = (url, params)=>{\n            return this.doAxiosRequest('delete', url, null, {\n                params\n            });\n        };\n        this.dispatchEvent = (event)=>{\n            this.logger('debug', `Dispatching event: ${event.type}`, event);\n            if (!this.listeners) return;\n            // call generic listeners\n            for (const listener of this.listeners.all || []){\n                listener(event);\n            }\n            // call type specific listeners\n            for (const listener of this.listeners[event.type] || []){\n                listener(event);\n            }\n        };\n        /**\n         * @private\n         */ this.connect = async ()=>{\n            if (!this.userID || !this._user) {\n                throw Error('Call connectUser or connectAnonymousUser before starting the connection');\n            }\n            if (!this.wsBaseURL) throw Error('Websocket base url not set');\n            if (!this.clientID) throw Error('clientID is not set');\n            // The StableWSConnection handles all the reconnection logic.\n            this.wsConnection = new StableWSConnection(this);\n            this.logger('info', 'StreamClient.connect: this.wsConnection.connect()');\n            return await this.wsConnection.connect(this.defaultWSTimeout);\n        };\n        this.getUserAgent = ()=>{\n            if (!this.cachedUserAgent) {\n                const { clientAppIdentifier = {} } = this.options;\n                const { sdkName = 'js', sdkVersion = \"1.28.1\", ...extras } = clientAppIdentifier;\n                this.cachedUserAgent = [\n                    `stream-video-${sdkName}-v${sdkVersion}`,\n                    ...Object.entries(extras).map(([key, value])=>`${key}=${value}`),\n                    `client_bundle=${\"node-esm\"}`\n                ].join('|');\n            }\n            return this.cachedUserAgent;\n        };\n        this._enrichAxiosOptions = (options = {\n            params: {},\n            headers: {},\n            config: {}\n        })=>{\n            const token = options.publicEndpoint && !this.user ? undefined : this._getToken();\n            const authorization = token ? {\n                Authorization: token\n            } : undefined;\n            if (!options.headers?.['x-client-request-id']) {\n                options.headers = {\n                    ...options.headers,\n                    'x-client-request-id': generateUUIDv4()\n                };\n            }\n            return {\n                params: {\n                    user_id: this.userID,\n                    connection_id: this._getConnectionID(),\n                    api_key: this.key,\n                    ...options.params\n                },\n                headers: {\n                    ...authorization,\n                    'stream-auth-type': options.publicEndpoint && !this.user ? 'anonymous' : this.getAuthType(),\n                    'X-Stream-Client': this.getUserAgent(),\n                    ...options.headers\n                },\n                ...options.config,\n                ...this.options.axiosRequestConfig\n            };\n        };\n        this._getToken = ()=>{\n            if (!this.tokenManager) return null;\n            return this.tokenManager.getToken();\n        };\n        this.updateNetworkConnectionStatus = (event)=>{\n            if (event.type === 'offline') {\n                this.logger('debug', 'device went offline');\n                this.dispatchEvent({\n                    type: 'network.changed',\n                    online: false\n                });\n            } else if (event.type === 'online') {\n                this.logger('debug', 'device went online');\n                this.dispatchEvent({\n                    type: 'network.changed',\n                    online: true\n                });\n            }\n        };\n        // set the key\n        this.key = key;\n        // set the secret\n        this.secret = options?.secret;\n        // set the options... and figure out defaults...\n        const inputOptions = options ? options : {\n            browser: \"undefined\" !== 'undefined'\n        };\n        this.browser = inputOptions.browser || \"undefined\" !== 'undefined';\n        this.node = !this.browser;\n        if (this.browser) {\n            this.locationHint = getLocationHint(options?.locationHintUrl, options?.locationHintTimeout, options?.locationHintMaxAttempts);\n        }\n        this.options = {\n            timeout: 5000,\n            withCredentials: false,\n            ...inputOptions\n        };\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_4___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.setBaseURL(this.options.baseURL || 'https://video.stream-io-api.com/video');\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_14__[\"default\"].create({\n            ...this.options,\n            baseURL: this.baseURL\n        });\n        // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromiseSafe = null;\n        this.connectUserTask = null;\n        // mapping between channel groups and configs\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = this.options?.persistUserOnConnectionFailure;\n        // If it is a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.defaultWSTimeout = this.options.defaultWsTimeout ?? 15000;\n        this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : ()=>null;\n    }\n    get connectionIdPromise() {\n        return this.connectionIdPromiseSafe?.();\n    }\n    get isConnectionIsPromisePending() {\n        return this.connectionIdPromiseSafe?.checkPending() ?? false;\n    }\n    get wsPromise() {\n        return this.wsPromiseSafe?.();\n    }\n}\n/**\n * Utility function to get the instance key.\n */ const getInstanceKey = (apiKey, user)=>{\n    return `${apiKey}/${user.id}`;\n};\n/**\n * Returns a concurrency tag for call initialization.\n * @internal\n *\n * @param cid the call cid.\n */ const getCallInitConcurrencyTag = (cid)=>`call.init-${cid}`;\n/**\n * Utility function to get the client app identifier.\n */ const getClientAppIdentifier = (options)=>{\n    const appId = options?.clientAppIdentifier || {};\n    const sdkInfo = getSdkInfo();\n    if (sdkInfo) {\n        // ensure the sdk name and version are set correctly,\n        // overriding any user-provided values\n        appId.sdkName = SdkType[sdkInfo.type].toLowerCase();\n        appId.sdkVersion = `${sdkInfo.major}.${sdkInfo.minor}.${sdkInfo.patch}`;\n    }\n    return appId;\n};\n/**\n * Creates a coordinator client.\n */ const createCoordinatorClient = (apiKey, options)=>{\n    const clientAppIdentifier = getClientAppIdentifier(options);\n    const coordinatorLogger = getLogger([\n        'coordinator'\n    ]);\n    return new StreamClient(apiKey, {\n        persistUserOnConnectionFailure: true,\n        ...options,\n        clientAppIdentifier,\n        logger: coordinatorLogger\n    });\n};\n/**\n * Creates a token provider and allows integrators to provide\n * a static token and a token provider at the same time.\n *\n * When both of them are provided, this function will create an internal\n * token provider that will use the static token on the first invocation\n * and the token provider on the later invocations.\n */ const createTokenOrProvider = (options)=>{\n    const { token, tokenProvider } = options;\n    if (token && tokenProvider) {\n        let initialTokenUsed = false;\n        return async function wrappedTokenProvider() {\n            if (!initialTokenUsed) {\n                initialTokenUsed = true;\n                return token;\n            }\n            return tokenProvider();\n        };\n    }\n    return token || tokenProvider;\n};\n/**\n * A `StreamVideoClient` instance lets you communicate with our API, and authenticate users.\n */ class StreamVideoClient {\n    constructor(apiKeyOrArgs, opts){\n        this.effectsRegistered = false;\n        this.eventHandlersToUnregister = [];\n        this.connectionConcurrencyTag = Symbol('connectionConcurrencyTag');\n        this.registerClientInstance = (apiKey, user)=>{\n            const instanceKey = getInstanceKey(apiKey, user);\n            if (StreamVideoClient._instances.has(instanceKey)) {\n                this.logger('warn', `A StreamVideoClient already exists for ${user.id}; Prefer using getOrCreateInstance method`);\n            }\n            StreamVideoClient._instances.set(instanceKey, this);\n        };\n        this.registerEffects = ()=>{\n            if (this.effectsRegistered) return;\n            this.eventHandlersToUnregister.push(this.on('call.created', (event)=>this.initCallFromEvent(event)), this.on('call.ring', (event)=>this.initCallFromEvent(event)), this.on('connection.changed', (event)=>{\n                if (!event.online) return;\n                const callsToReWatch = this.writeableStateStore.calls.filter((call)=>call.watching).map((call)=>call.cid);\n                if (callsToReWatch.length <= 0) return;\n                this.logger('info', `Rewatching calls ${callsToReWatch.join(', ')}`);\n                this.queryCalls({\n                    watch: true,\n                    filter_conditions: {\n                        cid: {\n                            $in: callsToReWatch\n                        }\n                    },\n                    sort: [\n                        {\n                            field: 'cid',\n                            direction: 1\n                        }\n                    ]\n                }).catch((err)=>{\n                    this.logger('error', 'Failed to re-watch calls', err);\n                });\n            }));\n            this.effectsRegistered = true;\n        };\n        /**\n         * Initializes a call from a call created or ringing event.\n         * @param e the event.\n         */ this.initCallFromEvent = async (e)=>{\n            if (this.state.connectedUser?.id === e.call.created_by.id) {\n                this.logger('debug', `Ignoring ${e.type} event sent by the current user`);\n                return;\n            }\n            try {\n                const concurrencyTag = getCallInitConcurrencyTag(e.call_cid);\n                await withoutConcurrency(concurrencyTag, async ()=>{\n                    const ringing = e.type === 'call.ring';\n                    let call = this.writeableStateStore.findCall(e.call.type, e.call.id);\n                    if (call) {\n                        if (ringing) {\n                            await call.updateFromRingingEvent(e);\n                        } else {\n                            call.state.updateFromCallResponse(e.call);\n                        }\n                        return;\n                    }\n                    call = new Call({\n                        streamClient: this.streamClient,\n                        type: e.call.type,\n                        id: e.call.id,\n                        members: e.members,\n                        clientStore: this.writeableStateStore,\n                        ringing\n                    });\n                    call.state.updateFromCallResponse(e.call);\n                    if (ringing) {\n                        await call.get();\n                    } else {\n                        this.writeableStateStore.registerCall(call);\n                        this.logger('info', `New call created and registered: ${call.cid}`);\n                    }\n                });\n            } catch (err) {\n                this.logger('error', `Failed to init call from event ${e.type}`, err);\n            }\n        };\n        /**\n         * Connects the given user to the client.\n         * Only one user can connect at a time, if you want to change users, call `disconnectUser` before connecting a new user.\n         * If the connection is successful, the connected user [state variable](#readonlystatestore) will be updated accordingly.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectUser = async (user, tokenOrProvider)=>{\n            if (user.type === 'anonymous') {\n                user.id = '!anon';\n                return this.connectAnonymousUser(user, tokenOrProvider);\n            }\n            const connectUserResponse = await withoutConcurrency(this.connectionConcurrencyTag, async ()=>{\n                const client = this.streamClient;\n                const { onConnectUserError, persistUserOnConnectionFailure } = client.options;\n                let { maxConnectUserRetries = 5 } = client.options;\n                maxConnectUserRetries = Math.max(maxConnectUserRetries, 1);\n                const errorQueue = [];\n                for(let attempt = 0; attempt < maxConnectUserRetries; attempt++){\n                    try {\n                        this.logger('trace', `Connecting user (${attempt})`, user);\n                        return user.type === 'guest' ? await client.connectGuestUser(user) : await client.connectUser(user, tokenOrProvider);\n                    } catch (err) {\n                        this.logger('warn', `Failed to connect a user (${attempt})`, err);\n                        errorQueue.push(err);\n                        if (attempt === maxConnectUserRetries - 1) {\n                            onConnectUserError?.(err, errorQueue);\n                            throw err;\n                        }\n                        // we need to force to disconnect the user if the client is\n                        // configured to persist the user on connection failure\n                        if (persistUserOnConnectionFailure) {\n                            await client.disconnectUser();\n                        }\n                        await sleep(retryInterval(attempt));\n                    }\n                }\n            });\n            // connectUserResponse will be void if connectUser called twice for the same user\n            if (connectUserResponse?.me) {\n                this.writeableStateStore.setConnectedUser(connectUserResponse.me);\n            }\n            this.registerEffects();\n            return connectUserResponse;\n        };\n        /**\n         * Disconnects the currently connected user from the client.\n         *\n         * If the connection is successfully disconnected, the connected user [state variable](#readonlystatestore) will be updated accordingly\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            await withoutConcurrency(this.connectionConcurrencyTag, async ()=>{\n                const { user, key } = this.streamClient;\n                if (!user) return;\n                await this.streamClient.disconnectUser(timeout);\n                if (user.id) {\n                    StreamVideoClient._instances.delete(getInstanceKey(key, user));\n                }\n                this.eventHandlersToUnregister.forEach((unregister)=>unregister());\n                this.eventHandlersToUnregister = [];\n                this.effectsRegistered = false;\n                this.writeableStateStore.setConnectedUser(undefined);\n            });\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API.\n         * To remove a subscription, call the `off` method or, execute the returned unsubscribe function.\n         * Please note that subscribing to WebSocket events is an advanced use-case, for most use-cases it should be enough to watch for changes in the reactive [state store](#readonlystatestore).\n         *\n         * @param eventName the event name or 'all'.\n         * @param callback the callback which will be called when the event is emitted.\n         * @returns an unsubscribe function.\n         */ this.on = (eventName, callback)=>{\n            return this.streamClient.on(eventName, callback);\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param callback the callback which was passed to the `on` method.\n         */ this.off = (eventName, callback)=>{\n            return this.streamClient.off(eventName, callback);\n        };\n        /**\n         * Creates a new call.\n         *\n         * @param type the type of the call.\n         * @param id the id of the call.\n         * @param options additional options for call creation.\n         */ this.call = (type, id, options = {})=>{\n            const call = options.reuseInstance ? this.writeableStateStore.findCall(type, id) : undefined;\n            return call ?? new Call({\n                streamClient: this.streamClient,\n                id: id,\n                type: type,\n                clientStore: this.writeableStateStore\n            });\n        };\n        /**\n         * Creates a new guest user with the given data.\n         *\n         * @param data the data for the guest user.\n         */ this.createGuestUser = async (data)=>{\n            return this.streamClient.doAxiosRequest('post', '/guest', data, {\n                publicEndpoint: true\n            });\n        };\n        /**\n         * Will query the API for calls matching the given filters.\n         *\n         * @param data the query data.\n         */ this.queryCalls = async (data = {})=>{\n            const response = await this.streamClient.post('/calls', data);\n            const calls = [];\n            for (const c of response.calls){\n                const call = new Call({\n                    streamClient: this.streamClient,\n                    id: c.call.id,\n                    type: c.call.type,\n                    members: c.members,\n                    ownCapabilities: c.own_capabilities,\n                    watching: data.watch,\n                    clientStore: this.writeableStateStore\n                });\n                call.state.updateFromCallResponse(c.call);\n                await call.applyDeviceConfig(c.call.settings, false);\n                if (data.watch) {\n                    await call.setup();\n                    this.writeableStateStore.registerCall(call);\n                }\n                calls.push(call);\n            }\n            return {\n                ...response,\n                calls: calls\n            };\n        };\n        /**\n         * Retrieve the list of available call statistics reports matching a particular condition.\n         *\n         * @param data Filter and sort conditions for retrieving available call report summaries.\n         * @returns List with summary of available call reports matching the condition.\n         */ this.queryCallStats = async (data = {})=>{\n            return this.streamClient.post(`/call/stats`, data);\n        };\n        /**\n         * Retrieve the list of available reports aggregated from the call stats.\n         *\n         * @param data Specify filter conditions like from and to (within last 30 days) and the report types\n         * @returns Requested reports with (mostly) raw daily data for each report type requested\n         */ this.queryAggregateCallStats = async (data = {})=>{\n            return this.streamClient.post(`/stats`, data);\n        };\n        /**\n         * Returns a list of available data centers available for hosting calls.\n         */ this.edges = async ()=>{\n            return this.streamClient.get(`/edges`);\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         * @param {boolean} [voip_token] enables use of VoIP token for push notifications on iOS platform\n         */ this.addDevice = async (id, push_provider, push_provider_name, userID, voip_token)=>{\n            return await this.streamClient.post('/devices', {\n                id,\n                push_provider,\n                voip_token,\n                ...userID != null ? {\n                    user_id: userID\n                } : {},\n                ...push_provider_name != null ? {\n                    push_provider_name\n                } : {}\n            });\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         */ this.addVoipDevice = async (id, push_provider, push_provider_name, userID)=>{\n            return await this.addDevice(id, push_provider, push_provider_name, userID, true);\n        };\n        /**\n         * getDevices - Returns the devices associated with a current user\n         * @param {string} [userID] User ID. Only works on serverside\n         */ this.getDevices = async (userID)=>{\n            return await this.streamClient.get('/devices', userID ? {\n                user_id: userID\n            } : {});\n        };\n        /**\n         * removeDevice - Removes the device with the given id.\n         *\n         * @param {string} id The device id\n         * @param {string} [userID] The user id. Only specify this for serverside requests\n         */ this.removeDevice = async (id, userID)=>{\n            return await this.streamClient.delete('/devices', {\n                id,\n                ...userID ? {\n                    user_id: userID\n                } : {}\n            });\n        };\n        /**\n         * A callback that can be used to create ringing calls from push notifications. If the call already exists, it will do nothing.\n         * @param call_cid\n         * @returns\n         */ this.onRingingCall = async (call_cid)=>{\n            return withoutConcurrency(getCallInitConcurrencyTag(call_cid), async ()=>{\n                // if we find the call and is already ringing, we don't need to create a new call\n                // as client would have received the call.ring state because the app had WS alive when receiving push notifications\n                let call = this.state.calls.find((c)=>c.cid === call_cid && c.ringing);\n                if (!call) {\n                    // if not it means that WS is not alive when receiving the push notifications and we need to fetch the call\n                    const [callType, callId] = call_cid.split(':');\n                    call = new Call({\n                        streamClient: this.streamClient,\n                        type: callType,\n                        id: callId,\n                        clientStore: this.writeableStateStore,\n                        ringing: true\n                    });\n                    await call.get();\n                }\n                return call;\n            });\n        };\n        /**\n         * Connects the given anonymous user to the client.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            return withoutConcurrency(this.connectionConcurrencyTag, ()=>this.streamClient.connectAnonymousUser(user, tokenOrProvider));\n        };\n        const apiKey = typeof apiKeyOrArgs === 'string' ? apiKeyOrArgs : apiKeyOrArgs.apiKey;\n        const clientOptions = typeof apiKeyOrArgs === 'string' ? opts : apiKeyOrArgs.options;\n        if (clientOptions?.enableTimerWorker) enableTimerWorker();\n        const rootLogger = clientOptions?.logger || logToConsole;\n        setLogger(rootLogger, clientOptions?.logLevel || 'warn');\n        this.logger = getLogger([\n            'client'\n        ]);\n        this.streamClient = createCoordinatorClient(apiKey, clientOptions);\n        this.writeableStateStore = new StreamVideoWriteableStateStore();\n        this.readOnlyStateStore = new StreamVideoReadOnlyStateStore(this.writeableStateStore);\n        if (typeof apiKeyOrArgs !== 'string' && apiKeyOrArgs.user) {\n            const user = apiKeyOrArgs.user;\n            if (user.type === 'anonymous') user.id = '!anon';\n            if (user.id) this.registerClientInstance(apiKey, user);\n            const tokenOrProvider = createTokenOrProvider(apiKeyOrArgs);\n            this.connectUser(user, tokenOrProvider).catch((err)=>{\n                this.logger('error', 'Failed to connect', err);\n            });\n        }\n    }\n    /**\n     * Gets or creates a StreamVideoClient instance based on the given options.\n     */ static getOrCreateInstance(args) {\n        const { apiKey, user, token, tokenProvider } = args;\n        if (!user.id && user.type !== 'anonymous') {\n            throw new Error('user.id is required for a non-anonymous user');\n        }\n        if (!token && !tokenProvider && user.type !== 'anonymous' && user.type !== 'guest') {\n            throw new Error('tokenProvider or token is required for a authenticated users');\n        }\n        return StreamVideoClient._instances.get(getInstanceKey(apiKey, user)) || new StreamVideoClient(args);\n    }\n    /**\n     * Return the reactive state store, use this if you want to be notified about changes to the client state\n     */ get state() {\n        return this.readOnlyStateStore;\n    }\n}\nStreamVideoClient._instances = new Map();\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQkF3SEE7O0NBRUcsR0FDVSwyQ0FBcUMsR0FBRztJQUNuRCxPQUFPLEVBQUUsU0FBUztJQUNsQixRQUFRLEVBQUUsVUFBVTs7QUF1RHRCOztDQUVHLEdBQ1UsNENBQXNDLEdBQUc7SUFDcEQsT0FBTyxFQUFFLFNBQVM7SUFDbEIsUUFBUSxFQUFFLFVBQVU7O0FBbTRGdEI7O0NBRUcsR0FDVSx5Q0FBbUMsR0FBRztJQUNqRCxRQUFRLEVBQUUsVUFBVTtJQUNwQixHQUFHLEVBQUUsS0FBSztJQUNWLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLE1BQU0sRUFBRSxRQUFROztBQTBoQmxCOztDQUVHLEdBQ1UsMkNBQXFDLEdBQUc7SUFDbkQsU0FBUyxFQUFFLFdBQVc7SUFDdEIsUUFBUSxFQUFFLFVBQVU7SUFDcEIsT0FBTyxFQUFFLFNBQVM7O0FBS3BCOztDQUVHLEdBQ1UsOENBQXdDLEdBQUc7SUFDdEQsS0FBSyxFQUFFLE1BQU07SUFDYixLQUFLLEVBQUUsTUFBTTtJQUNiLEtBQUssRUFBRSxNQUFNO0lBQ2IsTUFBTSxFQUFFLE9BQU87SUFDZixNQUFNLEVBQUUsT0FBTztJQUNmLE1BQU0sRUFBRSxPQUFPOztBQStCakI7O0NBRUcsR0FDVSw0Q0FBc0MsR0FBRztJQUNwRCxTQUFTLEVBQUUsV0FBVztJQUN0QixRQUFRLEVBQUUsVUFBVTtJQUNwQixPQUFPLEVBQUUsU0FBUzs7QUE2YXBCOztDQUVHLEdBQ1Usb0RBQThDLEdBQUc7SUFDNUQsUUFBUSxFQUFFLENBQUM7SUFDWCxRQUFR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Q1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7O0FBNklWOztDQUVHLEdBQ1UsMkNBQXFDLEdBQUc7SUFDbkQsSUFBSSxFQUFFLE1BQU07SUFDWixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7O0FBd1ZWOztDQUVHLEdBQ1UsdURBQWlELEdBQUc7SUFDL0QsU0FBUyxFQUFFLFdBQVc7SUFDdEIsUUFBUSxFQUFFLFVBQVU7SUFDcEIsT0FBTyxFQUFFLFNBQVM7O0FBS3BCOztDQUVHLEdBQ1UsOENBQXdDLEdBQUc7SUFDdEQsSUFBSSxFQUFFLE1BQU07SUFDWixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7O0FBS1Y7O0NBRUcsR0FDVSwwQ0FBb0MsR0FBRztJQUNsRCxTQUFTLEVBQUUsV0FBVztJQUN0QixRQUFRLEVBQUUsVUFBVTtJQUNwQixPQUFPLEVBQUUsU0FBUzs7QUErQnBCOztDQUVHLEdBQ1Usd0RBQWtELEdBQUc7SUFDaEUsU0FBUyxFQUFFLFdBQVc7SUFDdEIsUUFBUSxFQUFFLFVBQVU7SUFDcEIsT0FBTyxFQUFFLFNBQVM7O0FBS3BCOztDQUVHLEdBQ1UsK0NBQXlDLEdBQUc7SUFDdkQsSUFBSSxFQUFFLE1BQU07SUFDWixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7SUFDUixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsRUFBRSxFQUFFLElBQUk7O0FBS1Y7O0NBRUcsR0FDVSwyQ0FBcUMsR0FBRztJQUNuRCxTQUFTLEVBQUUsV0FBVztJQUN0QixRQUFRLEVBQUUsVUFBVTtJQUNwQixPQUFPLEVBQUUsU0FBUzs7QUFrd0JwQjs7Q0FFRyxHQUNVLDBDQUFvQyxHQUFHO0lBQ2xELEtBQUssRUFBRSxPQUFPO0lBQ2QsSUFBSSxFQUFFLE1BQU07SUFDWixRQUFRLEVBQUUsVUFBVTs7QUEyQ3RCOztDQUVHLEdBQ1UsMkNBQXFDLEdBQUc7SUFDbkQsS0FBSyxFQUFFLE9BQU87SUFDZCxJQUFJLEVBQUUsTUFBTTtJQUNaLFFBQVEsRUFBRSxVQUFVOztBQ3ZzUGhCLE1BQU8saUJBQXFCLFNBQVEsS0FBSztJQU83QyxXQUFZLEdBQ1YsT0FBTyxFQUNQLElBQUksRUFDSixNQUFNLEVBQ04sUUFBUSxFQUNSLGFBQWEsRUFJZDtRQUNDLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFiVCxJQUFJLFFBQUcsbUJBQW1CO1FBYy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSTtRQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVE7UUFDeEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO1FBQ3BCLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYTs7OztJQUs3QixNQUFNO1FBQ1gsTUFBTSxLQUFLLEdBQUc7WUFDWjtnQkFBQyxRQUFRO2dCQUFFLElBQUksQ0FBQyxNQUFNO2FBQUM7WUFDdkI7Z0JBQUMsTUFBTTtnQkFBRSxJQUFJLENBQUMsSUFBSTthQUFDO1lBQ25CO2dCQUFDLGVBQWU7Z0JBQUUsSUFBSSxDQUFDLGFBQWE7YUFBQztTQUM3QjtRQUVWLE1BQU0sUUFBUSxHQUFHLEVBQUU7UUFFbkIsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBRTtZQUNoQyxJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVcsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO2dCQUNsRCxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFLLFNBQUssQ0FBRSxFQUFDOzs7UUFJckMsT0FBTztZQUNMLE9BQU8sRUFBRSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQU8sVUFBSSxDQUFDLE9BQU8sQ0FBRTtZQUNyRCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1NBQ2hCOztBQUVKO0FDbkZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUhBOzs7Ozs7O0NBT0csR0FDSCxJQUFZLFNBT1g7Q0FQRCxTQUFZLFNBQVM7SUFDbkI7Ozs7S0FJRyxHQUNILHFEQUFjO0NBQ2hCLENBQUMsQ0FQVyxTQUFTLEtBQVQsU0FBUyxHQU9wQjtBQUNEO0FBQ0EsTUFBTSxXQUFZLFNBQVEsNkRBQW1CO0lBQzNDO1FBQ0UsS0FBSyxDQUFDLHdCQUF3QixFQUFFO1lBQzlCO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxRQUFRO2dCQUNkLElBQUksRUFBRSxLQUFLO2dCQUNYLENBQUMsRUFBRSxDQUFDO2dCQUNKLENBQUMsRUFBRTtvQkFBRSxJQUFJLEVBQUUsU0FBUztvQkFBRSxDQUFDLEVBQUUsSUFBTSxLQUFLO2dCQUFBLENBQUU7WUFDdkM7U0FDRixDQUFDOztJQUVKOztLQUVHLEdBQ0gsaUJBQWlCLENBQUMsT0FBZSxFQUFFLE9BQXlCO1FBQzFELElBQUksSUFBSSxHQUFlLEVBQUU7UUFDekIsS0FBSyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFFO1lBQ2pELElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs7UUFFM0IsT0FBTyxJQUFJOztJQUViOztLQUVHLEdBQ0gsZ0JBQWdCLENBQ2QsSUFBZSxFQUNmLE9BQXdCLEVBQ3hCLE1BQWU7UUFFZixJQUFJLENBQUMsa0VBQVksQ0FBQyxJQUFJLENBQUMsRUFDckIsTUFBTSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQ3hCLDBCQUEwQixHQUN4QixJQUFJLENBQUMsUUFBUSxHQUNiLGFBQWEsR0FDYixxRUFBZSxDQUFDLElBQUksQ0FBQyxHQUNyQixHQUFHLENBQ047UUFDSCxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ25DLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBRTtZQUNsRCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDOztRQUV0QyxPQUFPLE1BQU07O0FBRWhCO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLE1BQU0sR0FBRyxJQUFJLFdBQVcsRUFBRTtBQUN2QztBQUNBLE1BQU0sVUFBVyxTQUFRLDZEQUFrQjtJQUN6QztRQUNFLEtBQUssQ0FBQyx1QkFBdUIsRUFBRTtZQUM3QjtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsWUFBWTtnQkFDbEIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osS0FBSyxFQUFFLE1BQU07Z0JBQ2IsQ0FBQyxFQUFFLElBQU07d0JBQUMsMkJBQTJCO3dCQUFFLFNBQVM7cUJBQUM7WUFDbEQ7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsY0FBYztnQkFDcEIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsS0FBSyxFQUFFLE1BQU07Z0JBQ2IsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxjQUFjO2dCQUNwQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxLQUFLLEVBQUUsTUFBTTtnQkFDYixDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxRQUFRO2dCQUNkLEtBQUssRUFBRSxNQUFNO2dCQUNiLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsY0FBYztnQkFDcEIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLE1BQU07Z0JBQ2IsQ0FBQyxFQUFFLElBQU0sTUFBTTtZQUNoQjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxZQUFZO2dCQUNsQixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsTUFBTTtnQkFDYixDQUFDLEVBQUUsSUFBTSxTQUFTO1lBQ25CO1NBQ0YsQ0FBQzs7SUFFSjs7S0FFRyxHQUNILGlCQUFpQixDQUFDLE9BQWMsRUFBRSxPQUF5QjtRQUN6RCxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRSxNQUFNLElBQUksVUFBVSxDQUFDLEtBQUssRUFBRTtRQUN0RSxPQUFRLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUztZQUM1QixLQUFLLFNBQVM7Z0JBQ1osTUFBTSxJQUFJLFVBQVUsQ0FBQyxLQUFLLEVBQUU7WUFDOUIsS0FBSyxXQUFXO2dCQUNkLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTO1lBQy9CLEtBQUssV0FBVztnQkFDZCxPQUFPLElBQUk7WUFDYixLQUFLLGFBQWE7Z0JBQ2hCLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVztnQkFDMUMsSUFBSSxPQUFPLFdBQVcsSUFBSSxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUNqRSxNQUFNLElBQUksVUFBVSxDQUFDLEtBQUssRUFBRTtnQkFDOUIsT0FBTyxXQUFXO1lBQ3BCLEtBQUssYUFBYTtnQkFDaEIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVc7WUFDakMsS0FBSyxXQUFXO2dCQUNkLElBQUksY0FBYyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUN4RCxJQUFJLGNBQWMsRUFBRSxJQUFJLEtBQUssU0FBUyxFQUFFLE1BQU0sSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFO2dCQUNwRSxPQUFPLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDMUQsS0FBSyxhQUFhO2dCQUNoQixJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUMxRCxJQUFJLGdCQUFnQixFQUFFLElBQUksS0FBSyxTQUFTLEVBQUUsTUFBTSxJQUFJLFVBQVUsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3RFLE9BQU8sZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDOzs7SUFHbEU7O0tBRUcsR0FDSCxnQkFBZ0IsQ0FDZCxJQUFlLEVBQ2YsT0FBd0IsRUFDeEIsTUFBYztRQUVkLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7UUFDbkMsT0FBUSxPQUFPLElBQUk7WUFDakIsS0FBSyxRQUFRO2dCQUNYLE1BQU0sQ0FBQyxJQUFJLEdBQUc7b0JBQUUsU0FBUyxFQUFFLGFBQWE7b0JBQUUsV0FBVyxFQUFFLElBQUk7Z0JBQUEsQ0FBRTtnQkFDN0Q7WUFDRixLQUFLLFFBQVE7Z0JBQ1gsTUFBTSxDQUFDLElBQUksR0FBRztvQkFBRSxTQUFTLEVBQUUsYUFBYTtvQkFBRSxXQUFXLEVBQUUsSUFBSTtnQkFBQSxDQUFFO2dCQUM3RDtZQUNGLEtBQUssU0FBUztnQkFDWixNQUFNLENBQUMsSUFBSSxHQUFHO29CQUFFLFNBQVMsRUFBRSxXQUFXO29CQUFFLFNBQVMsRUFBRSxJQUFJO2dCQUFBLENBQUU7Z0JBQ3pEO1lBQ0YsS0FBSyxRQUFRO2dCQUNYLElBQUksSUFBSSxLQUFLLElBQUksRUFBRTtvQkFDakIsTUFBTSxDQUFDLElBQUksR0FBRzt3QkFDWixTQUFTLEVBQUUsV0FBVzt3QkFDdEIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxVQUFVO3FCQUNoQzt1QkFDSSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO29CQUN6QyxNQUFNLENBQUMsSUFBSSxHQUFHO3dCQUNaLFNBQVMsRUFBRSxXQUFXO3dCQUN0QixTQUFTLEVBQUUsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7cUJBQ3BDO3VCQUNJO29CQUNMLE1BQU0sQ0FBQyxJQUFJLEdBQUc7d0JBQ1osU0FBUyxFQUFFLGFBQWE7d0JBQ3hCLFdBQVcsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztxQkFDbkM7O2dCQUVIO1lBQ0Y7Z0JBQ0UsTUFBTSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQ3hCLGtCQUFrQixHQUNoQixJQUFJLENBQUMsUUFBUSxHQUNiLGFBQWEsR0FDYixxRUFBZSxDQUFDLElBQUksQ0FBQyxDQUN4Qjs7UUFFTCxPQUFPLE1BQU07O0FBRWhCO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLEtBQUssR0FBRyxJQUFJLFVBQVUsRUFBRTtBQUNyQztBQUNBLE1BQU0sY0FBZSxTQUFRLDZEQUFzQjtJQUNqRDtRQUNFLEtBQUssQ0FBQywyQkFBMkIsRUFBRTtZQUNqQztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxLQUFLO1lBQ2Y7U0FDRixDQUFDOztJQUVKOztLQUVHLEdBQ0gsaUJBQWlCLENBQUMsT0FBa0IsRUFBRSxPQUF5QjtRQUM3RCxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFLLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7O0lBRW5EOztLQUVHLEdBQ0gsZ0JBQWdCLENBQ2QsSUFBZSxFQUNmLE9BQXdCLEVBQ3hCLE1BQWtCO1FBRWxCLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFDakMsTUFBTSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQ3hCLGtCQUFrQixHQUNoQixJQUFJLENBQUMsUUFBUSxHQUNiLGFBQWEsR0FDYixxRUFBZSxDQUFDLElBQUksQ0FBQyxDQUN4QjtRQUNILElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7UUFDbkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQzdCLE9BQU8sTUFBTTs7QUFFaEI7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFO0FDclk3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVIQTtBQUNBLE1BQU0sY0FBZSxTQUFRLDZEQUFzQjtJQUNqRDtRQUNFLEtBQUssQ0FBQywyQkFBMkIsRUFBRTtZQUNqQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXVCO1lBQ3JFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBdUI7U0FDcEUsQ0FBQzs7SUFFSjs7S0FFRyxHQUNILEdBQUc7UUFDRCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ3pCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDckIsR0FBRyxDQUFDLE9BQU8sR0FBRyx3REFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtRQUMzRCxHQUFHLENBQUMsS0FBSyxHQUFHLEVBQUcsR0FBRyxJQUFJLEdBQUksT0FBTztRQUNqQyxPQUFPLEdBQUc7O0lBRVo7O0tBRUcsR0FDSCxNQUFNLENBQUMsT0FBa0I7UUFDdkIsT0FBTyxJQUFJLElBQUksQ0FDYix3REFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLEdBQUcsSUFBSSxHQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQ3JDOztJQUVIOztLQUVHLEdBQ0gsUUFBUSxDQUFDLElBQVU7UUFDakIsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUN6QixNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ3pCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsd0RBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7UUFDM0QsR0FBRyxDQUFDLEtBQUssR0FDUCxDQUFDLEVBQUcsR0FBRyxJQUFJLElBQUssRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxLQUFLLENBQUMsR0FBRyxJQUFJLElBQUcsQ0FBQyxDQUFDLEdBQUksT0FBTztRQUNsRSxPQUFPLEdBQUc7O0lBRVo7OztLQUdHLEdBQ0gsaUJBQWlCLENBQUMsT0FBa0IsRUFBRSxPQUF5QjtRQUM3RCxJQUFJLEVBQUUsR0FBRyx3REFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLEdBQUcsSUFBSTtRQUN2RCxJQUNFLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLElBQ3ZDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLEVBRXZDLE1BQU0sSUFBSSxLQUFLLENBQ2IsMEdBQTBHLENBQzNHO1FBQ0gsSUFBSSxPQUFPLENBQUMsS0FBSyxHQUFHLENBQUMsRUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FDYix5RUFBeUUsQ0FDMUU7UUFDSCxJQUFJLENBQUMsR0FBRyxHQUFHO1FBQ1gsSUFBSSxPQUFPLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRTtZQUNyQixJQUFJLFFBQVEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsV0FBVSxDQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDbkUsSUFBSSxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsRUFDcEMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHO2lCQUNyQyxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxFQUN0QyxDQUFDLEdBQUcsR0FBRyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUc7aUJBQ3JDLENBQUMsR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUc7O1FBRS9CLE9BQU8sSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7O0lBRXZEOzs7S0FHRyxHQUNILGdCQUFnQixDQUNkLElBQWUsRUFDZixPQUF3QixFQUN4QixNQUFrQjtRQUVsQixJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FDYixzQ0FBc0MsR0FBRyxxRUFBZSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FDckU7UUFDSCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUN0QixzSEFBc0gsQ0FDdkg7UUFDRCxJQUFJLENBQUMsT0FBTyxFQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsc0RBQXNELENBQUM7UUFDekUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDakIsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUNSLEdBQUcsR0FDSCxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQ1YsR0FBRyxHQUNILE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FDVixHQUFHLEdBQ0gsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUNWLEdBQUcsR0FDSCxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQ1YsR0FBRyxHQUNILE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FDVCxRQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUcsQ0FBQyxDQUNsQztRQUNELElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFDbEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQztRQUN4RSxJQUNFLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLElBQ3ZDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLEVBRXZDLE1BQU0sSUFBSSxVQUFVLENBQUMsS0FBSyxDQUN4QiwyR0FBMkcsQ0FDNUc7UUFDSCxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ25DLE1BQU0sQ0FBQyxPQUFPLEdBQUcsd0RBQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRTtRQUNsRCxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUM7UUFDaEIsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQ1osTUFBTSxDQUFDLEtBQUssR0FDVixRQUFRLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FDOUQsVUFBVTtRQUNkLE9BQU8sTUFBTTs7QUFFaEI7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFO0FDdFI3QztBQUNBO0FBQ0E7QUFxcUJBOztDQUVHLEdBQ0gsSUFBWSxRQVdYO0NBWEQsU0FBWSxRQUFRO0lBQ2xCOzs7O0tBSUcsR0FDSCx5RUFBeUI7SUFDekI7O0tBRUcsR0FDSCxtREFBYztDQUNoQixDQUFDLENBWFcsUUFBUSxLQUFSLFFBQVEsR0FXbkI7QUFDRDs7Q0FFRyxHQUNILElBQVksaUJBaUJYO0NBakJELFNBQVksaUJBQWlCO0lBQzNCOztLQUVHLEdBQ0gsdUVBQWU7SUFDZjs7S0FFRyxHQUNILHlEQUFRO0lBQ1I7O0tBRUcsR0FDSCx5REFBUTtJQUNSOztLQUVHLEdBQ0gsbUVBQWE7Q0FDZixDQUFDLENBakJXLGlCQUFpQixJQUFqQixpQkFBaUIsSUFpQjVCO0FBQ0Q7O0NBRUcsR0FDSCxJQUFZLFlBaUJYO0NBakJELFNBQVksWUFBWTtJQUN0Qjs7S0FFRyxHQUNILHFFQUFtQjtJQUNuQjs7S0FFRyxHQUNILDZDQUFPO0lBQ1A7O0tBRUcsR0FDSCwrQ0FBUTtJQUNSOztLQUVHLEdBQ0gsNkNBQU87Q0FDVCxDQUFDLENBakJXLFlBQVksS0FBWixZQUFZLEdBaUJ2QjtBQUNEOztDQUVHLEdBQ0gsSUFBWSxTQXFCWDtDQXJCRCxTQUFZLFNBQVM7SUFDbkI7O0tBRUcsR0FDSCx1REFBZTtJQUNmOztLQUVHLEdBQ0gsMkNBQVM7SUFDVDs7S0FFRyxHQUNILDJDQUFTO0lBQ1Q7O0tBRUcsR0FDSCx5REFBZ0I7SUFDaEI7O0tBRUcsR0FDSCxxRUFBc0I7Q0FDeEIsQ0FBQyxDQXJCVyxTQUFTLEtBQVQsU0FBUyxHQXFCcEI7QUFDRDs7Q0FFRyxHQUNILElBQVksU0F5Rlg7Q0F6RkQsU0FBWSxTQUFTO0lBQ25COztLQUVHLEdBQ0gsdURBQWU7SUFDZjs7S0FFRyxHQUNILGlGQUE2QjtJQUM3Qjs7S0FFRyxHQUNILGlGQUE2QjtJQUM3Qjs7S0FFRyxHQUNILHVGQUFnQztJQUNoQzs7S0FFRyxHQUNILHlHQUF5QztJQUN6Qzs7S0FFRyxHQUNILHVEQUFnQjtJQUNoQjs7S0FFRyxHQUNILDZFQUEyQjtJQUMzQjs7S0FFRyxHQUNILHFGQUErQjtJQUMvQjs7S0FFRyxHQUNILDJGQUFrQztJQUNsQzs7S0FFRyxHQUNILDZFQUEyQjtJQUMzQjs7S0FFRyxHQUNILDJGQUFrQztJQUNsQzs7S0FFRyxHQUNILHlHQUF5QztJQUN6Qzs7S0FFRyxHQUNILGlGQUE2QjtJQUM3Qjs7S0FFRyxHQUNILCtEQUFvQjtJQUNwQjs7S0FFRyxHQUNILCtGQUFvQztJQUNwQzs7S0FFRyxHQUNILHFGQUErQjtJQUMvQjs7S0FFRyxHQUNILGlFQUFxQjtJQUNyQjs7S0FFRyxHQUNILHFFQUF1QjtJQUN2Qjs7S0FFRyxHQUNILHFFQUF1QjtJQUN2Qjs7S0FFRyxHQUNILDZFQUEyQjtJQUMzQjs7S0FFRyxHQUNILHFFQUF1QjtJQUN2Qjs7S0FFRyxHQUNILG1EQUFjO0NBQ2hCLENBQUMsQ0F6RlcsU0FBUyxLQUFULFNBQVMsR0F5RnBCO0FBQ0Q7O0NBRUcsR0FDSCxJQUFZLE9BeUNYO0FBekNELFVBQVksT0FBTztJQUNqQjs7S0FFRyxHQUNILG1EQUFlO0lBQ2Y7O0tBRUcsR0FDSCx1Q0FBUztJQUNUOztLQUVHLEdBQ0gsMkNBQVc7SUFDWDs7S0FFRyxHQUNILDJDQUFXO0lBQ1g7O0tBRUcsR0FDSCxtQ0FBTztJQUNQOztLQUVHLEdBQ0gsMkNBQVc7SUFDWDs7S0FFRyxHQUNILHFEQUFnQjtJQUNoQjs7S0FFRyxHQUNILHVDQUFTO0lBQ1Q7O0tBRUcsR0FDSCxpQ0FBTTtJQUNOOztLQUVHLEdBQ0gsNkRBQW9CO0NBQ3RCLENBQUMsQ0F6Q1csT0FBTyxLQUFQLE9BQU8sR0F5Q2xCO0FBQ0Q7O0NBRUcsR0FDSCxJQUFZLG9CQStCWDtDQS9CRCxTQUFZLG9CQUFvQjtJQUM5Qjs7Ozs7S0FLRyxHQUNILDZFQUFlO0lBQ2Y7Ozs7S0FJRyxHQUNILDJFQUFjO0lBQ2Q7Ozs7O0tBS0csR0FDSCwyRkFBc0I7SUFDdEI7Ozs7Ozs7O0tBUUcsR0FDSCwyRUFBYztDQUNoQixDQUFDLENBL0JXLG9CQUFvQixLQUFwQixvQkFBb0IsR0ErQi9CO0FBQ0Q7Ozs7O0NBS0csR0FDSCxJQUFZLFlBYVg7Q0FiRCxTQUFZLFlBQVk7SUFDdEI7O0tBRUcsR0FDSCw2REFBZTtJQUNmOztLQUVHLEdBQ0gsaUVBQWlCO0lBQ2pCOztLQUVHLEdBQ0gseURBQWE7Q0FDZixDQUFDLENBYlcsWUFBWSxLQUFaLFlBQVksR0FhdkI7QUFDRDs7OztDQUlHLEdBQ0gsSUFBWSxlQXFCWDtDQXJCRCxTQUFZLGVBQWU7SUFDekI7O0tBRUcsR0FDSCxtRUFBZTtJQUNmOztLQUVHLEdBQ0gsdURBQVM7SUFDVDs7S0FFRyxHQUNILGlFQUFjO0lBQ2Q7O0tBRUcsR0FDSCx5REFBVTtJQUNWOztLQUVHLEdBQ0gsdUVBQWlCO0NBQ25CLENBQUMsQ0FyQlcsZUFBZSxJQUFmLGVBQWUsSUFxQjFCO0FBQ0Q7Ozs7Q0FJRyxHQUNILElBQVksMEJBK0JYO0NBL0JELFNBQVksMEJBQTBCO0lBQ3BDOztLQUVHLEdBQ0gseUZBQWU7SUFDZjs7OztLQUlHLEdBQ0gsdUZBQWM7SUFDZDs7Ozs7S0FLRyxHQUNILDJFQUFRO0lBQ1I7Ozs7O0tBS0csR0FDSCwrRUFBVTtJQUNWOzs7O0tBSUcsR0FDSCxpRkFBVztDQUNiLENBQUMsQ0EvQlcsMEJBQTBCLEtBQTFCLDBCQUEwQixHQStCckM7QUFDRDs7Ozs7Q0FLRyxHQUNILElBQVksbUJBaUNYO0NBakNELFNBQVksbUJBQW1CO0lBQzdCOztLQUVHLEdBQ0gsMkVBQWU7SUFDZjs7S0FFRyxHQUNILDZEQUFRO0lBQ1I7O0tBRUcsR0FDSCwrREFBUztJQUNUOztLQUVHLEdBQ0gscUVBQVk7SUFDWjs7S0FFRyxHQUNILGlFQUFVO0lBQ1Y7O0tBRUcsR0FDSCxxRUFBWTtJQUNaOztLQUVHLEdBQ0gsdUVBQWE7SUFDYjs7S0FFRyxHQUNILHFFQUFZO0NBQ2QsQ0FBQyxDQWpDVyxtQkFBbUIsS0FBbkIsbUJBQW1CLEdBaUM5QjtBQUNEOzs7OztDQUtHLEdBQ0gsSUFBWSxpQkFxQlg7Q0FyQkQsU0FBWSxpQkFBaUI7SUFDM0I7O0tBRUcsR0FDSCx1RUFBZTtJQUNmOztLQUVHLEdBQ0gsK0RBQVc7SUFDWDs7S0FFRyxHQUNILHlEQUFRO0lBQ1I7O0tBRUcsR0FDSCwrREFBVztJQUNYOztLQUVHLEdBQ0gsaUVBQVk7Q0FDZCxDQUFDLENBckJXLGlCQUFpQixLQUFqQixpQkFBaUIsR0FxQjVCO0FBQ0Q7Ozs7Q0FJRyxHQUNILElBQVksZ0JBV1g7Q0FYRCxTQUFZLGdCQUFnQjtJQUMxQjs7S0FFRyxHQUNILHFFQUFlO0lBQ2Y7Ozs7S0FJRyxHQUNILDJGQUEwQjtDQUM1QixDQUFDLENBWFcsZ0JBQWdCLEtBQWhCLGdCQUFnQixHQVczQjtBQUNEO0FBQ0EsTUFBTSxjQUFlLFNBQVEsNkRBQXNCO0lBQ2pEO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQyxFQUFFO1lBQ3pDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxjQUFjO2dCQUNwQixJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxXQUFXO1lBQ3JCO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sU0FBUztZQUFBLENBQUU7WUFDbEU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsQ0FBQyxFQUFFLElBQU0sZ0JBQWdCO1lBQzFCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLE1BQU07Z0JBQ1osSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sR0FBRztZQUNiO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTUEsV0FBUyxHQUFHLElBQUksY0FBYyxFQUFFO0FBQzdDO0FBQ0EsTUFBTSxxQkFBc0IsU0FBUSw2REFBNkI7SUFDL0Q7UUFDRSxLQUFLLENBQUMsMENBQTBDLEVBQUU7WUFDaEQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLEVBQUU7WUFBQSxDQUF3QjtZQUNyRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsV0FBVztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsRUFBRTtZQUFBLENBQXdCO1NBQzFFLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxxQkFBcUIsRUFBRTtBQUMzRDtBQUNBLE1BQU0sUUFBUyxTQUFRLDZEQUFnQjtJQUNyQztRQUNFLEtBQUssQ0FBQyw2QkFBNkIsRUFBRTtZQUNuQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3RFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxZQUFZO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDMUUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxHQUFHLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDakM7QUFDQSxNQUFNLGdCQUFpQixTQUFRLDZEQUF3QjtJQUNyRDtRQUNFLEtBQUssQ0FBQyxxQ0FBcUMsRUFBRTtZQUMzQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3RFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxZQUFZO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDekU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGtCQUFrQjtnQkFDeEIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU07d0JBQ1AsbUNBQW1DO3dCQUNuQyxTQUFTO3dCQUNULGFBQWE7cUJBQ2Q7WUFDRjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxXQUFXO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNLFNBQVM7WUFBQSxDQUFFO1lBQ2pFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxxQkFBcUI7Z0JBQzNCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsb0JBQW9CO2dCQUMxQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFDUCwyQ0FBMkM7d0JBQzNDLGlCQUFpQjt3QkFDakIscUJBQXFCO3FCQUN0QjtZQUNGO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGFBQWE7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtZQUN4RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUscUJBQXFCO2dCQUMzQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGFBQWE7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF1QjtZQUN6RTtnQkFBRSxFQUFFLEVBQUUsRUFBRTtnQkFBRSxJQUFJLEVBQUUsTUFBTTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3BFO2dCQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDckU7Z0JBQUUsRUFBRSxFQUFFLEVBQUU7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sTUFBTTtZQUFBLENBQUU7WUFDNUQ7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLE9BQU87Z0JBQ2IsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLENBQUM7WUFDTDtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sV0FBVyxHQUFHLElBQUksZ0JBQWdCLEVBQUU7QUFDakQ7QUFDQSxNQUFNLGtCQUFtQixTQUFRLDZEQUEwQjtJQUN6RDtRQUNFLEtBQUssQ0FBQyx1Q0FBdUMsRUFBRTtZQUM3QztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1Asc0NBQXNDO3dCQUN0QyxZQUFZO3dCQUNaLGdCQUFnQjtxQkFDakI7WUFDRjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDdkUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtBQUNyRDtBQUNBLE1BQU0sbUJBQW9CLFNBQVEsNkRBQTJCO0lBQzNEO1FBQ0UsS0FBSyxDQUFDLHdDQUF3QyxFQUFFO1lBQzlDO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxFQUFFO1lBQUEsQ0FBd0I7WUFDckU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLEVBQUU7WUFBQSxDQUF3QjtTQUN2RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGNBQWMsR0FBRyxJQUFJLG1CQUFtQixFQUFFO0FBQ3ZEO0FBQ0EsTUFBTSxlQUFnQixTQUFRLDZEQUF1QjtJQUNuRDtRQUNFLEtBQUssQ0FBQyxvQ0FBb0MsRUFBRTtZQUMxQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsS0FBSztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ2xFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxpQkFBaUI7Z0JBQ3ZCLElBQUksRUFBRSxTQUFTO2dCQUNmLENBQUMsRUFBRSxJQUFNLGNBQWM7WUFDeEI7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsRUFBRTtZQUFBLENBQXdCO1lBQ3ZFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxLQUFLO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxFQUFFO1lBQUEsQ0FBd0I7WUFDbkU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1Asc0NBQXNDO3dCQUN0QyxZQUFZO3dCQUNaLGdCQUFnQjtxQkFDakI7WUFDRjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sVUFBVSxHQUFHLElBQUksZUFBZSxFQUFFO0FBQy9DO0FBQ0EsTUFBTSxvQkFBcUIsU0FBUSw2REFBNEI7SUFDN0Q7UUFDRSxLQUFLLENBQUMseUNBQXlDLEVBQUU7WUFDL0M7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxLQUFLO1lBQ2Y7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGVBQWUsR0FBRyxJQUFJLG9CQUFvQixFQUFFO0FBQ3pEO0FBQ0EsTUFBTSxrQkFBbUIsU0FBUSw2REFBMEI7SUFDekQ7UUFDRSxLQUFLLENBQUMsdUNBQXVDLEVBQUU7WUFDN0M7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxLQUFLO1lBQUEsQ0FBRTtZQUN6RDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXVCO1lBQ3JFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxLQUFLO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBdUI7WUFDakU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG9CQUFvQjtnQkFDMUIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxxQkFBcUI7Z0JBQzNCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsaUJBQWlCO2dCQUN2QixJQUFJLEVBQUUsU0FBUztnQkFDZixDQUFDLEVBQUUsSUFBTSxjQUFjO1lBQ3hCO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLElBQUk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF1QjtZQUNoRTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsa0JBQWtCO2dCQUN4QixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtBQUNyRDtBQUNBLE1BQU0sVUFBVyxTQUFRLDZEQUFrQjtJQUN6QztRQUNFLEtBQUssQ0FBQywrQkFBK0IsRUFBRTtZQUNyQztnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsY0FBYztnQkFDcEIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLEVBQUU7WUFDTjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUFFLElBQUksRUFBRSxNQUFNO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDcEU7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxFQUFFO1lBQ047WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUscUJBQXFCO2dCQUMzQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLEVBQUU7Z0JBQUUsSUFBSSxFQUFFLE1BQU07Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtTQUNyRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLEtBQUssR0FBRyxJQUFJLFVBQVUsRUFBRTtBQUNyQzt3QkFDQSxNQUFNLGVBQWdCLFNBQVEsNkRBQXVCO0lBQ25EO1FBQ0UsS0FBSyxDQUFDLG9DQUFvQyxFQUFFO1lBQzFDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxXQUFXO2dCQUNqQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFBQyxrQ0FBa0M7d0JBQUUsUUFBUTt3QkFBRSxZQUFZO3FCQUFDO1lBQ3RFO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGVBQWU7Z0JBQ3JCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1NBQzFFLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLFlBQVUsR0FBRyxJQUFJQyxpQkFBZSxFQUFFO0FBQy9DO0FBQ0EsTUFBTSxjQUFlLFNBQVEsNkRBQXNCO0lBQ2pEO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQyxFQUFFO1lBQ3pDO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxVQUFVO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdkU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxVQUFVO1lBQ3BCO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLEtBQUs7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUNsRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsS0FBSztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXNCO1lBQ2hFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBc0I7WUFDbkU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLEtBQUs7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtZQUNoRTtnQkFBRSxFQUFFLEVBQUUsRUFBRTtnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXNCO1lBQ25FO2dCQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNLEtBQUs7WUFBQSxDQUFFO1lBQzFEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxtQkFBbUI7Z0JBQ3pCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFNBQVMsR0FBRyxJQUFJLGNBQWMsRUFBRTtBQUM3QzttQkFDQSxNQUFNLFVBQVcsU0FBUSw2REFBa0I7SUFDekM7UUFDRSxLQUFLLENBQUMsK0JBQStCLEVBQUU7WUFDckM7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLE1BQU07Z0JBQ1osSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1AsbUNBQW1DO3dCQUNuQyxTQUFTO3dCQUNULGFBQWE7cUJBQ2Q7WUFDRjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGNBQWM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtTQUMxRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNQyxPQUFLLEdBQUcsSUFBSUMsWUFBVSxFQUFFO0FBQ3JDO0FBQ0EsTUFBTSxrQkFBbUIsU0FBUSw2REFBMEI7SUFDekQ7UUFDRSxLQUFLLENBQUMsdUNBQXVDLEVBQUU7WUFDN0M7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLEtBQUs7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sR0FBRztZQUFBLENBQUU7WUFDckQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLElBQUk7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sRUFBRTtZQUFBLENBQUU7WUFDbkQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sT0FBTztZQUFBLENBQUU7WUFDN0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sTUFBTTtZQUFBLENBQUU7U0FDNUQsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtBQUNyRDtBQUNBLE1BQU0sUUFBUyxTQUFRLDZEQUFnQjtJQUNyQztRQUNFLEtBQUssQ0FBQyw2QkFBNkIsRUFBRTtZQUNuQztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsTUFBTTtnQkFDWixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFBQyxpQ0FBaUM7d0JBQUUsT0FBTzt3QkFBRSxXQUFXO3FCQUFDO1lBQ25FO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUNwRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3BFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDckUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxHQUFHLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDakM7QUFDQSxNQUFNLE9BQVEsU0FBUSw2REFBZTtJQUNuQztRQUNFLEtBQUssQ0FBQyw0QkFBNEIsRUFBRTtZQUNsQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsTUFBTTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ25FO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdEU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLEVBQUUsR0FBRyxJQUFJLE9BQU8sRUFBRTtBQUMvQjtBQUNBLE1BQU0sWUFBYSxTQUFRLDZEQUFvQjtJQUM3QztRQUNFLEtBQUssQ0FBQyxpQ0FBaUMsRUFBRTtZQUN2QztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsTUFBTTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ25FO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDdkUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxPQUFPLEdBQUcsSUFBSSxZQUFZLEVBQUU7QUFDekM7QUFDQSxNQUFNLGdCQUFpQixTQUFRLDZEQUF3QjtJQUNyRDtRQUNFLEtBQUssQ0FBQyxxQ0FBcUMsRUFBRTtZQUMzQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsRUFBRTtZQUFBLENBQXdCO1lBQ3JFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxFQUFFO1lBQUEsQ0FBd0I7WUFDdEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsVUFBVTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3ZFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN0RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsYUFBYTtnQkFDbkIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sV0FBVyxHQUFHLElBQUksZ0JBQWdCLEVBQUU7QUFDakQ7QUFDQSxNQUFNLFdBQVksU0FBUSw2REFBbUI7SUFDM0M7UUFDRSxLQUFLLENBQUMsZ0NBQWdDLEVBQUU7WUFDdEM7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE1BQU07Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUNuRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1NBQ3ZFLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sTUFBTSxHQUFHLElBQUksV0FBVyxFQUFFO0FBQ3ZDO0FBQ0EsTUFBTSxTQUFVLFNBQVEsNkRBQWlCO0lBQ3ZDO1FBQ0UsS0FBSyxDQUFDLDhCQUE4QixFQUFFO1lBQ3BDO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxNQUFNO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDbkU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLElBQUk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUNqRTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsb0JBQW9CO2dCQUMxQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxNQUFNO1lBQUEsQ0FBRTtZQUMzRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxTQUFTO1lBQUEsQ0FBRTtZQUNsRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxTQUFTO1lBQUEsQ0FBRTtTQUNuRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNQyxNQUFJLEdBQUcsSUFBSSxTQUFTLEVBQUU7QUFDbkM7QUFDQSxNQUFNLGVBQWdCLFNBQVEsNkRBQXVCO0lBQ25EO1FBQ0UsS0FBSyxDQUFDLG9DQUFvQyxFQUFFO1lBQzFDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxtQkFBbUI7Z0JBQ3pCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsbUJBQW1CO2dCQUN6QixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGlCQUFpQjtnQkFDdkIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sVUFBVSxHQUFHLElBQUksZUFBZSxFQUFFO0FBQy9DO0FBQ0EsTUFBTSxpQkFBa0IsU0FBUSw2REFBeUI7SUFDdkQ7UUFDRSxLQUFLLENBQUMsc0NBQXNDLEVBQUU7WUFDNUM7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxnQkFBZ0I7Z0JBQ3RCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsY0FBYztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXNCO1NBQzFFLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sWUFBWSxHQUFHLElBQUksaUJBQWlCLEVBQUU7QUFDbkQ7QUFDQSxNQUFNLGlCQUFrQixTQUFRLDZEQUF5QjtJQUN2RDtRQUNFLEtBQUssQ0FBQyxzQ0FBc0MsRUFBRTtZQUM1QztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1AsNkNBQTZDO3dCQUM3QyxtQkFBbUI7d0JBQ25CLHdCQUF3QjtxQkFDekI7WUFDRjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxxQkFBcUI7Z0JBQzNCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFlBQVksR0FBRyxJQUFJLGlCQUFpQixFQUFFO0FBQ25EO0FBQ0EsTUFBTSxlQUFnQixTQUFRLDZEQUF1QjtJQUNuRDtRQUNFLEtBQUssQ0FBQyxvQ0FBb0MsRUFBRTtZQUMxQztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1AsMkNBQTJDO3dCQUMzQyxpQkFBaUI7d0JBQ2pCLHNCQUFzQjtxQkFDdkI7WUFDRjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSwyQkFBMkI7Z0JBQ2pDLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFVBQVUsR0FBRyxJQUFJLGVBQWUsRUFBRTtBQUMvQztBQUNBLE1BQU0scUJBQXNCLFNBQVEsNkRBQTZCO0lBQy9EO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQyxFQUFFO1lBQ2hEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxZQUFZO2dCQUNsQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFDUCxtQ0FBbUM7d0JBQ25DLFNBQVM7d0JBQ1QsYUFBYTtxQkFDZDtZQUNGO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sS0FBSztZQUFBLENBQUU7WUFDekQ7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBdUI7WUFDckU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGlCQUFpQjtnQkFDdkIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsQ0FBQyxFQUFFLElBQU0sY0FBYztZQUN4QjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxnQkFBZ0I7Z0JBQ3RCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGdCQUFnQixHQUFHLElBQUkscUJBQXFCLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaHVEM0Q7QUFDQTtBQUNBO0FBNllBO0FBQ0EsTUFBTSxrQ0FBbUMsU0FBUSw2REFBMEM7SUFDekY7UUFDRSxLQUFLLENBQUMsdURBQXVELEVBQUU7WUFDN0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtTQUMxRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLDZCQUE2QixHQUN4QyxJQUFJLGtDQUFrQyxFQUFFO0FBQzFDO0FBQ0EsTUFBTSxtQ0FBb0MsU0FBUSw2REFBMkM7SUFDM0Y7UUFDRSxLQUFLLENBQUMsd0RBQXdELEVBQUU7WUFDOUQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU1GLE9BQUs7WUFBQSxDQUFFO1NBQzFELENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sOEJBQThCLEdBQ3pDLElBQUksbUNBQW1DLEVBQUU7QUFDM0M7QUFDQSxNQUFNLGlDQUFrQyxTQUFRLDZEQUF5QztJQUN2RjtRQUNFLEtBQUssQ0FBQyxzREFBc0QsRUFBRTtZQUM1RDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1NBQzFFLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sNEJBQTRCLEdBQ3ZDLElBQUksaUNBQWlDLEVBQUU7QUFDekM7QUFDQSxNQUFNLGtDQUFtQyxTQUFRLDZEQUEwQztJQUN6RjtRQUNFLEtBQUssQ0FBQyx1REFBdUQsRUFBRTtZQUM3RDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTUEsT0FBSztZQUFBLENBQUU7U0FDMUQsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSw2QkFBNkIsR0FDeEMsSUFBSSxrQ0FBa0MsRUFBRTtBQUMxQztBQUNBLE1BQU0saUJBQWtCLFNBQVEsNkRBQXlCO0lBQ3ZEO1FBQ0UsS0FBSyxDQUFDLHNDQUFzQyxFQUFFO1lBQzVDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxjQUFjO2dCQUNwQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG9EQUFvRDt3QkFDcEQsMEJBQTBCO3dCQUMxQiwrQkFBK0I7cUJBQ2hDO1lBQ0Y7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFlBQVksR0FBRyxJQUFJLGlCQUFpQixFQUFFO0FBQ25EO0FBQ0EsTUFBTSxjQUFlLFNBQVEsNkRBQXNCO0lBQ2pEO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQyxFQUFFO1lBQ3pDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSx5QkFBeUI7Z0JBQy9CLElBQUksRUFBRSxRQUFRO2dCQUNkLEtBQUssRUFBRSxNQUFNO2dCQUNiLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsY0FBYztnQkFDcEIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLE1BQU07Z0JBQ2IsQ0FBQyxFQUFFLElBQU0sWUFBWTtZQUN0QjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFO0FBQzdDO0FBQ0EsTUFBTSxxQkFBc0IsU0FBUSw2REFBNkI7SUFDL0Q7UUFDRSxLQUFLLENBQUMsMENBQTBDLEVBQUU7WUFDaEQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsa0JBQWtCO2dCQUN4QixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGlCQUFpQjtnQkFDdkIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxnQkFBZ0I7Z0JBQ3RCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsS0FBSztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ2xFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGVBQWU7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sWUFBWTtZQUFBLENBQUU7WUFDeEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGVBQWU7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sWUFBWTtZQUFBLENBQUU7WUFDeEU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGFBQWE7Z0JBQ3BCLENBQUMsRUFBRSxJQUFNLFlBQVk7WUFDdEI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsT0FBTztnQkFDYixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsYUFBYTtnQkFDcEIsQ0FBQyxFQUFFLElBQU0sVUFBVTtZQUNwQjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUFFLElBQUksRUFBRSxXQUFXO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNLFNBQVM7WUFBQSxDQUFFO1lBQ2xFO2dCQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUFFLElBQUksRUFBRSxNQUFNO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNLFdBQVc7WUFBQSxDQUFFO1lBQy9EO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxzQkFBc0I7Z0JBQzVCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUscUJBQXFCO2dCQUMzQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLEVBQUU7Z0JBQUUsSUFBSSxFQUFFLFdBQVc7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsY0FBYztnQkFDcEIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sZ0JBQWdCO1lBQzFCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFNLGdCQUFnQjtZQUMxQjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxvQkFBb0I7Z0JBQzFCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGdCQUFnQixHQUFHLElBQUkscUJBQXFCLEVBQUU7QUFDM0Q7QUFDQSxNQUFNLHNCQUF1QixTQUFRLDZEQUE4QjtJQUNqRTtRQUNFLEtBQUssQ0FBQywyQ0FBMkMsRUFBRTtZQUNqRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTUEsT0FBSztZQUFBLENBQUU7U0FDMUQsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxpQkFBaUIsR0FBRyxJQUFJLHNCQUFzQixFQUFFO0FBQzdEO0FBQ0EsTUFBTSxzQkFBdUIsU0FBUSw2REFBOEI7SUFDakU7UUFDRSxLQUFLLENBQUMsMkNBQTJDLEVBQUU7WUFDakQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsV0FBVztnQkFDakIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQUMsa0NBQWtDO3dCQUFFLFFBQVE7d0JBQUUsWUFBWTtxQkFBQztZQUN0RTtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxzQkFBc0IsRUFBRTtBQUM3RDtBQUNBLE1BQU0sdUJBQXdCLFNBQVEsNkRBQStCO0lBQ25FO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QyxFQUFFO1lBQ2xEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNQSxPQUFLO1lBQUEsQ0FBRTtTQUMxRCxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGtCQUFrQixHQUFHLElBQUksdUJBQXVCLEVBQUU7QUFDL0Q7QUFDQSxNQUFNLDRCQUE2QixTQUFRLDZEQUFvQztJQUM3RTtRQUNFLEtBQUssQ0FBQyxpREFBaUQsRUFBRTtZQUN2RDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxjQUFjO1lBQ3hCO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSx1QkFBdUIsR0FBRyxJQUFJLDRCQUE0QixFQUFFO0FBQ3pFO0FBQ0EsTUFBTSw2QkFBOEIsU0FBUSw2REFBcUM7SUFDL0U7UUFDRSxLQUFLLENBQUMsa0RBQWtELEVBQUU7WUFDeEQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU1BLE9BQUs7WUFBQSxDQUFFO1NBQzFELENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sd0JBQXdCLEdBQUcsSUFBSSw2QkFBNkIsRUFBRTtBQUMzRTtBQUNBLE1BQU0sbUJBQW9CLFNBQVEsNkRBQTJCO0lBQzNEO1FBQ0UsS0FBSyxDQUFDLHdDQUF3QyxFQUFFO1lBQzlDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxZQUFZO2dCQUNsQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFDUCxtQ0FBbUM7d0JBQ25DLFNBQVM7d0JBQ1QsYUFBYTtxQkFDZDtZQUNGO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtTQUNuRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGNBQWMsR0FBRyxJQUFJLG1CQUFtQixFQUFFO0FBQ3ZEO0FBQ0EsTUFBTSxxQkFBc0IsU0FBUSw2REFBNkI7SUFDL0Q7UUFDRSxLQUFLLENBQUMsMENBQTBDLEVBQUU7WUFDaEQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtTQUNuRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDNkIsSUFBSSxxQkFBcUI7QUFDekQ7QUFDQSxNQUFNLHFCQUFzQixTQUFRLDZEQUE2QjtJQUMvRDtRQUNFLEtBQUssQ0FBQywwQ0FBMEMsRUFBRTtZQUNoRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXNCO1NBQ25FLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUM2QixJQUFJLHFCQUFxQjtBQUN6RDtBQUNBLE1BQU0sK0JBQWdDLFNBQVEsNkRBQXVDO0lBQ25GO1FBQ0UsS0FBSyxDQUFDLG9EQUFvRCxFQUFFO1lBQzFEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxZQUFZO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDekU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sd0JBQXdCO1lBQ2xDO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSwwQkFBMEIsR0FBRyxJQUFJLCtCQUErQixFQUFFO0FBQy9FO0FBQ0EsTUFBTSxnQ0FBaUMsU0FBUSw2REFBd0M7SUFDckY7UUFDRSxLQUFLLENBQUMscURBQXFELEVBQUU7WUFDM0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU1BLE9BQUs7WUFBQSxDQUFFO1NBQzFELENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sMkJBQTJCLEdBQ3RDLElBQUksZ0NBQWdDLEVBQUU7QUFDeEM7QUFDQSxNQUFNLDZCQUE4QixTQUFRLDZEQUFxQztJQUMvRTtRQUNFLEtBQUssQ0FBQyxrREFBa0QsRUFBRTtZQUN4RDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3RFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxZQUFZO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDekU7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsV0FBVztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxjQUFjO1lBQUEsQ0FBRTtTQUN2RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLHdCQUF3QixHQUFHLElBQUksNkJBQTZCLEVBQUU7QUFDM0U7QUFDQSxNQUFNLHNCQUF1QixTQUFRLDZEQUE4QjtJQUNqRTtRQUNFLEtBQUssQ0FBQywyQ0FBMkMsRUFBRTtZQUNqRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsV0FBVztnQkFDakIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQUMsa0NBQWtDO3dCQUFFLFFBQVE7d0JBQUUsWUFBWTtxQkFBQztZQUN0RTtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxLQUFLO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDbEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtTQUMxRSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGlCQUFpQixHQUFHLElBQUksc0JBQXNCLEVBQUU7QUFDN0Q7QUFDQSxNQUFNLHVCQUF3QixTQUFRLDZEQUErQjtJQUNuRTtRQUNFLEtBQUssQ0FBQyw0Q0FBNEMsRUFBRTtZQUNsRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTUEsT0FBSztZQUFBLENBQUU7U0FDMUQsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxrQkFBa0IsR0FBRyxJQUFJLHVCQUF1QixFQUFFO0FBQy9EO0FBQ0EsTUFBTSx1QkFBd0IsU0FBUSw2REFBK0I7SUFDbkU7UUFDRSxLQUFLLENBQUMsNENBQTRDLEVBQUU7WUFDbEQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU1BLE9BQUs7WUFBQSxDQUFFO1NBQzFELENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sa0JBQWtCLEdBQUcsSUFBSSx1QkFBdUIsRUFBRTtBQUMvRDtBQUNBLE1BQU0sd0JBQXlCLFNBQVEsNkRBQWdDO0lBQ3JFO1FBQ0UsS0FBSyxDQUFDLDZDQUE2QyxFQUFFO1lBQ25EO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxLQUFLO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDbEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxTQUFTO1lBQ25CO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxtQkFBbUIsR0FBRyxJQUFJLHdCQUF3QixFQUFFO0FBQ2pFO0FBQ0EsTUFBTSx5QkFBMEIsU0FBUSw2REFBaUM7SUFDdkU7UUFDRSxLQUFLLENBQUMsOENBQThDLEVBQUU7WUFDcEQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLEtBQUs7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUNsRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxhQUFhO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBc0I7WUFDeEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU1BLE9BQUs7WUFBQSxDQUFFO1NBQzFELENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSx5QkFBeUIsRUFBRTtBQUNuRTs7Q0FFRyxHQUNJLE1BQU0sWUFBWSxHQUFHLElBQUksaUVBQVcsQ0FDekMsc0NBQXNDLEVBQ3RDO0lBQ0U7UUFDRSxJQUFJLEVBQUUsY0FBYztRQUNwQixPQUFPLEVBQUUsRUFBRTtRQUNYLENBQUMsRUFBRSxtQkFBbUI7UUFDdEIsQ0FBQyxFQUFFLG9CQUFvQjtJQUN4QjtJQUNEO1FBQ0UsSUFBSSxFQUFFLFlBQVk7UUFDbEIsT0FBTyxFQUFFLEVBQUU7UUFDWCxDQUFDLEVBQUUsaUJBQWlCO1FBQ3BCLENBQUMsRUFBRSxrQkFBa0I7SUFDdEI7SUFDRDtRQUFFLElBQUksRUFBRSxZQUFZO1FBQUUsT0FBTyxFQUFFLEVBQUU7UUFBRSxDQUFDLEVBQUVGLFlBQVU7UUFBRSxDQUFDLEVBQUUsa0JBQWtCO0lBQUEsQ0FBRTtJQUN6RTtRQUNFLElBQUksRUFBRSxxQkFBcUI7UUFDM0IsT0FBTyxFQUFFLEVBQUU7UUFDWCxDQUFDLEVBQUUsMEJBQTBCO1FBQzdCLENBQUMsRUFBRSwyQkFBMkI7SUFDL0I7SUFDRDtRQUNFLElBQUksRUFBRSxrQkFBa0I7UUFDeEIsT0FBTyxFQUFFLEVBQUU7UUFDWCxDQUFDLEVBQUUsdUJBQXVCO1FBQzFCLENBQUMsRUFBRSx3QkFBd0I7SUFDNUI7SUFDRDtRQUNFLElBQUksRUFBRSxZQUFZO1FBQ2xCLE9BQU8sRUFBRSxFQUFFO1FBQ1gsQ0FBQyxFQUFFLGlCQUFpQjtRQUNwQixDQUFDLEVBQUUsa0JBQWtCO0lBQ3RCO0lBQ0Q7UUFDRSxJQUFJLEVBQUUsV0FBVztRQUNqQixPQUFPLEVBQUUsRUFBRTtRQUNYLENBQUMsRUFBRSxnQkFBZ0I7UUFDbkIsQ0FBQyxFQUFFLGlCQUFpQjtJQUNyQjtJQUNEO1FBQ0UsSUFBSSxFQUFFLHdCQUF3QjtRQUM5QixPQUFPLEVBQUUsRUFBRTtRQUNYLENBQUMsRUFBRSw2QkFBNkI7UUFDaEMsQ0FBQyxFQUFFLDhCQUE4QjtJQUNsQztJQUNEO1FBQ0UsSUFBSSxFQUFFLHVCQUF1QjtRQUM3QixPQUFPLEVBQUUsRUFBRTtRQUNYLENBQUMsRUFBRSw0QkFBNEI7UUFDL0IsQ0FBQyxFQUFFLDZCQUE2QjtJQUNqQztDQUNGLENBQ0Y7QUNwNEJEO0FBQ0E7QUFDQTtBQXU1QkE7QUFDQSxNQUFNLGFBQWMsU0FBUSw2REFBcUI7SUFDL0M7UUFDRSxLQUFLLENBQUMsaUNBQWlDLEVBQUU7WUFDdkM7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGtCQUFrQjtnQkFDeEIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLGVBQWU7WUFDekI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsa0JBQWtCO2dCQUN4QixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsY0FBYztnQkFDckIsQ0FBQyxFQUFFLElBQU0sZUFBZTtZQUN6QjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSw0QkFBNEI7Z0JBQ2xDLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSx3QkFBd0I7WUFDbEM7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUscUJBQXFCO2dCQUMzQixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsY0FBYztnQkFDckIsQ0FBQyxFQUFFLElBQU0saUJBQWlCO1lBQzNCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGFBQWE7Z0JBQ25CLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTUssWUFBVztZQUNyQjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSx3QkFBd0I7Z0JBQzlCLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxvQkFBb0I7WUFDOUI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsb0JBQW9CO2dCQUMxQixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsY0FBYztnQkFDckIsQ0FBQyxFQUFFLElBQU0saUJBQWlCO1lBQzNCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLGtCQUFrQjtnQkFDeEIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLGVBQWU7WUFDekI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsMEJBQTBCO2dCQUNoQyxJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsY0FBYztnQkFDckIsQ0FBQyxFQUFFLElBQU0sc0JBQXNCO1lBQ2hDO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLGVBQWU7Z0JBQ3JCLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxZQUFZO1lBQ3RCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLHVCQUF1QjtnQkFDN0IsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLG1CQUFtQjtZQUM3QjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxpQkFBaUI7Z0JBQ3ZCLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxjQUFjO1lBQ3hCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLGdCQUFnQjtZQUMxQjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxPQUFPO2dCQUNiLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTUgsT0FBSztZQUNmO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLHFCQUFxQjtnQkFDM0IsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLGlCQUFpQjtZQUMzQjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxTQUFTO2dCQUNmLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxNQUFNO1lBQ2hCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLGFBQWE7Z0JBQ25CLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxVQUFVO1lBQ3BCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxXQUFXO1lBQ3JCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSxTQUFTO1lBQ25CO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLHFCQUFxQjtnQkFDM0IsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLGtCQUFrQjtZQUM1QjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSxnQ0FBZ0M7Z0JBQ3RDLElBQUksRUFBRSxTQUFTO2dCQUNmLEtBQUssRUFBRSxjQUFjO2dCQUNyQixDQUFDLEVBQUUsSUFBTSw0QkFBNEI7WUFDdEM7WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsd0JBQXdCO2dCQUM5QixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsY0FBYztnQkFDckIsQ0FBQyxFQUFFLElBQU0sb0JBQW9CO1lBQzlCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLDRCQUE0QjtnQkFDbEMsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLENBQUMsRUFBRSxJQUFNLHdCQUF3QjtZQUNsQztTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sUUFBUSxHQUFHLElBQUksYUFBYSxFQUFFO0FBQzNDO0FBQ0EsTUFBTSx5QkFBMEIsU0FBUSw2REFBaUM7SUFDdkU7UUFDRSxLQUFLLENBQUMsNkNBQTZDLEVBQUU7WUFDbkQ7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGlCQUFpQjtnQkFDdkIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sYUFBYTtZQUN2QjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDdEUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxvQkFBb0IsR0FBRyxJQUFJLHlCQUF5QixFQUFFO0FBQ25FO0FBQ0EsTUFBTSxpQ0FBa0MsU0FBUSw2REFBeUM7SUFDdkY7UUFDRSxLQUFLLENBQUMscURBQXFELEVBQUUsRUFBRSxDQUFDOztBQUVuRTtBQUNEOztDQUVHLEdBQ0ksTUFBTSw0QkFBNEIsR0FDdkMsSUFBSSxpQ0FBaUMsRUFBRTtBQUN6QztBQUNBLE1BQU0saUNBQWtDLFNBQVEsNkRBQXlDO0lBQ3ZGO1FBQ0UsS0FBSyxDQUFDLHFEQUFxRCxFQUFFLEVBQUUsQ0FBQzs7QUFFbkU7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sNEJBQTRCLEdBQ3ZDLElBQUksaUNBQWlDLEVBQUU7QUFDekM7QUFDQSxNQUFNLGdCQUFpQixTQUFRLDZEQUF3QjtJQUNyRDtRQUNFLEtBQUssQ0FBQyxvQ0FBb0MsRUFBRTtZQUMxQztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsTUFBTTtnQkFDWixJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxHQUFHO1lBQ2I7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFdBQVcsR0FBRyxJQUFJLGdCQUFnQixFQUFFO0FBQ2pEO0FBQ0EsTUFBTSxVQUFXLFNBQVEsNkRBQWtCO0lBQ3pDO1FBQ0UsS0FBSyxDQUFDLDhCQUE4QixFQUFFO1lBQ3BDO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNSSxPQUFNO1lBQUEsQ0FBRTtZQUMxRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsb0JBQW9CO2dCQUMxQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFDUCxvREFBb0Q7d0JBQ3BELDBCQUEwQjt3QkFDMUIsK0JBQStCO3FCQUNoQztZQUNGO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTUosT0FBSyxHQUFHLElBQUksVUFBVSxFQUFFO0FBQ3JDO0FBQ0EsTUFBTSxlQUFnQixTQUFRLDZEQUF1QjtJQUNuRDtRQUNFLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRTtZQUN6QztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsV0FBVztnQkFDakIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQUMsa0NBQWtDO3dCQUFFLFFBQVE7d0JBQUUsWUFBWTtxQkFBQztZQUN0RTtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxlQUFlO2dCQUNyQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxVQUFVLEdBQUcsSUFBSSxlQUFlLEVBQUU7QUFDL0M7QUFDQSxNQUFNLGVBQWdCLFNBQVEsNkRBQXVCO0lBQ25EO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQyxFQUFFO1lBQ3pDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxXQUFXO2dCQUNqQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFBQyxrQ0FBa0M7d0JBQUUsUUFBUTt3QkFBRSxZQUFZO3FCQUFDO1lBQ3RFO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxVQUFVLEdBQUcsSUFBSSxlQUFlLEVBQUU7QUFDL0M7QUFDQSxNQUFNLGVBQWdCLFNBQVEsNkRBQXVCO0lBQ25EO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQyxFQUFFO1lBQ3pDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxjQUFjO2dCQUNwQixJQUFJLEVBQUUsU0FBUztnQkFDZixLQUFLLEVBQUUsZ0JBQWdCO2dCQUN2QixDQUFDLEVBQUUsSUFBTSxXQUFXO1lBQ3JCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLHNCQUFzQjtnQkFDNUIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGdCQUFnQjtnQkFDdkIsQ0FBQyxFQUFFLElBQU0sa0JBQWtCO1lBQzVCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG9CQUFvQjtnQkFDMUIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsS0FBSyxFQUFFLGdCQUFnQjtnQkFDdkIsQ0FBQyxFQUFFLElBQU0sZ0JBQWdCO1lBQzFCO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxVQUFVLEdBQUcsSUFBSSxlQUFlLEVBQUU7QUFDL0M7QUFDQSxNQUFNLHFCQUFzQixTQUFRLDZEQUE2QjtJQUMvRDtRQUNFLEtBQUssQ0FBQyx5Q0FBeUMsRUFBRTtZQUMvQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDdEUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLHFCQUFxQixFQUFFO0FBQzNEO0FBQ0EsTUFBTSx1QkFBd0IsU0FBUSw2REFBK0I7SUFDbkU7UUFDRSxLQUFLLENBQUMsMkNBQTJDLEVBQUUsRUFBRSxDQUFDOztBQUV6RDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxrQkFBa0IsR0FBRyxJQUFJLHVCQUF1QixFQUFFO0FBQy9EO0FBQ0EsTUFBTSx3QkFBeUIsU0FBUSw2REFBZ0M7SUFDckU7UUFDRSxLQUFLLENBQUMsNENBQTRDLEVBQUU7WUFDbEQ7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsQ0FBQyxFQUFFLElBQU0sZ0JBQWdCO1lBQzFCO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxtQkFBbUIsR0FBRyxJQUFJLHdCQUF3QixFQUFFO0FBQ2pFO0FBQ0EsTUFBTSxtQkFBb0IsU0FBUSw2REFBMkI7SUFDM0Q7UUFDRSxLQUFLLENBQUMsdUNBQXVDLEVBQUU7WUFDN0M7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN0RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxNQUFNO2dCQUNaLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsYUFBYTtnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxXQUFXO1lBQUEsQ0FBRTtTQUN0RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGNBQWMsR0FBRyxJQUFJLG1CQUFtQixFQUFFO0FBQ3ZEO0FBQ0EsTUFBTSxxQkFBc0IsU0FBUSw2REFBNkI7SUFDL0Q7UUFDRSxLQUFLLENBQUMseUNBQXlDLEVBQUU7WUFDL0M7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN0RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxNQUFNO2dCQUNaLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsT0FBTztnQkFDYixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFDUCw4Q0FBOEM7d0JBQzlDLG9CQUFvQjt3QkFDcEIseUJBQXlCO3FCQUMxQjtZQUNGO1lBQ0Q7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGFBQWE7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sV0FBVztZQUFBLENBQUU7U0FDdEUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLHFCQUFxQixFQUFFO0FBQzNEO0FBQ0EsTUFBTSxnQkFBaUIsU0FBUSw2REFBd0I7SUFDckQ7UUFDRSxLQUFLLENBQUMsb0NBQW9DLEVBQUU7WUFDMUM7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUNwRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxnQkFBZ0I7Z0JBQ3RCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxnQkFBZ0I7Z0JBQ3RCLElBQUksRUFBRSxTQUFTO2dCQUNmLENBQUMsRUFBRSxJQUFNLGFBQWE7WUFDdkI7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsV0FBVztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxTQUFTO1lBQUEsQ0FBRTtZQUNqRTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZ0JBQWdCO2dCQUN0QixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsQ0FBQyxFQUFFLElBQU0sZ0JBQWdCO1lBQzFCO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLDJCQUEyQjtnQkFDakMsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sYUFBYTtZQUN2QjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxFQUFFO2dCQUNOLElBQUksRUFBRSw2QkFBNkI7Z0JBQ25DLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFNLGVBQWU7WUFDekI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsY0FBYztnQkFDcEIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU07d0JBQ1AsMENBQTBDO3dCQUMxQyxnQkFBZ0I7d0JBQ2hCLG9CQUFvQjtxQkFDckI7WUFDRjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sV0FBVyxHQUFHLElBQUksZ0JBQWdCLEVBQUU7QUFDakQ7QUFDQSxNQUFNLHFCQUFzQixTQUFRLDZEQUE2QjtJQUMvRDtRQUNFLEtBQUssQ0FBQyx5Q0FBeUMsRUFBRTtZQUMvQztnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsVUFBVTtnQkFDaEIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1Asb0RBQW9EO3dCQUNwRCwwQkFBMEI7d0JBQzFCLCtCQUErQjtxQkFDaEM7WUFDRjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxrQkFBa0I7Z0JBQ3hCLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFNLFNBQVM7WUFDbkI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sd0JBQXdCO1lBQ2xDO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLEVBQUU7WUFDTjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLHFCQUFxQjtnQkFDM0IsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLENBQUM7WUFDTDtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDdEUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLHFCQUFxQixFQUFFO0FBQzNEO0FBQ0EsTUFBTSxjQUFlLFNBQVEsNkRBQXNCO0lBQ2pEO1FBQ0UsS0FBSyxDQUFDLGtDQUFrQyxFQUFFO1lBQ3hDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1lBQ0Q7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGtCQUFrQjtnQkFDeEIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sU0FBUztZQUNuQjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxlQUFlO2dCQUNyQixJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSx3QkFBd0I7WUFDbEM7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFNBQVMsR0FBRyxJQUFJLGNBQWMsRUFBRTtBQUM3QztBQUNBLE1BQU0saUJBQWtCLFNBQVEsNkRBQXlCO0lBQ3ZEO1FBQ0UsS0FBSyxDQUFDLHFDQUFxQyxFQUFFO1lBQzNDO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxZQUFZO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLENBQUMsRUFBRSxJQUFNSCxXQUFTO1lBQUEsQ0FBRTtZQUNsRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsYUFBYTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXNCO1lBQ3hFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxpQ0FBaUM7Z0JBQ3ZDLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsaUJBQWlCO2dCQUN2QixJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxhQUFhO1lBQ3ZCO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxZQUFZLEdBQUcsSUFBSSxpQkFBaUIsRUFBRTtBQUNuRDtBQUNBLE1BQU0sc0JBQXVCLFNBQVEsNkRBQThCO0lBQ2pFO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQyxFQUFFO1lBQ2hEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxVQUFVO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdkU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGFBQWE7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sV0FBVztZQUFBLENBQUU7U0FDdEUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxpQkFBaUIsR0FBRyxJQUFJLHNCQUFzQixFQUFFO0FBQzdEO0FBQ0EsTUFBTSxvQkFBcUIsU0FBUSw2REFBNEI7SUFDN0Q7UUFDRSxLQUFLLENBQUMsd0NBQXdDLEVBQUU7WUFDOUM7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFVBQVU7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN2RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsYUFBYTtnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxXQUFXO1lBQUEsQ0FBRTtTQUN0RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGVBQWUsR0FBRyxJQUFJLG9CQUFvQixFQUFFO0FBQ3pEO0FBQ0EsTUFBTSx1QkFBd0IsU0FBUSw2REFBK0I7SUFDbkU7UUFDRSxLQUFLLENBQUMsMkNBQTJDLEVBQUU7WUFDakQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFVBQVU7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN2RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsYUFBYTtnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxXQUFXO1lBQUEsQ0FBRTtTQUN0RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGtCQUFrQixHQUFHLElBQUksdUJBQXVCLEVBQUU7QUFDL0Q7QUFDQSxNQUFNLG9CQUFxQixTQUFRLDZEQUE0QjtJQUM3RDtRQUNFLEtBQUssQ0FBQyx3Q0FBd0MsRUFBRTtZQUM5QztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsYUFBYTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXNCO1lBQ3hFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxLQUFLO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDbkUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxlQUFlLEdBQUcsSUFBSSxvQkFBb0IsRUFBRTtBQUN6RDtBQUNBLE1BQU0sb0JBQXFCLFNBQVEsNkRBQTRCO0lBQzdEO1FBQ0UsS0FBSyxDQUFDLHdDQUF3QyxFQUFFO1lBQzlDO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxLQUFLO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7U0FDbkUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxlQUFlLEdBQUcsSUFBSSxvQkFBb0IsRUFBRTtBQUN6RDtBQUNBLE1BQU0sNkJBQThCLFNBQVEsNkRBQXFDO0lBQy9FO1FBQ0UsS0FBSyxDQUFDLGlEQUFpRCxFQUFFO1lBQ3ZEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSw0QkFBNEI7Z0JBQ2xDLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFNLHFCQUFxQjtZQUMvQjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sd0JBQXdCLEdBQUcsSUFBSSw2QkFBNkIsRUFBRTtBQUMzRTtBQUNBLE1BQU0sMEJBQTJCLFNBQVEsNkRBQWtDO0lBQ3pFO1FBQ0UsS0FBSyxDQUFDLDhDQUE4QyxFQUFFO1lBQ3BEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsb0JBQW9CO2dCQUMxQixJQUFJLEVBQUUsTUFBTTtnQkFDWixDQUFDLEVBQUUsSUFBTTt3QkFDUCwyQ0FBMkM7d0JBQzNDLGlCQUFpQjt3QkFDakIscUJBQXFCO3FCQUN0QjtZQUNGO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxxQkFBcUIsR0FBRyxJQUFJLDBCQUEwQixFQUFFO0FBQ3JFO0FBQ0EsTUFBTSwyQkFBNEIsU0FBUSw2REFBbUM7SUFDM0U7UUFDRSxLQUFLLENBQUMsK0NBQStDLEVBQUU7WUFDckQ7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN0RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1NBQzFFLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sc0JBQXNCLEdBQUcsSUFBSSwyQkFBMkIsRUFBRTtBQUN2RTtBQUNBLE1BQU0sZUFBZ0IsU0FBUSw2REFBdUI7SUFDbkQ7UUFDRSxLQUFLLENBQUMsbUNBQW1DLEVBQUU7WUFDekM7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN0RTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsWUFBWTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXdCO1lBQ3pFO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxPQUFPO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBdUI7WUFDbkU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGFBQWE7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtTQUN6RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFVBQVUsR0FBRyxJQUFJLGVBQWUsRUFBRTtBQUMvQztBQUNBLE1BQU0sc0JBQXVCLFNBQVEsNkRBQThCO0lBQ2pFO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQyxFQUFFO1lBQ2hEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxjQUFjO2dCQUNwQixJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxVQUFVO1lBQ3BCO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxpQkFBaUIsR0FBRyxJQUFJLHNCQUFzQixFQUFFO0FBQzdEO0FBQ0EsTUFBTSxnQkFBaUIsU0FBUSw2REFBd0I7SUFDckQ7UUFDRSxLQUFLLENBQUMsb0NBQW9DLEVBQUU7WUFDMUM7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLE9BQU87Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sS0FBSztZQUFBLENBQUU7WUFDekQ7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLG1DQUFtQzt3QkFDbkMsU0FBUzt3QkFDVCxhQUFhO3FCQUNkO1lBQ0Y7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsbUJBQW1CO2dCQUN6QixJQUFJLEVBQUUsUUFBUTtnQkFDZCxDQUFDLEVBQUUsQ0FBQztZQUNMO1NBQ0YsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxXQUFXLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRTtBQUNqRDtBQUNBLE1BQU0sc0JBQXVCLFNBQVEsNkRBQThCO0lBQ2pFO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQyxFQUFFO1lBQ2hEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxNQUFNO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDbkU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUFzQjtZQUNuRTtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsYUFBYTtnQkFBRSxJQUFJLEVBQUUsUUFBUTtnQkFBRSxDQUFDLEVBQUUsQ0FBQztZQUFBLENBQXVCO1lBQ3pFO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSwwQkFBMEI7Z0JBQ2hDLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7WUFDRDtnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxLQUFLO1lBQUEsQ0FBRTtZQUN6RDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsQ0FBQyxFQUFFLEVBQUU7WUFDTjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxrQkFBa0I7Z0JBQ3hCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGlCQUFpQixHQUFHLElBQUksc0JBQXNCLEVBQUU7QUFDN0Q7QUFDQSxNQUFNLGdCQUFpQixTQUFRLDZEQUF3QjtJQUNyRDtRQUNFLEtBQUssQ0FBQyxvQ0FBb0MsRUFBRTtZQUMxQztnQkFBRSxFQUFFLEVBQUUsQ0FBQztnQkFBRSxJQUFJLEVBQUUsT0FBTztnQkFBRSxJQUFJLEVBQUUsU0FBUztnQkFBRSxDQUFDLEVBQUUsSUFBTSxLQUFLO1lBQUEsQ0FBRTtZQUN6RDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxJQUFJLEVBQUUsU0FBUztnQkFDZixNQUFNLEVBQUUsQ0FBQztnQkFDVCxDQUFDLEVBQUUsSUFBTSxpQkFBaUI7WUFDM0I7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsWUFBWTtnQkFDbEIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1AsbUNBQW1DO3dCQUNuQyxTQUFTO3dCQUNULGFBQWE7cUJBQ2Q7WUFDRjtZQUNEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxtQkFBbUI7Z0JBQ3pCLElBQUksRUFBRSxRQUFRO2dCQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0w7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFdBQVcsR0FBRyxJQUFJLGdCQUFnQixFQUFFO0FBQ2pEO0FBQ0EsTUFBTSx5QkFBMEIsU0FBUSw2REFBaUM7SUFDdkU7UUFDRSxLQUFLLENBQUMsNkNBQTZDLEVBQUU7WUFDbkQ7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLGVBQWU7Z0JBQ3JCLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFNLFdBQVc7WUFDckI7WUFDRDtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsZUFBZTtnQkFDckIsSUFBSSxFQUFFLFNBQVM7Z0JBQ2YsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsQ0FBQyxFQUFFLElBQU0sV0FBVztZQUNyQjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSx5QkFBeUIsRUFBRTtBQUNuRTtBQUNBLE1BQU0sc0JBQXVCLFNBQVEsNkRBQThCO0lBQ2pFO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQyxFQUFFO1lBQ2hEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxnQkFBZ0I7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsQ0FBQyxFQUFFLElBQU0sVUFBVTtZQUFBLENBQUU7WUFDdkU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFNBQVM7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtTQUN2RSxDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLGlCQUFpQixHQUFHLElBQUksc0JBQXNCLEVBQUU7QUFDN0Q7QUFDQSxNQUFNLFdBQVksU0FBUSw2REFBbUI7SUFDM0M7UUFDRSxLQUFLLENBQUMsK0JBQStCLEVBQUU7WUFDckM7Z0JBQ0UsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1Asc0NBQXNDO3dCQUN0QyxZQUFZO3dCQUNaLGlCQUFpQjtxQkFDbEI7WUFDRjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sTUFBTSxHQUFHLElBQUksV0FBVyxFQUFFO0FBQ3ZDO0FBQ0EsTUFBTSxjQUFlLFNBQVEsNkRBQXNCO0lBQ2pEO1FBQ0UsS0FBSyxDQUFDLGtDQUFrQyxFQUFFO1lBQ3hDO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxRQUFRO2dCQUNkLElBQUksRUFBRSxNQUFNO2dCQUNaLENBQUMsRUFBRSxJQUFNO3dCQUNQLHlDQUF5Qzt3QkFDekMsZUFBZTt3QkFDZixvQkFBb0I7cUJBQ3JCO1lBQ0Y7U0FDRixDQUFDOztBQUVMO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNLFNBQVMsR0FBRyxJQUFJLGNBQWMsRUFBRTtBQUM3QztBQUNBLE1BQU0sNkJBQThCLFNBQVEsNkRBQXFDO0lBQy9FO1FBQ0UsS0FBSyxDQUFDLGlEQUFpRCxFQUFFO1lBQ3ZEO2dCQUNFLEVBQUUsRUFBRSxDQUFDO2dCQUNMLElBQUksRUFBRSxzQkFBc0I7Z0JBQzVCLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFNLGlCQUFpQjtZQUMzQjtTQUNGLENBQUM7O0FBRUw7QUFDRDs7Q0FFRyxHQUNJLE1BQU0sd0JBQXdCLEdBQUcsSUFBSSw2QkFBNkIsRUFBRTtBQUMzRTtBQUNBLE1BQU0sc0JBQXVCLFNBQVEsNkRBQThCO0lBQ2pFO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQyxFQUFFO1lBQ2hEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxTQUFTO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBd0I7WUFDdEU7Z0JBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsSUFBSSxFQUFFLFlBQVk7Z0JBQUUsSUFBSSxFQUFFLFFBQVE7Z0JBQUUsQ0FBQyxFQUFFLENBQUM7WUFBQSxDQUF3QjtZQUN6RTtnQkFDRSxFQUFFLEVBQUUsQ0FBQztnQkFDTCxJQUFJLEVBQUUsWUFBWTtnQkFDbEIsSUFBSSxFQUFFLE1BQU07Z0JBQ1osQ0FBQyxFQUFFLElBQU07d0JBQ1AsbUNBQW1DO3dCQUNuQyxTQUFTO3dCQUNULGFBQWE7cUJBQ2Q7WUFDRjtZQUNEO2dCQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLElBQUksRUFBRSxRQUFRO2dCQUFFLENBQUMsRUFBRSxDQUFDO1lBQUEsQ0FBc0I7U0FDcEUsQ0FBQzs7QUFFTDtBQUNEOztDQUVHLEdBQ0ksTUFBTSxpQkFBaUIsR0FBRyxJQUFJLHNCQUFzQixFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQzkwRGpEO0NBQVosU0FBWSxlQUFlO0lBQ3pCLHNDQUFtQjtJQUNuQixzQ0FBbUI7SUFDbkIsMENBQXVCO0NBQ3pCLENBQUMsQ0FKVyxlQUFlLEtBQWYsZUFBZSxHQUkxQjtJQUVXO0NBQVosU0FBWSxZQUFZO0lBQ3RCLDBEQUFjO0lBQ2QsaURBQVU7SUFDVixxREFBWTtJQUNaLGtEQUFXO0NBQ2IsQ0FBQyxDQUxXLFlBQVksS0FBWixZQUFZLEdBS3ZCO0FDNEVEOztDQUVHLFNBQ1Usa0JBQWtCO0lBSTdCLFlBQTZCLFVBQXdCO1FBQXhCLElBQVUsY0FBVixVQUFVO1FBSHZDLGFBQVEsR0FBRyxZQUFZLENBQUMsUUFBUTtRQUNoQyxZQUFPLEdBQUcsWUFBWSxDQUFDLE9BQU87UUFDOUIsWUFBTyxHQUFHLFlBQVksQ0FBQyxPQUFPOztJQUU5Qjs7OztLQUlHLEdBQ0gsWUFBWSxDQUNWLEtBQTBCLEVBQzFCLE9BQW9CO1FBRXBCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQzVCLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUM7UUFDN0MsT0FBTyx3RUFBYyxDQUNuQixPQUFPLEVBQ1AsSUFBSSxDQUFDLFVBQVUsRUFDZixNQUFNLEVBQ04sR0FBRyxFQUNILEtBQUssQ0FDTjs7SUFFSDs7OztLQUlHLEdBQ0gsVUFBVSxDQUNSLEtBQXdCLEVBQ3hCLE9BQW9CO1FBRXBCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQzVCLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUM7UUFDN0MsT0FBTyx3RUFBYyxDQUNuQixPQUFPLEVBQ1AsSUFBSSxDQUFDLFVBQVUsRUFDZixNQUFNLEVBQ04sR0FBRyxFQUNILEtBQUssQ0FDTjs7SUFFSDs7OztLQUlHLEdBQ0gsVUFBVSxDQUNSLEtBQWlCLEVBQ2pCLE9BQW9CO1FBRXBCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQzVCLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUM7UUFDN0MsT0FBTyx3RUFBYyxDQUNuQixPQUFPLEVBQ1AsSUFBSSxDQUFDLFVBQVUsRUFDZixNQUFNLEVBQ04sR0FBRyxFQUNILEtBQUssQ0FDTjs7SUFFSDs7Ozs7S0FLRyxHQUNILG1CQUFtQixDQUNqQixLQUFpQyxFQUNqQyxPQUFvQjtRQUVwQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUM1QixHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDO1FBQzdDLE9BQU8sd0VBQWMsQ0FHbkIsT0FBTyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUM7O0lBRWpEOztLQUVHLEdBQ0gsZ0JBQWdCLENBQ2QsS0FBOEIsRUFDOUIsT0FBb0I7UUFFcEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQztRQUM3QyxPQUFPLHdFQUFjLENBQ25CLE9BQU8sRUFDUCxJQUFJLENBQUMsVUFBVSxFQUNmLE1BQU0sRUFDTixHQUFHLEVBQ0gsS0FBSyxDQUNOOztJQUVIOztLQUVHLEdBQ0gsVUFBVSxDQUNSLEtBQXdCLEVBQ3hCLE9BQW9CO1FBRXBCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQzVCLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUM7UUFDN0MsT0FBTyx3RUFBYyxDQUNuQixPQUFPLEVBQ1AsSUFBSSxDQUFDLFVBQVUsRUFDZixNQUFNLEVBQ04sR0FBRyxFQUNILEtBQUssQ0FDTjs7SUFFSDs7S0FFRyxHQUNILFNBQVMsQ0FDUCxLQUF1QixFQUN2QixPQUFvQjtRQUVwQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUM1QixHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDO1FBQzdDLE9BQU8sd0VBQWMsQ0FDbkIsT0FBTyxFQUNQLElBQUksQ0FBQyxVQUFVLEVBQ2YsTUFBTSxFQUNOLEdBQUcsRUFDSCxLQUFLLENBQ047O0lBRUg7O0tBRUcsR0FDSCxzQkFBc0IsQ0FDcEIsS0FBb0MsRUFDcEMsT0FBb0I7UUFFcEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQztRQUM3QyxPQUFPLHdFQUFjLENBR25CLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDOztJQUVqRDs7S0FFRyxHQUNILHFCQUFxQixDQUNuQixLQUFtQyxFQUNuQyxPQUFvQjtRQUVwQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUM1QixHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDO1FBQzdDLE9BQU8sd0VBQWMsQ0FHbkIsT0FBTyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUM7O0FBRWxEO0FDOVBELE1BQU0sY0FBYyxHQUFpQjtJQUNuQyxPQUFPLEVBQUUsRUFBRTtJQUNYLFFBQVEsRUFBRSxJQUFJO0lBQ2QsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJO0lBQ2pCLFdBQVcsRUFBRTtRQUNYLG1CQUFtQixFQUFFLElBQUk7SUFDMUI7Q0FDRjtBQUVNLE1BQU0sV0FBVyxHQUFHLENBQ3pCLE9BQStCO0lBRS9CLE9BQU87UUFDTCxjQUFjLEVBQ1osSUFBaUIsRUFDakIsTUFBa0IsRUFDbEIsS0FBYSxFQUNiLE9BQW1CO1lBRW5CLE9BQU8sQ0FBQyxJQUFJLEdBQUc7Z0JBQUUsR0FBRyxPQUFPLENBQUMsSUFBSTtnQkFBRSxHQUFHLE9BQU87WUFBQSxDQUFFO1lBQzlDLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1NBQ3BDO0tBQ0Y7QUFDSCxDQUFDO0FBRU0sTUFBTSxpQkFBaUIsR0FBRyxDQUMvQixNQUFjLEVBQ2QsS0FBZTtJQUVmLE9BQU87UUFDTCxjQUFjLEVBQUUsQ0FDZCxJQUFpQixFQUNqQixNQUFrQixFQUNsQixLQUFhLEVBQ2IsT0FBbUI7WUFFbkIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxLQUFLLEVBQUUsMEJBQTBCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDckQsT0FBTyxFQUFFLFVBQVUsQ0FBQyxPQUFPO2dCQUMzQixPQUFPLEVBQUUsVUFBVSxDQUFDLGNBQWM7Z0JBQ2xDLFFBQVEsRUFBRSxVQUFVLENBQUMsUUFBUTtZQUM5QixFQUFDO1lBRUYsT0FBTyxVQUFVO1NBQ2xCO0tBQ0Y7QUFDSCxDQUFDO0FBRU0sTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEtBQVk7SUFLNUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFZLEVBQUUsS0FBYSxFQUFFLEdBQVksR0FDM0QsS0FBSyxDQUFDLEdBQUcsSUFBSSxXQUFXLEVBQUU7WUFBQyxHQUFHO1lBQUUsS0FBSztTQUFDLENBQUM7SUFFekMsTUFBTSxVQUFVLEdBQXdDO1FBQ3RELFNBQVMsRUFBRSxJQUFJO0tBQ2tCO0lBQ25DLE9BQU87UUFDTCxjQUFjLEVBQ1osSUFBaUIsRUFDakIsTUFBa0IsRUFDbEIsS0FBYSxFQUNiLE9BQW1CO1lBRW5CLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUE0QixDQUFDLEVBQUU7Z0JBQ25ELE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDOztZQUdyQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDekIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1lBQzlDLFNBQVMsQ0FBQyxJQUFJLENBQ1osQ0FBQyxVQUFVO2dCQUNULE1BQU0sR0FBRyxHQUFJLFVBQVUsQ0FBQyxRQUFpQyxFQUFFLEtBQUs7Z0JBQ2hFLElBQUksR0FBRyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUM7WUFDOUMsQ0FBQyxFQUNELENBQUMsR0FBRyxHQUFLLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FDN0M7WUFDRCxPQUFPLFNBQVM7U0FDakI7S0FDRjtBQUNILENBQUM7QUFFRDs7OztDQUlHLEdBQ0ksTUFBTSxrQkFBa0IsR0FBRyxDQUFDLE9BQXNCO0lBQ3ZELE1BQU0sU0FBUyxHQUFHLElBQUksOEVBQW1CLENBQUM7UUFDeEMsR0FBRyxjQUFjO1FBQ2pCLEdBQUcsT0FBTztJQUNYLEVBQUM7SUFFRixPQUFPLElBQUksa0JBQWtCLENBQUMsU0FBUyxDQUFDO0FBQzFDLENBQUM7QUM1R00sTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFTLEdBQUssSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUssVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUVsRSxTQUFVLFVBQVUsQ0FBSSxLQUFtQjtJQUMvQyxPQUNFLEtBQUssS0FDSixNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssbUJBQW1CLElBQzVELFVBQVUsS0FBSyxPQUFPLEtBQUssSUFDM0IsS0FBSyxZQUFZLFNBQVEsQ0FBQztBQUVoQztBQUVBOztDQUVHLEdBQ0ksTUFBTSxVQUFVLEdBQUc7SUFDeEIsYUFBYSxFQUFFLEVBQUU7SUFDakIsaUJBQWlCLEVBQUUsSUFBSTtDQUN4QjtBQUVEOzs7O0NBSUcsR0FDRyxTQUFVLGFBQWEsQ0FBQyxnQkFBd0I7O0lBRXBELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLGdCQUFnQixHQUFHLElBQUksRUFBRSxJQUFJLENBQUM7SUFDekQsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxnQkFBaUIsS0FBRyxDQUFDLEdBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQ3hFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUksR0FBRyxJQUFHLElBQUcsQ0FBQyxFQUFHLEdBQUcsQ0FBQztBQUN0RDtBQUVBLFNBQVMsR0FBRyxDQUFDLEtBQWlCO0lBQzVCLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDVixJQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBRTtRQUNyQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQzs7SUFFN0MsT0FBTyxDQUFDO0FBQ1Y7QUFFQTtTQUNnQixjQUFjO0lBQzVCLE1BQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxFQUFFLENBQUM7SUFDaEMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUksSUFBSSxDQUFDO0lBQ3BDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFJLElBQUksQ0FBQztJQUVwQyxPQUFPO1FBQ0wsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN6QixHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekIsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztLQUM1QixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDYjtBQUVBLE1BQU0sZUFBZSxHQUFHLENBQUM7SUFDdkIsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLElBQUksTUFBTSxDQUFDLGVBQWUsRUFBRTtRQUMzRCxPQUFPLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzs7SUFFNUMsT0FBTyxTQUFTLDZCQUE2QixDQUFDLEtBQWlCO1FBQzdELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsVUFBVSxHQUFJLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDOUQsSUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUU7WUFDckMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHOztJQUVsQyxDQUFDO0NBQ0gsQ0FBQyxHQUFHO0FBRUosU0FBUyxjQUFjLENBQUMsTUFBYztJQUNwQyxNQUFNLEtBQUssR0FBRyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDcEMsZUFBZSxDQUFDLEtBQUssQ0FBQztJQUN0QixPQUFPLEtBQUs7QUFDZDtBQUVBOztDQUVHLEdBQ0csU0FBVSwyQkFBMkIsQ0FBQyxFQUFzQjtJQUNoRSxJQUFJLEtBQXdELEVBQUU7QUFJaEU7QUFFTSxTQUFVLDhCQUE4QixDQUFDLEVBQXNCO0lBQ25FLElBQUksS0FBMkQsRUFBRTtBQUluRTtBQUVNLFNBQVUsZUFBZSxDQUM3QixHQUEyQjtJQUUzQixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU07QUFDN0Q7QUFFQTtBQUNNLFNBQVUsWUFBWSxDQUMxQixHQUFzQztJQUV0QyxPQUFRLEdBQWtCLENBQUMsSUFBSSxLQUFLLFNBQVM7QUFDL0M7QUN4R0E7O0NBRUcsR0FDSSxNQUFNLGFBQWEsR0FBRztJQUMzQixJQUFJLE9BQU8sU0FBUyxLQUFLLFdBQVcsRUFBRSxPQUFPLEtBQUs7SUFDbEQsT0FBTyxTQUFTLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxLQUFLLGFBQWE7QUFDM0QsQ0FBQztBQ0hEO0FBQ2EsZUFBUyxHQUE2QixNQUFNLENBQUMsTUFBTSxDQUFDO0lBQy9ELEtBQUssRUFBRSxDQUFDO0lBQ1IsS0FBSyxFQUFFLENBQUM7SUFDUixJQUFJLEVBQUUsQ0FBQztJQUNQLElBQUksRUFBRSxDQUFDO0lBQ1AsS0FBSyxFQUFFLENBQUM7QUFDVDtBQUVELElBQUksTUFBMEI7QUFDOUIsSUFBSSxLQUFLLEdBQWEsTUFBTTtBQUVyQixNQUFNLFlBQVksR0FBVyxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJO0lBQzdELElBQUksU0FBUztJQUNiLE9BQVEsUUFBUTtRQUNkLEtBQUssT0FBTztZQUNWLElBQUksYUFBYSxFQUFFLEVBQUU7Z0JBQ25CLE9BQU8sR0FBRyxVQUFVLE9BQU8sRUFBRTtnQkFDN0IsU0FBUyxHQUFHLE9BQU8sQ0FBQyxJQUFJO2dCQUN4Qjs7WUFFRixTQUFTLEdBQUcsT0FBTyxDQUFDLEtBQUs7WUFDekI7UUFDRixLQUFLLE1BQU07WUFDVCxJQUFJLGFBQWEsRUFBRSxFQUFFO2dCQUNuQixPQUFPLEdBQUcsU0FBUyxPQUFPLEVBQUU7Z0JBQzVCLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSTtnQkFDeEI7O1lBRUYsU0FBUyxHQUFHLE9BQU8sQ0FBQyxJQUFJO1lBQ3hCO1FBQ0YsS0FBSyxNQUFNO1lBQ1QsU0FBUyxHQUFHLE9BQU8sQ0FBQyxJQUFJO1lBQ3hCO1FBQ0YsS0FBSyxPQUFPO1lBQ1YsU0FBUyxHQUFHLE9BQU8sQ0FBQyxLQUFLO1lBQ3pCO1FBQ0Y7WUFDRSxTQUFTLEdBQUcsT0FBTyxDQUFDLEdBQUc7WUFDdkI7O0lBR0osU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQztBQUM3QjtNQUVhLFNBQVMsR0FBRyxDQUFDLENBQVMsRUFBRSxHQUFjO0lBQ2pELE1BQU0sR0FBRyxDQUFDO0lBQ1YsSUFBSSxHQUFHLEVBQUU7UUFDUCxXQUFXLENBQUMsR0FBRyxDQUFDOztBQUVwQjtBQUVhLGlCQUFXLEdBQUcsQ0FBQyxDQUFXO0lBQ3JDLEtBQUssR0FBRyxDQUFDO0FBQ1g7TUFFYSxXQUFXLEdBQUcsSUFBZ0I7QUFFOUIsZUFBUyxHQUFHLENBQUMsUUFBbUI7SUFDM0MsTUFBTSxZQUFZLEdBQUcsTUFBTSxJQUFJLFlBQVk7SUFDM0MsTUFBTSxJQUFJLEdBQUcsQ0FBQyxRQUFRLElBQUksSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUN2RCxNQUFNLE1BQU0sR0FBVyxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJO1FBQ2hELElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUMzQyxZQUFZLENBQUMsUUFBUSxFQUFFLElBQUksSUFBSSxNQUFNLE9BQU8sRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDOztJQUU1RCxDQUFDO0lBQ0QsT0FBTyxNQUFNO0FBQ2Y7QUNoREE7Ozs7Ozs7O0NBUUcsR0FDSSxNQUFNLFNBQVMsR0FBRyxPQUl2QixHQUEwQixFQUMxQixNQUFvQjtJQUVwQixJQUFJLE9BQU8sR0FBRyxDQUFDO0lBQ2YsSUFBSSxNQUFNLEdBQXdDLFNBQVM7SUFDM0QsR0FBRztRQUNELElBQUksT0FBTyxHQUFHLENBQUMsRUFBRSxNQUFNLEtBQUssQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEQsSUFBSTtZQUNGLE1BQU0sR0FBRyxNQUFNLEdBQUcsRUFBRTtVQUNwQixPQUFPLEdBQUcsRUFBRTtZQUNaLE1BQU0sa0JBQWtCLEdBQ3RCLEdBQUcsWUFBWSwrREFBUSxJQUN2QixHQUFHLENBQUMsSUFBSSxLQUFLLHlFQUFjLENBQUMseUVBQWMsQ0FBQyxTQUFTLENBQUM7WUFDdkQsTUFBTSxTQUFTLEdBQUcsTUFBTSxFQUFFLE9BQU8sSUFBSSxLQUFLO1lBQzFDLElBQUksa0JBQWtCLElBQUksU0FBUyxFQUFFLE1BQU0sR0FBRztZQUM5QyxTQUFTLENBQUM7Z0JBQUMsWUFBWTtnQkFBRSxLQUFLO2FBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxlQUFlLE9BQU8sR0FBRyxFQUFFLEdBQUcsQ0FBQztZQUN6RSxPQUFPLEVBQUU7O0tBRVosT0FBUSxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxXQUFXO0lBRXRELE9BQU8sTUFBTTtBQUNmLENBQUM7QUN4REQ7Ozs7OztDQU1HLEdBQ0ksTUFBTSxhQUFhLEdBQUcsT0FBTyxTQUFxQztJQUN2RSxNQUFNLE1BQU0sR0FBRyxJQUFJLGlCQUFpQixFQUFFO0lBQ3RDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFO1FBQUUsU0FBUztJQUFBLENBQUUsQ0FBQztJQUM3QyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRTtRQUFFLFNBQVM7SUFBQSxDQUFFLENBQUM7SUFFN0MsTUFBTSxLQUFLLEdBQUcsTUFBTSxNQUFNLENBQUMsV0FBVyxFQUFFO0lBQ3hDLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksRUFBRTtJQUUzQixNQUFNLENBQUMsZUFBZSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsSUFBSSxJQUFJO0lBQ1osQ0FBQyxDQUFDO0lBQ0YsTUFBTSxDQUFDLEtBQUssRUFBRTtJQUNkLE9BQU8sR0FBRztBQUNaLENBQUM7QUFFRDs7OztDQUlHLEdBQ0ksTUFBTSxVQUFVLEdBQUcsQ0FBQyxlQUFtQztJQUM1RCxJQUFJLENBQUMsZUFBZSxFQUFFLE9BQU8sS0FBSztJQUNsQyxlQUFlLEdBQUcsZUFBZSxDQUFDLFdBQVcsRUFBRTtJQUMvQyxPQUNFLGVBQWUsS0FBSyxLQUFLLElBQ3pCLGVBQWUsS0FBSyxLQUFLLElBQ3pCLGVBQWUsS0FBSyxXQUFXLElBQy9CLGVBQWUsS0FBSyxXQUFXO0FBRW5DLENBQUM7QUNkRCxNQUFNLGFBQWEsR0FBcUM7SUFDdEQsZUFBZSxFQUFFLFNBQVM7SUFDMUIsZUFBZSxFQUFFLFNBQVM7SUFDMUIsd0JBQXdCLEVBQUUsU0FBUztJQUNuQyxpQkFBaUIsRUFBRSxTQUFTO0lBQzVCLFVBQVUsRUFBRSxTQUFTO0lBQ3JCLG9CQUFvQixFQUFFLFNBQVM7SUFDL0IsaUJBQWlCLEVBQUUsU0FBUztJQUM1QixlQUFlLEVBQUUsU0FBUztJQUMxQixzQkFBc0IsRUFBRSxTQUFTO0lBQ2pDLFlBQVksRUFBRSxTQUFTO0lBQ3ZCLG1CQUFtQixFQUFFLFNBQVM7SUFDOUIsY0FBYyxFQUFFLFNBQVM7SUFDekIsZ0JBQWdCLEVBQUUsU0FBUztJQUMzQixLQUFLLEVBQUUsU0FBUztJQUNoQixpQkFBaUIsRUFBRSxTQUFTO0lBQzVCLE1BQU0sRUFBRSxTQUFTO0lBQ2pCLFVBQVUsRUFBRSxTQUFTO0lBQ3JCLFdBQVcsRUFBRSxTQUFTO0lBQ3RCLFNBQVMsRUFBRSxTQUFTO0lBQ3BCLGtCQUFrQixFQUFFLFNBQVM7SUFDN0IsNEJBQTRCLEVBQUUsU0FBUztJQUN2QyxvQkFBb0IsRUFBRSxTQUFTO0lBQy9CLHdCQUF3QixFQUFFLFNBQVM7Q0FDcEM7QUFFTSxNQUFNLFVBQVUsR0FBRyxDQUN4QixTQUFxQztJQUVyQyxPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDO0FBQ3ZFLENBQUM7TUFFWSxVQUFVO0lBQXZCO1FBQ21CLFdBQU0sR0FBRyxTQUFTLENBQUM7WUFBQyxZQUFZO1NBQUMsQ0FBQztRQUMzQyxJQUFXLGVBRWYsRUFBRTtRQUVOLGFBQVEsR0FBRyxDQUNULE9BQStCLEVBQy9CLEdBQWMsTUFBRztZQUVqQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVM7WUFDaEQsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNoQixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztZQUMvQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxlQUFlLFNBQVMsU0FBUyxHQUFHLEVBQUUsRUFBRSxPQUFPLENBQUM7WUFDckUsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUM7WUFDN0MsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNoQixLQUFLLE1BQU0sRUFBRSxJQUFJLFNBQVMsQ0FBRTtnQkFDMUIsSUFBSTtvQkFDRixFQUFFLENBQUMsT0FBTyxDQUFDO2tCQUNYLE9BQU8sQ0FBQyxFQUFFO29CQUNWLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLDRCQUE0QixFQUFFLENBQUMsQ0FBQzs7O1FBRzFELENBQUM7UUFFRCxPQUFFLEdBQUcsQ0FDSCxTQUFZLEVBQ1osRUFBd0I7O2FBRXhCLE1BQUMsSUFBSSxDQUFDLFlBQVcsQ0FBQyxTQUFTLENBQVQsaUJBQVMsQ0FBTSxLQUFFLEdBQUUsSUFBSSxDQUFDLEVBQVcsQ0FBQztZQUN0RCxPQUFPO2dCQUNMLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztZQUN6QixDQUFDO1FBQ0gsQ0FBQztRQUVELFFBQUcsR0FBRyxDQUNKLFNBQVksRUFDWixFQUF3QjtZQUV4QixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FDdEUsQ0FBQyxDQUFDLEdBQUssQ0FBQyxLQUFLLEVBQUUsQ0FDaEI7UUFDSCxDQUFDOztBQUNGO0FDNUZEOzs7Q0FHRyxTQUNVLGdCQUFnQjtJQUE3QjtRQUNXLHlCQUFvQixHQUFHLElBQUksaVJBQWEsRUFBdUI7UUFDL0Qsd0JBQW1CLEdBQUcsSUFBSSxpUkFBYSxFQUF1QjtRQUV2RSxTQUFJLEdBQUcsQ0FBQyxVQUFzQjtZQUM1QixNQUFNLFlBQVksR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDO1lBQy9DLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFFbkIsSUFBSSxVQUFVLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxVQUFVLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO21CQUN2QyxJQUFJLFVBQVUsQ0FBQyxRQUFRLEtBQUssUUFBUSxDQUFDLHFCQUFxQixFQUFFO2dCQUNqRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQzttQkFDdEM7Z0JBQ0wsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO29CQUFDLFlBQVk7aUJBQUMsQ0FBQztnQkFDeEMsTUFBTSxDQUFDLE1BQU0sRUFBRSwrQkFBK0IsRUFBRSxVQUFVLENBQUM7O1FBRS9ELENBQUM7UUFFRCxJQUFPLFdBQUc7WUFDUixJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxFQUFFO1lBQ3BDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUU7UUFDckMsQ0FBQzs7QUFDRjtBQUVELE1BQU0sY0FBYyxHQUFHLENBQ3JCLFVBQXNCO0lBRXRCLElBQUk7UUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQztNQUMxQyxPQUFPLENBQUMsRUFBRTtRQUNWLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQztZQUFDLFlBQVk7U0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsNkJBQTZCLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQztRQUM3RCxPQUFPLFNBQVM7O0FBRXBCLENBQUM7QUM5QkQ7Ozs7Ozs7OztDQVNHLEdBQ0ksTUFBTSxrQkFBa0IsR0FBRyxZQUFZLENBQUMsNEJBQTRCLENBQUM7QUFFNUU7Ozs7Ozs7Ozs7Ozs7OztDQWVHLEdBQ0ksTUFBTSxnQkFBZ0IsR0FBRyxZQUFZLENBQUMsb0JBQW9CLENBQUM7QUFFbEUsTUFBTSxlQUFlLEdBQUcsSUFBSSxHQUFHLEVBQW1DO0FBRTVELFNBQVUsVUFBVSxDQUFDLEdBQW9CO0lBQzdDLE9BQU8sZUFBZSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7QUFDakM7QUFFTyxlQUFlLE9BQU8sQ0FBQyxHQUFvQjtJQUNoRCxJQUFJLE9BQW1DO0lBQ3ZDLE1BQVEsT0FBTyxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUc7UUFDM0MsTUFBTSxPQUFPLENBQUMsT0FBTzs7QUFFekI7QUFFQTs7Ozs7Ozs7OztDQVVHLEdBQ0gsU0FBUyxZQUFZLENBQXlCLE9BQTJCO0lBQ3ZFLE9BQU8sU0FBUyxHQUFHLENBQUMsR0FBb0IsRUFBRSxFQUE4QjtRQUN0RSxNQUFNLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQztRQUNyRCxNQUFNLE9BQU8sR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUN4QyxPQUFPLEVBQUUsV0FBVyxFQUFFO1FBQ3RCLE1BQU0sT0FBTyxHQUFHLFVBQ1osT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sSUFDckMsT0FBTyxFQUFFO1FBQ2IsZUFBZSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUU7WUFBRSxPQUFPO1lBQUUsV0FBVztRQUFBLENBQUUsQ0FBQztRQUNsRCxPQUFPLE9BQU87SUFDaEIsQ0FBQztBQUNIO0FBRUE7Ozs7Q0FJRyxHQUNILFNBQVMsNEJBQTRCLENBQ25DLEdBQW9CLEVBQ3BCLEVBQW9CO0lBRXBCLElBQUksZUFBZSxHQUFHLEtBQUs7SUFDM0IsTUFBTSxPQUFPLEdBQUcsSUFDZCxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUM7WUFDWCxJQUFJLENBQUMsZUFBZSxFQUFFO2dCQUNwQixlQUFlLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQzs7UUFFL0IsQ0FBQyxDQUFDO0lBQ0osTUFBTSxXQUFXLEdBQUcsSUFBTyxlQUFlLEdBQUcsSUFBSSxDQUFDO0lBQ2xELE9BQU87UUFBRSxFQUFFLEVBQUUsT0FBTztRQUFFLFdBQVc7SUFBQSxDQUFFO0FBQ3JDO0FBRUE7Ozs7Ozs7O0NBUUcsR0FDSCxTQUFTLG9CQUFvQixDQUMzQixHQUFvQixFQUNwQixFQUFvRDtJQUVwRCxNQUFNLEVBQUUsR0FBRyxJQUFJLGVBQWUsRUFBRTtJQUNoQyxNQUFNLE9BQU8sR0FBRztRQUNkLElBQUksRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7WUFDckIsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQW1CLENBQUM7O1FBRzdDLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDM0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO2dCQUN0QixlQUFlLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQzs7UUFFL0IsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUNELE1BQU0sV0FBVyxHQUFHLElBQU0sRUFBRSxDQUFDLEtBQUssRUFBRTtJQUNwQyxPQUFPO1FBQUUsRUFBRSxFQUFFLE9BQU87UUFBRSxXQUFXO0lBQUEsQ0FBRTtBQUNyQztBQ3BIQTs7OztDQUlHLEdBQ0gsTUFBTSxlQUFlLEdBQUcsQ0FBSSxNQUFnQixHQUMxQyxPQUFPLE1BQU0sS0FBSyxVQUFVO0FBRTlCOzs7OztDQUtHLEdBQ0ksTUFBTSxlQUFlLEdBQUcsQ0FBSSxXQUEwQjtJQUMzRCxJQUFJLEtBQVM7SUFDYixJQUFJLEdBQUcsR0FBc0IsU0FBUztJQUN0QyxxUkFBYSxDQUFDO1FBQUMsV0FBVztLQUFDLEVBQ3hCLFNBQVMsQ0FBQztRQUNULElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1IsS0FBSyxHQUFHLENBQUM7U0FDVjtRQUNELEtBQUssRUFBRSxDQUFDLENBQUM7WUFDUCxHQUFHLEdBQUcsQ0FBQztTQUNSO0tBQ0YsRUFDQSxXQUFXLEVBQUU7SUFFaEIsSUFBSSxHQUFHLEVBQUUsTUFBTSxHQUFHO0lBQ2xCLE9BQU8sS0FBSztBQUNkLENBQUM7QUFFRDs7Ozs7Ozs7Q0FRRyxHQUNJLE1BQU0sZUFBZSxHQUFHLENBQUksT0FBbUIsRUFBRSxNQUFnQjtJQUN0RSxNQUFNLElBQUksR0FBRyxlQUFlLENBQUMsTUFBTSxJQUMvQixNQUFNLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUMvQixNQUFNO0lBRVYsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsT0FBTyxJQUFJO0FBQ2IsQ0FBQztBQUVEOzs7Ozs7OztDQVFHLEdBQ0ksTUFBTSxXQUFXLEdBQUcsQ0FDekIsT0FBMkIsRUFDM0IsTUFBZ0I7SUFFaEIsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRTtJQUNwQyxNQUFNLEtBQUssR0FBRyxlQUFlLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQztJQUM5QyxPQUFPO1FBQ0wsU0FBUztRQUNULEtBQUs7UUFDTCxRQUFRLEVBQUUsSUFBTSxlQUFlLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQztLQUNwRDtBQUNILENBQUM7QUFFRDs7Ozs7O0NBTUcsR0FDSSxNQUFNLGtCQUFrQixHQUFHLENBQ2hDLFVBQXlCLEVBQ3pCLE9BQTJCLEVBQzNCLFVBQWdDLENBQUMsS0FBSyxHQUNwQyxTQUFTLENBQUM7UUFBQyxTQUFTO0tBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxnQ0FBZ0MsRUFBRSxLQUFLLENBQUM7SUFFekUsTUFBTSxZQUFZLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQztRQUFFLElBQUksRUFBRSxPQUFPO1FBQUUsS0FBSyxFQUFFLE9BQU87SUFBQSxDQUFFLENBQUM7SUFDNUUsT0FBTztRQUNMLFlBQVksQ0FBQyxXQUFXLEVBQUU7SUFDNUIsQ0FBQztBQUNILENBQUM7QUFFRDs7Ozs7OztDQU9HLEdBQ0ksTUFBTSwyQkFBMkIsR0FBRyxDQUN6QyxVQUF5QixFQUN6QixPQUFvQztJQUVwQyxNQUFNLEdBQUcsR0FBRyxNQUFNLEVBQUU7SUFDcEIsT0FBTyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxLQUFLO1FBQzFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxJQUFNLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUM7QUFDSixDQUFDOzs7Ozs7Ozs7QUN0SEQ7O0NBRUcsT0FDUztDQUFaLFNBQVksWUFBWTtJQUN0Qjs7S0FFRyxHQUNILG1DQUFtQjtJQUVuQjs7S0FFRyxHQUNILDZCQUFhO0lBRWI7OztLQUdHLEdBQ0gsbUNBQW1CO0lBRW5COztLQUVHLEdBQ0gsbUNBQW1CO0lBRW5COztLQUVHLEdBQ0gsaUNBQWlCO0lBRWpCOztLQUVHLEdBQ0gsNkJBQWE7SUFFYjs7S0FFRyxHQUNILDZDQUE2QjtJQUU3Qjs7S0FFRyxHQUNILHVDQUF1QjtJQUV2Qjs7S0FFRyxHQUNILDJEQUEyQztJQUUzQzs7S0FFRyxHQUNILG1DQUFtQjtDQUNyQixDQUFDLENBbkRXLFlBQVksS0FBWixZQUFZLEdBbUR2QjtNQzlDWSw4QkFBOEI7SUFhekM7UUFaQTs7U0FFRyxHQUNILHlCQUFvQixHQUFHLElBQUksbVJBQWUsQ0FDeEMsU0FBUyxDQUNWO1FBRUQ7O1NBRUcsR0FDSCxpQkFBWSxHQUFHLElBQUksbVJBQWUsQ0FBUyxFQUFFLENBQUM7UUE0QjlDOzs7OztTQUtHLEdBQ0gscUJBQWdCLEdBQUcsQ0FBQyxJQUF3QztZQUMxRCxPQUFPUSxlQUF1QixDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUM7UUFDakUsQ0FBQztRQVNEOzs7U0FHRyxHQUNILGFBQVEsR0FBRyxDQUFDLEtBQW9CO1lBQzlCLE9BQU9BLGVBQXVCLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUM7UUFDMUQsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxpQkFBWSxHQUFHLENBQUMsSUFBVTtZQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEdBQUssQ0FBQzsyQkFBRyxLQUFLO3dCQUFFLElBQUk7cUJBQUMsQ0FBQzs7UUFFOUMsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxtQkFBYyxHQUFHLENBQUMsSUFBVTtZQUMxQixNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUM7Z0JBQUMsY0FBYzthQUFDLENBQUM7WUFDMUMsTUFBTSxDQUFDLE9BQU8sRUFBRSx1QkFBdUIsSUFBSSxDQUFDLEdBQUcsQ0FBRSxFQUFDO1lBQ2xELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssR0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztRQUNsRSxDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCxhQUFRLEdBQUcsQ0FBQyxJQUFZLEVBQUUsRUFBVTtZQUNsQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDO1FBQy9ELENBQUM7UUFoRkMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxPQUFPLElBQUk7O1lBRTdDLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ1QsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO29CQUFDLGNBQWM7aUJBQUMsQ0FBQztnQkFDMUMsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFFO29CQUM3QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxJQUFJLEVBQUU7b0JBRW5ELE1BQU0sQ0FBQyxNQUFNLEVBQUUsb0NBQW9DLElBQUksQ0FBQyxHQUFHLENBQUUsRUFBQztvQkFDOUQsTUFBTSxLQUNILEtBQUssQ0FBQzt3QkFBRSxPQUFPLEVBQUUsZ0NBQWdDO29CQUFBLENBQUUsRUFDbkQsS0FBSyxDQUFDLENBQUMsR0FBRzt3QkFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQXVCLDBCQUFJLENBQUMsR0FBRyxDQUFFLEdBQUUsR0FBRyxDQUFDO29CQUN6RCxDQUFDLENBQUM7OztRQUdWLENBQUMsQ0FBQzs7SUFHSjs7S0FFRyxHQUNILElBQUksYUFBYTtRQUNmLE9BQU9DLGVBQXVCLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDOztJQWEzRDs7S0FFRyxHQUNILElBQUksS0FBSztRQUNQLE9BQU9BLGVBQXVCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQzs7QUEwQ3BEO0FBRUQ7Ozs7Q0FJRyxTQUNVLDZCQUE2QjtJQVd4QyxZQUFZLEtBQXFDOztRQUUvQyxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLEVBQUU7UUFDL0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRTs7SUFHakQ7O0tBRUcsR0FDSCxJQUFJLGFBQWE7UUFDZixPQUFPQSxlQUF1QixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7O0lBR3JEOztLQUVHLEdBQ0gsSUFBSSxLQUFLO1FBQ1AsT0FBT0EsZUFBdUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDOztBQUU5QztBQ3ZJRDs7Ozs7O0NBTUcsU0FDVSxrQkFBa0IsR0FBRyxDQUNoQyxHQUFHLFdBQTRCO0lBRS9CLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNWLEtBQUssTUFBTSxVQUFVLElBQUksV0FBVyxDQUFFO1lBQ3BDLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQy9CLElBQUksTUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLE1BQU07O1FBRWpDLE9BQU8sQ0FBQztJQUNWLENBQUM7QUFDSDtBQUVBOzs7Ozs7OztDQVFHLEdBQ1UsZ0JBQVUsR0FBRyxDQUFJLFVBQXlCO0lBQ3JELE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFLLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ25DO0FBRUE7Ozs7Ozs7OztDQVNHLEdBQ1UsaUJBQVcsR0FBRyxDQUFJLFNBQWtDO0lBQy9ELE9BQU8sQ0FBQyxVQUF5QjtRQUMvQixPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDVixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7WUFDOUIsT0FBTyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6QixDQUFDO0lBQ0gsQ0FBQztBQUNIO0FBRUE7O0NBRUcsR0FDSSxNQUFNLGNBQWMsR0FBRztJQUM1QixPQUFPLElBQU0sQ0FBQztBQUNoQjtBQzFEQTs7OztDQUlHLEdBQ1UsY0FBUSxHQUFHLENBQUMsQ0FBeUIsR0FDaEQsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUs7QUFFNUM7Ozs7Q0FJRyxHQUNVLGNBQVEsR0FBRyxDQUFDLENBQXlCLEdBQ2hELENBQUMsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLO0FBRTVDOzs7O0NBSUcsR0FDVSxvQkFBYyxHQUFHLENBQUMsQ0FBeUIsR0FDdEQsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFlBQVk7QUFFbkQ7Ozs7Q0FJRyxHQUNVLHlCQUFtQixHQUFHLENBQUMsQ0FBeUIsR0FDM0QsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLGtCQUFrQjtBQUV6RDs7OztDQUlHLEdBQ0ksTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUF5QixHQUNoRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBRyxDQUFDO0FBRXBEOzs7OztDQUtHLFNBQ1UsY0FBYyxHQUFHLENBQzVCLENBQXlCLEVBQ3pCLGNBQThCO0lBRTlCLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxFQUFFLE9BQU8sS0FBSztJQUNqQyxNQUFNLFNBQVMsR0FDYixjQUFjLEtBQUssZUFDZixTQUFTLENBQUMsUUFDVixjQUFjLEtBQUsscUJBQ2pCLFNBQVMsQ0FBQyxlQUNWLFNBQVM7SUFFakIsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPLEtBQUs7SUFDNUIsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFDM0M7QUN2REE7Ozs7O0NBS0csU0FDVSxlQUFlLEdBQXVDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDdEUsSUFBSSxDQUFDLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxFQUFFO0lBQzFELElBQUksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDLGlCQUFpQixFQUFFLE9BQU8sQ0FBQztJQUN6RCxPQUFPLENBQUM7QUFDVjtBQUVBOzs7OztDQUtHLFNBQ1UsUUFBUSxHQUF1QyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQy9ELElBQUksQ0FBQyxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFO0lBQzVDLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDO0lBQzNDLE9BQU8sQ0FBQztBQUNWO0FBRUE7Ozs7O0NBS0csU0FDVSxhQUFhLEdBQXVDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDcEUsSUFBSSxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFO0lBQ3RELElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQztJQUNyRCxPQUFPLENBQUM7QUFDVjtBQUVBOzs7OztDQUtHLFNBQ1UsZUFBZSxHQUF1QyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3RFLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRTtJQUMxQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7SUFDekMsT0FBTyxDQUFDO0FBQ1Y7QUFFQTs7Ozs7Q0FLRyxTQUNVLGVBQWUsR0FBdUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN0RSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUU7SUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ3pDLE9BQU8sQ0FBQztBQUNWO0FBRUE7Ozs7O0NBS0csU0FDVSxNQUFNLEdBQXVDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDN0QsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUU7UUFDbEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRTtRQUNwRCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDO1FBQ25ELElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFO1FBQzlDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDOztJQUcvQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRTtJQUM5QixJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQztJQUU3QixPQUFPLENBQUM7QUFDVjtBQUVBOzs7OztDQUtHLEdBQ1Usa0JBQVksR0FBRyxDQUMxQixJQUFZO0lBRVosT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ1YsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRSxJQUFJLEtBQUssSUFBSSxFQUFFLE9BQU8sRUFBRTtRQUNyRSxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLElBQUksS0FBSyxJQUFJLEVBQUUsT0FBTyxDQUFDO1FBQ3BFLE9BQU8sQ0FBQztJQUNWLENBQUM7QUFDSDtBQUVBOzs7OztDQUtHLEdBQ0ksTUFBTSxJQUFJLEdBQ2YsQ0FBQyxHQUFHLEtBQWUsR0FDbkIsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNILElBQUksVUFBVSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFO1FBQzVELElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDO1FBQzNELE9BQU8sQ0FBQztJQUNWO0FBRUY7Ozs7O0NBS0csU0FDVSxJQUFJLEdBQXVDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDM0QsSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFO0lBQzlCLElBQUksQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQztJQUM3QixPQUFPLENBQUM7QUFDVjtBQUVBLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBeUIsRUFBRSxLQUFlLEdBQzVELENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FDdEhoRDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGFBQWEsR0FBRyxXQUFXLENBQy9CLENBQUMsQ0FBeUIsRUFBRSxDQUF5QixHQUNuRCxDQUFDLENBQUMsdUJBQXVCLEVBQUUsVUFBVSxLQUFLLGVBQWUsQ0FBQyxTQUFTLElBQ25FLENBQUMsQ0FBQyx1QkFBdUIsRUFBRSxVQUFVLEtBQUssZUFBZSxDQUFDLFNBQVMsQ0FDdEU7QUFFRDs7OztDQUlHLEdBQ0gsTUFBTSxzQkFBc0IsR0FBRyxXQUFXLENBQ3hDLENBQUMsQ0FBeUIsRUFBRSxDQUF5QixHQUNuRCxDQUFDLENBQUMsdUJBQXVCLEVBQUUsVUFBVSxLQUFLLGVBQWUsQ0FBQyxTQUFTLElBQ25FLENBQUMsQ0FBQyx1QkFBdUIsRUFBRSxVQUFVLEtBQUssZUFBZSxDQUFDLE9BQU8sSUFDakUsQ0FBQyxDQUFDLHVCQUF1QixFQUFFLFVBQVUsS0FBSyxlQUFlLENBQUMsU0FBUyxJQUNuRSxDQUFDLENBQUMsdUJBQXVCLEVBQUUsVUFBVSxLQUFLLGVBQWUsQ0FBQyxPQUFPLENBQ3BFO0FBRUQ7O0NBRUcsR0FDSSxNQUFNLGlCQUFpQixHQUFHLGtCQUFrQixDQUNqRCxNQUFNLEVBQ04sYUFBYSxFQUNiLGFBQWEsQ0FDWCxrQkFBa0IsQ0FDaEIsZUFBZSxFQUNmLFFBQVEsRUFDUixZQUFZLENBQUMsYUFBYSxDQUFDLEVBQzNCLGVBQWUsRUFDZixlQUFlLENBQ2hCLENBQ0Y7QUFJSDs7Q0FFRyxHQUNJLE1BQU0sdUJBQXVCLEdBQUcsa0JBQWtCLENBQ3ZELE1BQU0sRUFDTixhQUFhLEVBQ2IsZUFBZSxFQUNmLGFBQWEsQ0FDWCxrQkFBa0IsQ0FDaEIsUUFBUSxFQUNSLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFDM0IsZUFBZSxFQUNmLGVBQWUsQ0FDaEIsQ0FDRjtBQUlIOzs7Q0FHRyxHQUNVLCtCQUF5QixHQUFHLGtCQUFrQixDQUN6RCxNQUFNLEVBQ04sc0JBQXNCLENBQ3BCLGtCQUFrQixDQUNoQixlQUFlLEVBQ2YsUUFBUSxFQUNSLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFDM0IsZUFBZSxFQUNmLGVBQWUsQ0FDaEIsQ0FDRjtBQUlIOztDQUVHLEdBQ0ksTUFBTSwrQkFBK0IsR0FBRyxrQkFBa0IsQ0FDL0QsYUFBYSxDQUNYLGtCQUFrQixDQUNoQixlQUFlLEVBQ2YsUUFBUSxFQUNSLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFDM0IsZUFBZSxFQUNmLGVBQWUsQ0FDaEIsQ0FDRixFQUNELElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQztBQzlDbEM7O0NBRUcsR0FDSCxNQUFNLGFBQWEsR0FBbUI7SUFDcEMsWUFBWSxFQUFFLEtBQUs7SUFDbkIsR0FBRyxFQUFFO1FBQUUsWUFBWSxFQUFFLEVBQUU7UUFBRSxNQUFNLEVBQUUsRUFBRTtJQUFBLENBQUU7SUFDckMsS0FBSyxFQUFFLEVBQUU7Q0FDVjtBQVNEOzs7Q0FHRyxTQUNVLFNBQVM7SUEyUHBCOzs7S0FHRyxHQUNIO1FBOVBRLHFCQUFnQixHQUFHLElBQUksbVJBQWUsQ0FBVSxJQUFJLENBQUM7UUFDckQsMEJBQXFCLEdBQUcsSUFBSSxtUkFBZSxDQUFXLEVBQUUsQ0FBQztRQUN6RCxJQUFnQixvQkFBRyxJQUFJLG1SQUFlLENBQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN4RCxtQkFBYyxHQUFHLElBQUksbVJBQWUsQ0FBbUIsU0FBUyxDQUFDO1FBQ2pFLG9CQUFlLEdBQUcsSUFBSSxtUkFBZSxDQUFtQixTQUFTLENBQUM7UUFDbEUsSUFBZ0Isb0JBQUcsSUFBSSxtUkFBZSxDQUFPLElBQUksSUFBSSxFQUFFLENBQUM7UUFDeEQscUJBQWdCLEdBQUcsSUFBSSxtUkFBZSxDQUM1QyxTQUFTLENBQ1Y7UUFDTyxrQkFBYSxHQUFHLElBQUksbVJBQWUsQ0FBc0IsRUFBRSxDQUFDO1FBQzVELGtCQUFhLEdBQUcsSUFBSSxtUkFBZSxDQUN6QyxTQUFTLENBQ1Y7UUFDTyxtQkFBYyxHQUFHLElBQUksbVJBQWUsQ0FDMUMsU0FBUyxDQUNWO1FBQ08scUJBQWdCLEdBQUcsSUFBSSxtUkFBZSxDQUFVLEtBQUssQ0FBQztRQUN0RCxtQkFBYyxHQUFHLElBQUksbVJBQWUsQ0FDMUMsU0FBUyxDQUNWO1FBQ08sb0JBQWUsR0FBRyxJQUFJLG1SQUFlLENBRTNDLFNBQVMsQ0FBQztRQUNKLHdCQUFtQixHQUFHLElBQUksbVJBQWUsQ0FBVSxLQUFLLENBQUM7UUFDekQsc0JBQWlCLEdBQUcsSUFBSSxtUkFBZSxDQUFVLEtBQUssQ0FBQztRQUN2RCxtQkFBYyxHQUFHLElBQUksbVJBQWUsQ0FDMUMsU0FBUyxDQUNWO1FBQ08sc0JBQWlCLEdBQUcsSUFBSSxtUkFBZSxDQUU3QyxTQUFTLENBQUM7UUFDSixtQkFBYyxHQUFHLElBQUksbVJBQWUsQ0FBbUIsRUFBRSxDQUFDO1FBQzFELDJCQUFzQixHQUFHLElBQUksbVJBQWUsQ0FBa0IsRUFBRSxDQUFDO1FBQ2pFLElBQW1CLHVCQUFHLElBQUksbVJBQWUsQ0FDL0MsWUFBWSxDQUFDLE9BQU8sQ0FDckI7UUFDTyxxQkFBZ0IsR0FBRyxJQUFJLG1SQUFlLENBQW1CLFNBQVMsQ0FBQztRQUNuRSw0QkFBdUIsR0FBRyxJQUFJLG1SQUFlLENBQVMsQ0FBQyxDQUFDO1FBQ3hELHFDQUFnQyxHQUFHLElBQUksbVJBQWUsQ0FBUyxDQUFDLENBQUM7UUFDakUsd0JBQW1CLEdBQUcsSUFBSSxtUkFBZSxDQUMvQyxFQUFFLENBQ0g7UUFDTywyQkFBc0IsR0FBRyxJQUFJLG1SQUFlLENBRWxELFNBQVMsQ0FBQztRQUNKLDBCQUFxQixHQUFHLElBQUksbVJBQWUsQ0FBc0IsRUFBRSxDQUFDOzs7OztRQU1wRSxJQUFjLGtCQUFvQixFQUFFO1FBb0xuQyxXQUFNLEdBQUcsU0FBUyxDQUFDO1lBQUMsV0FBVztTQUFDLENBQUM7UUFFMUM7O1NBRUcsR0FDSyxJQUFrQixzQkFBRyxpQkFBaUI7UUFNdEMsd0JBQW1CLEdBQUcsSUFBSSxHQUFHLEVBQTBCO1FBd00vRDs7U0FFRyxHQUNILElBQU8sV0FBRztZQUNSLEtBQUssTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUU7Z0JBQ2hFLFlBQVksQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDOztRQUUxQyxDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCwwQkFBcUIsR0FBRyxDQUFDLFVBQThDO1lBQ3JFLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxVQUFVOztZQUVwQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLEVBQUUsR0FBSyxFQUFFLENBQUM7UUFDNUQsQ0FBQztRQUVEOzs7OztTQUtHLEdBQ0gsb0JBQWUsR0FBR0EsZUFBdUI7UUFFekM7Ozs7Ozs7Ozs7U0FVRyxHQUNILG9CQUFlLEdBQUdELGVBQXVCO1FBVXpDOzs7OztTQUtHLEdBQ0gsd0JBQW1CLEdBQUcsQ0FBQyxLQUFvQjtZQUN6QyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLHVCQUF1QixFQUFFLEtBQUssQ0FBQztRQUNsRSxDQUFDO1FBVUQ7Ozs7O1NBS0csR0FDSCxpQkFBWSxHQUFHLENBQUMsU0FBa0M7WUFDaEQsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxTQUFTLENBQUM7UUFDL0QsQ0FBQztRQVNEOzs7OztTQUtHLEdBQ0gsa0JBQWEsR0FBRyxDQUFDLFVBQW1CO1lBQ2xDLE9BQU9FLFdBQW1CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLFVBQVUsQ0FBQztRQUNoRSxDQUFDO1FBVUQ7Ozs7O1NBS0csR0FDSCxpQ0FBNEIsR0FBRyxDQUFDLEtBQW9CO1lBQ2xELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsS0FBSyxDQUFDO1FBQzNFLENBQUM7UUFnQkQ7Ozs7OztTQU1HLEdBQ0gsb0JBQWUsR0FBRyxDQUFDLFlBQTZDO1lBQzlELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsWUFBWSxDQUFDO1FBQ3JFLENBQUM7UUE0Q0Q7Ozs7O1NBS0csR0FDSCxvQkFBZSxHQUFHLENBQUMsS0FBMEI7WUFDM0MsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUM7UUFDOUQsQ0FBQztRQWlCRDs7Ozs7U0FLRyxHQUNILHVCQUFrQixHQUFHLENBQUMsTUFBMEM7WUFDOUQsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxNQUFNLENBQUM7UUFDbEUsQ0FBQztRQVNEOzs7OztTQUtHLEdBQ0gsZUFBVSxHQUFHLENBQUMsT0FBZ0M7WUFDNUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQztRQUNwRCxDQUFDO1FBU0Q7Ozs7O1NBS0csR0FDSCx1QkFBa0IsR0FBRyxDQUFDLFlBQW9DO1lBQ3hELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsWUFBWSxDQUFDO1FBQ3hFLENBQUM7UUFTRDs7O1NBR0csR0FDSCxpQkFBWSxHQUFHLENBQUMsU0FBeUI7WUFDdkMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxTQUFTLENBQUM7UUFDL0QsQ0FBQztRQXVCRDs7O1NBR0csR0FDSCxlQUFVLEdBQUcsQ0FBQyxPQUFnQztZQUM1QyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxPQUFPLENBQUM7UUFDM0QsQ0FBQztRQTZGRDs7Ozs7U0FLRyxHQUNILCtCQUEwQixHQUFHLENBQzNCLFNBQWlCO1lBRWpCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUM7UUFDakUsQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBK0IsbUNBQUc7WUFDaEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FFNUIsQ0FBQyxXQUFXLEVBQUUsV0FBVztnQkFDMUIsV0FBVyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXO2dCQUNoRCxPQUFPLFdBQVc7YUFDbkIsRUFBRSxFQUFFLENBQUM7UUFDUixDQUFDO1FBRUQ7Ozs7Ozs7OztTQVNHLEdBQ0gsc0JBQWlCLEdBQUcsQ0FDbEIsU0FBaUIsRUFDakIsS0FFZ0U7WUFFaEUsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLDBCQUEwQixDQUFDLFNBQVMsQ0FBQztZQUM5RCxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNoQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUE4QixzQ0FBUyxDQUFZLFlBQUM7Z0JBQ3hFOztZQUdGLE1BQU0sUUFBUSxHQUFHLE9BQU8sS0FBSyxLQUFLLFVBQVUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsS0FBSztZQUN6RSxNQUFNLGtCQUFrQixHQUEyQjtnQkFDakQsR0FBRyxXQUFXO2dCQUNkLEdBQUcsUUFBUTthQUNaO1lBQ0QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsWUFBWSxHQUN2QyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUNqQixDQUFDLENBQUMsU0FBUyxLQUFLLFNBQVMsR0FBRyxrQkFBa0IsR0FBRyxDQUFDLENBQ25ELENBQ0Y7UUFDSCxDQUFDO1FBRUQ7Ozs7Ozs7O1NBUUcsR0FDSCxJQUFzQiwwQkFBRyxDQUN2QixTQUFpQixFQUNqQixXQUFtQyxFQUNuQyxLQUVnRTtZQUVoRSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxZQUFZO2dCQUN2QyxJQUFJLEdBQUcsR0FBRyxJQUFJO2dCQUNkLE1BQU0sZ0JBQWdCLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQzFDLElBQUksQ0FBQyxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7d0JBQzdCLEdBQUcsR0FBRyxLQUFLO3dCQUNYLE1BQU0sT0FBTyxHQUEyQjs0QkFBRSxHQUFHLENBQUM7NEJBQUUsR0FBRyxXQUFXO3dCQUFBLENBQUU7d0JBQ2hFLE1BQU0sUUFBUSxHQUFHLE9BQU8sS0FBSyxLQUFLLFVBQVUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSzt3QkFDckUsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUM7O29CQUV6QyxPQUFPLENBQUM7Z0JBQ1YsQ0FBQyxDQUFDO2dCQUNGLElBQUksR0FBRyxFQUFFLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7Z0JBQzNDLE9BQU8sZ0JBQWdCO1lBQ3pCLENBQUMsQ0FBQztRQUNKLENBQUM7UUFFRDs7Ozs7Ozs7U0FRRyxHQUNILHVCQUFrQixHQUFHLENBQUMsS0FBb0M7WUFDeEQsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUMsWUFBWTtZQUM3RCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxZQUFZLEdBQ3ZDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNqQixNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztvQkFDbkMsSUFBSSxRQUFRLEVBQUU7d0JBQ1osT0FBTzs0QkFDTCxHQUFHLENBQUM7NEJBQ0osR0FBRyxRQUFRO3lCQUNaOztvQkFFSCxPQUFPLENBQUM7aUJBQ1QsQ0FBQyxDQUNIO1FBQ0gsQ0FBQztRQUVEOzs7Ozs7O1NBT0csR0FDSCw0QkFBdUIsR0FBRyxDQUN4QixTQUF5QixFQUN6QixPQUE0QjtZQUU1QixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQzVCLENBQUMsR0FBRyxFQUFFLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQztnQkFDdkIsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUNwQixNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO29CQUM1RCxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDOztnQkFFNUQsTUFBTSxJQUFJLEdBQ1IsU0FBUyxLQUFLLGVBQ1YsbUJBQ0EsU0FBUyxLQUFLLHFCQUNaLHlCQUNBLFNBQVM7Z0JBQ2pCLElBQUksSUFBSSxFQUFFO29CQUNSLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRzt3QkFDZixDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsU0FBUztxQkFDekI7O2dCQUVILE9BQU8sR0FBRztZQUNaLENBQUMsRUFDRCxFQUFFLENBQ0gsQ0FDRjtRQUNILENBQUM7UUFFRDs7Ozs7O1NBTUcsR0FDSCxvQkFBZSxHQUFHLENBQUMsS0FBaUI7WUFDbEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQzdDLElBQUksTUFBTSxFQUFFO2dCQUNWLE1BQU0sQ0FBQyxLQUFZLENBQUM7O1FBRXhCLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsc0JBQWlCLEdBQUcsQ0FBQyxJQUFXO1lBQzlCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQzVCLENBQUMsTUFBTSxFQUFFLEdBQUc7Z0JBQ1YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUNsQyxPQUFPLE1BQU07YUFDZCxFQUNELEVBQUUsQ0FDSDtZQUVELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLFlBQVksR0FDdkMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVc7b0JBQzNCLE1BQU0sa0JBQWtCLEdBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUM7O29CQUU1RCxJQUFJLGtCQUFrQixFQUFFO3dCQUN0QixPQUFPOzRCQUNMLEdBQUcsV0FBVzs0QkFDZCxHQUFHLEVBQUU7Z0NBQ0gsVUFBVSxFQUFFLEtBQUs7Z0NBQ2pCLFFBQVEsRUFBRSxrQkFBa0I7NEJBQzdCO3lCQUNGOzs7O29CQUlILElBQUksV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFO3dCQUNsRCxPQUFPOzRCQUNMLEdBQUcsV0FBVzs0QkFDZCxHQUFHLEVBQUUsU0FBUzt5QkFDZjs7O29CQUdILE9BQU8sV0FBVztpQkFDbkIsQ0FBQyxDQUNIO1FBQ0gsQ0FBQztRQUVEOzs7Ozs7U0FNRyxHQUNILDBCQUFxQixHQUFHLENBQUMsYUFBNEI7WUFDbkQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ3pDLENBQUM7UUFFRDs7Ozs7O1NBTUcsR0FDSCx3QkFBbUIsR0FBRyxDQUFDLEVBQVU7WUFDL0IsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUN0RSxDQUFDO1FBRUQ7Ozs7Ozs7U0FPRyxHQUNILHVCQUFrQixHQUFHLENBQUMsaUJBQXlCO1lBQzdDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUN4QyxDQUFDLE1BQU0sR0FBSyxNQUFNLENBQUMsaUJBQWlCLEtBQUssaUJBQWlCLENBQzNEO1lBQ0QsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FDOUMsQ0FBQyxNQUFNLEdBQUssTUFBTSxDQUFDLGlCQUFpQixLQUFLLGlCQUFpQixDQUMzRDs7WUFFSCxPQUFPLE9BQU87UUFDaEIsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxnQ0FBMkIsR0FBRyxDQUFDLE1BQXVDO1lBQ3BFLElBQUksQ0FBQyxzQkFBc0IsR0FBRztnQkFBRSxHQUFHLElBQUksQ0FBQyxzQkFBc0I7Z0JBQUUsR0FBRyxNQUFNO1lBQUEsQ0FBRTtRQUM3RSxDQUFDO1FBRUQ7Ozs7OztTQU1HLEdBQ0gsMkJBQXNCLEdBQUcsQ0FBQyxJQUFrQjtZQUMxQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1lBQ3ZFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN0RSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdEUsSUFBSSxDQUFDLGVBQWUsQ0FDbEIsSUFBSSxDQUFDLGVBQWUsRUFDcEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsU0FBUyxDQUN0RDtZQUNELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsU0FBUyxDQUFDO1lBQ3BFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDNUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDckQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDckQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDdkQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUMzRCxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNqRSxJQUFJLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3pELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDakUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQztZQUM3RCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQy9ELENBQUM7UUFFRDs7Ozs7Ozs7U0FRRyxHQUNILElBQXNCLDBCQUFHLENBQ3ZCLFNBQXVCLEVBQ3ZCLGdCQUF3QixFQUN4QixnQkFBbUM7WUFFbkMsTUFBTSxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsU0FBUztZQUNyRSxNQUFNLG9CQUFvQixHQUN4QixnQkFBZ0IsRUFBRSxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFO1lBQ2pFLElBQUksQ0FBQyxlQUFlLENBQUM7Z0JBQ25CLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLCtCQUErQixFQUFFO2dCQUNoRSxPQUFPLFlBQVksQ0FBQyxHQUFHLENBQXlCLENBQUMsQ0FBQzs7OztvQkFJaEQsTUFBTSxtQkFBbUIsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO29CQUMxRCxNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQyxTQUFTLEtBQUssZ0JBQWdCO29CQUMzRCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLG1CQUFtQixFQUFFLENBQUMsRUFBRTt3QkFDL0Msa0JBQWtCO3dCQUNsQixlQUFlLEVBQUUscUJBQ2IsdUJBQ0EsQ0FBQyxDQUFDLGVBQWU7d0JBQ3JCLHVCQUF1QixFQUNyQixtQkFBbUIsRUFBRSx1QkFBdUIsSUFBSTs0QkFDOUMsVUFBVSxFQUFFLGVBQWUsQ0FBQyxPQUFPOzRCQUNuQyxnQkFBZ0IsRUFBRSxlQUFlLENBQUMsT0FBTzt3QkFDMUM7b0JBQ3NDLEVBQUM7Z0JBQzlDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQztZQUVGLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQ3RELElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxnQkFBZ0IsRUFBRSxTQUFTLElBQUksQ0FBQyxDQUFDO1lBQ25FLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUN2RSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQzlCLENBQUM7UUFFTyw0QkFBdUIsR0FBRyxDQUFDLEtBQTZCO1lBQzlELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sR0FDaEQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBSyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQy9EO1FBQ0gsQ0FBQztRQUVPLDBCQUFxQixHQUFHLENBQUMsS0FBMkI7WUFDMUQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFDdkMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsT0FBTyxHQUFLO3VCQUNsRCxPQUFPO3VCQUNQLEtBQUssQ0FBQyxPQUFPO2lCQUNqQixDQUFDO1FBQ0osQ0FBQztRQUVPLElBQTZCLGlDQUFHO1lBQ3RDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLE1BQU0sR0FBRyxhQUFhLElBQU07b0JBQ3BFLEdBQUcsTUFBTTtvQkFDVCxZQUFZLEVBQUUsS0FBSztvQkFDbkIsR0FBRyxFQUFFO3dCQUNILEdBQUcsTUFBTSxDQUFDLEdBQUk7d0JBQ2QsTUFBTSxFQUFFLEVBQUU7b0JBQ1g7Z0JBQ0YsR0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUVPLElBQStCLG1DQUFHO1lBQ3hDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLE1BQU0sR0FBRyxhQUFhLElBQU07b0JBQ3BFLEdBQUcsTUFBTTtvQkFDVCxZQUFZLEVBQUUsS0FBSztvQkFDbkIsR0FBRyxFQUFFO3dCQUNILEdBQUcsTUFBTSxDQUFDLEdBQUk7d0JBQ2QsTUFBTSxFQUFFLEVBQUU7b0JBQ1g7Z0JBQ0YsR0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUVPLHNDQUFpQyxHQUFHLENBQzFDLE9BQXdDOzs7WUFJeEMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxNQUFNLEVBQUU7WUFDM0QsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FDL0IsT0FBTyxDQUFDLDBCQUEwQixDQUNuQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxXQUFXLEdBQUssS0FBSyxHQUFHLFdBQVcsRUFBRSxDQUFDLENBQUM7WUFDeEQsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQztZQUMzRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUM7WUFDMUMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sQ0FBQywyQkFBMkIsSUFBSSxDQUFDLENBQUM7UUFDN0UsQ0FBQztRQUVPLDRDQUF1QyxHQUFHLENBQ2hELEtBQStDO1lBRS9DLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU87Z0JBQzFELElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxPQUFPO2dCQUM1QixPQUFPO29CQUNMLEdBQUcsT0FBTztvQkFDViwyQkFBMkIsRUFBRSxLQUFLLENBQUMsMkJBQTJCO29CQUM5RCwwQkFBMEIsRUFBRSxLQUFLLENBQUMsMEJBQTBCO2lCQUM3RDtZQUNILENBQUMsQ0FBQztZQUNGLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsQ0FBQztRQUVPLHFDQUFnQyxHQUFHLENBQ3pDLEtBQXNDO1lBRXRDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU87Z0JBQzFELElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxPQUFPO2dCQUM1QixNQUFNLEVBQUUsWUFBWSxFQUFFLDBCQUEwQixFQUFFLEdBQUcsT0FBTztnQkFDNUQsTUFBTSxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsR0FBRyxLQUFLLENBQUMsV0FBVztnQkFDbkQsT0FBTztvQkFDTCxHQUFHLE9BQU87b0JBQ1YsWUFBWSxFQUFFLFlBQVksQ0FBQyxNQUFNLENBQy9CLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxlQUFlLEtBQUssZUFBZSxDQUM3QztvQkFDRCwwQkFBMEIsRUFBRTt3QkFDMUIsR0FBRywwQkFBMEI7d0JBQzdCLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUNuQixDQUFDLEVBQ0QsQ0FBQywwQkFBMEIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxHQUFJLENBQUMsQ0FDakQ7b0JBQ0Y7aUJBQ0Y7WUFDSCxDQUFDLENBQUM7WUFDRixJQUFJLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUM7UUFFTyx1Q0FBa0MsR0FBRyxDQUMzQyxLQUF3QztZQUV4QyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxPQUFPO2dCQUMxRCxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sT0FBTztnQkFDNUIsTUFBTSxFQUFFLFlBQVksRUFBRSwwQkFBMEIsRUFBRSxHQUFHLE9BQU87Z0JBQzVELE1BQU0sRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLEdBQUcsS0FBSyxDQUFDLFdBQVc7Ozs7O2dCQUtuRCxJQUFJLHVCQUF1QixHQUFHLElBQUk7Z0JBQ2xDLE1BQU0sbUJBQW1CLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQzdDLElBQUksQ0FBQyxDQUFDLGVBQWUsS0FBSyxlQUFlLEVBQUU7d0JBQ3pDLHVCQUF1QixHQUFHLEtBQUs7d0JBQy9CLE9BQU8sS0FBSyxDQUFDLFdBQVc7O29CQUUxQixPQUFPLENBQUM7Z0JBQ1YsQ0FBQyxDQUFDO2dCQUNGLElBQUksdUJBQXVCLEVBQUU7O29CQUUzQixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7OztnQkFLN0MsTUFBTSxTQUFTLEdBQUcsdUJBQXVCLEdBQUcsQ0FBQyxHQUFHLENBQUM7Z0JBQ2pELE9BQU87b0JBQ0wsR0FBRyxPQUFPO29CQUNWLFlBQVksRUFBRSxtQkFBbUI7b0JBQ2pDLDBCQUEwQixFQUFFO3dCQUMxQixHQUFHLDBCQUEwQjt3QkFDN0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFJLDJCQUEwQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEdBQUksU0FBUztvQkFDdEU7aUJBQ0Y7WUFDSCxDQUFDLENBQUM7WUFDRixJQUFJLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUM7UUFFTyxrQkFBYSxHQUFHLENBQ3RCLEtBQWdFO1lBRWhFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sR0FDaEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07b0JBQ2pCLE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUNyQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsT0FBTyxLQUFLLE1BQU0sQ0FBQyxPQUFPLENBQ3BDO29CQUNELE9BQU8sWUFBWSxHQUFHLFlBQVksR0FBRyxNQUFNO2lCQUM1QyxDQUFDLENBQ0g7UUFDSCxDQUFDO1FBRU8sOEJBQXlCLEdBQUcsQ0FBQyxLQUF3QjtZQUMzRCxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsS0FBSyxDQUFDLFFBQVE7WUFDekQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLFlBQVk7Z0JBQ2hDLE9BQU8sWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O29CQUV4QixJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7O29CQUVsQyxPQUFPO3dCQUNMLEdBQUcsQ0FBQzt3QkFDSixRQUFRLEVBQUU7NEJBQ1IsSUFBSTs0QkFDSixVQUFVOzRCQUNWLE1BQU07d0JBQ1A7cUJBQ0Y7Z0JBQ0gsQ0FBQyxDQUFDO1lBQ0osQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQUVPLGdCQUFXLEdBQUcsQ0FBQyxLQUF5QjtZQUM5QyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLE9BQU87Z0JBQ3ZELElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxPQUFPO2dCQUM1QixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUssRUFBRSxLQUFLLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ3JELENBQUMsQ0FBQztRQUNKLENBQUM7UUFFTyxjQUFTLEdBQUcsQ0FBQyxLQUF1QjtZQUMxQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLE9BQU8sR0FBSzt1QkFDeEQsT0FBTyxJQUFJLEVBQUUsQ0FBQztvQkFDbEIsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO2lCQUNkLENBQUM7UUFDSixDQUFDO1FBRU8sMEJBQXFCLEdBQUcsQ0FBQyxLQUFrQztZQUNqRSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLEVBQUU7Z0JBQ25ELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQzs7UUFFN0UsQ0FBQztRQUVPLDZCQUF3QixHQUFHLENBQUMsS0FBeUI7WUFDM0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxLQUFLO2dCQUNyRCxNQUFNLEVBQUUsY0FBYyxFQUFFLEdBQUcsS0FBSztnQkFFaEMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFvQixHQUFLLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBSSxJQUFDLENBQUMsVUFBVSxFQUFFO2dCQUN6RSxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO2dCQUV4QyxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFLLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxVQUFVLENBQUM7Z0JBQ3hFLElBQUksU0FBUyxFQUFFLE9BQU8sS0FBSztnQkFFM0IsTUFBTSxTQUFTLEdBQUcsQ0FBQzt1QkFBRyxLQUFLO29CQUFFLGNBQWM7aUJBQUM7Z0JBRTVDLE1BQU0sRUFBRSxvQkFBb0IsR0FBRyxJQUFJLEVBQUUsa0JBQWtCLEdBQUcsQ0FBQyxFQUFFLEdBQzNELElBQUksQ0FBQyxzQkFBc0IsSUFBSSxFQUFFOztnQkFFbkMsSUFBSSxvQkFBb0IsR0FBRyxDQUFDLEVBQUU7b0JBQzVCLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQzt3QkFDeEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxRQUFRLEdBQ3hELFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLEdBQUssT0FBTyxLQUFLLGNBQWMsQ0FBQyxDQUN6RDt3QkFDRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztxQkFDNUMsRUFBRSxvQkFBb0IsQ0FBQztvQkFDeEIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDOztvQkFHaEQsSUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsa0JBQWtCLEVBQUUsQ0FBQyxFQUFFLENBQUU7d0JBQzlELE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQy9CLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO3dCQUM5QyxZQUFZLENBQUMsSUFBSSxDQUFDO3dCQUNsQixJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQzs7OztnQkFLeEMsT0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsa0JBQWtCLENBQUM7WUFDN0MsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQWxtQ0MsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxvQkFDMUIsWUFBWSxHQUNaLElBQUksQ0FBQyxtUkFBVyxDQUFDO1lBQUUsVUFBVSxFQUFFLENBQUM7WUFBRSxRQUFRLEVBQUUsSUFBSTtRQUFBLENBQUUsQ0FBQyxDQUFDO1FBRXZELElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVksRUFBRSxDQUFDLElBQUk7O1FBRy9ELDJRQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUM3QyxtUkFBVyxDQUFDO1lBQUUsVUFBVSxFQUFFLENBQUM7WUFBRSxRQUFRLEVBQUUsSUFBSTtRQUFBLENBQUUsQ0FBQyxDQUMvQztRQUVELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDOUMsMlFBQUcsQ0FBQyxDQUFDLFlBQVksR0FBSyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQ3JFLG1SQUFXLENBQUM7WUFBRSxVQUFVLEVBQUUsQ0FBQztZQUFFLFFBQVEsRUFBRSxJQUFJO1FBQUEsQ0FBRSxDQUFDLENBQy9DO1FBRUQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUNoRCwyUUFBRyxDQUFDLENBQUMsWUFBWSxHQUFLLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUN4RSxtUkFBVyxDQUFDO1lBQUUsVUFBVSxFQUFFLENBQUM7WUFBRSxRQUFRLEVBQUUsSUFBSTtRQUFBLENBQUUsQ0FBQyxDQUMvQztRQUVELElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDaEQsMlFBQUcsQ0FBQyxDQUFDLFlBQVksR0FBSyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDMUQsbVJBQVcsQ0FBQztZQUFFLFVBQVUsRUFBRSxDQUFDO1lBQUUsUUFBUSxFQUFFLElBQUk7UUFBQSxDQUFFLENBQUMsQ0FDL0M7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQzdDLDJRQUFHLENBQUMsQ0FBQyxZQUFZLEdBQUssWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxFQUNwRSxtUkFBVyxDQUFDO1lBQUUsVUFBVSxFQUFFLENBQUM7WUFBRSxRQUFRLEVBQUUsSUFBSTtRQUFBLENBQUUsQ0FBQyxDQUMvQztRQUVELElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDbkQsMlFBQUcsQ0FBQyxDQUFDLFlBQVksR0FBSyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ2xFLDRSQUFvQixFQUFFLEVBQ3RCLG1SQUFXLENBQUM7WUFBRSxVQUFVLEVBQUUsQ0FBQztZQUFFLFFBQVEsRUFBRSxJQUFJO1FBQUEsQ0FBRSxDQUFDLENBQy9DOztRQUdELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRTtRQUN0RCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxFQUFFO1FBQ2xELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUU7UUFDcEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFO1FBQ3RELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRTtRQUV0RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFlBQVksRUFBRTtRQUNsRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxFQUFFOztRQUdsRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUU7UUFDdEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksRUFBRTtRQUNoRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxFQUFFO1FBQ2hELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUU7UUFDbEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksRUFBRTtRQUNsRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFO1FBQ3BELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUU7UUFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFO1FBQ3hELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFlBQVksRUFBRTtRQUVoRTs7O1NBR0csR0FDSCxNQUFNLGNBQWMsR0FBRyxDQUFJLENBQVcsRUFBRSxDQUFXO1lBQ2pELElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sS0FBSztZQUN2QyxLQUFLLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLEtBQUs7WUFDekQsS0FBSyxNQUFNLElBQUksSUFBSSxDQUFDLENBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxLQUFLO1lBQ3pELE9BQU8sSUFBSTtRQUNiLENBQUM7UUFFRDs7O1NBR0csR0FDSCxNQUFNLEdBQUcsR0FBRyxDQUNWLE9BQTJCLEVBQzNCLFVBQW9DLEdBRXBDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsNFJBQW9CLENBQUMsVUFBVSxDQUFDLENBQUM7O1FBRy9ELElBQUksQ0FBQywwQkFBMEIsR0FBRyxHQUFHLENBQ25DLElBQUksQ0FBQyxnQ0FBZ0MsQ0FDdEM7UUFDRCxJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsY0FBYyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUM1QyxJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7UUFDbEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsY0FBYyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDO1FBQzFELElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUM1QyxJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7UUFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBRTlDLElBQUksQ0FBQyxhQUFhLEdBQUc7O1lBRW5CLDRCQUE0QixFQUFFLFNBQVM7WUFDdkMsa0JBQWtCLEVBQUUsU0FBUztZQUM3QixzQkFBc0IsRUFBRSxTQUFTO1lBQ2pDLHlCQUF5QixFQUFFLFNBQVM7WUFDcEMseUJBQXlCLEVBQUUsU0FBUztZQUNwQyxzQkFBc0IsRUFBRSxTQUFTO1lBQ2pDLDRCQUE0QixFQUFFLFNBQVM7WUFDdkMsNkJBQTZCLEVBQUUsU0FBUztZQUN4Qyw2QkFBNkIsRUFBRSxTQUFTO1lBQ3hDLHlCQUF5QixFQUFFLFNBQVM7WUFDcEMsMEJBQTBCLEVBQUUsU0FBUztZQUNyQyw4QkFBOEIsRUFBRSxTQUFTO1lBQ3pDLGlCQUFpQixFQUFFLFNBQVM7WUFDNUIsa0JBQWtCLEVBQUUsU0FBUztZQUM3QixlQUFlLEVBQUUsU0FBUztZQUMxQixjQUFjLEVBQUUsU0FBUztZQUN6QixjQUFjLEVBQUUsU0FBUztZQUN6QixNQUFNLEVBQUUsU0FBUzs7WUFHakIsZUFBZSxFQUFFLENBQUMsQ0FBQyxHQUFLLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzNELG1CQUFtQixFQUFFLElBQUksQ0FBQyxTQUFTO1lBQ25DLHFCQUFxQixFQUFFLElBQUksQ0FBQyx3QkFBd0I7WUFDcEQsNkJBQTZCLEVBQUU7Z0JBQzdCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEtBQUssQ0FBQzthQUNwRDtZQUNELDhCQUE4QixFQUFFO2dCQUM5QixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUM7YUFDbkQ7WUFDRCw4QkFBOEIsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxDQUFDO2FBQ3BEO1lBQ0QsY0FBYyxFQUFFLENBQUMsQ0FBQyxHQUFLLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzFELGNBQWMsRUFBRSxDQUFDLENBQUMsR0FBSyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUMxRCxZQUFZLEVBQUUsQ0FBQyxDQUFDO2dCQUNkLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQzthQUNsRDtZQUNELDZCQUE2QixFQUFFLENBQUMsQ0FBQztnQkFDL0IsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7YUFDcEM7WUFDRCw4QkFBOEIsRUFBRSxDQUFDLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQ3BDO1lBQ0QsOEJBQThCLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzthQUNwQztZQUNELDhCQUE4QixFQUFFLElBQUksQ0FBQywrQkFBK0I7WUFDcEUsK0JBQStCLEVBQUUsQ0FBQyxDQUFDO2dCQUNqQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzthQUNwQztZQUNELCtCQUErQixFQUFFLElBQUksQ0FBQyw2QkFBNkI7WUFDbkUsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLEdBQUssSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDL0QsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLHFCQUFxQjtZQUMvQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsdUJBQXVCO1lBQ25ELGdDQUFnQyxFQUFFLElBQUksQ0FBQyxhQUFhO1lBQ3BELHFCQUFxQixFQUFFLElBQUksQ0FBQyxhQUFhO1lBQ3pDLG1CQUFtQixFQUFFLENBQUMsQ0FBQztnQkFDckIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQzthQUMzQjtZQUNELDBCQUEwQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7WUFDdEQsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLHlCQUF5QjtZQUNuRCx3QkFBd0IsRUFBRSxJQUN4QixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUM7WUFDbkQsd0JBQXdCLEVBQUUsSUFDeEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDO1lBQ3BELHVCQUF1QixFQUFFLElBQ3ZCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEtBQUssQ0FBQztZQUNwRCxlQUFlLEVBQUUsQ0FBQyxDQUFDLEdBQUssSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDM0QsV0FBVyxFQUFFLENBQUMsQ0FBQyxHQUFLLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ3ZELGFBQWEsRUFBRSxDQUFDLENBQUMsR0FBSyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUN6RCxvQkFBb0IsRUFBRSxDQUFDLENBQUMsR0FBSyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNoRSx3Q0FBd0MsRUFDdEMsSUFBSSxDQUFDLHVDQUF1QztZQUM5QyxpQ0FBaUMsRUFDL0IsSUFBSSxDQUFDLGtDQUFrQztZQUN6QywrQkFBK0IsRUFBRSxJQUFJLENBQUMsZ0NBQWdDO1lBQ3RFLHNCQUFzQixFQUFFLENBQUMsQ0FBQyxHQUFLLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2xFLDRCQUE0QixFQUFFO2dCQUM1QixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUM7YUFDckQ7WUFDRCw0QkFBNEIsRUFBRTtnQkFDNUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDO2FBQ3REO1lBQ0QsMkJBQTJCLEVBQUU7Z0JBQzNCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQzthQUN0RDtZQUNELHFCQUFxQixFQUFFLElBQUksQ0FBQyxXQUFXO1lBQ3ZDLGNBQWMsRUFBRSxDQUFDLENBQUMsR0FBSyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUMzRDs7SUE4Q0g7OztLQUdHLEdBQ0gsSUFBSSxnQkFBZ0I7UUFDbEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzs7SUFhckQ7OztLQUdHLEdBQ0gsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7O0lBYTlDOztLQUVHLEdBQ0gsSUFBSSxVQUFVO1FBQ1osT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7O0lBYS9DOzs7S0FHRyxHQUNILElBQUkseUJBQXlCO1FBQzNCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUM7O0lBYTlEOztLQUVHLEdBQ0gsSUFBSSxZQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7O0lBR2pEOztLQUVHLEdBQ0gsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7O0lBY3BEOztLQUVHLEdBQ0gsSUFBSSxnQkFBZ0I7UUFDbEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzs7SUFHckQ7O0tBRUcsR0FDSCxJQUFJLGtCQUFrQjtRQUNwQixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDOztJQUd2RDs7S0FFRyxHQUNILElBQUksZUFBZTtRQUNqQixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDOztJQUdwRDs7S0FFRyxHQUNILElBQUksa0JBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7O0lBR3ZEOztLQUVHLEdBQ0gsSUFBSSxxQkFBcUI7UUFDdkIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQzs7SUFHMUQ7O0tBRUcsR0FDSCxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQzs7SUFhakQ7O0tBRUcsR0FDSCxJQUFJLGVBQWU7UUFDakIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQzs7SUFHcEQ7OztLQUdHLEdBQ0gsSUFBSSx5QkFBeUI7UUFDM0IsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUTs7SUFhN0M7O0tBRUcsR0FDSCxJQUFJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQzs7SUFhNUM7O0tBRUcsR0FDSCxJQUFJLGVBQWU7UUFDakIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQzs7SUFhcEQ7O0tBRUcsR0FDSCxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7SUFXOUM7O0tBRUcsR0FDSCxJQUFJLGNBQWM7UUFDaEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7O0lBR25EOztLQUVHLEdBQ0gsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7O0lBRzlDOztLQUVHLEdBQ0gsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7O0lBVzVDOztLQUVHLEdBQ0gsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7O0lBRzdDOztLQUVHLEdBQ0gsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7O0lBRzlDOztLQUVHLEdBQ0gsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7O0lBRzlDOztLQUVHLEdBQ0gsSUFBSSxNQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7O0lBRzNDOztLQUVHLEdBQ0gsSUFBSSxNQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7O0lBRzNDOztLQUVHLEdBQ0gsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7O0lBRzVDOztLQUVHLEdBQ0gsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7O0lBRzlDOztLQUVHLEdBQ0gsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7O0lBRzVDOztLQUVHLEdBQ0gsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7O0lBRzdDOztLQUVHLEdBQ0gsSUFBSSxZQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7O0lBR2pEOztLQUVHLEdBQ0gsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7O0lBRzVDOztLQUVHLEdBQ0gsSUFBSSxVQUFVO1FBQ1osT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7O0lBRy9DOztLQUVHLEdBQ0gsSUFBSSxjQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDOztBQTBpQnBEO0FDNzZDRDs7O0NBR0csR0FDRyxNQUFPLGdCQUFpQixTQUFRLEtBQUs7SUFNekM7O0tBRUcsR0FDSCxZQUFZLEtBQWU7UUFDekIsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDcEIsSUFBSSxDQUFDLElBQUksR0FBRyxrQkFBa0I7UUFDOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLOztBQUVyQjtBQ2xCRDs7OztDQUlHLEdBQ0ksTUFBTSxPQUFPLEdBQUcsQ0FBQyxNQUFzQjtJQUM1QyxNQUFNLEtBQUssR0FBZSxFQUFFO0lBQzVCLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDZixDQUFDLENBQUM7SUFDRixPQUFPLEtBQUs7QUFDZCxDQUFDO0FBRUQ7O0NBRUcsR0FDSSxNQUFNLFVBQVUsR0FBRyxDQUFDLE1BQW1CLElBQU07UUFDbEQsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1FBQ2IsTUFBTSxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLElBQU07Z0JBQ3pDLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRTtnQkFDWixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7Z0JBQ2hCLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSztnQkFDbEIsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO2dCQUN0QixLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7Z0JBQ2xCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM3QixHQUFDO0tBQ0gsRUFBQztBQUVLLE1BQU0sZUFBZSxHQUFHLENBQUMsYUFBNEI7SUFDMUQsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsRUFBRSxHQUFHLGFBQWE7SUFDMUMsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUMvQixNQUFNLFVBQVUsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDO0lBRXJDLE9BQU87UUFDTCxPQUFPO1FBQ1AsVUFBVTtRQUNWLEdBQUcsUUFBUTtLQUNaO0FBQ0gsQ0FBQztBQUVNLE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBb0I7SUFDN0MsT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUMsUUFDL0IsaUJBQ0EsR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDLGVBQzFCLHdCQUNBLFdBQVc7QUFDbkIsQ0FBQztBQUVNLE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBb0I7SUFDaEQsT0FBTyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFJLE1BQUcsQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLG1CQUFtQjtBQUM3RSxDQUFDO0FDbkNELE1BQU0sT0FBTyxHQUFHLFFBQWtDO0FBQ2xELE1BQU0sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0FBRWhELElBQUksT0FBTyxHQUFvQjtJQUM3QixJQUFJLEVBQUUsT0FBTyxDQUFDLGdCQUFnQjtJQUM5QixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7Q0FDTjtBQUVELElBQUksTUFBc0I7QUFDMUIsSUFBSSxVQUE4QjtBQUNsQyxJQUFJLFVBQXNDO0FBQzFDLElBQUksV0FBVyxHQUFvQztJQUFFLFNBQVMsRUFBRSxTQUFTO0FBQUEsQ0FBRTtBQUU5RCxnQkFBVSxHQUFHLENBQUMsSUFBUztJQUNsQyxPQUFPLEdBQUcsSUFBSTtBQUNoQjtBQUVPLE1BQU0sVUFBVSxHQUFHO0lBQ3hCLE9BQU8sT0FBTztBQUNoQjtBQUVhLGVBQVMsR0FBRyxDQUFDLElBQVE7SUFDaEMsTUFBTSxHQUFHLElBQUk7QUFDZjtBQUVhLG1CQUFhLEdBQUcsQ0FBQyxJQUFZO0lBQ3hDLFVBQVUsR0FBRyxJQUFJO0FBQ25CO0FBRU8sTUFBTSxhQUFhLEdBQUc7SUFDM0IsT0FBTyxVQUFVO0FBQ25CO0FBRWEsbUJBQWEsR0FBRyxDQUFDLElBQW9CO0lBQ2hELFVBQVUsR0FBRyxJQUFJO0FBQ25CO0FBRWEscUJBQWUsR0FBRyxDQUFDLEtBQWE7SUFDM0MsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNYLFdBQVcsR0FBRztZQUFFLFNBQVMsRUFBRSxTQUFTO1FBQUEsQ0FBRTtRQUN0Qzs7SUFHRixJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQzdCLE1BQU0sWUFBWSxHQUNoQixtQkFBbUIsQ0FBQyxLQUF5QyxDQUFDLElBQzlELG1CQUFtQixDQUFDLFdBQVc7UUFFakMsV0FBVyxHQUFHO1lBQ1osU0FBUyxFQUFFLFNBQVM7WUFDcEIsT0FBTyxFQUFFO2dCQUNQLFlBQVk7Z0JBQ1osZ0JBQWdCLEVBQ2QsV0FBVyxFQUFFLFNBQVMsS0FBSyxTQUFTLElBQ3BDLFdBQVcsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCO1lBQ3ZDO1NBQ0Y7O0lBR0gsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEtBQUssRUFBRTtRQUN2QyxNQUFNLFlBQVksR0FDaEIsaUJBQWlCLENBQUMsS0FBdUMsQ0FBQyxJQUMxRCxpQkFBaUIsQ0FBQyxXQUFXO1FBRS9CLFdBQVcsR0FBRztZQUNaLFNBQVMsRUFBRSxPQUFPO1lBQ2xCLEtBQUssRUFBRTtnQkFDTCxZQUFZO2dCQUNaLHFCQUFxQixFQUNuQixXQUFXLEVBQUUsU0FBUyxLQUFLLE9BQU8sSUFDbEMsV0FBVyxDQUFDLEtBQUssQ0FBQyxxQkFBcUI7WUFDMUM7U0FDRjs7QUFFTDtBQUVhLG1CQUFhLEdBQUcsQ0FBQyxTQUFrQjtJQUM5QyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ1gsV0FBVyxHQUFHO1lBQUUsU0FBUyxFQUFFLFNBQVM7UUFBQSxDQUFFO1FBQ3RDOztJQUdGLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7UUFDN0IsV0FBVyxHQUFHO1lBQ1osU0FBUyxFQUFFLFNBQVM7WUFDcEIsT0FBTyxFQUFFO2dCQUNQLFlBQVksRUFDVixXQUFXLEVBQUUsU0FBUyxLQUFLLFlBQ3ZCLFdBQVcsQ0FBQyxPQUFPLENBQUMsZUFDcEIsbUJBQW1CLENBQUMsV0FBVztnQkFDckMsZ0JBQWdCLEVBQUUsU0FBUztZQUM1QjtTQUNGOztJQUdILElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsS0FBSyxLQUFLLEVBQUU7UUFDdkMsV0FBVyxHQUFHO1lBQ1osU0FBUyxFQUFFLE9BQU87WUFDbEIsS0FBSyxFQUFFO2dCQUNMLFlBQVksRUFDVixXQUFXLEVBQUUsU0FBUyxLQUFLLFVBQ3ZCLFdBQVcsQ0FBQyxLQUFLLENBQUMsZUFDbEIsaUJBQWlCLENBQUMsV0FBVztnQkFDbkMscUJBQXFCLEVBQUUsU0FBUztZQUNqQztTQUNGOztBQUVMO0FBRU8sTUFBTSxjQUFjLEdBQUc7SUFDNUIsT0FBTyxXQUFXO0FBQ3BCO0FBRWEsc0JBQWdCLEdBQUc7SUFDOUIsSUFBSSxhQUFhLEVBQUUsRUFBRTs7UUFFbkIsT0FBTztZQUNMLEdBQUcsRUFBRSxPQUFPO1lBQ1osRUFBRSxFQUFFLE1BQU07WUFDVixNQUFNLEVBQUUsVUFBVTtTQUNuQjs7O0lBSUgsTUFBTSxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsYUFBYTtJQUNoRCxJQUFJLGFBTVM7SUFDYixJQUFJLGdCQUFnQixJQUFJLGdCQUFnQixDQUFDLG9CQUFvQixFQUFFO1FBQzdELElBQUk7WUFDRixhQUFhLEdBQUcsTUFBTSxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztnQkFDMUQsVUFBVTtnQkFDVixpQkFBaUI7Z0JBQ2pCLGlCQUFpQjthQUNsQixDQUFDO1VBQ0YsT0FBTTs7OztJQUtWLE1BQU0sU0FBUyxHQUFHLElBQUksa0RBQVEsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO0lBQ25ELE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFOzs7Ozs7OztJQVExRCxNQUFNLFNBQVMsR0FBRyxhQUFhLEVBQUUsZUFBZSxFQUFFLElBQUksQ0FDcEQsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQ3pFO0lBQ0QsT0FBTztRQUNMLEdBQUcsRUFBRSxPQUFPO1FBQ1osT0FBTyxFQUFFO1lBQ1AsSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxTQUFTLENBQUMsU0FBUztZQUM3RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxJQUFJLEVBQUU7UUFDckQ7UUFDRCxFQUFFLEVBQUU7WUFDRixJQUFJLEVBQUUsYUFBYSxFQUFFLFFBQVEsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxlQUFlLElBQUksRUFBRSxDQUFDLE9BQU8sSUFBSSxFQUFFO1lBQzNELFlBQVksRUFBRSxHQUFHLENBQUMsWUFBWSxJQUFJLEVBQUU7UUFDckM7UUFDRCxNQUFNLEVBQUU7WUFDTixJQUFJLEVBQUU7Z0JBQUMsTUFBTSxDQUFDLE1BQU07Z0JBQUUsTUFBTSxDQUFDLEtBQUs7Z0JBQUUsTUFBTSxDQUFDLElBQUk7YUFBQSxDQUM1QyxNQUFNLENBQUMsT0FBTyxFQUNkLElBQUksQ0FBQyxHQUFHLENBQUM7WUFDWixPQUFPLEVBQUUsRUFBRTtRQUNaO0tBQ0Y7QUFDSDtBQy9MQTs7Q0FFRyxHQUNJLE1BQU0sUUFBUSxHQUFHO0lBQ3RCLElBQUksT0FBTyxTQUFTLEtBQUssV0FBVyxFQUFFLE9BQU8sS0FBSztJQUNsRCxPQUFPLGdDQUFnQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztBQUN6RSxDQUFDO0FBRUQ7O0NBRUcsR0FDSSxNQUFNLFNBQVMsR0FBRztJQUN2QixJQUFJLE9BQU8sU0FBUyxLQUFLLFdBQVcsRUFBRSxPQUFPLEtBQUs7SUFDbEQsT0FBTyxTQUFTLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFDakQsQ0FBQztBQUVEOztDQUVHLEdBQ0ksTUFBTSxRQUFRLEdBQUc7SUFDdEIsSUFBSSxPQUFPLFNBQVMsS0FBSyxXQUFXLEVBQUUsT0FBTyxLQUFLO0lBQ2xELE9BQU8sU0FBUyxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDO0FBQ2hELENBQUM7QUFFRDs7Ozs7Q0FLRyxHQUNJLE1BQU0sa0JBQWtCLEdBQUc7SUFDaEMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLE1BQU0sZ0JBQWdCLEVBQUU7SUFDNUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLEtBQUssQ0FBQztJQUUzQixNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtJQUN2QyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQzFDLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO0lBQ25DLE9BQ0UsSUFBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxPQUFPLElBQUksR0FBRyxJQUN6QyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLE9BQU8sSUFBSSxHQUFHLENBQUMsR0FDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxPQUFPLElBQUksR0FBRyxDQUFDLEdBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksT0FBTyxJQUFJLEVBQUUsQ0FBQyxHQUN6QyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLE9BQU8sSUFBSSxHQUFHLENBQUM7SUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxPQUFPLElBQUksR0FBRyxDQUFDOztBQUVoRCxDQUFDOzs7Ozs7OztBQ3NCRDs7Q0FFRyxHQUNJLE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxFQUNsQyxVQUFVLEVBQ1YsU0FBUyxFQUNULEtBQUssRUFDTCxVQUFVLEVBQ1YsbUJBQW1CLEdBQUcsSUFBSSxFQUNSO0lBQ2xCLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUFDLE9BQU87S0FBQyxDQUFDO0lBQ25DLE1BQU0sbUJBQW1CLEdBQUcsT0FDMUIsSUFBd0IsRUFDeEIsUUFBMkI7UUFFM0IsSUFBSSxJQUFJLEtBQUssWUFBWSxJQUFJLFVBQVUsRUFBRTtZQUN2QyxPQUFPLFVBQVUsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2VBQy9CLElBQUksSUFBSSxLQUFLLFdBQVcsSUFBSSxTQUFTLEVBQUU7WUFDNUMsT0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztlQUM5QjtZQUNMLE9BQU8sU0FBUzs7SUFFcEIsQ0FBQztJQUVELE1BQU0saUJBQWlCLEdBQUcsT0FDeEIsSUFBd0IsRUFDeEIsTUFBMEI7UUFFMUIsTUFBTSxFQUFFLEdBQUcsSUFBSSxLQUFLLFlBQVksR0FBRyxVQUFVLEdBQUcsU0FBUztRQUN6RCxJQUFJLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRTtRQUNsQixNQUFNLGNBQWMsR0FBa0IsRUFBRTtRQUN4QyxLQUFLLE1BQU0sS0FBSyxJQUFJLE1BQU0sQ0FBRTtZQUMxQixNQUFNLE1BQU0sR0FBRyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO1lBQ3ZDLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUU7Z0JBQzlCLFNBQVMsRUFBRSxLQUFLLENBQUMsSUFBeUI7Z0JBQzFDLElBQUk7Z0JBQ0osU0FBUyxFQUFFLFNBQVM7WUFDckIsRUFBQztZQUNGLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDOztRQUU1QixPQUFPLGNBQWM7SUFDdkIsQ0FBQztJQUVELE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxTQUFpQjtRQUMvQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2hDLEtBQUssR0FBRyxFQUFFO0lBQ1osQ0FBQztJQUVELE1BQU0scUJBQXFCLEdBQUcsQ0FBQyxTQUFpQjtRQUM5QyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ25DLEtBQUssR0FBRyxFQUFFO0lBQ1osQ0FBQztJQUVELE1BQU0saUJBQWlCLEdBQUcsSUFBSSxHQUFHLEVBQVU7SUFFM0M7O0tBRUcsR0FDSCxNQUFNLEdBQUcsR0FBRztRQUNWLE1BQU0sZ0JBQWdCLEdBQTRCLEVBQUU7UUFDcEQsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFO1lBQzlCLE1BQU0sVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLGlCQUFpQixDQUFDO1lBQzdDLEtBQUssTUFBTSxXQUFXLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBRTtnQkFDNUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUM1QyxNQUFNLEVBQ0osV0FBVyxFQUNYLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsTUFBTSxFQUNOLFdBQVcsRUFDWixHQUFHLFdBQVc7Z0JBQ2YsTUFBTSxJQUFJLEdBQUcsa0JBQWtCLEdBQUcsV0FBVyxHQUFHLFlBQVk7Z0JBQzVELElBQUk7b0JBQ0YsTUFBTSxNQUFNLEdBQUcscUJBQ1gsU0FBUyxFQUFFLGtCQUFrQixFQUFFLElBQUksS0FDbkM7MkJBQ00sV0FBVyxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsQ0FBQzsyQkFDcEMsV0FBVyxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUU7cUJBQ3hDO29CQUNMLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0saUJBQWlCLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQztrQkFDbkUsT0FBTyxDQUFDLEVBQUU7b0JBQ1YsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFxQix3QkFBSSxDQUFjLG1CQUFNLENBQUUsR0FBRSxDQUFDLENBQUM7Ozs7UUFLeEUsTUFBTSxDQUFDLGtCQUFrQixFQUFFLGlCQUFpQixDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQ2hFLG1CQUFtQixDQUFDLFlBQVksQ0FBQztZQUNqQyxTQUFTLEdBQUcsbUJBQW1CLENBQUMsV0FBVyxDQUFDLEdBQUcsU0FBUztTQUN6RCxDQUFDO1FBRUYsTUFBTSxPQUFPLEdBQUcsQ0FBQyxNQUFzQixFQUFFLElBQXdCLEdBQy9ELFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUk7Z0JBQUUsU0FBUyxFQUFFLE9BQU87Z0JBQUUsU0FBUztZQUFBLENBQUUsQ0FBQyxDQUFDO1FBRXZFLE1BQU0sZUFBZSxHQUFHLHFCQUNwQixPQUFPLENBQUMsa0JBQWtCLEVBQUUsWUFBWSxJQUN4QyxhQUFhLEVBQUU7UUFDbkIsTUFBTSxjQUFjLEdBQUcsb0JBQ25CLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxXQUFXLElBQ3RDLGFBQWEsRUFBRTtRQUVuQixLQUFLLENBQUMsa0JBQWtCLENBQUM7WUFDdkIsVUFBVTtZQUNWLGNBQWM7WUFDZCxlQUFlO1lBQ2Ysa0JBQWtCO1lBQ2xCLGlCQUFpQjtZQUNqQixZQUFZLEVBQUUsZ0JBQWdCO1lBQzlCLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ3RCLEVBQUM7SUFDSixDQUFDO0lBRUQsSUFBSSxTQUFxQztJQUN6QyxJQUFJLG1CQUFtQixHQUFHLENBQUMsRUFBRTtRQUMzQixNQUFNLElBQUksR0FBRzs7O1lBR1gsSUFBSSxLQUFLLENBQUMseUJBQXlCLEVBQUU7Z0JBQ25DLE1BQU0sR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDbEIsTUFBTSxDQUFDLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxDQUFDLENBQUM7Z0JBQy9DLENBQUMsQ0FBQzs7WUFFSixTQUFTLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRSxtQkFBbUIsQ0FBQztRQUNuRCxDQUFDO1FBQ0QsS0FBSyxJQUFJLEVBQUU7O0lBR2IsTUFBTSxJQUFJLEdBQUc7UUFDWCxJQUFJLFNBQVMsRUFBRTtZQUNiLFlBQVksQ0FBQyxTQUFTLENBQUM7O0lBRTNCLENBQUM7SUFFRCxPQUFPO1FBQ0wsbUJBQW1CO1FBQ25CLGlCQUFpQjtRQUNqQixzQkFBc0I7UUFDdEIscUJBQXFCO1FBQ3JCLElBQUk7S0FDTDtBQUNILENBQUM7QUFpQkQ7Ozs7O0NBS0csR0FDSCxNQUFNLFNBQVMsR0FBRyxDQUNoQixNQUFzQixFQUN0QixJQUF3QjtJQUV4QixNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJO0lBQzNDLE1BQU0sU0FBUyxHQUFHLElBQUksS0FBSyxZQUFZLEdBQUcsYUFBYSxHQUFHLGNBQWM7SUFDeEUsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUM3QixNQUFNLE9BQU8sR0FBRyxNQUNiLE1BQU0sQ0FDTCxDQUFDLElBQUksR0FDSCxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsSUFDdEIsSUFBMEIsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUVqRCxHQUFHLENBQUMsQ0FBQyxJQUFJO1FBQ1IsTUFBTSxjQUFjLEdBQUcsSUFDSTtRQUUzQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUN0QixDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLGNBQWMsQ0FBQyxPQUFPLENBQ2hDO1FBRTlCLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQzFCLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssV0FBVyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssY0FBYyxDQUFDLFdBQVcsQ0FDcEM7UUFFbEMsSUFBSSxhQUFpQztRQUNyQyxJQUFJLFNBQVMsSUFBSSxTQUFTLENBQUMsU0FBUyxLQUFLLFdBQVcsRUFBRTtZQUNwRCxNQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUM5QixDQUFDLENBQUMsR0FDQSxDQUFDLENBQUMsSUFBSSxLQUFLLGdCQUFnQixJQUMzQixDQUFDLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQyx1QkFBdUIsQ0FDTDtZQUN6QyxhQUFhLEdBQUcsYUFBYSxFQUFFLG9CQUFvQjs7UUFHckQsSUFBSSxTQUFnQztRQUNwQyxJQUFJLElBQUksS0FBSyxXQUFXLElBQUksU0FBUyxFQUFFO1lBQ3JDLE1BQU0sT0FBTyxHQUFHLFNBQVMsRUFBRTtZQUMzQixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUM1QixDQUFDLENBQUMsR0FDQSxDQUFDLENBQUMsSUFBSSxLQUFLLGNBQWM7aUJBRXhCLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxjQUFjLENBQUMsY0FBYyxDQUN4QjtZQUNwQyxJQUFJLFdBQVcsRUFBRTtnQkFDZixTQUFTLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDOzs7UUFJbkUsT0FBTztZQUNMLFNBQVMsRUFBRSxjQUFjLENBQUMsU0FBUztZQUNuQyxhQUFhLEVBQUUsY0FBYyxDQUFDLGFBQWE7WUFDM0MsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRO1lBQ3RCLG9CQUFvQixFQUFFLGFBQWE7WUFDbkMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxXQUFXO1lBQ3ZDLFVBQVUsRUFBRSxjQUFjLENBQUMsVUFBVTtZQUNyQyxlQUFlLEVBQUUsY0FBYyxDQUFDLGVBQWU7WUFDL0MsTUFBTSxFQUFFLGNBQWMsQ0FBQyxNQUFNO1lBQzdCLElBQUksRUFBRSxjQUFjLENBQUMsSUFBSTtZQUN6QixhQUFhLEVBQUUsY0FBYyxDQUFDLGFBQWE7WUFDM0MsdUJBQXVCLEVBQUUsY0FBYyxDQUFDLHVCQUF1QjtZQUMvRCxHQUFHLEVBQUUsY0FBYyxDQUFDLEdBQUc7WUFDdkIsSUFBSSxFQUFFLGNBQWMsQ0FBQyxJQUFJO1lBQ3pCLFNBQVM7U0FDVjtJQUNILENBQUMsQ0FBQztJQUVKLE9BQU87UUFDTCxRQUFRLEVBQUUsTUFBTTtRQUNoQixPQUFPO1FBQ1AsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7S0FDdEI7QUFDSCxDQUFDO0FBRUQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFtQjtJQUN4QyxPQUFPO1FBQ0wsU0FBUyxFQUFFLEtBQUssSUFBSTtZQUFFLE9BQU8sRUFBRSxFQUFFO1lBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFBQSxDQUFFO1FBQzFELGNBQWMsRUFBRSxDQUFDO1FBQ2pCLGtCQUFrQixFQUFFLENBQUM7UUFDckIsaUJBQWlCLEVBQUUsQ0FBQztRQUNwQix3QkFBd0IsRUFBRSxDQUFDO1FBQzNCLHdCQUF3QixFQUFFLE1BQU07UUFDaEMsaUJBQWlCLEVBQUUsQ0FBQztRQUNwQixrQkFBa0IsRUFBRSxDQUFDO1FBQ3JCLHNCQUFzQixFQUFFLENBQUM7UUFDekIsS0FBSyxFQUFFLEVBQUU7UUFDVCxpQkFBaUIsRUFBRSxFQUFFO1FBQ3JCLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO0tBQ3RCO0FBQ0gsQ0FBQztBQUVEOzs7O0NBSUcsR0FDSCxNQUFNLFNBQVMsR0FBRyxDQUFDLEtBQWtCO0lBQ25DLE1BQU0sZUFBZSxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFFNUMsSUFBSSxPQUFPLEdBQUcsRUFBRTtJQUNoQixNQUFNLElBQUksR0FBRyxDQUFDLENBQVMsRUFBRSxDQUFTLEdBQUssQ0FBQyxHQUFHLENBQUM7SUFFNUMsTUFBTSx3QkFBd0IsR0FBRyxJQUFJLEdBQUcsRUFBVTtJQUNsRCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTztJQUM3QixNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLE1BQU07UUFDeEMsR0FBRyxDQUFDLGNBQWMsSUFBSSxNQUFNLENBQUMsU0FBUyxJQUFJLENBQUM7UUFDM0MsR0FBRyxDQUFDLGtCQUFrQixJQUFJLE1BQU0sQ0FBQyxhQUFhLElBQUksQ0FBQztRQUNuRCxHQUFHLENBQUMsaUJBQWlCLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDO1FBQzNDLEdBQUcsQ0FBQyx3QkFBd0IsSUFBSSxNQUFNLENBQUMsb0JBQW9CLElBQUksQ0FBQzs7UUFHaEUsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksQ0FBQyxFQUFFLE1BQU0sQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDO1FBQ3hFLElBQUksVUFBVSxHQUFHLE9BQU8sRUFBRTtZQUN4QixHQUFHLENBQUMsaUJBQWlCLEdBQUcsTUFBTSxDQUFDLFVBQVUsSUFBSSxDQUFDO1lBQzlDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxNQUFNLENBQUMsV0FBVyxJQUFJLENBQUM7WUFDaEQsR0FBRyxDQUFDLHNCQUFzQixHQUFHLE1BQU0sQ0FBQyxlQUFlLElBQUksQ0FBQztZQUN4RCxPQUFPLEdBQUcsVUFBVTs7UUFHdEIsd0JBQXdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsSUFBSSxFQUFFLENBQUM7UUFDbEUsT0FBTyxHQUFHO0tBQ1gsRUFBRSxlQUFlLENBQUM7SUFFbkIsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN0QixNQUFNLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDbkMsTUFBTyxDQUFDLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUksSUFBSSxDQUNuRDtRQUNELE1BQU0sQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUMxQyxNQUFPLENBQUMsd0JBQXdCLEdBQUcsT0FBTyxDQUFDLE1BQU0sR0FBSSxJQUFJLENBQzFEOztRQUVELE1BQU0sQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ3JDLE1BQU0sQ0FBQyxpQkFBaUIsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUN2QyxDQUFDLEdBQUcsRUFBRSxNQUFNO1lBQ1YsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUNwQixHQUFHLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLElBQUksRUFBRTs7WUFFNUMsT0FBTyxHQUFHO1NBQ1gsRUFDRCxFQUErQixDQUNoQzs7SUFHSCxNQUFNLHVCQUF1QixHQUFHO1FBQzlCLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLO1FBQzVDLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxXQUFXO1FBQ3hELHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPO0tBQ2pELENBQ0UsTUFBTSxDQUFDLE9BQU8sRUFDZCxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2IsSUFBSSx1QkFBdUIsRUFBRTtRQUMzQixNQUFNLENBQUMsd0JBQXdCLEdBQUcsdUJBQXVCOztJQUczRCxPQUFPLE1BQU07QUFDZixDQUFDO01DcldZLGdCQUFnQjtJQXVCM0IsV0FDRSxVQUEwQixFQUMxQixFQUNFLE9BQU8sRUFDUCxhQUFhLEVBQ2IsVUFBVSxFQUNWLFNBQVMsRUFDVCxVQUFVLEVBQ1YsTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEVBQ04sZ0JBQWdCLEVBQ1E7UUFsQ1gsV0FBTSxHQUFHLFNBQVMsQ0FBQztZQUFDLGtCQUFrQjtTQUFDLENBQUM7UUFvQnhDLGlCQUFZLEdBQUcsSUFBSSxHQUFHLEVBQWtDO1FBdUNqRSxrQkFBYSxHQUFHLENBQ3RCLE1BQXlDLEVBQ3pDLElBQXNCO1lBRXRCLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxHQUFHLE1BQU0sQ0FBQyxLQUFLO1lBQ2hELElBQUksQ0FBQyx3Q0FBd0MsSUFBSTtZQUNqRCxJQUFJLENBQUMsd0NBQXdDLEdBQUcsa0JBQWtCLENBQ2hFLHFSQUFhLENBQUM7Z0JBQUMsdUJBQXVCO2dCQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCO2FBQUMsQ0FBQyxFQUNyRSxDQUFDLENBQUMsc0JBQXNCLEVBQUUsZUFBZSxDQUFDOzs7O2dCQUl4QyxJQUFJLENBQUMsa0NBQWtDLElBQUk7Z0JBQzNDLE1BQU0sYUFBYSxHQUNqQixJQUFJLEtBQUssUUFDTCxlQUFlLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLElBQ2pELGVBQWUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQztnQkFDeEQsSUFBSSxzQkFBc0IsS0FBSyxTQUFTLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQzFELElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRTt3QkFDMUIsYUFBYSxFQUFFLEVBQUU7d0JBQ2pCLGdCQUFnQixFQUFFLEVBQUU7d0JBQ3BCLFdBQVcsRUFBRSxLQUFLO29CQUNuQixFQUFDO29CQUNGOztnQkFFRixJQUFJLENBQUMsa0NBQWtDLEdBQUcsa0JBQWtCLENBQzFELHFSQUFhLENBQUM7b0JBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtvQkFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWU7aUJBQUMsQ0FBQyxFQUNuRSxDQUFDLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQztvQkFDbEIsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQztvQkFDN0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFO3dCQUMxQixhQUFhLEVBQUUsUUFBUSxFQUFFLEtBQUssSUFBSSxRQUFRLElBQUksRUFBRTt3QkFDaEQsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM3QyxXQUFXLEVBQUUsSUFBSTtvQkFDbEIsRUFBQztnQkFDSixDQUFDLENBQ0Y7WUFDSCxDQUFDLENBQ0Y7UUFDSCxDQUFDO1FBRUQsdUJBQWtCLEdBQUcsQ0FBQyxxQkFBNkI7WUFDakQsSUFBSSxDQUFDLGlCQUFpQixDQUFDO2dCQUNyQixJQUFJLEVBQUU7b0JBQ0osU0FBUyxFQUFFLHVCQUF1QjtvQkFDbEMscUJBQXFCO2dCQUN0QjtZQUNGLEVBQUM7UUFDSixDQUFDO1FBRUQseUJBQW9CLEdBQUcsQ0FDckIsUUFBb0MsRUFDcEMsV0FBbUI7WUFFbkIsSUFBSSxDQUFDLGlCQUFpQixDQUFDO2dCQUNyQixJQUFJLEVBQUU7b0JBQ0osU0FBUyxFQUFFLGNBQWM7b0JBQ3pCLFlBQVksRUFBRTt3QkFBRSxRQUFRO3dCQUFFLFdBQVc7b0JBQUEsQ0FBRTtnQkFDeEM7WUFDRixFQUFDO1FBQ0osQ0FBQztRQUVPLHNCQUFpQixHQUFHLENBQUMsYUFBd0I7OztZQUduRCxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7Z0JBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLCtCQUErQixFQUFFLEdBQUcsQ0FBQztZQUMzRCxDQUFDLENBQUM7UUFDSixDQUFDO1FBRU8sUUFBRyxHQUFHLE9BQU8sU0FBcUI7WUFDeEMsTUFBTSxDQUFDLGVBQWUsRUFBRSxjQUFjLENBQUMsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUM7Z0JBQzFELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRTtnQkFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFO2FBQzVCLENBQUM7WUFFRixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFLGVBQWUsQ0FBQyxLQUFLLENBQUM7WUFDaEUsSUFBSSxjQUFjLEVBQUU7Z0JBQ2xCLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxVQUFVLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBQzs7WUFHakUsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO1lBQ3RELE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtZQUNyRCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtZQUNqQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRTtZQUMxQyxNQUFNLE1BQU0sR0FBa0I7bUJBQ3pCLE1BQU0sQ0FBQyxRQUFRO21CQUNkLFFBQVEsRUFBRSxRQUFRLElBQUksRUFBRSxDQUFDO21CQUN6QixjQUFjLEVBQUUsUUFBUSxJQUFJLEVBQUUsQ0FBQzttQkFDL0IsZUFBZSxFQUFFLFFBQVEsSUFBSSxFQUFFO2FBQ3BDO1lBRUQsSUFBSTtnQkFDRixNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM3QixHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU87b0JBQ2pCLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtvQkFDM0IsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO29CQUNqQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUMvRCxjQUFjLEVBQUUsaUJBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUM1QyxJQUFJO29CQUNSLGtCQUFrQixFQUFFLEVBQUU7b0JBQ3RCLGlCQUFpQixFQUFFLEVBQUU7b0JBQ3JCLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztvQkFDaEMsV0FBVyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsSUFBSSxFQUFFO29CQUNuRCxXQUFXLEVBQUUsZUFBZSxDQUFDLGdCQUFnQjtvQkFDN0MsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztvQkFDMUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztvQkFDN0MsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjtvQkFDdkMsV0FBVyxFQUFFLGNBQWMsRUFBRTtvQkFDN0IsU0FBUztnQkFDVixFQUFDO2NBQ0YsT0FBTyxHQUFHLEVBQUU7Z0JBQ1osY0FBYyxFQUFFLFFBQVEsRUFBRTtnQkFDMUIsZUFBZSxFQUFFLFFBQVEsRUFBRTtnQkFDM0IsTUFBTSxDQUFDLFFBQVEsRUFBRTtnQkFDakIsUUFBUSxFQUFFLFFBQVEsRUFBRTtnQkFDcEIsTUFBTSxHQUFHOztRQUViLENBQUM7UUFFRCxJQUFLLFNBQUc7WUFDTixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLElBQUksQ0FBQyxFQUFFO1lBRTdDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUM7WUFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQztZQUV6QyxhQUFhLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztZQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLFdBQVcsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7b0JBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLHdCQUF3QixFQUFFLEdBQUcsQ0FBQztnQkFDcEQsQ0FBQyxDQUFDO1lBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUM7UUFDeEMsQ0FBQztRQUVELElBQUksUUFBRztZQUNMLElBQUksQ0FBQyx3Q0FBd0MsSUFBSTtZQUNqRCxJQUFJLENBQUMsd0NBQXdDLEdBQUcsU0FBUztZQUN6RCxJQUFJLENBQUMsa0NBQWtDLElBQUk7WUFDM0MsSUFBSSxDQUFDLGtDQUFrQyxHQUFHLFNBQVM7WUFFbkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUU7WUFDekIsYUFBYSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTO1lBQzNCLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzVCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUztRQUM1QixDQUFDO1FBRUQsSUFBSyxTQUFHO1lBQ04sSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7Z0JBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLDhCQUE4QixFQUFFLEdBQUcsQ0FBQztZQUMxRCxDQUFDLENBQUM7UUFDSixDQUFDO1FBRUQsZ0JBQVcsR0FBRyxDQUFDLE9BQWU7WUFDNUIsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO29CQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSx3QkFBd0IsRUFBRSxHQUFHLENBQUM7Z0JBQ3BELENBQUMsQ0FBQzthQUNILEVBQUUsT0FBTyxDQUFDO1FBQ2IsQ0FBQztRQXZMQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVM7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPO1FBQ3RCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVTtRQUM1QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVO1FBQzVCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO1FBQ3BCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0I7UUFFeEMsTUFBTSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxhQUFhO1FBQ3RDLElBQUksQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUM7OztRQUlwQyxNQUFNLFVBQVUsR0FBRyxhQUFhLEVBQUU7UUFDbEMsSUFBSSxDQUFDLGFBQWEsR0FDaEIsVUFBVSxFQUFFLE9BQU8sSUFDbkIsQ0FBRyxTQUFPLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBSSxVQUFPLEVBQUUsT0FBTyxJQUFJLEVBQUUsQ0FBRSxLQUNsRCxLQUFLOztBQW9LVjtBQ3pQTSxNQUFNLHNCQUFzQixHQUFHLENBQUMsRUFBcUIsRUFBRSxLQUFZO0lBQ3hFLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1FBQ3BDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ3RDLENBQUMsQ0FBQztJQUNGLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFLLENBQVUsZUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ2hFLEtBQUssQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxPQUFPLEVBQUUsQ0FBQztJQUM5RCxDQUFDLENBQUM7SUFDRixFQUFFLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLEVBQUU7UUFDMUMsS0FBSyxDQUFDLHNCQUFzQixFQUFFLEVBQUUsQ0FBQyxjQUFjLENBQUM7SUFDbEQsQ0FBQyxDQUFDO0lBQ0YsRUFBRSxDQUFDLGdCQUFnQixDQUFDLDBCQUEwQixFQUFFO1FBQzlDLEtBQUssQ0FBQywwQkFBMEIsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQUM7SUFDMUQsQ0FBQyxDQUFDO0lBQ0YsRUFBRSxDQUFDLGdCQUFnQixDQUFDLHlCQUF5QixFQUFFO1FBQzdDLEtBQUssQ0FBQyx5QkFBeUIsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUM7SUFDeEQsQ0FBQyxDQUFDO0lBQ0YsRUFBRSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixFQUFFO1FBQzNDLEtBQUssQ0FBQyx1QkFBdUIsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO0lBQ3BELENBQUMsQ0FBQztJQUNGLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxtQkFBbUIsRUFBRTtRQUN2QyxLQUFLLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQztJQUNGLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRTtRQUM3QyxLQUFLLENBQUMsYUFBYSxFQUFFO1lBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxPQUFPLENBQUMsS0FBSztTQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFDO0lBRUYsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLEtBQUs7SUFDMUIsRUFBRSxDQUFDLEtBQUssR0FBRyxTQUFTLFdBQVc7UUFDN0IsS0FBSyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUM7UUFDekIsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM3QixDQUFDO0lBRUQsS0FBSyxNQUFNLE1BQU0sSUFBSTtRQUNuQixhQUFhO1FBQ2IsY0FBYztRQUNkLHFCQUFxQjtRQUNyQixzQkFBc0I7UUFDdEIsaUJBQWlCO0tBQ1QsQ0FBRTtRQUNWLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRTs7UUFHZixFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsZUFBZSxZQUFZLENBQUMsR0FBRyxJQUFXO1lBQ3JELElBQUk7Z0JBQ0YsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUM7O2dCQUVuQixNQUFNLE1BQU0sR0FBRyxNQUFNLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztnQkFDL0MsS0FBSyxDQUFDLENBQUcsUUFBTSxXQUFXLEVBQUUsTUFBMEIsQ0FBQztnQkFDdkQsT0FBTyxNQUFNO2NBQ2IsT0FBTyxHQUFHLEVBQUU7Z0JBQ1osS0FBSyxDQUFDLENBQUcsUUFBTSxDQUFXLFlBQUcsR0FBYSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUN0RCxNQUFNLEdBQUc7O1FBRWIsQ0FBQzs7QUFFTCxDQUFDO0FDbEREOzs7Ozs7O0NBT0csU0FDVSxXQUFXO0lBV3RCOztLQUVHLEdBQ0gsWUFDRSxFQUFxQixFQUNyQixRQUFrQixFQUNsQixrQkFBMEM7UUFWcEMsSUFBYSxpQkFBNkIsRUFBRTtRQUM1QyxJQUFnQixvQkFBYSxFQUFFO1FBQy9CLElBQVUsY0FBYSxFQUFFO1FBZWpDOzs7Ozs7O1NBT0csR0FDSCxJQUFHLE9BQUc7WUFDSixNQUFNLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQ3RDLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFFcEMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUN6QyxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxhQUN2QixJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksSUFDaEMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FDdEM7WUFFRCxNQUFNLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLFlBQVksQ0FBQzs7WUFHaEUsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZO1lBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUN2RCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUUzQyxPQUFPO2dCQUFFLGdCQUFnQjtnQkFBRSxLQUFLO2dCQUFFLEtBQUs7WUFBQSxDQUFFO1FBQzNDLENBQUM7UUFFRDs7U0FFRyxHQUNLLG1CQUFjLEdBQUcsQ0FDdkIsWUFBc0M7WUFFdEMsTUFBTSxXQUFXLEdBQXVCLEVBQUU7WUFDMUMsS0FBSyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFFO2dCQUM3QyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssY0FBYyxFQUFFO2dCQUVqQyxNQUFNLEVBQ0osT0FBTyxFQUNQLFVBQVUsR0FBRyxDQUFDLEVBQ2QsSUFBSSxFQUNKLEVBQUUsRUFDRixlQUFlLEdBQUcsQ0FBQyxFQUNuQixlQUFlLEdBQUcsQ0FBQyxFQUNuQixXQUFXLEdBQUcsQ0FBQyxFQUNmLFVBQVUsR0FBRyxDQUFDLEVBQ2QsYUFBYSxHQUFHLENBQUMsRUFDakIsYUFBYSxFQUNkLEdBQUcsR0FBZ0M7Z0JBRXBDLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQ2pELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUE4QjtnQkFFbkUsTUFBTSxvQkFBb0IsR0FDeEIsZUFBZSxJQUFJLE9BQU8sQ0FBQyxlQUFlLEtBQUksQ0FBQyxDQUFDO2dCQUNsRCxNQUFNLGVBQWUsR0FBRyxVQUFVLElBQUksT0FBTyxDQUFDLFVBQVUsS0FBSSxDQUFDLENBQUM7Z0JBQzlELE1BQU0sZ0JBQWdCLEdBQ3BCLGVBQWUsR0FBRyxJQUNiLG9CQUFvQixHQUFHLGVBQWUsR0FBSSxPQUMzQyxDQUFDO2dCQUVQLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztnQkFFckMsSUFBSSxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUs7Z0JBQy9CLElBQUksYUFBYSxJQUFJLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFBRTtvQkFDaEQsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLGFBQWEsQ0FBd0I7b0JBQ3RFLFNBQVMsR0FDUCxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxTQUFTOztnQkFHekUsV0FBVyxDQUFDLElBQUksQ0FBQztvQkFDZixTQUFTO29CQUNULEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDO29CQUMvQyxjQUFjLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztvQkFDOUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO29CQUNoQyxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7b0JBQ3hDLGNBQWMsRUFBRTt3QkFBRSxLQUFLLEVBQUUsVUFBVTt3QkFBRSxNQUFNLEVBQUUsV0FBVztvQkFBQSxDQUFFO2dCQUMzRCxFQUFDOztZQUdKLE9BQU8sV0FBVztRQUNwQixDQUFDO1FBRUQ7O1NBRUcsR0FDSyxtQkFBYyxHQUFHLENBQ3ZCLFlBQXNDO1lBRXRDLElBQUksR0FBRyxHQUF5QyxTQUFTO1lBQ3pELElBQUksR0FBRyxHQUFHLENBQUM7WUFDWCxLQUFLLE1BQU0sSUFBSSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUU7Z0JBQzlDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxhQUFhLEVBQUU7Z0JBQ2pDLE1BQU0sT0FBTyxHQUFHLElBQWdDO2dCQUNoRCxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsR0FBRyxDQUFDLEVBQUUsV0FBVyxHQUFHLENBQUMsRUFBRSxHQUFHLE9BQU87Z0JBQ3pELE1BQU0sSUFBSSxHQUFHLFVBQVUsR0FBRyxXQUFXO2dCQUNyQyxJQUFJLElBQUksS0FBSyxPQUFPLElBQUksSUFBSSxHQUFHLEdBQUcsRUFBRTtvQkFDbEMsR0FBRyxHQUFHLE9BQU87b0JBQ2IsR0FBRyxHQUFHLElBQUk7OztZQUlkLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUU7WUFDbEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUE2QjtZQUV0RSxNQUFNLEVBQ0osYUFBYSxHQUFHLENBQUMsRUFDakIsZUFBZSxHQUFHLENBQUMsRUFDbkIsZUFBZSxHQUFHLENBQUMsRUFDbkIsZUFBZSxFQUNoQixHQUFHLEdBQUc7WUFDUCxNQUFNLG9CQUFvQixHQUN4QixlQUFlLElBQUksT0FBTyxDQUFDLGVBQWUsS0FBSSxDQUFDLENBQUM7WUFDbEQsTUFBTSxrQkFBa0IsR0FBRyxhQUFhLElBQUksT0FBTyxDQUFDLGFBQWEsS0FBSSxDQUFDLENBQUM7WUFFdkUsTUFBTSxnQkFBZ0IsR0FDcEIsa0JBQWtCLEdBQUcsSUFDakIsb0JBQXFCLEdBQUcsa0JBQWtCLEdBQUksT0FDOUMsQ0FBQztZQUVQLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7WUFDNUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO1lBRXJDLE1BQU0sU0FBUyxHQUNiLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLElBQUksU0FBUyxDQUFDLEtBQUs7WUFFakUsT0FBTztnQkFDTCxnQkFBZ0IsQ0FBQyxNQUFNLENBQUM7b0JBQ3RCLFNBQVM7b0JBQ1QsS0FBSyxFQUFFLGlCQUFpQixDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDO29CQUNuRCxjQUFjLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztvQkFDOUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO29CQUNoQyxjQUFjLEVBQUU7d0JBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxVQUFVO3dCQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsV0FBVztvQkFBQSxDQUFFO2lCQUNuRSxDQUFDO2FBQ0g7UUFDSCxDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNLLGtCQUFhLEdBQUcsQ0FDdEIsZ0JBQW9DO1lBRXBDLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDdEIsS0FBSyxNQUFNLENBQUMsSUFBSSxnQkFBZ0IsQ0FBRTtvQkFDaEMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztvQkFDcEQsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFOzs7d0JBRzFCLENBQUMsQ0FBQyxjQUFjLEdBQUcsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLGNBQWMsSUFBSSxDQUFDLElBQUksSUFBSTs7OztZQUlsRSxPQUFPLGdCQUFnQjtRQUN6QixDQUFDO1FBRUQ7Ozs7OztTQU1HLEdBQ0gsSUFBTyxXQUFHLENBQUMsSUFBWSxFQUFFLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSztZQUNsRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksR0FBRyxFQUFFO1lBQ3ZELElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUM7UUFDekMsQ0FBQztRQS9LQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUU7UUFDWixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVE7UUFDeEIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGtCQUFrQjs7QUE4Sy9DO0FBRUQ7Ozs7Q0FJRyxHQUNILE1BQU0sUUFBUSxHQUFHLENBQUMsTUFBc0I7SUFDdEMsTUFBTSxHQUFHLEdBQTZCLEVBQUU7SUFDeEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ1osQ0FBQyxDQUFDO0lBQ0YsT0FBTyxHQUFHO0FBQ1osQ0FBQztBQUVEOzs7O0NBSUcsR0FDSCxNQUFNLGdCQUFnQixHQUFHLENBQ3ZCLFFBQTBCLEVBQzFCLFFBQTBCO0lBRTFCLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFL0MsS0FBSyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUU7UUFDbkQsT0FBTyxNQUFNLENBQUMsRUFBRTtRQUNoQixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1FBRW5CLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFFO1lBQ2xELElBQUksS0FBSyxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDOzs7O0lBS3pCLElBQUksU0FBUyxHQUFHLENBQUMsUUFBUTtJQUN6QixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUN0QyxLQUFLLE1BQU0sTUFBTSxJQUFJLE1BQU0sQ0FBRTtRQUMzQixJQUFJLE1BQU0sQ0FBQyxTQUFTLEdBQUcsU0FBUyxFQUFFO1lBQ2hDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUzs7O0lBR2hDLEtBQUssTUFBTSxNQUFNLElBQUksTUFBTSxDQUFFO1FBQzNCLElBQUksTUFBTSxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7WUFDbEMsTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDOzs7SUFHeEIsUUFBUSxDQUFDLFNBQVMsR0FBRyxTQUFTO0lBQzlCLE9BQU8sUUFBUTtBQUNqQixDQUFDO0FBRUQ7O0NBRUcsR0FDSCxNQUFNLE9BQU8sR0FBRyxDQUFDLEdBQWEsR0FBSyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNO0FBRTlFOzs7OztDQUtHLEdBQ0gsTUFBTSxpQkFBaUIsR0FBRyxDQUN4QixLQUErQixFQUMvQixPQUEyQjtJQUUzQixJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFO0lBQ2pDLE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQWtCO0lBQ2xELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUNsQixJQUFJLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFO1FBQzFDLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUztRQUMvQixXQUFXLEVBQUUsVUFBVSxDQUFDLFdBQVc7UUFDbkMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxXQUFXO0lBQzdCLEVBQUM7QUFDSixDQUFDO01DeFJZLE1BQU07SUFNakIsWUFBWSxFQUFpQjtRQUxyQixJQUFNLFVBQWtCLEVBQUU7UUFDMUIsSUFBTyxXQUFHLElBQUk7UUFRdEIsZUFBVSxHQUFHLENBQUMsT0FBZ0I7WUFDNUIsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLE9BQU8sRUFBRTtZQUM5QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87WUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFO1FBQ2xCLENBQUM7UUFFRCxVQUFLLEdBQVUsQ0FBQyxHQUFHLEVBQUUsSUFBSTtZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztnQkFBQyxHQUFHO2dCQUFFLElBQUksQ0FBQyxFQUFFO2dCQUFFLElBQUk7Z0JBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRTthQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVELElBQVMsYUFBRyxDQUFDLEdBQWEsRUFBRSxHQUFXLEVBQUUsSUFBc0I7WUFDN0QsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUM7YUFDcEIsSUFBSSxDQUFDLElBQUksS0FBVCxJQUFJLENBQUMsSUFBSSxHQUFLLElBQUksR0FBRyxHQUFFLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUM7UUFDMUMsQ0FBQztRQUVELGVBQVUsR0FBRyxDQUFDLEdBQWE7WUFDekIsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ3hCLENBQUM7UUFFRCxJQUFJLFFBQUc7WUFDTCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTTtZQUM1QixJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUU7WUFDaEIsT0FBTztnQkFDTCxRQUFRO2dCQUNSLFFBQVEsRUFBRTtvQkFDUixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztpQkFDakM7YUFDRjtRQUNILENBQUM7UUFFRCxJQUFPLFdBQUc7WUFDUixJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUU7WUFDaEIsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUU7UUFDcEIsQ0FBQztRQXRDQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUU7O0FBdUNmO0FDbkJEOzs7Q0FHRyxTQUNtQixrQkFBa0I7SUF1QnRDOztLQUVHLEdBQ0gsV0FDRSxTQUFrQixFQUNsQixFQUNFLFNBQVMsRUFDVCxnQkFBZ0IsRUFDaEIsS0FBSyxFQUNMLFVBQVUsRUFDVixvQkFBb0IsRUFDcEIsR0FBRyxFQUNILGFBQWEsRUFDYixlQUFlLEdBQUcsSUFBSSxFQUNDO1FBMUJqQixJQUFlLG1CQUFHLEtBQUs7UUFDekIsSUFBVSxjQUFHLEtBQUs7UUFFaEIsdUJBQWtCLEdBQUcsSUFBSSxHQUFHLEVBQXFCO1FBSzFDLElBQWEsaUJBQW1CLEVBQUU7UUFFaEMsU0FBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQTBDckQseUJBQW9CLEdBQUcsQ0FBQyxnQkFBbUM7WUFDakUsTUFBTSxFQUFFLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQztZQUNsRCxFQUFFLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUM7WUFDeEQsRUFBRSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUNsRSxFQUFFLENBQUMsZ0JBQWdCLENBQ2pCLDBCQUEwQixFQUMxQixJQUFJLENBQUMsMEJBQTBCLENBQ2hDO1lBQ0QsRUFBRSxDQUFDLGdCQUFnQixDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztZQUN0RSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQ25FLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsdUJBQXVCLENBQUM7WUFDMUUsT0FBTyxFQUFFO1FBQ1gsQ0FBQztRQXFDRDs7OztTQUlHLEdBQ08sSUFBYSxpQkFBRztZQUN4QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsTUFBTSxNQUFNLEdBQUcsMkNBQTJDO2dCQUMxRCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUMvQixNQUFNLFFBQVEsR0FDWixDQUFDLFlBQVksZ0JBQWdCLElBQzdCLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQywwQkFDdkIsMEJBQTBCLENBQUMsT0FDM0IsMEJBQTBCLENBQUMsTUFBTTtnQkFDdkMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFFBQVEsRUFBRSxNQUFNLENBQUM7WUFDL0MsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQUVEOzs7U0FHRyxHQUNPLE9BQUUsR0FBRyxDQUNiLEtBQVEsRUFDUixFQUF3QjtZQUV4QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDckIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztnQkFDMUIsTUFBTSxPQUFPLEdBQUcsQ0FBTSxTQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDMUMsa0JBQWtCLENBQUMsT0FBTyxFQUFFLFVBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztvQkFDdkQsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFrQixzQkFBSyxDQUFFLEdBQUUsR0FBRyxDQUFDO2dCQUNyRCxDQUFDLENBQUM7YUFDSCxDQUFDLENBQ0g7UUFDSCxDQUFDO1FBRUQ7O1NBRUcsR0FDTyxJQUF3Qiw0QkFBRztZQUNuQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUztZQUMzQyxNQUFNLFVBQVUsR0FDZCxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxhQUN2QixnQkFBZ0IsQ0FBQyx1QkFDakIsZ0JBQWdCLENBQUMsbUJBQW1CO1lBRTFDLElBQUksQ0FBQyxxQkFBcUIsSUFBSTtZQUM5QixJQUFJLENBQUMscUJBQXFCLEdBQUcsMkJBQTJCLENBQ3RELFVBQVUsRUFDVixPQUFPLFNBQVM7Z0JBQ2QsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNoRCxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7b0JBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQXFCLHNCQUFFLENBQUMsRUFBRSxTQUFTLENBQUM7Z0JBQzFELENBQUMsQ0FBQztZQUNKLENBQUMsQ0FDRjtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsaUJBQVksR0FBRyxDQUFDLFNBQTBCO1lBQ3hDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUztRQUM1QixDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsYUFBUSxHQUFHLENBQUMsUUFBa0M7WUFDNUMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7UUFDbkMsQ0FBQztRQUVEOztTQUVHLEdBQ0gsaUJBQVksR0FBRyxDQUFDLE9BQWU7WUFDN0IsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUM3QyxDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCxJQUFTLGFBQUc7WUFDVixNQUFNLFlBQVksR0FBRyxJQUFJLEdBQUcsQ0FFMUI7Z0JBQUMsUUFBUTtnQkFBRSxRQUFRO2FBQUMsQ0FBQztZQUV2QixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGtCQUFrQjtZQUMzQyxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGVBQWU7WUFDL0MsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQztRQUMxRSxDQUFDO1FBRUQ7OztTQUdHLEdBQ0ssbUJBQWMsR0FBRyxDQUFDLENBQTRCO1lBQ3BELE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsb0JBQW9CLENBQUM7Z0JBQzFDOztZQUdGLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1lBQzNDLElBQUksQ0FBQyxVQUNGLFVBQVUsQ0FBQztnQkFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7Z0JBQUUsWUFBWTtZQUFBLENBQUUsRUFDcEQsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDVCxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQW1CLG9CQUFFLEdBQUcsQ0FBQztZQUMvQyxDQUFDLENBQUM7UUFDTixDQUFDO1FBRUQ7O1NBRUcsR0FDSyxXQUFNLEdBQUcsQ0FBQyxTQUEwQjtZQUMxQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFOztnQkFFL0IsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO2dCQUMvQyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsS0FBSyxPQUFPLENBQUMsR0FBRyxDQUFDO2dCQUMvRCxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUM7Z0JBQzdDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztvQkFBRSxHQUFHLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFBLENBQUUsQ0FBQzs7WUFFM0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMzQyxDQUFDO1FBRUQ7O1NBRUcsR0FDSyxJQUF1QiwyQkFBRztZQUNoQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGVBQWU7WUFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBMEIsMkJBQUUsS0FBSyxDQUFDO1lBQ3ZELElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLEtBQUssV0FBVyxJQUFJLEtBQUssS0FBSyxTQUFRLENBQUMsQ0FBRTtnQkFDaEUsSUFBSTtvQkFDRixNQUFNLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO29CQUNwQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQztrQkFDMUMsT0FBTyxHQUFHLEVBQUU7b0JBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsbUJBQW1CLEVBQUcsR0FBYSxDQUFDLFFBQVEsRUFBRSxDQUFDOzs7O1lBS3JFLElBQUksS0FBSyxLQUFLLFFBQVEsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLG9CQUFvQixHQUN2QiwwQkFBMEIsQ0FBQyxNQUFNLEVBQ2pDLG1CQUFtQixDQUNwQjtnQkFDRDs7WUFHRixJQUFJLENBQUMsMkJBQTJCLENBQUMsS0FBSyxDQUFDO1FBQ3pDLENBQUM7UUFFRDs7U0FFRyxHQUNLLElBQTBCLDhCQUFHO1lBQ25DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsa0JBQWtCO1lBQ3hDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQThCLCtCQUFFLEtBQUssQ0FBQztZQUMzRCxJQUFJLENBQUMsMkJBQTJCLENBQUMsS0FBSyxDQUFDO1FBQ3pDLENBQUM7UUFFTyxnQ0FBMkIsR0FBRyxDQUNwQyxLQUFxRDtZQUVyRCxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUs7WUFDbkMsSUFBSSxZQUFZLEtBQUssWUFBWSxDQUFDLE9BQU8sRUFBRTtZQUMzQyxJQUFJLFlBQVksS0FBSyxZQUFZLENBQUMsWUFBWSxFQUFFOztZQUdoRCxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFFMUIsT0FBUSxLQUFLO2dCQUNYLEtBQUssUUFBUTs7b0JBRVgsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUscUNBQXFDLENBQUM7b0JBQzFELElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3BCO2dCQUVGLEtBQUssY0FBYzs7O29CQUdqQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxnREFBZ0QsQ0FBQztvQkFDckUsWUFBWSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztvQkFDcEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFVBQVUsQ0FBQzt3QkFDbEMsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0I7d0JBQy9DLElBQUksWUFBWSxLQUFLLGNBQWMsSUFBSSxZQUFZLEtBQUssUUFBUSxFQUFFOzRCQUNoRSxJQUFJLENBQUMsYUFBYSxFQUFFOztvQkFFeEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUM7b0JBQ3hCO2dCQUVGLEtBQUssV0FBVzs7b0JBRWQsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7d0JBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLDRDQUE0QyxDQUFDO3dCQUNqRSxZQUFZLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO3dCQUNwQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsU0FBUzs7b0JBRXBDOztRQUVOLENBQUM7UUFFRDs7U0FFRyxHQUNLLHdCQUFtQixHQUFHLENBQUMsQ0FBUTtZQUNyQyxNQUFNLFlBQVksR0FDaEIsQ0FBQyxZQUFZLGlDQUNULEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBSyxLQUFDLENBQUMsU0FBUyxDQUFFLElBQ2hDLENBQUM7WUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxZQUFZLENBQUM7UUFDM0QsQ0FBQztRQUVEOztTQUVHLEdBQ0ssSUFBaUIscUJBQUc7WUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztRQUN4RSxDQUFDO1FBRUQ7O1NBRUcsR0FDSyxJQUFpQixxQkFBRztZQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQztRQUN6RSxDQUFDO1FBbFRDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUTtRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVM7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVTtRQUM1QixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWU7UUFDdEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQjtRQUNoRCxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztZQUN0QixRQUFRLEtBQUssUUFBUSxDQUFDLFVBQVUsR0FBRyxZQUFZLEdBQUcsV0FBVztZQUM3RCxHQUFHO1NBQ0osQ0FBQztRQUNGLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGdCQUFnQixDQUFDO1FBQ3JELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQ3hFLElBQUksYUFBYSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQ3RCLENBQUcsS0FBRyxDQUFJLFdBQVEsS0FBSyxRQUFRLENBQUMsVUFBVSxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUUsRUFDN0Q7WUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7Z0JBQzFCLEdBQUcsRUFBRSxTQUFTLENBQUMsUUFBUTtnQkFDdkIsR0FBRyxnQkFBZ0I7WUFDcEIsRUFBQztZQUNGLHNCQUFzQixDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7OztJQWtCdEQ7O0tBRUcsR0FDSCxPQUFPO1FBQ0wsWUFBWSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztRQUNwQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsU0FBUztRQUNsQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsU0FBUztRQUNyQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUk7UUFDdEIsSUFBSSxDQUFDLG1CQUFtQixFQUFFO1FBQzFCLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFO1FBQ2YsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUU7O0lBR3hCOztLQUVHLEdBQ0gsbUJBQW1CO1FBQ2pCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFO1FBQ2xCLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUMzRCxFQUFFLENBQUMsbUJBQW1CLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQ3JFLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDdEUsRUFBRSxDQUFDLG1CQUFtQixDQUNwQiwwQkFBMEIsRUFDMUIsSUFBSSxDQUFDLDBCQUEwQixDQUNoQztRQUNELEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDekUsSUFBSSxDQUFDLHFCQUFxQixJQUFJO1FBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxHQUFLLFdBQVcsRUFBRSxDQUFDOztBQWtQN0Q7TUNyWFksZ0JBQWdCO0lBQTdCO1FBQ21CLElBQUssU0FBb0IsRUFBRTtRQUMzQixJQUFNLFVBQXVCLEVBQUU7UUFFaEQ7Ozs7U0FJRyxHQUNjLElBQWdCLG9CQUF3QixFQUFFO1FBRTNEOztTQUVHLEdBQ0gsUUFBRyxHQUFHLENBQUMsYUFBNEIsRUFBRSxXQUE4QjtZQUNqRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztnQkFBRSxhQUFhO2dCQUFFLFdBQVc7WUFBQSxDQUFFLENBQUM7WUFDL0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDekMsQ0FBQztRQUVEOztTQUVHLEdBQ0gsUUFBRyxHQUFHLENBQUMsYUFBNEI7WUFDakMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxFQUFFLFdBQVc7UUFDekQsQ0FBQztRQUVEOztTQUVHLEdBQ0gsUUFBRyxHQUFHLENBQUMsYUFBNEI7WUFDakMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7UUFDbEMsQ0FBQztRQUVEOztTQUVHLEdBQ0gsU0FBSSxHQUFHLENBQ0wsU0FBMkM7WUFFM0MsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDbkMsQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBSyxTQUFHO1lBQ04sT0FBTyxJQUFJLENBQUMsS0FBSztRQUNuQixDQUFDO1FBRUQ7O1NBRUcsR0FDSCxZQUFPLEdBQUcsQ0FBQyxXQUE4QjtZQUN2QyxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ25ELENBQUM7UUFFRDs7U0FFRyxHQUNILGNBQVMsR0FBRyxDQUNWLGFBQTRCO1lBRTVCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUM1QixDQUFDLElBQUksR0FDSCxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsS0FBSyxhQUFhLENBQUMsRUFBRSxJQUMxQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsS0FBSyxhQUFhLENBQUMsU0FBUyxDQUMzRDtZQUNELE9BQU8sS0FBSyxFQUFFLE1BQU07UUFDdEIsQ0FBQztRQUVEOztTQUVHLEdBQ0gsY0FBUyxHQUFHLENBQ1YsYUFBNEIsRUFDNUIsTUFBOEIsS0FBRTtZQUVoQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQztZQUMzQyxJQUFJLEtBQUssRUFBRTtnQkFDVCxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU07bUJBQ2hCO2dCQUNMLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO29CQUFFLGFBQWE7b0JBQUUsTUFBTTtnQkFBQSxDQUFFLENBQUM7O1FBRS9DLENBQUM7UUFFTyxvQkFBZSxHQUFHLENBQUMsYUFBcUM7WUFDOUQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDcEIsQ0FBQyxJQUFJLEdBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEtBQUssYUFBYSxDQUFDLEVBQUUsSUFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEtBQUssYUFBYSxDQUFDLFNBQVMsQ0FDM0Q7UUFDSCxDQUFDO1FBRU8sY0FBUyxHQUFHLENBQUMsYUFBNEI7WUFDL0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDckIsQ0FBQyxJQUFJLEdBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEtBQUssYUFBYSxDQUFDLEVBQUUsSUFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEtBQUssYUFBYSxDQUFDLFNBQVMsQ0FDM0Q7UUFDSCxDQUFDOztBQUNGO0FDOUdNLE1BQU0sZUFBZSxHQUFHLENBQUMsQ0FBUSxFQUFFLE9BQWU7SUFDdkQsU0FBUyxDQUFDO1FBQUMsU0FBUztLQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FDQU0sTUFBTSwrQkFBK0IsR0FBRyxDQUM3QyxTQUFvQjtJQU9wQixPQUFRLFNBQVM7UUFDZixLQUFLLFNBQVMsQ0FBQyxZQUFZO1lBQ3pCLE9BQU8sbUJBQW1CO1FBQzVCLEtBQUssU0FBUyxDQUFDLGtCQUFrQjtZQUMvQixPQUFPLHdCQUF3QjtRQUNqQyxLQUFLLFNBQVMsQ0FBQyxLQUFLO1lBQ2xCLE9BQU8sYUFBYTtRQUN0QixLQUFLLFNBQVMsQ0FBQyxLQUFLO1lBQ2xCLE9BQU8sYUFBYTtRQUN0QixLQUFLLFNBQVMsQ0FBQyxXQUFXO1lBQ3hCLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUM7UUFDOUM7WUFDRSxlQUFlLENBQUMsU0FBUyxFQUFFLG9CQUFvQixDQUFDOztBQUV0RCxDQUFDO0FBRU0sTUFBTSxtQkFBbUIsR0FBRyxDQUNqQyxRQUF1QjtJQUV2QixPQUFRLFFBQVE7UUFDZCxLQUFLLE9BQU87WUFDVixPQUFPLFNBQVMsQ0FBQyxLQUFLO1FBQ3hCLEtBQUssT0FBTztZQUNWLE9BQU8sU0FBUyxDQUFDLEtBQUs7UUFDeEIsS0FBSyxhQUFhO1lBQ2hCLE9BQU8sU0FBUyxDQUFDLFlBQVk7UUFDL0IsS0FBSyxtQkFBbUI7WUFDdEIsT0FBTyxTQUFTLENBQUMsa0JBQWtCO1FBQ3JDO1lBQ0UsZUFBZSxDQUFDLFFBQVEsRUFBRSxtQkFBbUIsQ0FBQzs7QUFFcEQsQ0FBQztBQUVNLE1BQU0sV0FBVyxHQUFHLENBQUMsU0FBaUI7SUFDM0MsT0FBUSxTQUFTO1FBQ2YsS0FBSyxrQkFBa0I7WUFDckIsT0FBTyxTQUFTLENBQUMsS0FBSztRQUN4QixLQUFLLGtCQUFrQjtZQUNyQixPQUFPLFNBQVMsQ0FBQyxLQUFLO1FBQ3hCLEtBQUsseUJBQXlCO1lBQzVCLE9BQU8sU0FBUyxDQUFDLFlBQVk7UUFDL0IsS0FBSywrQkFBK0I7WUFDbEMsT0FBTyxTQUFTLENBQUMsa0JBQWtCO1FBQ3JDO1lBQ0UsT0FBTyxTQUFTOztBQUV0QixDQUFDO0FBRU0sTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFNBQW9CLEdBQ25ELFNBQVMsS0FBSyxTQUFTLENBQUMsS0FBSyxJQUFJLFNBQVMsS0FBSyxTQUFTLENBQUMsa0JBQWtCO0FDN0M3RSxNQUFNLG9CQUFvQixHQUEyQjtJQUNuRCxDQUFDLEVBQUUsTUFBTTtJQUNULENBQUMsRUFBRSxNQUFNO0lBQ1QsQ0FBQyxFQUFFLE9BQU87Q0FDWDtBQUVEOzs7Ozs7Q0FNRyxHQUNJLE1BQU0sY0FBYyxHQUFHLENBQzVCLE1BQXVDO0lBRXZDLElBQUksQ0FBQyxNQUFNLEVBQUU7O0lBRWIsTUFBTSxPQUFPLEdBQUcsQ0FBQyxHQUFXLEdBQUssQ0FBQyxDQUFvQixHQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRztJQUN4RSxNQUFNLFlBQVksR0FDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsSUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsSUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsT0FBTztRQUFDO1lBQUUsR0FBRyxZQUFZO1lBQUUsR0FBRyxFQUFFLEdBQUc7UUFBQSxDQUFFO0tBQUM7QUFDeEMsQ0FBQztBQUVEOztDQUVHLEdBQ0ksTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEdBQVc7SUFDM0MsT0FBTyxHQUFHLEtBQUssTUFDWCxZQUFZLENBQUMsa0JBQ2IsR0FBRyxLQUFLLE1BQ04sWUFBWSxDQUFDLE1BQ2IsWUFBWSxDQUFDLElBQUksQ0FBQztBQUMxQixDQUFDO0FBRUQ7O0NBRUcsR0FDSSxNQUFNLGFBQWEsR0FBRyxDQUMzQixNQUEwQyxLQUFFO0lBRTVDLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBYSxDQUFDLEtBQUssSUFBTTtZQUN4QyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUcsSUFBSSxFQUFFO1lBQ3BCLE9BQU8sRUFBRSxLQUFLLENBQUMsVUFBVSxJQUFJLENBQUM7WUFDOUIsR0FBRyxFQUFFLEtBQUssQ0FBQyxZQUFZLElBQUksQ0FBQztZQUM1QixPQUFPLEVBQUUsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUM7WUFDM0MsY0FBYyxFQUFFO2dCQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSztnQkFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07WUFBQSxDQUFFO1FBQzdELEVBQUMsQ0FBQztBQUNMLENBQUM7QUFFRDs7Q0FFRyxHQUNILE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxhQUFxQixFQUFFLGNBQXNCLEdBQ3RFLENBQUksZ0JBQWEsQ0FBSSxpQkFBYyxHQUFHLGFBQWEsR0FBRyxDQUFDLEdBQUcsTUFBTSxHQUFHLEVBQUUsRUFBRTtBQUV6RTs7Ozs7Q0FLRyxHQUNJLE1BQU0sa0JBQWtCLEdBQUcsQ0FDaEMsVUFBNEIsRUFDNUIsYUFBNEI7SUFFNUIsSUFBSSxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEVBQUU7SUFDL0MsTUFBTSxrQkFBa0IsR0FBd0IsRUFBRTtJQUNsRCxNQUFNLEVBQ0osT0FBTyxFQUNQLEtBQUssRUFDTCxHQUFHLEdBQUcsRUFBRSxFQUNSLGdCQUFnQixHQUFHLENBQUMsRUFDcEIsaUJBQWlCLEdBQUcsQ0FBQyxFQUNyQixjQUFjLEdBQUc7UUFBRSxLQUFLLEVBQUUsSUFBSTtRQUFFLE1BQU0sRUFBRSxHQUFHO0lBQUEsQ0FBRSxFQUM3QyxjQUFjLEVBQ2YsR0FBRyxhQUFhO0lBQ2pCLE1BQU0sRUFBRSxLQUFLLEdBQUcsY0FBYyxDQUFDLEtBQUssRUFBRSxNQUFNLEdBQUcsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUNwRSxVQUFVLENBQUMsV0FBVyxFQUFFO0lBQzFCLE1BQU0sVUFBVSxHQUFHLHFCQUFxQixDQUN0QyxjQUFjLEVBQ2QsS0FBSyxFQUNMLE1BQU0sRUFDTixPQUFPLENBQ1I7SUFDRCxJQUFJLGVBQWUsR0FBRyxDQUFDO0lBQ3ZCLElBQUksYUFBYSxHQUFHLENBQUM7SUFDckIsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7SUFDeEMsS0FBSyxNQUFNLEdBQUcsSUFBSTtRQUFDLEdBQUc7UUFBRSxHQUFHO1FBQUUsR0FBRztLQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFFO1FBQzVELE1BQU0sS0FBSyxHQUFzQjtZQUMvQixNQUFNLEVBQUUsSUFBSTtZQUNaLEdBQUc7WUFDSCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDO1lBQzFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUM7WUFDNUMsVUFBVSxFQUNSLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQyxJQUFJLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztZQUNyRSxZQUFZLEVBQUUsR0FBRztTQUNsQjtRQUNELElBQUksUUFBUSxFQUFFOzs7WUFHWixLQUFLLENBQUMsZUFBZSxHQUFHLGlCQUFpQixDQUN2QyxjQUFjLEdBQUcsQ0FBQyxHQUFHLGdCQUFnQixFQUNyQyxpQkFBaUIsQ0FDbEI7ZUFDSTs7WUFFTCxLQUFLLENBQUMscUJBQXFCLEdBQUcsZUFBZTs7UUFHL0MsZUFBZSxJQUFJLENBQUM7UUFDcEIsYUFBYSxJQUFJLENBQUM7Ozs7UUFLbEIsa0JBQWtCLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQzs7OztJQUtuQyxPQUFPLHdCQUF3QixDQUM3QixLQUFLLEVBQ0wsTUFBTSxFQUNOLGtCQUFrQixFQUNsQixjQUFjLENBQ2Y7QUFDSCxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7O0NBV0csR0FDSSxNQUFNLHFCQUFxQixHQUFHLENBQ25DLGdCQUFnQyxFQUNoQyxZQUFvQixFQUNwQixhQUFxQixFQUNyQixPQUFlOzs7SUFJZixNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsZ0JBQWdCO0lBQ3JFLElBQUksWUFBWSxHQUFHLFdBQVcsSUFBSSxhQUFhLEdBQUcsWUFBWSxFQUFFO1FBQzlELE1BQU0sYUFBYSxHQUFHLFlBQVksR0FBRyxhQUFhO1FBQ2xELE1BQU0sWUFBWSxHQUFHLFdBQVcsR0FBRyxZQUFZO1FBQy9DLE1BQU0sZUFBZSxHQUFHLGFBQWEsR0FBRyxZQUFZO1FBQ3BELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDOztJQUU5QyxPQUFPLE9BQU87QUFDaEIsQ0FBQztBQUVEOzs7Ozs7O0NBT0csR0FDSCxNQUFNLHdCQUF3QixHQUFHLENBQy9CLEtBQWEsRUFDYixNQUFjLEVBQ2Qsa0JBQXVDLEVBQ3ZDLGNBQXVCO0lBRXZCLElBQUksTUFBMkI7SUFFL0IsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0lBQ3BDLElBQUksSUFBSSxJQUFJLEdBQUcsRUFBRTs7UUFFZixNQUFNLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxHQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDO1dBQzNELElBQUksSUFBSSxJQUFJLEdBQUcsRUFBRTs7UUFFdEIsTUFBTSxHQUFHLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssR0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQztXQUMzRDs7UUFFTCxNQUFNLEdBQUcsa0JBQWtCOzs7O0lBSzdCLE1BQU0sVUFBVSxHQUFHO1FBQUMsR0FBRztRQUFFLEdBQUc7UUFBRSxHQUFHO0tBQUM7SUFDbEMsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFvQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFNO1lBQzNELEdBQUcsS0FBSztZQUNSLEdBQUcsRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDO1lBQ3RCLE1BQU0sRUFBRSxjQUFjLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTTtRQUN4RSxHQUFDLENBQUM7QUFDTCxDQUFDO0FDbk5EOzs7Ozs7Q0FNRyxHQUNJLE1BQU0sVUFBVSxHQUFHLENBQ3hCLFdBQThCLEVBQzlCLG9CQUE0QixFQUM1QixHQUF1QjtJQUV2QixJQUFJLFdBQVcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxXQUFXLENBQUMsR0FBRztJQUMzQyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU8sTUFBTSxDQUFDLG9CQUFvQixDQUFDO0lBRTdDLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBTTtJQUN2QyxNQUFNLFNBQVMsR0FBRyxvREFBSyxDQUFDLEdBQUcsQ0FBQztJQUM1QixNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbkMsT0FDRSxDQUFDLENBQUMsSUFBSSxLQUFLLEtBQUssQ0FBQyxJQUFJO1NBRXBCLENBQUMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFJLENBQUM7SUFFeEMsQ0FBQyxDQUFDO0lBQ0YsSUFBSSxPQUFPLEtBQUssRUFBRSxHQUFHLEtBQUssV0FBVyxFQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDL0QsSUFBSSxvQkFBb0IsR0FBRyxDQUFDLEVBQUUsT0FBTyxFQUFFO0lBQ3ZDLE9BQU8sTUFBTSxDQUFDLG9CQUFvQixDQUFDO0FBQ3JDLENBQUM7QUFFRDs7Ozs7Q0FLRyxHQUNJLE1BQU0sWUFBWSxHQUFHLENBQUMsUUFBZ0IsRUFBRSxTQUFpQjtJQUM5RCxNQUFNLGlCQUFpQixHQUFHLElBQUksR0FBRyxFQUFVO0lBQzNDLE1BQU0sY0FBYyxHQUFHLG9EQUFLLENBQUMsUUFBUSxDQUFDO0lBQ3RDLEtBQUssTUFBTSxLQUFLLElBQUksY0FBYyxDQUFDLEtBQUssQ0FBRTtRQUN4QyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssT0FBTyxFQUFFO1FBRTVCLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxLQUFLLEtBQUssTUFBTSxDQUFDO1FBQ3RELElBQUksQ0FBQyxJQUFJLEVBQUU7UUFFWCxLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUU7WUFDN0IsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7Z0JBQ3JFLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBSSxDQUFDOzs7OztJQU12QyxJQUFJLGlCQUFpQixDQUFDLElBQUksS0FBSyxDQUFDLEVBQUUsT0FBTyxTQUFTO0lBRWxELE1BQU0sZUFBZSxHQUFHLG9EQUFLLENBQUMsU0FBUyxDQUFDO0lBQ3hDLEtBQUssTUFBTSxLQUFLLElBQUksZUFBZSxDQUFDLEtBQUssQ0FBRTtRQUN6QyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFJLENBQUMsRUFBRTtRQUVsRSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsS0FBSyxLQUFLLE1BQU0sQ0FBQztRQUN0RCxJQUFJLENBQUMsSUFBSSxFQUFFO1FBRVgsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFFO1lBQzdCLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7Z0JBQ3RFLElBQUksQ0FBQyxNQUFNLElBQUksV0FBVzs7OztJQUtoQyxPQUFPLG9EQUFLLENBQUMsZUFBZSxDQUFDO0FBQy9CLENBQUM7QUMzQ0Q7Ozs7Q0FJRyxHQUNHLE1BQU8sU0FBVSxTQUFRLGtCQUFrQjtJQUsvQzs7S0FFRyxHQUNILFlBQVksRUFBRSxjQUFjLEVBQUUsR0FBRyxXQUFXLEVBQTRCO1FBQ3RFLEtBQUssQ0FBQyxRQUFRLENBQUMscUJBQXFCLEVBQUUsV0FBVyxDQUFDO1FBUm5DLHFCQUFnQixHQUFHLElBQUksZ0JBQWdCLEVBQUU7UUFDekMsaUJBQVksR0FBRyxJQUFJLEdBQUcsRUFBb0I7UUFvQzNEOzs7Ozs7OztTQVFHLEdBQ0gsWUFBTyxHQUFHLE9BQU8sS0FBdUIsRUFBRSxTQUFvQjtZQUM1RCxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsRUFBRTtnQkFDL0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFnQyx3Q0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFFLEVBQUM7O1lBR3pFLEtBQUssTUFBTSxhQUFhLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBRTtnQkFDL0MsSUFBSSxhQUFhLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRTs7O2dCQUkzQyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztnQkFFN0MsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7Z0JBQzVELElBQUksQ0FBQyxXQUFXLEVBQUU7b0JBQ2hCLE1BQU0sSUFBSSxDQUFDLGNBQWMsQ0FBQyxjQUFjLEVBQUUsYUFBYSxDQUFDO3VCQUNuRDtvQkFDTCxNQUFNLGFBQWEsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUs7b0JBQzlDLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxjQUFjLEVBQUUsU0FBUyxDQUFDO29CQUNwRSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUU7d0JBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDOzs7O1FBSXJDLENBQUM7UUFFRDs7U0FFRyxHQUNLLG1CQUFjLEdBQUcsT0FDdkIsS0FBdUIsRUFDdkIsYUFBNEI7WUFFNUIsTUFBTSxjQUFjLEdBQUcsa0JBQWtCLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQztZQUMvRCxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxJQUFJLElBQ3RELGNBQWMsQ0FBQyxjQUFjLElBQzdCLGNBQWM7WUFDbEIsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFO2dCQUNoRCxTQUFTLEVBQUUsVUFBVTtnQkFDckIsYUFBYTtZQUNkLEVBQUM7WUFFRixNQUFNLE1BQU0sR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRTtZQUNqRCxNQUFNLENBQUMscUJBQXFCLEdBQUcsb0JBQW9CO1lBQ25ELE1BQU0sV0FBVyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDO1lBRTlDLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxTQUFTO1lBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFNBQVMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFjLGNBQUM7WUFDakUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDO1lBQ3JELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUM7WUFFaEQsTUFBTSxJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ3hCLENBQUM7UUFFRDs7U0FFRyxHQUNLLElBQWlCLHFCQUFHLE9BQzFCLFdBQThCLEVBQzlCLEtBQThCLEVBQzlCLFNBQW9CO1lBRXBCLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNO1lBQ2pDLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ2pFLE1BQU0sTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7WUFDaEMsSUFBSSxLQUFLLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQztRQUM3RCxDQUFDO1FBRUQ7O1NBRUcsR0FDSyxJQUFrQixzQkFBRzs7WUFFM0IsS0FBSyxNQUFNLGFBQWEsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFFO2dCQUMvQyxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsYUFBYTtnQkFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ25DLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsRUFBRTtnQkFFOUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FDckMsQ0FBQyxDQUFDLEdBQ0EsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssSUFDNUIsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUMxQztnQkFDRCxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTs7O2dCQUloQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQU0sQ0FBQztnQkFDN0QsTUFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUM7OztZQUlqRCxLQUFLLE1BQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBRTtnQkFDaEQsTUFBTSxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJO2dCQUMzQyxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUMvQyxDQUFDLE1BQU0sR0FDTCxNQUFNLENBQUMsRUFBRSxLQUFLLGFBQWEsQ0FBQyxFQUFFLElBQzlCLE1BQU0sQ0FBQyxTQUFTLEtBQUssYUFBYSxDQUFDLFNBQVMsQ0FDL0M7Z0JBQ0QsSUFBSSxnQkFBZ0IsRUFBRTs7Z0JBRXRCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7Z0JBQ3hDLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLFNBQVMsQ0FBQzs7UUFFNUUsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxpQkFBWSxHQUFHLENBQUMsU0FBcUI7WUFDbkMsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUU7Z0JBQ2hELElBQUksU0FBUyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRTtnQkFFN0QsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSztnQkFDM0MsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFFWixJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsT0FBTyxJQUFJOztZQUUvRCxPQUFPLEtBQUs7UUFDZCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCxlQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQXVCO1lBQ3RDLEtBQUssTUFBTSxJQUFJLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBRSxDQUFFO2dCQUNoRCxNQUFNLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxHQUFHLElBQUk7Z0JBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDbkQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzs7UUFFNUMsQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBYSxpQkFBRztZQUNkLEtBQUssTUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBRTtnQkFDM0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzs7WUFFMUMsS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFFO2dCQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQzs7UUFFekIsQ0FBQztRQUVPLHlCQUFvQixHQUFHLE9BQU8sV0FBd0I7WUFDNUQsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLEdBQUcsV0FBVztZQUMxRCxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFFcEQsTUFBTSxHQUFHLEdBQUcseUJBQXlCO1lBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUcsS0FBRyxDQUEyQiw0QkFBRSxhQUFhLENBQUM7WUFFckUsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FDOUMsQ0FBQyxDQUFDLEdBQ0EsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxFQUFFLEtBQUssZUFBZSxJQUN0QyxDQUFDLENBQUMsYUFBYSxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQzFDO1lBQ0QsTUFBTSxNQUFNLEdBQUcsYUFBYSxFQUFFLFdBQVcsQ0FBQyxNQUFNO1lBQ2hELElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1gsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFHLEtBQUcsQ0FBeUIseUJBQUM7O1lBRzdELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxhQUFhLEVBQUU7WUFDckMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ2pDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBRyxLQUFHLENBQThCLDhCQUFDOztZQUdsRSxNQUFNLFVBQVUsR0FBRyxhQUFhLEVBQUUsYUFBYSxDQUFDLEtBQUssRUFBRSxJQUFJO1lBQzNELE1BQU0sWUFBWSxHQUFHLFVBQVUsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDO1lBRXpELElBQUksT0FBTyxHQUFHLEtBQUs7WUFDbkIsS0FBSyxNQUFNLE9BQU8sSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFFO2dCQUN0QyxNQUFNLEtBQUssR0FBRyxlQUVWLGFBQWEsQ0FBQyxDQUFDLElBRWQsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FDakQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFTLENBQUM7O2dCQUdsRSxNQUFNLGNBQWMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU07Z0JBQ3RDLElBQUksY0FBYyxLQUFLLE9BQU8sQ0FBQyxNQUFNLEVBQUU7b0JBQ3JDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsY0FBYztvQkFDL0IsT0FBTyxHQUFHLElBQUk7OztnQkFJaEIsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFFWixNQUFNLEVBQ0osWUFBWSxFQUNaLHFCQUFxQixFQUNyQixVQUFVLEVBQ1YsZUFBZSxFQUNoQixHQUFHLEtBQUs7Z0JBQ1QsSUFDRSxxQkFBcUIsSUFBSSxDQUFDLElBQzFCLHFCQUFxQixLQUFLLE9BQU8sQ0FBQyxxQkFBcUIsRUFDdkQ7b0JBQ0EsT0FBTyxDQUFDLHFCQUFxQixHQUFHLHFCQUFxQjtvQkFDckQsT0FBTyxHQUFHLElBQUk7O2dCQUVoQixJQUFJLFVBQVUsR0FBRyxDQUFDLElBQUksVUFBVSxLQUFLLE9BQU8sQ0FBQyxVQUFVLEVBQUU7b0JBQ3ZELE9BQU8sQ0FBQyxVQUFVLEdBQUcsVUFBVTtvQkFDL0IsT0FBTyxHQUFHLElBQUk7O2dCQUVoQixJQUFJLFlBQVksR0FBRyxDQUFDLElBQUksWUFBWSxLQUFLLE9BQU8sQ0FBQyxZQUFZLEVBQUU7b0JBQzdELE9BQU8sQ0FBQyxZQUFZLEdBQUcsWUFBWTtvQkFDbkMsT0FBTyxHQUFHLElBQUk7OztnQkFHaEIsSUFBSSxlQUFlLElBQUksZUFBZSxLQUFLLE9BQU8sQ0FBQyxlQUFlLEVBQUU7O29CQUVsRSxPQUFPLENBQUMsZUFBZSxHQUFHLGVBQWU7b0JBQ3pDLE9BQU8sR0FBRyxJQUFJOzs7WUFJbEIsTUFBTSxjQUFjLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUMvRCxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBRyxLQUFHLENBQWEsY0FBRSxjQUFjLENBQUM7O1lBR2pFLE1BQU0sTUFBTSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7WUFDbEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBRyxLQUFHLENBQWdCLGlCQUFFLGNBQWMsQ0FBQztRQUM3RCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCxJQUFVLGNBQUc7WUFDWCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSwyQkFBMkIsQ0FBQztZQUNqRCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWM7WUFDN0MsSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLGNBQWMsS0FBSyxrQkFBa0IsRUFBRTtnQkFDakUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsb0NBQW9DLENBQUM7Z0JBQzFEOztZQUVGLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFBRSxVQUFVLEVBQUUsSUFBSTtZQUFBLENBQUUsQ0FBQztRQUM1QyxDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNLLGNBQVMsR0FBRyxPQUFPLE9BQXlCO1lBQ2xELE9BQU8sa0JBQWtCLENBQUMsdUJBQXVCLElBQUksQ0FBQyxJQUFJLENBQUUsR0FBRTtnQkFDNUQsTUFBTSxLQUFLLEdBQUcsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUM7Z0JBQ2hELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO2dCQUNqRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLG9DQUFvQyxDQUFDO2dCQUV6RSxJQUFJO29CQUNGLElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxFQUFFLFVBQVUsSUFBSSxLQUFLO29CQUNuRCxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDO29CQUV4QyxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEtBQUs7b0JBQzFCLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDO3dCQUFFLEdBQUc7d0JBQUUsTUFBTTtvQkFBQSxDQUFFLENBQUM7b0JBQ3ZFLElBQUksUUFBUSxDQUFDLEtBQUssRUFBRSxNQUFNLElBQUksZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztvQkFFOUQsTUFBTSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsR0FBRyxRQUFRO29CQUNuQyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsb0JBQW9CLENBQUM7d0JBQUUsSUFBSSxFQUFFLFFBQVE7d0JBQUUsR0FBRyxFQUFFLFNBQVM7b0JBQUEsQ0FBRSxDQUFDO2tCQUN0RSxPQUFPLEdBQUcsRUFBRTs7b0JBRVosSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsS0FBSyxrQkFBa0IsRUFBRTt3QkFDakQsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDOzRCQUFFLElBQUksRUFBRSxVQUFVO3dCQUFBLENBQUUsQ0FBQzs7b0JBRXpELE1BQU0sR0FBRzt5QkFDRDtvQkFDUixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUs7O2dCQUc5QixJQUFJLENBQUMsd0JBQXdCLEVBQUU7WUFDakMsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBa0Isc0JBQUc7WUFDbkIsTUFBTSxNQUFNLEdBQXVCLEVBQUU7WUFDckMsS0FBSyxNQUFNLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBRSxDQUFFO2dCQUMzRCxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUs7Z0JBQ3RDLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssTUFBTSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDOztZQUU5RCxPQUFPLE1BQU07UUFDZixDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsdUJBQWtCLEdBQUcsQ0FBQyxHQUF1QjtZQUMzQyxNQUFNLFVBQVUsR0FBZ0IsRUFBRTtZQUNsQyxLQUFLLE1BQU0sTUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBRTtnQkFDbEQsTUFBTSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsR0FBRyxNQUFNO2dCQUM3QyxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUs7Z0JBQ3RDLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBRVosVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUM7O1lBRXBFLE9BQU8sVUFBVTtRQUNuQixDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILElBQThCLGtDQUFHO1lBQy9CLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsR0FBRztZQUN6QyxNQUFNLFVBQVUsR0FBZ0IsRUFBRTtZQUNsQyxLQUFLLE1BQU0sYUFBYSxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUU7Z0JBQy9DLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO2dCQUM1RCxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUU7Z0JBRS9DLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDOztZQUVwRSxPQUFPLFVBQVU7UUFDbkIsQ0FBQztRQUVEOztTQUVHLEdBQ0ssSUFBVyxlQUFHLENBQ3BCLFdBQThCLEVBQzlCLGFBQTRCLEVBQzVCLEdBQXVCO1lBRXZCLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBTTtZQUN2QyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsVUFBVSxLQUFLLE1BQU07WUFDL0MsTUFBTSxNQUFNLEdBQUcsY0FDWCxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsYUFBYSxJQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQztZQUNsRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7WUFFdEQsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztZQUM5RCxNQUFNLFFBQVEsR0FBRyxZQUFZLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLFlBQVksS0FBSyxDQUFDO1lBQ3ZFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7WUFDbkUsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSztZQUVoRCxPQUFPO2dCQUNMLE9BQU8sRUFBRSxLQUFLLENBQUMsRUFBRTtnQkFDakIsTUFBTSxFQUFFLGFBQWEsQ0FBQyxNQUFNLENBQUM7Z0JBQzdCLFNBQVMsRUFBRSxhQUFhLENBQUMsU0FBUztnQkFDbEMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDO2dCQUNuRCxNQUFNLEVBQUUsUUFBUTtnQkFDaEIsR0FBRyxFQUFFLFlBQVksSUFBSSxDQUFDLENBQUMsYUFBYSxFQUFFLGdCQUFnQjtnQkFDdEQsR0FBRyxFQUFFLFlBQVksSUFBSSxDQUFDLENBQUMsYUFBYSxFQUFFLHdCQUF3QjtnQkFDOUQsS0FBSyxFQUFFLENBQUMsV0FBVztnQkFDbkIsS0FBSyxFQUFFLGFBQWEsQ0FBQyxLQUFLO2dCQUMxQixlQUFlLEVBQUUsYUFBYSxDQUFDLEVBQUU7YUFDbEM7UUFDSCxDQUFDO1FBRU8sZUFBVSxHQUFHLENBQUMsS0FBdUI7WUFDM0MsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRTtZQUMzQixJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDNUIsT0FBTyxLQUFLO1FBQ2QsQ0FBQztRQUVPLGNBQVMsR0FBRyxDQUFDLEtBQTBDO1lBQzdELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWixLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ1osSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2pDLENBQUM7UUFqWkMsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjO1FBRXBDLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUMsVUFBVTtZQUMvQixJQUFJLFVBQVUsQ0FBQyxRQUFRLEtBQUssUUFBUSxDQUFDLHFCQUFxQixFQUFFO1lBQzVELElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDdEIsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxPQUFPLEtBQUs7WUFDMUMsS0FBSyxNQUFNLFdBQVcsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFFO2dCQUM1QyxNQUFNLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLENBQUM7O1FBRWhELENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxFQUFFLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxLQUFLO1lBQ3BDLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLGNBQWM7WUFDMUMsT0FBTyxJQUFJLENBQUMsa0JBQWtCLEVBQUU7UUFDbEMsQ0FBQyxDQUFDOztJQUdKOztLQUVHLEdBQ0gsT0FBTztRQUNMLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDZixJQUFJLENBQUMsYUFBYSxFQUFFO1FBQ3BCLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFOztBQXlYNUI7QUNuYkQ7Ozs7O0NBS0csR0FDRyxNQUFPLFVBQVcsU0FBUSxrQkFBa0I7SUFDaEQ7O0tBRUcsR0FDSCxZQUFZLElBQTRCO1FBQ3RDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQztRQW9CbEM7O1NBRUcsR0FDSCxJQUFVLGNBQUc7WUFDWCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSwyQkFBMkIsQ0FBQztZQUNqRCxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxLQUFLLG1CQUFtQixFQUFFO2dCQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxvQ0FBb0MsQ0FBQztnQkFDMUQ7O1lBRUYsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLGVBQWUsS0FBSyxLQUFLLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxNQUFNLENBQ1QsT0FBTyxFQUNQLDBEQUEwRCxDQUMzRDtnQkFDRDs7WUFFRixNQUFNLHVCQUF1QixHQUFHLElBQUksQ0FBQyxlQUFlO1lBQ3BELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSTtZQUMzQixJQUFJO2dCQUNGLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO29CQUNuRCxRQUFRLEVBQUUsUUFBUSxDQUFDLFVBQVU7Z0JBQzlCLEVBQUM7Z0JBQ0YsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFLE1BQU0sSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO2NBQzlELE9BQU8sQ0FBQyxFQUFFOztnQkFFVixJQUFJLENBQUMsZUFBZSxHQUFHLHVCQUF1QjtnQkFDOUMsTUFBTSxDQUFDOztRQUVYLENBQUM7UUFFTyxrQkFBYSxHQUFHLENBQUMsQ0FBZ0I7WUFDdkMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPOztZQUVqQyxNQUFNLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUMzRCxNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FDdEQsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLGlCQUFpQixLQUFLLE9BQU8sQ0FDdkM7WUFDRCxJQUFJLENBQUMsTUFBTSxDQUNULE9BQU8sRUFDUCxDQUF5QixvQ0FBWSxDQUFzQix3Q0FBbUIsRUFBRSxNQUFNLEVBQUUsRUFDeEYsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQ1YsQ0FBQyxDQUFDLEtBQUssQ0FDUjtZQUVELE1BQU0sY0FBYyxHQUFHLEdBQUcsbUJBQW1CLEVBQUUsTUFBTSxJQUFJLFlBQVksSUFBSSxPQUFPLEVBQUU7WUFDbEYsQ0FBQyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7Z0JBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQTJCLHdDQUFjLENBQUUsRUFBQztZQUNsRSxDQUFDLENBQUM7WUFFRixDQUFDLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRTtnQkFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBNkIsMENBQWMsQ0FBRSxFQUFDO1lBQ3BFLENBQUMsQ0FBQztZQUVGLENBQUMsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO2dCQUNoQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUEyQix3Q0FBYyxDQUFFLEVBQUM7Z0JBQ2hFLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztZQUNsRCxDQUFDLENBQUM7WUFFRixNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsWUFBWSxDQUFDO1lBQzNDLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ2QsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUF1QixrQ0FBWSxDQUFFLEVBQUM7O1lBR3BFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDO1lBRWxELElBQUksQ0FBQyxtQkFBbUIsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FDVCxNQUFNLEVBQ04sQ0FBc0QsNERBQU8sQ0FBRSxHQUMvRCxDQUFDLENBQ0Y7Z0JBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQztvQkFDL0IsRUFBRSxFQUFFLGFBQWEsQ0FBQyxFQUFFO29CQUNwQixpQkFBaUIsRUFBRSxPQUFPO29CQUMxQixLQUFLLEVBQUUsYUFBYTtvQkFDcEIsU0FBUztnQkFDVixFQUFDO2dCQUNGOztZQUdGLE1BQU0sY0FBYyxHQUFHLCtCQUErQixDQUFDLFNBQVMsQ0FBQztZQUNqRSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUF1QixrQ0FBWSxDQUFFLEVBQUM7Z0JBQzNEOzs7OztZQU1GLE1BQU0sY0FBYyxHQUFHLG1CQUFtQixDQUFDLGNBQWMsQ0FBQzs7WUFHMUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUU7Z0JBQzFELENBQUMsY0FBYyxHQUFHLGFBQWE7WUFDaEMsRUFBQzs7WUFHRixJQUFJLGNBQWMsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FDVCxNQUFNLEVBQ04sMENBQTBDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUF1Qix5Q0FBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FDMUc7Z0JBQ0QsY0FBYyxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7b0JBQ25DLENBQUMsQ0FBQyxJQUFJLEVBQUU7b0JBQ1IsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQy9CLENBQUMsQ0FBQzs7UUFFTixDQUFDO1FBRU8sY0FBUyxHQUFHLE9BQU8sZUFBZ0M7WUFDekQsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLG9CQUFvQixDQUFDO2dCQUNqQyxJQUFJLEVBQUUsT0FBTztnQkFDYixHQUFHLEVBQUUsZUFBZSxDQUFDLEdBQUc7WUFDekIsRUFBQztZQUVGLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUUvQixNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFO1lBQzNDLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDZCxNQUFNLENBQUMsR0FBRyxHQUFHLFlBQVksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUM7O1lBRTVELE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUM7WUFFekMsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQztnQkFDOUIsUUFBUSxFQUFFLFFBQVEsQ0FBQyxVQUFVO2dCQUM3QixHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUcsSUFBSSxFQUFFO1lBQ3RCLEVBQUM7WUFFRixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUs7UUFDOUIsQ0FBQztRQXBKQyxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDO1FBRXJELElBQUksQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxlQUFlO1lBQy9DLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO2dCQUMvQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFxQixzQkFBRSxHQUFHLENBQUM7WUFDbEQsQ0FBQyxDQUFDO1FBQ0osQ0FBQyxDQUFDOztJQUdKOzs7O0tBSUcsR0FDSCxtQkFBbUI7UUFDakIsS0FBSyxDQUFDLG1CQUFtQixFQUFFO1FBQzNCLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUM7O0FBcUkzRDtBQ3RLTSxNQUFNLDRCQUE0QixHQUFHLENBQUMsSUFLNUM7SUFDQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBSTtJQUNqRCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFBQyxhQUFhO1FBQUUsR0FBRztLQUFDLENBQUM7SUFDOUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxRQUFRLENBQUM7SUFDM0QsTUFBTSxFQUFFLEdBQUcsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDO0lBQ2xDLEVBQUUsQ0FBQyxVQUFVLEdBQUcsYUFBYSxDQUFDO0lBRTlCLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sRUFBRSxLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQztJQUVGLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsZ0NBQWdDLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sRUFBRSxLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQztJQUVGLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsOEJBQThCLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sRUFBRSxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQztJQUVGLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUk7WUFDRixNQUFNLE9BQU8sR0FDWCxDQUFDLENBQUMsSUFBSSxZQUFZLGNBQ2QsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQzFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVoRCxTQUFTLENBQUMsT0FBNkMsQ0FBQztVQUN4RCxPQUFPLEdBQUcsRUFBRTtZQUNaLE1BQU0sT0FBTyxHQUNYLG1FQUFtRTtZQUNyRSxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRTtnQkFBRSxLQUFLLEVBQUUsQ0FBQztnQkFBRSxLQUFLLEVBQUUsR0FBRztZQUFBLENBQUUsQ0FBQztZQUNsRCxNQUFNLEVBQUUsS0FBSyxDQUFDLHlCQUF5QixFQUFFLE9BQU8sQ0FBQzs7SUFFckQsQ0FBQyxDQUFDO0lBQ0YsT0FBTyxFQUFFO0FBQ1gsQ0FBQztBQzlDTSxNQUFNLGtCQUFrQixHQUFHLENBQUMsTUFBbUI7SUFDcEQsT0FBTztRQUNMLFlBQVksRUFBRSxZQUFZO1FBQzFCLFVBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFNO2dCQUMvQixJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUk7Z0JBQ2QsUUFBUSxFQUFFLEdBQUcsQ0FBQyxRQUFRO2dCQUN0QixVQUFVLEVBQUUsR0FBRyxDQUFDLFFBQVE7WUFDekIsR0FBQztLQUNIO0FBQ0gsQ0FBQztBQ0lEOzs7Ozs7Ozs7Ozs7Q0FZRyxHQUNHLFNBQVUsZUFBZSxDQUFJLE9BQW1CO0lBQ3BELElBQUksU0FBUyxHQUFHLElBQUk7SUFFcEIsTUFBTSxXQUFXLEdBQTRCLFFBQzFDLElBQUksQ0FDSCxDQUFDLE1BQU0sSUFBTTtZQUFFLE1BQU0sRUFBRSxVQUFtQjtZQUFFLE1BQU07UUFBQSxFQUFFLENBQUMsQ0FDckQsQ0FBQyxLQUFLLElBQU07WUFBRSxNQUFNLEVBQUUsVUFBbUI7WUFBRSxLQUFLO1FBQUEsRUFBRSxDQUFDLENBRXBELE9BQU8sQ0FBQyxJQUFPLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUVyQyxNQUFNLGFBQWEsR0FBRyxJQUNwQixXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVztZQUMzQixJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssVUFBVSxFQUFFLE1BQU0sV0FBVyxDQUFDLEtBQUs7WUFDOUQsT0FBTyxXQUFXLENBQUMsTUFBTTtRQUMzQixDQUFDLENBQUM7SUFFSixhQUFhLENBQUMsWUFBWSxHQUFHLElBQU0sU0FBUztJQUM1QyxPQUFPLGFBQWE7QUFDdEI7QUFVQTs7Ozs7Q0FLRyxHQUNJLE1BQU0sb0JBQW9CLEdBQUc7SUFDbEMsSUFBSSxPQUE0QztJQUNoRCxJQUFJLE1BQTZCO0lBQ2pDLE1BQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFJLENBQUMsUUFBUSxFQUFFLE9BQU87UUFDL0MsT0FBTyxHQUFHLFFBQVE7UUFDbEIsTUFBTSxHQUFHLE9BQU87SUFDbEIsQ0FBQyxDQUFDO0lBRUYsSUFBSSxVQUFVLEdBQUcsS0FBSztJQUN0QixJQUFJLFVBQVUsR0FBRyxLQUFLO0lBRXRCLE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBeUI7UUFDekMsVUFBVSxHQUFHLElBQUk7UUFDakIsT0FBTyxDQUFDLEtBQUssQ0FBQztJQUNoQixDQUFDO0lBRUQsTUFBTSxRQUFRLEdBQUcsQ0FBQyxNQUFXO1FBQzNCLFVBQVUsR0FBRyxJQUFJO1FBQ2pCLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELE9BQU87UUFDTCxPQUFPO1FBQ1AsT0FBTyxFQUFFLFFBQVE7UUFDakIsTUFBTSxFQUFFLFFBQVE7UUFDaEIsVUFBVSxFQUFFLElBQU0sVUFBVTtRQUM1QixVQUFVLEVBQUUsSUFBTSxVQUFVO0tBQzdCO0FBQ0gsQ0FBQztBQzFGRCxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDO0FBRTdDOztDQUVHLEdBQ0csU0FBVSxJQUFJLENBQU8sT0FBNEI7SUFDckQsSUFBSSxLQUFLLEdBQTZCLGFBQWE7SUFDbkQsT0FBTyxDQUFDLEdBQUcsSUFBUztRQUNsQixJQUFJLEtBQUssS0FBSyxhQUFhLEVBQUU7WUFDM0IsS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQzs7UUFHMUIsT0FBTyxLQUFLO0lBQ2QsQ0FBQztBQUNIO0FDZEE7QUFDQTtBQUNPLE1BQU0sV0FBVyxHQUFHO0lBQ3pCLEdBQUcsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F1Qkw7Q0FDRDtBQ3RCRCxNQUFNLFdBQVc7SUFBakI7UUFDVSxJQUFjLGtCQUFHLENBQUM7UUFDbEIsY0FBUyxHQUFHLElBQUksR0FBRyxFQUFzQjtRQUV6QyxJQUFRLFlBQUcsS0FBSzs7SUFFeEIsS0FBSyxDQUFDLEVBQUUsY0FBYyxHQUFHLElBQUksS0FBbUMsRUFBRTtRQUNoRSxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSTtZQUNwQjs7UUFHRixJQUFJO1lBQ0YsTUFBTSxNQUFNLEdBQUcsV0FBVyxDQUFDLEdBQUc7WUFDOUIsTUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUM7Z0JBQUMsTUFBTTthQUFDLEVBQUU7Z0JBQzlCLElBQUksRUFBRSx1Q0FBdUM7WUFDOUMsRUFBQztZQUNGLE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO2dCQUFFLElBQUksRUFBRSxrQkFBa0I7WUFBQSxDQUFFLENBQUM7WUFDOUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLO2dCQUM1QyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUF3QjtnQkFDbkQsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFO29CQUNuQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSTs7WUFFOUIsQ0FBQyxDQUFDO1VBQ0YsT0FBTyxHQUFRLEVBQUU7WUFDakIsU0FBUyxDQUFDO2dCQUFDLGNBQWM7YUFBQyxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQztZQUN6QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUk7OztJQUl4QixPQUFPO1FBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUU7UUFDdEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUU7UUFDeEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSzs7SUFHdkIsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsUUFBUSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDOztJQUc5QyxXQUFXLENBQUMsUUFBb0IsRUFBRSxPQUFlO1FBQy9DLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQzs7SUFHeEQsYUFBYSxDQUFDLEVBQVc7UUFDdkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDOztJQUd0QyxVQUFVLENBQUMsUUFBb0IsRUFBRSxPQUFlO1FBQzlDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQzs7SUFHdkQsWUFBWSxDQUFDLEVBQVc7UUFDdEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLEVBQUUsRUFBRSxDQUFDOztJQUc3QixRQUFRLENBQ2QsSUFBa0MsRUFDbEMsUUFBb0IsRUFDcEIsT0FBZTtRQUVmLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2YsSUFBSSxDQUFDLEtBQUssRUFBRTs7UUFHZCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsT0FBTyxDQUFDLElBQUksS0FBSyxZQUFZLEdBQUcsVUFBVSxHQUFHLFlBQVcsQ0FDdEQsUUFBUSxFQUNSLE9BQU8sQ0FDYTs7UUFHeEIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRTtRQUU1QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7WUFDckIsUUFBUSxFQUFFOzs7WUFJVixJQUFJLElBQUksS0FBSyxZQUFZLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQzs7UUFFN0IsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUFFLElBQUk7WUFBRSxFQUFFO1lBQUUsT0FBTztRQUFBLENBQUUsQ0FBQztRQUN2QyxPQUFPLEVBQUU7O0lBR0gsVUFBVSxDQUFDLElBQXNDLEVBQUUsRUFBVztRQUNwRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1A7O1FBR0YsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZixJQUFJLENBQUMsS0FBSyxFQUFFOztRQUdkLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTthQUNoQixJQUFJLEtBQUssY0FBYyxHQUFHLFlBQVksR0FBRyxjQUFhLENBQUUsRUFBRSxDQUFDO1lBQzVEOztRQUdGLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDO1lBQUUsSUFBSTtZQUFFLEVBQUU7UUFBQSxDQUFFLENBQUM7O0lBR3hCLFVBQVU7UUFDaEIsT0FBTyxJQUFJLENBQUMsY0FBYyxFQUFFOztJQUd0QixXQUFXLENBQUMsT0FBMkI7UUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyw0Q0FBNEMsQ0FBQzs7UUFHL0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDOztBQUVuQztBQUVELElBQUksa0JBQWtCLEdBQUcsS0FBSztBQUV2QixNQUFNLGlCQUFpQixHQUFHO0lBQy9CLGtCQUFrQixHQUFHLElBQUk7QUFDM0IsQ0FBQztBQUVNLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQztJQUM1QixNQUFNLFFBQVEsR0FBRyxJQUFJLFdBQVcsRUFBRTtJQUNsQyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBQUUsY0FBYyxFQUFFLGtCQUFrQjtJQUFBLENBQUUsQ0FBQztJQUN0RCxPQUFPLFFBQVE7QUFDakIsQ0FBQyxDQUFDO0FDdENGOztDQUVHLFNBQ1UsZUFBZTtJQWtHMUI7O0tBRUcsR0FDSCxXQUFZLEdBQ1YsVUFBVSxFQUNWLFdBQVcsRUFDWCxTQUFTLEVBQ1QsR0FBRyxFQUNILEdBQUcsRUFDSCxtQkFBbUIsR0FBRyxJQUFJLEVBQzFCLGFBQWEsRUFDYixZQUFZLEVBQ1osYUFBYSxFQUNjO1FBOUc3Qjs7O1NBR0csR0FDTSxxQkFBZ0IsR0FBRyxJQUFJLGdCQUFnQixFQUFFO1FBc0JsRDs7O1NBR0csR0FDSCxJQUFTLGFBQUcsS0FBSztRQUVqQjs7Ozs7O1NBTUcsR0FDSCxJQUFjLGtCQUFHLEtBQUs7UUFNTCxxQkFBZ0IsR0FBRyxDQUFDLEdBQUcsSUFBSTtRQUMzQix5QkFBb0IsR0FBRyxFQUFFLEdBQUcsSUFBSTtRQVlqRDs7O1NBR0csR0FDSyxJQUFnQixvQkFBRyxvQkFBb0IsRUFBZ0I7UUFRL0Q7O1NBRUcsR0FDYyxvQkFBZSxHQUFHLElBQUksZUFBZSxFQUFFO1FBd0ZoRCxvQkFBZSxHQUFHLENBQUMsTUFBMEI7WUFDbkQsTUFBTSxhQUFhLEdBQTRDO2dCQUM3RCxTQUFTLEVBQUUsSUFBSTtnQkFDZixvQkFBb0IsRUFBRSxJQUFJO2dCQUMxQixvQkFBb0IsRUFBRSxJQUFJO2dCQUMxQix3QkFBd0IsRUFBRSxJQUFJO2dCQUM5QixLQUFLLEVBQUUsSUFBSTtnQkFDWCxNQUFNLEVBQUUsSUFBSTtnQkFDWix3QkFBd0IsRUFBRSxJQUFJO2FBQy9CO1lBQ0QsSUFBSSxDQUFDLFFBQVEsR0FBRyw0QkFBNEIsQ0FBQztnQkFDM0MsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNiLFFBQVEsRUFBRSxDQUFHLE1BQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBSSxPQUFJLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBRTtnQkFDNUYsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUNuQixTQUFTLEVBQUUsQ0FBQyxPQUFPO29CQUNqQixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxJQUFJLEVBQUU7b0JBQ3RDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtvQkFDOUIsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFTO29CQUNoRCxJQUFJLGFBQWEsQ0FBQyxTQUFTLENBQUMsRUFBRTt3QkFDNUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQzs7b0JBRXhDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDO2lCQUM1QztZQUNGLEVBQUM7WUFFRixJQUFJLFNBQXlCO1lBQzdCLElBQUksQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUNoQyxPQUFPLENBQUMsSUFBSSxDQUFZO2dCQUN0QixJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNO29CQUMxQixJQUFJLE9BQU8sR0FBRyxLQUFLO29CQUNuQixNQUFNLE1BQU0sR0FBRzt3QkFDYixPQUFPLEdBQUcsSUFBSTt3QkFDZCxZQUFZLENBQUMsU0FBUyxDQUFDO3dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7d0JBQ2pELE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO29CQUN4QixDQUFDO29CQUVELElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztvQkFFOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO3dCQUN4QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDOzs7O3dCQUk1QixNQUFNLE9BQU8sR0FBRyxVQUNaLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFJLElBQUMsQ0FBQyxNQUFNLENBQUUsSUFDdEMsQ0FBMkMsMkNBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRTt3QkFDbkUsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQzt3QkFDM0MsWUFBWSxDQUFDLFNBQVMsQ0FBQzt3QkFDdkIsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM1QixDQUFDLENBQUM7Z0JBQ0osQ0FBQyxDQUFDO2dCQUVGLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU07b0JBQzFCLFNBQVMsR0FBRyxVQUFVLENBQUM7d0JBQ3JCLE1BQU0sT0FBTyxHQUFHLDBDQUEwQyxJQUFJLENBQUMsbUJBQW1CLElBQUk7d0JBQ3RGLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixFQUFFLE9BQU8sQ0FBQzt3QkFDN0MsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM1QixDQUFDLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDO2dCQUM5QixDQUFDLENBQUM7YUFDSCxDQUFDLENBQ0g7UUFDSCxDQUFDO1FBYU8seUJBQW9CLEdBQUcsQ0FBQyxDQUFhO1lBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztZQUNyRSxTQUFTLEVBQUUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQ2pELFlBQVksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFDekMsSUFBSSxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQy9DLENBQUM7UUFFRCxJQUFLLFNBQUcsQ0FBQyxJQUFlLGtCQUFlLENBQUMsY0FBYyxFQUFFLE1BQWU7WUFDckUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEtBQUssZUFBZSxDQUFDLDBCQUEwQjtZQUN6RSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxJQUFJLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQThCLGlDQUFJLENBQU0sV0FBTSxDQUFFLEVBQUM7Z0JBQ3RFLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFjLG1CQUFNLENBQUUsRUFBQztnQkFDakQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDOztZQUV2RSxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ2hCLENBQUM7UUFFTyxJQUFPLFdBQUc7WUFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLENBQUM7WUFDNUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFO1lBQzVCLElBQUksQ0FBQyx5QkFBeUIsRUFBRTtZQUNoQyxhQUFhLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQ3JDLFlBQVksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFDekMsWUFBWSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztZQUNyQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRTtZQUM1QixJQUFJLENBQUMsYUFBYSxFQUFFLE9BQU8sRUFBRTtZQUM3QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO1FBQ2pDLENBQUM7UUFFRCxJQUFRLFlBQUc7WUFDVCxPQUFPLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO1FBQzVCLENBQUM7UUFFRCxrQkFBYSxHQUFHLE9BQU8sTUFBYztZQUNuQyxJQUFJO2dCQUNGLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSTtnQkFDckIsTUFBTSxJQUFJLENBQUMsUUFBUTtnQkFDbkIsTUFBTSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztjQUM5QixPQUFPLEdBQUcsRUFBRTtnQkFDWixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSx3Q0FBd0MsRUFBRSxHQUFHLENBQUM7O1lBR3JFLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN0RSxDQUFDO1FBRUQsd0JBQW1CLEdBQUcsT0FBTyxNQUFrQztZQUM3RCxNQUFNLElBQUksQ0FBQyxRQUFRO1lBQ25CLE9BQU8sU0FBUyxDQUNkLElBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQztvQkFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7b0JBQUUsTUFBTTtnQkFBQSxDQUFFLENBQUMsRUFDekUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzVCO1FBQ0gsQ0FBQztRQUVELGlCQUFZLEdBQUcsT0FBTyxJQUE0QztZQUNoRSxNQUFNLElBQUksQ0FBQyxRQUFRO1lBQ25CLE9BQU8sU0FBUyxDQUNkLElBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUM7b0JBQUUsR0FBRyxJQUFJO29CQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFBQSxDQUFFLENBQUMsRUFDbkUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzVCO1FBQ0gsQ0FBQztRQUVELGVBQVUsR0FBRyxPQUFPLElBQTBDO1lBQzVELE1BQU0sSUFBSSxDQUFDLFFBQVE7WUFDbkIsT0FBTyxTQUFTLENBQ2QsSUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQztvQkFBRSxHQUFHLElBQUk7b0JBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO2dCQUFBLENBQUUsQ0FBQyxFQUNqRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FDNUI7UUFDSCxDQUFDO1FBRUQsZUFBVSxHQUFHLE9BQU8sSUFBbUM7WUFDckQsTUFBTSxJQUFJLENBQUMsUUFBUTtZQUNuQixPQUFPLFNBQVMsQ0FDZCxJQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDO29CQUFFLEdBQUcsSUFBSTtvQkFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7Z0JBQUEsQ0FBRSxDQUFDLEVBQ2pFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUM1QjtRQUNILENBQUM7UUFFRCxlQUFVLEdBQUcsT0FBTyxJQUEwQztZQUM1RCxNQUFNLElBQUksQ0FBQyxRQUFRO1lBQ25CLE9BQU8sU0FBUyxDQUNkLElBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUM7b0JBQUUsR0FBRyxJQUFJO29CQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFBQSxDQUFFLENBQUMsRUFDakUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzVCO1FBQ0gsQ0FBQztRQUVELHFCQUFnQixHQUFHLE9BQU8sVUFBNEI7WUFDcEQsTUFBTSxJQUFJLENBQUMsUUFBUTtZQUNuQixPQUFPLFNBQVMsQ0FDZCxJQUNFLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7b0JBQUUsVUFBVTtvQkFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7Z0JBQUEsQ0FBRSxDQUFDLEVBQ3RFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUM1QjtRQUNILENBQUM7UUFFRCxjQUFTLEdBQUcsT0FBTyxLQUEwQztZQUMzRCxNQUFNLElBQUksQ0FBQyxRQUFROztZQUVuQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO2dCQUFFLEdBQUcsS0FBSztnQkFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7WUFBQSxDQUFFLENBQUM7UUFDcEUsQ0FBQztRQUVELElBQXNCLDBCQUFHO1lBQ3ZCLE1BQU0sSUFBSSxDQUFDLFFBQVE7WUFDbkIsT0FBTyxTQUFTLENBQ2QsSUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDO29CQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFBQSxDQUFFLENBQUMsRUFDcEUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzVCO1FBQ0gsQ0FBQztRQUVELElBQXFCLHlCQUFHO1lBQ3RCLE1BQU0sSUFBSSxDQUFDLFFBQVE7WUFDbkIsT0FBTyxTQUFTLENBQ2QsSUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO29CQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFBQSxDQUFFLENBQUMsRUFDbkUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzVCO1FBQ0gsQ0FBQztRQUVELG1CQUFjLEdBQUcsT0FBTyxJQUE2QixLQUFFO1lBQ3JELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSTtZQUNyQixNQUFNLEVBQUUsT0FBTyxHQUFHLENBQUMsR0FBRyxJQUFJLEVBQUUsR0FBRyxJQUFJO1lBRW5DLElBQUksQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDckUsTUFBTSxJQUFJLEdBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO1lBQzFELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUNwQyw4QkFBOEIsRUFDOUI7Z0JBQ0UsV0FBVyxFQUFFO2dCQUNiLFlBQVksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsQ0FBQyxDQUNGO1lBQ0QsSUFBSSxDQUFDLGtCQUFrQixHQUFHLFVBQVUsQ0FBQztnQkFDbkMsV0FBVyxFQUFFO2dCQUNiLElBQUksQ0FBQyxNQUFNLENBQ1QsSUFBSSxLQUFLLENBQUMsY0FBYyxJQUFJLENBQUMsR0FBRyxDQUEyQixpQ0FBTyxDQUFJLElBQUMsQ0FDeEU7YUFDRixFQUFFLE9BQU8sQ0FBQztZQUVYLE9BQU8sSUFBSSxDQUFDLE9BQU87UUFDckIsQ0FBQztRQUVELFNBQUksR0FBRyxPQUNMLElBQThDOztZQUc5QyxNQUFNLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDeEIsSUFDRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLElBQ2xDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsRUFDbEM7Ozs7O2dCQUtBLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxvQkFBb0IsRUFBZ0I7Ozs7WUFLOUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQjtZQUVyQyxJQUFJLFNBQVMsR0FBK0IsU0FBUztZQUNyRCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxZQUFZO2dCQUNsRSxZQUFZLENBQUMsU0FBUyxDQUFDO2dCQUN2QixXQUFXLEVBQUU7Z0JBQ2IsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDaEIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7WUFDL0IsQ0FBQyxDQUFDO1lBRUYsU0FBUyxHQUFHLFVBQVUsQ0FBQztnQkFDckIsV0FBVyxFQUFFO2dCQUNiLE1BQU0sT0FBTyxHQUFHLGtEQUFrRCxJQUFJLENBQUMsbUJBQW1CLElBQUk7Z0JBQzlGLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLG9CQUFvQixFQUFFLE9BQU8sQ0FBQztnQkFDakQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwQyxDQUFDLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBRTVCLE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUM7Z0JBQ3BDLGNBQWMsRUFBRTtvQkFDZCxTQUFTLEVBQUUsYUFBYTtvQkFDeEIsV0FBVyxFQUFFLFdBQVcsQ0FBQyxNQUFNLENBQUM7d0JBQzlCLEdBQUcsSUFBSTt3QkFDUCxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7d0JBQ3pCLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUs7cUJBQzlCLENBQUM7Z0JBQ0g7WUFDRixFQUFDO1lBRUYsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQztZQUM5QyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBRTVCLE9BQU8sT0FBTyxDQUFDLE9BQU87UUFDeEIsQ0FBQztRQUVPLElBQUksUUFBRztZQUNiLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FDZCxVQUFVLENBQUMsTUFBTSxDQUFDO2dCQUNoQixjQUFjLEVBQUU7b0JBQ2QsU0FBUyxFQUFFLG9CQUFvQjtvQkFDL0Isa0JBQWtCLEVBQUUsRUFBRTtnQkFDdkI7WUFDRixFQUFDLENBQ0g7UUFDSCxDQUFDO1FBRU8sZ0JBQVcsR0FBRyxPQUFPLE1BQWM7WUFDekMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUNkLFVBQVUsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hCLGNBQWMsRUFBRTtvQkFDZCxTQUFTLEVBQUUsa0JBQWtCO29CQUM3QixnQkFBZ0IsRUFBRTt3QkFDaEIsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO3dCQUN6QixNQUFNO29CQUNQO2dCQUNGO1lBQ0YsRUFBQyxDQUNIO1FBQ0gsQ0FBQztRQUVPLFNBQUksR0FBRyxPQUFPLE9BQW1CO1lBQ3ZDLE1BQU0sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3pCLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1lBQzFDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEtBQUssU0FBUyxDQUFDLElBQUksRUFBRTtnQkFDL0MsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUseUNBQXlDLEVBQUUsT0FBTyxDQUFDO2dCQUN4RTs7WUFFRixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSx1QkFBdUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLE9BQU8sQ0FBQztZQUNyRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xELENBQUM7UUFFTyxJQUFTLGFBQUc7WUFDbEIsTUFBTSxNQUFNLEdBQUcsU0FBUyxFQUFFO1lBQzFCLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQzVDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO2dCQUMxQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUseUNBQXlDLEVBQUUsQ0FBQyxDQUFDO2dCQUNwRSxDQUFDLENBQUM7WUFDSixDQUFDLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQzNCLENBQUM7UUFFTyxJQUF1QiwyQkFBRztZQUNoQyxZQUFZLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDO1lBQ3pDLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxVQUFVLENBQUM7Z0JBQ3ZDLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO29CQUM3QixNQUFNLG9CQUFvQixHQUN4QixJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUU7b0JBRTVELElBQUksb0JBQW9CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixFQUFFO3dCQUNwRCxJQUFJLENBQUMsS0FBSyxDQUNSLGVBQWUsQ0FBQywwQkFBMEIsRUFDMUMsNERBQTRELElBQUksQ0FBQyxvQkFBb0IsSUFBSSxDQUMxRjs7O1lBR1AsQ0FBQyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztRQUMvQixDQUFDO1FBMVhDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVTtRQUM1QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxjQUFjLEVBQUU7UUFDOUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVztRQUM5QixNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLFdBQVc7UUFDckMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUztRQUNoQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsbUJBQW1CO1FBQzlDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRztRQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1lBQUMsV0FBVztZQUFFLEdBQUc7U0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxNQUFNLEdBQUcsZ0JBQ1YsSUFBSSxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUNwQyxTQUFTO1FBQ2IsSUFBSSxDQUFDLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQztZQUM1QixPQUFPLEVBQUUsTUFBTSxDQUFDLEdBQUc7WUFDbkIsWUFBWSxFQUFFO2dCQUNaLFdBQVcsQ0FBQztvQkFBRSxhQUFhLEVBQUUsVUFBVSxLQUFLLEVBQUU7Z0JBQUEsQ0FBRSxDQUFDO2dCQUNqRCxJQUFJLENBQUMsTUFBTSxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO2dCQUNuRCxXQUFXLEVBQUUsS0FBSyxPQUFPLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7YUFDckUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixFQUFDOzs7Ozs7O1FBUUYsSUFBSSxDQUFDLHFCQUFxQixHQUFHLFVBQVUsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUMsVUFBVTtZQUNsRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN4QyxDQUFDLENBQUM7OztRQUlGLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxZQUFZLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztZQUNwRSxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtnQkFDYixJQUFJLENBQUMsb0JBQW9CLEdBQUcsb0JBQW9CLEVBQUU7bUJBQzdDO2dCQUNMLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxPQUFPLEVBQUU7O1FBRXhDLENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxlQUFlLENBQUM7WUFDbkIsT0FBTyxFQUFFLEdBQUc7WUFDWixPQUFPLEVBQUUsWUFBWSxDQUFDLElBQUksRUFBRSxFQUFFLElBQUksRUFBRTtZQUNwQyxPQUFPLEVBQUUsWUFBWSxDQUFDLEdBQUc7WUFDekIsZUFBZSxFQUFFLElBQUksQ0FBQyxTQUFTO1lBQy9CLEdBQUc7UUFDSixFQUFDOztJQW1FSixJQUFJLFNBQVM7UUFDWCxPQUNFLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQzNDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUU7O0lBSXRDLElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU87OztBQTlKdEM7O0NBRUcsR0FDSSxlQUFjLGtCQUFHLElBQUg7QUFDckI7Ozs7Q0FJRyxHQUNJLGVBQTBCLDhCQUFHLElBQUg7QUFDakM7Ozs7O0NBS0csR0FDSSxlQUFrQixzQkFBRyxJQUFIO0FBQ3pCOztDQUVHLEdBQ0ksZUFBVyxlQUFHLElBQUg7QUMzTHBCOzs7Q0FHRyxHQUNJLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFVO0lBQzFDLE9BQU8sZUFBZSxjQUFjLENBQUMsS0FBd0I7O1FBRTNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUMxQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSTtRQUN0QixJQUNFLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsYUFBYSxJQUMvQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxPQUFPLEVBQzNDO1lBQ0EsTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFOztJQUVyQixDQUFDO0FBQ0gsQ0FBQztBQUVEOzs7Q0FHRyxHQUNJLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFVO0lBQzFDLE9BQU8sZUFBZSxjQUFjLENBQUMsS0FBd0I7O1FBRTNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUMxQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLEtBQUs7UUFDakMsTUFBTSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsR0FBRyxTQUFTO1FBRTFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FDVCxNQUFNLEVBQ04seURBQXlELEVBQ3pELEtBQUssQ0FDTjtZQUNEOztRQUdGLE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxXQUFXO1FBQzFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUs7UUFDNUMsSUFBSSxZQUFZLEtBQUssWUFBWSxDQUFDLE9BQU8sRUFBRTtZQUN6QyxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTix3R0FBd0csRUFDeEcsS0FBSyxDQUNOO1lBQ0Q7O1FBRUYsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3RCLE1BQU0sb0JBQW9CLEdBQUcsUUFDMUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLGFBQWEsRUFDOUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdEMsSUFBSSxvQkFBb0IsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUscUNBQXFDLENBQUM7Z0JBQzFELE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FBQztvQkFDZixNQUFNLEVBQUUsSUFBSTtvQkFDWixNQUFNLEVBQUUsUUFBUTtvQkFDaEIsT0FBTyxFQUFFLHlCQUF5QjtnQkFDbkMsRUFBQzs7ZUFFQztZQUNMLElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLHFDQUFxQyxDQUFDO2dCQUMxRCxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUM7b0JBQUUsT0FBTyxFQUFFLHdCQUF3QjtnQkFBQSxDQUFFLENBQUM7OztJQUc3RCxDQUFDO0FBQ0gsQ0FBQztBQUVEOztDQUVHLEdBQ0ksTUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFVO0lBQ3ZDLE9BQU8sU0FBUyxXQUFXO1FBQ3pCLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSztRQUNuQyxJQUNFLFlBQVksS0FBSyxZQUFZLENBQUMsSUFBSSxJQUNsQyxZQUFZLEtBQUssWUFBWSxDQUFDLElBQUksRUFDbEM7WUFDQSxLQUNHLEtBQUssQ0FBQztnQkFBRSxPQUFPLEVBQUUsMkJBQTJCO2dCQUFFLE1BQU0sRUFBRSxLQUFLO1lBQUEsQ0FBRSxFQUM3RCxLQUFLLENBQUMsQ0FBQyxHQUFHO2dCQUNULElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLHdDQUF3QyxFQUFFLEdBQUcsQ0FBQztZQUNyRSxDQUFDLENBQUM7O0lBRVIsQ0FBQztBQUNILENBQUM7QUFFRDs7Q0FFRyxHQUNJLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFVO0lBQzFDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFZO1FBQzdDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLElBQUksRUFBRTtRQUNuRCxJQUFJO1lBQ0YsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLGVBQWUsQ0FBQyxVQUFVLEVBQUU7Z0JBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQzs7Z0JBRzdCLE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsa0JBQWtCO2dCQUNqRCxJQUFJLGFBQWEsQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLEVBQUU7Ozs7O1lBS25ELElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7WUFDakMsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFDeEMsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUFFLE9BQU8sRUFBRSx1QkFBdUIsTUFBTSxFQUFFO1lBQUEsQ0FBRSxDQUFDO1VBQzlELE9BQU8sR0FBRyxFQUFFO1lBQ1osSUFBSSxDQUFDLE1BQU0sQ0FDVCxPQUFPLEVBQ1AsbURBQW1ELEVBQ25ELEdBQUcsQ0FDSjs7SUFFTCxDQUFDLENBQUM7QUFDSixDQUFDO0FDMUhEOzs7O0NBSUcsR0FDSSxNQUFNLHNCQUFzQixHQUFHLENBQUMsS0FBZ0I7SUFDckQsT0FBTyxTQUFTLG1CQUFtQixDQUFDLEtBQXdCO1FBQzFELE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxLQUFLO1FBQy9CLElBQUksYUFBYSxFQUFFO1lBQ2pCLE1BQU0sRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxHQUN4RCxhQUFhO1lBRWYsTUFBTSxNQUFNLEdBQTRDO2dCQUN0RCxDQUFDLGFBQWEsQ0FBQyxVQUFVLEdBQUcsZUFBZTtnQkFDM0MsQ0FBQyxhQUFhLENBQUMsVUFBVSxHQUFHLGVBQWU7Z0JBQzNDLENBQUMsYUFBYSxDQUFDLFdBQVcsR0FBRyxjQUFjO2FBQzVDO1lBRUQsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FDbkQsQ0FBQyxVQUFVLEdBQUssTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEtBQUssQ0FDN0M7WUFDRCxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQztnQkFDakQsSUFBSSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBMkIsQ0FBQyxFQUFFO29CQUNwRSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsVUFBMkIsQ0FBQzs7WUFFdEQsQ0FBQyxDQUFDO1lBRUYsS0FBSyxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDOztJQUU5QyxDQUFDO0FBQ0gsQ0FBQztBQ2xDRDs7Ozs7Q0FLRyxHQUNJLE1BQU0sZUFBZSxHQUFHLENBQUksR0FBUSxFQUFFLEdBQUcsTUFBVztJQUN6RCxLQUFLLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBRTtRQUN0QixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNwQixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzs7O0lBR2YsT0FBTyxHQUFHO0FBQ1osQ0FBQztBQUVEOzs7OztDQUtHLEdBQ0ksTUFBTSxtQkFBbUIsR0FBRyxDQUFJLEdBQVEsRUFBRSxHQUFHLE1BQVc7SUFDN0QsS0FBSyxNQUFNLENBQUMsSUFBSSxNQUFNLENBQUU7UUFDdEIsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxLQUFLLEtBQUssRUFBRSxFQUFFO1lBQ2hCLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQzs7O0lBR3hCLE9BQU8sR0FBRztBQUNaLENBQUM7QUNiTSxNQUFNLDZCQUE2QixHQUFHLENBQzNDLFVBQXNCLEVBQ3RCLEtBQWdCO0lBRWhCLE9BQU8sVUFBVSxDQUFDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxDQUFDLENBQUM7UUFDakQsTUFBTSxFQUFFLHdCQUF3QixFQUFFLEdBQUcsQ0FBQztRQUN0QyxJQUFJLENBQUMsd0JBQXdCLEVBQUU7UUFDL0IsS0FBSyxDQUFDLGtCQUFrQixDQUN0Qix3QkFBd0IsQ0FBQyxNQUFNLENBQzdCLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDZCxNQUFNLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLEdBQUcsTUFBTTtZQUMvQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUc7Z0JBQ25CLGlCQUFpQjthQUNsQjtZQUNELE9BQU8sT0FBTztRQUNoQixDQUFDLEVBQ0QsRUFBRSxDQUNILENBQ0Y7SUFDSCxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQ7OztDQUdHLEdBQ0ksTUFBTSw0QkFBNEIsR0FBRyxDQUMxQyxVQUFzQixFQUN0QixLQUFnQjtJQUVoQixPQUFPLFVBQVUsQ0FBQyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLENBQUM7UUFDOUIsSUFBSSxnQkFBZ0IsRUFBRTtZQUNwQixLQUFLLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO1lBQ2pELEtBQUssQ0FBQyw0QkFBNEIsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7O0lBRWxFLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFTSxNQUFNLGNBQWMsR0FBRyxDQUFDLFVBQXNCLEVBQUUsSUFBVTtJQUMvRCxPQUFPLFVBQVUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLFVBQVUsRUFBRTtRQUV0RCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQ3hFLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQUUsT0FBTyxFQUFFLFlBQVk7WUFBQSxDQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO2dCQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSx1Q0FBdUMsRUFBRSxHQUFHLENBQUM7WUFDcEUsQ0FBQyxDQUFDOztJQUVOLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7Q0FFRyxHQUNJLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxVQUFzQjtJQUN6RCxPQUFPLFVBQVUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRTtRQUNkLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQztZQUFDLFdBQVc7U0FBQyxDQUFDO1FBQ3ZDLE1BQU0sRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUU7WUFDcEMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQzNCLGlCQUFpQixFQUFFLDBCQUEwQixDQUFDLGlCQUFpQixDQUFDO1lBQ2hFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztZQUN0QixXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7UUFDL0IsRUFBQztJQUNKLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7O0NBR0csR0FDSSxNQUFNLGdCQUFnQixHQUFHLENBQUMsS0FBZ0I7SUFDL0MsT0FBTyxTQUFTLGFBQWEsQ0FBQyxDQUFjO1FBQzFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDO1FBQ2xCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDL0IsQ0FBQztBQUNILENBQUM7QUFFRDs7OztDQUlHLEdBQ0ksTUFBTSw2QkFBNkIsR0FBRyxDQUFDLEtBQWdCO0lBQzVELE9BQU8sU0FBUywwQkFBMEIsQ0FBQyxDQUEyQjtRQUNwRSxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsR0FBRyxDQUFDO1FBQ2hDLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQywrQkFBK0IsRUFBRTtRQUN2RCxNQUFNLE9BQU8sR0FBa0MsRUFBRTtRQUNqRCxLQUFLLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLGtCQUFrQixDQUFFO1lBQ2pFLE1BQU0sWUFBWSxHQUFHLENBQUM7bUJBQUksT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLFlBQVksSUFBSSxFQUFFO2FBQUU7WUFDbEUsSUFBSSxNQUFNLEVBQUU7Z0JBQ1YsZUFBZSxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7bUJBQ25DO2dCQUNMLG1CQUFtQixDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7O1lBRTlDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRztnQkFBRSxZQUFZO1lBQUEsQ0FBRTs7UUFFdkMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQztJQUNuQyxDQUFDO0FBQ0gsQ0FBQztBQy9HRDs7OztDQUlHLEdBQ0ksTUFBTSxvQkFBb0IsR0FBRyxDQUFDLElBQVU7SUFDN0MsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sS0FBSztRQUM3QyxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsR0FBRyxLQUFLO1FBQ3hDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLO1FBQ3ZDLElBQ0UsS0FBSyxLQUFLLG9CQUFvQixDQUFDLFVBQVUsSUFDekMsU0FBUyxLQUFLLGdCQUFnQixFQUFFLFNBQVMsRUFDekM7WUFDQSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTTtZQUMxQixNQUFNLENBQ0osTUFBTSxFQUNOLENBQXVCLCtCQUFTLENBQUMsSUFBSSxDQUFDLENBQTBCLDBCQUNqRTtZQUNELElBQUk7Z0JBQ0YsSUFBSSxJQUFJLEtBQUssU0FBUyxDQUFDLEtBQUssRUFBRTtvQkFDNUIsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTt1QkFDdEIsSUFBSSxJQUFJLEtBQUssU0FBUyxDQUFDLEtBQUssRUFBRTtvQkFDbkMsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRTt1QkFDMUIsSUFDTCxJQUFJLEtBQUssU0FBUyxDQUFDLFlBQVksSUFDL0IsSUFBSSxLQUFLLFNBQVMsQ0FBQyxrQkFBa0IsRUFDckM7b0JBQ0EsTUFBTSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRTt1QkFDM0I7b0JBQ0wsTUFBTSxDQUNKLE1BQU0sRUFDTixxQ0FBcUMsRUFDckMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUNoQjs7Y0FFSCxPQUFPLEtBQUssRUFBRTtnQkFDZCxNQUFNLENBQUMsT0FBTyxFQUFFLDJCQUEyQixFQUFFLEtBQUssQ0FBQzs7O0lBR3pELENBQUMsQ0FBQztBQUNKLENBQUM7QUM3QkQ7O0NBRUcsR0FDSSxNQUFNLHNCQUFzQixHQUFHLENBQUMsS0FBZ0I7SUFDckQsT0FBTyxTQUFTLG1CQUFtQixDQUFDLENBQW9CO1FBQ3RELE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEVBQUU7Ozs7Ozs7OztRQVNsQixNQUFNLGNBQWMsR0FBRyx1QkFBdUIsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDO1FBQ2xFLEtBQUssQ0FBQyxzQkFBc0IsQ0FDMUIsV0FBVyxDQUFDLFNBQVMsRUFDckIsTUFBTSxDQUFDLE1BQU0sQ0FJWCxXQUFXLEVBQUUsY0FBYyxFQUFFO1lBQzdCLHVCQUF1QixFQUFFO2dCQUN2QixVQUFVLEVBQUUsZUFBZSxDQUFDLE9BQU87Z0JBQ25DLGdCQUFnQixFQUFFLGVBQWUsQ0FBQyxPQUFPO1lBQzFDO1FBQ0YsRUFBQyxDQUNIO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRDs7Q0FFRyxHQUNJLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxLQUFnQjtJQUNuRCxPQUFPLFNBQVMsaUJBQWlCLENBQUMsQ0FBa0I7UUFDbEQsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUM7UUFDekIsSUFBSSxDQUFDLFdBQVcsRUFBRTtRQUVsQixLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsWUFBWSxHQUNqQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxTQUFTLEtBQUssV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUNsRTtJQUNILENBQUM7QUFDSCxDQUFDO0FBRUQ7O0NBRUcsR0FDSSxNQUFNLHVCQUF1QixHQUFHLENBQUMsS0FBZ0I7SUFDdEQsT0FBTyxTQUFTLG9CQUFvQixDQUFDLENBQXFCO1FBQ3hELE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEVBQUU7UUFDbEIsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDO0lBQzdELENBQUM7QUFDSCxDQUFDO0FBRUQ7OztDQUdHLEdBQ0ksTUFBTSxtQkFBbUIsR0FBRyxDQUFDLEtBQWdCO0lBQ2xELE9BQU8sU0FBUyxnQkFBZ0IsQ0FBQyxDQUFpQjtRQUNoRCxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUM7Ozs7O1FBSzdCLElBQUksQ0FBQyxDQUFDLFdBQVcsRUFBRTtZQUNqQixNQUFNLGNBQWMsR0FBRyx1QkFBdUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQztZQUNwRSxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDO1lBQ2hFLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDO2VBQy9DO1lBQ0wsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsSUFBTTtvQkFDekMsZUFBZSxFQUFFLGVBQWUsQ0FBQyxDQUFDOzJCQUFHLENBQUMsQ0FBQyxlQUFlO3FCQUFDLEVBQUUsSUFBSSxDQUFDO2dCQUMvRCxHQUFDLENBQUM7O0lBRVAsQ0FBQztBQUNILENBQUM7QUFFRDs7O0NBR0csR0FDSSxNQUFNLHFCQUFxQixHQUFHLENBQUMsS0FBZ0I7SUFDcEQsT0FBTyxTQUFTLGtCQUFrQixDQUFDLENBQW1CO1FBQ3BELE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQzs7UUFFN0IsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFO1lBQ2pCLE1BQU0sY0FBYyxHQUFHLHVCQUF1QixDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDO1lBQ3BFLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUM7WUFDaEUsS0FBSyxDQUFDLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDLElBQU07b0JBQzNELFlBQVksRUFBRSxDQUFDLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDO2dCQUN4RCxHQUFDLENBQUM7ZUFDRTtZQUNMLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLElBQU07b0JBQ3pDLGVBQWUsRUFBRSxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDO29CQUM1RCxZQUFZLEVBQUUsQ0FBQyxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxLQUFLLElBQUksQ0FBQztnQkFDeEQsR0FBQyxDQUFDOztJQUVQLENBQUM7QUFDSCxDQUFDO0FBRUQ7Ozs7O0NBS0csR0FDSCxNQUFNLHVCQUF1QixHQUFHLENBQzlCLEtBQWdCLEVBQ2hCLFdBQXdCO0lBRXhCLE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUM7SUFDNUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUU7SUFDMUIsTUFBTSxnQkFBZ0IsR0FBZ0MsRUFBRTtJQUN4RCxLQUFLLE1BQU0sTUFBTSxJQUFJLFlBQVksQ0FBRTtRQUNqQyxNQUFNLEdBQUcsR0FBRywrQkFBK0IsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzdELElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDVixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSzs7SUFFdEMsT0FBTyxnQkFBZ0I7QUFDekIsQ0FBQztBQ3ZJRDs7Q0FFRyxHQUNJLE1BQU0sMkJBQTJCLEdBQUcsQ0FDekMsVUFBc0IsRUFDdEIsS0FBZ0I7SUFFaEIsT0FBTyxVQUFVLENBQUMsRUFBRSxDQUFDLHdCQUF3QixFQUFFLENBQUMsQ0FBQztRQUMvQyxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQztRQUN2QixJQUFJLFNBQVMsS0FBSyxLQUFLLENBQUMsZUFBZSxFQUFFLFNBQVMsRUFBRTtRQUNwRCxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsWUFBWSxHQUNqQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVzs7Z0JBRTNCLElBQUksV0FBVyxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7b0JBQ3ZDLE9BQU87d0JBQ0wsR0FBRyxXQUFXO3dCQUNkLGlCQUFpQixFQUFFLElBQUk7cUJBQ3hCOzs7Z0JBR0gsSUFBSSxXQUFXLENBQUMsaUJBQWlCLEVBQUU7b0JBQ2pDLE9BQU87d0JBQ0wsR0FBRyxXQUFXO3dCQUNkLGlCQUFpQixFQUFFLEtBQUs7cUJBQ3pCOztnQkFFSCxPQUFPLFdBQVcsQ0FBQzthQUNwQixDQUFDLENBQ0g7SUFDSCxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQ7O0NBRUcsR0FDSSxNQUFNLHNCQUFzQixHQUFHLENBQ3BDLFVBQXNCLEVBQ3RCLEtBQWdCO0lBRWhCLE9BQU8sVUFBVSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUM7UUFDMUMsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUM7UUFDekIsS0FBSyxDQUFDLGtCQUFrQixDQUN0QixXQUFXLENBQUMsTUFBTSxDQUFnQyxDQUFDLE9BQU8sRUFBRSxPQUFPO1lBQ2pFLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUc7Z0JBQzNCLFVBQVUsRUFBRSxPQUFPLENBQUMsS0FBSztnQkFDekIsVUFBVSxFQUFFLE9BQU8sQ0FBQyxVQUFVO2FBQy9CO1lBQ0QsT0FBTyxPQUFPO1FBQ2hCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FDUDtJQUNILENBQUMsQ0FBQztBQUNKLENBQUM7QUNyQkQ7Ozs7O0NBS0csR0FDSSxNQUFNLHFCQUFxQixHQUFHLENBQUMsSUFBVSxFQUFFLFVBQXNCO0lBQ3RFLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLO0lBQ3hCLE1BQU0sYUFBYSxHQUFHO1FBQ3BCLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7UUFFdkIsY0FBYyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUM7UUFDaEMsb0JBQW9CLENBQUMsVUFBVSxDQUFDO1FBQ2hDLDZCQUE2QixDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUM7UUFDaEQsNEJBQTRCLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQztRQUUvQyxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSx1QkFBdUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU3RCxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixFQUFFLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFekQsc0JBQXNCLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQztRQUN6QywyQkFBMkIsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDO1FBRTlDLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSw2QkFBNkIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV6RSxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7S0FDM0I7SUFFRCxPQUFPO1FBQ0wsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsR0FBSyxXQUFXLEVBQUUsQ0FBQztJQUN2RCxDQUFDO0FBQ0gsQ0FBQztBQUVEOzs7O0NBSUcsR0FDSSxNQUFNLGdDQUFnQyxHQUFHLENBQUMsSUFBVTtJQUN6RCxNQUFNLHFCQUFxQixHQUl2QjtRQUNGLGVBQWUsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7UUFDeEMsZUFBZSxFQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQztLQUN6QztJQUVELE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLO1FBQ2pFLE1BQU0sU0FBUyxHQUFHLEtBQXVCO1FBQ3pDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUscUJBQXFCLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxDQUFDO0lBRUYsT0FBTztRQUNMLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEdBQUssV0FBVyxFQUFFLENBQUM7SUFDdkQsQ0FBQztBQUNILENBQUM7QUNoR0QsTUFBTSxpQkFBaUIsR0FBRyxJQUFJO01BV2pCLGVBQWU7SUFBNUI7UUFDRTs7U0FFRyxHQUNLLHNCQUFpQixHQUdyQixJQUFJLEdBQUcsRUFBRTtRQUNiOztTQUVHLEdBQ0ssSUFBUSxZQUFnQyxJQUFJOzs7UUFHcEQ7O1NBRUcsR0FDSyxhQUFRLEdBQThDLElBQUksR0FBRyxFQUFFO1FBRXZFOzs7Ozs7O1NBT0csR0FDSSxnQkFBVyxHQUFHLENBQ25CLGVBQTRCLEVBQzVCLE9BQW9FO1lBRXBFLE1BQU0sT0FBTyxHQUFHO2dCQUNkLElBQUksQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFO2dCQUMzQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUU7WUFDaEMsQ0FBQztZQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxvQkFBb0IsQ0FDdEMsQ0FBQyxPQUFPO2dCQUNOLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLO29CQUNwQixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUN4QyxLQUFLLENBQUMsTUFBcUIsQ0FDNUI7b0JBQ0QsT0FBTyxHQUFHLEtBQUssQ0FBQztnQkFDbEIsQ0FBQyxDQUFDO1lBQ0osQ0FBQyxFQUNEO2dCQUNFLElBQUksRUFBRSxlQUFlO2dCQUNyQixHQUFHLE9BQU87Z0JBQ1YsU0FBUyxFQUFFLE9BQU8sRUFBRSxTQUFTLElBQUksaUJBQWlCO1lBQ25ELEVBQ0Y7WUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFO2dCQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQzs7O29CQUdqRCxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRTtvQkFFN0MsSUFBSSxDQUFDLFFBQVMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDO29CQUNwQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUM7Z0JBQ3hELENBQUMsQ0FBQztnQkFDRixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRTs7WUFHdkIsT0FBTyxPQUFPO1FBQ2hCLENBQUM7UUFFRDs7Ozs7Ozs7U0FRRyxHQUNJLFlBQU8sR0FBWSxDQUFDLE9BQU8sRUFBRSxPQUFPO1lBQ3pDLE1BQU0sU0FBUyxHQUFHO2dCQUFDLE9BQU87Z0JBQUUsT0FBTzthQUFVO1lBRTdDLE1BQU0sT0FBTyxHQUFHO2dCQUNkLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUN0QyxJQUFJLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUNqQyxDQUFDO1lBRUQsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sT0FBTztZQUV2RCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO2dCQUM1QixPQUFPLE9BQU87O1lBR2hCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUN6QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQzs7WUFHaEMsT0FBTyxPQUFPO1FBQ2hCLENBQUM7O0FBQ0Y7QUNqRkQsTUFBTSxpQ0FBaUMsR0FHbkM7SUFDRixVQUFVLEVBQUUsZUFBZSxDQUFDLE9BQU87SUFDbkMsZ0JBQWdCLEVBQUUsZUFBZSxDQUFDLE9BQU87Q0FDakM7QUFTVixNQUFNLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQztBQU9yRDs7Ozs7Ozs7O0NBU0csU0FDVSxnQkFBZ0I7SUFrRDNCOztLQUVHLEdBQ0gsV0FBWSxVQUFvQixFQUFFLE9BQXVCO1FBcER6RDs7U0FFRyxHQUNNLG9CQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUU7UUFFeEMsV0FBTSxHQUFHLFNBQVMsQ0FBQztZQUFDLGtCQUFrQjtTQUFDLENBQUM7UUFLeEMsSUFBMEIsOEJBQTBCLElBQUk7UUFFeEQsMkNBQXNDLEdBQzVDLElBQUksbVJBQWUsQ0FBa0MsRUFBRSxDQUFDO1FBRTFELHFDQUFnQyxHQUM5QixJQUFJLENBQUMsc0NBQXNDLENBQUMsWUFBWSxFQUFFO1FBRTVELDJCQUFzQixHQUFHLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxJQUFJLENBQ2pFLDJRQUFHLENBQUMsQ0FBQyxTQUFTO1lBQ1osTUFBTSxFQUFFLENBQUMsaUJBQWlCLEdBQUcsY0FBYyxFQUFFLEdBQUcsWUFBWSxFQUFFLEdBQzVELFNBQVM7WUFDWCxPQUFPO2dCQUNMLE9BQU8sRUFBRSxjQUFjLEVBQUUsT0FBTyxLQUFLLEtBQUs7Z0JBQzFDLG1CQUFtQixFQUFFLGNBQWMsRUFBRSxVQUNqQyxjQUFjLENBQUMsWUFDZixTQUFTO2dCQUNiLFlBQVksRUFBRSxNQUFNLENBQUMsV0FBVyxDQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsQ0FDOUIsQ0FBQyxDQUFDLFNBQVMsRUFBRSxtQkFBbUIsQ0FBQyxHQUFLO3dCQUNwQyxTQUFTO3dCQUNUOzRCQUNFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxPQUFPLEtBQUssS0FBSzs0QkFDL0MsbUJBQW1CLEVBQUUsbUJBQW1CLEVBQUUsVUFDdEMsbUJBQW1CLENBQUMsWUFDcEIsU0FBUzt3QkFDZDtxQkFDRixDQUNGLENBQ0Y7Z0JBQ0QseUJBQXlCLEVBQUUsQ0FBQyxTQUFpQixHQUMzQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsT0FBTyxJQUM3QixTQUFTLENBQUMsaUJBQWlCLENBQUMsRUFBRSxPQUFPLElBQ3JDLElBQUk7YUFDUDtRQUNILENBQUMsQ0FBQyxFQUNGLG1SQUFXLENBQUMsQ0FBQyxDQUFDLENBQ2Y7UUFVRDs7U0FFRyxHQUNILElBQU8sV0FBRztZQUNSLElBQUksSUFBSSxDQUFDLDBCQUEwQixFQUFFO2dCQUNuQyxZQUFZLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDOztZQUUvQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsdUJBQXVCLEVBQUU7WUFDOUMsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUU7Z0JBQ3pDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDO2dCQUM5RCxNQUFNLE9BQU8sQ0FBQyxLQUFLLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxZQUFZLEdBQUcsU0FBUzs7UUFFakMsQ0FBQztRQWlERCx1Q0FBa0MsR0FBRyxDQUNuQyxRQUFvRCxFQUNwRCxVQUFxQjtZQUVyQixJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUNmLE9BQU8sZUFBZSxDQUNwQixJQUFJLENBQUMsc0NBQXNDLEVBQzNDLFFBQVEsR0FBRztvQkFBRSxDQUFDLGlCQUFpQixHQUFHLFFBQVE7Z0JBQUEsQ0FBRSxHQUFHLEVBQUUsQ0FDbEQ7O1lBR0gsT0FBTyxlQUFlLENBQ3BCLElBQUksQ0FBQyxzQ0FBc0MsRUFDM0MsQ0FBQyxTQUFTLElBQU07b0JBQ2QsR0FBRyxTQUFTO29CQUNaLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFLOzRCQUFDLEVBQUU7NEJBQUUsUUFBUTt5QkFBQyxDQUFDLENBQUM7Z0JBQzlELEdBQUMsQ0FDSDtRQUNILENBQUM7UUFFRCw0QkFBdUIsR0FBRyxDQUN4QixlQUE2QixZQUFZLENBQUMsSUFBSTtZQUU5QyxJQUFJLElBQUksQ0FBQywwQkFBMEIsRUFBRTtnQkFDbkMsWUFBWSxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQzs7WUFHL0MsTUFBTSxtQkFBbUIsR0FBRztnQkFDMUIsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUk7Z0JBQ3RDLElBQUksQ0FBQyxXQUNELG1CQUFtQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFDNUMsS0FBSyxDQUFDLENBQUMsR0FBWTtvQkFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBc0MsdUNBQUUsR0FBRyxDQUFDO2dCQUNuRSxDQUFDLENBQUM7WUFDTixDQUFDO1lBRUQsSUFBSSxZQUFZLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQywwQkFBMEIsR0FBRyxVQUFVLENBQzFDLG1CQUFtQixFQUNuQixZQUFZLENBQ2I7bUJBQ0k7Z0JBQ0wsbUJBQW1CLEVBQUU7O1FBRXpCLENBQUM7UUFFRDs7Ozs7Ozs7U0FRRyxHQUNILElBQXNCLDBCQUFHLENBQ3ZCLE9BQVUsRUFDVixTQUFpQixFQUNqQixTQUF5QjtZQUV6QixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLO2dCQUMxRCxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxDQUFDLFdBQVc7b0JBQ3RELE1BQU0sdUJBQXVCLEdBQzNCLFdBQVcsQ0FBQyx1QkFBdUIsSUFDbkMsaUNBQWlDOzs7b0JBSW5DLE1BQU0sU0FBUyxHQUNiLEtBQUssQ0FBQyxjQUFjLElBQUksUUFBUSxDQUFDLGlCQUFpQixLQUFLLFVBQ25ELGVBQWUsQ0FBQyxVQUNoQixlQUFlLENBQUMsU0FBUztvQkFDL0IsT0FBTzt3QkFDTCxHQUFHLFdBQVc7d0JBQ2QsdUJBQXVCLEVBQUU7NEJBQ3ZCLEdBQUcsdUJBQXVCOzRCQUMxQixDQUFDLFNBQVMsR0FBRyxTQUFTO3dCQUN2QjtxQkFDRjtnQkFDSCxDQUFDLENBQUM7WUFDSixDQUFDLENBQUM7WUFFRixPQUFPO2dCQUNMLE9BQU8sRUFBRTs7OztnQkFJVCxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxDQUFDLFdBQVc7b0JBQ3RELE1BQU0sdUJBQXVCLEdBQzNCLFdBQVcsQ0FBQyx1QkFBdUIsSUFDbkMsaUNBQWlDO29CQUNuQyxPQUFPO3dCQUNMLEdBQUcsV0FBVzt3QkFDZCx1QkFBdUIsRUFBRTs0QkFDdkIsR0FBRyx1QkFBdUI7NEJBQzFCLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQyxPQUFPO3dCQUNyQztxQkFDRjtnQkFDSCxDQUFDLENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxnQkFBVyxHQUFHLENBQXdCLE9BQVU7WUFDOUMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUM7UUFDbEQsQ0FBQztRQUVEOzs7Ozs7Ozs7Ozs7OztTQWNHLEdBQ0gsSUFBZ0Isb0JBQUcsQ0FDakIsWUFBOEIsRUFDOUIsU0FBaUIsRUFDakIsU0FBeUI7WUFFekIsTUFBTSxnQkFBZ0IsR0FDcEIsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQkFBMEIsQ0FBQyxTQUFTLENBQUM7WUFDdEQsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBRXZCLE1BQU0sMEJBQTBCLEdBQUcsQ0FDakMsWUFBMEIsRUFDMUIsU0FBcUM7Z0JBRXJDLElBQUksU0FBUyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLFNBQVMsQ0FBQyxNQUFNLE1BQUssQ0FBQyxDQUFDLENBQUU7Ozs7O29CQUtsRSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUF3Qix5QkFBRSxnQkFBZ0IsQ0FBQztvQkFDaEUsU0FBUyxHQUFHLFNBQVM7O2dCQUV2QixJQUFJLENBQUMsU0FBUyxDQUFDLHVCQUF1QixDQUFDLFNBQVMsRUFBRTtvQkFDaEQsQ0FBQyxTQUFTLEdBQUc7d0JBQUUsU0FBUztvQkFBQSxDQUFFO2dCQUMzQixFQUFDO2dCQUNGLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxZQUFZLENBQUM7WUFDNUMsQ0FBQztZQUVELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDcEQsMlFBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLENBQUMsRUFDdEQsaVJBQVMsQ0FBQyxDQUFDLFdBQVcsR0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLEVBQ3pDLDRSQUFvQixFQUFFLEVBQ3RCLG1SQUFXLENBQUM7Z0JBQUUsVUFBVSxFQUFFLENBQUM7Z0JBQUUsUUFBUSxFQUFFLElBQUk7WUFBQSxDQUFFLENBQUMsQ0FDL0M7WUFFRDs7Ozs7YUFLRztZQUVILElBQUksdUJBQW9EO1lBQ3hELE1BQU0sbUNBQW1DLEdBQ3ZDLGdCQUFnQixDQUFDLHFCQUNiLE9BQ0EsYUFDRyxJQUFJLENBQ0gsMlFBQUcsQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsdUJBQXVCLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFDbEQsNFJBQW9CLEVBQUUsRUFFdkIsU0FBUyxDQUFDLENBQUMsMkJBQTJCOztnQkFFckMsSUFBSSxDQUFDLHVCQUF1QixFQUFFO29CQUM1Qix1QkFBdUIsR0FDckIsMkJBQTJCLElBQUksZUFBZSxDQUFDLE9BQU87b0JBQ3hEOztnQkFFRix1QkFBdUIsR0FDckIsMkJBQTJCLElBQUksZUFBZSxDQUFDLE9BQU87Z0JBRXhELElBQUksMkJBQTJCLEtBQUssZUFBZSxDQUFDLFNBQVMsRUFBRTtvQkFDN0QsT0FBTywwQkFBMEIsQ0FDL0IsWUFBWSxDQUFDLE1BQU0sRUFDbkIsU0FBUyxDQUNWOztnQkFHSCwwQkFBMEIsQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFO29CQUM5QyxLQUFLLEVBQUUsWUFBWSxDQUFDLFdBQVc7b0JBQy9CLE1BQU0sRUFBRSxZQUFZLENBQUMsWUFBWTtnQkFDbEMsRUFBQztZQUNKLENBQUMsQ0FBQztZQUVWLElBQUksY0FBMEM7WUFDOUMsTUFBTSxjQUFjLEdBQUcsZ0JBQWdCLENBQUMscUJBQ3BDLE9BQ0EsSUFBSSxjQUFjLENBQUM7Z0JBQ2pCLE1BQU0saUJBQWlCLEdBQUc7b0JBQ3hCLEtBQUssRUFBRSxZQUFZLENBQUMsV0FBVztvQkFDL0IsTUFBTSxFQUFFLFlBQVksQ0FBQyxZQUFZO2lCQUNsQzs7Z0JBR0QsSUFBSSxDQUFDLGNBQWMsRUFBRTtvQkFDbkIsY0FBYyxHQUFHLGlCQUFpQjtvQkFDbEM7O2dCQUdGLElBQ0UsY0FBZSxDQUFDLEtBQUssS0FBSyxpQkFBaUIsQ0FBQyxLQUFLLElBQy9DLGNBQWMsQ0FBQyxNQUFNLEtBQUssaUJBQWlCLENBQUMsTUFBTSxJQUNwRCx1QkFBdUIsS0FBSyxlQUFlLENBQUMsU0FBUyxFQUNyRDtvQkFDQTs7Z0JBR0YsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FDNUIsaUJBQWlCLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQyxLQUFLLEVBQzlDLGlCQUFpQixDQUFDLE1BQU0sR0FBRyxjQUFjLENBQUMsTUFBTSxDQUNqRDs7Ozs7Z0JBS0QsTUFBTSxZQUFZLEdBQ2hCLGFBQWEsR0FBRyxHQUFHLEdBQUcsWUFBWSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTTtnQkFDcEUsMEJBQTBCLENBQUMsWUFBWSxFQUFFO29CQUN2QyxLQUFLLEVBQUUsWUFBWSxDQUFDLFdBQVc7b0JBQy9CLE1BQU0sRUFBRSxZQUFZLENBQUMsWUFBWTtnQkFDbEMsRUFBQztnQkFDRixjQUFjLEdBQUcsaUJBQWlCO1lBQ3BDLENBQUMsQ0FBQztZQUNOLGNBQWMsRUFBRSxPQUFPLENBQUMsWUFBWSxDQUFDOzs7WUFJckMsTUFBTSwyQkFBMkIsR0FBRyxnQkFBZ0IsQ0FBQyxxQkFDakQsT0FDQSxhQUNHLElBQUksQ0FDSCwrUkFBdUIsQ0FBQyxpQkFBaUIsQ0FBQyxFQUMxQywyUUFBRyxDQUFDLENBQUMsQ0FBQyxHQUNKLFNBQVMsS0FBSyxZQUFZLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FDN0QsRUFDRCw0UkFBb0IsRUFBRSxFQUV2QixTQUFTLENBQUMsQ0FBQyxZQUFZO2dCQUN0QixJQUFJLFlBQVksRUFBRTs7b0JBRWhCLDBCQUEwQixDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUU7d0JBQ2pELEtBQUssRUFBRSxZQUFZLENBQUMsV0FBVzt3QkFDL0IsTUFBTSxFQUFFLFlBQVksQ0FBQyxZQUFZO29CQUNsQyxFQUFDO3VCQUNHOztvQkFFTCwwQkFBMEIsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQzs7WUFFNUQsQ0FBQyxDQUFDO1lBRVIsWUFBWSxDQUFDLFFBQVEsR0FBRyxJQUFJO1lBQzVCLFlBQVksQ0FBQyxXQUFXLEdBQUcsSUFBSTs7OztZQUsvQixZQUFZLENBQUMsS0FBSyxHQUFHLElBQUk7WUFFekIsTUFBTSxrQkFBa0IsR0FBRyxhQUN4QixJQUFJLENBQ0gsK1JBQXVCLENBQ3JCLFNBQVMsS0FBSyxZQUFZLEdBQUcsYUFBYSxHQUFHLG1CQUFtQixDQUNqRSxFQUVGLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ1gsTUFBTSxNQUFNLEdBQ1YsU0FBUyxLQUFLLFlBQVksR0FBRyxDQUFDLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxpQkFBaUI7Z0JBQ2xFLElBQUksWUFBWSxDQUFDLFNBQVMsS0FBSyxNQUFNLEVBQUU7Z0JBQ3ZDLFlBQVksQ0FBQyxTQUFTLEdBQUcsTUFBTSxJQUFJLElBQUk7Z0JBQ3ZDLElBQUksUUFBUSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUU7b0JBQzdCLFVBQVUsQ0FBQzt3QkFDVCxZQUFZLENBQUMsU0FBUyxHQUFHLE1BQU0sSUFBSSxJQUFJO3dCQUN2QyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzs0QkFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBdUIsd0JBQUUsQ0FBQyxDQUFDO3dCQUNqRCxDQUFDLENBQUM7Ozs7cUJBSUgsRUFBRSxFQUFFLENBQUM7O1lBRVYsQ0FBQyxDQUFDO1lBRUosT0FBTztnQkFDTCwwQkFBMEIsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQztnQkFDeEQsbUNBQW1DLEVBQUUsV0FBVyxFQUFFO2dCQUNsRCwyQkFBMkIsRUFBRSxXQUFXLEVBQUU7Z0JBQzFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRTtnQkFDaEMsY0FBYyxFQUFFLFVBQVUsRUFBRTtZQUM5QixDQUFDO1FBQ0gsQ0FBQztRQUVEOzs7Ozs7Ozs7O1NBVUcsR0FDSCxJQUFnQixvQkFBRyxDQUNqQixZQUE4QixFQUM5QixTQUFpQixFQUNqQixTQUF5QjtZQUV6QixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBCQUEwQixDQUFDLFNBQVMsQ0FBQztZQUN4RSxJQUFJLENBQUMsV0FBVyxJQUFJLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRTtZQUVwRCxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQ3BELDJRQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDLEVBQ3RELGlSQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNyQiw0UkFBb0IsRUFBRSxFQUN0QixtUkFBVyxDQUFDO2dCQUFFLFVBQVUsRUFBRSxDQUFDO2dCQUFFLFFBQVEsRUFBRSxJQUFJO1lBQUEsQ0FBRSxDQUFDLENBQy9DO1lBRUQsTUFBTSxZQUFZLEdBQUcsQ0FDbkIsUUFBZ0IsRUFDaEIsWUFBc0M7Z0JBRXRDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2YsSUFBSSxXQUFXLElBQUksWUFBWSxFQUFFO29CQUMvQixZQUFZLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7d0JBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQWtDLG1DQUFFLENBQUMsQ0FBQztvQkFDNUQsQ0FBQyxDQUFDOztnQkFHSixJQUFJLFlBQVksSUFBSSxXQUFXLElBQUksWUFBWSxFQUFFOztvQkFFL0MsWUFBWSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO3dCQUN2QyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFrQyxtQ0FBRSxDQUFDLENBQUM7b0JBQzVELENBQUMsQ0FBQzs7WUFFTixDQUFDO1lBRUQsSUFBSSxVQUFVLEdBQTJDLFNBQVM7WUFDbEUsSUFBSSxRQUFRLEdBQXlCLFNBQVM7WUFFOUMsTUFBTSw2QkFBNkIsR0FBRyxhQUNuQyxJQUFJLENBQ0gsK1JBQXVCLENBQ3JCLFNBQVMsS0FBSywwQkFDViwyQkFDQSxhQUFhLENBQ2xCLEVBRUYsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDWCxNQUFNLE1BQU0sR0FDVixTQUFTLEtBQUssMEJBQ1YsQ0FBQyxDQUFDLHlCQUNGLENBQUMsQ0FBQyxXQUFXO2dCQUNuQixJQUFJLFlBQVksQ0FBQyxTQUFTLEtBQUssTUFBTSxFQUFFO2dCQUV2QyxVQUFVLENBQUM7b0JBQ1QsWUFBWSxDQUFDLFNBQVMsR0FBRyxNQUFNLElBQUksSUFBSTtvQkFDdkMsSUFBSSxDQUFDLE1BQU0sRUFBRTs7Ozs7Ozs7b0JBU2IsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixFQUFFO29CQUNuRCxJQUFJLFlBQVksRUFBRTs7d0JBRWhCLFlBQVksQ0FBQyxLQUFLLEdBQUcsSUFBSTt3QkFDekIsVUFBVSxFQUFFLFVBQVUsRUFBRTt3QkFDeEIsVUFBVSxHQUFHLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQyxNQUFNLENBQUM7d0JBQ3pELFFBQVEsS0FBUixRQUFRLEdBQUssWUFBWSxDQUFDLFVBQVUsR0FBRSxDQUFDO3dCQUN2QyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU07d0JBQ2hFLFVBQVUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUM7d0JBQzlELElBQUksQ0FBQyxrQkFBa0IsRUFBRTsyQkFDcEI7O3dCQUVMLFlBQVksQ0FBQyxLQUFLLEdBQUcsS0FBSzt3QkFDMUIsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7NEJBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQTZCLDhCQUFFLENBQUMsQ0FBQzt3QkFDdkQsQ0FBQyxDQUFDOztvQkFHSixNQUFNLEVBQUUsY0FBYyxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLO29CQUM3QyxJQUFJLGNBQWMsRUFBRSxZQUFZLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQztnQkFDaEUsQ0FBQyxDQUFDO1lBQ0osQ0FBQyxDQUFDO1lBRUosTUFBTSxrQkFBa0IsR0FBRyxFQUFFLFdBQVcsSUFBSSxhQUFZLEdBQ3BELE9BQ0EsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVE7Z0JBQ3BELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtnQkFDbkQsWUFBWSxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUM7WUFDdEMsQ0FBQyxDQUFDO1lBRU4sTUFBTSxrQkFBa0IsR0FBRyxxUkFBYSxDQUFDO2dCQUN2QyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPO2dCQUMxQixZQUFZLENBQUMsSUFBSSxDQUFDLCtSQUF1QixDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQzFELENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQ3ZCLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxDQUFDLFdBQVcsSUFBSSxNQUFNO2dCQUNqRCxZQUFZLENBQUMsTUFBTSxHQUFHLGlCQUFpQjtnQkFDdkMsSUFBSSxRQUFRLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsaUJBQWlCO1lBQ3ZELENBQUMsQ0FBQztZQUVGLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSTtZQUU1QixPQUFPO2dCQUNMLGtCQUFrQixFQUFFLFdBQVcsRUFBRTtnQkFDakMsa0JBQWtCLENBQUMsV0FBVyxFQUFFO2dCQUNoQyw2QkFBNkIsQ0FBQyxXQUFXLEVBQUU7Z0JBQzNDLFlBQVksQ0FBQyxTQUFTLEdBQUcsSUFBSTtnQkFDN0IsVUFBVSxFQUFFLFVBQVUsRUFBRTtnQkFDeEIsUUFBUSxFQUFFLFVBQVUsRUFBRTtZQUN4QixDQUFDO1FBQ0gsQ0FBQztRQUVPLElBQXVCLDJCQUFHO1lBQ2hDLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLE9BQU8sSUFBSSxDQUFDLFlBQVk7WUFDOUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxZQUFZLEVBQUU7WUFDbEMsSUFBSSxPQUFPLENBQUMsS0FBSyxLQUFLLFdBQVcsRUFBRTtnQkFDakMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUM7OztZQUc3RCxNQUFNLFlBQVksR0FBRyxTQUFTLENBQUMsWUFBWTtZQUMzQyxJQUFJLFlBQVksRUFBRTs7Z0JBRWhCLFlBQVksQ0FBQyxJQUFJLEdBQUcsaUJBQWlCOztZQUV2QyxPQUFRLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTztRQUNyQyxDQUFDO1FBRU8sSUFBa0Isc0JBQUc7WUFDM0IsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLEtBQUssS0FBSyxXQUFXLEVBQUU7Z0JBQzVDLElBQUksQ0FBQyxhQUNGLE1BQU0sR0FDTixLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsNEJBQTRCLEVBQUUsR0FBRyxDQUFDLEVBQ3JFLElBQUksQ0FBQztvQkFDSixRQUFRLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztnQkFDaEUsQ0FBQyxDQUFDOztRQUVSLENBQUM7UUF6Z0JDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87O0lBa0J4QixZQUFZLENBQUMsU0FBc0M7UUFDakQsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTOztJQUc1QixJQUFJLGtCQUFrQjtRQUNwQixNQUFNLGFBQWEsR0FBK0IsRUFBRTtRQUNwRCxLQUFLLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUU7Ozs7WUFJakQsSUFBSSxDQUFDLENBQUMsY0FBYyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDbkMsTUFBTSxRQUFRLEdBQ1osSUFBSSxDQUFDLCtCQUErQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFDakQsSUFBSSxDQUFDLCtCQUErQixDQUFDLGlCQUFpQixDQUFDO2dCQUV6RCxJQUFJLFFBQVEsRUFBRSxPQUFPLEtBQUssS0FBSyxFQUFFO29CQUMvQixhQUFhLENBQUMsSUFBSSxDQUFDO3dCQUNqQixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07d0JBQ2hCLFNBQVMsRUFBRSxDQUFDLENBQUMsU0FBUzt3QkFDdEIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxLQUFLO3dCQUMxQixTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsSUFBSSxDQUFDLENBQUMsY0FBYztvQkFDbkQsRUFBQzs7O1lBR04sSUFBSSxDQUFDLENBQUMsb0JBQW9CLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUMvQyxhQUFhLENBQUMsSUFBSSxDQUFDO29CQUNqQixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07b0JBQ2hCLFNBQVMsRUFBRSxDQUFDLENBQUMsU0FBUztvQkFDdEIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxZQUFZO29CQUNqQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLG9CQUFvQjtnQkFDbEMsRUFBQzs7WUFFSixJQUFJLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUMxQixhQUFhLENBQUMsSUFBSSxDQUFDO29CQUNqQixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU07b0JBQ2hCLFNBQVMsRUFBRSxDQUFDLENBQUMsU0FBUztvQkFDdEIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxrQkFBa0I7Z0JBQ3hDLEVBQUM7OztRQUdOLE9BQU8sYUFBYTs7SUFHdEIsSUFBSSwrQkFBK0I7UUFDakMsT0FBTyxlQUFlLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxDQUFDOztBQTJjaEU7QUMxbkJEOzs7Ozs7OztDQVFHLFNBQ1Usa0JBQWtCO0lBQS9CO1FBQ1UsSUFBVyxlQUFvQixFQUFFO1FBR3pDOzs7O1NBSUcsR0FDSCxtQkFBYyxHQUFHLENBQUMsV0FBNEI7WUFDNUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLElBQUksRUFBRTtRQUN0QyxDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsb0JBQWUsR0FBRyxDQUFDLFFBQThCO1lBQy9DLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUTtRQUMxQixDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILGtCQUFhLEdBQUcsQ0FBQyxVQUF5QjtZQUN4QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztRQUM5QyxDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsZUFBVSxHQUFHLENBQUMsU0FBb0I7WUFDaEMsT0FBUSxTQUFTO2dCQUNmLEtBQUssU0FBUyxDQUFDLEtBQUs7b0JBQ2xCLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDO2dCQUNyRCxLQUFLLFNBQVMsQ0FBQyxLQUFLO29CQUNsQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQztnQkFDckQsS0FBSyxTQUFTLENBQUMsWUFBWTtnQkFDM0IsS0FBSyxTQUFTLENBQUMsa0JBQWtCO29CQUMvQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztnQkFDdEQsS0FBSyxTQUFTLENBQUMsV0FBVztvQkFDeEIsT0FBTyxLQUFLO2dCQUNkO29CQUNFLGVBQWUsQ0FBQyxTQUFTLEVBQUUsb0JBQW9CLENBQUM7O1FBRXRELENBQUM7UUFFRDs7Ozs7O1NBTUcsR0FDSCxJQUFVLGNBQUcsQ0FDWCxVQUF5QixFQUN6QixXQUE2QyxJQUFJLENBQUMsUUFBUTtZQUUxRCxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sS0FBSztZQUUzQixNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsR0FBRyxRQUFRO1lBQ2hELE9BQVEsVUFBVTtnQkFDaEIsS0FBSyxhQUFhLENBQUMsVUFBVTtvQkFDM0IsT0FBTyxLQUFLLENBQUMsc0JBQXNCO2dCQUNyQyxLQUFLLGFBQWEsQ0FBQyxVQUFVO29CQUMzQixPQUFPLEtBQUssQ0FBQyxzQkFBc0I7Z0JBQ3JDLEtBQUssYUFBYSxDQUFDLFdBQVc7b0JBQzVCLE9BQU8sYUFBYSxDQUFDLHNCQUFzQjtnQkFDN0M7b0JBQ0UsT0FBTyxLQUFLOztRQUVsQixDQUFDOztBQUNGO0FDdkVEOztDQUVHLFNBQ1UsUUFBUTtJQVduQjs7Ozs7S0FLRyxHQUNILFdBQ0UsS0FBWSxFQUNaLE9BQTJCO1FBQ3pCLGtCQUFrQixFQUFFLGlCQUFpQjtJQUN0QztRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSTtRQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87O0FBRXpCO0FBRUQ7OztDQUdHLEdBQ0gsTUFBTSxpQkFBaUI7SUFPckI7Ozs7S0FJRyxHQUNILFlBQVksU0FBcUI7UUFVakM7Ozs7U0FJRyxHQUNILGFBQVEsR0FBRyxDQUFDLFFBQWtCO1lBQzVCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVE7UUFDMUMsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxlQUFVLEdBQUcsQ0FBQyxJQUFZO1lBQ3hCLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFDN0IsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxRQUFHLEdBQUcsQ0FBQyxJQUFZO1lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDOztZQUVuQyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQzdCLENBQUM7UUFyQ0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUMvQixDQUFDLEdBQUcsRUFBRSxRQUFRO1lBQ1osR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRO1lBQzdCLE9BQU8sR0FBRztTQUNYLEVBQ0QsRUFBRSxDQUNIOztBQWdDSjtBQUVEOzs7Q0FHRyxHQUNVLGVBQVMsR0FBRyxJQUFJLGlCQUFpQixDQUFDO0lBQzdDLElBQUksUUFBUSxDQUFDLFNBQVMsRUFBRTtRQUN0QixrQkFBa0IsRUFBRSxpQkFBaUI7S0FDdEMsQ0FBQztJQUNGLElBQUksUUFBUSxDQUFDLGFBQWEsRUFBRTtRQUMxQixrQkFBa0IsRUFBRSxpQkFBaUI7S0FDdEMsQ0FBQztJQUNGLElBQUksUUFBUSxDQUFDLFlBQVksRUFBRTtRQUN6QixrQkFBa0IsRUFBRSwrQkFBK0I7S0FDcEQsQ0FBQztJQUNGLElBQUksUUFBUSxDQUFDLFlBQVksRUFBRTtRQUN6QixrQkFBa0IsRUFBRSwrQkFBK0I7S0FDcEQsQ0FBQztDQUNIO0FDMUhEOzs7OztDQUtHLEdBQ1UsMEJBQW9CLEdBQUcsQ0FBQyxNQUFtQjtJQUN0RCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtJQUNwQixNQUFNLENBQUMsU0FBUyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSztRQUMvQixLQUFLLENBQUMsSUFBSSxFQUFFO0lBQ2QsQ0FBQyxDQUFDOztJQUVGLElBQUksT0FBTyxNQUFNLENBQUMsT0FBTyxLQUFLLFVBQVUsRUFBRTs7UUFFeEMsTUFBTSxDQUFDLE9BQU8sRUFBRTs7QUFFcEI7TUNIYSxpQkFBaUI7SUFRNUIsWUFBNkIsVUFBbUM7UUFBbkMsSUFBVSxjQUFWLFVBQVU7UUFOL0Isc0JBQWlCLEdBQUcsSUFBSSxlQUFlLEVBQUU7UUFFekMsSUFBVyxlQUFZLEtBQUs7UUFDNUIsY0FBUyxHQUFHLElBQUksR0FBRyxFQUEyQztRQUM5RCxXQUFNLEdBQUcsU0FBUyxDQUFDO1lBQUMsYUFBYTtTQUFDLENBQUM7UUFHekMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU07UUFFNUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDO1lBQ1osTUFBTSxhQUFhLEdBQUc7Z0JBQ3BCLElBQUksYUFBYSxFQUFFLEVBQUU7b0JBQ25CLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO3VCQUNuQjtvQkFDTCxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQzs7WUFFM0IsQ0FBQztZQUVELElBQUksQ0FBQyxtQkFBbUIsRUFBRSxFQUFFO2dCQUMxQixPQUFPLGFBQWEsRUFBRTs7WUFHeEIsSUFBSTtnQkFDRixNQUFNLE1BQU0sR0FBRyxNQUFNLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQyxJQUFJLEVBQUUsVUFBVSxDQUFDLFNBQVM7Z0JBQzNCLEVBQUM7Z0JBRUYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7b0JBQ25CLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztvQkFDM0IsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO3dCQUNuRSxNQUFNO29CQUNQLEVBQUM7O2NBRUosT0FBTyxHQUFHLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsbUNBQW1DLEVBQUUsR0FBRyxDQUFDO2dCQUM5RCxhQUFhLEVBQUU7O1VBRWxCLEdBQUc7O0lBR04sT0FBTztRQUNMLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUztRQUN0QixJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFOztJQUdoQyxNQUFNLFFBQVE7UUFDWixNQUFNLElBQUksQ0FBQyxLQUFLO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQzs7UUFFakUsT0FBTyxJQUFJLENBQUMsS0FBSzs7SUFHbkIsTUFBTSxNQUFNLENBQUMsRUFDWCxXQUFXLEdBQUcsS0FBSyxFQUNuQixpQkFBaUIsR0FBRyxLQUFLLEtBQ2lDLEVBQUU7UUFDNUQsT0FBTyxNQUFNLGtCQUFrQixDQUM3QixxQkFBcUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsRUFDaEQ7WUFDRSxJQUNFLE1BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFNLFFBQVEsSUFDbkMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUNsQztnQkFDQSxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLFNBQVM7Z0JBRTFDLElBQUksQ0FBQyxTQUFTLElBQUksaUJBQWlCLEVBQUU7b0JBQ25DLE1BQU0sSUFBSSxLQUFLLENBQ2IsMkVBQTJFLENBQzVFOztnQkFHSCxPQUFPLFNBQVM7O1lBR2xCLElBQUk7Z0JBQ0YsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJO2dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQztnQkFDMUIsTUFBTSxNQUFNLEdBQUcsTUFBTSxTQUFTLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FDdEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQzVCO2dCQUNELG9CQUFvQixDQUFDLE1BQU0sQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUM7Z0JBQ3hCLE9BQU8sSUFBSTtjQUNYLE9BQU8sQ0FBQyxFQUFFO2dCQUNWLElBQ0UsQ0FBQyxJQUNELE9BQU8sQ0FBQyxLQUFLLFFBQVEsSUFDckIsTUFBTSxJQUFJLENBQUMsS0FDVixDQUFDLENBQUMsSUFBSSxLQUFLLGlCQUFpQixJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssZ0JBQWUsQ0FBQyxDQUM1RDtvQkFDQSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxvQ0FBb0MsRUFBRTt3QkFDeEQsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVO29CQUM1QixFQUFDO29CQUNGLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO29CQUV2QixJQUFJLGlCQUFpQixFQUFFO3dCQUNyQixNQUFNLENBQUM7O29CQUdULE9BQU8sS0FBSzs7Z0JBR2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsd0JBQXdCLEVBQUU7b0JBQzdDLEtBQUssRUFBRSxDQUFDO29CQUNSLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtnQkFDNUIsRUFBQztnQkFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztnQkFDdkIsTUFBTSxDQUFDOztRQUVYLENBQUMsQ0FDRjs7SUFHSCxNQUFNLENBQUMsRUFBMkM7UUFDaEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ3RCLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUM5QixPQUFPLElBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDOztJQUd4QyxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxJQUFJOzs7O1FBS25DLDJRQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUssS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUNuQzs7SUFHSCxpQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQyxrQkFBa0IsRUFBRTs7SUFHbEMsd0JBQXdCO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsSUFBSSxDQUNuQywyUUFBRyxDQUFDLENBQUMsS0FBSyxHQUFLLEtBQUssS0FBSyxXQUFXLENBQUMsQ0FDdEM7O0lBR0ssa0JBQWtCO1FBQ3hCLE9BQU8sd1JBQWdCLENBQ3JCLENBQUMsT0FBTyxHQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQ2pDLENBQUMsT0FBTyxFQUFFLFFBQVEsR0FBSyxRQUFRLEVBQUUsQ0FDbEM7O0lBR0ssUUFBUSxDQUFDLEtBQTZCO1FBQzVDLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLO1lBQ2xCLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxHQUFLLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7O0FBRzFEO0FBRUQsU0FBUyxtQkFBbUI7SUFDMUIsT0FDRSxDQUFDLGFBQWEsRUFBRSxJQUNoQixPQUFPLFNBQVMsS0FBSyxXQUFXLElBQ2hDLENBQUMsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLEtBQUs7QUFFbEM7QUM5SkE7Ozs7Ozs7Q0FPRyxHQUNILE1BQU0sVUFBVSxHQUFHLENBQ2pCLFVBQTZCLEVBQzdCLElBQXFCLEVBQ3JCLE1BQTBCO0lBRTFCLE9BQU8sNFFBQUksQ0FDVCxDQUFDO1FBQ0MsSUFBSSxPQUFPLEdBQUcsTUFBTSxTQUFTLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFOzs7UUFHN0QsTUFBTSxnQ0FBZ0MsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUNuRCxDQUFDLE1BQU0sR0FBSyxNQUFNLENBQUMsSUFBSSxLQUFLLElBQUksSUFBSSxNQUFNLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FDeEQ7UUFDRCxJQUFJLGdDQUFnQyxJQUFLLE1BQU0sVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUU7WUFDbkUsT0FBTyxHQUFHLE1BQU0sU0FBUyxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRTs7UUFFM0QsTUFBTSxFQUFFLFNBQVMsQ0FDZixvQkFBb0IsRUFDcEIseUNBQXlDLEVBQ3pDLE9BQU8sQ0FDUjtRQUNELE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FDbkIsQ0FBQyxNQUFNLEdBQ0wsTUFBTSxDQUFDLElBQUksS0FBSyxJQUFJLElBQ3BCLE1BQU0sQ0FBQyxLQUFLLEtBQUssRUFBRSxJQUNuQixNQUFNLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FDaEM7TUFDRixHQUFHLENBQ0w7QUFDSCxDQUFDO0FBRUQ7OztDQUdHLEdBQ0ksTUFBTSxpQ0FBaUMsR0FBRztJQUMvQyxJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVcsRUFBRSxPQUFPLEtBQUs7SUFDakQsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7SUFDL0MsT0FBTyxXQUFXLElBQUksT0FBTztBQUMvQjtBQUVBOztDQUVHLEdBQ0gsTUFBTSxzQkFBc0IsR0FBRztJQUM3QixLQUFLLEVBQUU7UUFDTCxlQUFlLEVBQUUsSUFBSTtRQUNyQixnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCLGdCQUFnQixFQUFFLElBQUk7SUFDdkI7Q0FDK0I7QUFFbEM7O0NBRUcsR0FDSCxNQUFNLHNCQUFzQixHQUFHO0lBQzdCLEtBQUssRUFBRTtRQUNMLEtBQUssRUFBRSxJQUFJO1FBQ1gsTUFBTSxFQUFFLEdBQUc7SUFDWjtDQUMrQjtBQUVsQzs7O0NBR0csR0FDVSwrQkFBeUIsR0FBRyxJQUFJLENBQzNDLElBQ0UsSUFBSSxpQkFBaUIsQ0FBQztRQUNwQixXQUFXLEVBQUUsc0JBQXNCO1FBQ25DLFNBQVMsRUFBRSxZQUE4QjtJQUMxQyxFQUFDO0FBR047OztDQUdHLEdBQ1UsK0JBQXlCLEdBQUcsSUFBSSxDQUMzQyxJQUNFLElBQUksaUJBQWlCLENBQUM7UUFDcEIsV0FBVyxFQUFFLHNCQUFzQjtRQUNuQyxTQUFTLEVBQUUsUUFBMEI7SUFDdEMsRUFBQztBQUdOLE1BQU0sdUJBQXVCLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBMEI7OztJQUc5RCxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLDRRQUFJLENBQUMsRUFBRSxDQUFDO0lBQzdELE9BQU8saVJBQVMsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FDM0QsMlFBQUcsQ0FBQyxJQUFNLE1BQU0sRUFBRSxVQUFVLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxFQUNuRCwyUUFBRyxDQUFDLElBQU0sU0FBUyxDQUFDLEVBQ3BCLG9SQUFZLENBQUMsR0FBRyxDQUFDLENBQ2xCO0FBQ0gsQ0FBQyxDQUFDO0FBRUY7Ozs7O0NBS0csU0FDVSxlQUFlLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBZTtJQUNsRCxPQUFPLDZRQUFLLENBQ1YsdUJBQXVCLENBQUMsTUFBTSxDQUFDLEVBQy9CLHlCQUF5QixFQUFFLENBQUMsWUFBWSxFQUFFLENBQzNDLENBQUMsSUFBSSxDQUNKLGlSQUFTLENBQUMsU0FBUyxDQUFDLEVBQ3BCLGlSQUFTLENBQUMsSUFDUixVQUFVLENBQUMseUJBQXlCLEVBQUUsRUFBRSxZQUFZLEVBQUUsTUFBTSxDQUFDLENBQzlELEVBQ0QsbVJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FDZjtBQUNILENBQUM7QUFFRDs7Ozs7Q0FLRyxTQUNVLGVBQWUsR0FBRyxJQUFJLENBQUMsQ0FBQyxNQUFlO0lBQ2xELE9BQU8sNlFBQUssQ0FDVix1QkFBdUIsQ0FBQyxNQUFNLENBQUMsRUFDL0IseUJBQXlCLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FDM0MsQ0FBQyxJQUFJLENBQ0osaVJBQVMsQ0FBQyxTQUFTLENBQUMsRUFDcEIsaVJBQVMsQ0FBQyxJQUNSLFVBQVUsQ0FBQyx5QkFBeUIsRUFBRSxFQUFFLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FDOUQsRUFDRCxtUkFBVyxDQUFDLENBQUMsQ0FBQyxDQUNmO0FBQ0gsQ0FBQztBQUVEOzs7OztDQUtHLFNBQ1UscUJBQXFCLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBZTtJQUN4RCxPQUFPLDZRQUFLLENBQ1YsdUJBQXVCLENBQUMsTUFBTSxDQUFDLEVBQy9CLHlCQUF5QixFQUFFLENBQUMsWUFBWSxFQUFFLENBQzNDLENBQUMsSUFBSSxDQUNKLGlSQUFTLENBQUMsU0FBUyxDQUFDLEVBQ3BCLGlSQUFTLENBQUMsSUFDUixVQUFVLENBQUMseUJBQXlCLEVBQUUsRUFBRSxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQy9ELEVBQ0QsbVJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FDZjtBQUNILENBQUM7QUFFRCxJQUFJLGtCQUFrQixHQUFHLENBQUM7QUFDMUIsTUFBTSxTQUFTLEdBQUcsT0FDaEIsV0FBbUMsRUFDbkMsTUFBMEI7SUFFMUIsTUFBTSxHQUFHLEdBQUcsdUNBQXVDLGtCQUFrQixFQUFFLEdBQUc7SUFDMUUsSUFBSTtRQUNGLE1BQU0sRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQztRQUMvQixNQUFNLE1BQU0sR0FBRyxNQUFNLFNBQVMsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQztRQUNyRSxNQUFNLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxXQUFXLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BELElBQUksU0FBUyxFQUFFLEVBQUU7Ozs7WUFJZixTQUFTLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQzs7UUFFakUsSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO1lBQ3JCLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxNQUFNLENBQUMsY0FBYyxFQUFFO1lBQzVDLElBQUksVUFBVSxFQUFFO2dCQUNkLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEdBQUcsVUFBVSxDQUFDLFdBQVcsRUFBRTtnQkFDbEQsTUFBTSxNQUFNLEdBQUcsV0FBVyxDQUFDLEtBQThCO2dCQUN6RCxJQUFJLEtBQUssS0FBSyxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsTUFBTSxFQUFFO29CQUN0RCxNQUFNLEVBQUUsS0FBSyxDQUNYLEdBQUcsR0FBRyxDQUFNLE9BQ1osd0JBQXdCLE1BQU0sQ0FBQyxLQUFLLENBQUksU0FBTSxDQUFDLE1BQU0sWUFBWSxLQUFLLENBQUksU0FBTSxDQUFFLEVBQ25GOzs7O1FBS1AsT0FBTyxNQUFNO01BQ2IsT0FBTyxLQUFLLEVBQUU7UUFDZCxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUcsS0FBRyxDQUFXLFlBQUcsS0FBZSxDQUFDLElBQUksQ0FBQztRQUN2RCxNQUFNLEtBQUs7O0FBRWYsQ0FBQztBQUVELFNBQVMsZ0NBQWdDLENBQUMsS0FBYztJQUN0RCxJQUFJLENBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUN2QyxPQUFPLEtBQUs7O0lBR2QsSUFBSSxNQUFNLElBQUksS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDckQsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUk7UUFDdkIsSUFBSTtZQUFDLHNCQUFzQjtZQUFFLGVBQWU7U0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM1RCxPQUFPLElBQUk7OztJQUlmLElBQUksU0FBUyxJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssQ0FBQyxPQUFPLEtBQUssUUFBUSxFQUFFO1FBQzNELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPO1FBQzdCLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFO1lBQzlDLE9BQU8sSUFBSTs7O0lBSWYsT0FBTyxLQUFLO0FBQ2Q7QUFFQTs7Ozs7OztDQU9HLEdBQ1Usb0JBQWMsR0FBRyxPQUM1QixnQkFBd0MsRUFDeEMsTUFBZTtJQUVmLE1BQU0sV0FBVyxHQUEyQjtRQUMxQyxLQUFLLEVBQUU7WUFDTCxHQUFHLHNCQUFzQixDQUFDLEtBQUs7WUFDL0IsR0FBRyxnQkFBZ0I7UUFDcEI7S0FDRjtJQUVELElBQUk7UUFDRixNQUFNLHlCQUF5QixFQUFFLENBQUMsTUFBTSxDQUFDO1lBQ3ZDLGlCQUFpQixFQUFFLElBQUk7WUFDdkIsV0FBVyxFQUFFLElBQUk7UUFDbEIsRUFBQztRQUNGLE9BQU8sTUFBTSxTQUFTLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQztNQUMzQyxPQUFPLEtBQUssRUFBRTtRQUNkLElBQUksZ0NBQWdDLENBQUMsS0FBSyxDQUFDLElBQUksZ0JBQWdCLEVBQUUsUUFBUSxFQUFFOztZQUV6RSxNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsa0JBQWtCLEVBQUUsR0FBRyxnQkFBZ0I7WUFDNUQsU0FBUyxDQUFDO2dCQUFDLFNBQVM7YUFBQyxDQUFDLENBQ3BCLE1BQU0sRUFDTixxRUFBcUUsRUFDckU7Z0JBQUUsS0FBSztnQkFBRSxXQUFXO2dCQUFFLGtCQUFrQjtZQUFBLENBQUUsQ0FDM0M7WUFDRCxPQUFPLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQzs7UUFHM0MsU0FBUyxDQUFDO1lBQUMsU0FBUztTQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsNEJBQTRCLEVBQUU7WUFDNUQsS0FBSztZQUNMLFdBQVc7UUFDWixFQUFDO1FBQ0YsTUFBTSxLQUFLOztBQUVmO0FBRUE7Ozs7Ozs7Q0FPRyxHQUNVLG9CQUFjLEdBQUcsT0FDNUIsZ0JBQXdDLEVBQ3hDLE1BQWU7SUFFZixNQUFNLFdBQVcsR0FBMkI7UUFDMUMsS0FBSyxFQUFFO1lBQ0wsR0FBRyxzQkFBc0IsQ0FBQyxLQUFLO1lBQy9CLEdBQUcsZ0JBQWdCO1FBQ3BCO0tBQ0Y7SUFDRCxJQUFJO1FBQ0YsTUFBTSx5QkFBeUIsRUFBRSxDQUFDLE1BQU0sQ0FBQztZQUN2QyxpQkFBaUIsRUFBRSxJQUFJO1lBQ3ZCLFdBQVcsRUFBRSxJQUFJO1FBQ2xCLEVBQUM7UUFDRixPQUFPLE1BQU0sU0FBUyxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUM7TUFDM0MsT0FBTyxLQUFLLEVBQUU7UUFDZCxJQUFJLGdDQUFnQyxDQUFDLEtBQUssQ0FBQyxJQUFJLGdCQUFnQixFQUFFLFFBQVEsRUFBRTs7WUFFekUsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLGtCQUFrQixFQUFFLEdBQUcsZ0JBQWdCO1lBQzVELFNBQVMsQ0FBQztnQkFBQyxTQUFTO2FBQUMsQ0FBQyxDQUNwQixNQUFNLEVBQ04scUVBQXFFLEVBQ3JFO2dCQUFFLEtBQUs7Z0JBQUUsV0FBVztnQkFBRSxrQkFBa0I7WUFBQSxDQUFFLENBQzNDO1lBQ0QsT0FBTyxjQUFjLENBQUMsa0JBQWtCLENBQUM7O1FBRzNDLFNBQVMsQ0FBQztZQUFDLFNBQVM7U0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLDRCQUE0QixFQUFFO1lBQzVELEtBQUs7WUFDTCxXQUFXO1FBQ1osRUFBQztRQUNGLE1BQU0sS0FBSzs7QUFFZjtBQUVBLElBQUkscUJBQXFCLEdBQUcsQ0FBQztBQUU3Qjs7Ozs7Ozs7Q0FRRyxHQUNVLDBCQUFvQixHQUFHLE9BQ2xDLE9BQW1DLEVBQ25DLE1BQTJCO0lBRTNCLE1BQU0sR0FBRyxHQUFHLDBDQUEwQyxxQkFBcUIsRUFBRSxHQUFHO0lBQ2hGLElBQUk7UUFDRixNQUFNLFdBQVcsR0FBOEI7O1lBRTdDLFdBQVcsRUFBRSxTQUFTO1lBQ3RCLEdBQUcsT0FBTztZQUNWLEtBQUssRUFDSCxPQUFPLE9BQU8sRUFBRSxLQUFLLEtBQUssWUFDdEIsT0FBTyxDQUFDLEtBQUs7ZUFDYjtnQkFDRSxLQUFLLEVBQUU7b0JBQUUsR0FBRyxFQUFFLElBQUk7Z0JBQUEsQ0FBRTtnQkFDcEIsTUFBTSxFQUFFO29CQUFFLEdBQUcsRUFBRSxJQUFJO2dCQUFBLENBQUU7Z0JBQ3JCLFNBQVMsRUFBRTtvQkFBRSxLQUFLLEVBQUUsRUFBRTtnQkFBQSxDQUFFO2dCQUN4QixHQUFHLE9BQU8sRUFBRSxLQUFLO1lBQ2xCO1lBQ1AsS0FBSyxFQUNILE9BQU8sT0FBTyxFQUFFLEtBQUssS0FBSyxZQUN0QixPQUFPLENBQUMsUUFDUjtnQkFDRSxZQUFZLEVBQUU7b0JBQUUsS0FBSyxFQUFFLENBQUM7Z0JBQUEsQ0FBRTtnQkFDMUIsZ0JBQWdCLEVBQUUsS0FBSztnQkFDdkIsZUFBZSxFQUFFLEtBQUs7Z0JBQ3RCLGdCQUFnQixFQUFFLEtBQUs7Z0JBQ3ZCLEdBQUcsT0FBTyxFQUFFLEtBQUs7WUFDbEI7U0FDUjtRQUNELE1BQU0sRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQztRQUMvQixNQUFNLE1BQU0sR0FBRyxNQUFNLFNBQVMsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQztRQUN4RSxNQUFNLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxXQUFXLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BELE9BQU8sTUFBTTtNQUNiLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFHLEtBQUcsQ0FBVyxZQUFHLENBQVcsQ0FBQyxJQUFJLENBQUM7UUFDbkQsU0FBUyxDQUFDO1lBQUMsU0FBUztTQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsbUNBQW1DLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLE1BQU0sQ0FBQzs7QUFFWDtBQUVhLGdCQUFVLEdBQ3JCLE9BQU8sU0FBUyxLQUFLLFdBQVcsSUFDaEMsT0FBTyxTQUFTLENBQUMsWUFBWSxLQUFLLGNBQzlCLHVCQUF1QixFQUFFLENBQUMsSUFBSSxDQUM1QixpUkFBUyxDQUFDLFNBQVMsQ0FBQyxFQUNwQixpUkFBUyxDQUFDLElBQU0sU0FBUyxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEVBQzFELG1SQUFXLENBQUMsQ0FBQyxDQUFDLElBRWhCO0FBRU47Ozs7OztDQU1HLEdBQ2Esd0JBQWUsQ0FDN0IsUUFBNEIsRUFDNUIsSUFBcUI7SUFFckIsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFLE9BQU8sUUFBUTtJQUMzQyxNQUFNLE9BQU8sR0FBRyxVQUFVLElBQUksZUFBZSxDQUFDLFVBQVUsQ0FBQztJQUN6RCxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sUUFBUTtJQUM3QixNQUFNLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLFFBQVEsS0FBSyxRQUFRLENBQUM7SUFDdEUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE9BQU8sUUFBUTtJQUN2QyxNQUFNLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxPQUFPO0lBQ3pDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQy9CLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxRQUFRLEtBQUssU0FBUyxJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssT0FBTyxDQUM1RTtJQUNELE9BQU8sVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxRQUFRO0FBQ3BFO0FDM1pBOzs7OztDQUtHLEdBQ0ksTUFBTSxRQUFRLEdBQUcsSUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7TUNnQnpDLHVCQUF1QjtJQXVCM0MsWUFBc0IsSUFBVSxFQUFFLEtBQVEsRUFBRSxTQUFvQjtRQW5CaEU7O1NBRUcsR0FDSCxJQUFXLGVBQUcsSUFBSTtRQU9SLElBQWEsaUJBQWUsRUFBRTtRQUNoQyxJQUFxQix5QkFBRyxLQUFLO1FBQzdCLElBQTJCLCtCQUFHLEtBQUs7UUFDbkMsSUFBTyxXQUE2QixFQUFFO1FBQ3RDLCtCQUEwQixHQUFHLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQztRQUNqRSxxQ0FBZ0MsR0FBRyxNQUFNLENBQy9DLGtDQUFrQyxDQUNuQztRQXFNRDs7OztTQUlHLEdBQ0gsSUFBTyxXQUFHO1lBQ1IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxFQUFFLENBQUM7WUFDdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxLQUFLO1FBQ3BDLENBQUM7UUEzTUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJO1FBQ2hCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSztRQUNsQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVM7UUFDMUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7WUFBQyxDQUFHLFdBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBVTtTQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLEtBQUssRUFBRTs7SUFHZCxLQUFLO1FBQ0gsSUFBSSxJQUFJLENBQUMscUJBQXFCLEVBQUU7WUFDOUI7O1FBR0YsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUk7UUFFakMsSUFDRSxVQUFVLElBQ1YsQ0FBQyxhQUFhLEVBQUUsS0FDZixJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsTUFBTSxFQUMxRTtZQUNBLElBQUksQ0FBQyxtQ0FBbUMsRUFBRTs7O0lBSTlDOzs7Ozs7S0FNRyxHQUNILFdBQVc7UUFDVCxPQUFPLElBQUksQ0FBQyxVQUFVLEVBQUU7O0lBRzFCOztLQUVHLEdBQ0gsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxTQUFTOztJQUd4Qzs7S0FFRyxHQUNILE1BQU0sTUFBTTtRQUNWLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCO1FBQ25ELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLEVBQUU7WUFDN0M7O1FBRUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7UUFFdEMsTUFBTSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsT0FBTyxNQUFNO1lBQ25FLElBQUk7Z0JBQ0YsTUFBTSxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7cUJBQ3ZCO2dCQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO29CQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDOzs7UUFHcEQsQ0FBQyxDQUFDOztJQUdKOzs7S0FHRyxHQUNILE1BQU0sT0FBTyxDQUFDLFlBQXFCLEtBQUs7UUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0I7UUFDbkQsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixLQUFLLFVBQVUsRUFBRTtZQUM1RDs7UUFHRixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQztRQUV2QyxNQUFNLGdCQUFnQixDQUFDLElBQUksQ0FBQywwQkFBMEIsRUFBRSxPQUFPLE1BQU07WUFDbkUsSUFBSTtnQkFDRixNQUFNLFVBQVUsR0FDZCxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEtBQUssYUFBYTtnQkFDdkQsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQztnQkFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO3FCQUN4QjtnQkFDUixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtvQkFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7O1FBR3BELENBQUMsQ0FBQzs7SUFHSjs7S0FFRyxHQUNILE1BQU0sbUJBQW1CO1FBQ3ZCLE1BQU0sT0FBTyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQzs7SUFHaEQ7O0tBRUcsR0FDSCxNQUFNLE1BQU07UUFDVixJQUNFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxLQUFLLFNBQVMsSUFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUMvQjtZQUNBLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTs7O0lBSXZCOzs7S0FHRyxHQUNILE1BQU0sTUFBTTtRQUNWLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLEVBQUU7WUFDN0MsT0FBTyxNQUFNLElBQUksQ0FBQyxPQUFPLEVBQUU7ZUFDdEI7WUFDTCxPQUFPLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTs7O0lBSTlCOzs7Ozs7OztLQVFHLEdBQ0gsY0FBYyxDQUNaLE1BQXlCO1FBRXpCLE1BQU0sS0FBSyxHQUEyQjtZQUNwQyxLQUFLLEVBQUUsTUFBTTtZQUNiLElBQUksRUFBRSxTQUFTO1NBQ2hCO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQWtCLDBCQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDO1FBQzNFLE1BQU0sVUFBVSxHQUFHLGtCQUFrQixDQUNuQyxJQUFJLENBQUMsZ0NBQWdDLEVBQ3JDO1lBQ0UsTUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDO1lBQzlDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN4QixNQUFNLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtRQUNwQyxDQUFDLENBQ0Y7UUFFRCxPQUFPO1lBQ0wsVUFBVTtZQUNWLFVBQVUsRUFBRSxJQUNWLGtCQUFrQixDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRTtvQkFDeEQsTUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDO29CQUM5QyxLQUFLLENBQUMsSUFBSSxJQUFJO29CQUNkLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxLQUFLLEtBQUssQ0FBQztvQkFDdEQsTUFBTSxJQUFJLENBQUMscUJBQXFCLEVBQUU7b0JBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FDcEIsQ0FBb0IsNEJBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFDL0MsSUFBSSxDQUNMO2dCQUNILENBQUMsQ0FBQztTQUNMOztJQUdIOzs7O0tBSUcsR0FDSCxxQkFBcUIsQ0FBQyxXQUFjO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDOztJQUcvQzs7Ozs7S0FLRyxHQUNILE1BQU0sTUFBTSxDQUFDLFFBQTRCO1FBQ3ZDLElBQUksYUFBYSxFQUFFLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQzs7UUFFbEUsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjO1FBQzlDLElBQUksUUFBUSxLQUFLLFlBQVksRUFBRTtZQUM3Qjs7UUFFRixJQUFJO1lBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO1lBQzlCLE1BQU0sSUFBSSxDQUFDLHFCQUFxQixFQUFFO1VBQ2xDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDO1lBQ2xDLE1BQU0sS0FBSzs7O0lBZUwsTUFBTSxxQkFBcUI7UUFDbkMsTUFBTSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsT0FBTyxNQUFNO1lBQ25FLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDaEIsSUFBSTtvQkFDRixNQUFNLElBQUksQ0FBQyxVQUFVLEVBQUU7b0JBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQztvQkFFaEMsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO3dCQUNsQjs7b0JBR0YsTUFBTSxJQUFJLENBQUMsWUFBWSxFQUFFO29CQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7eUJBQ3ZCO29CQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO3dCQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDOzs7O1FBSXRELENBQUMsQ0FBQzs7SUFPTSxhQUFhLENBQUMsTUFBbUI7UUFDekMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7SUFHeEMsaUJBQWlCO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7SUFHcEMsU0FBUztRQUNqQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUU7O0lBR3hDLE1BQU0sVUFBVSxDQUFDLGFBQXNCLElBQUk7UUFDbkQsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXO1FBQzFDLElBQUksQ0FBQyxXQUFXLEVBQUU7UUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLFdBQVcsU0FBUyxDQUFDO1FBQ3ZFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxNQUFNLEVBQUU7WUFDeEQsTUFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7O1FBRWhDLElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDO1FBQ2hDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLFVBQVUsS0FBSyxPQUFPLENBQUM7UUFDeEUsSUFBSSxRQUFRLEVBQUU7O1lBRVosSUFBSSxPQUFPLFdBQVcsQ0FBQyxPQUFPLEtBQUssVUFBVSxFQUFFOztnQkFFN0MsV0FBVyxDQUFDLE9BQU8sRUFBRTs7WUFFdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQztZQUMvQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssR0FBSyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUM7OztJQUkzQyxhQUFhO1FBQ25CLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLO1lBQzdCLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUs7UUFDMUMsQ0FBQyxDQUFDOztJQUdJLFlBQVk7UUFDbEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUs7WUFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJO1FBQzFDLENBQUMsQ0FBQzs7SUFHSSxVQUFVO1FBQ2hCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLO1lBQzdCLElBQUksS0FBSyxDQUFDLFVBQVUsS0FBSyxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtRQUMvQyxDQUFDLENBQUM7O0lBR0ksZUFBZSxDQUFDLFVBQW1CO1FBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRTtZQUMzQjs7UUFFRixJQUFJLFVBQVUsRUFBRTtZQUNkLElBQUksQ0FBQyxVQUFVLEVBQUU7ZUFDWjtZQUNMLElBQUksQ0FBQyxhQUFhLEVBQUU7OztJQUlkLE1BQU0sWUFBWTtRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxpQkFBaUIsQ0FBQztRQUN2QyxJQUFJLE1BQW1CO1FBQ3ZCLElBQUksVUFBNEM7UUFDaEQsSUFDRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFDdEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQyxFQUN0RDtZQUNBLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVc7WUFDL0IsSUFBSSxDQUFDLFlBQVksRUFBRTtlQUNkO1lBQ0wsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQjtZQUN4RCxNQUFNLFdBQVcsR0FBMEI7Z0JBQ3pDLEdBQUcsa0JBQWtCO2dCQUNyQixRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFDakI7b0JBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYztnQkFBQSxJQUNsQyxTQUFTO2FBQ2Q7WUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7YUFpQkcsR0FDSCxNQUFNLFNBQVMsR0FDYixDQUFDLFlBQW1DLEdBQ3BDLE9BQU8sWUFBeUI7b0JBQzlCLElBQUksQ0FBQyxZQUFZLEVBQUUsT0FBTyxZQUFZOztvQkFFdEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxZQUFZO29CQUNqQyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSzt3QkFDckMsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUk7d0JBQy9CLEtBQUssQ0FBQyxJQUFJLEdBQUcsU0FBUyxJQUFJOzRCQUN4QixZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQzs0QkFDeEIsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVc7Z0NBQ3JDLElBQUksV0FBVyxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO29DQUNuQyxXQUFXLENBQUMsSUFBSSxFQUFFOzs0QkFFdEIsQ0FBQyxDQUFDO3dCQUNKLENBQUM7b0JBQ0gsQ0FBQyxDQUFDO29CQUVGLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXOzs7Ozt3QkFLckMsTUFBTSxzQkFBc0IsR0FBRzs0QkFDN0IsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUs7Z0NBQ3JDLElBQUksV0FBVyxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO2dDQUNyQyxLQUFLLENBQUMsSUFBSSxFQUFFO2dDQUNaLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzs0QkFDMUMsQ0FBQyxDQUFDO3dCQUNKLENBQUM7d0JBQ0QsV0FBVyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQzt3QkFDN0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7NEJBQ3RCLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLENBQUM7d0JBQ2xFLENBQUMsQ0FBQztvQkFDSixDQUFDLENBQUM7b0JBRUYsT0FBTyxZQUFZO2dCQUNyQixDQUFDOzs7WUFJSCxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFnQixDQUFDOztZQUU3QyxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FDaEMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxHQUNaLE9BQ0csSUFBSSxDQUFDLENBQUMsV0FBVztvQkFDaEIsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztvQkFDakQsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJO29CQUNqQixPQUFPLE1BQU07Z0JBQ2YsQ0FBQyxFQUNBLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLO29CQUM3QixJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTiw0Q0FBNEMsRUFDNUMsS0FBSyxDQUNOO29CQUNELE9BQU8sTUFBTTtnQkFDZixDQUFDLENBQUMsRUFDTixVQUFVLENBQ1g7O1FBRUgsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLE1BQU0sRUFBRTtZQUN4RCxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDOztRQUVsQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxLQUFLLE1BQU0sRUFBRTtZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUM7WUFDbkQsTUFBTSxnQkFBZ0IsR0FBRztnQkFDdkIsTUFBTSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7Z0JBQ2hDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtvQkFDaEIsSUFBSSxDQUFDLDJCQUEyQixHQUFHLElBQUk7b0JBQ3ZDLFVBQVUsQ0FBQzt3QkFDVCxJQUFJLENBQUMsMkJBQTJCLEdBQUcsS0FBSztxQkFDekMsRUFBRSxJQUFJLENBQUM7b0JBQ1IsTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFOztZQUV4QixDQUFDO1lBQ0QsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLEtBQWMsR0FBSztvQkFDakQsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLEtBQUssRUFBRTtvQkFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7d0JBQzlELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLHdDQUF3QyxFQUFFLEdBQUcsQ0FBQztvQkFDcEUsQ0FBQyxDQUFDO2dCQUNKLENBQUM7WUFDRCxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSztnQkFDL0IsTUFBTSxXQUFXLEdBQUcsc0JBQXNCLENBQUMsSUFBSSxDQUFDO2dCQUNoRCxNQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQyxLQUFLLENBQUM7Z0JBQ25ELEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDO2dCQUMzQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLGFBQWEsQ0FBQztnQkFDL0MsS0FBSyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQztnQkFDakQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7b0JBQ3RCLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDO29CQUM5QyxLQUFLLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLGFBQWEsQ0FBQztvQkFDbEQsS0FBSyxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQztnQkFDdEQsQ0FBQyxDQUFDO1lBQ0osQ0FBQyxDQUFDOzs7SUFJTixJQUFZLGVBQWU7UUFDekIsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQUU7WUFDdEMsT0FBTyxZQUFZOztRQUVyQixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLEtBQUssRUFBRTtZQUN0QyxPQUFPLFlBQVk7O1FBRXJCLE9BQU8sRUFBRTs7SUFHSCxtQ0FBbUM7UUFDekMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQ3JCLGtCQUFrQixDQUNoQixxUkFBYSxDQUFDO1lBQ1osVUFBVyxDQUFDLElBQUksQ0FBQyxnUkFBUSxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlO1NBQzNCLENBQUMsRUFDRixPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEVBQUUsUUFBUSxDQUFDO1lBQzlDLElBQUk7Z0JBQ0YsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDZixNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtnQkFFaEMsSUFBSSxvQkFBb0IsR0FBRyxLQUFLO2dCQUNoQyxJQUFJLGdCQUFnQixHQUFHLEtBQUs7Z0JBQzVCLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFLFFBQVEsQ0FBQztnQkFDL0QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDO2dCQUN6RCxJQUFJLENBQUMsYUFBYSxJQUFJLFVBQVUsRUFBRTtvQkFDaEMsb0JBQW9CLEdBQUcsSUFBSTt1QkFDdEIsSUFDTCxhQUFhLElBQ2IsVUFBVSxJQUNWLGFBQWEsQ0FBQyxRQUFRLEtBQUssVUFBVSxDQUFDLFFBQVEsSUFDOUMsYUFBYSxDQUFDLE9BQU8sS0FBSyxVQUFVLENBQUMsT0FBTyxFQUM1QztvQkFDQSxnQkFBZ0IsR0FBRyxJQUFJOztnQkFHekIsSUFBSSxvQkFBb0IsRUFBRTtvQkFDeEIsTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFO29CQUNwQixNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDOztnQkFFOUIsSUFBSSxnQkFBZ0IsRUFBRTtvQkFDcEIsSUFDRSxJQUFJLENBQUMsMkJBQTJCLElBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLFVBQVUsRUFDaEM7d0JBQ0EsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO3dCQUNuQixJQUFJLENBQUMsMkJBQTJCLEdBQUcsS0FBSzsyQkFDbkM7d0JBQ0wsTUFBTSxJQUFJLENBQUMscUJBQXFCLEVBQUU7OztjQUd0QyxPQUFPLEdBQUcsRUFBRTtnQkFDWixJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTixpRUFBaUUsRUFDakUsR0FBRyxDQUNKOztTQUVKLENBQ0YsQ0FDRjs7SUFHSyxVQUFVLENBQUMsT0FBMEIsRUFBRSxRQUFnQjtRQUM3RCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsZUFBZTtRQUNqQyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLFFBQVEsS0FBSyxRQUFRLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUM7O0FBRXpFO01DaGhCcUIsNEJBQTRCO0lBb0VoRDs7Ozs7O0tBTUcsR0FDSCxXQUNrQixlQUFnQyxhQUFhLEVBQzdELFVBQThCO1FBRGQsSUFBVyxlQUFYLFdBQVc7UUEzRW5CLGtCQUFhLEdBQUcsSUFBSSxtUkFBZSxDQUFvQixTQUFTLENBQUM7UUFDakUsNEJBQXVCLEdBQUcsSUFBSSxtUkFBZSxDQUNyRCxTQUFTLENBQ1Y7UUFDUyx1QkFBa0IsR0FBRyxJQUFJLG1SQUFlLENBQ2hELFNBQVMsQ0FDVjtRQUNTLDBCQUFxQixHQUFHLElBQUksbVJBQWUsQ0FDbkQsU0FBUyxDQUNWO1FBQ1MsOEJBQXlCLEdBQUcsSUFBSSxtUkFBZSxDQUN2RCxTQUFTLENBQ1Y7UUFPRDs7O1NBR0csR0FDSCxpQkFBWSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUU7UUFFckQ7O1NBRUcsR0FDSCxJQUFlLG1CQUFHLElBQUksQ0FBQyxzQkFDcEIsWUFBWSxHQUNaLElBQUksQ0FBQyw0UkFBb0IsRUFBRSxDQUFDO1FBRS9COztTQUVHLEdBQ0gsWUFBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUFDLDRSQUFvQixFQUFFLENBQUM7UUFFeEU7O1NBRUcsR0FDSCxJQUFpQixxQkFBRyxJQUFJLENBQUMsd0JBQ3RCLFlBQVksR0FDWixJQUFJLENBQUMsNFJBQW9CLEVBQUUsQ0FBQztRQUUvQjs7U0FFRyxHQUNILHdCQUFtQixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxZQUFZLEVBQUU7UUErQmpFLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxhQUN6QixVQUFVLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUFDLG1SQUFXLENBQUMsQ0FBQyxDQUFDLElBQzdDLDBRQUFFLENBQUMsSUFBSSxDQUFDO1FBRVosSUFBSSxDQUFDLHVCQUF1QixHQUFHLGFBQzNCLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLElBQUksQ0FBQyxtUkFBVyxDQUFDLENBQUMsQ0FBQyxJQUNsRCwwUUFBRSxDQUFDLFFBQVEsQ0FBQztRQUVoQixJQUFJLENBQUMsc0JBQXNCLEdBQUcsYUFDMUIsVUFBVSxDQUFDLHdCQUF3QixFQUFFLENBQUMsSUFBSSxDQUFDLG1SQUFXLENBQUMsQ0FBQyxDQUFDLElBQ3pELDBRQUFFLENBQUMsS0FBSyxDQUFDOztJQUdmOztLQUVHLEdBQ0gsSUFBSSxNQUFNO1FBQ1IsT0FBT0QsZUFBdUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDOztJQUc5Qzs7S0FFRyxHQUNILElBQUksZ0JBQWdCO1FBQ2xCLE9BQU9BLGVBQXVCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDOztJQUd4RDs7S0FFRyxHQUNILElBQUksY0FBYztRQUNoQixPQUFPQSxlQUF1QixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7O0lBR3REOztLQUVHLEdBQ0gsSUFBSSxXQUFXO1FBQ2IsT0FBT0EsZUFBdUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDOztJQUduRDs7O0tBR0csR0FDSCxTQUFTLENBQUMsTUFBeUI7UUFDakNELGVBQXVCLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7O0lBR3JEOzs7S0FHRyxHQUNILGdCQUFnQixDQUFDLGFBQWdDO1FBQy9DQSxlQUF1QixDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxhQUFhLENBQUM7O0lBR3RFOzs7Ozs7O0tBT0csR0FDSCxjQUFjLENBQ1osTUFBK0IsRUFDL0IsVUFBbUM7UUFFbkNBLGVBQXVCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE1BQU0sQ0FBQztRQUN4RCxJQUFJLFVBQVUsRUFBRTtZQUNkLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxDQUFDOzs7SUFJMUQ7OztLQUdHLEdBQ0gsU0FBUyxDQUFDLFFBQTRCO1FBQ3BDQSxlQUF1QixDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxRQUFRLENBQUM7O0lBRy9EOztLQUVHLEdBQ0gsSUFBSSxrQkFBa0I7UUFDcEIsT0FBT0MsZUFBdUIsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7O0lBRzFEOzs7OztLQUtHLEdBQ0gscUJBQXFCLENBQUMsV0FBMEI7UUFDOUNELGVBQXVCLENBQUMsSUFBSSxDQUFDLHlCQUF5QixFQUFFLFdBQVcsQ0FBQzs7QUFNdkU7QUMzTEssTUFBTyxrQkFBbUIsU0FBUSw0QkFBNEI7SUFVbEU7UUFDRSxLQUFLLENBQUMsYUFBYSxFQUFFLHlCQUF5QixFQUFFLENBQUM7UUFWM0MscUJBQWdCLEdBQUcsSUFBSSxtUkFBZSxDQUFrQixTQUFTLENBQUM7UUFXeEUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsaUJBQ3BCLFlBQVksR0FDWixJQUFJLENBQUMsNFJBQW9CLEVBQUUsQ0FBQzs7SUFHakM7Ozs7S0FJRyxHQUNILElBQUksU0FBUztRQUNYLE9BQU9DLGVBQXVCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7SUFHakQ7O0tBRUcsR0FDSCxZQUFZLENBQUMsU0FBMEI7UUFDckNELGVBQXVCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQzs7SUFHM0Q7O0tBRUcsR0FDTSxjQUFjLENBQ3JCLE1BQStCLEVBQy9CLFVBQW1DO1FBRW5DLEtBQUssQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQztRQUN4QyxJQUFJLE1BQU0sRUFBRTs7WUFFVixNQUFNLFNBQVMsR0FBRyxhQUFhLEtBQzNCLElBQUksQ0FBQyxZQUNMLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxVQUFVLEtBQUssZ0JBQ3ZELFNBQ0EsT0FBTztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDOzs7SUFJdEIscUJBQXFCLENBQUMsTUFBbUI7UUFDakQsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLEVBQUU7UUFDdkMsT0FBTyxLQUFLLEVBQUUsV0FBVyxFQUFFLENBQUMsUUFBUTs7QUFFdkM7QUN0REssTUFBTyxhQUFjLFNBQVEsdUJBQTJDO0lBTTVFOzs7O0tBSUcsR0FDSCxZQUFZLElBQVU7UUFDcEIsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLGtCQUFrQixFQUFFLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQztRQVhoRCxxQkFBZ0IsR0FBRztZQUN6QixLQUFLLEVBQUUsSUFBSTtZQUNYLE1BQU0sRUFBRSxHQUFHO1NBQ1o7O0lBV08sNEJBQTRCO1FBQ2xDLE9BQU8sYUFBYSxFQUFFLElBQUksUUFBUSxFQUFFOztJQUd0Qzs7OztLQUlHLEdBQ0gsTUFBTSxlQUFlLENBQUMsU0FBOEM7UUFDbEUsSUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLG1EQUFtRCxDQUFDO1lBQ3hFOzs7UUFJRixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUM7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO1FBRS9CLElBQUksYUFBYSxFQUFFLEVBQUU7WUFDbkIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBaUM7WUFDdEUsTUFBTSxVQUFVLEVBQUUsZ0JBQWdCLENBQUM7Z0JBQ2pDLFVBQVUsRUFBRSxTQUFTLEtBQUssT0FBTyxHQUFHLE1BQU0sR0FBRyxhQUFhO1lBQzNELEVBQUM7WUFDRjs7UUFHRixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxHQUFLLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNqRCxJQUFJO1lBQ0YsTUFBTSxJQUFJLENBQUMsWUFBWSxFQUFFO1VBQ3pCLE9BQU8sS0FBSyxFQUFFO1lBQ2QsSUFBSSxLQUFLLFlBQVksS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssa0JBQWtCLEVBQUU7OztnQkFHL0QsTUFBTSxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUN2QixNQUFNLElBQUksQ0FBQyxZQUFZLEVBQUU7O1lBRTNCLE1BQU0sS0FBSzs7O0lBSWY7Ozs7O0tBS0csR0FDSCxNQUFNLElBQUk7UUFDUixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsS0FBSyxPQUFPLEdBQUcsTUFBTSxHQUFHLE9BQU87UUFDeEUsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQzs7SUFHMUM7O0tBRUcsR0FDSCxNQUFNLHNCQUFzQixDQUFDLFVBQTZDO1FBQ3hFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDLE1BQU07UUFDaEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSztRQUM5QyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEtBQUssU0FBUyxFQUFFO1lBQzdDLElBQUk7Z0JBQ0YsTUFBTSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7Y0FDaEMsT0FBTyxLQUFLLEVBQUU7O2dCQUVkLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLG1DQUFtQyxFQUFFLEtBQUssQ0FBQzs7O1FBR25FLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRTtZQUMxQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFO1lBQzVELElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDakIsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxVQUFVLENBQUMsV0FBVyxFQUFFO1lBQ2xELElBQ0UsS0FBSyxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLElBQ3JDLE1BQU0sS0FBSyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUN2QztnQkFDQSxNQUFNLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLE1BQU0sQ0FDVCxPQUFPLEVBQ1AsQ0FBRyxPQUFLLENBQUksU0FBTSxDQUE0Qyw0Q0FDL0Q7Ozs7SUFLUDs7Ozs7S0FLRyxHQUNILE1BQU0sS0FBSyxDQUFDLFFBQStCLEVBQUUsT0FBZ0I7UUFDM0QsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsV0FBVztRQUN6RSxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGFBQWEsQ0FDOUQsYUFBYSxDQUFDLFVBQVUsQ0FDekI7UUFDRCxJQUFJLGlCQUFpQixJQUFJLENBQUMsYUFBYSxFQUFFOztRQUd6QyxNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtRQUVoQyxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsYUFBYSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsUUFBUTs7Ozs7UUFLeEUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxpQkFBaUI7UUFDekMsSUFBSSxLQUFLLEdBQUcsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHO1lBQUMsTUFBTTtZQUFFLEtBQUs7U0FBQztRQUNyRCxNQUFNLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztZQUFFLEtBQUs7WUFBRSxNQUFNO1FBQUEsQ0FBRSxDQUFDOztRQUdwRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRTtZQUN2RCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxhQUFhLEtBQUssT0FBTyxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUM7O1FBR3ZFLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFFZCxNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUs7UUFDbEMsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLFdBQVcsRUFBRTs7WUFFL0IsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztlQUNoQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLFNBQVMsSUFBSSxpQkFBaUIsRUFBRTs7WUFFL0QsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFOzs7SUFJYixVQUFVO1FBQ2xCLE9BQU8sZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDOztJQUdoQyxTQUFTLENBQ2pCLFdBQWtDO1FBRWxDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUs7UUFDL0MsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTTs7O1FBSWpELElBQ0UsQ0FBQyxXQUFXLENBQUMsUUFBUSxJQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsSUFDcEIsSUFBSSxDQUFDLDRCQUE0QixFQUFFLEVBQ25DO1lBQ0EsV0FBVyxDQUFDLFVBQVUsR0FDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEtBQUssT0FBTyxHQUFHLE1BQU0sR0FBRyxhQUFhOztRQUU3RCxPQUFPLGNBQWMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7O0FBRXZEO0FDcEtLLE1BQU8sc0JBQXVCLFNBQVEsNEJBQTRCO0lBVXRFLFlBQVksV0FBNkI7UUFDdkMsS0FBSyxDQUFDLFdBQVcsRUFBRSx5QkFBeUIsRUFBRSxDQUFDO1FBVnpDLDhCQUF5QixHQUFHLElBQUksbVJBQWUsQ0FBVSxLQUFLLENBQUM7UUFZckUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQywwQkFDN0IsWUFBWSxHQUNaLElBQUksQ0FBQyw0UkFBb0IsRUFBRSxDQUFDOztJQUdqQzs7OztLQUlHLEdBQ0gsSUFBSSxrQkFBa0I7UUFDcEIsT0FBT0MsZUFBdUIsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7O0lBRzFEOztLQUVHLEdBQ0gscUJBQXFCLENBQUMsVUFBbUI7UUFDdkNELGVBQXVCLENBQUMsSUFBSSxDQUFDLHlCQUF5QixFQUFFLFVBQVUsQ0FBQzs7SUFHM0QscUJBQXFCLENBQUMsTUFBbUI7UUFDakQsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLEVBQUU7UUFDdkMsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsV0FBVyxFQUFFLENBQUMsUUFBUTtRQUN4RCxPQUFPLGVBQWUsQ0FBQyxrQkFBa0IsRUFBRSxZQUFZLENBQUM7O0FBRTNEO0FDUEQsTUFBTSx5QkFBeUIsR0FBRyxHQUFHO0FBQ3JDLE1BQU0scUJBQXFCLEdBQUcsR0FBRztBQUNqQyxNQUFNLFFBQVEsR0FBRyxHQUFHO0FBRXBCOzs7Ozs7O0NBT0csR0FDSSxNQUFNLG1CQUFtQixHQUFHLENBQ2pDLFdBQXdCLEVBQ3hCLDJCQUFvRCxFQUNwRCxVQUFnQyxFQUFFO0lBRWxDLE1BQU0sRUFDSixzQkFBc0IsR0FBRyx5QkFBeUIsRUFDbEQsbUJBQW1CLEdBQUcscUJBQXFCLEVBQzNDLE9BQU8sR0FBRyxRQUFRLEVBQ2xCLG1CQUFtQixHQUFHLElBQUksRUFDM0IsR0FBRyxPQUFPO0lBRVgsTUFBTSxZQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUU7SUFDdkMsTUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLGNBQWMsRUFBRTtJQUM5QyxRQUFRLENBQUMsT0FBTyxHQUFHLE9BQU87SUFFMUIsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDLHVCQUF1QixDQUFDLFdBQVcsQ0FBQztJQUNwRSxVQUFVLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUU1QixNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUM7UUFDN0IsTUFBTSxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDO1FBQ3ZELFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7UUFFbkMsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssR0FBSyxLQUFLLElBQUksbUJBQW1CLENBQUM7UUFFMUUsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNO1FBRTNFLE1BQU0sVUFBVSxHQUNkLGlCQUFpQixHQUFHLHNCQUNoQixNQUNBLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWtCLEdBQUcsbUJBQW1CLEdBQUksR0FBRyxDQUFDOzs7UUFJakUsSUFBSSxXQUFXLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFO1lBQzVDLDJCQUEyQixDQUFDO2dCQUFFLGVBQWU7Z0JBQUUsVUFBVSxFQUFFLFVBQVU7WUFBQSxDQUFFLENBQUM7ZUFDbkU7WUFDTCwyQkFBMkIsQ0FBQztnQkFBRSxlQUFlLEVBQUUsS0FBSztnQkFBRSxVQUFVLEVBQUUsQ0FBQztZQUFBLENBQUUsQ0FBQzs7S0FFekUsRUFBRSxzQkFBc0IsQ0FBQztJQUUxQixPQUFPLGVBQWUsSUFBSTtRQUN4QixhQUFhLENBQUMsVUFBVSxDQUFDOztRQUd6QixVQUFVLENBQUMsVUFBVSxFQUFFO1FBQ3ZCLFFBQVEsQ0FBQyxVQUFVLEVBQUU7UUFDckIsSUFBSSxZQUFZLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUNuQyxNQUFNLFlBQVksQ0FBQyxLQUFLLEVBQUU7OztRQUk1QixJQUFJLG1CQUFtQixFQUFFO1lBQ3ZCLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLO2dCQUNwQyxLQUFLLENBQUMsSUFBSSxFQUFFO2dCQUNaLFdBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBQ2hDLENBQUMsQ0FBQzs7SUFFTixDQUFDO0FBQ0g7TUMxR2EsZ0JBQWdCO0lBTTNCLFlBQVksbUJBQWlDO1FBTHJDLFFBQUcsR0FBRyxJQUFJLGlCQUFpQixDQUFDLEVBQUUsQ0FBQztRQUMvQixRQUFHLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxFQUFFLENBQUM7UUFLckMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLG1CQUFtQjs7SUFHaEQ7O0tBRUcsR0FDSSxNQUFNLEtBQUssQ0FBQywyQkFBb0Q7UUFDckUsSUFBSTtZQUNGLElBQUksV0FBd0I7WUFDNUIsSUFBSSxJQUFJLENBQUMsbUJBQW1CLElBQUksSUFBSSxFQUFFO2dCQUNwQyxXQUFXLEdBQUcsSUFBSSxDQUFDLG1CQUFtQjttQkFDakM7Z0JBQ0wsV0FBVyxHQUFHLE1BQU0sU0FBUyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUM7b0JBQ3RELEtBQUssRUFBRSxJQUFJO2dCQUNaLEVBQUM7Z0JBQ0YsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXOztZQUdoQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxPQUFPLENBQUM7Z0JBQ2hELE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQzVCLENBQUMsQ0FBQyxTQUE0QyxDQUMvQztZQUNILENBQUMsQ0FBQztZQUNGLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQztnQkFDaEQsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FDNUIsQ0FBQyxDQUFDLFNBQTRDLENBQy9DO1lBQ0gsQ0FBQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO2dCQUNuQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUs7Ozs7b0JBSXJDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixDQUFDLENBQUM7WUFDSixDQUFDLENBQUM7WUFFRixZQUNHLFNBQVMsR0FDVCxPQUFPLENBQUMsQ0FBQyxLQUFLLEdBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzVELE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDO1lBQzVDLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUM7WUFDMUMsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQztZQUN6QyxNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFO1lBQzVDLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUM7WUFDM0MsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQztZQUMxQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsNkJBQTZCLENBQzlDLDJCQUEyQixDQUM1QjtZQUNELE9BQU87Z0JBQ0wsS0FBSyxFQUFFO2dCQUNQLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDYixDQUFDO1VBQ0QsT0FBTyxLQUFLLEVBQUU7WUFDZCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUM7Z0JBQUMsa0JBQWtCO2FBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsT0FBTyxFQUFFLDhCQUE4QixFQUFFLEtBQUssQ0FBQztZQUN0RCxPQUFPLEtBQU8sQ0FBQzs7O0lBSW5COztLQUVHLEdBQ0ssSUFBSTtRQUNWLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFO1FBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFO1FBRWhCLElBQUksSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksRUFBRTtZQUNwQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsU0FBUztlQUMvQjtZQUNMLElBQUksQ0FBQyxrQkFBa0IsRUFBRTs7O0lBSTdCOztLQUVHLEdBQ0ssNkJBQTZCLENBQ25DLDJCQUFvRDtRQUVwRCxNQUFNLHlCQUF5QixHQUFHLElBQUk7UUFDdEMsSUFBSSxrQkFBa0IsR0FBRyx5QkFBeUI7UUFDbEQsSUFBSSxjQUFjLEdBQUcsS0FBSztRQUMxQixJQUFJLFdBQXVDO1FBQzNDLElBQUksWUFBd0M7UUFDNUMsTUFBTSxpQkFBaUIsR0FBYSxFQUFFLENBQUM7UUFDdkMsTUFBTSxhQUFhLEdBQUcsRUFBRTtRQUN4QixNQUFNLGdCQUFnQixHQUFHLEdBQUc7UUFDNUIsTUFBTSxjQUFjLEdBQUcsR0FBRztRQUMxQixNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUM7UUFDMUIsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDO1FBRTVCLE1BQU0sZUFBZSxHQUFHO1lBQ3RCLElBQUk7Z0JBQ0YsTUFBTSxLQUFLLEdBQUksTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFtQjtnQkFDM0QsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQzs7Z0JBRTdCLE1BQU0scUJBQXFCLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FDdkMsQ0FBQyxJQUFJLEdBQ0gsSUFBSSxDQUFDLElBQUksS0FBSyxjQUFjLElBQzNCLElBQTBCLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FDbEM7Z0JBQ2QsSUFBSSxxQkFBcUIsRUFBRTtvQkFDekIsTUFBTSxFQUFFLFVBQVUsRUFBRSxHQUFHLHFCQUFxQjtvQkFDNUMsSUFBSSxVQUFVLEVBQUU7O3dCQUVkLGlCQUFpQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7d0JBQ2xDLElBQUksaUJBQWlCLENBQUMsTUFBTSxHQUFHLGFBQWEsRUFBRTs0QkFDNUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFOzs7d0JBSTNCLE1BQU0sYUFBYSxHQUNqQixpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQzVDLGlCQUFpQixDQUFDLE1BQU07O3dCQUcxQixJQUFJLGFBQWEsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0IsRUFBRTs0QkFDekQsSUFBSSxDQUFDLFlBQVksRUFBRTtnQ0FDakIsWUFBWSxHQUFHLFVBQVUsQ0FBQztvQ0FDeEIsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FDM0IsYUFBYSxHQUFHLGNBQWMsRUFDOUIseUJBQXlCLENBQzFCO2lDQUNGLEVBQUUsY0FBYyxDQUFDOzsrQkFFZjs0QkFDTCxZQUFZLENBQUMsWUFBWSxDQUFDOzRCQUMxQixZQUFZLEdBQUcsU0FBUzs7O3dCQUkxQixJQUFJLGFBQWEsR0FBRyxrQkFBa0IsR0FBRyxHQUFHLEVBQUU7NEJBQzVDLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0NBQ25CLGNBQWMsR0FBRyxJQUFJO2dDQUNyQiwyQkFBMkIsQ0FBQztvQ0FDMUIsZUFBZSxFQUFFLElBQUk7b0NBQ3JCLFVBQVU7Z0NBQ1gsRUFBQzs7NEJBR0osWUFBWSxDQUFDLFdBQVcsQ0FBQzs0QkFFekIsV0FBVyxHQUFHLFVBQVUsQ0FBQztnQ0FDdkIsY0FBYyxHQUFHLEtBQUs7Z0NBQ3RCLDJCQUEyQixDQUFDO29DQUMxQixlQUFlLEVBQUUsS0FBSztvQ0FDdEIsVUFBVSxFQUFFLENBQUM7Z0NBQ2QsRUFBQzs2QkFDSCxFQUFFLGFBQWEsQ0FBQzs7OztjQUl2QixPQUFPLEtBQUssRUFBRTtnQkFDZCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUM7b0JBQUMsa0JBQWtCO2lCQUFDLENBQUM7Z0JBQzlDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsdUNBQXVDLEVBQUUsS0FBSyxDQUFDOztRQUVuRSxDQUFDOztRQUdELE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDO1FBRXBELE9BQU87WUFDTCxhQUFhLENBQUMsVUFBVSxDQUFDO1lBQ3pCLFlBQVksQ0FBQyxXQUFXLENBQUM7WUFDekIsWUFBWSxDQUFDLFlBQVksQ0FBQztRQUM1QixDQUFDOztJQUdLLGtCQUFrQjtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNyQjs7UUFFRixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssR0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDN0Q7UUFFRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxLQUFLLFVBQVUsRUFDOUM7O1lBRUEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUU7OztBQUcvQjtBQzNLSyxNQUFPLGlCQUFrQixTQUFRLHVCQUErQztJQVVwRixXQUFZLEtBQVUsRUFBRSxjQUFnQyxhQUFhO1FBQ25FLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxzQkFBc0IsQ0FBQyxXQUFXLENBQUMsRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDO1FBVi9ELElBQXFDLHlDQUFHLElBQUk7UUFDNUMsZ0NBQTJCLEdBQUcsTUFBTSxDQUFDLDZCQUE2QixDQUFDOztJQVlsRSxLQUFLO1FBQ1osS0FBSyxDQUFDLEtBQUssRUFBRTtRQUNiLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUNyQiwyQkFBMkIsQ0FDekIscVJBQWEsQ0FBQztZQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWE7WUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZTtZQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU87U0FDbkIsQ0FBQyxFQUNGLE9BQU8sQ0FBQyxZQUFZLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUM7WUFDdEQsSUFBSTtnQkFDRixJQUFJLFlBQVksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFO29CQUN0QyxNQUFNLElBQUksQ0FBQywrQkFBK0IsRUFBRTs7Z0JBRTlDLElBQUksWUFBWSxLQUFLLFlBQVksQ0FBQyxNQUFNLEVBQUU7Z0JBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMscUNBQXFDLEVBQUU7Z0JBRWpELElBQUksZUFBZSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUU7b0JBQ3RELElBQUksTUFBTSxLQUFLLFVBQVUsRUFBRTt3QkFDekIsTUFBTSxJQUFJLENBQUMsZ0NBQWdDLENBQUMsUUFBUSxDQUFDOzJCQUNoRDt3QkFDTCxNQUFNLElBQUksQ0FBQywrQkFBK0IsRUFBRTs7dUJBRXpDO29CQUNMLE1BQU0sSUFBSSxDQUFDLCtCQUErQixFQUFFOztjQUU5QyxPQUFPLEdBQUcsRUFBRTtnQkFDWixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSx1Q0FBdUMsRUFBRSxHQUFHLENBQUM7O1NBRXBFLENBQ0YsQ0FDRjtRQUVELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUNyQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxZQUFZOztZQUU3RCxJQUFJLENBQUMsSUFBSSxDQUFDLDZCQUE2QixJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUNoRTtZQUVGLE1BQU0sTUFBTSxHQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxLQUN4RCxpQ0FBaUMsQ0FBQyxPQUFPO1lBRTNDLElBQUksTUFBTSxJQUFJLFlBQVksS0FBSyxZQUFZLENBQUMsTUFBTSxFQUFFO2dCQUNsRCxJQUFJLENBQUMsOEJBQ0YsSUFBSSxDQUFDO29CQUNKLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFLGFBQWEsRUFBRTt3QkFDekMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFOztvQkFFL0MsT0FBTyxJQUFJO2dCQUNiLENBQUMsRUFDQSxJQUFJLENBQUMsQ0FBQyxhQUFhO29CQUNsQixJQUFJLGFBQWEsRUFBRTt3QkFDakIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE1BQU0sRUFBRTs7Z0JBRXBDLENBQUMsRUFDQSxLQUFLLENBQUMsQ0FBQyxHQUFHO29CQUNULElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQXFDLHNDQUFFLEdBQUcsQ0FBQztvQkFDL0QsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLDhCQUE4QixFQUFFO2dCQUNuRCxDQUFDLENBQUM7bUJBQ0MsSUFBSSxZQUFZLEtBQUssWUFBWSxDQUFDLElBQUksRUFBRTtnQkFDN0MsSUFBSSxDQUFDLDhCQUNGLElBQUksQ0FBQyxJQUFNLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsRUFDNUMsS0FBSyxDQUFDLENBQUMsR0FBRztvQkFDVCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFzQyx1Q0FBRSxHQUFHLENBQUM7Z0JBQ2xFLENBQUMsQ0FBQzs7U0FFUCxDQUFDLENBQ0g7O0lBR0g7Ozs7S0FJRyxHQUNILE1BQU0sdUJBQXVCLENBQUMsaUJBQXFDO1FBQ2pFLE1BQU0sRUFBRSxlQUFlLEVBQUUsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLO1FBQ3JELE1BQU0sOEJBQThCLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FDN0QsYUFBYSxDQUFDLHlCQUF5QixDQUN4QztRQUNELElBQUksQ0FBQyw4QkFBOEIsRUFBRTtZQUNuQyxNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDOztRQUV6RCxNQUFNLHlCQUF5QixHQUFHLFFBQVEsRUFBRSxLQUFLLENBQUMsa0JBQWtCO1FBQ3BFLElBQ0UsQ0FBQyx5QkFBeUIsSUFDMUIseUJBQXlCLENBQUMsSUFBSSxLQUM1QixpQ0FBaUMsQ0FBQyxRQUFRLEVBQzVDO1lBQ0EsTUFBTSxJQUFJLEtBQUssQ0FBQyxvREFBb0QsQ0FBQzs7UUFFdkUsSUFBSTtZQUNGLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUI7O1lBRzFDLElBQUksQ0FBQyxrQ0FBa0MsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUNqRSxRQUFRLEVBQ1IsQ0FBQyxPQUFnQjtnQkFDZixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsMkJBQTJCLEVBQUUsT0FBTyxDQUFDO2dCQUM1RCxJQUFJLE9BQU8sRUFBRTtvQkFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLCtCQUErQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRzt3QkFDcEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBcUMsc0NBQUUsR0FBRyxDQUFDO29CQUNqRSxDQUFDLENBQUM7dUJBQ0c7b0JBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7d0JBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQW9DLHFDQUFFLEdBQUcsQ0FBQztvQkFDaEUsQ0FBQyxDQUFDOztZQUVOLENBQUMsQ0FDRjtZQUVELElBQUksYUFBYSxFQUFFLEVBQUU7O2dCQUVuQixJQUFJLENBQUMsNkJBQTZCLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRTttQkFDakQ7Z0JBQ0wsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUM1QyxpQkFBaUIsQ0FBQyxRQUFRLEVBQUUsQ0FDN0I7Z0JBQ0QsSUFBSSxDQUFDLDZCQUE2QixHQUFHLGtCQUFrQixDQUFDLFVBQVU7Z0JBQ2xFLElBQUksQ0FBQywyQkFBMkIsR0FBRyxrQkFBa0IsQ0FBQyxVQUFVO2dCQUNoRSxNQUFNLElBQUksQ0FBQyw2QkFBNkI7Ozs7WUFLMUMsSUFDRSx5QkFBeUIsQ0FBQyxJQUFJLEtBQzVCLGlDQUFpQyxDQUFDLE9BQU8sSUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxNQUFNLEVBQ3BEO2dCQUNBLElBQUksYUFBYSxHQUFHLElBQUk7Z0JBQ3hCLElBQUksaUJBQWlCLENBQUMsYUFBYSxFQUFFO29CQUNuQyxhQUFhLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxhQUFhLEVBQUU7O2dCQUV6RCxJQUFJLGFBQWEsRUFBRTtvQkFDakIsaUJBQWlCLENBQUMsTUFBTSxFQUFFOzs7VUFHOUIsT0FBTyxDQUFDLEVBQUU7WUFDVixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxxQ0FBcUMsRUFBRSxDQUFDLENBQUM7WUFDN0QsTUFBTSxJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO2dCQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxzQ0FBc0MsRUFBRSxHQUFHLENBQUM7WUFDbEUsQ0FBQyxDQUFDO1lBQ0YsTUFBTSxDQUFDOzs7SUFJWDs7S0FFRyxHQUNILE1BQU0sd0JBQXdCO1FBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsMkJBQTJCLElBQUksSUFBSSxPQUFPLENBQUMsT0FBTyxHQUFFLENBQzdELElBQUksQ0FBQyxJQUFNLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsRUFDNUMsSUFBSSxDQUFDLElBQU0sSUFBSSxDQUFDLGtDQUFrQyxJQUFJLEVBQ3RELEtBQUssQ0FBQyxDQUFDLEdBQUc7WUFDVCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSx5Q0FBeUMsRUFBRSxHQUFHLENBQUM7UUFDckUsQ0FBQyxDQUFDO1FBRUosSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDRCQUE0QixFQUFFLElBQUksQ0FBQztRQUMxRCxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsOEJBQThCLEVBQUU7O0lBR2xEOztLQUVHLEdBQ0gsTUFBTSxvQ0FBb0M7UUFDeEMsSUFBSSxDQUFDLHFDQUFxQyxHQUFHLElBQUk7UUFDakQsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxVQUFVLEVBQUU7WUFDcEMsTUFBTSxJQUFJLENBQUMsZ0NBQWdDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUM7OztJQUkxRTs7S0FFRyxHQUNILE1BQU0scUNBQXFDO1FBQ3pDLElBQUksQ0FBQyxxQ0FBcUMsR0FBRyxLQUFLO1FBQ2xELE1BQU0sSUFBSSxDQUFDLCtCQUErQixFQUFFOztJQUc5Qzs7OztLQUlHLEdBQ0gsTUFBTSxLQUFLLENBQUMsUUFBK0IsRUFBRSxPQUFnQjtRQUMzRCxJQUFJLENBQUMsT0FBTyxFQUFFO1FBRWQsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsV0FBVztRQUN6RSxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGFBQWEsQ0FDOUQsYUFBYSxDQUFDLFVBQVUsQ0FDekI7UUFDRCxJQUFJLGlCQUFpQixJQUFJLENBQUMsYUFBYSxFQUFFOztRQUd6QyxNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRTs7UUFHaEMsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLO1FBQ2xDLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxXQUFXLEVBQUU7O1lBRS9CLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7ZUFDaEMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxTQUFTLElBQUksUUFBUSxDQUFDLGNBQWMsRUFBRTs7WUFFckUsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFOzs7SUFJYixVQUFVO1FBQ2xCLE9BQU8sZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDOztJQUdoQyxTQUFTLENBQ2pCLFdBQWtDO1FBRWxDLE9BQU8sY0FBYyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzs7SUFHOUMsTUFBTSxnQ0FBZ0MsQ0FBQyxRQUFpQjtRQUM5RCxNQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQywyQkFBMkIsRUFBRTtZQUN6RCxNQUFNLElBQUksQ0FBQywrQkFBK0IsRUFBRTtZQUM1QyxJQUFJLGFBQWEsRUFBRSxFQUFFO2dCQUNuQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRTtnQkFDOUMsTUFBTSxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSztvQkFDMUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO2dCQUN6RCxDQUFDLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLG9CQUFvQixHQUFHO29CQUMxQixXQUFXLEVBQUU7b0JBQ2IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVM7Z0JBQ25DLENBQUM7bUJBQ0k7O2dCQUVMLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQztvQkFDbEMsUUFBUSxFQUFFO3dCQUFFLEtBQUssRUFBRSxRQUFRO29CQUFBLENBQUU7Z0JBQzlCLEVBQUM7Z0JBQ0YsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUs7b0JBQzVELElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQztnQkFDekQsQ0FBQyxDQUFDOztRQUVOLENBQUMsQ0FBQzs7SUFHSSxNQUFNLCtCQUErQjtRQUMzQyxNQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQywyQkFBMkIsRUFBRTtZQUN6RCxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQ2hDLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQjtZQUN0RCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsU0FBUztZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQztZQUN2QyxNQUFNLG9CQUFvQixFQUFFO1FBQzlCLENBQUMsQ0FBQzs7QUFFTDtBQzdSSyxNQUFPLGdCQUFpQixTQUFRLDRCQUF1RDtJQUE3Rjs7UUFDVSx3QkFBbUIsR0FBRyxJQUFJLG1SQUFlLENBQVUsSUFBSSxDQUFDO1FBQ3hELG9CQUFlLEdBQUcsSUFBSSxtUkFBZSxDQUUzQyxTQUFTLENBQUM7UUFFWjs7U0FFRyxHQUNILElBQWEsaUJBQUcsSUFBSSxDQUFDLG9CQUNsQixZQUFZLEdBQ1osSUFBSSxDQUFDLDRSQUFvQixFQUFFLENBQUM7UUFFL0I7O1NBRUcsR0FDSCxjQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUU7UUFFL0M7O1NBRUcsR0FDTywwQkFBcUIsR0FBRyxDQUNoQyxNQUFtQjtZQUVuQixNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUNsQyxPQUFPLEtBQUssRUFBRSxXQUFXLEVBQUUsQ0FBQyxRQUFRO1FBQ3RDLENBQUM7O0lBRUQ7O0tBRUcsR0FDSCxJQUFJLFlBQVk7UUFDZCxPQUFPQyxlQUF1QixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7O0lBR3BEOztLQUVHLEdBQ0gsZUFBZSxDQUFDLFNBQWtCO1FBQ2hDRCxlQUF1QixDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLENBQUM7O0lBRzlEOztLQUVHLEdBQ0gsSUFBSSxRQUFRO1FBQ1YsT0FBT0MsZUFBdUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDOztJQUdoRDs7OztLQUlHLEdBQ0gsV0FBVyxDQUFDLFFBQXlDO1FBQ25ERCxlQUF1QixDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsUUFBUSxDQUFDOztBQUUxRDtBQ3JESyxNQUFPLGtCQUFtQixTQUFRLHVCQUd2QztJQUNDLFlBQVksSUFBVTtRQUNwQixLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksZ0JBQWdCLEVBQUUsRUFBRSxTQUFTLENBQUMsWUFBWSxDQUFDOztJQUdwRCxLQUFLO1FBQ1osS0FBSyxDQUFDLEtBQUssRUFBRTtRQUNiLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUNyQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRO1lBQ3JELE1BQU0scUJBQXFCLEdBQUcsUUFBUSxFQUFFLGFBQWEsQ0FBQyxpQkFBaUI7WUFFdkUsSUFBSSxxQkFBcUIsRUFBRTtnQkFDekIsSUFBSSxDQUFDLHFCQUFxQixDQUFDO29CQUN6QixLQUFLLEVBQUU7d0JBQ0wsS0FBSyxFQUFFLHFCQUFxQixDQUFDLEtBQUs7d0JBQ2xDLE1BQU0sRUFBRSxxQkFBcUIsQ0FBQyxNQUFNO29CQUNyQztnQkFDRixFQUFDOztTQUVMLENBQUMsQ0FDSDs7SUFHSDs7Ozs7S0FLRyxHQUNILHNCQUFzQjtRQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7O0lBR2xDOztLQUVHLEdBQ0gsTUFBTSx1QkFBdUI7UUFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDO1FBQ2pDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQ25FLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDOzs7SUFJN0Q7O0tBRUcsR0FDSCxXQUFXO1FBQ1QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7O0lBRzVCOzs7O0tBSUcsR0FDSCxXQUFXLENBQUMsUUFBeUM7UUFDbkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDOztJQUd4QixVQUFVO1FBQ2xCLE9BQU8sMFFBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7SUFHTixNQUFNLFNBQVMsQ0FDdkIsV0FBc0M7UUFFdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFO1lBQzVCLFdBQVcsQ0FBQyxLQUFLLEdBQUcsS0FBSzs7UUFFM0IsTUFBTSxNQUFNLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDeEUsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLEVBQUU7UUFDdkMsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLEVBQUU7UUFDakQsSUFBSSxPQUFPLFdBQVcsS0FBSyxXQUFXLElBQUksS0FBSyxJQUFJLGFBQWEsSUFBSSxLQUFLLEVBQUU7WUFDekUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUNwQixvREFBb0QsRUFDcEQsV0FBVyxDQUNaO1lBQ0QsS0FBSyxDQUFDLFdBQVcsR0FBRyxXQUFXOztRQUVqQyxPQUFPLE1BQU07O0lBR0ksTUFBTSxpQkFBaUI7UUFDeEMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FDMUIsU0FBUyxDQUFDLFlBQVksRUFDdEIsU0FBUyxDQUFDLGtCQUFrQixDQUM3Qjs7SUFHSDs7S0FFRyxHQUNNLE1BQU0sTUFBTTtRQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQzs7QUFFbkM7TUN0R1ksWUFBWTtJQXdCdkIsWUFBWSxNQUFjO1FBdkJoQiwwQkFBcUIsR0FBRyxJQUFJLG1SQUFlLENBQVMsRUFBRSxDQUFDO1FBQ3ZELGtCQUFhLEdBQUcsSUFBSSxtUkFBZSxDQUFTLENBQUMsQ0FBQztRQUN4RDs7U0FFRyxHQUNNLElBQTBCLDhCQUFHLGlDQUFpQyxFQUFFO1FBbUJ2RSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU07UUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsc0JBQ3pCLFlBQVksR0FDWixJQUFJLENBQUMsNFJBQW9CLEVBQUUsQ0FBQztRQUMvQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxjQUNqQixZQUFZLEdBQ1osSUFBSSxDQUFDLDRSQUFvQixFQUFFLENBQUM7O0lBR2pDOzs7O0tBSUcsR0FDSCxJQUFJLGNBQWM7UUFDaEIsT0FBT0MsZUFBdUIsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDOztJQUd0RDs7OztLQUlHLEdBQ0gsSUFBSSxNQUFNO1FBQ1IsT0FBT0EsZUFBdUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDOztJQUc5Qzs7O0tBR0csR0FDSCxTQUFTLENBQUMsUUFBZ0I7UUFDeEJELGVBQXVCLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLFFBQVEsQ0FBQztRQUM3RCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQ0FBa0MsRUFBRSxRQUFRLENBQUM7O0lBR2pFOzs7S0FHRyxHQUNILFNBQVMsQ0FBQyxNQUFjO1FBQ3RCQSxlQUF1QixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDOztBQUV0RDtNQ25FWSxjQUFjO0lBTXpCLFlBQVksSUFBVTtRQUpkLElBQWEsaUJBQW1CLEVBQUU7UUFDbEMsSUFBcUIseUJBQUcsS0FBSztRQW9FckM7Ozs7U0FJRyxHQUNILElBQU8sV0FBRztZQUNSLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNsRCxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUU7WUFDdkIsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEtBQUs7UUFDcEMsQ0FBQztRQXpFQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUk7UUFDaEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFDLElBQUksQ0FBQyxLQUFLLEVBQUU7O0lBR2QsS0FBSztRQUNILElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFO1lBQzlCOztRQUdGLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJO1FBRWpDLElBQUksVUFBVSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFDbEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQ3JCLHFSQUFhLENBQUM7Z0JBQUMsVUFBVztnQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWU7YUFBQyxDQUFDLENBQUMsU0FBUyxDQUNoRSxDQUFDLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDYjs7Z0JBRUYsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FDekIsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLFFBQVEsS0FBSyxRQUFRLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxhQUFhLENBQzNEO2dCQUNELElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ1gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7O2FBRWxCLENBQ0YsQ0FDRjs7O0lBSUw7Ozs7Ozs7S0FPRyxHQUNILFdBQVc7UUFDVCxJQUFJLGFBQWEsRUFBRSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQ2IseUtBQXlLLENBQzFLOztRQUVILE9BQU8scUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7O0lBR2hEOzs7Ozs7S0FNRyxHQUNILE1BQU0sQ0FBQyxRQUFnQjtRQUNyQixJQUFJLGFBQWEsRUFBRSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQ2IseUtBQXlLLENBQzFLOztRQUVILElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7SUFjaEM7Ozs7O0tBS0csR0FDSCxTQUFTLENBQUMsTUFBYztRQUN0QixJQUFJLGFBQWEsRUFBRSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQ2IseUtBQXlLLENBQzFLOztRQUVILElBQUksTUFBTSxLQUFLLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxJQUFHLENBQUMsQ0FBQyxDQUFFO1lBQ3hDLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUM7O1FBRW5ELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQzs7SUFHOUI7Ozs7Ozs7S0FPRyxHQUNILG9CQUFvQixDQUFDLFNBQWlCLEVBQUUsTUFBMEI7UUFDaEUsSUFBSSxhQUFhLEVBQUUsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUNiLHlLQUF5SyxDQUMxSzs7UUFFSCxJQUFJLE1BQU0sS0FBSyxNQUFNLEdBQUcsQ0FBQyxJQUFJLE1BQU0sSUFBRyxDQUFDLENBQUMsQ0FBRTtZQUN4QyxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDOztRQUVqRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUU7WUFBRSxXQUFXLEVBQUUsTUFBTTtRQUFBLENBQUUsQ0FBQzs7QUFFeEU7QUNpQ0Q7O0NBRUcsU0FDVSxJQUFJO0lBMEhmOzs7Ozs7S0FNRyxHQUNILFdBQVksR0FDVixJQUFJLEVBQ0osRUFBRSxFQUNGLFlBQVksRUFDWixPQUFPLEVBQ1AsZUFBZSxFQUNmLGtCQUFrQixFQUNsQixXQUFXLEVBQ1gsT0FBTyxHQUFHLEtBQUssRUFDZixRQUFRLEdBQUcsS0FBSyxFQUNBO1FBM0hsQjs7U0FFRyxHQUNNLFVBQUssR0FBRyxJQUFJLFNBQVMsRUFBRTtRQXlDaEM7O1NBRUcsR0FDTSx1QkFBa0IsR0FBRyxJQUFJLGtCQUFrQixFQUFFO1FBQzdDLFdBQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFHbEM7OztTQUdHLEdBQ2MsZUFBVSxHQUFHLElBQUksVUFBVSxFQUFFO1FBSXRDLElBQTBCLDhCQUFXLElBQUk7UUFRekMsSUFBWSxnQkFBRyxDQUFDO1FBR1AsNEJBQXVCLEdBQUcsTUFBTSxDQUFDLHlCQUF5QixDQUFDO1FBQ3BFLElBQWlCLHFCQUFHLENBQUM7UUFDckIsc0JBQWlCLEdBQUcsMEJBQTBCLENBQUMsV0FBVztRQUMxRCxJQUFlLG1CQUFHLEVBQUU7UUFDcEIsSUFBNEIsZ0NBQVcsQ0FBQztRQUN4QyxJQUEyQiwrQkFBVyxDQUFDO1FBQ3ZDLElBQW9CLHdCQUFXLENBQUM7OztRQUloQyxJQUFpQixxQkFBZ0IsRUFBRTtRQUVuQyxJQUFhLGlCQUFHLEtBQUs7UUFDckIsSUFBeUIsNkJBQUcsS0FBSztRQUdqQyxJQUFXLGVBQUcsS0FBSztRQUNWLDRCQUF1QixHQUFHLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQztRQUU1RTs7OztTQUlHLEdBQ2MsbUJBQWMsR0FBa0IsSUFBSSxHQUFHLEVBQUU7UUFHbEQsOEJBQXlCLEdBQUcsSUFBSSxHQUFHLEVBQXdCO1FBRW5FOztTQUVHLEdBQ0ssSUFBa0Isc0JBQUcsSUFBSSxHQUFHLENBQW1CO1lBQ3JELGdCQUFnQixDQUFDLHNCQUFzQjtTQUN4QyxDQUFDO1FBa0RGOzs7O1NBSUcsR0FDSCxJQUFLLFNBQUc7WUFDTixNQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtnQkFDckQsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUV0QixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FDckIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLOztvQkFFbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDO2lCQUNsQyxDQUFDLENBQ0g7Z0JBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQ3JCLElBQUksQ0FBQyxFQUFFLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxLQUFLO29CQUNwQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsS0FBSyxDQUFDLGNBQWM7aUJBQ2xELENBQUMsQ0FDSDtnQkFFRCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUNyRSxJQUFJLENBQUMsZUFBZSxFQUFFO2dCQUN0QixJQUFJLENBQUMseUJBQXlCLEVBQUU7Z0JBRWhDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFO2dCQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRTtnQkFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFO2dCQUVwQixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxJQUFJLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7O2dCQUcvQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUk7WUFDekIsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQUVPLElBQWUsbUJBQUc7WUFDeEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHO1lBRXJCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUTtnQkFDaEQsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDZixJQUFJLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQzthQUNsRCxDQUFDLENBQ0g7WUFFRCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUc7WUFFckIsMkJBQTJCLENBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQzNCLElBQUksQ0FBQyw0QkFBNEIsQ0FDbEMsQ0FDRjtZQUVELElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRztZQUVyQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxPQUFPLGNBQWM7Z0JBQ2xFLElBQUksQ0FBQyxjQUFjLElBQUksY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ3BELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhO2dCQUN4QyxJQUFJLGFBQWEsSUFBSSxjQUFjLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxFQUFFO29CQUMzRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSx1Q0FBdUMsQ0FBQztvQkFDNUQsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDO3dCQUFFLE9BQU8sRUFBRSxjQUFjO29CQUFBLENBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7d0JBQ3RELElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLHdDQUF3QyxFQUFFLEdBQUcsQ0FBQztvQkFDckUsQ0FBQyxDQUFDOzthQUVMLENBQUMsQ0FDSDtZQUVELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTs7Z0JBRWhCLElBQUksQ0FBQyxpQkFBaUIsRUFBRTttQkFDbkI7OztnQkFHTCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUc7Z0JBRXJCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxTQUFTO29CQUNoRCxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNoQixJQUFJLENBQUMsaUJBQWlCLEVBQUU7aUJBQ3pCLENBQUMsQ0FDSDs7WUFHSCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUc7WUFFckIsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPO2dCQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFFbkIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsRUFBRTtnQkFDckQsSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFFakIsTUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ2hFLE1BQU0sY0FBYyxHQUFHLE9BQU8sQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUVoRSxJQUFJLGNBQWMsSUFBSSxjQUFjLEVBQUU7b0JBQ3BDLElBQUksQ0FBQyxjQUFjLEVBQUU7O2dCQUd2QixNQUFNLG1CQUFtQixHQUN2QixjQUFjLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLE9BQU87Z0JBRXBFLElBQ0UsQ0FBQyxtQkFBbUIsSUFBSSxlQUFjLElBQ3RDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxFQUN6QztvQkFDQSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDO3dCQUNqQixJQUFJLENBQUMsTUFBTSxDQUNULE9BQU8sRUFDUCxnRUFBZ0UsQ0FDakU7b0JBQ0gsQ0FBQyxDQUFDOzthQUVMLENBQUMsQ0FDSDtRQUNILENBQUM7UUFFTyxJQUFpQixxQkFBRztZQUMxQixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU87WUFDdEMsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUN0RCxNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsUUFBUTtZQUN0QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQzlDLE1BQU0sV0FBVyxHQUFHLFdBQVcsRUFBRSxXQUFXO1lBQzVDLE1BQU0sV0FBVyxHQUFHLFdBQVcsRUFBRSxXQUFXO1lBQzVDLElBQUksYUFBYSxHQUFHLEtBQUs7WUFDekIsSUFBSSxRQUFRLEVBQUU7O2dCQUVaLGFBQWEsR0FBRyxJQUFJO21CQUNmLElBQUksYUFBYSxJQUFJLFdBQVcsRUFBRTtnQkFDdkMsSUFBSSxXQUFXLENBQUMsYUFBYSxDQUFDLEVBQUU7O29CQUU5QixhQUFhLEdBQUcsSUFBSTs7bUJBRWpCLElBQUksV0FBVyxJQUFJLFdBQVcsRUFBRTtnQkFDckMsSUFBSSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUU7O29CQUU1QixhQUFhLEdBQUcsSUFBSTs7bUJBRWpCLElBQUksV0FBVyxJQUFJLFdBQVcsRUFBRTtnQkFDckMsSUFBSSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUU7O29CQUU1QixhQUFhLEdBQUcsSUFBSTs7O1lBR3hCLElBQUksYUFBYSxFQUFFO2dCQUNqQixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxJQUFJLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7O21CQUUxQztnQkFDTCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxJQUFJLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUM7O2dCQUVsRCxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDLElBQUksQ0FBQyxDQUFDOztRQUVuRSxDQUFDO1FBRU8saUNBQTRCLEdBQUcsT0FDckMsZUFBZ0M7O1lBR2hDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDO1lBRXZELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFOztZQUdyQixNQUFNLHFCQUFxQixHQUFHO2dCQUM1QixDQUFDLGFBQWEsQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLEtBQUs7Z0JBQzNDLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUMsS0FBSztnQkFDM0MsQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQyxZQUFZO2FBQ3BEO1lBQ0QsS0FBSyxNQUFNLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQ2xELHFCQUFxQixDQUN0QixDQUFFO2dCQUNELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxhQUFhLENBQ3pELFVBQTJCLENBQzVCO2dCQUNELElBQUksYUFBYSxFQUFFO2dCQUNuQixJQUFJO29CQUNGLE9BQVEsU0FBUzt3QkFDZixLQUFLLFNBQVMsQ0FBQyxLQUFLOzRCQUNsQixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUU7NEJBQzVEO3dCQUNGLEtBQUssU0FBUyxDQUFDLEtBQUs7NEJBQ2xCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTs0QkFDcEQ7d0JBQ0YsS0FBSyxTQUFTLENBQUMsWUFBWTs0QkFDekIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFOzRCQUM5RDs7a0JBRUosT0FBTyxHQUFHLEVBQUU7b0JBQ1osSUFBSSxDQUFDLE1BQU0sQ0FDVCxPQUFPLEVBQ1AsQ0FBZ0UsaUVBQ2hFLEdBQUcsQ0FDSjs7O1FBR1AsQ0FBQztRQUVEOzs7Ozs7O1NBT0csR0FDSCxPQUFFLEdBQUcsQ0FDSCxTQUFZLEVBQ1osRUFBd0I7WUFFeEIsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ3pCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQzs7WUFHMUMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztnQkFDbkQsTUFBTSxLQUFLLEdBQUcsQ0FBb0I7Z0JBQ2xDLElBQUksS0FBSyxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUU7b0JBQ2pELEVBQUUsQ0FBQyxLQUF5QixDQUFDOztZQUVqQyxDQUFDLENBQUM7O1lBR0YsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDO1lBQ2xELE9BQU87Z0JBQ0wsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDO1lBQ3pCLENBQUM7UUFDSCxDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCxRQUFHLEdBQUcsQ0FDSixTQUFZLEVBQ1osRUFBd0I7WUFFeEIsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ3pCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQzs7O1lBSTNDLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDbkUsSUFBSSxvQkFBb0IsRUFBRTtnQkFDeEIsb0JBQW9CLEVBQUU7O1FBRTFCLENBQUM7UUFFRDs7U0FFRyxHQUNILFVBQUssR0FBRyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEtBQXVCLEVBQUU7WUFDL0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFO2dCQUNqRCxNQUFNLElBQUksS0FBSyxDQUFDLCtDQUErQyxDQUFDOztZQUdsRSxNQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtnQkFDckQsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZO2dCQUU1QyxJQUFJLFlBQVksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFO29CQUN0Qzs7Z0JBR0YsSUFBSSxZQUFZLEtBQUssWUFBWSxDQUFDLE9BQU8sRUFBRTtvQkFDekMsTUFBTSxtQkFBbUIsR0FBRzt3QkFDMUIsT0FBTyxJQUFJLE9BQU8sQ0FBTyxDQUFDLE9BQU87NEJBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsY0FDUixJQUFJLENBQUMsaVJBQVMsQ0FBQyxDQUFDLEtBQUssR0FBSyxLQUFLLEtBQUssWUFBWSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFDOUQsU0FBUyxDQUFDLElBQU0sT0FBTyxFQUFFLENBQUM7d0JBQy9CLENBQUMsQ0FBQztvQkFDSixDQUFDO29CQUNELE1BQU0sbUJBQW1CLEVBQUU7O2dCQUc3QixJQUFJLFlBQVksS0FBSyxZQUFZLENBQUMsT0FBTyxJQUFJLE1BQU0sS0FBSyxLQUFLLEVBQUU7b0JBQzdELElBQUksTUFBTSxFQUFFO3dCQUNWLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksU0FBUyxDQUFDOzJCQUNqQzs7O3dCQUdMLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQzt3QkFDckUsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7NEJBQy9DLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7Ozs7Z0JBS2pDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFO2dCQUMxQixJQUFJLENBQUMsYUFBYSxHQUFHLFNBQVM7Z0JBRTlCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUU7Z0JBQzlCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLEVBQUU7Z0JBQzdCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTO2dCQUVqQyxJQUFJLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRTtnQkFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTO2dCQUUzQixJQUFJLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRTtnQkFDekIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTO2dCQUUxQixNQUFNLElBQUksQ0FBQyxTQUFTLEVBQUUsYUFBYSxDQUNqQyxPQUFPLElBQUksTUFBTSxJQUFJLDBCQUEwQixDQUNoRDtnQkFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVM7Z0JBQzFCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDO2dCQUM3QyxNQUFNLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUU7Z0JBRXJDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7Z0JBQzdDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUU7O2dCQUdwQixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksR0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDN0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLO2dCQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUs7Z0JBQzFCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTO2dCQUNqQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQztnQkFFckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFO2dCQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRTtnQkFDMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxLQUFLO2dCQUV0QyxNQUFNLG1CQUFtQixHQUFvQixFQUFFO2dCQUMvQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFO29CQUMzQixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7O2dCQUVyRCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFO29CQUMvQixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7O2dCQUV6RCxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFO29CQUNoQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7O2dCQUUxRCxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7WUFDeEMsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQXVCRDs7O1NBR0csR0FDSCwyQkFBc0IsR0FBRyxPQUFPLEtBQW9CO1lBQ2xELE1BQU0sSUFBSSxDQUFDLEtBQUssRUFBRTs7OztZQUlsQixNQUFNLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUFJO1lBQzNDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQzNFLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQzttQkFDL0I7Z0JBQ0wsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7b0JBQUMsT0FBTzt1QkFBSyxLQUFLLENBQUMsT0FBTztpQkFBQyxDQUFDOzs7WUFHcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQzdDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSTtZQUNwQixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7OztZQUc5QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDO1lBQ3RFLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO2dCQUFDLElBQUk7bUJBQUssS0FBSzthQUFDLENBQUM7WUFDM0MsTUFBTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztRQUMvQyxDQUFDO1FBRUQ7Ozs7OztTQU1HLEdBQ0gsUUFBRyxHQUFHLE9BQU8sTUFJWjtZQUNDLE1BQU0sSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNsQixNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUMxQyxJQUFJLENBQUMsb0JBQW9CLEVBQ3pCLE1BQU0sQ0FDUDtZQUVELElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztZQUNoRCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDO1lBRXhELElBQUksTUFBTSxFQUFFLElBQUksRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOztZQUdoQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJO2dCQUNwQixJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7O1lBR3JDLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztZQUUzRCxPQUFPLFFBQVE7UUFDakIsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxnQkFBVyxHQUFHLE9BQU8sSUFBNkI7WUFDaEQsTUFBTSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2xCLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBRzNDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUM7WUFFbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQ2hELElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7WUFDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7WUFFeEQsSUFBSSxJQUFJLEVBQUUsSUFBSSxFQUFFO2dCQUNkLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7WUFHaEMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSTtnQkFDcEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDOztZQUdyQyxNQUFNLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUM7WUFFM0QsT0FBTyxRQUFRO1FBQ2pCLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsV0FBTSxHQUFHLE9BQU8sSUFBNkI7WUFDM0MsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztRQUMvQixDQUFDO1FBRUQ7O1NBRUcsR0FDSCxXQUFNLEdBQUcsT0FDUCxJQUEwQixLQUFFO1lBRTVCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixTQUFTLEVBQ3JDLElBQUksQ0FDTDtRQUNILENBQUM7UUFFRDs7O1NBR0csR0FDSCxJQUFJLFFBQUc7WUFDTCxPQUFPLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFBRSxJQUFJLEVBQUUsSUFBSTtZQUFBLENBQUUsQ0FBQztRQUN2QyxDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsSUFBTSxVQUFHO1lBQ1AsT0FBTyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUM7Z0JBQUUsTUFBTSxFQUFFLElBQUk7WUFBQSxDQUFFLENBQUM7UUFDekMsQ0FBQztRQUVEOzs7Ozs7U0FNRyxHQUNILElBQU0sVUFBRztZQUNQLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDLG9CQUFvQixDQUFTLFNBQ3RDO1FBQ0gsQ0FBQztRQUVEOzs7Ozs7OztTQVFHLEdBQ0gsV0FBTSxHQUFHLE9BQ1AsTUFBdUIsWUFBUztZQUVoQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsU0FBUyxFQUNyQztnQkFBRSxNQUFNLEVBQUUsTUFBTTtZQUFBLENBQUUsQ0FDbkI7UUFDSCxDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILFNBQUksR0FBRyxPQUFPLEVBQ1osY0FBYyxHQUFHLENBQUMsRUFDbEIsR0FBRyxJQUFJLEVBR0wsS0FBRTtZQUNKLE1BQU0sSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNsQixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVk7WUFFNUMsSUFBSTtnQkFBQyxZQUFZLENBQUMsTUFBTTtnQkFBRSxZQUFZLENBQUMsT0FBTzthQUFDLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFO2dCQUN0RSxNQUFNLElBQUksS0FBSyxDQUFDLHNEQUFzRCxDQUFDOztZQUd6RSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDOzs7O1lBS2hELE1BQU0sZUFBZSxHQUFHLElBQUksR0FBRyxFQUFrQjtZQUNqRCxNQUFNLFFBQVEsR0FBaUIsSUFBSTtZQUNuQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1lBQzVDLElBQUssSUFBSSxPQUFPLEdBQUcsQ0FBQyxFQUFFLE9BQU8sR0FBRyxjQUFjLEVBQUUsT0FBTyxFQUFFLENBQUU7Z0JBQ3pELElBQUk7b0JBQ0YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLE9BQU8sR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUM7b0JBQzNELE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7b0JBQ3ZCLE9BQU8sUUFBUSxDQUFDLGNBQWM7b0JBQzlCO2tCQUNBLE9BQU8sR0FBRyxFQUFFO29CQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLHdCQUF3QixPQUFPLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDO29CQUNqRSxJQUFJLEdBQUcsWUFBWSxpQkFBaUIsSUFBSSxHQUFHLENBQUMsYUFBYSxFQUFFOzs7O3dCQUl6RCxNQUFNLEdBQUc7O29CQUdYLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLFNBQVMsSUFBSSxFQUFFO29CQUN0RCxNQUFNLFFBQVEsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUksQ0FBQyxHQUFJLENBQUM7b0JBQ3RELGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQztvQkFDcEMsSUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO3dCQUNqQixRQUFRLENBQUMsY0FBYyxHQUFHLEtBQUs7O29CQUdqQyxJQUFJLE9BQU8sS0FBSyxjQUFjLEdBQUcsQ0FBQyxFQUFFOzt3QkFFbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDO3dCQUN4QyxNQUFNLEdBQUc7OztnQkFJYixNQUFNLEtBQUssQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7O1FBRXZDLENBQUM7UUFFRDs7Ozs7U0FLRyxHQUNLLFdBQU0sR0FBRyxPQUFPLElBQW1CO1lBQ3pDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNuQyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVk7WUFFNUMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJO1lBRXhCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLG9CQUFvQixDQUFDO1lBQzFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUM7WUFFaEQsTUFBTSxtQkFBbUIsR0FDdkIsSUFBSSxDQUFDLGlCQUFpQixLQUFLLDBCQUEwQixDQUFDLE9BQU87WUFDL0QsTUFBTSxnQkFBZ0IsR0FDcEIsSUFBSSxDQUFDLGlCQUFpQixLQUFLLDBCQUEwQixDQUFDLE1BQU07WUFDOUQsTUFBTSx1QkFBdUIsR0FDM0IsSUFBSSxDQUFDLGlCQUFpQixLQUFLLDBCQUEwQixDQUFDLElBQUk7WUFFNUQsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLE9BQU87WUFDakQsSUFDRSxDQUFDLElBQUksQ0FBQyxXQUFXLElBQ2pCLENBQUMsWUFBWSxJQUNiLGdCQUFnQixJQUNoQixtQkFBbUIsRUFDbkI7Z0JBQ0EsSUFBSTtvQkFDRixNQUFNLFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO29CQUNuRCxJQUFJLENBQUMsV0FBVyxHQUFHLFlBQVksQ0FBQyxXQUFXO29CQUMzQyxZQUFZLEdBQUcsWUFBWSxDQUFDLGFBQWE7a0JBQ3pDLE9BQU8sS0FBSyxFQUFFOztvQkFFZCxNQUFNLGlCQUFpQixHQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxZQUFZLENBQUMsT0FBTztvQkFFbEQsSUFBSSxDQUFDLGlCQUFpQixFQUFFOzt3QkFFdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDOztvQkFFMUMsTUFBTSxLQUFLOzs7WUFJZixNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxTQUFTO1lBQ3hDLE1BQU0saUJBQWlCLEdBQUcsaUJBQWlCLEVBQUUsU0FBUztZQUN0RCxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsU0FBUztZQUNsRCxNQUFNLFNBQVMsR0FDYixnQkFBZ0IsSUFBSSxtQkFBbUIsSUFBSSxDQUFDLGNBQ3hDLElBQUksZUFBZSxDQUFDO2dCQUNsQixHQUFHLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDaEMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNiLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtnQkFDM0IsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO2dCQUM3QixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7Z0JBQy9CLGFBQWEsRUFBRSxZQUFZLENBQUMsZ0JBQWdCOzs7Z0JBRzVDLFNBQVMsRUFBRSxnQkFBZ0IsR0FBRyxTQUFTLEdBQUcsaUJBQWlCO2dCQUMzRCxhQUFhLEVBQUUsQ0FBQyxNQUFNLEdBQ3BCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO2FBQy9DLElBQ0QsaUJBQWlCO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUztZQUMxQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztZQUU3QyxNQUFNLGFBQWEsR0FBRyxNQUFNLGdCQUFnQixFQUFFOztZQUU5QyxJQUFJLGlCQUFpQixLQUFLLFNBQVMsRUFBRTs7OztnQkFJbkMsTUFBTSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUM7b0JBQ3RELGFBQWEsQ0FBQyxVQUFVLENBQUM7b0JBQ3pCLGFBQWEsQ0FBQyxVQUFVLENBQUM7aUJBQzFCLENBQUM7Z0JBQ0YsTUFBTSxjQUFjLEdBQ2xCLElBQUksQ0FBQyxpQkFBaUIsS0FBSywwQkFBMEIsQ0FBQyxXQUFXO2dCQUNuRSxNQUFNLGdCQUFnQixHQUFHLGlCQUNyQixJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLGNBQWMsRUFBRSxpQkFBaUIsSUFDaEUsU0FBUztnQkFDYixNQUFNLHVCQUF1QixHQUFHLENBQUMsaUJBQzdCLElBQUksQ0FBQywwQkFBMEIsS0FDL0IsSUFBSSxDQUFDLHFCQUFxQixJQUFJLEVBQUU7Z0JBQ3BDLE1BQU0seUJBQXlCLEdBQUcsQ0FBQyxpQkFDL0IsSUFBSSxDQUFDLDRCQUE0QixLQUNqQyxFQUFFO2dCQUVOLElBQUk7b0JBQ0YsTUFBTSxFQUFFLFNBQVMsRUFBRSw0QkFBNEIsRUFBRSxjQUFjLEVBQUUsR0FDL0QsTUFBTSxTQUFTLENBQUMsSUFBSSxDQUFDO3dCQUNuQixhQUFhO3dCQUNiLFlBQVk7d0JBQ1osYUFBYTt3QkFDYixhQUFhLEVBQUUsdUJBQXVCO3dCQUN0QyxnQkFBZ0I7d0JBQ2hCLHVCQUF1Qjt3QkFDdkIseUJBQXlCO3dCQUN6QixZQUFZLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7b0JBQ2xELEVBQUM7b0JBRUosSUFBSSxDQUFDLHFCQUFxQixHQUFHLGNBQWM7b0JBQzNDLElBQUksQ0FBQyw0QkFBNEIsR0FBRyw0QkFBNEI7b0JBQ2hFLElBQUksU0FBUyxFQUFFO3dCQUNiLElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQy9CLFNBQVMsRUFDVCxTQUFTLENBQUMsU0FBUyxFQUNuQixnQkFBZ0IsQ0FDakI7O2tCQUVILE9BQU8sS0FBSyxFQUFFO29CQUNkLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLHlCQUF5QixFQUFFLEtBQUssQ0FBQztvQkFDckQsU0FBUyxDQUFDLEtBQUssQ0FDYixlQUFlLENBQUMsV0FBVyxFQUMzQixzREFBc0QsQ0FDdkQ7O29CQUVELElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQztvQkFDeEMsTUFBTSxLQUFLOzs7WUFJZixJQUFJLENBQUMsbUJBQW1CLEVBQUU7O2dCQUV4QixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDOztZQUVqRCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUk7OztZQUl6QixJQUFJLHVCQUF1QixFQUFFOzs7Z0JBRzNCLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUU7b0JBQUUsaUJBQWlCLEVBQUUsS0FBSztnQkFBQSxDQUFFLENBQUM7bUJBQ3pEO2dCQUNMLE1BQU0sZ0JBQWdCLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUM7Z0JBQ3pFLElBQUksQ0FBQywwQkFBMEIsQ0FBQztvQkFDOUIsU0FBUztvQkFDVCxnQkFBZ0I7b0JBQ2hCLGFBQWE7b0JBQ2IsWUFBWTtvQkFDWixjQUFjLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixJQUFJLEVBQUU7b0JBQ2hELHNCQUFzQixFQUFFLENBQUMsbUJBQW1CO2dCQUM3QyxFQUFDOzs7WUFJSixJQUFJLENBQUMsZ0JBQWdCLElBQUksQ0FBQyx1QkFBdUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFO2dCQUN6RSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsa0JBQWtCLENBQ3ZDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLGlCQUFnQixHQUFJLElBQUksQ0FDdkM7O1lBR0gsSUFBSSxnQkFBZ0IsSUFBSSxXQUFXLEVBQUU7Z0JBQ25DLE1BQU0sUUFBUSxHQUFHLDBCQUEwQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztnQkFDbkUsTUFBTSxpQkFBaUIsRUFBRSxhQUFhLENBQ3BDLHNEQUFzRCxRQUFRLEVBQUUsQ0FDakU7bUJBQ0ksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDdkIsaUJBQWlCLEVBQUUsS0FBSyxDQUN0QixlQUFlLENBQUMsa0JBQWtCLEVBQ2xDLHNDQUFzQyxDQUN2Qzs7OztZQUtILElBQUksQ0FBQyxJQUFJLENBQUMseUJBQXlCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7Z0JBQzFELE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQztnQkFDdkQsSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUk7Ozs7OztZQU92QyxPQUFPLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSTtZQUM5QixPQUFPLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTTs7WUFFaEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLDBCQUEwQixDQUFDLFdBQVc7WUFDL0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFO1lBRXpCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQWUsa0JBQUksQ0FBQyxHQUFHLENBQUUsRUFBQztRQUNoRCxDQUFDO1FBRUQ7OztTQUdHLEdBQ0ssd0JBQW1CLEdBQUcsQ0FDNUIsa0JBQXNDLEVBQ3RDLGlCQUFxQztZQUVyQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsaUJBQWlCO1lBQ3ZDLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxLQUFLLDBCQUEwQixDQUFDLE1BQU07WUFDdkUsTUFBTSxlQUFlLEdBQ25CLElBQUksQ0FBQyxTQUFTLEVBQUUsOEJBQThCLEVBQUUsSUFBSSxFQUFFO1lBQ3hELE9BQU87Z0JBQ0wsUUFBUTtnQkFDUixlQUFlO2dCQUNmLGFBQWEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCO2dCQUN2RCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO2dCQUN4QyxTQUFTLEVBQUUsa0JBQWtCLElBQUksRUFBRTtnQkFDbkMsaUJBQWlCLEVBQUUsZ0JBQWdCLEdBQUcsaUJBQWlCLElBQUksRUFBRSxHQUFHLEVBQUU7Z0JBQ2xFLE1BQU0sRUFBRSxJQUFJLENBQUMsZUFBZTthQUM3QjtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0ssSUFBMEIsOEJBQUc7WUFDbkMsTUFBTSxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsa0JBQWtCLEVBQUUsR0FDdEUsSUFBSSxDQUFDLG9CQUFvQixJQUFJLEVBQUU7WUFDakMsSUFBSSxDQUFDLGNBQWMsSUFBSSxDQUFDLGdCQUFnQixJQUFJLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxFQUFFO1lBRTFFLE1BQU0sS0FBSyxHQUFHLGlCQUNWLEtBQUssQ0FBQyxNQUFNLENBQUM7Z0JBQUUsSUFBSSxFQUFFLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFO2dCQUFFLElBQUksRUFBRSxRQUFRO1lBQUEsQ0FBRSxJQUN0RSxTQUFTO1lBRWIsTUFBTSx1QkFBdUIsR0FBRztnQkFDOUIsYUFBYSxDQUFDLE1BQU0sQ0FBQztvQkFDbkIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxLQUFLO29CQUMxQixLQUFLO29CQUNMLE9BQU8sRUFBRSxnQkFBZ0I7b0JBQ3pCLGdCQUFnQixFQUFFLGtCQUFrQjtpQkFDckMsQ0FBQzthQUNIO1lBRUQsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRTtZQUMxRCxJQUFJLG1CQUFtQixFQUFFO2dCQUN2Qix1QkFBdUIsQ0FBQyxJQUFJLENBQzFCLGFBQWEsQ0FBQyxNQUFNLENBQUM7b0JBQ25CLFNBQVMsRUFBRSxTQUFTLENBQUMsWUFBWTtvQkFDakMsR0FBRyxFQUFFLG1CQUFtQixDQUFDLFlBQVk7b0JBQ3JDLE9BQU8sRUFBRSxtQkFBbUIsQ0FBQyxVQUFVO2dCQUN4QyxFQUFDLENBQ0g7O1lBR0gsT0FBTyx1QkFBdUI7UUFDaEMsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSyxJQUE0QixnQ0FBRztZQUNyQyxNQUFNLEVBQUUsZUFBZSxFQUFFLGtCQUFrQixFQUFFLEdBQzNDLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxFQUFFO1lBQ2pDLElBQUksQ0FBQyxlQUFlLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLEVBQUU7WUFDdEQsT0FBTztnQkFDTCxlQUFlLENBQUMsTUFBTSxDQUFDO29CQUNyQixTQUFTLEVBQUUsU0FBUyxDQUFDLEtBQUs7b0JBQzFCLE1BQU0sRUFBRTt3QkFDTjs0QkFBRSxJQUFJLEVBQUUsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUU7NEJBQUUsSUFBSSxFQUFFLGtCQUFrQjt3QkFBQSxDQUFFO3FCQUNyRTtpQkFDRixDQUFDO2FBQ0g7UUFDSCxDQUFDO1FBRUQ7Ozs7Ozs7OztTQVNHLEdBQ0ssSUFBVSxjQUFHLE9BQ25CLGFBQThCLEVBQzlCLElBQW9FLEtBQUU7WUFFdEUsTUFBTSxFQUFFLGlCQUFpQixHQUFHLElBQUksRUFBRSxnQkFBZ0IsR0FBRyxJQUFJLEVBQUUsR0FBRyxJQUFJO1lBQ2xFLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDO2dCQUMzQyxJQUFJLGlCQUFpQixFQUFFO29CQUNyQixNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFOzs7WUFHdEMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNsQixJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUM7Z0JBQzFDLElBQUksZ0JBQWdCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsRUFBRTtvQkFDckQsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRTs7O1FBR3ZDLENBQUM7UUFFRDs7O1NBR0csR0FDSywrQkFBMEIsR0FBRyxDQUFDLElBT3JDO1lBQ0MsTUFBTSxFQUNKLFNBQVMsRUFDVCxnQkFBZ0IsRUFDaEIsYUFBYSxFQUNiLFlBQVksRUFDWixjQUFjLEVBQ2Qsc0JBQXNCLEVBQ3ZCLEdBQUcsSUFBSTtZQUNSLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLEVBQUUsR0FBRyxZQUFZO1lBQ3hELElBQUksc0JBQXNCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDN0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUU7O1lBRTNCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUM7Z0JBQy9CLFNBQVM7Z0JBQ1QsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVO2dCQUMzQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7Z0JBQ2pCLGdCQUFnQjtnQkFDaEIsR0FBRyxFQUFFLFNBQVMsQ0FBQyxHQUFHO2dCQUNsQixhQUFhO2dCQUNiLG9CQUFvQixFQUFFLENBQUMsSUFBSSxFQUFFLE1BQU07b0JBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7d0JBQ3JDLE1BQU0sT0FBTyxHQUFHLENBQTRELGlFQUFNLEVBQUU7d0JBQ3BGLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUM7b0JBQ25DLENBQUMsQ0FBQztpQkFDSDtZQUNGLEVBQUM7OztZQUlGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksS0FBSyxXQUFXO1lBQ2hFLElBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQ2hCLElBQUksc0JBQXNCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtvQkFDNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUU7O2dCQUUxQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDO29CQUM3QixTQUFTO29CQUNULFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtvQkFDM0IsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO29CQUNqQixnQkFBZ0I7b0JBQ2hCLGNBQWM7b0JBQ2QsR0FBRyxFQUFFLFNBQVMsQ0FBQyxHQUFHO29CQUNsQixhQUFhO29CQUNiLG9CQUFvQixFQUFFLENBQUMsSUFBSSxFQUFFLE1BQU07d0JBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7NEJBQ3JDLE1BQU0sT0FBTyxHQUFHLENBQTJELGdFQUFNLEVBQUU7NEJBQ25GLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUM7d0JBQ25DLENBQUMsQ0FBQztxQkFDSDtnQkFDRixFQUFDOztZQUdKLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFO1lBQzFCLElBQUksSUFBSSxDQUFDLDBCQUEwQixHQUFHLENBQUMsRUFBRTtnQkFDdkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxtQkFBbUIsQ0FBQztvQkFDdkMsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVO29CQUMzQixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7b0JBQ3pCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztvQkFDakIsVUFBVSxFQUFFLFNBQVMsQ0FBQyxRQUFRO29CQUM5QixtQkFBbUIsRUFBRSxJQUFJLENBQUMsMEJBQTBCO2dCQUNyRCxFQUFDOztZQUdKLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztZQUNyQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFO1lBQzdCLElBQUksWUFBWSxFQUFFLHFCQUFxQixHQUFHLENBQUMsRUFBRTtnQkFDM0MsSUFBSSxDQUFDLGdCQUFnQixLQUFyQixJQUFJLENBQUMsZ0JBQWdCLEdBQUssU0FBUyxDQUFDLFVBQVU7Z0JBQzlDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLGdCQUFnQixDQUFDLFNBQVMsRUFBRTtvQkFDdEQsYUFBYTtvQkFDYixPQUFPLEVBQUUsWUFBWTtvQkFDckIsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVO29CQUMzQixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7b0JBQ3pCLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtvQkFDM0IsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO29CQUNuQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtvQkFDbkIsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjtnQkFDeEMsRUFBQztnQkFDRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFOztRQUVqQyxDQUFDO1FBRUQ7Ozs7OztTQU1HLEdBQ0gsa0JBQWEsR0FBRyxPQUFPLElBQW1CO1lBQ3hDLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUU7WUFDMUQsTUFBTSxPQUFPLEdBQW9CO2dCQUFFLEdBQUcsSUFBSTtnQkFBRSxRQUFRO1lBQUEsQ0FBRTtZQUN0RCxNQUFNLFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUcvQyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsT0FBTyxFQUFFLE9BQU8sQ0FBQztZQUMvQyxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7WUFDcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQztZQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQztZQUU1RCxJQUFJLElBQUksRUFBRSxJQUFJLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOztZQUdoQyxNQUFNLGNBQWMsR0FDbEIsSUFBSSxDQUFDLGlCQUFpQixLQUFLLDBCQUEwQixDQUFDLFdBQVc7WUFFbkUsSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTs7Z0JBRTFELE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTs7WUFHckIsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSTtnQkFDcEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDOztZQUdyQyxPQUFPLFlBQVk7UUFDckIsQ0FBQztRQUVEOzs7Ozs7U0FNRyxHQUNLLHlCQUFvQixHQUFHLENBQzdCLFNBQTBCLEVBQzFCLE1BQWM7WUFFZCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSwwQ0FBMEMsQ0FBQztZQUNoRSxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUs7WUFDbkM7O1lBR0UsWUFBWSxLQUFLLFlBQVksQ0FBQyxPQUFPOztZQUdyQyxZQUFZLEtBQUssWUFBWSxDQUFDLFlBQVk7O1lBRzFDLFlBQVksS0FBSyxZQUFZLENBQUMsSUFBSSxJQUNsQyxZQUFZLEtBQUssWUFBWSxDQUFDLElBQUksRUFFbEM7O1lBRUYsSUFBSSxTQUFTLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxjQUFjLEVBQUU7WUFFckQsTUFBTSxRQUFRLEdBQ1osSUFBSSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLFNBQVMsS0FDckQsMEJBQTBCLENBQUMsT0FDM0IsMEJBQTBCLENBQUMsTUFBTTtZQUN2QyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO2dCQUN6QyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxnQ0FBZ0MsRUFBRSxHQUFHLENBQUM7WUFDNUQsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQUVEOzs7Ozs7O1NBT0csR0FDSyxjQUFTLEdBQUcsT0FDbEIsUUFBb0MsRUFDcEMsTUFBYztZQUVkLElBQ0UsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLFlBQVksSUFDckQsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLFNBQVMsSUFDbEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLG1CQUFtQixFQUU1RDtZQUVGLE9BQU8sa0JBQWtCLENBQUMsSUFBSSxDQUFDLHVCQUF1QixFQUFFO2dCQUN0RCxNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxRQUFRO2dCQUNqQyxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU07Z0JBRTdCLE1BQU0sd0JBQXdCLEdBQUc7b0JBQy9CLElBQUk7Ozt3QkFHRixNQUFNLElBQUksQ0FBQyxHQUFHLEVBQUU7NkJBQ1I7d0JBQ1IsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDOztnQkFFaEUsQ0FBQztnQkFFRCxJQUFJLE9BQU8sR0FBRyxDQUFDO2dCQUNmLEdBQUc7b0JBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsa0JBQWtCO29CQUN4RCxNQUFNLHdCQUF3QixHQUM1QixJQUFJLENBQUMsMkJBQTJCLEdBQUcsQ0FBQyxJQUNwQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLDJCQUEyQjtvQkFFNUQsSUFBSSx3QkFBd0IsRUFBRTt3QkFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FDVCxNQUFNLEVBQ04saUZBQWlGLENBQ2xGO3dCQUNELE1BQU0sd0JBQXdCLEVBQUU7d0JBQ2hDOzs7b0JBSUYsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssMEJBQTBCLENBQUMsSUFBSSxFQUFFO3dCQUM5RCxJQUFJLENBQUMsaUJBQWlCLEVBQUU7O29CQUUxQixNQUFNLGVBQWUsR0FDbkIsMEJBQTBCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO29CQUNwRCxJQUFJOzt3QkFFRixNQUFNLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxPQUFPO3dCQUV4QyxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTixDQUEwQyxtRUFBMEIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUMvRjt3QkFFRCxPQUFRLElBQUksQ0FBQyxpQkFBaUI7NEJBQzVCLEtBQUssMEJBQTBCLENBQUMsV0FBVzs0QkFDM0MsS0FBSywwQkFBMEIsQ0FBQyxVQUFVO2dDQUN4QyxJQUFJLENBQUMsTUFBTSxDQUNULE9BQU8sRUFDUCxDQUE4Qiw0Q0FBZSxDQUFFLEVBQ2hEO2dDQUNEOzRCQUNGLEtBQUssMEJBQTBCLENBQUMsSUFBSTtnQ0FDbEMsTUFBTSxJQUFJLENBQUMsYUFBYSxFQUFFO2dDQUMxQjs0QkFDRixLQUFLLDBCQUEwQixDQUFDLE1BQU07Z0NBQ3BDLE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRTtnQ0FDNUI7NEJBQ0YsS0FBSywwQkFBMEIsQ0FBQyxPQUFPO2dDQUNyQyxNQUFNLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQ0FDN0I7NEJBQ0Y7Z0NBQ0UsZUFBZSxDQUNiLElBQUksQ0FBQyxpQkFBaUIsRUFDdEIsK0JBQStCLENBQ2hDO2dDQUNEOzt3QkFFSixNQUFNO3NCQUNOLE9BQU8sS0FBSyxFQUFFO3dCQUNkLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssWUFBWSxDQUFDLE9BQU8sRUFBRTs0QkFDcEQsSUFBSSxDQUFDLE1BQU0sQ0FDVCxPQUFPLEVBQ1AsMkVBQTJFLENBQzVFOzRCQUNEOzs7O3dCQUlGLElBQUksS0FBSyxZQUFZLGlCQUFpQixJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUU7NEJBQzdELElBQUksQ0FBQyxNQUFNLENBQ1QsTUFBTSxFQUNOLENBQW9FLHFFQUNwRSxLQUFLLENBQ047NEJBQ0QsTUFBTSx3QkFBd0IsRUFBRTs0QkFDaEM7O3dCQUdGLE1BQU0sS0FBSyxDQUFDLEdBQUcsQ0FBQzt3QkFFaEIsTUFBTSxZQUFZLEdBQ2hCLElBQUksQ0FBQyxpQkFBaUIsS0FBSywwQkFBMEIsQ0FBQyxPQUFPO3dCQUMvRCxNQUFNLGlCQUFpQixHQUNyQixDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxtQkFBa0IsR0FBSSxJQUFJLEdBQ3hDLElBQUksQ0FBQyw0QkFBNEI7Ozs7d0JBS25DLE1BQU0sWUFBWSxHQUNoQixpQkFBaUI7d0JBQ2pCLFlBQVk7d0JBQ1osT0FBTyxJQUFJLENBQUM7d0JBQ1osRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEtBQUksQ0FBQzt3QkFDdEMsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxJQUFJLEtBQUksQ0FBQyxDQUFDO3dCQUUxQyxPQUFPLEVBQUU7d0JBRVQsTUFBTSxZQUFZLEdBQUcsZUFDakIsMEJBQTBCLENBQUMsU0FDM0IsMEJBQTBCLENBQUMsSUFBSTt3QkFDbkMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFlBQVk7d0JBRXJDLElBQUksQ0FBQyxNQUFNLENBQ1QsTUFBTSxFQUNOLENBQWUsNkJBQWUsS0FBSyxJQUFJLENBQUMsaUJBQWlCLENBQTZCLHNEQUEwQixDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQ2hJLEtBQUssQ0FDTjs7aUJBRUosT0FDQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxZQUFZLENBQUMsTUFBTSxJQUMvQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxZQUFZLENBQUMsbUJBQW1CLElBQzVELElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxJQUFJO2dCQUUvQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSx3Q0FBd0MsQ0FBQztZQUMvRCxDQUFDLENBQUM7UUFDSixDQUFDO1FBRUQ7OztTQUdHLEdBQ0ssSUFBYSxpQkFBRztZQUN0QixNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDckMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLDBCQUEwQixDQUFDLElBQUk7WUFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQztZQUNyRCxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNwQyxNQUFNLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsb0JBQW9CLENBQ3pDLDBCQUEwQixDQUFDLElBQUksRUFDL0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsbUJBQWtCLEdBQUksSUFBSSxDQUN6QztRQUNILENBQUM7UUFFRDs7O1NBR0csR0FDSyxJQUFlLG1CQUFHO1lBQ3hCLE1BQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNyQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsMEJBQTBCLENBQUMsTUFBTTtZQUMxRCxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDO1lBQ3JELE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ3BDLE1BQU0sSUFBSSxDQUFDLHNCQUFzQixFQUFFO1lBQ25DLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtZQUM5QixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsb0JBQW9CLENBQ3pDLDBCQUEwQixDQUFDLE1BQU0sRUFDakMsSUFBSyxFQUFDLEdBQUcsRUFBRSxHQUFHLG1CQUFrQixHQUFJLElBQUksQ0FDekM7UUFDSCxDQUFDO1FBRUQ7OztTQUdHLEdBQ0ssSUFBZ0Isb0JBQUc7WUFDekIsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ3JDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFNBQVM7WUFDdkMsSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUNyQixNQUFNLElBQUksS0FBSyxDQUFDLDZDQUE2QyxDQUFDOztZQUdoRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsMEJBQTBCLENBQUMsT0FBTztZQUMzRCxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDO1lBQ2xELE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLFVBQVU7WUFDekMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsU0FBUztZQUV2QyxpQkFBaUIsRUFBRSxtQkFBbUIsRUFBRTtZQUN4QyxnQkFBZ0IsRUFBRSxtQkFBbUIsRUFBRTtZQUV2QyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFeEUsSUFBSTtnQkFDRixNQUFNLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxRQUFRO2dCQUM1QyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUM7b0JBQUUsR0FBRyxJQUFJLENBQUMsWUFBWTtvQkFBRSxjQUFjLEVBQUUsVUFBVTtnQkFBQSxDQUFFLENBQUM7cUJBQy9EOzs7Z0JBR1IsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLGNBQWM7O1lBRzFDLE1BQU0sSUFBSSxDQUFDLHNCQUFzQixFQUFFO1lBQ25DLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtZQUU5QixJQUFJOzs7O2dCQUlGLE1BQU0sYUFBYSxFQUFFOzs7O2dCQUtyQixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDO3FCQUN2QztnQkFDUixpQkFBaUIsRUFBRSxPQUFPLEVBQUU7Z0JBQzVCLGdCQUFnQixFQUFFLE9BQU8sRUFBRTs7Z0JBRzNCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsY0FBYyxFQUFFLGdCQUFnQixDQUFDOztZQUUxRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsb0JBQW9CLENBQ3pDLDBCQUEwQixDQUFDLE9BQU8sRUFDbEMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsbUJBQWtCLEdBQUksSUFBSSxDQUN6QztRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0ssSUFBeUIsNkJBQUc7O1lBRWxDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQyxTQUFTLENBQUMsMEJBQTBCLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FDaEUsQ0FBQyxHQUFHLEdBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsZ0NBQWdDLEVBQUUsR0FBRyxDQUFDLENBQ3BFO1lBQ0gsQ0FBQyxDQUFDOztZQUdGLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO2dCQUMzQyxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUM7Z0JBQ2hELElBQUksUUFBUSxLQUFLLDBCQUEwQixDQUFDLFdBQVcsRUFBRTtnQkFDekQsSUFBSSxRQUFRLEtBQUssMEJBQTBCLENBQUMsVUFBVSxFQUFFO29CQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDO3dCQUFFLE9BQU8sRUFBRSw4QkFBOEI7b0JBQUEsQ0FBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRzt3QkFDaEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBMkMsNENBQUUsR0FBRyxDQUFDO29CQUN2RSxDQUFDLENBQUM7dUJBQ0c7b0JBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sSUFBSSxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO3dCQUNoRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxnQ0FBZ0MsRUFBRSxHQUFHLENBQUM7b0JBQzVELENBQUMsQ0FBQzs7WUFFTixDQUFDLENBQUM7WUFFRixNQUFNLHdCQUF3QixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUNuRCxpQkFBaUIsRUFDakIsQ0FBQyxDQUFDO2dCQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztnQkFDdkMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsMkJBQTJCLENBQUM7b0JBQ2pELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO29CQUN6QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTs7b0JBRXRDLE1BQU0sb0JBQW9CLEdBQUcsb0JBQW9CLEVBQUU7b0JBQ25ELG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7d0JBQ2hDLElBQUksUUFBUSxHQUFHLDBCQUEwQixDQUFDLElBQUk7d0JBQzlDLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFOzRCQUM3QixNQUFNLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsd0JBQXdCLElBQUk7NEJBQy9ELElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyw0QkFBNEIsRUFBRTs7O2dDQUcvQyxRQUFRLEdBQUcsMEJBQTBCLENBQUMsTUFBTTs7O3dCQUloRCxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxjQUFjLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHOzRCQUNqRCxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTixtREFBbUQsRUFDbkQsR0FBRyxDQUNKO3dCQUNILENBQUMsQ0FBQztvQkFDSixDQUFDLENBQUM7b0JBQ0YsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQjtvQkFDaEQsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksRUFBRTtvQkFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQzt1QkFDM0M7b0JBQ0wsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsMEJBQTBCLENBQUM7b0JBQ2hELElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUNuQixlQUFlLENBQUMsa0JBQWtCLEVBQ2xDLDRDQUE0QyxDQUM3Qzs7b0JBRUQsSUFBSSxDQUFDLG9CQUFvQixFQUFFLE9BQU8sRUFBRTtvQkFDcEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFNBQVM7b0JBQ3JDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUU7O1lBRWxDLENBQUMsQ0FDRjtZQUVELElBQUksQ0FBQyxlQUNGLEdBQUcsQ0FBQyxnQkFBZ0IsRUFDcEIsR0FBRyxDQUFDLGlCQUFpQixFQUNyQixHQUFHLENBQUMsd0JBQXdCLENBQUM7UUFDbEMsQ0FBQztRQUVEOzs7U0FHRyxHQUNLLElBQXNCLDBCQUFHOzs7WUFHL0IsS0FBSyxNQUFNLFNBQVMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUU7Z0JBQzlDLElBQUksV0FBb0M7Z0JBQ3hDLE9BQVEsU0FBUztvQkFDZixLQUFLLFNBQVMsQ0FBQyxLQUFLO3dCQUNsQixXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVzt3QkFDL0M7b0JBQ0YsS0FBSyxTQUFTLENBQUMsS0FBSzt3QkFDbEIsV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVc7d0JBQzNDO29CQUNGLEtBQUssU0FBUyxDQUFDLFlBQVk7d0JBQ3pCLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxXQUFXO3dCQUNoRDs7b0JBRUYsS0FBSyxTQUFTLENBQUMsa0JBQWtCO29CQUNqQyxLQUFLLFNBQVMsQ0FBQyxXQUFXO3dCQUN4QjtvQkFDRjt3QkFDRSxlQUFlLENBQUMsU0FBUyxFQUFFLG9CQUFvQixDQUFDO3dCQUNoRDs7Z0JBR0osSUFBSSxXQUFXLEVBQUUsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUM7O1FBRS9ELENBQUM7UUFFRDs7O1NBR0csR0FDSyxJQUF1QiwyQkFBRztZQUNoQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSztZQUN6QyxJQUFJLGtCQUFrQixDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixDQUFDLFNBQVMsQ0FBQztRQUMxRCxDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsdUJBQWtCLEdBQUcsT0FBTyxXQUF3QjtZQUNsRCxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDbEQsQ0FBQztRQUVEOzs7U0FHRyxHQUNILHVCQUFrQixHQUFHLE9BQU8sV0FBd0I7WUFDbEQsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQ2xELENBQUM7UUFFRDs7O1NBR0csR0FDSCw2QkFBd0IsR0FBRyxPQUFPLGlCQUE4QjtZQUM5RCxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsU0FBUyxDQUFDLFlBQVksQ0FBQztRQUMvRCxDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCxZQUFPLEdBQUcsT0FBTyxXQUF3QixFQUFFLFNBQW9CO1lBQzdELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLENBQUM7O1lBRTVELE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRO1lBRTdCLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNsRCxNQUFNLElBQUksS0FBSyxDQUFDLENBQTRCLG9DQUFTLENBQUMsU0FBUyxDQUFDLENBQUUsRUFBQzs7WUFHckUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQztZQUVwRSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsU0FBUyxJQUN0QyxXQUFXLENBQUMsY0FBYyxLQUMxQixXQUFXLENBQUMsY0FBYyxFQUFFO1lBRWhDLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ1YsTUFBTSxJQUFJLEtBQUssQ0FDYixDQUFlLHVCQUFTLENBQUMsU0FBUyxDQUFDLENBQXNCLHNCQUMxRDs7WUFHSCxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssT0FBTyxFQUFFO2dCQUNoQyxNQUFNLElBQUksS0FBSyxDQUFDLDZCQUE2QixDQUFDOztZQUdoRCxlQUFlLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQztZQUNsRCxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUM7WUFFOUMsTUFBTSxVQUFVLEdBQUc7Z0JBQUMsU0FBUzthQUFDO1lBQzlCLElBQUksU0FBUyxLQUFLLFNBQVMsQ0FBQyxZQUFZLEVBQUU7Z0JBQ3hDLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxXQUFXLENBQUMsY0FBYyxFQUFFO2dCQUNqRCxJQUFJLFVBQVUsRUFBRTtvQkFDZCxlQUFlLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDckUsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLGtCQUFrQixDQUFDO29CQUN0RSxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQzs7O1lBSWpELElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7OztnQkFHMUIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLFdBQVcsQ0FBQyxJQUFJLENBQUM7O1lBRzFDLE1BQU0sSUFBSSxDQUFDLHNCQUFzQixDQUFDLFdBQVcsRUFBRSxHQUFHLFVBQVUsQ0FBQztRQUMvRCxDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILGdCQUFXLEdBQUcsT0FBTyxHQUFHLFVBQXVCO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN4QyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFVBQVUsQ0FBQztZQUN4QyxNQUFNLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLEVBQUUsR0FBRyxVQUFVLENBQUM7UUFDN0QsQ0FBQztRQUVEOzs7Ozs7U0FNRyxHQUNLLElBQXNCLDBCQUFHLE9BQy9CLFdBQW9DLEVBQ3BDLEdBQUcsVUFBdUI7WUFFMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRTtZQUNsRCxNQUFNLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLFVBQVUsQ0FBQztZQUU1RCxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVM7WUFDcEMsS0FBSyxNQUFNLFNBQVMsSUFBSSxVQUFVLENBQUU7Z0JBQ2xDLE1BQU0sZUFBZSxHQUFHLCtCQUErQixDQUFDLFNBQVMsQ0FBQztnQkFDbEUsSUFBSSxDQUFDLGVBQWUsRUFBRTtnQkFFdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLElBQU07d0JBQzlDLGVBQWUsRUFBRSxjQUNiLGVBQWUsQ0FBQyxDQUFDOytCQUFHLENBQUMsQ0FBQyxlQUFlO3lCQUFDLEVBQUUsU0FBUyxJQUNqRCxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLEtBQUssU0FBUyxDQUFDO3dCQUNwRCxDQUFDLGVBQWUsR0FBRyxXQUFXO29CQUMvQixHQUFDLENBQUM7O1FBRVAsQ0FBQztRQUVEOzs7OztTQUtHLEdBQ0gseUJBQW9CLEdBQUcsQ0FBQyxPQUE2QjtZQUNuRCxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTiw4RkFBOEYsR0FDNUYsa0dBQWtHLENBQ3JHO1lBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxZQUFZLENBQUMsTUFBTSxFQUFFO2dCQUNuRCxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTix5RUFBeUUsQ0FDMUU7O1lBRUgsSUFBSSxDQUFDLG9CQUFvQixHQUFHO2dCQUFFLEdBQUcsSUFBSSxDQUFDLG9CQUFvQjtnQkFBRSxHQUFHLE9BQU87WUFBQSxDQUFFO1FBQzFFLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsSUFBK0IsbUNBQUc7WUFDaEMsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLHNCQUFzQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDeEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsOENBQThDLEVBQUUsR0FBRyxDQUFDO1lBQzFFLENBQUMsQ0FBQztRQUNKLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsSUFBOEIsa0NBQUc7WUFDL0IsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLHFCQUFxQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDdkQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsNkNBQTZDLEVBQUUsR0FBRyxDQUFDO1lBQ3pFLENBQUMsQ0FBQztRQUNKLENBQUM7UUFFRDs7O1NBR0csR0FDSCxJQUFvQix3QkFBRyxPQUFPLEtBQWMsRUFBRSxHQUFHLFVBQXVCO1lBQ3RFLE1BQU0sR0FBRyxHQUFHLENBQWEsZ0JBQUksQ0FBQyxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUMzRCxNQUFNLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtnQkFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ3JCLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FDbkMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsSUFBTTt3QkFBRSxTQUFTO3dCQUFFLEtBQUs7b0JBQUEsRUFBRSxDQUFDLENBQUMsQ0FDdEQ7WUFDSCxDQUFDLENBQUM7UUFDSixDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCwyQkFBc0IsR0FBRyxDQUFDLFNBQWlCO1lBQ3pDLE9BQU8sSUFBSSxDQUFDLGFBQWEsRUFBRSxzQkFBc0IsQ0FBQyxTQUFTLENBQUM7UUFDOUQsQ0FBQztRQUVEOzs7OztTQUtHLEdBQ0gsMEJBQXFCLEdBQUcsQ0FBQyxTQUFpQjtZQUN4QyxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUUscUJBQXFCLENBQUMsU0FBUyxDQUFDO1FBQzdELENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsa0NBQTZCLEdBQUcsQ0FBQyxZQUFvQjtZQUNuRCxJQUFJLENBQUMsMEJBQTBCLEdBQUcsWUFBWTtRQUNoRCxDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILGtCQUFhLEdBQUcsQ0FBQyxTQUFpQjtZQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRTtnQkFDdEMsUUFBUSxFQUFFLFNBQVM7WUFDcEIsRUFBQztRQUNKLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsMEJBQXFCLEdBQXVDLENBQUMsUUFBUTtZQUNuRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUFDO1FBQ25ELENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsaUJBQVksR0FBRyxPQUNiLFFBQTZCO1lBRTdCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixXQUFXLEVBQ3ZDLFFBQVEsQ0FDVDtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsY0FBUyxHQUFHLE9BQU8sTUFBYztZQUMvQixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsUUFBUSxFQUNwQztnQkFDRSxPQUFPLEVBQUUsTUFBTTtZQUNoQixFQUNGO1FBQ0gsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxnQkFBVyxHQUFHLE9BQU8sTUFBYztZQUNqQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsVUFBVSxFQUN0QztnQkFDRSxPQUFPLEVBQUUsTUFBTTtZQUNoQixFQUNGO1FBQ0gsQ0FBQztRQUVEOzs7U0FHRyxHQUNILGFBQVEsR0FBRyxPQUFPLElBQXFCO1lBQ3JDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixPQUFPLEVBQ25DLElBQUksQ0FDTDtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsYUFBUSxHQUFHLENBQUMsSUFBbUI7WUFDN0IsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGFBQWE7WUFDbkMsSUFBSSxRQUFRLEVBQUU7Z0JBQ1osT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUM7O1FBRXhDLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsZUFBVSxHQUFHLENBQUMsSUFBbUI7WUFDL0IsTUFBTSxTQUFTLEdBQUcsbUJBQW1CLENBQUMsSUFBSSxDQUFDO1lBQzNDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDaEIsTUFBTSxhQUFhLEdBQWEsRUFBRTtZQUNsQyxLQUFLLE1BQU0sV0FBVyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUU7Z0JBQ3ZELElBQUksV0FBVyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUU7b0JBQ25ELGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQzs7O1lBSTFDLElBQUksYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQzVCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDOztRQUU3QyxDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCxhQUFRLEdBQUcsQ0FBQyxNQUF5QixFQUFFLElBQW1CO1lBQ3hELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixhQUFhLEVBQ3pDO2dCQUNFLFFBQVEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sR0FBRztvQkFBQyxNQUFNO2lCQUFDO2dCQUNuRCxDQUFDLElBQUksR0FBRyxJQUFJO1lBQ2IsRUFDRjtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsaUJBQVksR0FBRyxDQUFDLElBQW1CO1lBQ2pDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixhQUFhLEVBQ3pDO2dCQUNFLGNBQWMsRUFBRSxJQUFJO2dCQUNwQixDQUFDLElBQUksR0FBRyxJQUFJO1lBQ2IsRUFDRjtRQUNILENBQUM7UUFFRDs7U0FFRyxHQUNILG1CQUFjLEdBQUcsT0FBTyxPQUErQjtZQUNyRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQyxvQkFBb0Isa0JBQWtCLEVBQUUsT0FBTyxHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDM0UsQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBYSxpQkFBRztZQUNkLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixpQkFBaUIsRUFDN0MsRUFBRSxDQUNIO1FBQ0gsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCx1QkFBa0IsR0FBRyxPQUNuQixPQUFtQztZQUVuQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQyxvQkFBb0Isc0JBQXNCLEVBQUUsT0FBTyxDQUFDO1FBQ2hFLENBQUM7UUFFRDs7U0FFRyxHQUNILElBQWlCLHFCQUFHO1lBQ2xCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDLG9CQUFvQixDQUFxQixxQkFDbEQ7UUFDSCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCx3QkFBbUIsR0FBRyxPQUNwQixPQUFvQztZQUVwQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMzQyxJQUFJO2dCQUNGLE9BQU8sTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FHakMsQ0FBRyxNQUFJLENBQUMsb0JBQW9CLHdCQUF3QixFQUFFLE9BQU8sQ0FBQztjQUNoRSxPQUFPLEdBQUcsRUFBRTtnQkFDWixHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ2YsTUFBTSxHQUFHOztRQUViLENBQUM7UUFFRDs7U0FFRyxHQUNILHVCQUFrQixHQUFHLE9BQ25CLE9BQW1DO1lBRW5DLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVDLElBQUk7Z0JBQ0YsT0FBTyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUdqQyxDQUFHLE1BQUksQ0FBQyxvQkFBb0IsdUJBQXVCLEVBQUUsT0FBTyxDQUFDO2NBQy9ELE9BQU8sR0FBRyxFQUFFO2dCQUNaLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDZixNQUFNLEdBQUc7O1FBRWIsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxnQ0FBMkIsR0FBRyxDQUFDLE1BQXVDO1lBQ3BFLElBQUksQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsTUFBTSxDQUFDO1FBQ2hELENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsdUJBQWtCLEdBQUcsT0FDbkIsSUFBOEI7WUFFOUIsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLElBQUk7WUFDNUIsTUFBTSxxQkFBcUIsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxHQUN6RCxJQUFJLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLFVBQTJCLENBQUMsQ0FDaEU7WUFDRCxJQUFJLENBQUMscUJBQXFCLEVBQUU7Z0JBQzFCLE1BQU0sSUFBSSxLQUFLLENBQ2IsK0NBQStDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUUsRUFDeEU7O1lBRUgsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FHM0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLHFCQUFxQixFQUFFLElBQUksQ0FBQztRQUM1RCxDQUFDO1FBRUQ7Ozs7Ozs7Ozs7O1NBV0csR0FDSCxxQkFBZ0IsR0FBRyxPQUFPLE1BQWMsRUFBRSxXQUFxQjtZQUM3RCxPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztnQkFDaEMsT0FBTyxFQUFFLE1BQU07Z0JBQ2YsaUJBQWlCLEVBQUUsV0FBVztZQUMvQixFQUFDO1FBQ0osQ0FBQztRQUVEOzs7Ozs7Ozs7OztTQVdHLEdBQ0gsc0JBQWlCLEdBQUcsT0FBTyxNQUFjLEVBQUUsV0FBcUI7WUFDOUQsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUM7Z0JBQ2hDLE9BQU8sRUFBRSxNQUFNO2dCQUNmLGtCQUFrQixFQUFFLFdBQVc7WUFDaEMsRUFBQztRQUNKLENBQUM7UUFFRDs7Ozs7Ozs7O1NBU0csR0FDSCwwQkFBcUIsR0FBRyxPQUFPLElBQWtDO1lBQy9ELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBRzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixtQkFBbUIsRUFBRSxJQUFJLENBQUM7UUFDMUQsQ0FBQztRQUVEOzs7OztTQUtHLEdBQ0gsSUFBTSxVQUFHLE9BQU8sT0FBc0IsRUFBRSxFQUFFLE1BQTZCO1lBQ3JFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDLG9CQUFvQixVQUFVLEVBQ3RDLElBQUksRUFDSixNQUFNLENBQ1A7UUFDSCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCxhQUFRLEdBQUcsT0FBTyxJQUF3QixLQUFFO1lBQzFDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixZQUFZLEVBQ3hDLElBQUksQ0FDTDtRQUNILENBQUM7UUFFRDs7U0FFRyxHQUNILElBQVEsWUFBRztZQUNULE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixxQkFBcUIsRUFDakQsRUFBRSxDQUNIO1FBQ0gsQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBTyxXQUFHO1lBQ1IsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLG9CQUFvQixFQUNoRCxFQUFFLENBQ0g7UUFDSCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCx3QkFBbUIsR0FBRyxPQUNwQixJQUFnQztZQUVoQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQyxvQkFBb0Isa0JBQWtCLEVBQUUsSUFBSSxDQUFDO1FBQ3pELENBQUM7UUFFRDs7U0FFRyxHQUNILElBQXFCLHlCQUFHO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDLG9CQUFvQixDQUF1Qix1QkFDcEQ7UUFDSCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCxzQkFBaUIsR0FBRyxPQUNsQixJQUFZO1lBRVosT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLG9CQUFvQixJQUFJLE9BQU8sQ0FDNUQ7UUFDSCxDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsd0JBQW1CLEdBQUcsT0FDcEIsSUFBZ0M7WUFFaEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FHM0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLHdCQUF3QixFQUFFLElBQUksQ0FBQztRQUMvRCxDQUFDO1FBRUQ7O1NBRUcsR0FDSCxJQUFrQixzQkFBRztZQUNuQixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUMzQixDQUFHLE1BQUksQ0FBQyxvQkFBb0IsQ0FBdUIsdUJBQ3BEO1FBQ0gsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxXQUFNLEdBQUcsT0FBTyxPQUEwQjtZQUN4QyxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUc1QyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLE9BQU8sQ0FBQztZQUUxQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLFFBQVE7WUFDcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUM7WUFDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDO1lBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUM7WUFFL0MsT0FBTyxRQUFRO1FBQ2pCLENBQUM7UUFFRDs7U0FFRyxHQUNILElBQU8sV0FBRztZQUNSLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDLG9CQUFvQixDQUFhLGFBQzFDO1FBQ0gsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxRQUFHLEdBQUcsQ0FBQyxTQUFpQjtZQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRTtnQkFDdEMsR0FBRyxFQUFFO29CQUNILFVBQVUsRUFBRSxJQUFJO29CQUNoQixRQUFRLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDckI7WUFDRixFQUFDO1FBQ0osQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxVQUFLLEdBQUcsQ0FBQyxTQUFpQjtZQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRTtnQkFDdEMsR0FBRyxFQUFFLFNBQVM7WUFDZixFQUFDO1FBQ0osQ0FBQztRQUVEOzs7Ozs7U0FNRyxHQUNILG1CQUFjLEdBQUcsT0FBTyxPQUFtQjtZQUN6QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsTUFBTSxFQUNsQyxPQUFPLENBQ1I7UUFDSCxDQUFDO1FBRUQ7Ozs7OztTQU1HLEdBQ0gscUJBQWdCLEdBQUcsT0FBTyxPQUFxQjtZQUM3QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsUUFBUSxFQUNwQyxPQUFPLENBQ1I7UUFDSCxDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILGlCQUFZLEdBQUcsQ0FBQyxPQUFzRDtZQUNwRSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUczQixlQUFlLEVBQUU7Z0JBQ2pCLEdBQUksT0FBTyxJQUFJLEVBQUUsQ0FBQztnQkFDbEIsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNYLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtZQUNoQixFQUFDO1FBQ0osQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxzQkFBaUIsR0FBRyxPQUNsQixJQUE4QjtZQUU5QixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsVUFBVSxFQUFFLElBQUksQ0FBQztRQUNqRCxDQUFDO1FBRUQ7OztTQUdHLEdBQ0ssSUFBZ0Isb0JBQUc7WUFDekIsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUVyQixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7WUFDcEMsSUFBSSxDQUFDLFFBQVEsRUFBRTs7WUFFZixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxPQUFPLEVBQUU7WUFFdEQsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLGdCQUNyQixRQUFRLENBQUMsSUFBSSxDQUFDLHlCQUNkLFFBQVEsQ0FBQyxJQUFJLENBQUMsd0JBQXdCOztZQUcxQyxJQUFJLFdBQVcsSUFBSSxDQUFDLEVBQUU7WUFDdEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7OztnQkFHNUIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxZQUFZLENBQUMsT0FBTyxFQUFFO2dCQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDO29CQUNULE1BQU0sRUFBRSxJQUFJO29CQUNaLE1BQU0sRUFBRSxTQUFTO29CQUNqQixPQUFPLEVBQUUscUJBQXFCLElBQUksQ0FBQyxhQUFhLEdBQUcsaUJBQWlCLEdBQUcsZ0RBQWdELENBQUU7Z0JBQzFILEVBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO29CQUNYLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLHFCQUFxQixFQUFFLEdBQUcsQ0FBQztnQkFDbEQsQ0FBQyxDQUFDO2FBQ0gsRUFBRSxXQUFXLENBQUM7UUFDakIsQ0FBQztRQUVEOztTQUVHLEdBQ0ssSUFBYyxrQkFBRztZQUN2QixZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVM7UUFDOUIsQ0FBQztRQUVEOzs7Ozs7O1NBT0csR0FDSCxvQkFBZSxHQUFHLE9BQ2hCLGFBQXNCO1lBRXRCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxvQkFBb0I7WUFDeEMsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLFFBQVEsR0FBRyxDQUFHLFVBQVEsQ0FBSSxnQkFBYSxFQUFFOztZQUUzQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUMxQixDQUFHLFVBQVEsQ0FBYSxhQUN6QjtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsSUFBbUIsdUJBQUc7WUFDcEIsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FDMUIsQ0FBRyxNQUFJLENBQUMsb0JBQW9CLENBQWlCLGlCQUM5QztRQUNILENBQUM7UUFFRDs7Ozs7Ozs7U0FRRyxHQUNILGlCQUFZLEdBQUcsT0FBTyxhQUFxQjtZQUN6QyxNQUFNLFFBQVEsR0FBRyxDQUFHLE1BQUksQ0FBQyxvQkFBb0IsVUFBVSxhQUFhLEVBQUU7WUFDdEUsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBdUIsUUFBUSxDQUFDO1FBQzlELENBQUM7UUFFRDs7Ozs7OztTQU9HLEdBQ0gsa0JBQWEsR0FBRyxPQUFPLGFBQXdCLEtBQUU7WUFDL0MsTUFBTSxRQUFRLEdBQUcsR0FBRyxJQUFJLENBQUMsb0JBQW9CLFNBQVM7WUFDdEQsTUFBTSxNQUFNLEdBQUcsYUFBYSxLQUFLLEVBQUUsR0FBRztnQkFBRSxVQUFVLEVBQUUsYUFBYTtZQUFBLENBQUUsR0FBRyxFQUFFO1lBQ3hFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQXdCLFFBQVEsRUFBRSxNQUFNLENBQUM7UUFDdkUsQ0FBQztRQUVEOzs7Ozs7U0FNRyxHQUNILG1CQUFjLEdBQUcsT0FDZixNQUFjLEVBQ2QsRUFDRSxNQUFNLEVBQ04sTUFBTSxLQUNtRCxFQUFFO1lBRTdELE1BQU0sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEdBQUcsUUFBUSxFQUFFLEdBQUcsZUFBZSxDQUMxRCxNQUFNLGdCQUFnQixFQUFFLENBQ3pCO1lBQ0QsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FHM0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLFdBQVcsRUFBRTtnQkFDekMsTUFBTTtnQkFDTixNQUFNO2dCQUNOLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLFNBQVM7Z0JBQzFDLEdBQUcsRUFBRSxPQUFPO2dCQUNaLFdBQVcsRUFBRSxVQUFVO2dCQUN2QixNQUFNLEVBQUU7b0JBQ04sR0FBRyxNQUFNO29CQUNULHdCQUF3QixFQUFFLFFBQVE7Z0JBQ25DO1lBQ0YsRUFBQztRQUNKLENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsb0JBQWUsR0FBRyxPQUFPLE9BQStCO1lBQ3RELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixRQUFRLEVBQ3BDO2dCQUFFLE1BQU0sRUFBRSxPQUFPO1lBQUEsQ0FBRSxDQUNwQjtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsc0JBQWlCLEdBQUcsT0FDbEIsUUFBOEIsRUFDOUIsT0FBZ0I7WUFFaEIsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7Z0JBQ3pELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsQ0FBQztZQUNoRCxDQUFDLENBQUM7WUFDRixNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDN0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxDQUFDO1lBQzdDLENBQUMsQ0FBQztRQUNKLENBQUM7UUFFRDs7Ozs7OztTQU9HLEdBQ0gsSUFBc0IsMEJBQUcsQ0FDdkIsT0FBVSxFQUNWLFNBQWlCLEVBQ2pCLFNBQXlCO1lBRXpCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUNqRCxPQUFPLEVBQ1AsU0FBUyxFQUNULFNBQVMsQ0FDVjtRQUNILENBQUM7UUFFRDs7OztTQUlHLEdBQ0gsZ0JBQVcsR0FBRyxDQUF3QixPQUFVO1lBQzlDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUM7UUFDbkQsQ0FBQztRQUVEOzs7Ozs7Ozs7Ozs7OztTQWNHLEdBQ0gsSUFBZ0Isb0JBQUcsQ0FDakIsWUFBOEIsRUFDOUIsU0FBaUIsRUFDakIsU0FBeUI7WUFFekIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGdCQUFnQixDQUNuRCxZQUFZLEVBQ1osU0FBUyxFQUNULFNBQVMsQ0FDVjtZQUVELElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDL0IsT0FBTztnQkFDTCxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ2xDLE1BQU0sRUFBRTtZQUNWLENBQUM7UUFDSCxDQUFDO1FBRUQ7Ozs7Ozs7OztTQVNHLEdBQ0gsSUFBZ0Isb0JBQUcsQ0FDakIsWUFBOEIsRUFDOUIsU0FBaUIsRUFDakIsWUFBNEIsWUFBWTtZQUV4QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQ25ELFlBQVksRUFDWixTQUFTLEVBQ1QsU0FBUyxDQUNWO1lBRUQsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztZQUMvQixPQUFPO2dCQUNMLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDbEMsTUFBTSxFQUFFO1lBQ1YsQ0FBQztRQUNILENBQUM7UUFFRDs7Ozs7U0FLRyxHQUNILDZCQUF3QixHQUFHLENBQ3pCLFlBQThCLEVBQzlCLElBRUksS0FBRTtZQUVOLE1BQU0sV0FBVyxHQUFHO2dCQUNsQixZQUFZLENBQUMsR0FBRyxHQUNkLElBQUksQ0FBQyxtQkFBbUIsSUFDeEIsOENBQThDO1lBQ2xELENBQUM7WUFFRCxNQUFNLFdBQVcsR0FBRyxrQkFBa0IsQ0FDcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQ3RCLENBQUMsVUFBVTtnQkFDVCxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUNqQixZQUFZLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQztnQkFFbkQsTUFBTSxZQUFZLEdBQUcsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDbEQsWUFBWSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3BFLFlBQVksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUVyRSxZQUFZLENBQUMsR0FBRyxHQUFHLFlBQVksQ0FBQyxRQUFRLEVBQUU7WUFDNUMsQ0FBQyxDQUNGO1lBRUQsT0FBTztnQkFDTCxXQUFXLEVBQUU7Z0JBQ2IsWUFBWSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUM7WUFDeEQsQ0FBQztRQUNILENBQUM7UUFFRDs7Ozs7Ozs7O1NBU0csR0FDSCx3Q0FBbUMsR0FBRyxDQUNwQyxVQUFzQyxFQUN0QyxVQUFxQjtZQUVyQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0NBQWtDLENBQ3RELGFBQ0k7Z0JBQ0UsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsU0FBUyxFQUFFLFVBQVU7WUFDdEIsSUFDRCxTQUFTLEVBQ2IsVUFBVSxDQUNYO1lBQ0QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixFQUFFO1FBQ2pELENBQUM7UUFFRDs7O1NBR0csR0FDSCw0QkFBdUIsR0FBRyxDQUFDLE9BQWdCO1lBQ3pDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxrQ0FBa0MsQ0FDdEQsT0FBTyxHQUFHLFNBQVMsR0FBRztnQkFBRSxPQUFPLEVBQUUsS0FBSztZQUFBLENBQUUsQ0FDekM7WUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsdUJBQXVCLEVBQUU7UUFDakQsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCw0QkFBdUIsR0FBRyxDQUFDLGNBQXNCO1lBQy9DLElBQUksQ0FBQywyQkFBMkIsR0FBRyxjQUFjO1FBQ25ELENBQUM7UUFFRDs7U0FFRyxHQUNILDZCQUF3QixHQUFHLENBQUMsR0FBRyxZQUFnQztZQUM3RCxLQUFLLE1BQU0sVUFBVSxJQUFJLFlBQVksQ0FBRTtnQkFDckMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUM7O1FBRTNDLENBQUM7UUFFRDs7U0FFRyxHQUNILDhCQUF5QixHQUFHLENBQUMsR0FBRyxZQUFnQztZQUM5RCxLQUFLLE1BQU0sVUFBVSxJQUFJLFlBQVksQ0FBRTtnQkFDckMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7O1FBRTlDLENBQUM7UUExOEVDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSTtRQUNoQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUU7UUFDWixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFJLEtBQUUsRUFBRTtRQUMxQixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksbVJBQWUsQ0FBQyxPQUFPLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRO1FBQ3hCLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWTtRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVc7UUFDOUIsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFNBQVMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQzNELElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1lBQUMsTUFBTTtTQUFDLENBQUM7UUFFakMsTUFBTSxjQUFjLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDMUMsTUFBTSxpQkFBaUIsR0FDckIsa0JBQWtCLElBQUksY0FBYyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0I7UUFDakUsSUFBSSxpQkFBaUIsRUFBRTtZQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDOztRQUdyRCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUMsZUFBZSxJQUFJLEVBQUUsQ0FBQztRQUNwRCxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FDeEIsT0FBTyxHQUFHLFlBQVksQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FDbkQ7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQztRQUNyQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7UUFDL0MsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDOztJQTJWeEU7O0tBRUcsR0FDSCxJQUFJLE9BQU87UUFDVCxPQUFPLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDOztJQUc3Qzs7S0FFRyxHQUNILElBQUksYUFBYTtRQUNmLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsRUFBRTs7SUFHM0M7O0tBRUcsR0FDSCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLEVBQUUsS0FBSyxJQUFJLENBQUMsYUFBYTs7QUFta0V6RDtBQ3h2Rk0sTUFBTSxhQUFhLEdBQTJCO0lBQ25ELENBQUMsRUFBRSxHQUFHLHFCQUFxQjtJQUMzQixDQUFDLEVBQUUsZ0JBQWdCO0lBQ25CLENBQUMsRUFBRSwyQkFBMkI7SUFDOUIsQ0FBQyxFQUFFLFlBQVk7SUFDZixDQUFDLEVBQUUscUJBQXFCO0lBQ3hCLENBQUMsRUFBRSx3QkFBd0I7SUFDM0IsQ0FBQyxFQUFFLGdCQUFnQjtJQUNuQixFQUFFLEVBQUUsbUJBQW1CO0lBQ3ZCLEVBQUUsRUFBRSxpQkFBaUI7SUFDckIsRUFBRSxFQUFFLHdCQUF3QjtJQUM1QixFQUFFLEVBQUUsaUNBQWlDO0lBQ3JDLEVBQUUsRUFBRSxxQkFBcUI7SUFDekIsRUFBRSxFQUFFLDJCQUEyQjtJQUMvQixFQUFFLEVBQUUsb0JBQW9CO0lBQ3hCLEVBQUUsRUFBRSxxQkFBcUI7SUFDekIsRUFBRSxFQUFFLDRCQUE0QjtJQUNoQyxFQUFFLEVBQUUsdUJBQXVCO0lBQzNCLEVBQUUsRUFBRSwyQkFBMkI7SUFDL0IsRUFBRSxFQUFFLGtDQUFrQztJQUN0QyxFQUFFLEVBQUUsZ0NBQWdDO0lBQ3BDLEVBQUUsRUFBRSxtQ0FBbUM7SUFDdkMsRUFBRSxFQUFFLGdDQUFnQztJQUNwQyxFQUFFLEVBQUUsMkJBQTJCO0lBQy9CLEVBQUUsRUFBRSxlQUFlO0lBQ25CLEVBQUUsRUFBRSxnQkFBZ0I7SUFDcEIsRUFBRSxFQUFFLDRCQUE0QjtJQUNoQyxFQUFFLEVBQUUsdUJBQXVCO0lBQzNCLEVBQUUsRUFBRSw4QkFBOEI7SUFDbEMsRUFBRSxFQUFFLG1CQUFtQjtDQUN4QjtBQ1hEOzs7Ozs7Ozs7Ozs7Ozs7O0NBZ0JHLFNBQ1Usa0JBQWtCO0lBNEI3QixZQUFZLE1BQW9CO1FBeUJoQyxJQUFJLFFBQUcsQ0FBQyxHQUFXLEVBQUUsUUFBWSxFQUFFLEVBQUUsUUFBa0IsTUFBTTtZQUMzRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsY0FBYyxHQUFHLEVBQUUsRUFBRSxLQUFLLENBQUM7UUFDdkQsQ0FBQztRQUVELGNBQVMsR0FBRyxDQUFDLE1BQW9CO1lBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtRQUN0QixDQUFDO1FBcUdEOzs7O1NBSUcsR0FDSCxJQUFTLGFBQUc7WUFDVixNQUFNLE1BQU0sR0FBRyxJQUFJLGVBQWUsRUFBRTtZQUNwQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztZQUN0QyxNQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDekQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXpELE9BQU8sQ0FBRyxNQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBWSxpQkFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFO1FBQ2hFLENBQUM7UUE2TUQ7Ozs7O1NBS0csR0FDSCx3QkFBbUIsR0FBRyxDQUFDLEtBQVk7WUFDakMsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTs7Z0JBRTVCLElBQUksQ0FBQyxJQUFJLENBQUMsb0RBQW9ELENBQUM7O2dCQUUvRCxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7bUJBQ3ZCLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7Ozs7O2dCQUtsQyxJQUFJLENBQUMsSUFBSSxDQUNQLGlFQUFpRSxJQUFJLENBQUMsU0FBUyxDQUFFLEVBQ2xGO2dCQUNELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDO3dCQUFFLFFBQVEsRUFBRSxFQUFFO29CQUFBLENBQUUsQ0FBQzs7O1FBR3ZDLENBQUM7UUFFRCxXQUFNLEdBQUcsQ0FBQyxJQUFZO1lBQ3BCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7WUFFeEIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJO1lBQzdCLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ1QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQW1DLG1DQUFDO2dCQUNoRTs7WUFHRixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUNyQyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNWLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUEyQywyQ0FBQztnQkFDeEU7O1lBR0YsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDakMsS0FBSztnQkFDTCxZQUFZLEVBQUU7b0JBQ1osRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO29CQUNYLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtvQkFDZixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtnQkFDcEI7WUFDZSxFQUFDO1lBRW5CLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBbUMsNkNBQVcsQ0FBRSxHQUFFLEVBQUUsRUFBRSxPQUFPLENBQUM7WUFFeEUsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsNEJBQTRCLEVBQUU7Z0JBQUUsSUFBSTtZQUFBLENBQUUsQ0FBQztRQUNuRCxDQUFDO1FBRUQsY0FBUyxHQUFHLENBQUMsSUFBWSxFQUFFLEtBQW1CO1lBQzVDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7WUFFeEIsTUFBTSxJQUFJLEdBQ1IsT0FBTyxLQUFLLENBQUMsSUFBSSxLQUFLLFdBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksSUFDdEIsSUFBSTs7OztZQUtWLElBQ0UsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLElBQzlCLElBQUksSUFDSixJQUFJLENBQUMsSUFBSSxLQUFLLGtCQUFrQixFQUNoQztnQkFDQSxJQUFJLENBQUMsd0JBQXdCLEdBQUcsSUFBSTtnQkFDcEMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNkLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUNoRTs7OztZQUtKLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFFM0IsSUFDRSxJQUFJLEtBQ0gsSUFBSSxDQUFDLElBQUksS0FBSyxjQUFjLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxnQkFBZSxDQUFDLENBQy9EOztnQkFFQSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7O1lBR3pCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssZUFBZSxFQUFFO2dCQUN6QyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO2dCQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQzs7WUFHdkIsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxrQkFBa0IsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUMxRCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUs7Z0JBQzNCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSztnQkFDdEIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLO2dCQUN6QixJQUFJLENBQUMsbUJBQW1CLElBQUksQ0FBQztnQkFDN0IsSUFDRSxJQUFJLEtBQUssVUFBVSxDQUFDLGFBQWEsSUFDakMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsRUFDcEM7b0JBQ0EsWUFBWSxDQUFDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQztvQkFDNUMsSUFBSSxDQUFDLElBQUksQ0FDUCw0RkFBNEYsQ0FDN0Y7b0JBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQzt3QkFBRSxZQUFZLEVBQUUsSUFBSTtvQkFBQSxDQUFFLENBQUM7OztZQUkzQyxJQUFJLElBQUksRUFBRTtnQkFDUixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxFQUFFO2dCQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7O1lBRWpDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtRQUNoQyxDQUFDO1FBRUQsWUFBTyxHQUFHLENBQUMsSUFBWSxFQUFFLEtBQWlCO1lBQ3hDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7WUFFeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFO2dCQUFFLEtBQUs7Z0JBQUUsSUFBSTtZQUFBLENBQUUsQ0FBQztZQUUxRSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLGlCQUFpQixFQUFFOzs7Z0JBRy9DLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUNyQixDQUFtQyx1Q0FBSyxDQUFDLE1BQU0sQ0FBRSxFQUNsRDs7Z0JBR0QsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTTs7Z0JBRTNCLEtBQUssQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUk7O2dCQUV2QixLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFROztnQkFFL0IsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTTtnQkFFM0IsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztnQkFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQywrQ0FBK0MsS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFO29CQUN2RSxLQUFLO2dCQUNOLEVBQUM7bUJBQ0c7Z0JBQ0wsSUFBSSxDQUFDLG1CQUFtQixJQUFJLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSztnQkFFekIsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFFMUQsSUFBSSxDQUFDLElBQUksQ0FBQyx5REFBeUQsRUFBRTtvQkFDbkUsS0FBSztnQkFDTixFQUFDOztnQkFHRixJQUFJLENBQUMsVUFBVSxFQUFFOztRQUVyQixDQUFDO1FBRUQsWUFBTyxHQUFHLENBQUMsSUFBWSxFQUFFLEtBQVk7WUFDbkMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtZQUV4QixJQUFJLENBQUMsbUJBQW1CLElBQUksQ0FBQztZQUM3QixJQUFJLENBQUMsYUFBYSxJQUFJLENBQUM7WUFDdkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUM7WUFDdEIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLO1lBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsK0NBQStDLEVBQUU7Z0JBQUUsS0FBSztZQUFBLENBQUUsQ0FBQztZQUVyRSxJQUFJLENBQUMsVUFBVSxFQUFFO1FBQ25CLENBQUM7UUFFRDs7Ozs7O1NBTUcsR0FDSCxJQUFVLGNBQUcsQ0FBQyxPQUFnQixFQUFFLG1CQUFtQixHQUFHLEtBQUs7WUFDekQsSUFBSSxPQUFPLEtBQUssSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUVoQyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU87WUFFeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLG1CQUFtQixFQUFFO2dCQUN6QyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztvQkFDeEIsSUFBSSxFQUFFLG9CQUFvQjtvQkFDMUIsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTO2dCQUN2QixFQUFDO2dCQUNGOzs7WUFJRixVQUFVLENBQUM7Z0JBQ1QsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNwQixJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztvQkFDeEIsSUFBSSxFQUFFLG9CQUFvQjtvQkFDMUIsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTO2dCQUN2QixFQUFDO2FBQ0gsRUFBRSxJQUFJLENBQUM7UUFDVixDQUFDO1FBRUQ7O1NBRUcsR0FDSyxJQUFpQixxQkFBRyxDQUMxQixLQUF3QyxFQUN4QyxXQUFXLEdBQUcsSUFBSTtZQUVsQixJQUFJLElBQVk7WUFDaEIsSUFBSSxVQUFrQjtZQUN0QixJQUFJLE9BQWU7WUFDbkIsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3ZCLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSTtnQkFDakIsT0FBTyxHQUFHLEtBQUssQ0FBQyxNQUFNO2dCQUN0QixVQUFVLEdBQUcsQ0FBQzttQkFDVDtnQkFDTCxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsS0FBSztnQkFDdkIsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJO2dCQUNqQixPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU87Z0JBQ3ZCLFVBQVUsR0FBRyxLQUFLLENBQUMsVUFBVTs7WUFHL0IsTUFBTSxHQUFHLEdBQUcsQ0FBd0IsMkJBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFnQixzQkFBTyxFQUFFO1lBQ2pHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUFFLEtBQUs7WUFBQSxDQUFFLEVBQUUsTUFBTSxDQUFDO1lBQ2pDLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FJMUI7WUFDRCxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUk7WUFDakI7OzthQUdHLEdBQ0gsS0FBSyxDQUFDLFVBQVUsR0FBRyxVQUFVO1lBQzdCLEtBQUssQ0FBQyxXQUFXLEdBQUcsV0FBVztZQUMvQixPQUFPLEtBQUs7UUFDZCxDQUFDO1FBa0JEOztTQUVHLEdBQ0gsSUFBdUIsMkJBQUc7WUFDeEIsSUFBSSxDQUFDLHdCQUF3QixHQUFHLEtBQUs7cUVBRXJDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxlQUFlLENBQ3ZDLElBQUksT0FBTyxDQUFpQixDQUFDLE9BQU8sRUFBRSxNQUFNO2dCQUMxQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsT0FBTztnQkFDcEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLE1BQU07YUFDbkMsQ0FBQyxDQUNIO1FBQ0gsQ0FBQztRQU1EOztTQUVHLEdBQ0gsSUFBZ0Isb0JBQUc7WUFDakIsTUFBTSxNQUFNLEdBQUcsU0FBUyxFQUFFO1lBQzFCLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFO2dCQUM5QixNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQzs7O1lBSWpELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDOztnQkFFN0MsTUFBTSxJQUFJLEdBQUc7b0JBQUM7d0JBQUUsSUFBSSxFQUFFLGNBQWM7d0JBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUTtvQkFBQSxDQUFFO2lCQUFDOztnQkFFeEUsSUFBSTtvQkFDRixJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2tCQUNuQyxPQUFNOzs7WUFHVixDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUN2QixDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILElBQXVCLDJCQUFHO1lBQ3hCLFlBQVksQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUM7WUFDNUMsSUFBSSxDQUFDLHlCQUF5QixHQUFHLFVBQVUsQ0FBQztnQkFDMUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUU7Z0JBQ3RCLElBQ0UsSUFBSSxDQUFDLFNBQVMsSUFDZCxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsc0JBQXNCLEVBQ3RFO29CQUNBLElBQUksQ0FBQyxJQUFJLENBQUMsOENBQThDLENBQUM7b0JBQ3pELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO29CQUN0QixJQUFJLENBQUMsVUFBVSxFQUFFOztZQUVyQixDQUFDLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDO1FBQ2pDLENBQUM7UUF4cEJDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTswRUFFcEIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLENBQUM7MERBRTVCLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQztzRUFFdEIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLOzREQUV6QixJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUs7NEVBRTNCLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxLQUFLO29GQUVyQyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUs7NERBRXRCLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQzsyREFFYixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUk7NERBRXJCLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHLElBQUk7UUFDN0IsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHLElBQUk7UUFFM0QsMkJBQTJCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDOztJQVd2RDs7OztLQUlHLEdBQ0gsTUFBTSxPQUFPLENBQUMsT0FBTyxHQUFHLEtBQUs7UUFDM0IsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3JCLE1BQU0sS0FBSyxDQUNULENBQXdFLHdFQUN6RTs7UUFHSCxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUs7UUFFM0IsSUFBSTtZQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN6QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsQ0FBQztZQUU1QixJQUFJLENBQUMsSUFBSSxDQUNQLDJEQUEyRCxXQUFXLEVBQUUsQ0FDekU7VUFDRCxPQUFPLEtBQUssRUFBRTtZQUNkLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSztZQUN0QixJQUFJLENBQUMsbUJBQW1CLElBQUksQ0FBQztZQUU3QjtZQUVFLEtBQUssQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLGFBQWEsSUFDdkMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsRUFDcEM7Z0JBQ0EsSUFBSSxDQUFDLElBQUksQ0FDUCw0RkFBNEYsQ0FDN0Y7Z0JBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQztvQkFBRSxZQUFZLEVBQUUsSUFBSTtnQkFBQSxDQUFFLENBQUM7bUJBQ2xDOztnQkFFTCxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRTs7b0JBRXRCLE1BQU0sSUFBSSxLQUFLLENBQ2IsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7d0JBRWIsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJOzt3QkFFaEIsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVOzt3QkFFNUIsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPOzt3QkFFdEIsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO29CQUMvQixFQUFDLENBQ0g7Ozs7UUFLUCxPQUFPLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUM7O0lBRzVDOzs7O0tBSUcsR0FDSCxNQUFNLGVBQWUsQ0FBQyxPQUFPLEdBQUcsS0FBSztRQUNuQyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUM7YUFDakI7Z0JBQ0MsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO2dCQUNwQixJQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxRQUFRLENBQUU7b0JBQzNDLElBQUk7d0JBQ0YsT0FBTyxNQUFNLElBQUksQ0FBQyxjQUFjO3NCQUNoQyxPQUFPLEtBQVUsRUFBRTt3QkFDbkIsSUFBSSxDQUFDLEtBQUssT0FBTyxFQUFFOzRCQUNqQixNQUFNLElBQUksS0FBSyxDQUNiLElBQUksQ0FBQyxTQUFTLENBQUM7Z0NBQ2IsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJO2dDQUNoQixVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7Z0NBQzVCLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztnQ0FDdEIsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXOzRCQUMvQixFQUFDLENBQ0g7O3dCQUVILE1BQU0sS0FBSyxDQUFDLFFBQVEsQ0FBQzs7O1lBRzNCLEVBQUMsR0FBRzthQUNIO2dCQUNDLE1BQU0sS0FBSyxDQUFDLE9BQU8sQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLO2dCQUN6QixNQUFNLElBQUksS0FBSyxDQUNiLElBQUksQ0FBQyxTQUFTLENBQUM7b0JBQ2IsSUFBSSxFQUFFLEVBQUU7b0JBQ1IsVUFBVSxFQUFFLEVBQUU7b0JBQ2QsT0FBTyxFQUFFLGdEQUFnRDtvQkFDekQsV0FBVyxFQUFFLElBQUk7Z0JBQ2xCLEVBQUMsQ0FDSDtZQUNILEVBQUM7U0FDRixDQUFDOztJQWlCSjs7O0tBR0csR0FDSCxVQUFVLENBQUMsT0FBZ0I7UUFDekIsSUFBSSxDQUFDLElBQUksQ0FDUCw0REFBNEQsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUN4RTtRQUVELElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQztRQUNkLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSztRQUN6QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUk7O1FBRzFCLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFO1lBQzlCLFNBQVMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUM7O1FBRXZELElBQUksSUFBSSxDQUFDLHlCQUF5QixFQUFFO1lBQ2xDLGFBQWEsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUM7O1FBRy9DLDhCQUE4QixDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUV4RCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUs7UUFFdEIsSUFBSSxlQUE4Qjs7OztRQUlsQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSTtRQUNuQixJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxVQUFVLEtBQUssRUFBRSxDQUFDLElBQUksRUFBRTtZQUMvQyxlQUFlLEdBQUcsSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPO2dCQUNwQyxNQUFNLE9BQU8sR0FBRyxDQUFDLEtBQWlCO29CQUNoQyxJQUFJLENBQUMsSUFBSSxDQUNQLDRDQUNFLEtBQUssR0FBRyxNQUFNLEdBQUcsU0FDbkIsQ0FBYyxlQUNkO3dCQUFFLEtBQUs7b0JBQUEsQ0FBRSxDQUNWO29CQUNELE9BQU8sRUFBRTtnQkFDWCxDQUFDO2dCQUVELEVBQUUsQ0FBQyxPQUFPLEdBQUcsT0FBTzs7O2dCQUdwQixVQUFVLENBQUMsT0FBTyxFQUFFLE9BQU8sSUFBSSxJQUFJLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQztZQUN2RCxDQUFDLENBQUM7WUFFRixJQUFJLENBQUMsSUFBSSxDQUNQLDBFQUEwRSxDQUMzRTtZQUVELEVBQUUsQ0FBQyxLQUFLLENBQ04sVUFBVSxDQUFDLGlCQUFpQixFQUM1QiwyREFBMkQsQ0FDNUQ7ZUFDSTtZQUNMLElBQUksQ0FBQyxJQUFJLENBQ1AscUVBQXFFLENBQ3RFO1lBQ0QsZUFBZSxHQUFHLE9BQU8sQ0FBQyxPQUFPLEVBQUU7O1FBR3JDLE9BQU8sSUFBSSxDQUFDLEVBQUU7UUFFZCxPQUFPLGVBQWU7O0lBR3hCOzs7O0tBSUcsR0FDSCxNQUFNLFFBQVE7UUFDWixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsT0FBTztRQUM5QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUk7UUFDeEIsSUFBSSxZQUFZLEdBQUcsS0FBSztRQUN4QixJQUFJO1lBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQztZQUMzQyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRTtZQUMzQyxZQUFZLEdBQUcsSUFBSTtVQUNuQixPQUFNOzs7UUFJUixJQUFJO1lBQ0YsSUFBSSxDQUFDLFlBQVksRUFBRTtnQkFDakIsSUFBSSxDQUFDLElBQUksQ0FDUCw2REFBNkQsQ0FDOUQ7Z0JBQ0QsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUU7O1lBRzVDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFO2dCQUM3QyxJQUFJLENBQUMsTUFBTSxDQUFDLHlCQUF5QixFQUFFOztZQUV6QyxJQUFJLENBQUMsdUJBQXVCLEVBQUU7WUFDOUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLDhCQUE4QixLQUFLLEVBQUUsQ0FBQztZQUNoRCxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLElBQUksU0FBUztZQUN6RCxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQztZQUN2QixJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNsRCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNwRCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNwRCxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQztZQUN4RCxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxjQUFjO1lBQzFDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSztZQUV6QixJQUFJLFFBQVEsRUFBRTtnQkFDWixJQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhO2dCQUMxQyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQ3BELE9BQU8sUUFBUTs7VUFFakIsT0FBTyxHQUFHLEVBQUU7WUFDWixJQUFJLENBQUMsTUFBTSxDQUFDLHlCQUF5QixFQUFFO1lBQ3ZDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSzs7WUFFekIsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLENBQUM7WUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsR0FBRyxHQUFHLENBQUM7WUFDckMsTUFBTSxHQUFHOzs7SUFJYjs7Ozs7OztLQU9HLEdBQ0gsTUFBTSxVQUFVLENBQ2QsVUFBeUQsRUFBRTtRQUUzRCxJQUFJLENBQUMsSUFBSSxDQUFDLHlDQUF5QyxDQUFDOztRQUdwRCxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLDhEQUE4RCxDQUFDO1lBQ3pFOzs7O1FBS0YsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVE7UUFDL0IsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNiLFFBQVEsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDOzs7UUFHcEQsTUFBTSxLQUFLLENBQUMsUUFBUSxDQUFDOzs7UUFJckIsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQyw4REFBOEQsQ0FBQztZQUN6RTs7UUFHRixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyx1REFBdUQsQ0FBQztZQUNsRTs7UUFHRixJQUFJLENBQUMsSUFBSSxDQUFDLGlEQUFpRCxDQUFDOztRQUc1RCxJQUFJLENBQUMsMkJBQTJCLEVBQUU7UUFFbEMsSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFO1lBQ3hCLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFOztRQUc1QyxJQUFJO1lBQ0YsTUFBTSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsNENBQTRDLENBQUM7O1lBRXZELElBQUksQ0FBQyxJQUFJLENBQUMseUNBQXlDLENBQUM7WUFFcEQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLENBQUM7VUFDNUIsT0FBTyxLQUFVLEVBQUU7WUFDbkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLO1lBQ3RCLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxDQUFDO1lBQzdCLElBQ0UsS0FBSyxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsYUFBYSxJQUN2QyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUNwQztnQkFDQSxJQUFJLENBQUMsSUFBSSxDQUNQLCtGQUErRixDQUNoRztnQkFFRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7b0JBQUUsWUFBWSxFQUFFLElBQUk7Z0JBQUEsQ0FBRSxDQUFDOzs7WUFJaEQsSUFBSSxLQUFLLENBQUMsV0FBVyxFQUFFO2dCQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLHlEQUF5RCxDQUFDO2dCQUVwRSxJQUFJLENBQUMsVUFBVSxFQUFFOzs7UUFHckIsSUFBSSxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQzs7SUFxUHZDOzs7S0FHRyxHQUNILDJCQUEyQjs7O1FBR3pCLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQztRQUVkLElBQUk7WUFDRixJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRTtVQUNqQixPQUFNOzs7O0lBbUJWLElBQUksY0FBYztRQUNoQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsSUFBSTs7QUE0Q3JDO0FDMXRCSyxTQUFVLGdCQUFnQixDQUFDLEtBQWE7SUFDNUMsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDbEMsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUMxQixPQUFPLEVBQUU7O0lBRVgsTUFBTSxVQUFVLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUMvQixNQUFNLE9BQU8sR0FBRyxZQUFZLENBQUMsVUFBVSxDQUFDO0lBQ3hDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ2hDLE9BQU8sSUFBSSxDQUFDLE9BQTZCO0FBQzNDO0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFTO0lBQzdCLE1BQU0sQ0FBQyxHQUFHLEVBQStCLEVBQ3ZDLENBQUMsR0FBRyxNQUFNLENBQUMsWUFBWSxFQUN2QixDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07SUFDZCxJQUFJLENBQUMsRUFDSCxDQUFDLEdBQUcsQ0FBQyxFQUNMLENBQUMsRUFDRCxDQUFDLEVBQ0QsQ0FBQyxHQUFHLENBQUMsRUFDTCxDQUFDLEVBQ0QsQ0FBQyxHQUFHLEVBQUU7SUFDUixNQUFNLENBQUMsR0FBRyxrRUFBa0U7SUFDNUUsSUFBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUU7UUFDdkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDOztJQUVwQixJQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBRTtRQUN0QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFJLENBQUMsR0FBSSxDQUFDO1FBQ2hCLENBQUMsSUFBSSxDQUFDO1FBQ04sTUFBTyxDQUFDLElBQUksQ0FBQyxDQUFFO1lBQ2IsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFFLE1BQU0sQ0FBQyxLQUFJLENBQUMsQ0FBQyxFQUFJLEtBQUksSUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O0lBRzdELE9BQU8sQ0FBQztBQUNWLENBQUM7QUNsQ0Q7Ozs7Q0FJRyxTQUNVLFlBQVk7SUFTdkIsWUFBWSxNQUFlO1FBUm5CLElBQWdCLG9CQUEyQixJQUFJO1FBQy9DLElBQUksUUFBMEIsUUFBUTtRQVc5Qzs7Ozs7OztTQU9HLEdBQ0gsSUFBa0Isc0JBQUcsT0FDbkIsZUFBZ0MsRUFDaEMsSUFBZ0IsRUFDaEIsV0FBb0I7WUFFcEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJO1lBQ2hCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVztZQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQztZQUVuQyxJQUFJLFVBQVUsQ0FBQyxlQUFlLENBQUMsRUFBRTtnQkFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxlQUFlO2dCQUNwQyxJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVU7O1lBR3hCLElBQUksT0FBTyxlQUFlLEtBQUssUUFBUSxFQUFFO2dCQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLGVBQWU7Z0JBQzVCLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUTs7WUFHdEIsTUFBTSxJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ3hCLENBQUM7UUFFRDs7O1NBR0csR0FDSCxJQUFLLFNBQUc7WUFDTixJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVM7WUFDdEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxTQUFTO1lBQzlCLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUTtZQUNwQixJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVM7WUFDckIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUk7UUFDOUIsQ0FBQzs7UUFHRCxrQkFBYSxHQUFHLENBQUMsZUFBZ0M7O1lBRS9DLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsZUFBZSxFQUFFOztZQUd2RCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRTtnQkFDcEMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQzs7WUFHaEQsSUFBSSxPQUFPLGVBQWUsS0FBSyxRQUFRLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLEVBQUU7Z0JBQ3ZFLE1BQU0sSUFBSSxLQUFLLENBQUMsb0RBQW9ELENBQUM7O1lBR3ZFLElBQUksT0FBTyxlQUFlLEtBQUssUUFBUSxFQUFFOztnQkFFdkMsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLGVBQWUsS0FBSyxFQUFFLEVBQUU7Z0JBRWhELE1BQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztnQkFDckQsSUFDRSxlQUFlLElBQUksSUFBSSxLQUN0QixXQUFXLElBQUksSUFBSSxJQUNsQixXQUFXLEtBQUssRUFBRSxJQUNqQixDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksV0FBVyxLQUFLLElBQUksQ0FBQyxJQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDdkQ7b0JBQ0EsTUFBTSxJQUFJLEtBQUssQ0FDYixtRUFBbUUsQ0FDcEU7OztRQUdQLENBQUM7OztRQUlELGVBQVUsR0FBRyxJQUFNLElBQUksQ0FBQyxnQkFBZ0I7OztRQUl4QyxJQUFTLGFBQUc7WUFDVixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxPQUFPLEVBQUUsTUFBTTtnQkFDeEQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTtvQkFDMUIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQzs7Z0JBR3RDLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxPQUFPLElBQUksQ0FBQyxhQUFhLEtBQUssUUFBUSxFQUFFO29CQUNoRSxJQUFJO3dCQUNGLE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsRUFBRTt3QkFDeEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7d0JBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSztzQkFDbEIsT0FBTyxDQUFDLEVBQUU7d0JBQ1YsT0FBTyxNQUFNLENBQ1gsSUFBSSxLQUFLLENBQUMsQ0FBOEMsOENBQUMsRUFBRSxFQUFFOzRCQUMzRCxLQUFLLEVBQUUsQ0FBQzt3QkFDVCxFQUFDLENBQ0g7O29CQUVILE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDOztZQUV2QixDQUFDLENBQUM7WUFFRixPQUFPLElBQUksQ0FBQyxnQkFBZ0I7UUFDOUIsQ0FBQzs7UUFHRCxJQUFRLFlBQUc7WUFDVCxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSzs7WUFHbkIsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDNUIsT0FBTyxJQUFJLENBQUMsS0FBSzs7WUFHbkIsTUFBTSxJQUFJLEtBQUssQ0FDYixnR0FBZ0csQ0FDakc7UUFDSCxDQUFDO1FBRUQsSUFBUSxZQUFHLElBQU0sSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRO1FBM0hyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU07O0FBNEh2QjtBQzdJTSxNQUFNLGVBQWUsR0FBRyxPQUM3QixPQUFPLEdBQUcsbUNBQW1DLEVBQzdDLE9BQU8sR0FBRyxJQUFJLEVBQ2QsV0FBVyxHQUFHLENBQUM7SUFFZixNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFBQyxlQUFlO0tBQUMsQ0FBQztJQUUzQyxJQUFJLE9BQU8sR0FBRyxDQUFDO0lBQ2YsSUFBSSxZQUFZLEdBQUcsS0FBSztJQUN4QixHQUFHO1FBQ0QsTUFBTSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUU7UUFDN0MsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLElBQU0sZUFBZSxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sQ0FBQztRQUNwRSxJQUFJO1lBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsT0FBTyxFQUFFO2dCQUNwQyxNQUFNLEVBQUUsTUFBTTtnQkFDZCxNQUFNLEVBQUUsZUFBZSxDQUFDLE1BQU07WUFDL0IsRUFBQztZQUNGLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEtBQUs7WUFDNUQsTUFBTSxDQUFDLE9BQU8sRUFBRSxvQkFBb0IsTUFBTSxFQUFFLENBQUM7WUFDN0MsWUFBWSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1VBQ3RDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsTUFBTSxDQUFDLE1BQU0sRUFBRSxvQ0FBb0MsT0FBTyxDQUFFLEdBQUUsQ0FBQyxDQUFDO1lBQ2hFLFlBQVksR0FBRyxLQUFLO2lCQUNaO1lBQ1IsWUFBWSxDQUFDLFNBQVMsQ0FBQzs7S0FFMUIsT0FBUSxZQUFZLEtBQUssS0FBSyxJQUFJLEVBQUUsT0FBTyxHQUFHLFdBQVc7SUFFMUQsT0FBTyxZQUFZO0FBQ3JCLENBQUM7TUNXWSxZQUFZO0lBa0N2Qjs7Ozs7Ozs7Ozs7S0FXRyxHQUNILFdBQVksSUFBVyxFQUFFLE9BQTZCO1FBckN0RCxJQUFTLGFBRUwsRUFBRTtRQXdHTixJQUFXLGVBQUc7WUFDWixPQUFPLElBQUksQ0FBQyxTQUFTLEdBQUcsV0FBVyxHQUFHLEtBQUs7UUFDN0MsQ0FBQztRQUVELGVBQVUsR0FBRyxDQUFDLE9BQWU7WUFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPO1lBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQ25CLE9BQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUNwQixPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQztRQUM5QixDQUFDO1FBRUQsb0JBQWUsR0FBRyxPQUNoQixPQUFnQixFQUNoQixPQUFnQjtZQUVoQixNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZO1lBQ3BDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssRUFBRTtnQkFDM0IsSUFBSSxDQUFDLFlBQVksR0FBRyxlQUFlLENBQ2pDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFDdkMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQzVDO2dCQUNELE9BQU8sSUFBSSxDQUFDLFlBQVk7O1lBRTFCLE9BQU8sSUFBSTtRQUNiLENBQUM7UUFFRCxJQUFnQixvQkFBRyxJQUFNLElBQUksQ0FBQyxZQUFZLEVBQUUsWUFBWTtRQUV4RCxJQUFnQixvQkFBRyxJQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUV6RDs7Ozs7OztTQU9HLEdBQ0gsZ0JBQVcsR0FBRyxPQUNaLElBQWdCLEVBQ2hCLGVBQWdDO1lBRWhDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO2dCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUM7O1lBRzFEOzs7YUFHRyxHQUNILElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7Z0JBQ25ELElBQUksQ0FBQyxNQUFNLENBQ1QsTUFBTSxFQUNOLDRHQUE0RyxDQUM3RztnQkFDRCxPQUFPLElBQUksQ0FBQyxlQUFlOztZQUc3QixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2YsTUFBTSxJQUFJLEtBQUssQ0FDYixxR0FBcUcsQ0FDdEc7O1lBR0gsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLHNCQUFzQixFQUFFO2dCQUN0RSxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTixzSEFBc0gsQ0FDdkg7OztZQUlILElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLO1lBQ3RCLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUN4RSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztZQUVuQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFFNUMsSUFBSTtnQkFDRiwyQkFBMkIsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUM7Z0JBQy9ELE9BQU8sTUFBTSxJQUFJLENBQUMsZUFBZTtjQUNqQyxPQUFPLEdBQUcsRUFBRTtnQkFDWixJQUFJLElBQUksQ0FBQyw4QkFBOEIsRUFBRTs7b0JBRXZDLE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRTt1QkFDdkI7b0JBQ0wsTUFBTSxJQUFJLENBQUMsY0FBYyxFQUFFOztnQkFFN0IsTUFBTSxHQUFHOztRQUViLENBQUM7UUFFRCxhQUFRLEdBQUcsQ0FBQyxJQUFnQjtZQUMxQjs7O2FBR0csR0FDSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUk7WUFDaEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRTs7WUFFckIsSUFBSSxDQUFDLEtBQUssR0FBRztnQkFBRSxHQUFHLElBQUk7WUFBQSxDQUFFO1FBQzFCLENBQUM7UUFFRDs7Ozs7Ozs7Ozs7O1NBWUcsR0FDSCxvQkFBZSxHQUFHLE9BQU8sT0FBZ0I7WUFDdkMsTUFBTSxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQVUsQ0FBQyxPQUFPLENBQUM7UUFDOUMsQ0FBQztRQUVEOztTQUVHLEdBQ0gsSUFBYyxrQkFBRztZQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNoQixNQUFNLEtBQUssQ0FDVCxnR0FBZ0csQ0FDakc7O1lBR0gsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGFBQWEsSUFBSTtZQUN4QyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsWUFBWSxJQUFJLFNBQVMsRUFBRTtnQkFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FDVCxNQUFNLEVBQ04sMERBQTBELENBQzNEO2dCQUNELE9BQU8sTUFBTSxTQUFTOztZQUd4QixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsU0FBUyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO2dCQUMzRCxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTiwwRkFBMEYsQ0FDM0Y7Z0JBRUQ7O1lBR0YsSUFBSSxDQUFDLHlCQUF5QixFQUFFO1lBRWhDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBRyxNQUFJLENBQUMsTUFBTSxDQUFLLGtCQUFjLEVBQUUsRUFBRTtZQUNyRCxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ25DLElBQUksQ0FBQyxhQUFhLEdBQUcsZUFBZSxDQUFDLFlBQVksQ0FBQztZQUNsRCxPQUFPLE1BQU0sWUFBWTtRQUMzQixDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSCxtQkFBYyxHQUFHLE9BQU8sT0FBZ0I7WUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsZ0RBQWdELENBQUM7O1lBR3JFLE9BQU8sSUFBSSxDQUFDLElBQUk7WUFDaEIsT0FBTyxJQUFJLENBQUMsS0FBSztZQUNqQixPQUFPLElBQUksQ0FBQyxNQUFNO1lBRWxCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSztZQUV0QixNQUFNLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDO1lBQ25DLDhCQUE4QixDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztZQUVsRSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRTtZQUV6QixJQUFJLENBQUMsdUJBQXVCLEdBQUcsU0FBUztZQUN4QyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsU0FBUztZQUNuQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsU0FBUztRQUN0QyxDQUFDO1FBRUQscUJBQWdCLEdBQUcsT0FBTyxJQUE4QjtZQUN0RCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FHL0MsTUFBTSxFQUFFLFFBQVEsRUFBRTtnQkFBRSxJQUFJO1lBQUEsQ0FBRSxFQUFFO2dCQUFFLGNBQWMsRUFBRSxJQUFJO1lBQUEsQ0FBRSxDQUFDO1lBRXZELE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLHNCQUFzQjtZQUNsRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsT0FBTyxDQUNqQyxJQUFPLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxTQUFTLENBQUMsQ0FDaEQ7WUFFRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsWUFBWSxDQUFDO1FBQy9ELENBQUM7UUFFRDs7U0FFRyxHQUNILHlCQUFvQixHQUFHLE9BQ3JCLElBQWdCLEVBQ2hCLGVBQWdDO1lBRWhDLDJCQUEyQixDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztZQUMvRCxJQUFJLENBQUMseUJBQXlCLEVBQUU7WUFFaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJO1lBQ3JCLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztZQUV2RSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQzs7OztZQUluQixJQUFJLENBQUMsbUJBQW1CLElBQUk7UUFDOUIsQ0FBQztRQUVEOzs7Ozs7Ozs7U0FTRyxHQUNILE9BQUUsR0FBRyxDQUNILFNBQVksRUFDWixRQUFnQztZQUVoQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFOztZQUdoQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUF1QiwrQkFBUyxDQUFRLFFBQUM7WUFDOUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBb0MsQ0FBQztZQUNyRSxPQUFPO2dCQUNMLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQztZQUMvQixDQUFDO1FBQ0gsQ0FBQztRQUVEOztTQUVHLEdBQ0gsUUFBRyxHQUFHLENBQ0osU0FBWSxFQUNaLFFBQWdDO1lBRWhDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7O1lBR2hDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQXlCLGlDQUFTLENBQVEsUUFBQztZQUNoRSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsTUFBTSxDQUMzRCxDQUFDLEtBQUssR0FBSyxLQUFLLEtBQUssUUFBUSxDQUM5QjtRQUNILENBQUM7UUFFRDs7U0FFRyxHQUNILElBQXlCLDZCQUFHO3dFQUUxQixJQUFJLENBQUMsdUJBQXVCLEdBQUcsZUFBZSxDQUM1QyxJQUFJLE9BQU8sQ0FBcUIsQ0FBQyxPQUFPLEVBQUUsTUFBTTtnQkFDOUMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU87Z0JBQ2xDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxNQUFNO2FBQ2pDLENBQUMsQ0FDSDtRQUNILENBQUM7UUFjRCxJQUFjLGtCQUFHLENBQ2YsSUFBWSxFQUNaLEdBQVcsRUFDWCxJQUFhLEVBQ2IsTUFFQztZQUVELElBQUksV0FBVyxFQUFFLEtBQUssT0FBTyxFQUFFO1lBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFdBQVcsSUFBSSxnQkFBZ0IsR0FBRyxFQUFFLEVBQUU7Z0JBQ3pELE9BQU8sRUFBRSxJQUFJO2dCQUNiLE1BQU07WUFDUCxFQUFDO1FBQ0osQ0FBQztRQUVELElBQWUsbUJBQUcsQ0FDaEIsSUFBWSxFQUNaLEdBQVcsRUFDWCxRQUEwQjtZQUUxQixJQUFJLFdBQVcsRUFBRSxLQUFLLE9BQU8sRUFBRTtZQUMvQixJQUFJLENBQUMsTUFBTSxDQUNULE9BQU8sRUFDUCxDQUFVLGFBQUksQ0FBc0Isd0JBQUcsQ0FBYSxvQkFBUSxDQUFDLE1BQU0sRUFBRSxFQUNyRTtnQkFDRSxRQUFRO1lBQ1QsRUFDRjtRQUNILENBQUM7UUFFRCxtQkFBYyxHQUFHLE9BQ2YsSUFBWSxFQUNaLEdBQVcsRUFDWCxJQUFRLEVBQ1IsVUFHSSxFQUFFO1lBRU4sSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUU7Z0JBQzNCLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQztvQkFDaEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUU7b0JBQzlCLElBQUksQ0FBQyxzQkFBc0I7aUJBQzVCLENBQUM7O2dCQUVGLElBQUk7b0JBQ0YsTUFBTSxJQUFJLENBQUMsbUJBQW1CO2tCQUM5QixPQUFNOzs7O29CQUlOLE1BQU0sSUFBSSxDQUFDLFlBQVksRUFBRSxlQUFlLEVBQUU7b0JBQzFDLE1BQU0sSUFBSSxDQUFDLG1CQUFtQjs7O1lBR2xDLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUM7WUFDdkQsSUFBSTtnQkFDRixJQUFJLFFBQTBCO2dCQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGFBQWEsQ0FBQztnQkFDbkQsT0FBUSxJQUFJO29CQUNWLEtBQUssS0FBSzt3QkFDUixRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsYUFBYSxDQUFDO3dCQUMzRDtvQkFDRixLQUFLLFFBQVE7d0JBQ1gsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQzt3QkFDOUQ7b0JBQ0YsS0FBSyxNQUFNO3dCQUNULFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDO3dCQUNsRTtvQkFDRixLQUFLLEtBQUs7d0JBQ1IsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxhQUFhLENBQUM7d0JBQ2pFO29CQUNGLEtBQUssT0FBTzt3QkFDVixRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLGFBQWEsQ0FBQzt3QkFDbkU7b0JBQ0YsS0FBSyxTQUFTO3dCQUNaLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUM7d0JBQy9EO29CQUNGO3dCQUNFLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLENBQUM7O2dCQUUzQyxJQUFJLENBQUMsZUFBZSxDQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDO2dCQUM1QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsQ0FBQztnQkFDNUIsT0FBTyxRQUFRLENBQUMsSUFBSTtjQUNwQixPQUFPLENBQU0sdUNBQXNDO2dCQUNuRCxDQUFDLENBQUMsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQztnQkFFcEUsSUFBSSxDQUFDLG1CQUFtQixJQUFJLENBQUM7Z0JBQzdCLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDO2dCQUN0QixJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxFQUFFO29CQUMzQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLElBQUksU0FBUyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ3JELE1BQU0sQ0FBaUM7O2dCQUd6QyxNQUFNLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsR0FBRyxRQUFRO2dCQUMvQyxNQUFNLGNBQWMsR0FBRyxZQUFZLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxhQUFhO2dCQUNyRSxJQUFJLGNBQWMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLEVBQUU7b0JBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLFVBQVUsSUFBSSxVQUFVLEdBQUcsRUFBRSxFQUFFLFFBQVEsQ0FBQztvQkFDNUQsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsQ0FBQyxFQUFFO3dCQUNoQyxNQUFNLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7OztvQkFHdEQsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRTtvQkFDbkMsT0FBTyxNQUFNLElBQUksQ0FBQyxjQUFjLENBQU8sSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDO3VCQUMzRDtvQkFDTCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLElBQUksU0FBUyxHQUFHLEVBQUUsRUFBRSxRQUFRLENBQUM7b0JBQzVELE1BQU0sSUFBSSxpQkFBaUIsQ0FBbUI7d0JBQzVDLE9BQU8sRUFBRSxxQkFBcUIsWUFBWSxDQUFDLElBQUksQ0FBSyxnQkFBWSxDQUFDLE9BQU8sQ0FBRTt3QkFDMUUsSUFBSSxFQUFFLFlBQVksQ0FBQyxJQUFJLElBQUksSUFBSTt3QkFDL0IsYUFBYSxFQUFFLFlBQVksQ0FBQyxhQUFhLElBQUksSUFBSTt3QkFDakQsUUFBUSxFQUFFLFFBQVE7d0JBQ2xCLE1BQU0sRUFBRSxNQUFNO29CQUNmLEVBQUM7OztRQUdSLENBQUM7UUFFRCxRQUFHLEdBQUcsQ0FBSSxHQUFXLEVBQUUsTUFBcUM7WUFDMUQsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFhLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUN2RCxNQUFNO1lBQ1AsRUFBQztRQUNKLENBQUM7UUFFRCxJQUFHLE9BQUcsQ0FDSixHQUFXLEVBQ1gsSUFBUSxFQUNSLE1BQXFDO1lBRXJDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBTyxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtnQkFBRSxNQUFNO1lBQUEsQ0FBRSxDQUFDO1FBQ2hFLENBQUM7UUFFRCxJQUFJLFFBQUcsQ0FDTCxHQUFXLEVBQ1gsSUFBUSxFQUNSLE1BQXFDO1lBRXJDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBTyxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtnQkFBRSxNQUFNO1lBQUEsQ0FBRSxDQUFDO1FBQ2pFLENBQUM7UUFFRCxJQUFLLFNBQUcsQ0FDTixHQUFXLEVBQ1gsSUFBUSxFQUNSLE1BQXFDO1lBRXJDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBTyxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtnQkFBRSxNQUFNO1lBQUEsQ0FBRSxDQUFDO1FBQ2xFLENBQUM7UUFFRCxXQUFNLEdBQUcsQ0FBSSxHQUFXLEVBQUUsTUFBcUM7WUFDN0QsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFhLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUMxRCxNQUFNO1lBQ1AsRUFBQztRQUNKLENBQUM7UUFFRCxrQkFBYSxHQUFHLENBQUMsS0FBdUI7WUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxLQUFLLENBQUM7WUFDL0QsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7O1lBR3JCLEtBQUssTUFBTSxRQUFRLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFFO2dCQUMvQyxRQUFRLENBQUMsS0FBSyxDQUFDOzs7WUFJakIsS0FBSyxNQUFNLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUU7Z0JBQ3ZELFFBQVEsQ0FBQyxLQUFLLENBQUM7O1FBRW5CLENBQUM7UUFFRDs7U0FFRyxHQUNILElBQU8sV0FBRztZQUNSLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDL0IsTUFBTSxLQUFLLENBQ1QseUVBQXlFLENBQzFFOztZQUVILElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sS0FBSyxDQUFDLDRCQUE0QixDQUFDO1lBQzlELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sS0FBSyxDQUFDLHFCQUFxQixDQUFDOztZQUd0RCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDO1lBRWhELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLG1EQUFtRCxDQUFDO1lBQ3hFLE9BQU8sTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDL0QsQ0FBQztRQUVELElBQVksZ0JBQUc7WUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRTtnQkFDekIsTUFBTSxFQUFFLG1CQUFtQixHQUFHLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPO2dCQUNqRCxNQUFNLEVBQ0osT0FBTyxHQUFHLElBQUksRUFDZCxVQUFVLEdBQUcsUUFBa0MsRUFDL0MsR0FBRyxNQUFNLEVBQ1YsR0FBRyxtQkFBbUI7Z0JBRXZCLElBQUksQ0FBQyxlQUFlLEdBQUc7b0JBQ3JCLENBQWdCLHNCQUFPLENBQUssY0FBVSxDQUFFO3VCQUNyQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxHQUFLLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO29CQUNsRSxpQkFBaUIsVUFBNkQsQ0FBRTtpQkFDakYsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDOztZQUdiLE9BQU8sSUFBSSxDQUFDLGVBQWU7UUFDN0IsQ0FBQztRQUVELElBQW1CLHVCQUFHLENBQ3BCLE9BRUk7WUFDRixNQUFNLEVBQUUsRUFBRTtZQUNWLE9BQU8sRUFBRSxFQUFFO1lBQ1gsTUFBTSxFQUFFLEVBQUU7UUFDWDtZQUVELE1BQU0sS0FBSyxHQUNULE9BQU8sQ0FBQyxjQUFjLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3JFLE1BQU0sYUFBYSxHQUFHLEtBQUssR0FBRztnQkFBRSxhQUFhLEVBQUUsS0FBSztZQUFBLENBQUUsR0FBRyxTQUFTO1lBRWxFLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLHFCQUFxQixDQUFDLEVBQUU7Z0JBQzdDLE9BQU8sQ0FBQyxPQUFPLEdBQUc7b0JBQ2hCLEdBQUcsT0FBTyxDQUFDLE9BQU87b0JBQ2xCLHFCQUFxQixFQUFFLGNBQWMsRUFBRTtpQkFDeEM7O1lBR0gsT0FBTztnQkFDTCxNQUFNLEVBQUU7b0JBQ04sT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNO29CQUNwQixhQUFhLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFO29CQUN0QyxPQUFPLEVBQUUsSUFBSSxDQUFDLEdBQUc7b0JBQ2pCLEdBQUcsT0FBTyxDQUFDLE1BQU07Z0JBQ2xCO2dCQUNELE9BQU8sRUFBRTtvQkFDUCxHQUFHLGFBQWE7b0JBQ2hCLGtCQUFrQixFQUNoQixPQUFPLENBQUMsY0FBYyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQzVCLGNBQ0EsSUFBSSxDQUFDLFdBQVcsRUFBRTtvQkFDeEIsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRTtvQkFDdEMsR0FBRyxPQUFPLENBQUMsT0FBTztnQkFDbkI7Z0JBQ0QsR0FBRyxPQUFPLENBQUMsTUFBTTtnQkFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGtCQUFrQjthQUNuQztRQUNILENBQUM7UUFFRCxJQUFTLGFBQUc7WUFDVixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxPQUFPLElBQUk7WUFFbkMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRTtRQUNyQyxDQUFDO1FBRUQsa0NBQTZCLEdBQUcsQ0FDOUIsS0FBNkM7WUFFN0MsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUM7Z0JBQzNDLElBQUksQ0FBQyxhQUFhLENBQUM7b0JBQUUsSUFBSSxFQUFFLGlCQUFpQjtvQkFBRSxNQUFNLEVBQUUsS0FBSztnQkFBQSxDQUFFLENBQUM7bUJBQ3pELElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7Z0JBQ2xDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLG9CQUFvQixDQUFDO2dCQUMxQyxJQUFJLENBQUMsYUFBYSxDQUFDO29CQUFFLElBQUksRUFBRSxpQkFBaUI7b0JBQUUsTUFBTSxFQUFFLElBQUk7Z0JBQUEsQ0FBRSxDQUFDOztRQUVqRSxDQUFDOztRQXRtQkMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHOztRQUdkLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTyxFQUFFLE1BQU07O1FBRzdCLE1BQU0sWUFBWSxHQUFHLFVBQ2pCLFVBQ0M7WUFDQyxPQUFPLEVBQUUsT0FBTyxNQUFNLEdBQUssV0FBVztTQUNOO1FBRXRDLElBQUksQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDLE9BQU8sSUFBSSxPQUFPLE1BQU0sR0FBSyxXQUFXO1FBQ3BFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTztRQUV6QixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFlBQVksR0FBRyxlQUFlLENBQ2pDLE9BQU8sRUFBRSxlQUFlLEVBQ3hCLE9BQU8sRUFBRSxtQkFBbUIsRUFDNUIsT0FBTyxFQUFFLHVCQUF1QixDQUNqQzs7UUFHSCxJQUFJLENBQUMsT0FBTyxHQUFHO1lBQ2IsT0FBTyxFQUFFLElBQUk7WUFDYixlQUFlLEVBQUUsS0FBSztZQUN0QixHQUFHLFlBQVk7U0FDaEI7UUFFRCxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRTtZQUN6QyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJLG9EQUFXLENBQUM7Z0JBQ3hDLFNBQVMsRUFBRSxJQUFJO2dCQUNmLGNBQWMsRUFBRSxJQUFJO1lBQ3JCLEVBQUM7O1FBR0osSUFBSSxDQUFDLFVBQVUsQ0FDYixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSSx1Q0FBdUMsQ0FDaEU7UUFFRCxJQUFJLENBQUMsYUFBYSxHQUFHLDhDQUFLLENBQUMsTUFBTSxDQUFDO1lBQ2hDLEdBQUcsSUFBSSxDQUFDLE9BQU87WUFDZixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87UUFDdEIsRUFBQzs7UUFHRixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUk7UUFDeEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJO1FBQ3pCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSTs7UUFHM0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLO1FBQ3RCLElBQUksQ0FBQyw4QkFBOEIsR0FDakMsSUFBSSxDQUFDLE9BQU8sRUFBRSw4QkFBOEI7OztRQUk5QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDakQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLENBQUM7UUFFNUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLElBQUksS0FBSztRQUU5RCxJQUFJLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsTUFBTSxJQUN4QyxZQUFZLENBQUMsU0FDYixJQUFNLElBQUk7O0lBbVJoQixJQUFJLG1CQUFtQjtRQUNyQixPQUFPLElBQUksQ0FBQyx1QkFBdUIsSUFBSTs7SUFHekMsSUFBSSw0QkFBNEI7UUFDOUIsT0FBTyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxFQUFFLElBQUksS0FBSzs7SUFHOUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsYUFBYSxJQUFJOztBQTJRaEM7QUNyckJEOztDQUVHLEdBQ0ksTUFBTSxjQUFjLEdBQUcsQ0FBQyxNQUFjLEVBQUUsSUFBVTtJQUN2RCxPQUFPLEdBQUcsTUFBTSxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7QUFDL0IsQ0FBQztBQUVEOzs7OztDQUtHLEdBQ0ksTUFBTSx5QkFBeUIsR0FBRyxDQUFDLEdBQVcsR0FBSyxhQUFhLEdBQUcsRUFBRTtBQUU1RTs7Q0FFRyxHQUNILE1BQU0sc0JBQXNCLEdBQUcsQ0FDN0IsT0FBNkI7SUFFN0IsTUFBTSxLQUFLLEdBQUcsT0FBTyxFQUFFLG1CQUFtQixJQUFJLEVBQUU7SUFDaEQsTUFBTSxPQUFPLEdBQUcsVUFBVSxFQUFFO0lBQzVCLElBQUksT0FBTyxFQUFFOzs7UUFHWCxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFO1FBQ25ELEtBQUssQ0FBQyxVQUFVLEdBQUcsQ0FBRyxTQUFPLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUksVUFBTyxDQUFDLEtBQUssRUFBRTs7SUFFekUsT0FBTyxLQUFLO0FBQ2QsQ0FBQztBQUVEOztDQUVHLEdBQ0ksTUFBTSx1QkFBdUIsR0FBRyxDQUNyQyxNQUFjLEVBQ2QsT0FBd0M7SUFFeEMsTUFBTSxtQkFBbUIsR0FBRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUM7SUFDM0QsTUFBTSxpQkFBaUIsR0FBRyxTQUFTLENBQUM7UUFBQyxhQUFhO0tBQUMsQ0FBQztJQUNwRCxPQUFPLElBQUksWUFBWSxDQUFDLE1BQU0sRUFBRTtRQUM5Qiw4QkFBOEIsRUFBRSxJQUFJO1FBQ3BDLEdBQUcsT0FBTztRQUNWLG1CQUFtQjtRQUNuQixNQUFNLEVBQUUsaUJBQWlCO0lBQzFCLEVBQUM7QUFDSixDQUFDO0FBRUQ7Ozs7Ozs7Q0FPRyxHQUNJLE1BQU0scUJBQXFCLEdBQUcsQ0FDbkMsT0FBaUM7SUFFakMsTUFBTSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsR0FBRyxPQUFPO0lBQ3hDLElBQUksS0FBSyxJQUFJLGFBQWEsRUFBRTtRQUMxQixJQUFJLGdCQUFnQixHQUFHLEtBQUs7UUFDNUIsT0FBTyxlQUFlLG9CQUFvQjtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3JCLGdCQUFnQixHQUFHLElBQUk7Z0JBQ3ZCLE9BQU8sS0FBSzs7WUFFZCxPQUFPLGFBQWEsRUFBRTtRQUN4QixDQUFDOztJQUVILE9BQU8sS0FBSyxJQUFJLGFBQWE7QUFDL0IsQ0FBQztBQ2pDRDs7Q0FFRyxTQUNVLGlCQUFpQjtJQTRCNUIsV0FDRSxhQUErQyxFQUMvQyxJQUEwQjtRQWZwQixJQUFpQixxQkFBRyxLQUFLO1FBQ3pCLElBQXlCLDZCQUFzQixFQUFFO1FBQ3hDLDZCQUF3QixHQUFHLE1BQU0sQ0FDaEQsMEJBQTBCLENBQzNCO1FBd0VPLDJCQUFzQixHQUFHLENBQUMsTUFBYyxFQUFFLElBQVU7WUFDMUQsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUM7WUFDaEQsSUFBSSxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUNqRCxJQUFJLENBQUMsTUFBTSxDQUNULE1BQU0sRUFDTixDQUEwQyw2Q0FBSSxDQUFDLEVBQUUsQ0FBMkMsMkNBQzdGOztZQUVILGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQztRQUNyRCxDQUFDO1FBU08sSUFBZSxtQkFBRztZQUN4QixJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtZQUU1QixJQUFJLENBQUMseUJBQXlCLENBQUMsSUFBSSxDQUNqQyxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDLEtBQUssR0FBSyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsRUFDakUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLEdBQUssSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQzlELElBQUksQ0FBQyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxLQUFLO2dCQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtnQkFFbkIsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQzdDLE1BQU0sQ0FBQyxDQUFDLElBQUksR0FBSyxJQUFJLENBQUMsUUFBUSxFQUM5QixHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDMUIsSUFBSSxjQUFjLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFFaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBb0IsaUNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztnQkFDcEUsSUFBSSxDQUFDLFVBQVUsQ0FBQztvQkFDZCxLQUFLLEVBQUUsSUFBSTtvQkFDWCxpQkFBaUIsRUFBRTt3QkFBRSxHQUFHLEVBQUU7NEJBQUUsR0FBRyxFQUFFLGNBQWM7d0JBQUEsQ0FBRTtvQkFBQSxDQUFFO29CQUNuRCxJQUFJLEVBQUU7d0JBQUM7NEJBQUUsS0FBSyxFQUFFLEtBQUs7NEJBQUUsU0FBUyxFQUFFLENBQUM7d0JBQUEsQ0FBRTtxQkFBQztnQkFDdkMsRUFBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7b0JBQ1gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsR0FBRyxDQUFDO2dCQUN2RCxDQUFDLENBQUM7YUFDSCxDQUFDLENBQ0g7WUFFRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSTtRQUMvQixDQUFDO1FBRUQ7OztTQUdHLEdBQ0ssc0JBQWlCLEdBQUcsT0FBTyxDQUFtQztZQUNwRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3pELElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQVksWUFBQyxDQUFDLElBQUksQ0FBaUMsaUNBQUM7Z0JBQ3pFOztZQUdGLElBQUk7Z0JBQ0YsTUFBTSxjQUFjLEdBQUcseUJBQXlCLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFDNUQsTUFBTSxrQkFBa0IsQ0FBQyxjQUFjLEVBQUU7b0JBQ3ZDLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLEtBQUssV0FBVztvQkFDdEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztvQkFDcEUsSUFBSSxJQUFJLEVBQUU7d0JBQ1IsSUFBSSxPQUFPLEVBQUU7NEJBQ1gsTUFBTSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBa0IsQ0FBQzsrQkFDaEQ7NEJBQ0wsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDOzt3QkFFM0M7O29CQUdGLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQzt3QkFDZCxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7d0JBQy9CLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUk7d0JBQ2pCLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2IsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO3dCQUNsQixXQUFXLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjt3QkFDckMsT0FBTztvQkFDUixFQUFDO29CQUNGLElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFFekMsSUFBSSxPQUFPLEVBQUU7d0JBQ1gsTUFBTSxJQUFJLENBQUMsR0FBRyxFQUFFOzJCQUNYO3dCQUNMLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO3dCQUMzQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFvQyx1Q0FBSSxDQUFDLEdBQUcsQ0FBRSxFQUFDOztnQkFFdkUsQ0FBQyxDQUFDO2NBQ0YsT0FBTyxHQUFHLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsa0NBQWtDLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLENBQUM7O1FBRXpFLENBQUM7UUFFRDs7Ozs7OztTQU9HLEdBQ0gsZ0JBQVcsR0FBRyxPQUNaLElBQVUsRUFDVixlQUFpQztZQUVqQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFO2dCQUM3QixJQUFJLENBQUMsRUFBRSxHQUFHLE9BQU87Z0JBQ2pCLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQWtCLEVBQUUsZUFBZSxDQUFDOztZQUd2RSxNQUFNLG1CQUFtQixHQUFHLE1BQU0sa0JBQWtCLENBQ2xELElBQUksQ0FBQyx3QkFBd0IsRUFDN0I7Z0JBQ0UsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVk7Z0JBQ2hDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSw4QkFBOEIsRUFBRSxHQUMxRCxNQUFNLENBQUMsT0FBTztnQkFDaEIsSUFBSSxFQUFFLHFCQUFxQixHQUFHLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxPQUFPO2dCQUNsRCxxQkFBcUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQztnQkFFMUQsTUFBTSxVQUFVLEdBQVksRUFBRTtnQkFDOUIsSUFBSyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLHFCQUFxQixFQUFFLE9BQU8sRUFBRSxDQUFFO29CQUNoRSxJQUFJO3dCQUNGLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQW9CLDBCQUFPLENBQUcsSUFBRSxJQUFJLENBQUM7d0JBQzFELE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxVQUNqQixNQUFNLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLElBQ2xDLE1BQU0sTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDO3NCQUNuRCxPQUFPLEdBQUcsRUFBRTt3QkFDWixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUE2QixtQ0FBTyxDQUFHLElBQUUsR0FBRyxDQUFDO3dCQUNqRSxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQVksQ0FBQzt3QkFDN0IsSUFBSSxPQUFPLEtBQUsscUJBQXFCLEdBQUcsQ0FBQyxFQUFFOzRCQUN6QyxrQkFBa0IsR0FBRyxHQUFZLEVBQUUsVUFBVSxDQUFDOzRCQUM5QyxNQUFNLEdBQUc7Ozs7d0JBS1gsSUFBSSw4QkFBOEIsRUFBRTs0QkFDbEMsTUFBTSxNQUFNLENBQUMsY0FBYyxFQUFFOzt3QkFHL0IsTUFBTSxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDOzs7WUFHekMsQ0FBQyxDQUNGOztZQUdELElBQUksbUJBQW1CLEVBQUUsRUFBRSxFQUFFO2dCQUMzQixJQUFJLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsRUFBRSxDQUFDOztZQUduRSxJQUFJLENBQUMsZUFBZSxFQUFFO1lBRXRCLE9BQU8sbUJBQW1CO1FBQzVCLENBQUM7UUFFRDs7Ozs7OztTQU9HLEdBQ0gsbUJBQWMsR0FBRyxPQUFPLE9BQWdCO1lBQ3RDLE1BQU0sa0JBQWtCLENBQUMsSUFBSSxDQUFDLHdCQUF3QixFQUFFO2dCQUN0RCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxZQUFZO2dCQUN2QyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUVYLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDO2dCQUUvQyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7b0JBQ1gsaUJBQWlCLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDOztnQkFFaEUsSUFBSSxDQUFDLHlCQUF5QixDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsR0FBSyxVQUFVLEVBQUUsQ0FBQztnQkFDcEUsSUFBSSxDQUFDLHlCQUF5QixHQUFHLEVBQUU7Z0JBQ25DLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLO2dCQUM5QixJQUFJLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDO1lBQ3RELENBQUMsQ0FBQztRQUNKLENBQUM7UUFFRDs7Ozs7Ozs7U0FRRyxHQUNILE9BQUUsR0FBRyxDQUNILFNBQVksRUFDWixRQUFnQztZQUVoQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUM7UUFDbEQsQ0FBQztRQUVEOzs7OztTQUtHLEdBQ0gsUUFBRyxHQUFHLENBQ0osU0FBWSxFQUNaLFFBQWdDO1lBRWhDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQztRQUNuRCxDQUFDO1FBRUQ7Ozs7OztTQU1HLEdBQ0gsSUFBSSxRQUFHLENBQ0wsSUFBWSxFQUNaLEVBQVUsRUFDVixVQUF1QyxFQUFFO1lBRXpDLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxnQkFDakIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxJQUMxQyxTQUFTO1lBQ2IsT0FDRSxJQUFJLElBQ0osSUFBSSxJQUFJLENBQUM7Z0JBQ1AsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO2dCQUMvQixFQUFFLEVBQUUsRUFBRTtnQkFDTixJQUFJLEVBQUUsSUFBSTtnQkFDVixXQUFXLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjtZQUN0QyxFQUFDO1FBRU4sQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxvQkFBZSxHQUFHLE9BQU8sSUFBd0I7WUFDL0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FHckMsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7Z0JBQUUsY0FBYyxFQUFFLElBQUk7WUFBQSxDQUFFLENBQUM7UUFDckQsQ0FBQztRQUVEOzs7O1NBSUcsR0FDSCxlQUFVLEdBQUcsT0FBTyxJQUEwQixLQUFFO1lBQzlDLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBRzNDLFFBQVEsRUFBRSxJQUFJLENBQUM7WUFDakIsTUFBTSxLQUFLLEdBQUcsRUFBRTtZQUNoQixLQUFLLE1BQU0sQ0FBQyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUU7Z0JBQzlCLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDO29CQUNwQixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7b0JBQy9CLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ2IsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSTtvQkFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO29CQUNsQixlQUFlLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtvQkFDbkMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLO29CQUNwQixXQUFXLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjtnQkFDdEMsRUFBQztnQkFDRixJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ3pDLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztnQkFDcEQsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNkLE1BQU0sSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDbEIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7O2dCQUU3QyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7WUFFbEIsT0FBTztnQkFDTCxHQUFHLFFBQVE7Z0JBQ1gsS0FBSyxFQUFFLEtBQUs7YUFDYjtRQUNILENBQUM7UUFFRDs7Ozs7U0FLRyxHQUNILG1CQUFjLEdBQUcsT0FBTyxJQUE4QixLQUFFO1lBQ3RELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBRzNCLENBQWEsY0FBRSxJQUFJLENBQUM7UUFDeEIsQ0FBQztRQUVEOzs7OztTQUtHLEdBQ0gsNEJBQXVCLEdBQUcsT0FDeEIsSUFBdUMsS0FBRTtZQUV6QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUczQixDQUFRLFNBQUUsSUFBSSxDQUFDO1FBQ25CLENBQUM7UUFFRDs7U0FFRyxHQUNILElBQUssU0FBRztZQUNOLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQW1CLFFBQVEsQ0FBQztRQUMxRCxDQUFDO1FBRUQ7Ozs7Ozs7O1NBUUcsR0FDSCxjQUFTLEdBQUcsT0FDVixFQUFVLEVBQ1YsYUFBcUIsRUFDckIsa0JBQTJCLEVBQzNCLE1BQWUsRUFDZixVQUFvQjtZQUVwQixPQUFPLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQXNCLFVBQVUsRUFBRTtnQkFDbkUsRUFBRTtnQkFDRixhQUFhO2dCQUNiLFVBQVU7Z0JBQ1YsR0FBSSxNQUFNLElBQUksSUFBSSxHQUFHO29CQUFFLE9BQU8sRUFBRSxNQUFNO2dCQUFBLENBQUUsR0FBRyxFQUFFLENBQUM7Z0JBQzlDLEdBQUksa0JBQWtCLElBQUksSUFBSSxHQUFHO29CQUFFLGtCQUFrQjtnQkFBQSxDQUFFLEdBQUcsRUFBRTtZQUM3RCxFQUFDO1FBQ0osQ0FBQztRQUVEOzs7Ozs7O1NBT0csR0FDSCxJQUFhLGlCQUFHLE9BQ2QsRUFBVSxFQUNWLGFBQXFCLEVBQ3JCLGtCQUEwQixFQUMxQixNQUFlO1lBRWYsT0FBTyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQ3pCLEVBQUUsRUFDRixhQUFhLEVBQ2Isa0JBQWtCLEVBQ2xCLE1BQU0sRUFDTixJQUFJLENBQ0w7UUFDSCxDQUFDO1FBRUQ7OztTQUdHLEdBQ0gsZUFBVSxHQUFHLE9BQU8sTUFBZTtZQUNqQyxPQUFPLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQ2hDLFVBQVUsRUFDVixNQUFNLEdBQUc7Z0JBQUUsT0FBTyxFQUFFLE1BQU07WUFBQSxDQUFFLEdBQUcsRUFBRSxDQUNsQztRQUNILENBQUM7UUFFRDs7Ozs7U0FLRyxHQUNILGlCQUFZLEdBQUcsT0FBTyxFQUFVLEVBQUUsTUFBZTtZQUMvQyxPQUFPLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFO2dCQUNoRCxFQUFFO2dCQUNGLEdBQUksTUFBTSxHQUFHO29CQUFFLE9BQU8sRUFBRSxNQUFNO2dCQUFBLENBQUUsR0FBRyxFQUFFO1lBQ3RDLEVBQUM7UUFDSixDQUFDO1FBRUQ7Ozs7U0FJRyxHQUNILGtCQUFhLEdBQUcsT0FBTyxRQUFnQjtZQUNyQyxPQUFPLGtCQUFrQixDQUFDLHlCQUF5QixDQUFDLFFBQVEsQ0FBQyxFQUFFOzs7Z0JBRzdELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBSyxDQUFDLENBQUMsR0FBRyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUN4RSxJQUFJLENBQUMsSUFBSSxFQUFFOztvQkFFVCxNQUFNLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO29CQUM5QyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUM7d0JBQ2QsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO3dCQUMvQixJQUFJLEVBQUUsUUFBUTt3QkFDZCxFQUFFLEVBQUUsTUFBTTt3QkFDVixXQUFXLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjt3QkFDckMsT0FBTyxFQUFFLElBQUk7b0JBQ2QsRUFBQztvQkFDRixNQUFNLElBQUksQ0FBQyxHQUFHLEVBQUU7O2dCQUVsQixPQUFPLElBQUk7WUFDYixDQUFDLENBQUM7UUFDSixDQUFDO1FBRUQ7Ozs7O1NBS0csR0FDSyx5QkFBb0IsR0FBRyxPQUM3QixJQUFnQixFQUNoQixlQUFnQztZQUVoQyxPQUFPLGtCQUFrQixDQUFDLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxJQUN2RCxJQUFJLENBQUMsWUFBWSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxlQUFlLENBQUMsQ0FDOUQ7UUFDSCxDQUFDO1FBdmVDLE1BQU0sTUFBTSxHQUNWLE9BQU8sWUFBWSxLQUFLLFFBQVEsR0FBRyxZQUFZLEdBQUcsWUFBWSxDQUFDLE1BQU07UUFDdkUsTUFBTSxhQUFhLEdBQ2pCLE9BQU8sWUFBWSxLQUFLLFFBQVEsR0FBRyxJQUFJLEdBQUcsWUFBWSxDQUFDLE9BQU87UUFFaEUsSUFBSSxhQUFhLEVBQUUsaUJBQWlCLEVBQUUsaUJBQWlCLEVBQUU7UUFFekQsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLE1BQU0sSUFBSSxZQUFZO1FBQ3hELFNBQVMsQ0FBQyxVQUFVLEVBQUUsYUFBYSxFQUFFLFFBQVEsSUFBSSxNQUFNLENBQUM7UUFFeEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7WUFBQyxRQUFRO1NBQUMsQ0FBQztRQUVuQyxJQUFJLENBQUMsWUFBWSxHQUFHLHVCQUF1QixDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUM7UUFFbEUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksOEJBQThCLEVBQUU7UUFDL0QsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksNkJBQTZCLENBQ3pELElBQUksQ0FBQyxtQkFBbUIsQ0FDekI7UUFFRCxJQUFJLE9BQU8sWUFBWSxLQUFLLFFBQVEsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFO1lBQ3pELE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJO1lBQzlCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxPQUFPO1lBQ2hELElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQztZQUV0RCxNQUFNLGVBQWUsR0FBRyxxQkFBcUIsQ0FBQyxZQUFZLENBQUM7WUFDM0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxDQUFDO1lBQ2hELENBQUMsQ0FBQzs7O0lBSU47O0tBRUcsR0FDSCxPQUFPLG1CQUFtQixDQUN4QixJQUErQztRQUUvQyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEdBQUcsSUFBSTtRQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFdBQVcsRUFBRTtZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDOztRQUdqRSxJQUNFLENBQUMsS0FBSyxJQUNOLENBQUMsYUFBYSxJQUNkLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxJQUN6QixJQUFJLENBQUMsSUFBSSxLQUFLLE9BQU8sRUFDckI7WUFDQSxNQUFNLElBQUksS0FBSyxDQUNiLDhEQUE4RCxDQUMvRDs7UUFHSCxPQUNFLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxJQUM5RCxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQzs7SUFlL0I7O0tBRUcsR0FDSCxJQUFJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxrQkFBa0I7OztBQXJGakIsNEJBQVUsR0FBRyxJQUFJLEdBQUcsRUFBNkIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZ2VuXFxjb29yZGluYXRvclxcaW5kZXgudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGNvb3JkaW5hdG9yXFxjb25uZWN0aW9uXFx0eXBlcy50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZ2VuXFxnb29nbGVcXHByb3RvYnVmXFxzdHJ1Y3QudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGdlblxcZ29vZ2xlXFxwcm90b2J1ZlxcdGltZXN0YW1wLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxnZW5cXHZpZGVvXFxzZnVcXG1vZGVsc1xcbW9kZWxzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxnZW5cXHZpZGVvXFxzZnVcXHNpZ25hbF9ycGNcXHNpZ25hbC50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZ2VuXFx2aWRlb1xcc2Z1XFxldmVudFxcZXZlbnRzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFx0eXBlcy50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZ2VuXFx2aWRlb1xcc2Z1XFxzaWduYWxfcnBjXFxzaWduYWwuY2xpZW50LnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxycGNcXGNyZWF0ZUNsaWVudC50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcY29vcmRpbmF0b3JcXGNvbm5lY3Rpb25cXHV0aWxzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxoZWxwZXJzXFxwbGF0Zm9ybXMudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGxvZ2dlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xccnBjXFxyZXRyeWFibGUudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHJ0Y1xcY29kZWNzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxydGNcXERpc3BhdGNoZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHJ0Y1xcSWNlVHJpY2tsZUJ1ZmZlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcY29uY3VycmVuY3kudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHN0b3JlXFxyeFV0aWxzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxzdG9yZVxcQ2FsbGluZ1N0YXRlLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxzdG9yZVxcc3RhdGVTdG9yZS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcc29ydGluZ1xcY29tcGFyYXRvci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xccGFydGljaXBhbnRVdGlscy50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcc29ydGluZ1xccGFydGljaXBhbnRzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxzb3J0aW5nXFxwcmVzZXRzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxzdG9yZVxcQ2FsbFN0YXRlLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxydGNcXE5lZ290aWF0aW9uRXJyb3IudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHN0YXRzXFx1dGlscy50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcY2xpZW50LWRldGFpbHMudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGhlbHBlcnNcXGJyb3dzZXJzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxzdGF0c1xcQ2FsbFN0YXRlU3RhdHNSZXBvcnRlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcc3RhdHNcXFNmdVN0YXRzUmVwb3J0ZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHN0YXRzXFxydGNcXHBjLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxzdGF0c1xccnRjXFxTdGF0c1RyYWNlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcc3RhdHNcXHJ0Y1xcVHJhY2VyLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxydGNcXEJhc2VQZWVyQ29ubmVjdGlvbi50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xccnRjXFxUcmFuc2NlaXZlckNhY2hlLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxoZWxwZXJzXFxlbnN1cmVFeGhhdXN0ZWQudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHJ0Y1xcaGVscGVyc1xcdHJhY2tzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxydGNcXHZpZGVvTGF5ZXJzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxydGNcXGhlbHBlcnNcXHNkcC50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xccnRjXFxQdWJsaXNoZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHJ0Y1xcU3Vic2NyaWJlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xccnRjXFxzaWduYWwudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHJ0Y1xcaGVscGVyc1xccnRjQ29uZmlndXJhdGlvbi50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xccHJvbWlzZS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcbGF6eS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcdGltZXJzXFx3b3JrZXIuYnVpbGQudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXHRpbWVyc1xcaW5kZXgudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXFN0cmVhbVNmdUNsaWVudC50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZXZlbnRzXFxjYWxsLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxldmVudHNcXGNhbGwtcGVybWlzc2lvbnMudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGhlbHBlcnNcXGFycmF5LnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxldmVudHNcXGludGVybmFsLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxldmVudHNcXG11dGVzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxldmVudHNcXHBhcnRpY2lwYW50LnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxldmVudHNcXHNwZWFrZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGV2ZW50c1xcY2FsbEV2ZW50SGFuZGxlcnMudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGhlbHBlcnNcXFZpZXdwb3J0VHJhY2tlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcRHluYXNjYWxlTWFuYWdlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xccGVybWlzc2lvbnNcXFBlcm1pc3Npb25zQ29udGV4dC50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcQ2FsbFR5cGUudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGRldmljZXNcXHV0aWxzLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxkZXZpY2VzXFxCcm93c2VyUGVybWlzc2lvbi50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZGV2aWNlc1xcZGV2aWNlcy50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcY29tcGF0aWJpbGl0eS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZGV2aWNlc1xcSW5wdXRNZWRpYURldmljZU1hbmFnZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGRldmljZXNcXElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGRldmljZXNcXENhbWVyYU1hbmFnZXJTdGF0ZS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZGV2aWNlc1xcQ2FtZXJhTWFuYWdlci50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZGV2aWNlc1xcTWljcm9waG9uZU1hbmFnZXJTdGF0ZS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcc291bmQtZGV0ZWN0b3IudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGhlbHBlcnNcXFJOU3BlZWNoRGV0ZWN0b3IudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGRldmljZXNcXE1pY3JvcGhvbmVNYW5hZ2VyLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxkZXZpY2VzXFxTY3JlZW5TaGFyZVN0YXRlLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxkZXZpY2VzXFxTY3JlZW5TaGFyZU1hbmFnZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGRldmljZXNcXFNwZWFrZXJTdGF0ZS50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcZGV2aWNlc1xcU3BlYWtlck1hbmFnZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXENhbGwudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGNvb3JkaW5hdG9yXFxjb25uZWN0aW9uXFxlcnJvcnMudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGNvb3JkaW5hdG9yXFxjb25uZWN0aW9uXFxjb25uZWN0aW9uLnRzIiwiQzpcXFVzZXJzXFxocFxcc3JjXFxjb29yZGluYXRvclxcY29ubmVjdGlvblxcc2lnbmluZy50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcY29vcmRpbmF0b3JcXGNvbm5lY3Rpb25cXHRva2VuX21hbmFnZXIudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXGNvb3JkaW5hdG9yXFxjb25uZWN0aW9uXFxsb2NhdGlvbi50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcY29vcmRpbmF0b3JcXGNvbm5lY3Rpb25cXGNsaWVudC50cyIsIkM6XFxVc2Vyc1xcaHBcXHNyY1xcaGVscGVyc1xcY2xpZW50VXRpbHMudHMiLCJDOlxcVXNlcnNcXGhwXFxzcmNcXFN0cmVhbVZpZGVvQ2xpZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlICovXG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQVBJRXJyb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBUElFcnJvciB7XG4gIC8qKlxuICAgKiBSZXNwb25zZSBIVFRQIHN0YXR1cyBjb2RlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgU3RhdHVzQ29kZTogbnVtYmVyO1xuICAvKipcbiAgICogQVBJIGVycm9yIGNvZGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBjb2RlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGVycm9yLXNwZWNpZmljIGluZm9ybWF0aW9uXG4gICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGRldGFpbHM6IEFycmF5PG51bWJlcj47XG4gIC8qKlxuICAgKiBSZXF1ZXN0IGR1cmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgZXJyb3IgaW5mb1xuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgZXhjZXB0aW9uX2ZpZWxkcz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKiBNZXNzYWdlIGRlc2NyaWJpbmcgYW4gZXJyb3JcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVUkwgd2l0aCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgbW9yZV9pbmZvOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBGbGFnIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBlcnJvciBpcyB1bnJlY292ZXJhYmxlLCByZXF1ZXN0cyB0aGF0IHJldHVybiB1bnJlY292ZXJhYmxlIGVycm9ycyBzaG91bGQgbm90IGJlIHJldHJpZWQsIHRoaXMgZXJyb3Igb25seSBhcHBsaWVzIHRvIHRoZSByZXF1ZXN0IHRoYXQgY2F1c2VkIGl0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIHVucmVjb3ZlcmFibGU/OiBib29sZWFuO1xufVxuLyoqXG4gKiBBY2NlcHRDYWxsUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGFjY2VwdGluZyBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEFjY2VwdENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjY2VwdENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFjY2VwdENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZGVmYXVsdF9kZXZpY2U6IEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtaWNfZGVmYXVsdF9vbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Tm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBub2lzZV9jYW5jZWxsYXRpb24/OiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgb3B1c19kdHhfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICByZWR1bmRhbnRfY29kaW5nX2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgc3BlYWtlcl9kZWZhdWx0X29uPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtID0ge1xuICBTUEVBS0VSOiAnc3BlYWtlcicsXG4gIEVBUlBJRUNFOiAnZWFycGllY2UnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0gPVxuICAodHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0pW2tleW9mIHR5cGVvZiBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBkZWZhdWx0X2RldmljZTogQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWljX2RlZmF1bHRfb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Tm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbm9pc2VfY2FuY2VsbGF0aW9uPzogTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBvcHVzX2R0eF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBzcGVha2VyX2RlZmF1bHRfb246IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW0gPSB7XG4gIFNQRUFLRVI6ICdzcGVha2VyJyxcbiAgRUFSUElFQ0U6ICdlYXJwaWVjZScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW0gPVxuICAodHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtKVtrZXlvZiB0eXBlb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGpvaW5fYWhlYWRfdGltZV9zZWNvbmRzPzogbnVtYmVyO1xufVxuLyoqXG4gKiBCbG9ja1VzZXJSZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciBibG9ja2luZyBhIHVzZXIuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja1VzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHRvIGJsb2NrXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja1VzZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqIEJsb2NrVXNlclJlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBibG9ja2luZyBhIHVzZXIuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvY2tVc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja1VzZXJSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIGNhbGwgcGFydGljaXBhbnRzIHRvIG5vdGlmeSB3aGVuIGEgdXNlciBpcyBibG9ja2VkIG9uIGEgY2FsbCwgY2xpZW50cyBjYW4gdXNlIHRoaXMgZXZlbnQgdG8gc2hvdyBhIG5vdGlmaWNhdGlvbi5cbiAqIElmIHRoZSB1c2VyIGlzIHRoZSBjdXJyZW50IHVzZXIsIHRoZSBjbGllbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlbiBhcyB3ZWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrZWRVc2VyRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja2VkVXNlckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBibG9ja2VkX2J5X3VzZXI/OiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmJsb2NrZWRfdXNlclwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQm91bmRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCb3VuZCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJvdW5kXG4gICAqL1xuICBpbmNsdXNpdmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQm91bmRcbiAgICovXG4gIHZhbHVlOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7SExTU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBobHM/OiBITFNTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UlRNUFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcnRtcD86IFJUTVBTZXR0aW5nc1JlcXVlc3Q7XG59XG4vKipcbiAqIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGJyb2FkY2FzdGluZyBzZXR0aW5nc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7SExTU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGhsczogSExTU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSVE1QU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJ0bXA6IFJUTVBTZXR0aW5nc1Jlc3BvbnNlO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgYWNjZXB0cyBhIG5vdGlmaWNhdGlvbiB0byBqb2luIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEFjY2VwdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQWNjZXB0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5hY2NlcHRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBDYWxsQ2xvc2VkQ2FwdGlvbiByZXByZXNlbnRzIGEgY2xvc2VkIGNhcHRpb24gb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxDbG9zZWRDYXB0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgc3BlYWtlcl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBzdGFydF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIHRleHQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIGNsb3NlZCBjYXB0aW9ucyBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDbG9zZWRDYXB0aW9uc0ZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmNsb3NlZF9jYXB0aW9uc19mYWlsZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgY2xvc2VkIGNhcHRpb24gaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmNsb3NlZF9jYXB0aW9uc19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCBjbG9zZWQgY2FwdGlvbnMgaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fc3RvcHBlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBjcmVhdGVkLiBDbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBjaGVjayBpZiB0aGUgcmluZ2luZ1xuICogZmllbGQgaXMgc2V0IHRvIHRydWUgYW5kIGlmIHNvLCBzaG93IHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ3JlYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENyZWF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIG1lbWJlcnMgYWRkZWQgdG8gdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmNyZWF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIGlzIGRlbGV0ZWQuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRGVsZXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbERlbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5kZWxldGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxEdXJhdGlvblJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxEdXJhdGlvblJlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbER1cmF0aW9uUmVwb3J0XG4gICAqL1xuICBoaXN0b2dyYW06IEFycmF5PFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2U+O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgbWFyayBhcyBlbmRlZCBmb3IgYWxsIGl0cyBwYXJ0aWNpcGFudHMuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRW5kZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFbmRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcmVhc29uIHdoeSB0aGUgY2FsbCBlbmRlZCwgaWYgYXZhaWxhYmxlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5lbmRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEVuZGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gZnJhbWUgcmVjb3JkaW5nIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBlZ3Jlc3NfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZnJhbWVfcmVjb3JkaW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBmcmFtZSBpcyBjYXB0dXJlZCBmcm9tIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdGcmFtZVJlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdGcmFtZVJlYWR5RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBmcmFtZSB3YXMgY2FwdHVyZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgY2FwdHVyZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGcmFtZVJlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGcmFtZVJlYWR5RXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGcmFtZVJlYWR5RXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB0cmFjayBmcmFtZSB3YXMgY2FwdHVyZWQgZnJvbSAoVFJBQ0tfVFlQRV9WSURFT3xUUkFDS19UWVBFX1NDUkVFTl9TSEFSRSlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgdHJhY2tfdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5mcmFtZV9yZWNvcmRpbmdfcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgZnJhbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdXNlcnMgaW4gdGhlIGZyYW1lXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IFVzZXJSZXNwb25zZTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlIH07XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGZyYW1lIHJlY29yZGluZyBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5mcmFtZV9yZWNvcmRpbmdfc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGZyYW1lIHJlY29yZGluZyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5mcmFtZV9yZWNvcmRpbmdfc3RvcHBlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIEhMUyBicm9hZGNhc3RpbmcgaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBITFMgYnJvYWRjYXN0aW5nIGhhcyBzdGFydGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgaGxzX3BsYXlsaXN0X3VybDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBDYWxsSW5ncmVzc1Jlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBpbmdyZXNzIHNldHRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxJbmdyZXNzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsSW5ncmVzc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSVE1QSW5ncmVzc31cbiAgICogQG1lbWJlcm9mIENhbGxJbmdyZXNzUmVzcG9uc2VcbiAgICovXG4gIHJ0bXA6IFJUTVBJbmdyZXNzO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgc3RhcnRlZC4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgc3RhcnQgdGhlIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbExpdmVTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubGl2ZV9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGFyZSBhZGRlZCB0byBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyQWRkZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIG1lbWJlcnMgYWRkZWQgdG8gdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfYWRkZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgYXJlIHJlbW92ZWQgZnJvbSBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJSZW1vdmVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIG1lbWJlciBJRHMgcmVtb3ZlZCBmcm9tIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubWVtYmVyX3JlbW92ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBhcmUgdXBkYXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbWVtYmVycyB0aGF0IHdlcmUgdXBkYXRlZFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfdXBkYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGdldCBpdHMgcm9sZSB1cGRhdGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhcGFiaWxpdGllc19ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbWVtYmVycyB0aGF0IHdlcmUgdXBkYXRlZFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubWVtYmVyX2FkZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gY2FsbCBtZW1iZXJzIHdobyBkaWQgbm90IGFjY2VwdC9yZWplY3Qvam9pbiB0aGUgY2FsbCB0byBub3RpZnkgdGhleSBtaXNzZWQgdGhlIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1pc3NlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1pc3NlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaXN0IG9mIG1lbWJlcnMgd2hvIG1pc3NlZCB0aGUgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgbm90aWZ5X3VzZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTW9kZXJhdGlvbkJsdXJFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNb2RlcmF0aW9uQmx1ckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbkJsdXJFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbkJsdXJFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1vZGVyYXRpb25CbHVyRXZlbnRcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbkJsdXJFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uQmx1ckV2ZW50XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNb2RlcmF0aW9uV2FybmluZ0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uV2FybmluZ0V2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uV2FybmluZ0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbldhcm5pbmdFdmVudFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uV2FybmluZ0V2ZW50XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbldhcm5pbmdFdmVudFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gYWxsIGNhbGwgbWVtYmVycyB0byBub3RpZnkgdGhleSBhcmUgZ2V0dGluZyBjYWxsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRcbiAgICovXG4gIGhpc3RvZ3JhbTogQXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhaWx5OiBBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgam9pbmVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSByZWFjdGlvbiBpcyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgcmVhY3Rpb24gaW4gdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWFjdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlYWN0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhY3Rpb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICByZWFjdGlvbjogUmVhY3Rpb25SZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVhY3Rpb25fbmV3XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVhY3Rpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBDYWxsUmVjb3JkaW5nIHJlcHJlc2VudHMgYSByZWNvcmRpbmcgb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBzdGFydF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBlZ3Jlc3NfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZWNvcmRpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9yZWNvcmRpbmc6IENhbGxSZWNvcmRpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19yZWFkeVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWNvcmRpbmdfc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciByZWplY3RzIGEgbm90aWZpY2F0aW9uIHRvIGpvaW4gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVqZWN0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWplY3RlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQcm92aWRlcyBpbmZvcm1hdGlvbiBhYm91dCB3aHkgdGhlIGNhbGwgd2FzIHJlamVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW55IHZhbHVlLCBidXQgdGhlIFN0cmVhbSBBUEkgYW5kIFNES3MgdXNlIHRoZXNlIGRlZmF1bHQgdmFsdWVzOiByZWplY3RlZCwgY2FuY2VsLCB0aW1lb3V0IGFuZCBidXN5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWplY3RlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBzY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRlZF9hdD86IHN0cmluZztcbn1cbi8qKlxuICogQ2FsbFJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGNyZWF0aW5nIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIGNoYW5uZWxfY2lkPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVycz86IEFycmF5PE1lbWJlclJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgc2V0dGluZ3Nfb3ZlcnJpZGU/OiBDYWxsU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBzdGFydHNfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHRlYW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgYmFja3N0YWdlOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGJsb2NrZWRfdXNlcl9pZHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FwdGlvbmluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNoYW5uZWxfY2lkPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIGNhbGwgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2J5OiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjdXJyZW50X3Nlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtFZ3Jlc3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgZWdyZXNzOiBFZ3Jlc3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIGVuZGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGVuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxJbmdyZXNzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGluZ3Jlc3M6IENhbGxJbmdyZXNzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNlc3Npb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc2Vzc2lvbj86IENhbGxTZXNzaW9uUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIHdpbGwgc3RhcnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpYmluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmluZ0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJpbmdFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB2aWRlbzogYm9vbGVhbjtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIFJUTVAgYnJvYWRjYXN0IGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJ0bXBCcm9hZGNhc3RGYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSdG1wQnJvYWRjYXN0RmFpbGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIGNhbGwgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RGYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogTmFtZSBvZiB0aGUgZ2l2ZW4gUlRNUCBicm9hZGNhc3RcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSdG1wQnJvYWRjYXN0RmFpbGVkRXZlbnRcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucnRtcF9icm9hZGNhc3RfZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdEZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIFJUTVAgYnJvYWRjYXN0IGhhcyBzdGFydGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSdG1wQnJvYWRjYXN0U3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJ0bXBCcm9hZGNhc3RTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIGNhbGwgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSdG1wQnJvYWRjYXN0U3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSBnaXZlbiBSVE1QIGJyb2FkY2FzdFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RTdGFydGVkRXZlbnRcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucnRtcF9icm9hZGNhc3Rfc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gUlRNUCBicm9hZGNhc3QgaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJ0bXBCcm9hZGNhc3RTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgY2FsbCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIE5hbWUgb2YgdGhlIGdpdmVuIFJUTVAgYnJvYWRjYXN0XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ydG1wX2Jyb2FkY2FzdF9zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgc2Vzc2lvbiBlbmRzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uRW5kZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9lbmRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBwYXJ0aWNpcGFudCBjb3VudHMgaW4gYSBjYWxsIHNlc3Npb24gYXJlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgcGFydGljaXBhbnQgam9pbnMgYSBjYWxsIHNlc3Npb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHBhcnRpY2lwYW50OiBDYWxsUGFydGljaXBhbnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBwYXJ0aWNpcGFudCBsZWF2ZXMgYSBjYWxsIHNlc3Npb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGR1cmF0aW9uIHBhcnRpY2lwYW50IHdhcyBpbiB0aGUgc2Vzc2lvbiBpbiBzZWNvbmRzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBkdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBwYXJ0aWNpcGFudDogQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2U7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9sZWZ0XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGFjY2VwdGVkX2J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGVuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgbGl2ZV9lbmRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBsaXZlX3N0YXJ0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBtaXNzZWRfYnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRzOiBBcnJheTxDYWxsUGFydGljaXBhbnRSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHJlamVjdGVkX2J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHN0YXJ0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgdGltZXJfZW5kc19hdD86IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIHNlc3Npb24gc3RhcnRzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXVkaW9TZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdWRpbz86IEF1ZGlvU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0JhY2tzdGFnZVNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGJhY2tzdGFnZT86IEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBicm9hZGNhc3Rpbmc/OiBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7RnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBmcmFtZV9yZWNvcmRpbmc/OiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtHZW9mZW5jZVNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGdlb2ZlbmNpbmc/OiBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtJbmdyZXNzU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgaW5ncmVzcz86IEluZ3Jlc3NTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGltaXRzU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbGltaXRzPzogTGltaXRzU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlY29yZFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZz86IFJlY29yZFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSaW5nU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcmluZz86IFJpbmdTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJpbmc/OiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1Nlc3Npb25TZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBzZXNzaW9uPzogU2Vzc2lvblNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb24/OiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBWaWRlb1NldHRpbmdzUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXVkaW9TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGF1ZGlvOiBBdWRpb1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBiYWNrc3RhZ2U6IEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBicm9hZGNhc3Rpbmc6IEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7RnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGZyYW1lX3JlY29yZGluZzogRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0dlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBnZW9mZW5jaW5nOiBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7SW5ncmVzc1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgaW5ncmVzcz86IEluZ3Jlc3NTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xpbWl0c1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbGltaXRzOiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlY29yZFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVjb3JkaW5nOiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJpbmc6IFJpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNjcmVlbnNoYXJpbmc6IFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1Nlc3Npb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNlc3Npb246IFNlc3Npb25TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRodW1ibmFpbHM6IFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpcHRpb246IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB2aWRlbzogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlO1xufVxuLyoqXG4gKiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkcyBpcyB0aGUgcGF5bG9hZCBmb3IgY2FsbCBzdGF0ZSByZXNwb25zZVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogTGlzdCBvZiBjYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiB0aGUgaW5zaWdodHMgcmVwb3J0IGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTdGF0c1JlcG9ydFJlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdHNSZXBvcnRSZWFkeUV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFJlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0UmVhZHlFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQsIFwiY2FsbC5yZXBvcnRfcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFJlYWR5RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zdGF0dXM6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBmaXJzdF9zdGF0c190aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBtaW5fdXNlcl9yYXRpbmc/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlPzogbnVtYmVyO1xufVxuLyoqXG4gKiBDYWxsVHJhbnNjcmlwdGlvbiByZXByZXNlbnRzIGEgdHJhbnNjcmlwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25cbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBlZ3Jlc3NfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBtZXNzYWdlIGRldGFpbGluZyB3aHkgdHJhbnNjcmlwdGlvbiBmYWlsZWQuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBlcnJvcj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9mYWlsZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCB0cmFuc2NyaXB0aW9uIGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxUcmFuc2NyaXB0aW9ufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX3RyYW5zY3JpcHRpb246IENhbGxUcmFuc2NyaXB0aW9uO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCB0cmFuc2NyaXB0aW9uIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyB1cGRhdGVkLCBjbGllbnRzIHNob3VsZCB1c2UgdGhpcyB1cGRhdGUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBjYWxsLlxuICogVGhpcyBldmVudCBhbHNvIGNvbnRhaW5zIHRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhlIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVwZGF0ZSB0aGUgb3duX2NhcGFiaWxpdHkgZm9yIHRoZSBjdXJyZW50LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIHN1Ym1pdHMgZmVlZGJhY2sgZm9yIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlckZlZWRiYWNrU3VibWl0dGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBwcm92aWRlZCBieSB0aGUgdXNlclxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlckZlZWRiYWNrU3VibWl0dGVkRXZlbnRcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBUaGUgcmF0aW5nIGdpdmVuIGJ5IHRoZSB1c2VyICgxLTUpXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlckZlZWRiYWNrU3VibWl0dGVkRXZlbnRcbiAgICovXG4gIHJhdGluZzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHJlYXNvbiBwcm92aWRlZCBieSB0aGUgdXNlciBmb3IgdGhlIHJhdGluZ1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50XG4gICAqL1xuICBzZGs/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50XG4gICAqL1xuICBzZGtfdmVyc2lvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJGZWVkYmFja1N1Ym1pdHRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudCwgXCJjYWxsLnVzZXJfZmVlZGJhY2tcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyRmVlZGJhY2tTdWJtaXR0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyRmVlZGJhY2tTdWJtaXR0ZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgbWVtYmVyIGlzIG11dGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxVc2VyTXV0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxVc2VyTXV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgZnJvbV91c2VyX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgbXV0ZWRfdXNlcl9pZHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnVzZXJfbXV0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsc1BlckRheVJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsc1BlckRheVJlcG9ydFxuICAgKi9cbiAgY291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhdEFjdGl2aXR5U3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lc3NhZ2VTdGF0c1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2hhdEFjdGl2aXR5U3RhdHNSZXNwb25zZVxuICAgKi9cbiAgTWVzc2FnZXM/OiBNZXNzYWdlU3RhdHNSZXNwb25zZTtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2xvc2VkIGNhcHRpb25zIGFyZSBiZWluZyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgY2xvc2VkIGNhcHRpb25zIGluIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsQ2xvc2VkQ2FwdGlvbn1cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb246IENhbGxDbG9zZWRDYXB0aW9uO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5jbG9zZWRfY2FwdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2xvc2VkQ2FwdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHJhdGluZzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBzZGtfdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IG9iamVjdDtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIFdTIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgYW5kIGF1dGhlbnRpY2F0ZWQsIHRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGZ1bGwgdXNlciBvYmplY3QgYXMgaXQgaXMgc3RvcmVkIG9uIHRoZSBzZXJ2ZXJcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29ubmVjdGlvbl9pZCBmb3IgdGhpcyBjbGllbnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtPd25Vc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgbWU6IE93blVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNvbm5lY3Rpb24ub2tcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBXUyBjb25uZWN0aW9uIGZhaWxzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvbkVycm9yRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBUElFcnJvcn1cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBlcnJvcjogQVBJRXJyb3I7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjb25uZWN0aW9uLm9rXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb3VudEJ5TWludXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvdW50QnlNaW51dGVSZXNwb25zZVxuICAgKi9cbiAgY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAgICovXG4gIHN0YXJ0X3RzOiBzdHJpbmc7XG59XG4vKipcbiAqIENyZWF0ZSBkZXZpY2UgcmVxdWVzdFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRGV2aWNlUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBEZXZpY2UgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICBwdXNoX3Byb3ZpZGVyOiBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bTtcbiAgLyoqXG4gICAqIFB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hlbiB0cnVlIHRoZSB0b2tlbiBpcyBmb3IgQXBwbGUgVm9JUCBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICB2b2lwX3Rva2VuPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSA9IHtcbiAgRklSRUJBU0U6ICdmaXJlYmFzZScsXG4gIEFQTjogJ2FwbicsXG4gIEhVQVdFSTogJ2h1YXdlaScsXG4gIFhJQU9NSTogJ3hpYW9taScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0gPVxuICAodHlwZW9mIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtKVtrZXlvZiB0eXBlb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlcXVlc3RcbiAgICovXG4gIHVzZXI6IFVzZXJSZXF1ZXN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXNwb25zZSB7XG4gIC8qKlxuICAgKiB0aGUgYWNjZXNzIHRva2VuIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVkZW50aWFsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWRlbnRpYWxzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxJQ0VTZXJ2ZXI+fVxuICAgKiBAbWVtYmVyb2YgQ3JlZGVudGlhbHNcbiAgICovXG4gIGljZV9zZXJ2ZXJzOiBBcnJheTxJQ0VTZXJ2ZXI+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NGVVJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ3JlZGVudGlhbHNcbiAgICovXG4gIHNlcnZlcjogU0ZVUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlZGVudGlhbHNcbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG59XG4vKipcbiAqIEEgY3VzdG9tIGV2ZW50LCB0aGlzIGV2ZW50IGlzIHVzZWQgdG8gc2VuZCBjdXN0b20gZXZlbnRzIHRvIG90aGVyIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3VzdG9tVmlkZW9FdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbVZpZGVvRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50LCBcImN1c3RvbVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERhaWx5QWdncmVnYXRlQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsRHVyYXRpb25SZXBvcnR9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZUNhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICByZXBvcnQ6IENhbGxEdXJhdGlvblJlcG9ydDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZUNhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydH1cbiAgICogQG1lbWJlcm9mIERhaWx5QWdncmVnYXRlQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZUNhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsc1BlckRheVJlcG9ydH1cbiAgICogQG1lbWJlcm9mIERhaWx5QWdncmVnYXRlQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBDYWxsc1BlckRheVJlcG9ydDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERhaWx5QWdncmVnYXRlUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtRdWFsaXR5U2NvcmVSZXBvcnR9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZVF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICByZXBvcnQ6IFF1YWxpdHlTY29yZVJlcG9ydDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVTREtVc2FnZVJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVTREtVc2FnZVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZVNES1VzYWdlUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTREtVc2FnZVJlcG9ydH1cbiAgICogQG1lbWJlcm9mIERhaWx5QWdncmVnYXRlU0RLVXNhZ2VSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBTREtVc2FnZVJlcG9ydDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGFpbHlBZ2dyZWdhdGVVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERhaWx5QWdncmVnYXRlVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyRmVlZGJhY2tSZXBvcnR9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZVVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICByZXBvcnQ6IFVzZXJGZWVkYmFja1JlcG9ydDtcbn1cbi8qKlxuICogRGVsZXRlQ2FsbFJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGRlbGV0aW5nIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGVsZXRlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBpZiB0cnVlIHRoZSBjYWxsIHdpbGwgYmUgaGFyZCBkZWxldGVkIGFsb25nIHdpdGggYWxsIHJlbGF0ZWQgZGF0YVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIERlbGV0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBoYXJkPzogYm9vbGVhbjtcbn1cbi8qKlxuICogRGVsZXRlQ2FsbFJlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBkZWxldGluZyBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERlbGV0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgdGFza19pZD86IHN0cmluZztcbn1cbi8qKlxuICogUmVzcG9uc2UgZm9yIERlbGV0ZVJlY29yZGluZ1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlUmVjb3JkaW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIERlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgZGVsZXRpbmcgYSB0cmFuc2NyaXB0aW9uLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciBEZXZpY2VcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGV2aWNlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2VSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGRldmljZSBpcyBkaXNhYmxlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogUmVhc29uIGV4cGxhaW5pbmcgd2h5IGRldmljZSBoYWQgYmVlbiBkaXNhYmxlZFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkX3JlYXNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIERldmljZSBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9wcm92aWRlcjogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlciBuYW1lXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogVXNlciBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIHZvaXA/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZGdlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZGdlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgY29udGluZW50X2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGNvdW50cnlfaXNvX2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGdyZWVuOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgbGF0ZW5jeV90ZXN0X3VybDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgcmVkOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBzdWJkaXZpc2lvbl9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgeWVsbG93OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc0hMU1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWdyZXNzSExTUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc0hMU1Jlc3BvbnNlXG4gICAqL1xuICBwbGF5bGlzdF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NITFNSZXNwb25zZVxuICAgKi9cbiAgc3RhdHVzOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc1JUTVBSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc1JUTVBSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBzdGFydGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBzdHJlYW1fa2V5Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgc3RyZWFtX3VybD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWdyZXNzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZ3Jlc3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBicm9hZGNhc3Rpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7RnJhbWVSZWNvcmRpbmdSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBmcmFtZV9yZWNvcmRpbmc/OiBGcmFtZVJlY29yZGluZ1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0VncmVzc0hMU1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUmVzcG9uc2VcbiAgICovXG4gIGhscz86IEVncmVzc0hMU1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEVncmVzc1JUTVBSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgcnRtcHM6IEFycmF5PEVncmVzc1JUTVBSZXNwb25zZT47XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciBlbmRpbmcgYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVuZENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVuZENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVuZENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRnJhbWVSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZyYW1lUmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEZyYW1lUmVjb3JkaW5nUmVzcG9uc2VcbiAgICovXG4gIHN0YXR1czogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2FwdHVyZV9pbnRlcnZhbF9pbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1vZGU6IEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHF1YWxpdHk/OiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9XG4gICh0eXBlb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSlba2V5b2YgdHlwZW9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW1dO1xuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPSB7XG4gIF8zNjBQOiAnMzYwcCcsXG4gIF80ODBQOiAnNDgwcCcsXG4gIF83MjBQOiAnNzIwcCcsXG4gIF8xMDgwUDogJzEwODBwJyxcbiAgXzE0NDBQOiAnMTQ0MHAnLFxuICBfMjE2MFA6ICcyMTYwcCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSA9XG4gICh0eXBlb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSlba2V5b2YgdHlwZW9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjYXB0dXJlX2ludGVydmFsX2luX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1vZGU6IEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VNb2RlRW51bSA9XG4gICh0eXBlb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0pW2tleW9mIHR5cGVvZiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VNb2RlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBuYW1lcz86IEFycmF5PHN0cmluZz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIEdlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbmFtZXM6IEFycmF5PHN0cmluZz47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldENhbGxSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldENhbGxSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2hhdEFjdGl2aXR5U3RhdHNSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgY2hhdF9hY3Rpdml0eT86IENoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxWaWRlb1JlYWN0aW9uc1Jlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgdmlkZW9fcmVhY3Rpb25zPzogQXJyYXk8VmlkZW9SZWFjdGlvbnNSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRFZGdlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0RWRnZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldEVkZ2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RWRnZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldEVkZ2VzUmVzcG9uc2VcbiAgICovXG4gIGVkZ2VzOiBBcnJheTxFZGdlUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBkYXRhPzogQ2FsbFJlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqIGlmIHByb3ZpZGVkIGl0IHNlbmRzIGEgbm90aWZpY2F0aW9uIGV2ZW50IHRvIHRoZSBtZW1iZXJzIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBub3RpZnk/OiBib29sZWFuO1xuICAvKipcbiAgICogaWYgcHJvdmlkZWQgaXQgc2VuZHMgYSByaW5nIGV2ZW50IHRvIHRoZSBtZW1iZXJzIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICByaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR29MaXZlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZ19zdG9yYWdlX25hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X2Nsb3NlZF9jYXB0aW9uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRfaGxzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRfcmVjb3JkaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRfdHJhbnNjcmlwdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR29MaXZlUmVxdWVzdFxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbl9zdG9yYWdlX25hbWU/OiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdvTGl2ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR29MaXZlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHcm91cGVkU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwZWRTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHcm91cGVkU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdyb3VwZWRTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICB1bmlxdWU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdXRvX29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICogSExTU2V0dGluZ3MgaXMgdGhlIHBheWxvYWQgZm9yIEhMUyBzZXR0aW5nc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHlfdHJhY2tzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBIZWFsdGhDaGVja0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgY2lkPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgcmVjZWl2ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBJQ0VTZXJ2ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VTZXJ2ZXIge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIElDRVNlcnZlclxuICAgKi9cbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgSUNFU2VydmVyXG4gICAqL1xuICB1cmxzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIElDRVNlcnZlclxuICAgKi9cbiAgdXNlcm5hbWU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9uc1JlcXVlc3RcbiAgICovXG4gIGJpdHJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBJbmdyZXNzQXVkaW9FbmNvZGluZ09wdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBjaGFubmVsczogSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zUmVxdWVzdENoYW5uZWxzRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlX2R0eD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zUmVxdWVzdENoYW5uZWxzRW51bSA9IHtcbiAgTlVNQkVSXzE6IDEsXG4gIE5VTUJFUl8yOiAyLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9uc1JlcXVlc3RDaGFubmVsc0VudW0gPVxuICAodHlwZW9mIEluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9uc1JlcXVlc3RDaGFubmVsc0VudW0pW2tleW9mIHR5cGVvZiBJbmdyZXNzQXVkaW9FbmNvZGluZ09wdGlvbnNSZXF1ZXN0Q2hhbm5lbHNFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBJbmdyZXNzQXVkaW9FbmNvZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5ncmVzc0F1ZGlvRW5jb2RpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc0F1ZGlvRW5jb2RpbmdSZXNwb25zZVxuICAgKi9cbiAgYml0cmF0ZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NBdWRpb0VuY29kaW5nUmVzcG9uc2VcbiAgICovXG4gIGNoYW5uZWxzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NBdWRpb0VuY29kaW5nUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZV9kdHg6IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEluZ3Jlc3NTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmdyZXNzU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtJbmdyZXNzQXVkaW9FbmNvZGluZ09wdGlvbnNSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW9fZW5jb2Rpbmdfb3B0aW9ucz86IEluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9uc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogSW5ncmVzc1ZpZGVvRW5jb2RpbmdPcHRpb25zUmVxdWVzdDsgfX1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHZpZGVvX2VuY29kaW5nX29wdGlvbnM/OiB7XG4gICAgW2tleTogc3RyaW5nXTogSW5ncmVzc1ZpZGVvRW5jb2RpbmdPcHRpb25zUmVxdWVzdDtcbiAgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSW5ncmVzc1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmdyZXNzU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7SW5ncmVzc0F1ZGlvRW5jb2RpbmdSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdWRpb19lbmNvZGluZ19vcHRpb25zPzogSW5ncmVzc0F1ZGlvRW5jb2RpbmdSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBJbmdyZXNzVmlkZW9FbmNvZGluZ1Jlc3BvbnNlOyB9fVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHZpZGVvX2VuY29kaW5nX29wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IEluZ3Jlc3NWaWRlb0VuY29kaW5nUmVzcG9uc2UgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSW5ncmVzc1ZpZGVvRW5jb2RpbmdPcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEluZ3Jlc3NWaWRlb0VuY29kaW5nT3B0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBJbmdyZXNzVmlkZW9FbmNvZGluZ09wdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBsYXllcnM6IEFycmF5PEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdD47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEluZ3Jlc3NWaWRlb0VuY29kaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmdyZXNzVmlkZW9FbmNvZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxJbmdyZXNzVmlkZW9MYXllclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NWaWRlb0VuY29kaW5nUmVzcG9uc2VcbiAgICovXG4gIGxheWVyczogQXJyYXk8SW5ncmVzc1ZpZGVvTGF5ZXJSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1ZpZGVvTGF5ZXJSZXF1ZXN0XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1ZpZGVvTGF5ZXJSZXF1ZXN0XG4gICAqL1xuICBjb2RlYzogSW5ncmVzc1ZpZGVvTGF5ZXJSZXF1ZXN0Q29kZWNFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdFxuICAgKi9cbiAgZnJhbWVfcmF0ZV9saW1pdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdFxuICAgKi9cbiAgbWF4X2RpbWVuc2lvbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdFxuICAgKi9cbiAgbWluX2RpbWVuc2lvbjogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdENvZGVjRW51bSA9IHtcbiAgSDI2NDogJ2gyNjQnLFxuICBWUDg6ICd2cDgnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEluZ3Jlc3NWaWRlb0xheWVyUmVxdWVzdENvZGVjRW51bSA9XG4gICh0eXBlb2YgSW5ncmVzc1ZpZGVvTGF5ZXJSZXF1ZXN0Q29kZWNFbnVtKVtrZXlvZiB0eXBlb2YgSW5ncmVzc1ZpZGVvTGF5ZXJSZXF1ZXN0Q29kZWNFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBJbmdyZXNzVmlkZW9MYXllclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5ncmVzc1ZpZGVvTGF5ZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1ZpZGVvTGF5ZXJSZXNwb25zZVxuICAgKi9cbiAgYml0cmF0ZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NWaWRlb0xheWVyUmVzcG9uc2VcbiAgICovXG4gIGNvZGVjOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgSW5ncmVzc1ZpZGVvTGF5ZXJSZXNwb25zZVxuICAgKi9cbiAgZnJhbWVfcmF0ZV9saW1pdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEluZ3Jlc3NWaWRlb0xheWVyUmVzcG9uc2VcbiAgICovXG4gIG1heF9kaW1lbnNpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBJbmdyZXNzVmlkZW9MYXllclJlc3BvbnNlXG4gICAqL1xuICBtaW5fZGltZW5zaW9uOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEpvaW5DYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5DYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBpZiB0cnVlIHRoZSBjYWxsIHdpbGwgYmUgY3JlYXRlZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBjcmVhdGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBkYXRhPzogQ2FsbFJlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBsb2NhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqIElmIHRoZSBwYXJ0aWNpcGFudCBpcyBtaWdyYXRpbmcgZnJvbSBhbm90aGVyIFNGVSwgdGhlbiB0aGlzIGlzIHRoZSBJRCBvZiB0aGUgcHJldmlvdXMgU0ZVXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1pZ3JhdGluZ19mcm9tPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG5vdGlmeT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBpZiB0cnVlIGFuZCB0aGUgY2FsbCBpcyBjcmVhdGVkLCB0aGUgbm90aWZpY2F0aW9uIHdpbGwgaW5jbHVkZSByaW5nPXRydWVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSm9pbkNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5DYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDcmVkZW50aWFsc31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzT3B0aW9uc31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIHN0YXRzX29wdGlvbnM6IFN0YXRzT3B0aW9ucztcbn1cbi8qKlxuICogS2lja1VzZXJSZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciBraWNraW5nIGEgdXNlciBmcm9tIGEgY2FsbC4gT3B0aW9uYWxseSBibG9jayB0aGUgdXNlciBhcyB3ZWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBLaWNrVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBLaWNrVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYWxzbyBibG9jayB0aGUgdXNlciBmcm9tIHJlam9pbmluZyB0aGUgY2FsbFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEtpY2tVc2VyUmVxdWVzdFxuICAgKi9cbiAgYmxvY2s/OiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHVzZXIgdG8ga2lja1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgS2lja1VzZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqIEtpY2tVc2VyUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGtpY2tpbmcgYSB1c2VyIGZyb20gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBLaWNrVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgS2lja1VzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEtpY2tVc2VyUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBjYWxsIHBhcnRpY2lwYW50cyB0byBub3RpZnkgd2hlbiBhIHVzZXIgaXMga2lja2VkIGZyb20gYSBjYWxsLiBDbGllbnRzIHNob3VsZCBtYWtlIHRoZSBraWNrZWQgdXNlciBsZWF2ZSB0aGUgY2FsbCBVSS5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgS2lja2VkVXNlckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgS2lja2VkVXNlckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBLaWNrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgS2lja2VkVXNlckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgS2lja2VkVXNlckV2ZW50XG4gICAqL1xuICBraWNrZWRfYnlfdXNlcj86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwua2lja2VkX3VzZXJcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEtpY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEtpY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMYXlvdXRTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBMYXlvdXRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGRldGVjdF9vcmllbnRhdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBleHRlcm5hbF9hcHBfdXJsPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExheW91dFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZXh0ZXJuYWxfY3NzX3VybD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMYXlvdXRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG5hbWU6IExheW91dFNldHRpbmdzUmVxdWVzdE5hbWVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBvcHRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBMYXlvdXRTZXR0aW5nc1JlcXVlc3ROYW1lRW51bSA9IHtcbiAgU1BPVExJR0hUOiAnc3BvdGxpZ2h0JyxcbiAgR1JJRDogJ2dyaWQnLFxuICBTSU5HTEVfUEFSVElDSVBBTlQ6ICdzaW5nbGUtcGFydGljaXBhbnQnLFxuICBNT0JJTEU6ICdtb2JpbGUnLFxuICBDVVNUT006ICdjdXN0b20nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIExheW91dFNldHRpbmdzUmVxdWVzdE5hbWVFbnVtID1cbiAgKHR5cGVvZiBMYXlvdXRTZXR0aW5nc1JlcXVlc3ROYW1lRW51bSlba2V5b2YgdHlwZW9mIExheW91dFNldHRpbmdzUmVxdWVzdE5hbWVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWF4X2R1cmF0aW9uX3NlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGltaXRzU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtYXhfcGFydGljaXBhbnRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHNfZXhjbHVkZV9vd25lcj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWF4X3BhcnRpY2lwYW50c19leGNsdWRlX3JvbGVzPzogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9kdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHNfZXhjbHVkZV9vd25lcj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHNfZXhjbHVkZV9yb2xlczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICogTGlzdCBkZXZpY2VzIHJlc3BvbnNlXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3REZXZpY2VzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0RGV2aWNlc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIExpc3Qgb2YgZGV2aWNlc1xuICAgKiBAdHlwZSB7QXJyYXk8RGV2aWNlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgTGlzdERldmljZXNSZXNwb25zZVxuICAgKi9cbiAgZGV2aWNlczogQXJyYXk8RGV2aWNlUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3REZXZpY2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciBsaXN0aW5nIHJlY29yZGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGlzdFJlY29yZGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RSZWNvcmRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3RSZWNvcmRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFJlY29yZGluZz59XG4gICAqIEBtZW1iZXJvZiBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmdzOiBBcnJheTxDYWxsUmVjb3JkaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaXN0IG9mIHRyYW5zY3JpcHRpb25zIGZvciB0aGUgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFRyYW5zY3JpcHRpb24+fVxuICAgKiBAbWVtYmVyb2YgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpcHRpb25zOiBBcnJheTxDYWxsVHJhbnNjcmlwdGlvbj47XG59XG4vKipcbiAqIE1lbWJlclJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGFkZGluZyBhIG1lbWJlciB0byBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE1lbWJlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZW1iZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlcXVlc3RcbiAgICovXG4gIHJvbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBNZW1iZXJSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgYSBtZW1iZXIgb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNZW1iZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lbWJlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBtZW1iZXIgcmVzcG9uc2UgZGF0YVxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgcm9sZT86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNZXNzYWdlU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDb3VudEJ5TWludXRlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgTWVzc2FnZVN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNvdW50X292ZXJfdGltZT86IEFycmF5PENvdW50QnlNaW51dGVSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE11dGVVc2Vyc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBtdXRlX2FsbF91c2Vycz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgc2NyZWVuc2hhcmVfYXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICogTXV0ZVVzZXJzUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHBheWxvYWQgZm9yIHRoZSBtdXRlIHVzZXJzIGVuZHBvaW50LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNdXRlVXNlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE11dGVVc2Vyc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBhdmVyYWdlX2Nvbm5lY3Rpb25fdGltZT86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBhdmVyYWdlX2ppdHRlcj86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBhdmVyYWdlX2xhdGVuY3k/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV90aW1lX3RvX3JlY29ubmVjdD86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3Mge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NcbiAgICovXG4gIG1vZGU6IE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtID1cbiAgKHR5cGVvZiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0pW2tleW9mIHR5cGVvZiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW1dO1xuXG4vKipcbiAqIEFsbCBwb3NzaWJpbGl0eSBvZiBzdHJpbmcgdG8gdXNlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBPd25DYXBhYmlsaXR5ID0ge1xuICBCTE9DS19VU0VSUzogJ2Jsb2NrLXVzZXJzJyxcbiAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICBDUkVBVEVfQ0FMTDogJ2NyZWF0ZS1jYWxsJyxcbiAgQ1JFQVRFX1JFQUNUSU9OOiAnY3JlYXRlLXJlYWN0aW9uJyxcbiAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICBFTkRfQ0FMTDogJ2VuZC1jYWxsJyxcbiAgSk9JTl9CQUNLU1RBR0U6ICdqb2luLWJhY2tzdGFnZScsXG4gIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gIEpPSU5fRU5ERURfQ0FMTDogJ2pvaW4tZW5kZWQtY2FsbCcsXG4gIEtJQ0tfVVNFUjogJ2tpY2stdXNlcicsXG4gIE1VVEVfVVNFUlM6ICdtdXRlLXVzZXJzJyxcbiAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICBSRUFEX0NBTEw6ICdyZWFkLWNhbGwnLFxuICBSRU1PVkVfQ0FMTF9NRU1CRVI6ICdyZW1vdmUtY2FsbC1tZW1iZXInLFxuICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgU0VORF9BVURJTzogJ3NlbmQtYXVkaW8nLFxuICBTRU5EX1ZJREVPOiAnc2VuZC12aWRlbycsXG4gIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICBTVEFSVF9DTE9TRURfQ0FQVElPTlNfQ0FMTDogJ3N0YXJ0LWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgU1RBUlRfRlJBTUVfUkVDT1JEX0NBTEw6ICdzdGFydC1mcmFtZS1yZWNvcmQtY2FsbCcsXG4gIFNUQVJUX1JFQ09SRF9DQUxMOiAnc3RhcnQtcmVjb3JkLWNhbGwnLFxuICBTVEFSVF9UUkFOU0NSSVBUSU9OX0NBTEw6ICdzdGFydC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICBTVE9QX0JST0FEQ0FTVF9DQUxMOiAnc3RvcC1icm9hZGNhc3QtY2FsbCcsXG4gIFNUT1BfQ0xPU0VEX0NBUFRJT05TX0NBTEw6ICdzdG9wLWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgU1RPUF9GUkFNRV9SRUNPUkRfQ0FMTDogJ3N0b3AtZnJhbWUtcmVjb3JkLWNhbGwnLFxuICBTVE9QX1JFQ09SRF9DQUxMOiAnc3RvcC1yZWNvcmQtY2FsbCcsXG4gIFNUT1BfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RvcC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICBVUERBVEVfQ0FMTDogJ3VwZGF0ZS1jYWxsJyxcbiAgVVBEQVRFX0NBTExfTUVNQkVSOiAndXBkYXRlLWNhbGwtbWVtYmVyJyxcbiAgVVBEQVRFX0NBTExfUEVSTUlTU0lPTlM6ICd1cGRhdGUtY2FsbC1wZXJtaXNzaW9ucycsXG4gIFVQREFURV9DQUxMX1NFVFRJTkdTOiAndXBkYXRlLWNhbGwtc2V0dGluZ3MnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE93bkNhcGFiaWxpdHkgPSAodHlwZW9mIE93bkNhcGFiaWxpdHkpW2tleW9mIHR5cGVvZiBPd25DYXBhYmlsaXR5XTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgYXZnX3Jlc3BvbnNlX3RpbWU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEZXZpY2VSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGRldmljZXM6IEFycmF5PERldmljZVJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogb2JqZWN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hQcmVmZXJlbmNlc31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9wcmVmZXJlbmNlcz86IFB1c2hQcmVmZXJlbmNlcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdGVhbXNfcm9sZT86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gICAqL1xuICBmaXJzdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gICAqL1xuICBsYXN0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAgICovXG4gIG1heDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gICAqL1xuICBtaW46IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudENvdW50QnlNaW51dGVSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRfdHM6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudE92ZXJUaW1lUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudENvdW50T3ZlclRpbWVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8UGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRDb3VudE92ZXJUaW1lUmVzcG9uc2VcbiAgICovXG4gIGJ5X21pbnV0ZT86IEFycmF5PFBhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEdyb3VwZWRTdGF0c1Jlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGJ5X2Jyb3dzZXI/OiBBcnJheTxHcm91cGVkU3RhdHNSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8R3JvdXBlZFN0YXRzUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYnlfY291bnRyeT86IEFycmF5PEdyb3VwZWRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxHcm91cGVkU3RhdHNSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBieV9kZXZpY2U/OiBBcnJheTxHcm91cGVkU3RhdHNSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8R3JvdXBlZFN0YXRzUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYnlfb3BlcmF0aW5nX3N5c3RlbT86IEFycmF5PEdyb3VwZWRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQYXJ0aWNpcGFudENvdW50T3ZlclRpbWVSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGNvdW50X292ZXJfdGltZT86IFBhcnRpY2lwYW50Q291bnRPdmVyVGltZVJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIG1heF9jb25jdXJyZW50PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1Ymxpc2hlclN0YXRzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBwdWJsaXNoZXJzPzogUHVibGlzaGVyU3RhdHNSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdWJzY3JpYmVyU3RhdHNSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHN1YnNjcmliZXJzPzogU3Vic2NyaWJlclN0YXRzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgc3VtOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgdW5pcXVlOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBlclNES1VzYWdlUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVyU0RLVXNhZ2VSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgUGVyU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIGJ5X3ZlcnNpb246IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGVyU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIHRvdGFsOiBudW1iZXI7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciByZXF1ZXN0cyBhY2Nlc3MgdG8gYSBmZWF0dXJlIG9uIGEgY2FsbCxcbiAqIGNsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGRpc3BsYXkgYSBwZXJtaXNzaW9uIHJlcXVlc3QgdG8gdGhlIHVzZXJcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcGVybWlzc2lvbnMgcmVxdWVzdGVkIGJ5IHRoZSB1c2VyXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgcGVybWlzc2lvbnM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnBlcm1pc3Npb25fcmVxdWVzdFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogUGluUmVxdWVzdCBpcyB0aGUgcGF5bG9hZCBmb3IgcGlubmluZyBhIG1lc3NhZ2UuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBpblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGluUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdWJsaXNoZXJTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVibGlzaGVyU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VHJhY2tTdGF0c1Jlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlclN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGJ5X3RyYWNrPzogQXJyYXk8VHJhY2tTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBQdWJsaXNoZXJTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICB0b3RhbDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlclN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHVuaXF1ZTogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdXNoUHJlZmVyZW5jZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdXNoUHJlZmVyZW5jZXMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1c2hQcmVmZXJlbmNlc1xuICAgKi9cbiAgY2FsbF9sZXZlbD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQdXNoUHJlZmVyZW5jZXNcbiAgICovXG4gIGNoYXRfbGV2ZWw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVzaFByZWZlcmVuY2VzXG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVhbGl0eVNjb3JlUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVhbGl0eVNjb3JlUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD59XG4gICAqIEBtZW1iZXJvZiBRdWFsaXR5U2NvcmVSZXBvcnRcbiAgICovXG4gIGhpc3RvZ3JhbTogQXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZVF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBmcm9tPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIHJlcG9ydF90eXBlcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICB0bz86IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9kdXJhdGlvbl9yZXBvcnQ/OiBDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9wYXJ0aWNpcGFudF9jb3VudF9yZXBvcnQ/OiBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsc19wZXJfZGF5X3JlcG9ydD86IENhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG5ldHdvcmtfbWV0cmljc19yZXBvcnQ/OiBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1F1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eV9zY29yZV9yZXBvcnQ/OiBRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTREtVc2FnZVJlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgc2RrX3VzYWdlX3JlcG9ydD86IFNES1VzYWdlUmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICB1c2VyX2ZlZWRiYWNrX3JlcG9ydD86IFVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIGxpbWl0PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHNvcnQ/OiBBcnJheTxTb3J0UGFyYW1SZXF1ZXN0PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVxdWVzdFxuICAgKi9cbiAgZmlsdGVyX2NvbmRpdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xuICAvKipcbiAgICogTGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50c1xuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50czogQXJyYXk8Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlXG4gICAqL1xuICB0b3RhbF9wYXJ0aWNpcGFudHM6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgZmlsdGVyX2NvbmRpdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxTb3J0UGFyYW1SZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICByZXBvcnRzOiBBcnJheTxDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIGxpbWl0PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICogQXJyYXkgb2Ygc29ydCBwYXJhbWV0ZXJzXG4gICAqIEB0eXBlIHtBcnJheTxTb3J0UGFyYW1SZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAqL1xuICB3YXRjaD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFN0YXRlUmVzcG9uc2VGaWVsZHM+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsczogQXJyYXk8Q2FsbFN0YXRlUmVzcG9uc2VGaWVsZHM+O1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgcHJldj86IHN0cmluZztcbn1cbi8qKlxuICogUlRNUEJyb2FkY2FzdFJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIHN0YXJ0aW5nIGFuIFJUTVAgYnJvYWRjYXN0LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSVE1QQnJvYWRjYXN0UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJUTVBCcm9hZGNhc3RSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMYXlvdXRTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBSVE1QQnJvYWRjYXN0UmVxdWVzdFxuICAgKi9cbiAgbGF5b3V0PzogTGF5b3V0U2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICogTmFtZSBpZGVudGlmaWVyIGZvciBSVE1QIGJyb2FkY2FzdCwgbXVzdCBiZSB1bmlxdWUgaW4gY2FsbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUEJyb2FkY2FzdFJlcXVlc3RcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB3aWxsIG92ZXJyaWRlIHRoZSBjYWxsJ3MgUlRNUCBzZXR0aW5ncyBxdWFsaXR5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSVE1QQnJvYWRjYXN0UmVxdWVzdFxuICAgKi9cbiAgcXVhbGl0eT86IFJUTVBCcm9hZGNhc3RSZXF1ZXN0UXVhbGl0eUVudW07XG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgd2lsbCBiZSBhcHBlbmRlZCBhdCB0aGUgZW5kIG9mIHN0cmVhbV91cmxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJUTVBCcm9hZGNhc3RSZXF1ZXN0XG4gICAqL1xuICBzdHJlYW1fa2V5Pzogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIGZvciB0aGUgUlRNUCBzZXJ2ZXIgdG8gc2VuZCB0aGUgY2FsbCB0b1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUEJyb2FkY2FzdFJlcXVlc3RcbiAgICovXG4gIHN0cmVhbV91cmw6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSVE1QQnJvYWRjYXN0UmVxdWVzdFF1YWxpdHlFbnVtID0ge1xuICBfMzYwUDogJzM2MHAnLFxuICBfNDgwUDogJzQ4MHAnLFxuICBfNzIwUDogJzcyMHAnLFxuICBfMTA4MFA6ICcxMDgwcCcsXG4gIF8xNDQwUDogJzE0NDBwJyxcbiAgXzIxNjBQOiAnMjE2MHAnLFxuICBQT1JUUkFJVF8zNjBYNjQwOiAncG9ydHJhaXQtMzYweDY0MCcsXG4gIFBPUlRSQUlUXzQ4MFg4NTQ6ICdwb3J0cmFpdC00ODB4ODU0JyxcbiAgUE9SVFJBSVRfNzIwWDEyODA6ICdwb3J0cmFpdC03MjB4MTI4MCcsXG4gIFBPUlRSQUlUXzEwODBYMTkyMDogJ3BvcnRyYWl0LTEwODB4MTkyMCcsXG4gIFBPUlRSQUlUXzE0NDBYMjU2MDogJ3BvcnRyYWl0LTE0NDB4MjU2MCcsXG4gIFBPUlRSQUlUXzIxNjBYMzg0MDogJ3BvcnRyYWl0LTIxNjB4Mzg0MCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUlRNUEJyb2FkY2FzdFJlcXVlc3RRdWFsaXR5RW51bSA9XG4gICh0eXBlb2YgUlRNUEJyb2FkY2FzdFJlcXVlc3RRdWFsaXR5RW51bSlba2V5b2YgdHlwZW9mIFJUTVBCcm9hZGNhc3RSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqIFJUTVAgaW5wdXQgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUlRNUEluZ3Jlc3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSVE1QSW5ncmVzcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUEluZ3Jlc3NcbiAgICovXG4gIGFkZHJlc3M6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUlRNUFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJUTVBTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSVE1QU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlc29sdXRpb24gdG8gc2V0IGZvciB0aGUgUlRNUCBzdHJlYW1cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJUTVBTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHF1YWxpdHk/OiBSVE1QU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgUlRNUFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtID0ge1xuICBfMzYwUDogJzM2MHAnLFxuICBfNDgwUDogJzQ4MHAnLFxuICBfNzIwUDogJzcyMHAnLFxuICBfMTA4MFA6ICcxMDgwcCcsXG4gIF8xNDQwUDogJzE0NDBwJyxcbiAgXzIxNjBQOiAnMjE2MHAnLFxuICBQT1JUUkFJVF8zNjBYNjQwOiAncG9ydHJhaXQtMzYweDY0MCcsXG4gIFBPUlRSQUlUXzQ4MFg4NTQ6ICdwb3J0cmFpdC00ODB4ODU0JyxcbiAgUE9SVFJBSVRfNzIwWDEyODA6ICdwb3J0cmFpdC03MjB4MTI4MCcsXG4gIFBPUlRSQUlUXzEwODBYMTkyMDogJ3BvcnRyYWl0LTEwODB4MTkyMCcsXG4gIFBPUlRSQUlUXzE0NDBYMjU2MDogJ3BvcnRyYWl0LTE0NDB4MjU2MCcsXG4gIFBPUlRSQUlUXzIxNjBYMzg0MDogJ3BvcnRyYWl0LTIxNjB4Mzg0MCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUlRNUFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtID1cbiAgKHR5cGVvZiBSVE1QU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0pW2tleW9mIHR5cGVvZiBSVE1QU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqIFJUTVBTZXR0aW5nc1Jlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBSVE1QIHNldHRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJUTVBTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUlRNUFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSVE1QU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSVE1QU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWFjdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3Rpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGVtb2ppX2NvZGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdWRpb19vbmx5PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1vZGU6IFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcXVhbGl0eT86IFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID1cbiAgKHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSlba2V5b2YgdHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSA9IHtcbiAgXzM2MFA6ICczNjBwJyxcbiAgXzQ4MFA6ICc0ODBwJyxcbiAgXzcyMFA6ICc3MjBwJyxcbiAgXzEwODBQOiAnMTA4MHAnLFxuICBfMTQ0MFA6ICcxNDQwcCcsXG4gIF8yMTYwUDogJzIxNjBwJyxcbiAgUE9SVFJBSVRfMzYwWDY0MDogJ3BvcnRyYWl0LTM2MHg2NDAnLFxuICBQT1JUUkFJVF80ODBYODU0OiAncG9ydHJhaXQtNDgweDg1NCcsXG4gIFBPUlRSQUlUXzcyMFgxMjgwOiAncG9ydHJhaXQtNzIweDEyODAnLFxuICBQT1JUUkFJVF8xMDgwWDE5MjA6ICdwb3J0cmFpdC0xMDgweDE5MjAnLFxuICBQT1JUUkFJVF8xNDQwWDI1NjA6ICdwb3J0cmFpdC0xNDQweDI1NjAnLFxuICBQT1JUUkFJVF8yMTYwWDM4NDA6ICdwb3J0cmFpdC0yMTYweDM4NDAnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtID1cbiAgKHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSlba2V5b2YgdHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtXTtcblxuLyoqXG4gKiBSZWNvcmRTZXR0aW5ncyBpcyB0aGUgcGF5bG9hZCBmb3IgcmVjb3JkaW5nIHNldHRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXVkaW9fb25seTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWplY3RDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlamVjdENhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIFJlYXNvbiBmb3IgcmVqZWN0aW5nIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWplY3RDYWxsUmVxdWVzdFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWplY3RDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWplY3RDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWplY3RDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gICAqL1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gICAqL1xuICBjb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0JvdW5kfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGxvd2VyX2JvdW5kPzogQm91bmQ7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIHN1bTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0JvdW5kfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIHVwcGVyX2JvdW5kPzogQm91bmQ7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UGFydGljaXBhbnRSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJhdGluZ1JlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHVzZXJfcmF0aW5nczogVXNlclJhdGluZ1JlcG9ydFJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICogV2hlbiBub25lIG9mIHRoZSBjYWxsZWVzIGFjY2VwdCBhIHJpbmcgY2FsbCBpbiB0aGlzIHRpbWUgYSByZWplY3Rpb24gd2lsbCBiZSBzZW50IGJ5IHRoZSBjYWxsZXIgd2l0aCByZWFzb24gJ3RpbWVvdXQnIGJ5IHRoZSBTREtzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdXRvX2NhbmNlbF90aW1lb3V0X21zOiBudW1iZXI7XG4gIC8qKlxuICAgKiBXaGVuIGEgY2FsbGVlIGlzIG9ubGluZSBidXQgZG9lc24ndCBhbnN3ZXIgYSByaW5nIGNhbGwgaW4gdGhpcyB0aW1lIGEgcmVqZWN0aW9uIHdpbGwgYmUgc2VudCB3aXRoIHJlYXNvbiAndGltZW91dCcgYnkgdGhlIFNES3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGluY29taW5nX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICogV2hlbiBhIGNhbGxlZSBkb2Vzbid0IGFjY2VwdCBvciByZWplY3QgYSByaW5nIGNhbGwgaW4gdGhpcyB0aW1lIGEgbWlzc2VkIGNhbGwgZXZlbnQgd2lsbCBiZSBzZW50XG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtaXNzZWRfY2FsbF90aW1lb3V0X21zPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXV0b19jYW5jZWxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWlzc2VkX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTREtVc2FnZVJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IFBlclNES1VzYWdlUmVwb3J0OyB9fVxuICAgKiBAbWVtYmVyb2YgU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIHBlcl9zZGtfdXNhZ2U6IHsgW2tleTogc3RyaW5nXTogUGVyU0RLVXNhZ2VSZXBvcnQgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU0RLVXNhZ2VSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlU0RLVXNhZ2VSZXBvcnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBTREtVc2FnZVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVTREtVc2FnZVJlcG9ydFJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU0ZVUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTRlVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVUmVzcG9uc2VcbiAgICovXG4gIGVkZ2VfbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVVJlc3BvbnNlXG4gICAqL1xuICB1cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVSZXNwb25zZVxuICAgKi9cbiAgd3NfZW5kcG9pbnQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cbi8qKlxuICogU2VuZCBhIGNhbGwgZXZlbnQgdG8gdGhlIG90aGVyIHVzZXJcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBTZW5kQ2FsbEV2ZW50UmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZENhbGxFdmVudFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAgICovXG4gIGVtb2ppX2NvZGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhY3Rpb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICByZWFjdGlvbjogUmVhY3Rpb25SZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2Vzc2lvblNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFNlc3Npb25TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGluYWN0aXZpdHlfdGltZW91dF9zZWNvbmRzOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlc3Npb25TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFNlc3Npb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBpbmFjdGl2aXR5X3RpbWVvdXRfc2Vjb25kczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTb3J0UGFyYW1SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU29ydFBhcmFtUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBEaXJlY3Rpb24gb2Ygc29ydGluZywgMSBmb3IgQXNjZW5kaW5nLCAtMSBmb3IgRGVzY2VuZGluZywgZGVmYXVsdCBpcyAxXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTb3J0UGFyYW1SZXF1ZXN0XG4gICAqL1xuICBkaXJlY3Rpb24/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBOYW1lIG9mIGZpZWxkIHRvIHNvcnQgYnlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNvcnRQYXJhbVJlcXVlc3RcbiAgICovXG4gIGZpZWxkPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEVuYWJsZSB0cmFuc2NyaXB0aW9ucyBhbG9uZyB3aXRoIGNsb3NlZCBjYXB0aW9uc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVfdHJhbnNjcmlwdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGljaCBleHRlcm5hbCBzdG9yYWdlIHRvIHVzZSBmb3IgdHJhbnNjcmlwdGlvbnMgKG9ubHkgYXBwbGljYWJsZSBpZiBlbmFibGVfdHJhbnNjcmlwdGlvbiBpcyB0cnVlKVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAgICovXG4gIGV4dGVybmFsX3N0b3JhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgc3Bva2VuIGxhbmd1YWdlIGluIHRoZSBjYWxsLCBpZiBub3QgcHJvdmlkZWQgdGhlIGxhbmd1YWdlIGRlZmluZWQgaW4gdGhlIHRyYW5zY3JpcHRpb24gc2V0dGluZ3Mgd2lsbCBiZSB1c2VkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdFxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdExhbmd1YWdlRW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdExhbmd1YWdlRW51bSA9IHtcbiAgQVVUTzogJ2F1dG8nLFxuICBFTjogJ2VuJyxcbiAgRlI6ICdmcicsXG4gIEVTOiAnZXMnLFxuICBERTogJ2RlJyxcbiAgSVQ6ICdpdCcsXG4gIE5MOiAnbmwnLFxuICBQVDogJ3B0JyxcbiAgUEw6ICdwbCcsXG4gIENBOiAnY2EnLFxuICBDUzogJ2NzJyxcbiAgREE6ICdkYScsXG4gIEVMOiAnZWwnLFxuICBGSTogJ2ZpJyxcbiAgSUQ6ICdpZCcsXG4gIEpBOiAnamEnLFxuICBSVTogJ3J1JyxcbiAgU1Y6ICdzdicsXG4gIFRBOiAndGEnLFxuICBUSDogJ3RoJyxcbiAgVFI6ICd0cicsXG4gIEhVOiAnaHUnLFxuICBSTzogJ3JvJyxcbiAgWkg6ICd6aCcsXG4gIEFSOiAnYXInLFxuICBUTDogJ3RsJyxcbiAgSEU6ICdoZScsXG4gIEhJOiAnaGknLFxuICBIUjogJ2hyJyxcbiAgS086ICdrbycsXG4gIE1TOiAnbXMnLFxuICBOTzogJ25vJyxcbiAgVUs6ICd1aycsXG4gIEJHOiAnYmcnLFxuICBFVDogJ2V0JyxcbiAgU0w6ICdzbCcsXG4gIFNLOiAnc2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0TGFuZ3VhZ2VFbnVtID1cbiAgKHR5cGVvZiBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdExhbmd1YWdlRW51bSlba2V5b2YgdHlwZW9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0TGFuZ3VhZ2VFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydENsb3NlZENhcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydENsb3NlZENhcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRGcmFtZVJlY29yZGluZ1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydEZyYW1lUmVjb3JkaW5nUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRGcmFtZVJlY29yZGluZ1JlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlPzogc3RyaW5nO1xufVxuLyoqXG4gKiBTdGFydEZyYW1lUmVjb3JkaW5nUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHBheWxvYWQgZm9yIHRoZSBzdGFydCBmcmFtZSByZWNvcmRpbmcgZW5kcG9pbnQuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3Igc3RhcnRpbmcgYW4gSExTIGJyb2FkY2FzdGluZy5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgVVJMIG9mIHRoZSBITFMgcGxheWxpc3RcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIHBsYXlsaXN0X3VybDogc3RyaW5nO1xufVxuLyoqXG4gKiBTdGFydFJUTVBCcm9hZGNhc3RzUmVxdWVzdCBpcyB0aGUgcGF5bG9hZCBmb3Igc3RhcnRpbmcgUlRNUCBicm9hZGNhc3RzLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFJUTVBCcm9hZGNhc3RzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UlRNUEJyb2FkY2FzdHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIExpc3Qgb2YgYnJvYWRjYXN0cyB0byBzdGFydFxuICAgKiBAdHlwZSB7QXJyYXk8UlRNUEJyb2FkY2FzdFJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSVE1QQnJvYWRjYXN0c1JlcXVlc3RcbiAgICovXG4gIGJyb2FkY2FzdHM6IEFycmF5PFJUTVBCcm9hZGNhc3RSZXF1ZXN0Pjtcbn1cbi8qKlxuICogU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBzdGFydGluZyBhbiBSVE1QIGJyb2FkY2FzdC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFJlY29yZGluZ1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJlY29yZGluZ1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdFxuICAgKi9cbiAgcmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2U/OiBzdHJpbmc7XG59XG4vKipcbiAqIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHBheWxvYWQgZm9yIHRoZSBzdGFydCByZWNvcmRpbmcgZW5kcG9pbnQuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICogRW5hYmxlIGNsb3NlZCBjYXB0aW9ucyBhbG9uZyB3aXRoIHRyYW5zY3JpcHRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlX2Nsb3NlZF9jYXB0aW9ucz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUaGUgc3Bva2VuIGxhbmd1YWdlIGluIHRoZSBjYWxsLCBpZiBub3QgcHJvdmlkZWQgdGhlIGxhbmd1YWdlIGRlZmluZWQgaW4gdGhlIHRyYW5zY3JpcHRpb24gc2V0dGluZ3Mgd2lsbCBiZSB1c2VkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RMYW5ndWFnZUVudW07XG4gIC8qKlxuICAgKiBTdG9yZSB0cmFuc2NyaXB0aW9ucyBpbiB0aGlzIGV4dGVybmFsIHN0b3JhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb25fZXh0ZXJuYWxfc3RvcmFnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0TGFuZ3VhZ2VFbnVtID0ge1xuICBBVVRPOiAnYXV0bycsXG4gIEVOOiAnZW4nLFxuICBGUjogJ2ZyJyxcbiAgRVM6ICdlcycsXG4gIERFOiAnZGUnLFxuICBJVDogJ2l0JyxcbiAgTkw6ICdubCcsXG4gIFBUOiAncHQnLFxuICBQTDogJ3BsJyxcbiAgQ0E6ICdjYScsXG4gIENTOiAnY3MnLFxuICBEQTogJ2RhJyxcbiAgRUw6ICdlbCcsXG4gIEZJOiAnZmknLFxuICBJRDogJ2lkJyxcbiAgSkE6ICdqYScsXG4gIFJVOiAncnUnLFxuICBTVjogJ3N2JyxcbiAgVEE6ICd0YScsXG4gIFRIOiAndGgnLFxuICBUUjogJ3RyJyxcbiAgSFU6ICdodScsXG4gIFJPOiAncm8nLFxuICBaSDogJ3poJyxcbiAgQVI6ICdhcicsXG4gIFRMOiAndGwnLFxuICBIRTogJ2hlJyxcbiAgSEk6ICdoaScsXG4gIEhSOiAnaHInLFxuICBLTzogJ2tvJyxcbiAgTVM6ICdtcycsXG4gIE5POiAnbm8nLFxuICBVSzogJ3VrJyxcbiAgQkc6ICdiZycsXG4gIEVUOiAnZXQnLFxuICBTTDogJ3NsJyxcbiAgU0s6ICdzaycsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdExhbmd1YWdlRW51bSA9XG4gICh0eXBlb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdExhbmd1YWdlRW51bSlba2V5b2YgdHlwZW9mIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RMYW5ndWFnZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhdHNPcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdHNPcHRpb25zIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RhdHNPcHRpb25zXG4gICAqL1xuICBlbmFibGVfcnRjX3N0YXRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN0YXRzT3B0aW9uc1xuICAgKi9cbiAgcmVwb3J0aW5nX2ludGVydmFsX21zOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BBbGxSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcEFsbFJUTVBCcm9hZGNhc3RzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BDbG9zZWRDYXB0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBzdG9wX3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcENsb3NlZENhcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BGcmFtZVJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcEZyYW1lUmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wRnJhbWVSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wTGl2ZVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTGl2ZVJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlcXVlc3RcbiAgICovXG4gIGNvbnRpbnVlX2Nsb3NlZF9jYXB0aW9uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RvcExpdmVSZXF1ZXN0XG4gICAqL1xuICBjb250aW51ZV9obHM/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlcXVlc3RcbiAgICovXG4gIGNvbnRpbnVlX3JlY29yZGluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVxdWVzdFxuICAgKi9cbiAgY29udGludWVfcnRtcF9icm9hZGNhc3RzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RvcExpdmVSZXF1ZXN0XG4gICAqL1xuICBjb250aW51ZV90cmFuc2NyaXB0aW9uPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcExpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BMaXZlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wUlRNUEJyb2FkY2FzdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcFJUTVBCcm9hZGNhc3RzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BSZWNvcmRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcFRyYW5zY3JpcHRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RvcFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAqL1xuICBzdG9wX2Nsb3NlZF9jYXB0aW9ucz86IGJvb2xlYW47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3Vic2NyaWJlclN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVyU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3Vic2NyaWJlclN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHRvdGFsOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3Vic2NyaWJlclN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHRvdGFsX3N1YnNjcmliZWRfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN1YnNjcmliZXJTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICB1bmlxdWU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGFyZ2V0UmVzb2x1dGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRhcmdldFJlc29sdXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFRhcmdldFJlc29sdXRpb25cbiAgICovXG4gIGJpdHJhdGU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGh1bWJuYWlsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVGh1bWJuYWlsUmVzcG9uc2VcbiAgICovXG4gIGltYWdlX3VybDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRyYWNrU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVHJhY2tTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhY2tTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICB0cmFja190eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBjbG9zZWRfY2FwdGlvbl9tb2RlPzogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RMYW5ndWFnZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbW9kZTogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RDbG9zZWRDYXB0aW9uTW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RDbG9zZWRDYXB0aW9uTW9kZUVudW1dO1xuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RMYW5ndWFnZUVudW0gPSB7XG4gIEFVVE86ICdhdXRvJyxcbiAgRU46ICdlbicsXG4gIEZSOiAnZnInLFxuICBFUzogJ2VzJyxcbiAgREU6ICdkZScsXG4gIElUOiAnaXQnLFxuICBOTDogJ25sJyxcbiAgUFQ6ICdwdCcsXG4gIFBMOiAncGwnLFxuICBDQTogJ2NhJyxcbiAgQ1M6ICdjcycsXG4gIERBOiAnZGEnLFxuICBFTDogJ2VsJyxcbiAgRkk6ICdmaScsXG4gIElEOiAnaWQnLFxuICBKQTogJ2phJyxcbiAgUlU6ICdydScsXG4gIFNWOiAnc3YnLFxuICBUQTogJ3RhJyxcbiAgVEg6ICd0aCcsXG4gIFRSOiAndHInLFxuICBIVTogJ2h1JyxcbiAgUk86ICdybycsXG4gIFpIOiAnemgnLFxuICBBUjogJ2FyJyxcbiAgVEw6ICd0bCcsXG4gIEhFOiAnaGUnLFxuICBISTogJ2hpJyxcbiAgSFI6ICdocicsXG4gIEtPOiAna28nLFxuICBNUzogJ21zJyxcbiAgTk86ICdubycsXG4gIFVLOiAndWsnLFxuICBCRzogJ2JnJyxcbiAgRVQ6ICdldCcsXG4gIFNMOiAnc2wnLFxuICBTSzogJ3NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TGFuZ3VhZ2VFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TGFuZ3VhZ2VFbnVtKVtrZXlvZiB0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdExhbmd1YWdlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb25fbW9kZTogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VDbG9zZWRDYXB0aW9uTW9kZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUxhbmd1YWdlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbW9kZTogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUNsb3NlZENhcHRpb25Nb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUNsb3NlZENhcHRpb25Nb2RlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VDbG9zZWRDYXB0aW9uTW9kZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUNsb3NlZENhcHRpb25Nb2RlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VMYW5ndWFnZUVudW0gPSB7XG4gIEFVVE86ICdhdXRvJyxcbiAgRU46ICdlbicsXG4gIEZSOiAnZnInLFxuICBFUzogJ2VzJyxcbiAgREU6ICdkZScsXG4gIElUOiAnaXQnLFxuICBOTDogJ25sJyxcbiAgUFQ6ICdwdCcsXG4gIFBMOiAncGwnLFxuICBDQTogJ2NhJyxcbiAgQ1M6ICdjcycsXG4gIERBOiAnZGEnLFxuICBFTDogJ2VsJyxcbiAgRkk6ICdmaScsXG4gIElEOiAnaWQnLFxuICBKQTogJ2phJyxcbiAgUlU6ICdydScsXG4gIFNWOiAnc3YnLFxuICBUQTogJ3RhJyxcbiAgVEg6ICd0aCcsXG4gIFRSOiAndHInLFxuICBIVTogJ2h1JyxcbiAgUk86ICdybycsXG4gIFpIOiAnemgnLFxuICBBUjogJ2FyJyxcbiAgVEw6ICd0bCcsXG4gIEhFOiAnaGUnLFxuICBISTogJ2hpJyxcbiAgSFI6ICdocicsXG4gIEtPOiAna28nLFxuICBNUzogJ21zJyxcbiAgTk86ICdubycsXG4gIFVLOiAndWsnLFxuICBCRzogJ2JnJyxcbiAgRVQ6ICdldCcsXG4gIFNMOiAnc2wnLFxuICBTSzogJ3NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUxhbmd1YWdlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VMYW5ndWFnZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUxhbmd1YWdlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bV07XG5cbi8qKlxuICogVW5ibG9ja1VzZXJSZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciB1bmJsb2NraW5nIGEgdXNlci5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHRvIHVuYmxvY2tcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tVc2VyUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBVbmJsb2NrVXNlclJlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciB1bmJsb2NraW5nIGEgdXNlci5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrVXNlclJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgaXMgdW5ibG9ja2VkIG9uIGEgY2FsbCxcbiAqIHRoaXMgY2FuIGJlIHVzZWZ1bCB0byBub3RpZnkgdGhlIHVzZXIgdGhhdCB0aGV5IGNhbiBub3cgam9pbiB0aGUgY2FsbCBhZ2FpblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbmJsb2NrZWRVc2VyRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmJsb2NrZWRVc2VyRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudW5ibG9ja2VkX3VzZXJcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBVbnBpblJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIHVucGlubmluZyBhIG1lc3NhZ2UuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVucGluUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVucGluUmVxdWVzdCB7XG4gIC8qKlxuICAgKiB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgdXNlciB3aG8gcGlubmVkIHRoZSBtZXNzYWdlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbnBpblJlcXVlc3RcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVucGluUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBVbnBpblJlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciB1bnBpbm5pbmcgYSBtZXNzYWdlLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbnBpblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5waW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVucGluUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFVwZGF0ZSBjYWxsIG1lbWJlcnNcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIExpc3Qgb2YgdXNlcklEIHRvIHJlbW92ZVxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgcmVtb3ZlX21lbWJlcnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogTGlzdCBvZiBtZW1iZXJzIHRvIHVwZGF0ZSBvciBpbnNlcnRcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICB1cGRhdGVfbWVtYmVycz86IEFycmF5PE1lbWJlclJlcXVlc3Q+O1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xufVxuLyoqXG4gKiBSZXF1ZXN0IGZvciB1cGRhdGluZyBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBzZXR0aW5nc19vdmVycmlkZT86IENhbGxTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKiB0aGUgdGltZSB0aGUgY2FsbCBpcyBzY2hlZHVsZWQgdG8gc3RhcnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBzdGFydHNfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciB1cGRhdGluZyBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgKi9cbiAgZ3JhbnRfcGVybWlzc2lvbnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAqL1xuICByZXZva2VfcGVybWlzc2lvbnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gbm90aWZ5IGFib3V0IHBlcm1pc3Npb24gY2hhbmdlcyBmb3IgYSB1c2VyLCBjbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCB1cGRhdGUgdGhlaXIgVUkgYWNjb3JkaW5nbHlcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXJcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5PjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucGVybWlzc2lvbnNfdXBkYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJGZWVkYmFja1JlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJGZWVkYmFja1JlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyRmVlZGJhY2tSZXBvcnRcbiAgICovXG4gIGNvdW50X2J5X3JhdGluZzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyRmVlZGJhY2tSZXBvcnRcbiAgICovXG4gIHVucmVwb3J0ZWRfY291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmF0aW5nUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUmF0aW5nUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJSYXRpbmdSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJSYXRpbmdSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgY291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICogVXNlciByZXF1ZXN0IG9iamVjdFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEN1c3RvbSB1c2VyIGRhdGFcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBVc2VyIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFVzZXIncyBwcm9maWxlIGltYWdlIFVSTFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBuYW1lIG9mIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogb2JqZWN0O1xufVxuLyoqXG4gKiBVc2VyIHJlc3BvbnNlIG9iamVjdFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgYXZnX3Jlc3BvbnNlX3RpbWU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBEYXRlIG9mIGRlYWN0aXZhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWFjdGl2YXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBkZWxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIHVzZXIgaWRlbnRpZmllclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQcmVmZXJyZWQgbGFuZ3VhZ2Ugb2YgYSB1c2VyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIG9mIGxhc3QgYWN0aXZpdHlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFzdF9hY3RpdmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBuYW1lIG9mIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFJldm9jYXRpb24gZGF0ZSBmb3IgdG9rZW5zXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIHNldCBvZiB1c2VyIHBlcm1pc3Npb25zXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgdGVhbXMgdXNlciBpcyBhIHBhcnQgb2ZcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHRlYW1zOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtc19yb2xlPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgYXZnX3Jlc3BvbnNlX3RpbWU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGJsb2NrZWRfdXNlcl9pZHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IG9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICB0ZWFtczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIHRlYW1zX3JvbGU/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIGdldHMgdXBkYXRlZC4gVGhlIGV2ZW50IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1cGRhdGVkIHVzZXIuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIHJlY2VpdmVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwidXNlci51cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc31cbiAgICogQG1lbWJlcm9mIFVzZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHM7XG59XG4vKipcbiAqIEB0eXBlIFZpZGVvRXZlbnRcbiAqIFRoZSBkaXNjcmltaW5hdG9yIG9iamVjdCBmb3IgYWxsIHdlYnNvY2tldCBldmVudHMsIGl0IG1hcHMgZXZlbnRzJyBwYXlsb2FkIHRvIHRoZSBmaW5hbCB0eXBlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCB0eXBlIFZpZGVvRXZlbnQgPVxuICB8ICh7IHR5cGU6ICdjYWxsLmFjY2VwdGVkJyB9ICYgQ2FsbEFjY2VwdGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuYmxvY2tlZF91c2VyJyB9ICYgQmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jbG9zZWRfY2FwdGlvbicgfSAmIENsb3NlZENhcHRpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jbG9zZWRfY2FwdGlvbnNfZmFpbGVkJyB9ICYgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY2xvc2VkX2NhcHRpb25zX3N0YXJ0ZWQnIH0gJiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY2xvc2VkX2NhcHRpb25zX3N0b3BwZWQnIH0gJiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY3JlYXRlZCcgfSAmIENhbGxDcmVhdGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuZGVsZXRlZCcgfSAmIENhbGxEZWxldGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuZW5kZWQnIH0gJiBDYWxsRW5kZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5mcmFtZV9yZWNvcmRpbmdfZmFpbGVkJyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuZnJhbWVfcmVjb3JkaW5nX3JlYWR5JyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmZyYW1lX3JlY29yZGluZ19zdGFydGVkJyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmZyYW1lX3JlY29yZGluZ19zdG9wcGVkJyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkJyB9ICYgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmtpY2tlZF91c2VyJyB9ICYgS2lja2VkVXNlckV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmxpdmVfc3RhcnRlZCcgfSAmIENhbGxMaXZlU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9hZGRlZCcgfSAmIENhbGxNZW1iZXJBZGRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9yZW1vdmVkJyB9ICYgQ2FsbE1lbWJlclJlbW92ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5tZW1iZXJfdXBkYXRlZCcgfSAmIENhbGxNZW1iZXJVcGRhdGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLm1lbWJlcl91cGRhdGVkX3Blcm1pc3Npb24nO1xuICAgIH0gJiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5taXNzZWQnIH0gJiBDYWxsTWlzc2VkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubW9kZXJhdGlvbl9ibHVyJyB9ICYgQ2FsbE1vZGVyYXRpb25CbHVyRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubW9kZXJhdGlvbl93YXJuaW5nJyB9ICYgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubm90aWZpY2F0aW9uJyB9ICYgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcgfSAmIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucGVybWlzc2lvbnNfdXBkYXRlZCcgfSAmIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWFjdGlvbl9uZXcnIH0gJiBDYWxsUmVhY3Rpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJyB9ICYgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19yZWFkeScgfSAmIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19zdGFydGVkJyB9ICYgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfc3RvcHBlZCcgfSAmIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVqZWN0ZWQnIH0gJiBDYWxsUmVqZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yaW5nJyB9ICYgQ2FsbFJpbmdFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9mYWlsZWQnIH0gJiBDYWxsUnRtcEJyb2FkY2FzdEZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJ0bXBfYnJvYWRjYXN0X3N0YXJ0ZWQnIH0gJiBDYWxsUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9zdG9wcGVkJyB9ICYgQ2FsbFJ0bXBCcm9hZGNhc3RTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuc2Vzc2lvbl9lbmRlZCcgfSAmIENhbGxTZXNzaW9uRW5kZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkJztcbiAgICB9ICYgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWQnO1xuICAgIH0gJiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdCc7XG4gICAgfSAmIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuc2Vzc2lvbl9zdGFydGVkJyB9ICYgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuc3RhdHNfcmVwb3J0X3JlYWR5JyB9ICYgQ2FsbFN0YXRzUmVwb3J0UmVhZHlFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwudHJhbnNjcmlwdGlvbl9yZWFkeScgfSAmIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51bmJsb2NrZWRfdXNlcicgfSAmIFVuYmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51cGRhdGVkJyB9ICYgQ2FsbFVwZGF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51c2VyX2ZlZWRiYWNrX3N1Ym1pdHRlZCcgfSAmIENhbGxVc2VyRmVlZGJhY2tTdWJtaXR0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51c2VyX211dGVkJyB9ICYgQ2FsbFVzZXJNdXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjb25uZWN0aW9uLmVycm9yJyB9ICYgQ29ubmVjdGlvbkVycm9yRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2Nvbm5lY3Rpb24ub2snIH0gJiBDb25uZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY3VzdG9tJyB9ICYgQ3VzdG9tVmlkZW9FdmVudClcbiAgfCAoeyB0eXBlOiAnaGVhbHRoLmNoZWNrJyB9ICYgSGVhbHRoQ2hlY2tFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci51cGRhdGVkJyB9ICYgVXNlclVwZGF0ZWRFdmVudCk7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9SZWFjdGlvbk92ZXJUaW1lUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENvdW50QnlNaW51dGVSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1JlYWN0aW9uT3ZlclRpbWVSZXNwb25zZVxuICAgKi9cbiAgYnlfbWludXRlPzogQXJyYXk8Q291bnRCeU1pbnV0ZVJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9SZWFjdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvUmVhY3Rpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZWFjdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgY291bnRfb3Zlcl90aW1lPzogVmlkZW9SZWFjdGlvbk92ZXJUaW1lUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZWFjdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgcmVhY3Rpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNhbWVyYV9kZWZhdWx0X29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2FtZXJhX2ZhY2luZz86IFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdGFyZ2V0X3Jlc29sdXRpb24/OiBUYXJnZXRSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSA9IHtcbiAgRlJPTlQ6ICdmcm9udCcsXG4gIEJBQ0s6ICdiYWNrJyxcbiAgRVhURVJOQUw6ICdleHRlcm5hbCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtID1cbiAgKHR5cGVvZiBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0pW2tleW9mIHR5cGVvZiBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjYW1lcmFfZGVmYXVsdF9vbjogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGNhbWVyYV9mYWNpbmc6IFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbjogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtID0ge1xuICBGUk9OVDogJ2Zyb250JyxcbiAgQkFDSzogJ2JhY2snLFxuICBFWFRFUk5BTDogJ2V4dGVybmFsJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtID1cbiAgKHR5cGVvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtKVtrZXlvZiB0eXBlb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bV07XG5cbi8qKlxuICogV2Vic29ja2V0IGF1dGggbWVzc2FnZVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBXU0F1dGhNZXNzYWdlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV1NBdXRoTWVzc2FnZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFdTQXV0aE1lc3NhZ2VcbiAgICovXG4gIHByb2R1Y3RzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Nvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB1c2VyX2RldGFpbHM6IENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Q7XG59XG4iLCJpbXBvcnQgeyBBeGlvc1JlcXVlc3RDb25maWcsIEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBDb25uZWN0ZWRFdmVudCwgVXNlclJlcXVlc3QsIFZpZGVvRXZlbnQgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgQWxsU2Z1RXZlbnRzIH0gZnJvbSAnLi4vLi4vcnRjJztcblxuZXhwb3J0IHR5cGUgVVIgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IHR5cGUgVXNlciA9XG4gIHwgKE9taXQ8VXNlclJlcXVlc3QsICdyb2xlJz4gJiB7IHR5cGU/OiAnYXV0aGVudGljYXRlZCcgfSlcbiAgfCAoT21pdDxVc2VyUmVxdWVzdCwgJ3JvbGUnPiAmIHsgdHlwZTogJ2d1ZXN0JyB9KVxuICB8IChPbWl0PFVzZXJSZXF1ZXN0LCAnaWQnIHwgJ3JvbGUnPiAmIHtcbiAgICAgIGlkPzogJyFhbm9uJztcbiAgICAgIHR5cGU6ICdhbm9ueW1vdXMnO1xuICAgIH0pO1xuXG5leHBvcnQgdHlwZSBVc2VyV2l0aElkID1cbiAgfCAoVXNlclJlcXVlc3QgJiB7IHR5cGU/OiAnYXV0aGVudGljYXRlZCcgfSlcbiAgfCAoVXNlclJlcXVlc3QgJiB7IHR5cGU6ICdndWVzdCcgfSlcbiAgfCAoVXNlclJlcXVlc3QgJiB7XG4gICAgICBpZDogJyFhbm9uJztcbiAgICAgIHR5cGU6ICdhbm9ueW1vdXMnO1xuICAgIH0pO1xuXG5leHBvcnQgdHlwZSB7IE93blVzZXJSZXNwb25zZSB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCB0eXBlIENvbm5lY3RBUElSZXNwb25zZSA9IFByb21pc2U8dm9pZCB8IENvbm5lY3RlZEV2ZW50PjtcblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWwgPSAndHJhY2UnIHwgJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG5cbnR5cGUgRXJyb3JSZXNwb25zZURldGFpbHMgPSB7XG4gIGNvZGU6IG51bWJlcjtcbiAgbWVzc2FnZXM6IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IHR5cGUgQVBJRXJyb3JSZXNwb25zZSA9IHtcbiAgY29kZTogbnVtYmVyO1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIG1vcmVfaW5mbzogc3RyaW5nO1xuICBTdGF0dXNDb2RlOiBudW1iZXI7XG4gIGRldGFpbHM/OiBFcnJvclJlc3BvbnNlRGV0YWlscztcbiAgdW5yZWNvdmVyYWJsZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY2xhc3MgRXJyb3JGcm9tUmVzcG9uc2U8VD4gZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBjb2RlOiBudW1iZXIgfCBudWxsO1xuICBwdWJsaWMgc3RhdHVzOiBudW1iZXI7XG4gIHB1YmxpYyByZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPjtcbiAgcHVibGljIG5hbWUgPSAnRXJyb3JGcm9tUmVzcG9uc2UnO1xuICBwdWJsaWMgdW5yZWNvdmVyYWJsZTogYm9vbGVhbiB8IG51bGw7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgY29kZSxcbiAgICBzdGF0dXMsXG4gICAgcmVzcG9uc2UsXG4gICAgdW5yZWNvdmVyYWJsZSxcbiAgfTogUGljazxcbiAgICBFcnJvckZyb21SZXNwb25zZTxUPixcbiAgICAnbWVzc2FnZScgfCAnY29kZScgfCAnc3RhdHVzJyB8ICdyZXNwb25zZScgfCAndW5yZWNvdmVyYWJsZSdcbiAgPikge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMudW5yZWNvdmVyYWJsZSA9IHVucmVjb3ZlcmFibGU7XG4gIH1cblxuICAvLyBWaXRlc3QgaGVscGVyIChzZXJpYWxpemVkIGVycm9ycyBhcmUgdG9vIGxhcmdlIHRvIHJlYWQpXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlc3QtZGV2L3ZpdGVzdC9ibG9iL3YzLjEuMy9wYWNrYWdlcy91dGlscy9zcmMvZXJyb3IudHMjTDYwLUw2MlxuICBwdWJsaWMgdG9KU09OKCkge1xuICAgIGNvbnN0IGV4dHJhID0gW1xuICAgICAgWydzdGF0dXMnLCB0aGlzLnN0YXR1c10sXG4gICAgICBbJ2NvZGUnLCB0aGlzLmNvZGVdLFxuICAgICAgWyd1bnJlY292ZXJhYmxlJywgdGhpcy51bnJlY292ZXJhYmxlXSxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgY29uc3Qgam9pbmFibGUgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGV4dHJhKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBqb2luYWJsZS5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6IGAoJHtqb2luYWJsZS5qb2luKCcsICcpfSkgLSAke3RoaXMubWVzc2FnZX1gLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDb25uZWN0aW9uQ2hhbmdlZEV2ZW50ID0ge1xuICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJztcbiAgb25saW5lOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgTmV0d29ya0NoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCc7XG4gIG9ubGluZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydENoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ3RyYW5zcG9ydC5jaGFuZ2VkJztcbiAgbW9kZTogJ2xvbmdwb2xsJztcbn07XG5cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25SZWNvdmVyZWRFdmVudCA9IHtcbiAgdHlwZTogJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJztcbn07XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVZpZGVvRXZlbnQgPSAoXG4gIHwgVmlkZW9FdmVudFxuICB8IE5ldHdvcmtDaGFuZ2VkRXZlbnRcbiAgfCBDb25uZWN0aW9uQ2hhbmdlZEV2ZW50XG4gIHwgVHJhbnNwb3J0Q2hhbmdlZEV2ZW50XG4gIHwgQ29ubmVjdGlvblJlY292ZXJlZEV2ZW50XG4pICYgeyByZWNlaXZlZF9hdD86IHN0cmluZyB8IERhdGUgfTtcblxuLy8gVE9ETzogd2Ugc2hvdWxkIHVzZSBXU0NhbGxFdmVudCBoZXJlIGJ1dCB0aGF0IG5lZWRzIGZpeGluZ1xuZXhwb3J0IHR5cGUgU3RyZWFtQ2FsbEV2ZW50ID0gRXh0cmFjdDxTdHJlYW1WaWRlb0V2ZW50LCB7IGNhbGxfY2lkOiBzdHJpbmcgfT47XG5leHBvcnQgdHlwZSBFdmVudFR5cGVzID0gJ2FsbCcgfCBWaWRlb0V2ZW50Wyd0eXBlJ107XG5cbmV4cG9ydCB0eXBlIEFsbENsaWVudEV2ZW50VHlwZXMgPSAnYWxsJyB8IFN0cmVhbVZpZGVvRXZlbnRbJ3R5cGUnXTtcbmV4cG9ydCB0eXBlIEFsbENsaWVudEV2ZW50cyA9IHtcbiAgW0sgaW4gQWxsQ2xpZW50RXZlbnRUeXBlc106IEV4dHJhY3Q8U3RyZWFtVmlkZW9FdmVudCwgeyB0eXBlOiBLIH0+O1xufTtcbmV4cG9ydCB0eXBlIENsaWVudEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4gPSAoXG4gIGV2ZW50OiBBbGxDbGllbnRFdmVudHNbRV0sXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIEFsbENsaWVudENhbGxFdmVudHMgPSB7XG4gIFtLIGluIEV2ZW50VHlwZXNdOiBFeHRyYWN0PFZpZGVvRXZlbnQsIHsgdHlwZTogSyB9Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEFsbENhbGxFdmVudHMgPSBBbGxDbGllbnRDYWxsRXZlbnRzICYgQWxsU2Z1RXZlbnRzO1xuZXhwb3J0IHR5cGUgQ2FsbEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+ID0gKFxuICBldmVudDogQWxsQ2FsbEV2ZW50c1tFXSxcbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgTG9nZ2VyID0gKFxuICBsb2dMZXZlbDogTG9nTGV2ZWwsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgLi4uYXJnczogdW5rbm93bltdXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbUNsaWVudE9wdGlvbnMgPSBQYXJ0aWFsPEF4aW9zUmVxdWVzdENvbmZpZz4gJiB7XG4gIC8qKlxuICAgKiBVc2VkIHRvIGRpc2FibGUgd2FybmluZ3MgdGhhdCBhcmUgdHJpZ2dlcmVkIGJ5IHVzaW5nIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIHNlcnZlci1zaWRlLlxuICAgKi9cbiAgYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdD86IGJvb2xlYW47XG4gIGF4aW9zUmVxdWVzdENvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZztcbiAgLyoqXG4gICAqIEJhc2UgdXJsIHRvIHVzZSBmb3IgQVBJXG4gICAqIHN1Y2ggYXMgaHR0cHM6Ly9jaGF0LXByb3h5LWR1Ymxpbi5zdHJlYW0taW8tYXBpLmNvbVxuICAgKi9cbiAgYmFzZVVSTD86IHN0cmluZztcbiAgYnJvd3Nlcj86IGJvb2xlYW47XG4gIGxvZ2dlcj86IExvZ2dlcjtcbiAgbG9nTGV2ZWw/OiBMb2dMZXZlbDtcbiAgLyoqXG4gICAqIFRoZSBVUkwgdG8gdXNlIGZvciB0aGUgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludFVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRpbWVvdXQgZm9yIHJlcXVlc3RpbmcgYSBsb2NhdGlvbiBoaW50LlxuICAgKi9cbiAgbG9jYXRpb25IaW50VGltZW91dD86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhdHRlbXB0cyB0byByZXF1ZXN0IGEgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludE1heEF0dGVtcHRzPzogbnVtYmVyO1xuICAvKipcbiAgICogV2hlbiB0cnVlLCB1c2VyIHdpbGwgYmUgcGVyc2lzdGVkIG9uIGNsaWVudC4gT3RoZXJ3aXNlIGlmIGBjb25uZWN0VXNlcmAgY2FsbCBmYWlscywgdGhlbiB5b3UgbmVlZCB0b1xuICAgKiBjYWxsIGBjb25uZWN0VXNlcmAgYWdhaW4gdG8gcmV0cnkuXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBmb3IgY2hhdCBhcHBsaWNhdGlvbiB3b3JraW5nIGluIG9mZmxpbmUgbW9kZSwgd2hlcmUgeW91IHdpbGwgbmVlZCBjbGllbnQudXNlciB0b1xuICAgKiBwZXJzaXN0IGV2ZW4gaWYgY29ubmVjdFVzZXIgY2FsbCBmYWlscy5cbiAgICovXG4gIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBzZWNyZXQga2V5IGZvciB0aGUgQVBJIGtleS4gVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3Igc2VydmVyIHNpZGUgYXV0aGVudGljYXRpb24uXG4gICAqL1xuICBzZWNyZXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBXZWJTb2NrZXQgaW1wbGVtZW50YXRpb24gdG8gdXNlLiBUaGlzIGlzIG1haW5seSB1c2VmdWwgZm9yIHRlc3RpbmcuXG4gICAqIEluIE5vZGUuanMgZW52aXJvbm1lbnQsIHlvdSBjYW4gdXNlIHRoZSBgd3NgIHBhY2thZ2UuXG4gICAqL1xuICBXZWJTb2NrZXRJbXBsPzogdHlwZW9mIFdlYlNvY2tldDtcblxuICAvKipcbiAgICogQ3JlYXRlIFdlYiBXb3JrZXIgdG8gaW5pdGlhdGUgdGltZXIgZXZlbnRzIGxpa2UgaGVhbHRoIGNoZWNrcy4gQ2FuIHBvc3NpYmx5IHByZXZlbnRcbiAgICogdGltZXIgdGhyb3R0bGluZyBpc3N1ZXMgaW4gaW5hY3RpdmUgYnJvd3NlciB0YWJzLlxuICAgKi9cbiAgZW5hYmxlVGltZXJXb3JrZXI/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgY2xpZW50IGFwcCBpZGVudGlmaWVyLlxuICAgKi9cbiAgY2xpZW50QXBwSWRlbnRpZmllcj86IENsaWVudEFwcElkZW50aWZpZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRpbWVvdXQgZm9yIFdlYlNvY2tldCBjb25uZWN0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRXc1RpbWVvdXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHRvIGNvbm5lY3QgYSB1c2VyLlxuICAgKi9cbiAgbWF4Q29ubmVjdFVzZXJSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbmUgdGhlIG1heFVzZXJDb25uZWN0UmV0cmllcyBpcyBleGhhdXN0ZWQuXG4gICAqIEBwYXJhbSBsYXN0RXJyb3IgdGhlIGxhc3QgZXJyb3IuXG4gICAqIEBwYXJhbSBhbGxFcnJvcnMgYWxsIGVycm9ycy5cbiAgICovXG4gIG9uQ29ubmVjdFVzZXJFcnJvcj86IChsYXN0RXJyb3I6IEVycm9yLCBhbGxFcnJvcnM6IEVycm9yW10pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgdHlwZSBDbGllbnRBcHBJZGVudGlmaWVyID0ge1xuICBzZGtOYW1lPzogJ3JlYWN0JyB8ICdyZWFjdC1uYXRpdmUnIHwgJ3BsYWluLWphdmFzY3JpcHQnIHwgKHN0cmluZyAmIHt9KTtcbiAgc2RrVmVyc2lvbj86IHN0cmluZztcbiAgYXBwPzogc3RyaW5nO1xuICBhcHBfdmVyc2lvbj86IHN0cmluZztcbiAgb3M/OiBzdHJpbmc7XG4gIGRldmljZV9tb2RlbD86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFRva2VuUHJvdmlkZXIgPSAoKSA9PiBQcm9taXNlPHN0cmluZz47XG5leHBvcnQgdHlwZSBUb2tlbk9yUHJvdmlkZXIgPSBudWxsIHwgc3RyaW5nIHwgVG9rZW5Qcm92aWRlciB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgQnVpbHRJblJlamVjdFJlYXNvbiA9ICdidXN5JyB8ICdkZWNsaW5lJyB8ICdjYW5jZWwnIHwgJ3RpbWVvdXQnO1xuZXhwb3J0IHR5cGUgUmVqZWN0UmVhc29uID0gQnVpbHRJblJlamVjdFJlYXNvbiB8IChzdHJpbmcgJiB7fSk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHR5cGUge1xuICBKc29uT2JqZWN0LFxuICBKc29uUmVhZE9wdGlvbnMsXG4gIEpzb25WYWx1ZSxcbiAgSnNvbldyaXRlT3B0aW9ucyxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwiZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5wcm90b1wiIChwYWNrYWdlIFwiZ29vZ2xlLnByb3RvYnVmXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuLy9cbi8vIFByb3RvY29sIEJ1ZmZlcnMgLSBHb29nbGUncyBkYXRhIGludGVyY2hhbmdlIGZvcm1hdFxuLy8gQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyXG4vLyBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlXG4vLyBkaXN0cmlidXRpb24uXG4vLyAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuaW1wb3J0IHtcbiAgaXNKc29uT2JqZWN0LFxuICBNZXNzYWdlVHlwZSxcbiAgdHlwZW9mSnNvblZhbHVlLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5cbi8qKlxuICogYFN0cnVjdGAgcmVwcmVzZW50cyBhIHN0cnVjdHVyZWQgZGF0YSB2YWx1ZSwgY29uc2lzdGluZyBvZiBmaWVsZHNcbiAqIHdoaWNoIG1hcCB0byBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuIEluIHNvbWUgbGFuZ3VhZ2VzLCBgU3RydWN0YFxuICogbWlnaHQgYmUgc3VwcG9ydGVkIGJ5IGEgbmF0aXZlIHJlcHJlc2VudGF0aW9uLiBGb3IgZXhhbXBsZSwgaW5cbiAqIHNjcmlwdGluZyBsYW5ndWFnZXMgbGlrZSBKUyBhIHN0cnVjdCBpcyByZXByZXNlbnRlZCBhcyBhblxuICogb2JqZWN0LiBUaGUgZGV0YWlscyBvZiB0aGF0IHJlcHJlc2VudGF0aW9uIGFyZSBkZXNjcmliZWQgdG9nZXRoZXJcbiAqIHdpdGggdGhlIHByb3RvIHN1cHBvcnQgZm9yIHRoZSBsYW5ndWFnZS5cbiAqXG4gKiBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYFN0cnVjdGAgaXMgSlNPTiBvYmplY3QuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdCB7XG4gIC8qKlxuICAgKiBVbm9yZGVyZWQgbWFwIG9mIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlcy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBtYXA8c3RyaW5nLCBnb29nbGUucHJvdG9idWYuVmFsdWU+IGZpZWxkcyA9IDE7XG4gICAqL1xuICBmaWVsZHM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBWYWx1ZTtcbiAgfTtcbn1cbi8qKlxuICogYFZhbHVlYCByZXByZXNlbnRzIGEgZHluYW1pY2FsbHkgdHlwZWQgdmFsdWUgd2hpY2ggY2FuIGJlIGVpdGhlclxuICogbnVsbCwgYSBudW1iZXIsIGEgc3RyaW5nLCBhIGJvb2xlYW4sIGEgcmVjdXJzaXZlIHN0cnVjdCB2YWx1ZSwgb3IgYVxuICogbGlzdCBvZiB2YWx1ZXMuIEEgcHJvZHVjZXIgb2YgdmFsdWUgaXMgZXhwZWN0ZWQgdG8gc2V0IG9uZSBvZiB0aGVzZVxuICogdmFyaWFudHMuIEFic2VuY2Ugb2YgYW55IHZhcmlhbnQgaW5kaWNhdGVzIGFuIGVycm9yLlxuICpcbiAqIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgVmFsdWVgIGlzIEpTT04gdmFsdWUuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlZhbHVlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBraW5kXG4gICAqL1xuICBraW5kOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdudWxsVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIG51bGwgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZSBudWxsX3ZhbHVlID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIG51bGxWYWx1ZTogTnVsbFZhbHVlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdudW1iZXJWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgZG91YmxlIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGRvdWJsZSBudW1iZXJfdmFsdWUgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgbnVtYmVyVmFsdWU6IG51bWJlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnc3RyaW5nVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHN0cmluZyB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3RyaW5nX3ZhbHVlID0gMztcbiAgICAgICAgICovXG4gICAgICAgIHN0cmluZ1ZhbHVlOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Jvb2xWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgYm9vbGVhbiB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGJvb2xfdmFsdWUgPSA0O1xuICAgICAgICAgKi9cbiAgICAgICAgYm9vbFZhbHVlOiBib29sZWFuO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdzdHJ1Y3RWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgc3RydWN0dXJlZCB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuU3RydWN0IHN0cnVjdF92YWx1ZSA9IDU7XG4gICAgICAgICAqL1xuICAgICAgICBzdHJ1Y3RWYWx1ZTogU3RydWN0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdsaXN0VmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHJlcGVhdGVkIGBWYWx1ZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZSBsaXN0X3ZhbHVlID0gNjtcbiAgICAgICAgICovXG4gICAgICAgIGxpc3RWYWx1ZTogTGlzdFZhbHVlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIGBMaXN0VmFsdWVgIGlzIGEgd3JhcHBlciBhcm91bmQgYSByZXBlYXRlZCBmaWVsZCBvZiB2YWx1ZXMuXG4gKlxuICogVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBMaXN0VmFsdWVgIGlzIEpTT04gYXJyYXkuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RWYWx1ZSB7XG4gIC8qKlxuICAgKiBSZXBlYXRlZCBmaWVsZCBvZiBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgZ29vZ2xlLnByb3RvYnVmLlZhbHVlIHZhbHVlcyA9IDE7XG4gICAqL1xuICB2YWx1ZXM6IFZhbHVlW107XG59XG4vKipcbiAqIGBOdWxsVmFsdWVgIGlzIGEgc2luZ2xldG9uIGVudW1lcmF0aW9uIHRvIHJlcHJlc2VudCB0aGUgbnVsbCB2YWx1ZSBmb3IgdGhlXG4gKiBgVmFsdWVgIHR5cGUgdW5pb24uXG4gKlxuICogIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTnVsbFZhbHVlYCBpcyBKU09OIGBudWxsYC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlXG4gKi9cbmV4cG9ydCBlbnVtIE51bGxWYWx1ZSB7XG4gIC8qKlxuICAgKiBOdWxsIHZhbHVlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogTlVMTF9WQUxVRSA9IDA7XG4gICAqL1xuICBOVUxMX1ZBTFVFID0gMCxcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0cnVjdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RydWN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdnb29nbGUucHJvdG9idWYuU3RydWN0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2ZpZWxkcycsXG4gICAgICAgIGtpbmQ6ICdtYXAnLFxuICAgICAgICBLOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgICAgVjogeyBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFZhbHVlIH0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYFN0cnVjdGAgdG8gSlNPTiBvYmplY3QuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBTdHJ1Y3QsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGxldCBqc29uOiBKc29uT2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UuZmllbGRzKSkge1xuICAgICAganNvbltrXSA9IFZhbHVlLnRvSnNvbih2KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgU3RydWN0YCBmcm9tIEpTT04gb2JqZWN0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFN0cnVjdCxcbiAgKTogU3RydWN0IHtcbiAgICBpZiAoIWlzSnNvbk9iamVjdChqc29uKSlcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIG1lc3NhZ2UgJyArXG4gICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgdHlwZW9mSnNvblZhbHVlKGpzb24pICtcbiAgICAgICAgICAnLicsXG4gICAgICApO1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBnbG9iYWxUaGlzLk9iamVjdC5lbnRyaWVzKGpzb24pKSB7XG4gICAgICB0YXJnZXQuZmllbGRzW2tdID0gVmFsdWUuZnJvbUpzb24odik7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU3RydWN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdHJ1Y3QgPSBuZXcgU3RydWN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZhbHVlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWYWx1ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlZhbHVlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ251bGxfdmFsdWUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6ICgpID0+IFsnZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZScsIE51bGxWYWx1ZV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ251bWJlcl92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAxIC8qU2NhbGFyVHlwZS5ET1VCTEUqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnc3RyaW5nX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdib29sX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnc3RydWN0X3ZhbHVlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBTdHJ1Y3QsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2xpc3RfdmFsdWUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6ICgpID0+IExpc3RWYWx1ZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuY29kZSBgVmFsdWVgIHRvIEpTT04gdmFsdWUuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBWYWx1ZSwgb3B0aW9uczogSnNvbldyaXRlT3B0aW9ucyk6IEpzb25WYWx1ZSB7XG4gICAgaWYgKG1lc3NhZ2Uua2luZC5vbmVvZktpbmQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICBzd2l0Y2ggKG1lc3NhZ2Uua2luZC5vbmVvZktpbmQpIHtcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgY2FzZSAnYm9vbFZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZC5ib29sVmFsdWU7XG4gICAgICBjYXNlICdudWxsVmFsdWUnOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgJ251bWJlclZhbHVlJzpcbiAgICAgICAgbGV0IG51bWJlclZhbHVlID0gbWVzc2FnZS5raW5kLm51bWJlclZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIG51bWJlclZhbHVlID09ICdudW1iZXInICYmICFOdW1iZXIuaXNGaW5pdGUobnVtYmVyVmFsdWUpKVxuICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBudW1iZXJWYWx1ZTtcbiAgICAgIGNhc2UgJ3N0cmluZ1ZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZC5zdHJpbmdWYWx1ZTtcbiAgICAgIGNhc2UgJ2xpc3RWYWx1ZSc6XG4gICAgICAgIGxldCBsaXN0VmFsdWVGaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoKGYpID0+IGYubm8gPT09IDYpO1xuICAgICAgICBpZiAobGlzdFZhbHVlRmllbGQ/LmtpbmQgIT09ICdtZXNzYWdlJykgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIGxpc3RWYWx1ZUZpZWxkLlQoKS50b0pzb24obWVzc2FnZS5raW5kLmxpc3RWYWx1ZSk7XG4gICAgICBjYXNlICdzdHJ1Y3RWYWx1ZSc6XG4gICAgICAgIGxldCBzdHJ1Y3RWYWx1ZUZpZWxkID0gdGhpcy5maWVsZHMuZmluZCgoZikgPT4gZi5ubyA9PT0gNSk7XG4gICAgICAgIGlmIChzdHJ1Y3RWYWx1ZUZpZWxkPy5raW5kICE9PSAnbWVzc2FnZScpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBzdHJ1Y3RWYWx1ZUZpZWxkLlQoKS50b0pzb24obWVzc2FnZS5raW5kLnN0cnVjdFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgVmFsdWVgIGZyb20gSlNPTiB2YWx1ZS5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBWYWx1ZSxcbiAgKTogVmFsdWUge1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIHN3aXRjaCAodHlwZW9mIGpzb24pIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdudW1iZXJWYWx1ZScsIG51bWJlclZhbHVlOiBqc29uIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgdGFyZ2V0LmtpbmQgPSB7IG9uZW9mS2luZDogJ3N0cmluZ1ZhbHVlJywgc3RyaW5nVmFsdWU6IGpzb24gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgdGFyZ2V0LmtpbmQgPSB7IG9uZW9mS2luZDogJ2Jvb2xWYWx1ZScsIGJvb2xWYWx1ZToganNvbiB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0LmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdudWxsVmFsdWUnLFxuICAgICAgICAgICAgbnVsbFZhbHVlOiBOdWxsVmFsdWUuTlVMTF9WQUxVRSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGdsb2JhbFRoaXMuQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnbGlzdFZhbHVlJyxcbiAgICAgICAgICAgIGxpc3RWYWx1ZTogTGlzdFZhbHVlLmZyb21Kc29uKGpzb24pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0LmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdzdHJ1Y3RWYWx1ZScsXG4gICAgICAgICAgICBzdHJ1Y3RWYWx1ZTogU3RydWN0LmZyb21Kc29uKGpzb24pLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAnVW5hYmxlIHRvIHBhcnNlICcgK1xuICAgICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgICAnIGZyb20gSlNPTiAnICtcbiAgICAgICAgICAgIHR5cGVvZkpzb25WYWx1ZShqc29uKSxcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZVxuICovXG5leHBvcnQgY29uc3QgVmFsdWUgPSBuZXcgVmFsdWUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgTGlzdFZhbHVlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxMaXN0VmFsdWU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndmFsdWVzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZhbHVlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBMaXN0VmFsdWVgIHRvIEpTT04gYXJyYXkuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBMaXN0VmFsdWUsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIHJldHVybiBtZXNzYWdlLnZhbHVlcy5tYXAoKHYpID0+IFZhbHVlLnRvSnNvbih2KSk7XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgTGlzdFZhbHVlYCBmcm9tIEpTT04gYXJyYXkuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogTGlzdFZhbHVlLFxuICApOiBMaXN0VmFsdWUge1xuICAgIGlmICghZ2xvYmFsVGhpcy5BcnJheS5pc0FycmF5KGpzb24pKVxuICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gcGFyc2UgJyArXG4gICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgdHlwZW9mSnNvblZhbHVlKGpzb24pLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBsZXQgdmFsdWVzID0ganNvbi5tYXAoKHYpID0+IFZhbHVlLmZyb21Kc29uKHYpKTtcbiAgICB0YXJnZXQudmFsdWVzLnB1c2goLi4udmFsdWVzKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVxuICovXG5leHBvcnQgY29uc3QgTGlzdFZhbHVlID0gbmV3IExpc3RWYWx1ZSRUeXBlKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHR5cGUge1xuICBKc29uUmVhZE9wdGlvbnMsXG4gIEpzb25WYWx1ZSxcbiAgSnNvbldyaXRlT3B0aW9ucyxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwiZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5wcm90b1wiIChwYWNrYWdlIFwiZ29vZ2xlLnByb3RvYnVmXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuLy9cbi8vIFByb3RvY29sIEJ1ZmZlcnMgLSBHb29nbGUncyBkYXRhIGludGVyY2hhbmdlIGZvcm1hdFxuLy8gQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyXG4vLyBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlXG4vLyBkaXN0cmlidXRpb24uXG4vLyAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUsIFBiTG9uZywgdHlwZW9mSnNvblZhbHVlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuXG4vKipcbiAqIEEgVGltZXN0YW1wIHJlcHJlc2VudHMgYSBwb2ludCBpbiB0aW1lIGluZGVwZW5kZW50IG9mIGFueSB0aW1lIHpvbmUgb3IgbG9jYWxcbiAqIGNhbGVuZGFyLCBlbmNvZGVkIGFzIGEgY291bnQgb2Ygc2Vjb25kcyBhbmQgZnJhY3Rpb25zIG9mIHNlY29uZHMgYXRcbiAqIG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gVGhlIGNvdW50IGlzIHJlbGF0aXZlIHRvIGFuIGVwb2NoIGF0IFVUQyBtaWRuaWdodCBvblxuICogSmFudWFyeSAxLCAxOTcwLCBpbiB0aGUgcHJvbGVwdGljIEdyZWdvcmlhbiBjYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS5cbiAqXG4gKiBBbGwgbWludXRlcyBhcmUgNjAgc2Vjb25kcyBsb25nLiBMZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcFxuICogc2Vjb25kIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24sIHVzaW5nIGEgWzI0LWhvdXIgbGluZWFyXG4gKiBzbWVhcl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGltZS9zbWVhcikuXG4gKlxuICogVGhlIHJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OS45OTk5OTk5OTlaLiBCeVxuICogcmVzdHJpY3RpbmcgdG8gdGhhdCByYW5nZSwgd2UgZW5zdXJlIHRoYXQgd2UgY2FuIGNvbnZlcnQgdG8gYW5kIGZyb20gW1JGQ1xuICogMzMzOV0oaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzMzMzkudHh0KSBkYXRlIHN0cmluZ3MuXG4gKlxuICogIyBFeGFtcGxlc1xuICpcbiAqIEV4YW1wbGUgMTogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBQT1NJWCBgdGltZSgpYC5cbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHModGltZShOVUxMKSk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcygwKTtcbiAqXG4gKiBFeGFtcGxlIDI6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gUE9TSVggYGdldHRpbWVvZmRheSgpYC5cbiAqXG4gKiAgICAgc3RydWN0IHRpbWV2YWwgdHY7XG4gKiAgICAgZ2V0dGltZW9mZGF5KCZ0diwgTlVMTCk7XG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXA7XG4gKiAgICAgdGltZXN0YW1wLnNldF9zZWNvbmRzKHR2LnR2X3NlYyk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcyh0di50dl91c2VjICogMTAwMCk7XG4gKlxuICogRXhhbXBsZSAzOiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIFdpbjMyIGBHZXRTeXN0ZW1UaW1lQXNGaWxlVGltZSgpYC5cbiAqXG4gKiAgICAgRklMRVRJTUUgZnQ7XG4gKiAgICAgR2V0U3lzdGVtVGltZUFzRmlsZVRpbWUoJmZ0KTtcbiAqICAgICBVSU5UNjQgdGlja3MgPSAoKChVSU5UNjQpZnQuZHdIaWdoRGF0ZVRpbWUpIDw8IDMyKSB8IGZ0LmR3TG93RGF0ZVRpbWU7XG4gKlxuICogICAgIC8vIEEgV2luZG93cyB0aWNrIGlzIDEwMCBuYW5vc2Vjb25kcy4gV2luZG93cyBlcG9jaCAxNjAxLTAxLTAxVDAwOjAwOjAwWlxuICogICAgIC8vIGlzIDExNjQ0NDczNjAwIHNlY29uZHMgYmVmb3JlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHMoKElOVDY0KSAoKHRpY2tzIC8gMTAwMDAwMDApIC0gMTE2NDQ0NzM2MDBMTCkpO1xuICogICAgIHRpbWVzdGFtcC5zZXRfbmFub3MoKElOVDMyKSAoKHRpY2tzICUgMTAwMDAwMDApICogMTAwKSk7XG4gKlxuICogRXhhbXBsZSA0OiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIEphdmEgYFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpYC5cbiAqXG4gKiAgICAgbG9uZyBtaWxsaXMgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9IFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhtaWxsaXMgLyAxMDAwKVxuICogICAgICAgICAuc2V0TmFub3MoKGludCkgKChtaWxsaXMgJSAxMDAwKSAqIDEwMDAwMDApKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDU6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gSmF2YSBgSW5zdGFudC5ub3coKWAuXG4gKlxuICogICAgIEluc3RhbnQgbm93ID0gSW5zdGFudC5ub3coKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9XG4gKiAgICAgICAgIFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhub3cuZ2V0RXBvY2hTZWNvbmQoKSlcbiAqICAgICAgICAgICAgIC5zZXROYW5vcyhub3cuZ2V0TmFubygpKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDY6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gY3VycmVudCB0aW1lIGluIFB5dGhvbi5cbiAqXG4gKiAgICAgdGltZXN0YW1wID0gVGltZXN0YW1wKClcbiAqICAgICB0aW1lc3RhbXAuR2V0Q3VycmVudFRpbWUoKVxuICpcbiAqICMgSlNPTiBNYXBwaW5nXG4gKlxuICogSW4gSlNPTiBmb3JtYXQsIHRoZSBUaW1lc3RhbXAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nIGluIHRoZVxuICogW1JGQyAzMzM5XShodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzMzOS50eHQpIGZvcm1hdC4gVGhhdCBpcywgdGhlXG4gKiBmb3JtYXQgaXMgXCJ7eWVhcn0te21vbnRofS17ZGF5fVR7aG91cn06e21pbn06e3NlY31bLntmcmFjX3NlY31dWlwiXG4gKiB3aGVyZSB7eWVhcn0gaXMgYWx3YXlzIGV4cHJlc3NlZCB1c2luZyBmb3VyIGRpZ2l0cyB3aGlsZSB7bW9udGh9LCB7ZGF5fSxcbiAqIHtob3VyfSwge21pbn0sIGFuZCB7c2VjfSBhcmUgemVyby1wYWRkZWQgdG8gdHdvIGRpZ2l0cyBlYWNoLiBUaGUgZnJhY3Rpb25hbFxuICogc2Vjb25kcywgd2hpY2ggY2FuIGdvIHVwIHRvIDkgZGlnaXRzIChpLmUuIHVwIHRvIDEgbmFub3NlY29uZCByZXNvbHV0aW9uKSxcbiAqIGFyZSBvcHRpb25hbC4gVGhlIFwiWlwiIHN1ZmZpeCBpbmRpY2F0ZXMgdGhlIHRpbWV6b25lIChcIlVUQ1wiKTsgdGhlIHRpbWV6b25lXG4gKiBpcyByZXF1aXJlZC4gQSBwcm90bzMgSlNPTiBzZXJpYWxpemVyIHNob3VsZCBhbHdheXMgdXNlIFVUQyAoYXMgaW5kaWNhdGVkIGJ5XG4gKiBcIlpcIikgd2hlbiBwcmludGluZyB0aGUgVGltZXN0YW1wIHR5cGUgYW5kIGEgcHJvdG8zIEpTT04gcGFyc2VyIHNob3VsZCBiZVxuICogYWJsZSB0byBhY2NlcHQgYm90aCBVVEMgYW5kIG90aGVyIHRpbWV6b25lcyAoYXMgaW5kaWNhdGVkIGJ5IGFuIG9mZnNldCkuXG4gKlxuICogRm9yIGV4YW1wbGUsIFwiMjAxNy0wMS0xNVQwMTozMDoxNS4wMVpcIiBlbmNvZGVzIDE1LjAxIHNlY29uZHMgcGFzdFxuICogMDE6MzAgVVRDIG9uIEphbnVhcnkgMTUsIDIwMTcuXG4gKlxuICogSW4gSmF2YVNjcmlwdCwgb25lIGNhbiBjb252ZXJ0IGEgRGF0ZSBvYmplY3QgdG8gdGhpcyBmb3JtYXQgdXNpbmcgdGhlXG4gKiBzdGFuZGFyZFxuICogW3RvSVNPU3RyaW5nKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvdG9JU09TdHJpbmcpXG4gKiBtZXRob2QuIEluIFB5dGhvbiwgYSBzdGFuZGFyZCBgZGF0ZXRpbWUuZGF0ZXRpbWVgIG9iamVjdCBjYW4gYmUgY29udmVydGVkXG4gKiB0byB0aGlzIGZvcm1hdCB1c2luZ1xuICogW2BzdHJmdGltZWBdKGh0dHBzOi8vZG9jcy5weXRob24ub3JnLzIvbGlicmFyeS90aW1lLmh0bWwjdGltZS5zdHJmdGltZSkgd2l0aFxuICogdGhlIHRpbWUgZm9ybWF0IHNwZWMgJyVZLSVtLSVkVCVIOiVNOiVTLiVmWicuIExpa2V3aXNlLCBpbiBKYXZhLCBvbmUgY2FuIHVzZVxuICogdGhlIEpvZGEgVGltZSdzIFtgSVNPRGF0ZVRpbWVGb3JtYXQuZGF0ZVRpbWUoKWBdKFxuICogaHR0cDovL3d3dy5qb2RhLm9yZy9qb2RhLXRpbWUvYXBpZG9jcy9vcmcvam9kYS90aW1lL2Zvcm1hdC9JU09EYXRlVGltZUZvcm1hdC5odG1sI2RhdGVUaW1lJTJEJTJEXG4gKiApIHRvIG9idGFpbiBhIGZvcm1hdHRlciBjYXBhYmxlIG9mIGdlbmVyYXRpbmcgdGltZXN0YW1wcyBpbiB0aGlzIGZvcm1hdC5cbiAqXG4gKlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lc3RhbXAge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2hcbiAgICogMTk3MC0wMS0wMVQwMDowMDowMFouIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICAgKiA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50NjQgc2Vjb25kcyA9IDE7XG4gICAqL1xuICBzZWNvbmRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOb24tbmVnYXRpdmUgZnJhY3Rpb25zIG9mIGEgc2Vjb25kIGF0IG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gTmVnYXRpdmVcbiAgICogc2Vjb25kIHZhbHVlcyB3aXRoIGZyYWN0aW9ucyBtdXN0IHN0aWxsIGhhdmUgbm9uLW5lZ2F0aXZlIG5hbm9zIHZhbHVlc1xuICAgKiB0aGF0IGNvdW50IGZvcndhcmQgaW4gdGltZS4gTXVzdCBiZSBmcm9tIDAgdG8gOTk5LDk5OSw5OTlcbiAgICogaW5jbHVzaXZlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG5hbm9zID0gMjtcbiAgICovXG4gIG5hbm9zOiBudW1iZXI7XG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUaW1lc3RhbXAkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRpbWVzdGFtcD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZWNvbmRzJywga2luZDogJ3NjYWxhcicsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICduYW5vcycsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYFRpbWVzdGFtcGAgZm9yIHRoZSBjdXJyZW50IHRpbWUuXG4gICAqL1xuICBub3coKTogVGltZXN0YW1wIHtcbiAgICBjb25zdCBtc2cgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1zID0gRGF0ZS5ub3coKTtcbiAgICBtc2cuc2Vjb25kcyA9IFBiTG9uZy5mcm9tKE1hdGguZmxvb3IobXMgLyAxMDAwKSkudG9TdHJpbmcoKTtcbiAgICBtc2cubmFub3MgPSAobXMgJSAxMDAwKSAqIDEwMDAwMDA7XG4gICAgcmV0dXJuIG1zZztcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIEphdmFTY3JpcHQgRGF0ZS5cbiAgICovXG4gIHRvRGF0ZShtZXNzYWdlOiBUaW1lc3RhbXApOiBEYXRlIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICBQYkxvbmcuZnJvbShtZXNzYWdlLnNlY29uZHMpLnRvTnVtYmVyKCkgKiAxMDAwICtcbiAgICAgICAgTWF0aC5jZWlsKG1lc3NhZ2UubmFub3MgLyAxMDAwMDAwKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgRGF0ZSB0byBhIGBUaW1lc3RhbXBgLlxuICAgKi9cbiAgZnJvbURhdGUoZGF0ZTogRGF0ZSk6IFRpbWVzdGFtcCB7XG4gICAgY29uc3QgbXNnID0gdGhpcy5jcmVhdGUoKTtcbiAgICBjb25zdCBtcyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIG1zZy5zZWNvbmRzID0gUGJMb25nLmZyb20oTWF0aC5mbG9vcihtcyAvIDEwMDApKS50b1N0cmluZygpO1xuICAgIG1zZy5uYW5vcyA9XG4gICAgICAoKG1zICUgMTAwMCkgKyAobXMgPCAwICYmIG1zICUgMTAwMCAhPT0gMCA/IDEwMDAgOiAwKSkgKiAxMDAwMDAwO1xuICAgIHJldHVybiBtc2c7XG4gIH1cbiAgLyoqXG4gICAqIEluIEpTT04gZm9ybWF0LCB0aGUgYFRpbWVzdGFtcGAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nXG4gICAqIGluIHRoZSBSRkMgMzMzOSBmb3JtYXQuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBUaW1lc3RhbXAsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGxldCBtcyA9IFBiTG9uZy5mcm9tKG1lc3NhZ2Uuc2Vjb25kcykudG9OdW1iZXIoKSAqIDEwMDA7XG4gICAgaWYgKFxuICAgICAgbXMgPCBEYXRlLnBhcnNlKCcwMDAxLTAxLTAxVDAwOjAwOjAwWicpIHx8XG4gICAgICBtcyA+IERhdGUucGFyc2UoJzk5OTktMTItMzFUMjM6NTk6NTlaJylcbiAgICApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gZW5jb2RlIFRpbWVzdGFtcCB0byBKU09OLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLicsXG4gICAgICApO1xuICAgIGlmIChtZXNzYWdlLm5hbm9zIDwgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBlbmNvZGUgaW52YWxpZCBUaW1lc3RhbXAgdG8gSlNPTi4gTmFub3MgbXVzdCBub3QgYmUgbmVnYXRpdmUuJyxcbiAgICAgICk7XG4gICAgbGV0IHogPSAnWic7XG4gICAgaWYgKG1lc3NhZ2UubmFub3MgPiAwKSB7XG4gICAgICBsZXQgbmFub3NTdHIgPSAobWVzc2FnZS5uYW5vcyArIDEwMDAwMDAwMDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpO1xuICAgICAgaWYgKG5hbm9zU3RyLnN1YnN0cmluZygzKSA9PT0gJzAwMDAwMCcpXG4gICAgICAgIHogPSAnLicgKyBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgMykgKyAnWic7XG4gICAgICBlbHNlIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoNikgPT09ICcwMDAnKVxuICAgICAgICB6ID0gJy4nICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDYpICsgJ1onO1xuICAgICAgZWxzZSB6ID0gJy4nICsgbmFub3NTdHIgKyAnWic7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShtcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKCcuMDAwWicsIHopO1xuICB9XG4gIC8qKlxuICAgKiBJbiBKU09OIGZvcm1hdCwgdGhlIGBUaW1lc3RhbXBgIHR5cGUgaXMgZW5jb2RlZCBhcyBhIHN0cmluZ1xuICAgKiBpbiB0aGUgUkZDIDMzMzkgZm9ybWF0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFRpbWVzdGFtcCxcbiAgKTogVGltZXN0YW1wIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT09ICdzdHJpbmcnKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04gJyArIHR5cGVvZkpzb25WYWx1ZShqc29uKSArICcuJyxcbiAgICAgICk7XG4gICAgbGV0IG1hdGNoZXMgPSBqc29uLm1hdGNoKFxuICAgICAgL14oWzAtOV17NH0pLShbMC05XXsyfSktKFswLTldezJ9KVQoWzAtOV17Mn0pOihbMC05XXsyfSk6KFswLTldezJ9KSg/Olp8XFwuKFswLTldezMsOX0pWnwoWystXVswLTldWzAtOV06WzAtOV1bMC05XSkpJC8sXG4gICAgKTtcbiAgICBpZiAoIW1hdGNoZXMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OLiBJbnZhbGlkIGZvcm1hdC4nKTtcbiAgICBsZXQgbXMgPSBEYXRlLnBhcnNlKFxuICAgICAgbWF0Y2hlc1sxXSArXG4gICAgICAgICctJyArXG4gICAgICAgIG1hdGNoZXNbMl0gK1xuICAgICAgICAnLScgK1xuICAgICAgICBtYXRjaGVzWzNdICtcbiAgICAgICAgJ1QnICtcbiAgICAgICAgbWF0Y2hlc1s0XSArXG4gICAgICAgICc6JyArXG4gICAgICAgIG1hdGNoZXNbNV0gK1xuICAgICAgICAnOicgK1xuICAgICAgICBtYXRjaGVzWzZdICtcbiAgICAgICAgKG1hdGNoZXNbOF0gPyBtYXRjaGVzWzhdIDogJ1onKSxcbiAgICApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obXMpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTi4gSW52YWxpZCB2YWx1ZS4nKTtcbiAgICBpZiAoXG4gICAgICBtcyA8IERhdGUucGFyc2UoJzAwMDEtMDEtMDFUMDA6MDA6MDBaJykgfHxcbiAgICAgIG1zID4gRGF0ZS5wYXJzZSgnOTk5OS0xMi0zMVQyMzo1OTo1OVonKVxuICAgIClcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04uIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuJyxcbiAgICAgICk7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgdGFyZ2V0LnNlY29uZHMgPSBQYkxvbmcuZnJvbShtcyAvIDEwMDApLnRvU3RyaW5nKCk7XG4gICAgdGFyZ2V0Lm5hbm9zID0gMDtcbiAgICBpZiAobWF0Y2hlc1s3XSlcbiAgICAgIHRhcmdldC5uYW5vcyA9XG4gICAgICAgIHBhcnNlSW50KCcxJyArIG1hdGNoZXNbN10gKyAnMCcucmVwZWF0KDkgLSBtYXRjaGVzWzddLmxlbmd0aCkpIC1cbiAgICAgICAgMTAwMDAwMDAwMDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFxuICovXG5leHBvcnQgY29uc3QgVGltZXN0YW1wID0gbmV3IFRpbWVzdGFtcCRUeXBlKCk7XG4iLCIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuMTAuMCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvbW9kZWxzL21vZGVscy5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5tb2RlbHNcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7IFN0cnVjdCB9IGZyb20gJy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QnO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcCc7XG5cbi8qKlxuICogQ2FsbFN0YXRlIGlzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjYWxsXG4gKiBhcyBzZWVuIGJ5IGFuIFNGVS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdGUge1xuICAvKipcbiAgICogcGFydGljaXBhbnRzIGlzIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAgICogSW4gbGFyZ2UgY2FsbHMsIHRoZSBsaXN0IGNvdWxkIGJlIHRydW5jYXRlZCBpbiB3aGljaFxuICAgKiBjYXNlLCB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgY29udGFpbnMgZmV3ZXIgcGFydGljaXBhbnRzXG4gICAqIHRoYW4gdGhlIGNvdW50cyByZXR1cm5lZCBpbiBwYXJ0aWNpcGFudF9jb3VudC4gQW5vbnltb3VzXG4gICAqIHBhcnRpY2lwYW50cyBhcmUgKipOT1QqKiBpbmNsdWRlZCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudHMgPSAxO1xuICAgKi9cbiAgcGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudFtdO1xuICAvKipcbiAgICogc3RhcnRlZF9hdCBpcyB0aGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBzdGFydGVkX2F0ID0gMjtcbiAgICovXG4gIHN0YXJ0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIHBhcnRpY2lwYW50X2NvdW50IGNvbnRhaW5zIHRoZSBzdW1tYXJ5IG9mIHRoZSBjb3VudHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDM7XG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50PzogUGFydGljaXBhbnRDb3VudDtcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwuXG4gICAqIFBpbnMgYXJlIG9yZGVyZWQgaW4gZGVzY2VuZGluZyBvcmRlciAobW9zdCBpbXBvcnRhbnQgZmlyc3QpLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gNDtcbiAgICovXG4gIHBpbnM6IFBpbltdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudCB7XG4gIC8qKlxuICAgKiBUb3RhbCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsIGluY2x1ZGluZ1xuICAgKiB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgdG90YWwgPSAxO1xuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBhbm9ueW1vdXMgPSAyO1xuICAgKi9cbiAgYW5vbnltb3VzOiBudW1iZXI7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpbiB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byBwaW5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHNlc2lvbl9pZCB0byBwaW4sIGlmIG5vdCBwcm92aWRlZCwgYXBwbGllcyB0byBhbGwgc2Vzc2lvbnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogdGhvc2Ugd2hvIGFyZSBvbmxpbmUgaW4gdGhlIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogbWFwIG9mIHRyYWNrIGlkIHRvIHRyYWNrIHR5cGVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgcHVibGlzaGVkX3RyYWNrcyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZWRUcmFja3M6IFRyYWNrVHlwZVtdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGpvaW5lZF9hdCA9IDQ7XG4gICAqL1xuICBqb2luZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2xvb2t1cF9wcmVmaXggPSA1O1xuICAgKi9cbiAgdHJhY2tMb29rdXBQcmVmaXg6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gNjtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19zcGVha2luZyA9IDc7XG4gICAqL1xuICBpc1NwZWFraW5nOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX2RvbWluYW50X3NwZWFrZXIgPSA4O1xuICAgKi9cbiAgaXNEb21pbmFudFNwZWFrZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGF1ZGlvX2xldmVsID0gOTtcbiAgICovXG4gIGF1ZGlvTGV2ZWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxMDtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGltYWdlID0gMTE7XG4gICAqL1xuICBpbWFnZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuU3RydWN0IGN1c3RvbSA9IDEyO1xuICAgKi9cbiAgY3VzdG9tPzogU3RydWN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgcm9sZXMgPSAxMztcbiAgICovXG4gIHJvbGVzOiBzdHJpbmdbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgdmlkZW9fcXVhbGl0eSA9IDE7XG4gICAqL1xuICB2aWRlb1F1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAyO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9EaW1lbnNpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgd2lkdGggPSAxO1xuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGhlaWdodCA9IDI7XG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTGF5ZXIge1xuICAvKipcbiAgICogZm9yIHRyYWNrcyB3aXRoIGEgc2luZ2xlIGxheWVyLCB0aGlzIHNob3VsZCBiZSBISUdIXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJpZCA9IDE7XG4gICAqL1xuICByaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gMjtcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiB0YXJnZXQgYml0cmF0ZSwgc2VydmVyIHdpbGwgbWVhc3VyZSBhY3R1YWxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgYml0cmF0ZSA9IDQ7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBmcHMgPSA1O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eSBxdWFsaXR5ID0gNjtcbiAgICovXG4gIHF1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbn1cbi8qKlxuICogU3Vic2NyaWJlT3B0aW9uIHJlcHJlc2VudHMgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3Igc3Vic2NyaWJpbmcgdG8gYSB0cmFjay5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdWJzY3JpYmVPcHRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVPcHRpb24ge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGJlaW5nIHN1YnNjcmliZWQgKGUuZy4sIHZpZGVvLCBzY3JlZW5zaGFyZSkuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAxO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBUaGUgY29kZWNzIHN1cHBvcnRlZCBieSB0aGUgc3Vic2NyaWJlciBmb3IgZGVjb2RpbmcgdHJhY2tzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjcyA9IDI7XG4gICAqL1xuICBjb2RlY3M6IENvZGVjW107XG59XG4vKipcbiAqIFB1Ymxpc2hPcHRpb24gcmVwcmVzZW50cyB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBwdWJsaXNoaW5nIGEgdHJhY2suXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hPcHRpb24ge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGJlaW5nIHB1Ymxpc2hlZCAoZS5nLiwgdmlkZW8sIHNjcmVlbnNoYXJlKS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDE7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIFRoZSBjb2RlYyB0byBiZSB1c2VkIGZvciBlbmNvZGluZyB0aGUgdHJhY2sgKGUuZy4sIFZQOCwgVlA5LCBIMjY0KS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogVGhlIHRhcmdldCBiaXRyYXRlIGZvciB0aGUgcHVibGlzaGVkIHRyYWNrLCBpbiBiaXRzIHBlciBzZWNvbmQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgYml0cmF0ZSA9IDM7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgdGFyZ2V0IGZyYW1lcyBwZXIgc2Vjb25kIChGUFMpIGZvciB2aWRlbyBlbmNvZGluZy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBmcHMgPSA0O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc3BhdGlhbCBsYXllcnMgdG8gc2VuZC5cbiAgICogLSBGb3IgU1ZDIChlLmcuLCBWUDkpLCBzcGF0aWFsIGxheWVycyBkb3duc2NhbGUgYnkgYSBmYWN0b3Igb2YgMjpcbiAgICogICAtIDEgbGF5ZXI6IGZ1bGwgcmVzb2x1dGlvblxuICAgKiAgIC0gMiBsYXllcnM6IGZ1bGwgcmVzb2x1dGlvbiArIGhhbGYgcmVzb2x1dGlvblxuICAgKiAgIC0gMyBsYXllcnM6IGZ1bGwgcmVzb2x1dGlvbiArIGhhbGYgcmVzb2x1dGlvbiArIHF1YXJ0ZXIgcmVzb2x1dGlvblxuICAgKiAtIEZvciBub24tU1ZDIGNvZGVjcyAoZS5nLiwgVlA4L0gyNjQpLCB0aGlzIGRldGVybWluZXMgdGhlIG51bWJlciBvZlxuICAgKiAgIGVuY29kZWQgcmVzb2x1dGlvbnMgKGUuZy4sIHF1YXJ0ZXIsIGhhbGYsIGZ1bGwpIHNlbnQgZm9yIHNpbXVsY2FzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBtYXhfc3BhdGlhbF9sYXllcnMgPSA1O1xuICAgKi9cbiAgbWF4U3BhdGlhbExheWVyczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRlbXBvcmFsIGxheWVycyBmb3Igc2NhbGFibGUgdmlkZW8gY29kaW5nIChTVkMpLlxuICAgKiBUZW1wb3JhbCBsYXllcnMgYWxsb3cgdmFyeWluZyBmcmFtZSByYXRlcyBmb3IgZGlmZmVyZW50IGJhbmR3aWR0aHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgbWF4X3RlbXBvcmFsX2xheWVycyA9IDY7XG4gICAqL1xuICBtYXhUZW1wb3JhbExheWVyczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZGVvIChlLmcuLCB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVscykuXG4gICAqIFNwYXRpYWwgbGF5ZXJzIGFyZSBiYXNlZCBvbiB0aGlzIGJhc2UgcmVzb2x1dGlvbi4gRm9yIGV4YW1wbGUsIGlmIHRoZSBiYXNlXG4gICAqIHJlc29sdXRpb24gaXMgMTI4MHg3MjA6XG4gICAqIC0gRnVsbCByZXNvbHV0aW9uICgxIGxheWVyKSA9IDEyODB4NzIwXG4gICAqIC0gSGFsZiByZXNvbHV0aW9uICgyIGxheWVycykgPSA2NDB4MzYwXG4gICAqIC0gUXVhcnRlciByZXNvbHV0aW9uICgzIGxheWVycykgPSAzMjB4MTgwXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gNztcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBwdWJsaXNoIHJlcXVlc3QuXG4gICAqIC0gVGhpcyBgaWRgIGlzIGFzc2lnbmVkIGV4Y2x1c2l2ZWx5IGJ5IHRoZSBTRlUuIEFueSBgaWRgIHNldCBieSB0aGUgY2xpZW50XG4gICAqICAgaW4gdGhlIGBQdWJsaXNoT3B0aW9uYCB3aWxsIGJlIGlnbm9yZWQgYW5kIG92ZXJ3cml0dGVuIGJ5IHRoZSBTRlUuXG4gICAqIC0gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIGBpZGAgaXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgZWFjaCBwdWJsaXNoXG4gICAqICAgcmVxdWVzdCwgZXZlbiBpbiBzY2VuYXJpb3Mgd2hlcmUgbXVsdGlwbGUgcHVibGlzaCByZXF1ZXN0cyBmb3IgdGhlIHNhbWVcbiAgICogICBgdHJhY2tfdHlwZWAgYW5kIGBjb2RlY2AgYXJlIGFjdGl2ZSBzaW11bHRhbmVvdXNseS5cbiAgICogICBGb3IgZXhhbXBsZTpcbiAgICogICAgIC0gQSB1c2VyIG1heSBwdWJsaXNoIHR3byB0cmFja3Mgb2YgdGhlIHNhbWUgdHlwZSAoZS5nLiwgdmlkZW8pIGFuZCBjb2RlY1xuICAgKiAgICAgICAoZS5nLiwgVlA5KSBjb25jdXJyZW50bHkuXG4gICAqIC0gVGhpcyB1bmlxdWVuZXNzIGVuc3VyZXMgdGhhdCBpbmRpdmlkdWFsIHJlcXVlc3RzIGNhbiBiZSBtYW5hZ2VkXG4gICAqICAgaW5kZXBlbmRlbnRseS4gRm9yIGluc3RhbmNlLCBhbiBgaWRgIGlzIGNyaXRpY2FsIHdoZW4gc3RvcHBpbmcgYSBzcGVjaWZpY1xuICAgKiAgIHB1Ymxpc2ggcmVxdWVzdCB3aXRob3V0IGFmZmVjdGluZyBvdGhlcnMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgaWQgPSA4O1xuICAgKi9cbiAgaWQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIElmIHRydWUsIGluc3RydWN0cyB0aGUgcHVibGlzaGVyIHRvIHNlbmQgb25seSB0aGUgaGlnaGVzdCBhdmFpbGFibGUgc2ltdWxjYXN0IGxheWVyLFxuICAgKiBkaXNhYmxpbmcgYWxsIGxvd2VyIGxheWVycy4gVGhpcyBhcHBsaWVzIHRvIHNpbXVsY2FzdCBlbmNvZGluZ3MuXG4gICAqIEZvciBTVkMgY29kZWNzLCBwcmVmZXIgdXNpbmcgdGhlIEwxVDMgKHNpbmdsZSBzcGF0aWFsLCAzIHRlbXBvcmFsIGxheWVycykgbW9kZSBpbnN0ZWFkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgdXNlX3NpbmdsZV9sYXllciA9IDk7XG4gICAqL1xuICB1c2VTaW5nbGVMYXllcjogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlYyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBwYXlsb2FkX3R5cGUgPSAxNjtcbiAgICovXG4gIHBheWxvYWRUeXBlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTA7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBjbG9ja19yYXRlID0gMTQ7XG4gICAqL1xuICBjbG9ja1JhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGVuY29kaW5nX3BhcmFtZXRlcnMgPSAxNTtcbiAgICovXG4gIGVuY29kaW5nUGFyYW1ldGVyczogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZm10cCA9IDEyO1xuICAgKi9cbiAgZm10cDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2lkID0gMTtcbiAgICovXG4gIHRyYWNrSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAyO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXIgbGF5ZXJzID0gNTtcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllcltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWlkID0gNjtcbiAgICovXG4gIG1pZDogc3RyaW5nO1xuICAvKipcbiAgICogZm9yIGF1ZGlvIHRyYWNrc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgZHR4ID0gNztcbiAgICovXG4gIGR0eDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBzdGVyZW8gPSA4O1xuICAgKi9cbiAgc3RlcmVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHJlZCA9IDk7XG4gICAqL1xuICByZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAxMDtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDExO1xuICAgKi9cbiAgY29kZWM/OiBDb2RlYztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgcHVibGlzaF9vcHRpb25faWQgPSAxMjtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25JZDogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlIGNvZGUgPSAxO1xuICAgKi9cbiAgY29kZTogRXJyb3JDb2RlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgc2hvdWxkX3JldHJ5ID0gMztcbiAgICovXG4gIHNob3VsZFJldHJ5OiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkayBzZGsgPSAxO1xuICAgKi9cbiAgc2RrPzogU2RrO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUyBvcyA9IDI7XG4gICAqL1xuICBvcz86IE9TO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyIGJyb3dzZXIgPSAzO1xuICAgKi9cbiAgYnJvd3Nlcj86IEJyb3dzZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZSBkZXZpY2UgPSA0O1xuICAgKi9cbiAgZGV2aWNlPzogRGV2aWNlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZGsge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogU2RrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1ham9yID0gMjtcbiAgICovXG4gIG1ham9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtaW5vciA9IDM7XG4gICAqL1xuICBtaW5vcjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcGF0Y2ggPSA0O1xuICAgKi9cbiAgcGF0Y2g6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPUyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYXJjaGl0ZWN0dXJlID0gMztcbiAgICovXG4gIGFyY2hpdGVjdHVyZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5SVE1QSW5ncmVzc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJUTVBJbmdyZXNzIHtcbiAgLyoqXG4gICAqIFZpZGVvIGRpbWVuc2lvbnMgYW5kIGZyYW1lIHJhdGVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgd2lkdGggPSAxO1xuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGhlaWdodCA9IDI7XG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZG91YmxlIGZyYW1lX3JhdGUgPSAzO1xuICAgKi9cbiAgZnJhbWVSYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBDbGllbnQgaW5mb1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzb2Z0d2FyZSA9IDQ7XG4gICAqL1xuICBzb2Z0d2FyZTogc3RyaW5nOyAvLyBlLmcuIFwib2JzLXN0dWRpb1wiXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gNTtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZzsgLy8gZS5nLiBcIjI5LjEuM1wiXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBlbmNvZGVyID0gNjtcbiAgICovXG4gIGVuY29kZXI6IHN0cmluZzsgLy8gZS5nLiBcIngyNjRcIiBvciBcIk5WSURJQSBOVkVOQ1wiXG4gIC8qKlxuICAgKiBDb25uZWN0aW9uIGluZm9cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmVtb3RlX2FkZHIgPSA3O1xuICAgKi9cbiAgcmVtb3RlQWRkcjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gMjtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGwge1xuICAvKipcbiAgICogdGhlIGNhbGwgdHlwZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0eXBlID0gMTtcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBjYWxsIGlkXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGlkID0gMjtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIHVzZXIgdGhhdCBjcmVhdGVkIHRoaXMgY2FsbFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjcmVhdGVkX2J5X3VzZXJfaWQgPSAzO1xuICAgKi9cbiAgY3JlYXRlZEJ5VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIGN1cnJlbnQgaG9zdCBmb3IgdGhpcyBjYWxsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGhvc3RfdXNlcl9pZCA9IDQ7XG4gICAqL1xuICBob3N0VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgY3VzdG9tID0gNTtcbiAgICovXG4gIGN1c3RvbT86IFN0cnVjdDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBjcmVhdGVkX2F0ID0gNjtcbiAgICovXG4gIGNyZWF0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCB1cGRhdGVkX2F0ID0gNztcbiAgICovXG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyByZXByZXNlbnRzIHRoZSBzZXQgb2YgcGVybWlzc2lvbnMgZ2l2ZW5cbiAqIHRvIHRoZSB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcHVibGlzaF9hdWRpbyA9IDE7XG4gICAqL1xuICBjYW5QdWJsaXNoQXVkaW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgY2FuX3B1Ymxpc2hfdmlkZW8gPSAyO1xuICAgKi9cbiAgY2FuUHVibGlzaFZpZGVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGNhbl9zY3JlZW5zaGFyZSA9IDM7XG4gICAqL1xuICBjYW5TY3JlZW5zaGFyZTogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXREZXZpY2VzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGF2YWlsYWJsZV9kZXZpY2VzID0gMTtcbiAgICovXG4gIGF2YWlsYWJsZURldmljZXM6IHN0cmluZ1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY3VycmVudF9kZXZpY2UgPSAyO1xuICAgKi9cbiAgY3VycmVudERldmljZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3Blcm1pdHRlZCA9IDM7XG4gICAqL1xuICBpc1Blcm1pdHRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW5kcm9pZFN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZSB0aGVybWFsX3N0YXRlID0gMTtcbiAgICovXG4gIHRoZXJtYWxTdGF0ZTogQW5kcm9pZFRoZXJtYWxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19wb3dlcl9zYXZlcl9tb2RlID0gMjtcbiAgICovXG4gIGlzUG93ZXJTYXZlck1vZGU6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcHBsZVN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGUgdGhlcm1hbF9zdGF0ZSA9IDE7XG4gICAqL1xuICB0aGVybWFsU3RhdGU6IEFwcGxlVGhlcm1hbFN0YXRlO1xuICAvKipcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vZm91bmRhdGlvbi9wcm9jZXNzaW5mby8xNjE3MDQ3LWlzbG93cG93ZXJtb2RlZW5hYmxlZFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfbG93X3Bvd2VyX21vZGVfZW5hYmxlZCA9IDI7XG4gICAqL1xuICBpc0xvd1Bvd2VyTW9kZUVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIFBlcmZvcm1hbmNlU3RhdHMgcmVwcmVzZW50cyB0aGUgZW5jb2RpbmcvZGVjb2Rpbmcgc3RhdGlzdGljcyBmb3IgYSB0cmFjay5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZXJmb3JtYW5jZVN0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VTdGF0cyB7XG4gIC8qKlxuICAgKiB0aGUgdHlwZSBvZiB0aGUgdHJhY2sgKGUuZy4sIHZpZGVvLCBhdWRpbywgc2NyZWVuIHNoYXJlKVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMTtcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogdGhlIGNvZGVjIHVzZWQgZm9yIHRoZSB0cmFja1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiB0aGUgYXZlcmFnZSBlbmNvZGUvZGVjb2RlIHRpbWUgaW4gbXNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBhdmdfZnJhbWVfdGltZV9tcyA9IDM7XG4gICAqL1xuICBhdmdGcmFtZVRpbWVNczogbnVtYmVyO1xuICAvKipcbiAgICogdGhlIGF2ZXJhZ2UgZnBzIGZvciB0aGUgdHJhY2tcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBhdmdfZnBzID0gNDtcbiAgICovXG4gIGF2Z0ZwczogbnVtYmVyO1xuICAvKipcbiAgICogdGhlIHRyYWNrIGRpbWVuc2lvbnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiB2aWRlb19kaW1lbnNpb24gPSA1O1xuICAgKi9cbiAgdmlkZW9EaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcbiAgLyoqXG4gICAqIHRoZSB0YXJnZXQgYml0cmF0ZSBmb3IgdGhlIHRyYWNrLCBvbmx5IGZvciBwdWJsaXNoZWQgdHJhY2tzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgdGFyZ2V0X2JpdHJhdGUgPSA2O1xuICAgKi9cbiAgdGFyZ2V0Qml0cmF0ZTogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZVxuICovXG5leHBvcnQgZW51bSBQZWVyVHlwZSB7XG4gIC8qKlxuICAgKiB0b2RvIGZpeCBtZSAobWFyY2VsbylcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBFRVJfVFlQRV9QVUJMSVNIRVJfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgUFVCTElTSEVSX1VOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBQRUVSX1RZUEVfU1VCU0NSSUJFUiA9IDE7XG4gICAqL1xuICBTVUJTQ1JJQkVSID0gMSxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHlcbiAqL1xuZXhwb3J0IGVudW0gQ29ubmVjdGlvblF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENPTk5FQ1RJT05fUVVBTElUWV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX1BPT1IgPSAxO1xuICAgKi9cbiAgUE9PUiA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX0dPT0QgPSAyO1xuICAgKi9cbiAgR09PRCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX0VYQ0VMTEVOVCA9IDM7XG4gICAqL1xuICBFWENFTExFTlQgPSAzLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHlcbiAqL1xuZXhwb3J0IGVudW0gVmlkZW9RdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX0xPV19VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBMT1dfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfTUlEID0gMTtcbiAgICovXG4gIE1JRCA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9ISUdIID0gMjtcbiAgICovXG4gIEhJR0ggPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfT0ZGID0gMztcbiAgICovXG4gIE9GRiA9IDMsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZVxuICovXG5leHBvcnQgZW51bSBUcmFja1R5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfQVVESU8gPSAxO1xuICAgKi9cbiAgQVVESU8gPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfVklERU8gPSAyO1xuICAgKi9cbiAgVklERU8gPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfU0NSRUVOX1NIQVJFID0gMztcbiAgICovXG4gIFNDUkVFTl9TSEFSRSA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkVfQVVESU8gPSA0O1xuICAgKi9cbiAgU0NSRUVOX1NIQVJFX0FVRElPID0gNCxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlXG4gKi9cbmV4cG9ydCBlbnVtIEVycm9yQ29kZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX05PVF9GT1VORCA9IDEwMDtcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfTk9UX0ZPVU5EID0gMTAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS1NfTUlTTUFUQ0ggPSAxMDE7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLU19NSVNNQVRDSCA9IDEwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfT1VUX09GX09SREVSID0gMTAyO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19PVVRfT0ZfT1JERVIgPSAxMDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX1ZJREVPX0xBWUVSX05PVF9GT1VORCA9IDEwMztcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfVklERU9fTEFZRVJfTk9UX0ZPVU5EID0gMTAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfTElWRV9FTkRFRCA9IDEwNDtcbiAgICovXG4gIExJVkVfRU5ERUQgPSAxMDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9OT1RfRk9VTkQgPSAyMDA7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9OT1RfRk9VTkQgPSAyMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NSUdSQVRJTkdfT1VUID0gMjAxO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU5HX09VVCA9IDIwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01JR1JBVElPTl9GQUlMRUQgPSAyMDI7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJT05fRkFJTEVEID0gMjAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUlHUkFUSU5HID0gMjAzO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU5HID0gMjAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfUkVDT05ORUNUX0ZBSUxFRCA9IDIwNDtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX1JFQ09OTkVDVF9GQUlMRUQgPSAyMDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NRURJQV9UUkFOU1BPUlRfRkFJTFVSRSA9IDIwNTtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01FRElBX1RSQU5TUE9SVF9GQUlMVVJFID0gMjA1LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfU0lHTkFMX0xPU1QgPSAyMDY7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9TSUdOQUxfTE9TVCA9IDIwNixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX0NBTExfTk9UX0ZPVU5EID0gMzAwO1xuICAgKi9cbiAgQ0FMTF9OT1RfRk9VTkQgPSAzMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9DQUxMX1BBUlRJQ0lQQU5UX0xJTUlUX1JFQUNIRUQgPSAzMDE7XG4gICAqL1xuICBDQUxMX1BBUlRJQ0lQQU5UX0xJTUlUX1JFQUNIRUQgPSAzMDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9SRVFVRVNUX1ZBTElEQVRJT05fRkFJTEVEID0gNDAwO1xuICAgKi9cbiAgUkVRVUVTVF9WQUxJREFUSU9OX0ZBSUxFRCA9IDQwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1VOQVVUSEVOVElDQVRFRCA9IDQwMTtcbiAgICovXG4gIFVOQVVUSEVOVElDQVRFRCA9IDQwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BFUk1JU1NJT05fREVOSUVEID0gNDAzO1xuICAgKi9cbiAgUEVSTUlTU0lPTl9ERU5JRUQgPSA0MDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9UT09fTUFOWV9SRVFVRVNUUyA9IDQyOTtcbiAgICovXG4gIFRPT19NQU5ZX1JFUVVFU1RTID0gNDI5LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwO1xuICAgKi9cbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfU0ZVX1NIVVRUSU5HX0RPV04gPSA2MDA7XG4gICAqL1xuICBTRlVfU0hVVFRJTkdfRE9XTiA9IDYwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1NGVV9GVUxMID0gNzAwO1xuICAgKi9cbiAgU0ZVX0ZVTEwgPSA3MDAsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGVcbiAqL1xuZXhwb3J0IGVudW0gU2RrVHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1JFQUNUID0gMTtcbiAgICovXG4gIFJFQUNUID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9BTkdVTEFSID0gMjtcbiAgICovXG4gIEFOR1VMQVIgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0FORFJPSUQgPSAzO1xuICAgKi9cbiAgQU5EUk9JRCA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfSU9TID0gNDtcbiAgICovXG4gIElPUyA9IDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfRkxVVFRFUiA9IDU7XG4gICAqL1xuICBGTFVUVEVSID0gNSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9SRUFDVF9OQVRJVkUgPSA2O1xuICAgKi9cbiAgUkVBQ1RfTkFUSVZFID0gNixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9VTklUWSA9IDc7XG4gICAqL1xuICBVTklUWSA9IDcsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfR08gPSA4O1xuICAgKi9cbiAgR08gPSA4LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1BMQUlOX0pBVkFTQ1JJUFQgPSA5O1xuICAgKi9cbiAgUExBSU5fSkFWQVNDUklQVCA9IDksXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVW5wdWJsaXNoUmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNrVW5wdWJsaXNoUmVhc29uIHtcbiAgLyoqXG4gICAqIERlZmF1bHQgdmFsdWUgd2hpY2ggaXMgdXNlZCB3aGVuIHRoZSBzcGVjaWZpYyByZWFzb25cbiAgICogZm9yIG11dGluZyB0aGUgdHJhY2sgaXMgbm90IGtub3duLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHVzZXIgbXV0aW5nIHRoZWlyIHRyYWNrcy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fVVNFUl9NVVRFRCA9IDE7XG4gICAqL1xuICBVU0VSX01VVEVEID0gMSxcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgbXV0aW5nIHRoZSB0cmFjayBiZWNhdXNlIHRoZSBwZXJtaXNzaW9uIHRvXG4gICAqIHB1Ymxpc2ggdGhlIHRyYWNrIGhhcyBiZWVuIHJldm9rZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX1BFUk1JU1NJT05fUkVWT0tFRCA9IDI7XG4gICAqL1xuICBQRVJNSVNTSU9OX1JFVk9LRUQgPSAyLFxuICAvKipcbiAgICogUmVwcmVzZW50cyBtdXRpbmcgdGhlIHRyYWNrIGR1ZSB0byBtb2RlcmF0aW9uIGFjdGlvbnMuXG4gICAqIFRoaXMgaXMgZGlmZmVyZW50IGZyb20gcGVybWlzc2lvbiByZXZva2VkIGJlY2F1c2UgdGhlXG4gICAqIHBhcnRpY2lwYW50IGNhbiB1bm11dGUgdGhlbXNlbHZlcyBoZXJlIHdoZXJlYXMgaW4gY2FzZVxuICAgKiBvZiBcInBlcm1pc3Npb24gcmV2b2tlXCIgaXQgaXMgbm90IHBvc3NpYmxlIHVudGlsIHRoZVxuICAgKiBjYWxsIHBlcm1pc3Npb25zIGFyZSB1cGRhdGVkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9NT0RFUkFUSU9OID0gMztcbiAgICovXG4gIE1PREVSQVRJT04gPSAzLFxufVxuLyoqXG4gKiBHb0F3YXlSZWFzb24gcmVwcmVzZW50cyB0aGUgcmVhc29uIGZvciB0aGUgU0ZVIHRvXG4gKiBkaXNjb25uZWN0IHRoZSBjbGllbnQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIEdvQXdheVJlYXNvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1NIVVRUSU5HX0RPV04gPSAxO1xuICAgKi9cbiAgU0hVVFRJTkdfRE9XTiA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fUkVCQUxBTkNFID0gMjtcbiAgICovXG4gIFJFQkFMQU5DRSA9IDIsXG59XG4vKipcbiAqIENhbGxFbmRlZFJlYXNvbiByZXByZXNlbnRzIHRoZSByZWFzb24gZm9yIHRoZSBjYWxsIHRvIGVuZC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsRW5kZWRSZWFzb25cbiAqL1xuZXhwb3J0IGVudW0gQ2FsbEVuZGVkUmVhc29uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fRU5ERUQgPSAxO1xuICAgKi9cbiAgRU5ERUQgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0xJVkVfRU5ERUQgPSAyO1xuICAgKi9cbiAgTElWRV9FTkRFRCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fS0lDS0VEID0gMztcbiAgICovXG4gIEtJQ0tFRCA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fU0VTU0lPTl9FTkRFRCA9IDQ7XG4gICAqL1xuICBTRVNTSU9OX0VOREVEID0gNCxcbn1cbi8qKlxuICogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgZGVmaW5lcyB0aGUgd3Mgc3RyYXRlZ2llcyBhdmFpbGFibGUgZm9yIGhhbmRsaW5nIHJlY29ubmVjdGlvbnMuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lcbiAqL1xuZXhwb3J0IGVudW0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogU2VudCBhZnRlciByZWFjaGluZyB0aGUgbWF4aW11bSByZWNvbm5lY3Rpb24gYXR0ZW1wdHMsIG9yIGFueSBvdGhlciB1bnJlY292ZXJhYmxlIGVycm9yIGxlYWRpbmcgdG8gcGVybWFuZW50IGRpc2Nvbm5lY3QuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX0RJU0NPTk5FQ1QgPSAxO1xuICAgKi9cbiAgRElTQ09OTkVDVCA9IDEsXG4gIC8qKlxuICAgKiBTREsgc2hvdWxkIG1haW50YWluaW5nIGV4aXN0aW5nIHB1Ymxpc2hlci9zdWJzY3JpYmVyIHBjIGluc3RhbmNlc1xuICAgKiBhbmQgZXN0YWJsaXNoIGEgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9GQVNUID0gMjtcbiAgICovXG4gIEZBU1QgPSAyLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBvYnRhaW4gbmV3IGNyZWRlbnRpYWxzIGZyb20gdGhlIGNvb3JkaW5hdG9yLCBkcm9wcyBleGlzdGluZyBwYyBpbnN0YW5jZXMsIHNldCBhIG5ldyBzZXNzaW9uX2lkIGFuZCBpbml0aWFsaXplc1xuICAgKiBhIGNvbXBsZXRlbHkgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uLCBlbnN1cmluZyBhIGNvbXByZWhlbnNpdmUgcmVzZXQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX1JFSk9JTiA9IDM7XG4gICAqL1xuICBSRUpPSU4gPSAzLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBtaWdyYXRlIHRvIGEgbmV3IFNGVSBpbnN0YW5jZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9NSUdSQVRFID0gNDtcbiAgICovXG4gIE1JR1JBVEUgPSA0LFxufVxuLyoqXG4gKiBBbmRyb2lkVGhlcm1hbFN0YXRlIGlzIHJlcG9ydGVkIGJ5IHRoZSBBbmRyb2lkIEFQSS4gVGhlIGZ1bGwgbGlzdCBvZiB2YWx1ZXMgaXMgZG9jdW1lbnRlZCBoZXJlXG4gKiBodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9yZWZlcmVuY2UvYW5kcm9pZC9vcy9Qb3dlck1hbmFnZXIuaHRtbCNnZXRDdXJyZW50VGhlcm1hbFN0YXR1cygpXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZVxuICovXG5leHBvcnQgZW51bSBBbmRyb2lkVGhlcm1hbFN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9OT05FID0gMTtcbiAgICovXG4gIE5PTkUgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9MSUdIVCA9IDI7XG4gICAqL1xuICBMSUdIVCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX01PREVSQVRFID0gMztcbiAgICovXG4gIE1PREVSQVRFID0gMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfU0VWRVJFID0gNDtcbiAgICovXG4gIFNFVkVSRSA9IDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX0NSSVRJQ0FMID0gNTtcbiAgICovXG4gIENSSVRJQ0FMID0gNSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfRU1FUkdFTkNZID0gNjtcbiAgICovXG4gIEVNRVJHRU5DWSA9IDYsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX1NIVVRET1dOID0gNztcbiAgICovXG4gIFNIVVRET1dOID0gNyxcbn1cbi8qKlxuICogQXBwbGVUaGVybWFsU3RhdGUgaXMgdGhlIHRoZXJtYWwgc3RhdGUgYXMgcmVwb3J0ZWQgYnkgQXBwbGUgZGV2aWNlcyB3aGVuIGF2YWlsYWJsZSBvciBhcHBsaWNhYmxlIHRvIHRoZSBwbGF0Zm9ybS5cbiAqIFRoZSBmdWxsIGxpc3Qgb2Ygc3RhdGVzIChlbnVtKSBpcyBhdmFpbGFibGUgaGVyZTogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vZm91bmRhdGlvbi9wcm9jZXNzaW5mby90aGVybWFsc3RhdGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVRoZXJtYWxTdGF0ZVxuICovXG5leHBvcnQgZW51bSBBcHBsZVRoZXJtYWxTdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9OT01JTkFMID0gMTtcbiAgICovXG4gIE5PTUlOQUwgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfRkFJUiA9IDI7XG4gICAqL1xuICBGQUlSID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBUFBMRV9USEVSTUFMX1NUQVRFX1NFUklPVVMgPSAzO1xuICAgKi9cbiAgU0VSSU9VUyA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9DUklUSUNBTCA9IDQ7XG4gICAqL1xuICBDUklUSUNBTCA9IDQsXG59XG4vKipcbiAqIENsaWVudENhcGFiaWxpdHkgZGVmaW5lcyBhIGZlYXR1cmUgdGhhdCBjbGllbnQgc3VwcG9ydHNcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnRDYXBhYmlsaXR5XG4gKi9cbmV4cG9ydCBlbnVtIENsaWVudENhcGFiaWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENMSUVOVF9DQVBBQklMSVRZX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEVuYWJsZXMgU0ZVIHBhdXNpbmcgaW5ib3VuZCB2aWRlb1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0xJRU5UX0NBUEFCSUxJVFlfU1VCU0NSSUJFUl9WSURFT19QQVVTRSA9IDE7XG4gICAqL1xuICBTVUJTQ1JJQkVSX1ZJREVPX1BBVVNFID0gMSxcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxTdGF0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50LFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzdGFydGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9jb3VudCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRDb3VudCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQaW4sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsU3RhdGUgPSBuZXcgQ2FsbFN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50Q291bnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50Q291bnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndG90YWwnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnYW5vbnltb3VzJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudFxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRDb3VudCA9IG5ldyBQYXJ0aWNpcGFudENvdW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBpbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGluPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW4nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpblxuICovXG5leHBvcnQgY29uc3QgUGluID0gbmV3IFBpbiRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVkX3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdqb2luZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX2xvb2t1cF9wcmVmaXgnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eScsXG4gICAgICAgICAgQ29ubmVjdGlvblF1YWxpdHksXG4gICAgICAgICAgJ0NPTk5FQ1RJT05fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDcsIG5hbWU6ICdpc19zcGVha2luZycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdpc19kb21pbmFudF9zcGVha2VyJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA5LCBuYW1lOiAnYXVkaW9fbGV2ZWwnLCBraW5kOiAnc2NhbGFyJywgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyB9LFxuICAgICAgeyBubzogMTAsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAxMSwgbmFtZTogJ2ltYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAxMiwgbmFtZTogJ2N1c3RvbScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU3RydWN0IH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMyxcbiAgICAgICAgbmFtZTogJ3JvbGVzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50ID0gbmV3IFBhcnRpY2lwYW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0cmVhbVF1YWxpdHkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0cmVhbVF1YWxpdHk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlN0cmVhbVF1YWxpdHknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndmlkZW9fcXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHknLFxuICAgICAgICAgIFZpZGVvUXVhbGl0eSxcbiAgICAgICAgICAnVklERU9fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1RdWFsaXR5ID0gbmV3IFN0cmVhbVF1YWxpdHkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9EaW1lbnNpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvRGltZW5zaW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd3aWR0aCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdoZWlnaHQnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvblxuICovXG5leHBvcnQgY29uc3QgVmlkZW9EaW1lbnNpb24gPSBuZXcgVmlkZW9EaW1lbnNpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9MYXllciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9MYXllcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdyaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd2aWRlb19kaW1lbnNpb24nLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdiaXRyYXRlJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ2ZwcycsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdxdWFsaXR5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eScsXG4gICAgICAgICAgVmlkZW9RdWFsaXR5LFxuICAgICAgICAgICdWSURFT19RVUFMSVRZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgY29uc3QgVmlkZW9MYXllciA9IG5ldyBWaWRlb0xheWVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN1YnNjcmliZU9wdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3Vic2NyaWJlT3B0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdWJzY3JpYmVPcHRpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdjb2RlY3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gQ29kZWMsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3Vic2NyaWJlT3B0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBTdWJzY3JpYmVPcHRpb24gPSBuZXcgU3Vic2NyaWJlT3B0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFB1Ymxpc2hPcHRpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFB1Ymxpc2hPcHRpb24+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdiaXRyYXRlJywga2luZDogJ3NjYWxhcicsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdmcHMnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ21heF9zcGF0aWFsX2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdtYXhfdGVtcG9yYWxfbGF5ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ3ZpZGVvX2RpbWVuc2lvbicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9EaW1lbnNpb24sXG4gICAgICB9LFxuICAgICAgeyBubzogOCwgbmFtZTogJ2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDksXG4gICAgICAgIG5hbWU6ICd1c2Vfc2luZ2xlX2xheWVyJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBQdWJsaXNoT3B0aW9uID0gbmV3IFB1Ymxpc2hPcHRpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29kZWMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvZGVjPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDE2LFxuICAgICAgICBuYW1lOiAncGF5bG9hZF90eXBlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAxMCwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE0LFxuICAgICAgICBuYW1lOiAnY2xvY2tfcmF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTUsXG4gICAgICAgIG5hbWU6ICdlbmNvZGluZ19wYXJhbWV0ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDEyLCBuYW1lOiAnZm10cCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvZGVjID0gbmV3IENvZGVjJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVRyaWNrbGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVRyaWNrbGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2ljZV9jYW5kaWRhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVRyaWNrbGUgPSBuZXcgSUNFVHJpY2tsZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja0luZm8kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrSW5mbz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3RyYWNrX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdsYXllcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9MYXllcixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA2LCBuYW1lOiAnbWlkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnZHR4Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogOCwgbmFtZTogJ3N0ZXJlbycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDksIG5hbWU6ICdyZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiAxMCwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMTEsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEyLFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25faWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm9cbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrSW5mbyA9IG5ldyBUcmFja0luZm8kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRXJyb3IkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEVycm9yPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvcicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjb2RlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yQ29kZScsXG4gICAgICAgICAgRXJyb3JDb2RlLFxuICAgICAgICAgICdFUlJPUl9DT0RFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ21lc3NhZ2UnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzaG91bGRfcmV0cnknLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvclxuICovXG5leHBvcnQgY29uc3QgRXJyb3IgPSBuZXcgRXJyb3IkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2xpZW50RGV0YWlscyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2xpZW50RGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2xpZW50RGV0YWlscycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZGsnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFNkayB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ29zJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBPUyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2Jyb3dzZXInLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEJyb3dzZXIgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdkZXZpY2UnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IERldmljZSB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2xpZW50RGV0YWlsc1xuICovXG5leHBvcnQgY29uc3QgQ2xpZW50RGV0YWlscyA9IG5ldyBDbGllbnREZXRhaWxzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNkayRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2RrPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGsnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlJywgU2RrVHlwZSwgJ1NES19UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtYWpvcicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ21pbm9yJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAncGF0Y2gnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1xuICovXG5leHBvcnQgY29uc3QgU2RrID0gbmV3IFNkayRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBPUyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8T1M+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLk9TJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd2ZXJzaW9uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnYXJjaGl0ZWN0dXJlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLk9TXG4gKi9cbmV4cG9ydCBjb25zdCBPUyA9IG5ldyBPUyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBCcm93c2VyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxCcm93c2VyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd2ZXJzaW9uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyXG4gKi9cbmV4cG9ydCBjb25zdCBCcm93c2VyID0gbmV3IEJyb3dzZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUlRNUEluZ3Jlc3MkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFJUTVBJbmdyZXNzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5SVE1QSW5ncmVzcycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd3aWR0aCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdoZWlnaHQnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnZnJhbWVfcmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiAxIC8qU2NhbGFyVHlwZS5ET1VCTEUqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ3NvZnR3YXJlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAndmVyc2lvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ2VuY29kZXInLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICdyZW1vdGVfYWRkcicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5SVE1QSW5ncmVzc1xuICovXG5leHBvcnQgY29uc3QgUlRNUEluZ3Jlc3MgPSBuZXcgUlRNUEluZ3Jlc3MkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRGV2aWNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxEZXZpY2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndmVyc2lvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRGV2aWNlXG4gKi9cbmV4cG9ydCBjb25zdCBEZXZpY2UgPSBuZXcgRGV2aWNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGwkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGw+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGwnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndHlwZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnY3JlYXRlZF9ieV91c2VyX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdob3N0X3VzZXJfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ2N1c3RvbScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU3RydWN0IH0sXG4gICAgICB7IG5vOiA2LCBuYW1lOiAnY3JlYXRlZF9hdCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGltZXN0YW1wIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAndXBkYXRlZF9hdCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGltZXN0YW1wIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsID0gbmV3IENhbGwkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbEdyYW50cyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEdyYW50cz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEdyYW50cycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjYW5fcHVibGlzaF9hdWRpbycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2Nhbl9wdWJsaXNoX3ZpZGVvJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnY2FuX3NjcmVlbnNoYXJlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsR3JhbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsR3JhbnRzID0gbmV3IENhbGxHcmFudHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSW5wdXREZXZpY2VzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJbnB1dERldmljZXM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLklucHV0RGV2aWNlcycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdhdmFpbGFibGVfZGV2aWNlcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdjdXJyZW50X2RldmljZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnaXNfcGVybWl0dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzXG4gKi9cbmV4cG9ydCBjb25zdCBJbnB1dERldmljZXMgPSBuZXcgSW5wdXREZXZpY2VzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEFuZHJvaWRTdGF0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QW5kcm9pZFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BbmRyb2lkU3RhdGUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndGhlcm1hbF9zdGF0ZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BbmRyb2lkVGhlcm1hbFN0YXRlJyxcbiAgICAgICAgICBBbmRyb2lkVGhlcm1hbFN0YXRlLFxuICAgICAgICAgICdBTkRST0lEX1RIRVJNQUxfU1RBVEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnaXNfcG93ZXJfc2F2ZXJfbW9kZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBBbmRyb2lkU3RhdGUgPSBuZXcgQW5kcm9pZFN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEFwcGxlU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEFwcGxlU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndGhlcm1hbF9zdGF0ZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVRoZXJtYWxTdGF0ZScsXG4gICAgICAgICAgQXBwbGVUaGVybWFsU3RhdGUsXG4gICAgICAgICAgJ0FQUExFX1RIRVJNQUxfU1RBVEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnaXNfbG93X3Bvd2VyX21vZGVfZW5hYmxlZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVTdGF0ZVxuICovXG5leHBvcnQgY29uc3QgQXBwbGVTdGF0ZSA9IG5ldyBBcHBsZVN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBlcmZvcm1hbmNlU3RhdHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBlcmZvcm1hbmNlU3RhdHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlcmZvcm1hbmNlU3RhdHMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhdmdfZnJhbWVfdGltZV9tcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdhdmdfZnBzJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICd2aWRlb19kaW1lbnNpb24nLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICd0YXJnZXRfYml0cmF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlcmZvcm1hbmNlU3RhdHNcbiAqL1xuZXhwb3J0IGNvbnN0IFBlcmZvcm1hbmNlU3RhdHMgPSBuZXcgUGVyZm9ybWFuY2VTdGF0cyRUeXBlKCk7XG4iLCIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuMTAuMCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUuc2lnbmFsXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHtcbiAgQW5kcm9pZFN0YXRlLFxuICBBcHBsZVN0YXRlLFxuICBFcnJvcixcbiAgSUNFVHJpY2tsZSxcbiAgSW5wdXREZXZpY2VzLFxuICBQZWVyVHlwZSxcbiAgUGVyZm9ybWFuY2VTdGF0cyxcbiAgUlRNUEluZ3Jlc3MsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0RpbWVuc2lvbixcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU2VydmljZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxO1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuUmVjb25uZWN0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb25uZWN0aW9uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZmxvYXQgdGltZV9zZWNvbmRzID0gMTtcbiAgICovXG4gIHRpbWVTZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHN0cmF0ZWd5ID0gMjtcbiAgICovXG4gIHN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVGVsZW1ldHJ5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVsZW1ldHJ5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogZGF0YVxuICAgKi9cbiAgZGF0YTpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY29ubmVjdGlvblRpbWVTZWNvbmRzJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZmxvYXQgY29ubmVjdGlvbl90aW1lX3NlY29uZHMgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgY29ubmVjdGlvblRpbWVTZWNvbmRzOiBudW1iZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3JlY29ubmVjdGlvbic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlJlY29ubmVjdGlvbiByZWNvbm5lY3Rpb24gPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgcmVjb25uZWN0aW9uOiBSZWNvbm5lY3Rpb247XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRTdGF0c1JlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHN1YnNjcmliZXJfc3RhdHMgPSAyO1xuICAgKi9cbiAgc3Vic2NyaWJlclN0YXRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwdWJsaXNoZXJfc3RhdHMgPSAzO1xuICAgKi9cbiAgcHVibGlzaGVyU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHdlYnJ0Y192ZXJzaW9uID0gNDtcbiAgICovXG4gIHdlYnJ0Y1ZlcnNpb246IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkayA9IDU7XG4gICAqL1xuICBzZGs6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNka192ZXJzaW9uID0gNjtcbiAgICovXG4gIHNka1ZlcnNpb246IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzIGF1ZGlvX2RldmljZXMgPSA3O1xuICAgKi9cbiAgYXVkaW9EZXZpY2VzPzogSW5wdXREZXZpY2VzO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JbnB1dERldmljZXMgdmlkZW9fZGV2aWNlcyA9IDg7XG4gICAqL1xuICB2aWRlb0RldmljZXM/OiBJbnB1dERldmljZXM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IGRldmljZV9zdGF0ZVxuICAgKi9cbiAgZGV2aWNlU3RhdGU6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2FuZHJvaWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BbmRyb2lkU3RhdGUgYW5kcm9pZCA9IDk7XG4gICAgICAgICAqL1xuICAgICAgICBhbmRyb2lkOiBBbmRyb2lkU3RhdGU7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2FwcGxlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVTdGF0ZSBhcHBsZSA9IDEwO1xuICAgICAgICAgKi9cbiAgICAgICAgYXBwbGU6IEFwcGxlU3RhdGU7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVGVsZW1ldHJ5IHRlbGVtZXRyeSA9IDExO1xuICAgKi9cbiAgdGVsZW1ldHJ5PzogVGVsZW1ldHJ5O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5SVE1QSW5ncmVzcyBydG1wID0gMTI7XG4gICAqL1xuICBydG1wPzogUlRNUEluZ3Jlc3M7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzdWJzY3JpYmVyX3J0Y19zdGF0cyA9IDEzIFtkZXByZWNhdGVkID0gdHJ1ZV07XG4gICAqL1xuICBzdWJzY3JpYmVyUnRjU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHB1Ymxpc2hlcl9ydGNfc3RhdHMgPSAxNCBbZGVwcmVjYXRlZCA9IHRydWVdO1xuICAgKi9cbiAgcHVibGlzaGVyUnRjU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJ0Y19zdGF0cyA9IDE1O1xuICAgKi9cbiAgcnRjU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEVuY29kZSBzdGF0cyBmb3IgdGhlIHB1Ymxpc2hlclxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlcmZvcm1hbmNlU3RhdHMgZW5jb2RlX3N0YXRzID0gMTY7XG4gICAqL1xuICBlbmNvZGVTdGF0czogUGVyZm9ybWFuY2VTdGF0c1tdO1xuICAvKipcbiAgICogRGVjb2RlIHN0YXRzIGZvciB0aGUgc3Vic2NyaWJlclxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlcmZvcm1hbmNlU3RhdHMgZGVjb2RlX3N0YXRzID0gMTc7XG4gICAqL1xuICBkZWNvZGVTdGF0czogUGVyZm9ybWFuY2VTdGF0c1tdO1xuICAvKipcbiAgICogdXNlcl9zZXNzaW9uIGlkIGNhbiBjaGFuZ2UgZHVyaW5nIHJlY29ubmVjdHMsIHRoaXMgaGVscHMgdXMgdG9cbiAgICogaWRlbnRpZnkgdGhlIHVzZXIgYWNyb3NzIHJlY29ubmVjdHMgYW5kIHNob3VsZCByZW1haW4gY29uc2lzdGVudCB1bnRpbCB0aGUgdXNlciBleHBsaWNpdGx5XG4gICAqIGRpc2Nvbm5lY3RzLCBpcyBraWNrZWQgb3IgdGhlIGNhbGwgaXMgZW5kZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVuaWZpZWRfc2Vzc2lvbl9pZCA9IDE4O1xuICAgKi9cbiAgdW5pZmllZFNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxO1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0UmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAyO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0UmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlIG11dGVfc3RhdGVzID0gMztcbiAgICovXG4gIG11dGVTdGF0ZXM6IFRyYWNrTXV0ZVN0YXRlW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tNdXRlU3RhdGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDE7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDI7XG4gICAqL1xuICBtdXRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuQXVkaW9NdXRlQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTXV0ZUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIG11dGVkID0gMTtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5WaWRlb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9NdXRlQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAyO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHRyYWNrcyA9IDM7XG4gICAqL1xuICB0cmFja3M6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMztcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiBkaW1lbnNpb24gPSA0O1xuICAgKi9cbiAgZGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEFuc3dlclJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMjtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEFuc3dlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldFB1Ymxpc2hlclJlcXVlc3Qge1xuICAvKipcbiAgICogc2RwIG9mZmVyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyB0cmFja3MgPSAzO1xuICAgKi9cbiAgdHJhY2tzOiBUcmFja0luZm9bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXRQdWJsaXNoZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBzZHAgYW5zd2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaWNlX3Jlc3RhcnQgPSAzO1xuICAgKi9cbiAgaWNlUmVzdGFydDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0ID1cbiAgbmV3IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSA9XG4gIG5ldyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0ID1cbiAgbmV3IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSA9XG4gIG5ldyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBSZWNvbm5lY3Rpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFJlY29ubmVjdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuUmVjb25uZWN0aW9uJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RpbWVfc2Vjb25kcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdzdHJhdGVneScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneScsXG4gICAgICAgICAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgICAgICAgJ1dFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5SZWNvbm5lY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFJlY29ubmVjdGlvbiA9IG5ldyBSZWNvbm5lY3Rpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVGVsZW1ldHJ5JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUZWxlbWV0cnk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRlbGVtZXRyeScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3RpbWVfc2Vjb25kcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2RhdGEnLFxuICAgICAgICBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3Rpb24nLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZGF0YScsXG4gICAgICAgIFQ6ICgpID0+IFJlY29ubmVjdGlvbixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UZWxlbWV0cnlcbiAqL1xuZXhwb3J0IGNvbnN0IFRlbGVtZXRyeSA9IG5ldyBUZWxlbWV0cnkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZFN0YXRzUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaWJlcl9zdGF0cycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX3N0YXRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICd3ZWJydGNfdmVyc2lvbicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnc2RrJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAnc2RrX3ZlcnNpb24nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogNywgbmFtZTogJ2F1ZGlvX2RldmljZXMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IElucHV0RGV2aWNlcyB9LFxuICAgICAgeyBubzogOCwgbmFtZTogJ3ZpZGVvX2RldmljZXMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IElucHV0RGV2aWNlcyB9LFxuICAgICAge1xuICAgICAgICBubzogOSxcbiAgICAgICAgbmFtZTogJ2FuZHJvaWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZGV2aWNlU3RhdGUnLFxuICAgICAgICBUOiAoKSA9PiBBbmRyb2lkU3RhdGUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdhcHBsZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdkZXZpY2VTdGF0ZScsXG4gICAgICAgIFQ6ICgpID0+IEFwcGxlU3RhdGUsXG4gICAgICB9LFxuICAgICAgeyBubzogMTEsIG5hbWU6ICd0ZWxlbWV0cnknLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRlbGVtZXRyeSB9LFxuICAgICAgeyBubzogMTIsIG5hbWU6ICdydG1wJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBSVE1QSW5ncmVzcyB9LFxuICAgICAge1xuICAgICAgICBubzogMTMsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX3J0Y19zdGF0cycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNCxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlcl9ydGNfc3RhdHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogMTUsIG5hbWU6ICdydGNfc3RhdHMnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE2LFxuICAgICAgICBuYW1lOiAnZW5jb2RlX3N0YXRzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFBlcmZvcm1hbmNlU3RhdHMsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTcsXG4gICAgICAgIG5hbWU6ICdkZWNvZGVfc3RhdHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGVyZm9ybWFuY2VTdGF0cyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxOCxcbiAgICAgICAgbmFtZTogJ3VuaWZpZWRfc2Vzc2lvbl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXF1ZXN0ID0gbmV3IFNlbmRTdGF0c1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXNwb25zZSA9IG5ldyBTZW5kU3RhdHNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFUmVzdGFydFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlcXVlc3QgPSBuZXcgSUNFUmVzdGFydFJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydFJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlc3BvbnNlID0gbmV3IElDRVJlc3RhcnRSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdtdXRlX3N0YXRlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja011dGVTdGF0ZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QgPSBuZXcgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlID0gbmV3IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja011dGVTdGF0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tNdXRlU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZVxuICovXG5leHBvcnQgY29uc3QgVHJhY2tNdXRlU3RhdGUgPSBuZXcgVHJhY2tNdXRlU3RhdGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXVkaW9NdXRlQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXVkaW9NdXRlQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuQXVkaW9NdXRlQ2hhbmdlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLkF1ZGlvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTXV0ZUNoYW5nZWQgPSBuZXcgQXVkaW9NdXRlQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb011dGVDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb011dGVDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5WaWRlb011dGVDaGFuZ2VkJywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVmlkZW9NdXRlQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9NdXRlQ2hhbmdlZCA9IG5ldyBWaWRlb011dGVDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0ID0gbmV3IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSA9XG4gIG5ldyBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUcmFja1N1YnNjcmlwdGlvbkRldGFpbHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZGltZW5zaW9uJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBWaWRlb0RpbWVuc2lvbiB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgPSBuZXcgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZW5kQW5zd2VyUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3QnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kQW5zd2VyUmVxdWVzdCA9IG5ldyBTZW5kQW5zd2VyUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kQW5zd2VyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRBbnN3ZXJSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kQW5zd2VyUmVzcG9uc2UgPSBuZXcgU2VuZEFuc3dlclJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVRyaWNrbGVSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFVHJpY2tsZVJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VUcmlja2xlUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VUcmlja2xlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVRyaWNrbGVSZXNwb25zZSA9IG5ldyBJQ0VUcmlja2xlUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2V0UHVibGlzaGVyUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2V0UHVibGlzaGVyUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZXRQdWJsaXNoZXJSZXF1ZXN0ID0gbmV3IFNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNldFB1Ymxpc2hlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2V0UHVibGlzaGVyUmVzcG9uc2UgPSBuZXcgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSgpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIFNlcnZpY2VUeXBlIGZvciBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY29uc3QgU2lnbmFsU2VydmVyID0gbmV3IFNlcnZpY2VUeXBlKFxuICAnc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyJyxcbiAgW1xuICAgIHtcbiAgICAgIG5hbWU6ICdTZXRQdWJsaXNoZXInLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgICAgTzogU2V0UHVibGlzaGVyUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZEFuc3dlcicsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgICAgTzogU2VuZEFuc3dlclJlc3BvbnNlLFxuICAgIH0sXG4gICAgeyBuYW1lOiAnSWNlVHJpY2tsZScsIG9wdGlvbnM6IHt9LCBJOiBJQ0VUcmlja2xlLCBPOiBJQ0VUcmlja2xlUmVzcG9uc2UgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnVXBkYXRlU3Vic2NyaXB0aW9ucycsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgTzogVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1VwZGF0ZU11dGVTdGF0ZXMnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICAgIE86IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJY2VSZXN0YXJ0JyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgICBPOiBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZFN0YXRzJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICAgIE86IFNlbmRTdGF0c1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1N0YXJ0Tm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIE86IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdG9wTm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgTzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgfSxcbiAgXSxcbik7XG4iLCIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuMTAuMCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvZXZlbnQvZXZlbnRzLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LmV2ZW50XCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQge1xuICBDYWxsRW5kZWRSZWFzb24sXG4gIENhbGxHcmFudHMsXG4gIENhbGxTdGF0ZSxcbiAgQ2xpZW50Q2FwYWJpbGl0eSxcbiAgQ2xpZW50RGV0YWlscyxcbiAgQ29kZWMsXG4gIENvbm5lY3Rpb25RdWFsaXR5LFxuICBFcnJvciBhcyBFcnJvciQsXG4gIEdvQXdheVJlYXNvbixcbiAgSUNFVHJpY2tsZSBhcyBJQ0VUcmlja2xlJCxcbiAgUGFydGljaXBhbnQsXG4gIFBhcnRpY2lwYW50Q291bnQsXG4gIFBlZXJUeXBlLFxuICBQaW4sXG4gIFB1Ymxpc2hPcHRpb24sXG4gIFN1YnNjcmliZU9wdGlvbixcbiAgVHJhY2tJbmZvLFxuICBUcmFja1R5cGUsXG4gIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxuICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbn0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgfSBmcm9tICcuLi9zaWduYWxfcnBjL3NpZ25hbCc7XG5cbi8qKlxuICogU0ZVRXZlbnQgaXMgYSBtZXNzYWdlIHRoYXQgaXMgc2VudCBmcm9tIHRoZSBTRlUgdG8gdGhlIGNsaWVudC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Z1RXZlbnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBldmVudF9wYXlsb2FkXG4gICAqL1xuICBldmVudFBheWxvYWQ6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3N1YnNjcmliZXJPZmZlcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmVyT2ZmZXIgc2VuZHMgdGhlIFNEUCBvZmZlciBmb3IgZXN0YWJsaXNoaW5nIHRoZVxuICAgICAgICAgKiBzdWJzY3JpYmVyIFBlZXJDb25uZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU3Vic2NyaWJlck9mZmVyIHN1YnNjcmliZXJfb2ZmZXIgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlck9mZmVyOiBTdWJzY3JpYmVyT2ZmZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3B1Ymxpc2hlckFuc3dlcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQdWJsaXNoZXJBbnN3ZXIgc2VuZHMgdGhlIFNEUCBhbnN3ZXIgdG8gdGhlIG9mZmVyIHNlbnQgYnlcbiAgICAgICAgICogdGhlIGNsaWVudCBmb3IgZXN0YWJsaXNoaW5nIHRoZSBQdWJsaXNoZXIgUGVlckNvbm5lY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXIgcHVibGlzaGVyX2Fuc3dlciA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaXNoZXJBbnN3ZXI6IFB1Ymxpc2hlckFuc3dlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCBpcyBzZW50IHRvIGluZm9ybSB0aGUgY29ubmVjdGlvblxuICAgICAgICAgKiBxdWFsaXR5IG9mIHRoZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuIEl0IGRvZXMgbm90IGhhdmVcbiAgICAgICAgICogdG8gY29udGFpbiB0aGUgZnVsbCBsaXN0IG9mIGNhbGwgcGFydGljaXBhbnRzIGluIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIGNvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkID0gMztcbiAgICAgICAgICovXG4gICAgICAgIGNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDogQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdhdWRpb0xldmVsQ2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdWRpb0xldmVsQ2hhbmdlZCBpcyBzZW50IGZvciBjaGFuZ2UgaW4gYXVkaW8gbGV2ZWxzIG9mXG4gICAgICAgICAqIHRoZSBwYXJ0aWNpcGFudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZCBhdWRpb19sZXZlbF9jaGFuZ2VkID0gNDtcbiAgICAgICAgICovXG4gICAgICAgIGF1ZGlvTGV2ZWxDaGFuZ2VkOiBBdWRpb0xldmVsQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaWNlVHJpY2tsZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJQ0VUcmlja2xlIGNvbnRhaW5zIHRoZSBJQ0UgY2FuZGlkYXRlIHJlcXVpcmVkIHRvIGVzdGFibGlzaFxuICAgICAgICAgKiB0aGUgSUNFIHRyYW5zcG9ydDogcGFydCBvZiBlc3RhYmxpc2hpbmcgdGhlIFBlZXJDb25uZWN0aW9uXG4gICAgICAgICAqIGFuZCBhbHNvIGZvciBJQ0UgcmVzdGFydHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSBpY2VfdHJpY2tsZSA9IDU7XG4gICAgICAgICAqL1xuICAgICAgICBpY2VUcmlja2xlOiBJQ0VUcmlja2xlJDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2hhbmdlUHVibGlzaFF1YWxpdHknO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlUHVibGlzaFF1YWxpdHkgYWR2aXNlcyB0aGUgcHVibGlzaGVyIHRvIHN3aXRjaCBvbi9vZmZcbiAgICAgICAgICogdmFyaW91cyBxdWFsaXRpZXMgb2YgdGhlaXIgdmlkZW8gc3RyZWFtIGJhc2VkIG9uIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICAgICAqIFRoaXMgaXMgZG9uZSB0byBzYXZlIHRoZSBiYW5kd2lkdGggYW5kIHRoZSBDUFUgb2YgdGhlIHB1Ymxpc2hlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5IGNoYW5nZV9wdWJsaXNoX3F1YWxpdHkgPSA2O1xuICAgICAgICAgKi9cbiAgICAgICAgY2hhbmdlUHVibGlzaFF1YWxpdHk6IENoYW5nZVB1Ymxpc2hRdWFsaXR5O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudEpvaW5lZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudEpvaW5lZCBub3RpZmllcyB0aGUgY2xpZW50IHRoYXQgYSBuZXcgcGFydGljaXBhbnRcbiAgICAgICAgICogaGFzIGpvaW5lZCB0aGUgY2FsbC4gVGhpcyBpcyBub3Qgc2VudCBmb3IgYW5vbnltb3VzIHVzZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWQgcGFydGljaXBhbnRfam9pbmVkID0gMTA7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudEpvaW5lZDogUGFydGljaXBhbnRKb2luZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3BhcnRpY2lwYW50TGVmdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudExlZnQgbm90aWZpZXMgdGhlIGNsaWVudCB0aGF0IGEgY2FsbCBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBoYXMgbGVmdCB0aGUgY2FsbC4gVGhpcyBpcyBub3Qgc2VudCBmb3IgYW5vbnltb3VzIHVzZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRMZWZ0IHBhcnRpY2lwYW50X2xlZnQgPSAxMTtcbiAgICAgICAgICovXG4gICAgICAgIHBhcnRpY2lwYW50TGVmdDogUGFydGljaXBhbnRMZWZ0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdkb21pbmFudFNwZWFrZXJDaGFuZ2VkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvbWluYW50U3BlYWtlckNoYW5nZWQgbm90aWZpZXMgdGhlIGNsaWVudCBhYm91dCB0aGUgY3VycmVudFxuICAgICAgICAgKiBkb21pbmFudCBzcGVha2VyLiBUaGlzIGlzIHJlcXVpcmVkIGZvciBjZXJ0YWluIHVzZSBjYXNlcyBsaWtlXG4gICAgICAgICAqIHRoZSBzcG90bGlnaHQgdmlldy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQgZG9taW5hbnRfc3BlYWtlcl9jaGFuZ2VkID0gMTI7XG4gICAgICAgICAqL1xuICAgICAgICBkb21pbmFudFNwZWFrZXJDaGFuZ2VkOiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVzcG9uc2UnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSm9pblJlc3BvbnNlIGFja25vd2xlZGdlcyBhIHBhcnRpY2lwYW50IHN1Y2Nlc3NmdWxseSBqb2luaW5nXG4gICAgICAgICAqIHRoZSBjYWxsLiBUaGlzIGlzIHNlbnQgaW4gcmVzcG9uc2UgdG8gdGhlIEpvaW5SZXF1ZXN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlIGpvaW5fcmVzcG9uc2UgPSAxMztcbiAgICAgICAgICovXG4gICAgICAgIGpvaW5SZXNwb25zZTogSm9pblJlc3BvbnNlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1Jlc3BvbnNlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlYWx0aENoZWNrUmVzcG9uc2UgaXMgc2VudCBpbiByZXNwb25zZSB0byB0aGUgSGVhbHRoQ2hlY2tSZXF1ZXN0LlxuICAgICAgICAgKiBJdCBjb250YWlucyB0aGUgcGFydGljaXBhbnQgY291bnQgaW4gdGhlIGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlIGhlYWx0aF9jaGVja19yZXNwb25zZSA9IDE0O1xuICAgICAgICAgKi9cbiAgICAgICAgaGVhbHRoQ2hlY2tSZXNwb25zZTogSGVhbHRoQ2hlY2tSZXNwb25zZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAndHJhY2tQdWJsaXNoZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tQdWJsaXNoZWQgaXMgc2VudCB3aGVuIGEgbmV3IHRyYWNrIChsaWtlIGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmUpXG4gICAgICAgICAqIGlzIHB1Ymxpc2hlZCBieSBhIHBhcnRpY2lwYW50IGluIHRoZSBjYWxsLiBJdCBpcyBhbHNvIHNlbnQgb24gbXV0ZS91bm11dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZCB0cmFja19wdWJsaXNoZWQgPSAxNjtcbiAgICAgICAgICovXG4gICAgICAgIHRyYWNrUHVibGlzaGVkOiBUcmFja1B1Ymxpc2hlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAndHJhY2tVbnB1Ymxpc2hlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja1VucHVibGlzaGVkIGlzIHNlbnQgd2hlbiBhIHRyYWNrIChsaWtlIGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmUpXG4gICAgICAgICAqIGlzIG5vIGxvbmdlciBwdWJsaXNoZWQuIEl0IGlzIHNlbnQgb24gbXV0aW5nIGEgdHJhY2sgb3Igd2hlbiB0aGUgcGFydGljaXBhbnRcbiAgICAgICAgICogaXMgbGVhdmluZyB0aGUgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWQgdHJhY2tfdW5wdWJsaXNoZWQgPSAxNztcbiAgICAgICAgICovXG4gICAgICAgIHRyYWNrVW5wdWJsaXNoZWQ6IFRyYWNrVW5wdWJsaXNoZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Vycm9yJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgYW55IGVycm9yIHJlbGF0ZWQgdG8gdGhlIHBhcnRpY2lwYW50LiBUaGVcbiAgICAgICAgICogZXJyb3IgY29kZSBhbmQgdGhlIG1lc3NhZ2UgZXhwbGFpbiB3aGF0IHdlbnQgd3JvbmcuIFdoZXRoZXIgdGhlIHBhcnRpY2lwYW50XG4gICAgICAgICAqIGNhbiByZXRyeSBpcyBhbHNvIGluZGljYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yIGVycm9yID0gMTg7XG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogRXJyb3I7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NhbGxHcmFudHNVcGRhdGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxHcmFudHNVcGRhdGVkIHRlbGxzIHdoYXQgdHJhY2tzIGEgcGFydGljaXBhbnQgaXMgYWxsb3dlZCB0byBwdWJsaXNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWQgY2FsbF9ncmFudHNfdXBkYXRlZCA9IDE5O1xuICAgICAgICAgKi9cbiAgICAgICAgY2FsbEdyYW50c1VwZGF0ZWQ6IENhbGxHcmFudHNVcGRhdGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdnb0F3YXknO1xuICAgICAgICAvKipcbiAgICAgICAgICogR29Bd2F5IHRlbGxzIHRoZSBjbGllbnQgdG8gbWlncmF0ZSBhd2F5IGZyb20gdGhlIFNGVSBpdCBpcyBjb25uZWN0ZWQgdG8uXG4gICAgICAgICAqIFRoZSByZWFzb24gZmllbGQgaW5kaWNhdGVzIHdoeSB0aGlzIG1lc3NhZ2Ugd2FzIHNlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXkgZ29fYXdheSA9IDIwO1xuICAgICAgICAgKi9cbiAgICAgICAgZ29Bd2F5OiBHb0F3YXk7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2ljZVJlc3RhcnQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSUNFUmVzdGFydCB0ZWxscyB0aGUgY2xpZW50IHRvIHBlcmZvcm0gSUNFIHJlc3RhcnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VSZXN0YXJ0IGljZV9yZXN0YXJ0ID0gMjE7XG4gICAgICAgICAqL1xuICAgICAgICBpY2VSZXN0YXJ0OiBJQ0VSZXN0YXJ0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwaW5zVXBkYXRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaW5zQ2hhbmdlZCBpcyBzZW50IHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwgY2hhbmdlcy4gVGhpcyBldmVudCBjb250YWlucyB0aGUgZW50aXJlIGxpc3Qgb2YgcGlucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBpbnNDaGFuZ2VkIHBpbnNfdXBkYXRlZCA9IDIyO1xuICAgICAgICAgKi9cbiAgICAgICAgcGluc1VwZGF0ZWQ6IFBpbnNDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjYWxsRW5kZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbEVuZGVkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byB0aGUgY2xpZW50IHRvIHNpZ25hbCB0aGF0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgICAgICogVGhlIHJlYXNvbiBtYXkgc3BlY2lmeSB3aHkgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkIGNhbGxfZW5kZWQgPSAyMztcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxFbmRlZDogQ2FsbEVuZGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudFVwZGF0ZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRVcGRhdGVkIGlzIHNlbnQgd2hlbiB1c2VyIGRhdGEgaXMgdXBkYXRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkIHBhcnRpY2lwYW50X3VwZGF0ZWQgPSAyNDtcbiAgICAgICAgICovXG4gICAgICAgIHBhcnRpY2lwYW50VXBkYXRlZDogUGFydGljaXBhbnRVcGRhdGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUgaXMgc2VudCB3aGVuIHRoZSBwYXJ0aWNpcGFudCBtaWdyYXRpb24gaXMgY29tcGxldGVcbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUgcGFydGljaXBhbnRfbWlncmF0aW9uX2NvbXBsZXRlID0gMjU7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlOiBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjaGFuZ2VQdWJsaXNoT3B0aW9ucyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VQdWJsaXNoT3B0aW9ucyBpcyBzZW50IHRvIHNpZ25hbCB0aGUgY2hhbmdlIGluIHB1Ymxpc2ggb3B0aW9ucyBzdWNoIGFzIGEgbmV3IGNvZGVjIG9yIHNpbXVsY2FzdCBsYXllcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zIGNoYW5nZV9wdWJsaXNoX29wdGlvbnMgPSAyNztcbiAgICAgICAgICovXG4gICAgICAgIGNoYW5nZVB1Ymxpc2hPcHRpb25zOiBDaGFuZ2VQdWJsaXNoT3B0aW9ucztcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uIGluYm91bmRfc3RhdGVfbm90aWZpY2F0aW9uID0gMjg7XG4gICAgICAgICAqL1xuICAgICAgICBpbmJvdW5kU3RhdGVOb3RpZmljYXRpb246IEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbmdlUHVibGlzaE9wdGlvbnMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uIHB1Ymxpc2hfb3B0aW9ucyA9IDE7XG4gICAqL1xuICBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmVhc29uID0gMjtcbiAgICovXG4gIHJlYXNvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlIHt9XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUge31cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpbnNDaGFuZ2VkIHtcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwuXG4gICAqIFBpbnMgYXJlIG9yZGVyZWQgaW4gZGVzY2VuZGluZyBvcmRlciAobW9zdCBpbXBvcnRhbnQgZmlyc3QpLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gMTtcbiAgICovXG4gIHBpbnM6IFBpbltdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3Ige1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yJDtcbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIHJlY29ubmVjdCBzdHJhdGVneSB0byBiZSB1c2VkIGJ5IHRoZSBjbGllbnRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSByZWNvbm5lY3Rfc3RyYXRlZ3kgPSA1O1xuICAgKi9cbiAgcmVjb25uZWN0U3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VUcmlja2xlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGljZV9jYW5kaWRhdGUgPSAyO1xuICAgKi9cbiAgaWNlQ2FuZGlkYXRlOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVJlc3RhcnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xufVxuLyoqXG4gKiBTZnVSZXF1ZXN0IGlzIGEgbWVzc2FnZSB0aGF0IGlzIHNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBTRlUuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Z1UmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IHJlcXVlc3RfcGF5bG9hZFxuICAgKi9cbiAgcmVxdWVzdFBheWxvYWQ6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2pvaW5SZXF1ZXN0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdCBqb2luX3JlcXVlc3QgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgam9pblJlcXVlc3Q6IEpvaW5SZXF1ZXN0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1JlcXVlc3QnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdCBoZWFsdGhfY2hlY2tfcmVxdWVzdCA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICBoZWFsdGhDaGVja1JlcXVlc3Q6IEhlYWx0aENoZWNrUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbGVhdmVDYWxsUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdCBsZWF2ZV9jYWxsX3JlcXVlc3QgPSAzO1xuICAgICAgICAgKi9cbiAgICAgICAgbGVhdmVDYWxsUmVxdWVzdDogTGVhdmVDYWxsUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMZWF2ZUNhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyByZWFzb24gPSAyO1xuICAgKi9cbiAgcmVhc29uOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tSZXF1ZXN0IHt9XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50IHBhcnRpY2lwYW50X2NvdW50ID0gMTtcbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQ/OiBQYXJ0aWNpcGFudENvdW50O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tQdWJsaXNoZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0eXBlID0gMztcbiAgICovXG4gIHR5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIFBhcnRpY2lwYW50IGluZm9ybWF0aW9uIGhlcmUgaXMgaW5jbHVkZWQgYXMgYW4gb3B0aW1pc2F0aW9uXG4gICAqIGZvciBsYXJnZSBjYWxscyB3aGVyZSBicm9hZGNhc3Rpbmcgb24gZXZlcnkgcGFydGljaXBhbnQgam9pblxuICAgKiBpcyBleHBlbnNpdmUuIFlvdSBzaG91bGQgKipOT1QqKiBhc3N1bWUgdGhhdCB0aGlzIHdpbGwgYWx3YXlzXG4gICAqIGJlIGF2YWlsYWJsZSB0aG91Z2ggeW91IGNhbiB1c2UgaXQgdG8gdXBkYXRlIHRoZSBwYXJ0aWNpcGFudFxuICAgKiBsaXN0IHdoZW4gaXQgaXMgdGhlcmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSA0O1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tVbnB1Ymxpc2hlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgPSAzO1xuICAgKi9cbiAgdHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvbiBjYXVzZSA9IDQ7XG4gICAqL1xuICBjYXVzZTogVHJhY2tVbnB1Ymxpc2hSZWFzb247XG4gIC8qKlxuICAgKiBQYXJ0aWNpcGFudCBpbmZvcm1hdGlvbiBoZXJlIGlzIGluY2x1ZGVkIGFzIGFuIG9wdGltaXNhdGlvblxuICAgKiBmb3IgbGFyZ2UgY2FsbHMgd2hlcmUgYnJvYWRjYXN0aW5nIG9uIGV2ZXJ5IHBhcnRpY2lwYW50IGpvaW5cbiAgICogaXMgZXhwZW5zaXZlLiBZb3Ugc2hvdWxkICoqTk9UKiogYXNzdW1lIHRoYXQgdGhpcyB3aWxsIGFsd2F5c1xuICAgKiBiZSBhdmFpbGFibGUgdGhvdWdoIHlvdSBjYW4gdXNlIGl0IHRvIHVwZGF0ZSB0aGUgcGFydGljaXBhbnRcbiAgICogbGlzdCB3aGVuIGl0IGlzIHRoZXJlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gNTtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0b2tlbiA9IDE7XG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIGR1bWIgU0RQIHRoYXQgYWxsb3cgdXMgdG8gZXh0cmFjdCBzdWJzY3JpYmVyJ3MgZGVjb2RlIGNvZGVjc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzdWJzY3JpYmVyX3NkcCA9IDM7XG4gICAqL1xuICBzdWJzY3JpYmVyU2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwdWJsaXNoZXJfc2RwID0gODtcbiAgICovXG4gIHB1Ymxpc2hlclNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzIGNsaWVudF9kZXRhaWxzID0gNDtcbiAgICovXG4gIGNsaWVudERldGFpbHM/OiBDbGllbnREZXRhaWxzO1xuICAvKipcbiAgICogRGVwcmVjYXRlZDogdXNlIFJlY29ubmVjdERldGFpbHMgaW5zdGVhZFxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uIG1pZ3JhdGlvbiA9IDUgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIG1pZ3JhdGlvbj86IE1pZ3JhdGlvbjtcbiAgLyoqXG4gICAqIEZhc3QgcmVjb25uZWN0IGZsYWcgZXhwbGljaXRseSBpbmRpY2F0ZXMgdGhhdCBpZiB0aGUgcGFydGljaXBhbnQgc2Vzc2lvblxuICAgKiBhbmQgdGhlIGFzc29jaWF0ZWQgc3RhdGUgaXMgc3RpbGwgcHJlc2VudCBpbiB0aGUgU0ZVLCB0aGUgY2xpZW50IGlzIHJlYWR5XG4gICAqIHRvIHJlc3RvcmUgdGhlIFBlZXJDb25uZWN0aW9uIHdpdGggYW4gSUNFIHJlc3RhcnQuIElmIHRoZSBTRlUgcmVwbGllcyB3aXRoXG4gICAqIFwicmVjb25uZWN0ZWQ6IHRydWVcIiBpbiBpdHMgSm9pblJlc3BvbnNlLCB0aGVuIGl0IGlzIHNhZmUgdG8gcGVyZm9ybSBhbiBJQ0VcbiAgICogcmVzdGFydCBvciBlbHNlIHRoZSBleGlzdGluZyBQZWVyQ29ubmVjdGlvbnMgbXVzdCBiZSBjbGVhbmVkIHVwLlxuICAgKlxuICAgKiBGb3IgdGhlIFNGVSwgZmFzdF9yZWNvbm5lY3Q6ZmFsc2UgaW5kaWNhdGVzIHRoYXQgZXZlbiBpZiBpdCBoYXMgdGhlIHN0YXRlXG4gICAqIGNhY2hlZCwgdGhlIGNsaWVudCBzdGF0ZSBpcyBub3QgaW4gc3luYyBhbmQgaGVuY2UgaXQgbXVzdCBiZSBjbGVhbmVkIHVwIGJlZm9yZVxuICAgKiBwcm9jZWVkaW5nIGZ1cnRoZXIuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBmYXN0X3JlY29ubmVjdCA9IDYgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIGZhc3RSZWNvbm5lY3Q6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlscyByZWNvbm5lY3RfZGV0YWlscyA9IDc7XG4gICAqL1xuICByZWNvbm5lY3REZXRhaWxzPzogUmVjb25uZWN0RGV0YWlscztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvbiBwcmVmZXJyZWRfcHVibGlzaF9vcHRpb25zID0gOTtcbiAgICovXG4gIHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zOiBQdWJsaXNoT3B0aW9uW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlN1YnNjcmliZU9wdGlvbiBwcmVmZXJyZWRfc3Vic2NyaWJlX29wdGlvbnMgPSAxMDtcbiAgICovXG4gIHByZWZlcnJlZFN1YnNjcmliZU9wdGlvbnM6IFN1YnNjcmliZU9wdGlvbltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnRDYXBhYmlsaXR5IGNhcGFiaWxpdGllcyA9IDExO1xuICAgKi9cbiAgY2FwYWJpbGl0aWVzOiBDbGllbnRDYXBhYmlsaXR5W107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29ubmVjdERldGFpbHMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSBzdHJhdGVneSA9IDE7XG4gICAqL1xuICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3k7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyBhbm5vdW5jZWRfdHJhY2tzID0gMztcbiAgICovXG4gIGFubm91bmNlZFRyYWNrczogVHJhY2tJbmZvW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyBzdWJzY3JpcHRpb25zID0gNDtcbiAgICovXG4gIHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgcmVjb25uZWN0X2F0dGVtcHQgPSA1O1xuICAgKi9cbiAgcmVjb25uZWN0QXR0ZW1wdDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZnJvbV9zZnVfaWQgPSA2O1xuICAgKi9cbiAgZnJvbVNmdUlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBvbmx5IHNldCBpbiBjYXNlIG9mIHJlam9pblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwcmV2aW91c19zZXNzaW9uX2lkID0gNztcbiAgICovXG4gIHByZXZpb3VzU2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgcmVjb25uZWN0IHJlYXNvblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyByZWFzb24gPSA4O1xuICAgKi9cbiAgcmVhc29uOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWlncmF0aW9uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGZyb21fc2Z1X2lkID0gMTtcbiAgICovXG4gIGZyb21TZnVJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8gYW5ub3VuY2VkX3RyYWNrcyA9IDI7XG4gICAqL1xuICBhbm5vdW5jZWRUcmFja3M6IFRyYWNrSW5mb1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgc3Vic2NyaXB0aW9ucyA9IDM7XG4gICAqL1xuICBzdWJzY3JpcHRpb25zOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGUgY2FsbF9zdGF0ZSA9IDE7XG4gICAqL1xuICBjYWxsU3RhdGU/OiBDYWxsU3RhdGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgcmVjb25uZWN0ZWQgPSAyO1xuICAgKi9cbiAgcmVjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGZhc3RfcmVjb25uZWN0X2RlYWRsaW5lX3NlY29uZHMgPSAzO1xuICAgKi9cbiAgZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uIHB1Ymxpc2hfb3B0aW9ucyA9IDQ7XG4gICAqL1xuICBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudEpvaW5lZCBpcyBmaXJlZCB3aGVuIGEgdXNlciBqb2lucyBhIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRKb2luZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudEpvaW5lZCBpcyBmaXJlZCB3aGVuIGEgdXNlciBsZWF2ZXMgYSBjYWxsXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudExlZnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudFVwZGF0ZWQgaXMgZmlyZWQgd2hlbiB1c2VyIGRhdGEgaXMgdXBkYXRlZFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRVcGRhdGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGNhbGxfY2lkID0gMTtcbiAgICovXG4gIGNhbGxDaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSAyO1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogU3Vic2NyaWJlck9mZmVyIGlzIHNlbnQgd2hlbiB0aGUgU0ZVIGFkZHMgdHJhY2tzIHRvIGEgc3Vic2NyaXB0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVyT2ZmZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGljZV9yZXN0YXJ0ID0gMTtcbiAgICovXG4gIGljZVJlc3RhcnQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAyO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVibGlzaGVyQW5zd2VyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbn1cbi8qKlxuICogQ29ubmVjdGlvblF1YWxpdHkgaXMgc2VudCB0byBpbmZvcm0gYWJvdXQgY29ubmVjdGlvbiBxdWFsaXR5IGNoYW5nZXNcbiAqIGVnLiB0aGllcnJ5J3MgY29ubmVjdGlvbiBpcyBub3QgZ29vZCAtPiByZW5kZXIgYSByZWQgaWNvbiBab29tIHN0eWxlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mbyBjb25uZWN0aW9uX3F1YWxpdHlfdXBkYXRlcyA9IDE7XG4gICAqL1xuICBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXM6IENvbm5lY3Rpb25RdWFsaXR5SW5mb1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25RdWFsaXR5SW5mbyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gMztcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbn1cbi8qKlxuICogRG9taW5hbnRTcGVha2VyQ2hhbmdlZCBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gbm90aWZ5IHdoZW4gdGhlcmUgaXMgYSBuZXcgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIERvbWluYW50U3BlYWtlckNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTGV2ZWwge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiAwLjAgbWVhbnMgY29tcGxldGUgc2lsZW5jZSwgMS4wIGxvdWRlc3RcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBsZXZlbCA9IDM7XG4gICAqL1xuICBsZXZlbDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3NwZWFraW5nID0gNDtcbiAgICovXG4gIGlzU3BlYWtpbmc6IGJvb2xlYW47XG59XG4vKipcbiAqIEF1ZGlvTGV2ZWxDaGFuZ2VkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byBub3RpZnkgYWJvdXQgYXVkaW8gbGV2ZWxzIGJ5IHVzZXJcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9MZXZlbENoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWwgYXVkaW9fbGV2ZWxzID0gMTtcbiAgICovXG4gIGF1ZGlvTGV2ZWxzOiBBdWRpb0xldmVsW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NlbmRlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMztcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBwdWJsaXNoX29wdGlvbl9pZCA9IDQ7XG4gICAqL1xuICBwdWJsaXNoT3B0aW9uSWQ6IG51bWJlcjtcbn1cbi8qKlxuICogVmlkZW9MYXllclNldHRpbmcgaXMgdXNlZCB0byBzcGVjaWZ5IHZhcmlvdXMgcGFyYW1ldGVycyBvZiBhIHBhcnRpY3VsYXIgZW5jb2RpbmcgaW4gc2ltdWxjYXN0LlxuICogVGhlIHBhcmFtZXRlcnMgYXJlIHNwZWNpZmllZCBoZXJlIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JUQ1J0cEVuY29kaW5nUGFyYW1ldGVyc1xuICogU0RLcyB1c2UgdGhlc2UgcGFyYW1ldGVycyBzZW50IGZyb20gdGhlIHNlcnZlciB0byBkeW5hbWljYWxseSBhZGp1c3QgdGhlc2UgcGFyYW1ldGVycyB0byBzYXZlIENQVSwgYmFuZHdpZHRoXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZ1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTGF5ZXJTZXR0aW5nIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGFjdGl2ZSA9IDI7XG4gICAqL1xuICBhY3RpdmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG1heF9iaXRyYXRlID0gMztcbiAgICovXG4gIG1heEJpdHJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZmxvYXQgc2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5ID0gNDtcbiAgICovXG4gIHNjYWxlUmVzb2x1dGlvbkRvd25CeTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDY7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgbWF4X2ZyYW1lcmF0ZSA9IDc7XG4gICAqL1xuICBtYXhGcmFtZXJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNjYWxhYmlsaXR5X21vZGUgPSA4O1xuICAgKi9cbiAgc2NhbGFiaWxpdHlNb2RlOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1NlbmRlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcgbGF5ZXJzID0gMztcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllclNldHRpbmdbXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSA0O1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIHB1Ymxpc2hfb3B0aW9uX2lkID0gNTtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25JZDogbnVtYmVyO1xufVxuLyoqXG4gKiBzZW50IHRvIHVzZXJzIHdoZW4gdGhleSBuZWVkIHRvIGNoYW5nZSB0aGUgcXVhbGl0eSBvZiB0aGVpciB2aWRlb1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFuZ2VQdWJsaXNoUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXIgYXVkaW9fc2VuZGVycyA9IDE7XG4gICAqL1xuICBhdWRpb1NlbmRlcnM6IEF1ZGlvU2VuZGVyW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXIgdmlkZW9fc2VuZGVycyA9IDI7XG4gICAqL1xuICB2aWRlb1NlbmRlcnM6IFZpZGVvU2VuZGVyW107XG59XG4vKipcbiAqIENhbGxHcmFudHMgaXMgc2VudCB0byB1c2VycyB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlIGluIHRoZSBjYWxsIHBlcm1pc3Npb25zXG4gKiB0byBwdWJsaXNoIGF1ZGlvLCB2aWRlbyBvciBzaGFyZSB0aGUgc2NyZWVuIGZvciBhIHVzZXIgb3IgYSByb2xlLiBUaGlzIGlzXG4gKiBpZGVtcG90ZW50IGFuZCBjYW4gYmUgc2VudCBhdCBhbnkgdGltZS4gT25seSB0aGUgY3VycmVudF9ncmFudHMgaW4gdGhlIGxhdGVzdFxuICogbWVzc2FnZSBzaG91bGQgYmUgY29uc2lkZXJlZC4gSW4gb3RoZXIgd29yZHMsIHRoaXMgaXMgbm90IGRlcGVuZGVudCBvbiBhbnlcbiAqIG90aGVyIG1lc3NhZ2UgKGluY2x1ZGluZyBwcmV2aW91cyBjYWxsX2dyYW50c191cGRhdGVkIG1lc3NhZ2UpXG4gKlxuICogV2hlbiB0aGlzIG1lc3NhZ2UgaXMgcmVjZWl2ZWQsIHRoZSBjbGllbnQgKHNheSwgUmVhY3QgY29tcG9uZW50KSBzaG91bGQgbXV0ZVxuICogdGhlIHRyYWNrcyB3aGljaCBhcmUgbm90IGFsbG93ZWQgYW55bW9yZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSBtZXNzYWdlIGhhc1xuICogZ3JhbnRzIHthdWRpbzp0cnVlLCB2aWRlbzpmYWxzZX0gd2hpbGUgdGhlIHVzZXIgaXMgcHVibGlzaGluZyB2aWRlbywgdGhlbiB0aGVcbiAqIGNsaWVudCBjb21wb25lbnQgc2hvdWxkIG11dGUgdGhlIHZpZGVvIHRyYWNrIGFuZCBncmF5IG91dCB0aGUgdmlkZW8gYnV0dG9uLlxuICogVGhpcyB3YXksIHRoZSB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gcHVibGlzaCB2aWRlbyB1bnRpbCB0aGUgcGVybWlzc2lvbnNcbiAqIGFyZSBncmFudGVkIGFnYWluLiBBbHNvLCBtdXRpbmcgdGhlIHRyYWNrIG9uIHRoZSBjbGllbnQgc2lkZSB3aWxsIHByZXZlbnRcbiAqIHRoZSBTRlUgZnJvbSByZWNlaXZpbmcgdGhlIHZpZGVvIHRyYWNrIGFuZCB3aWxsIHNhdmUgYmFuZHdpZHRoLlxuICpcbiAqIEluIHNpbXBsZSB3b3JkcywgdGhpcyBpcyBleGFjdGx5IHRoZSBzYW1lIGFzIG11dGluZyBhIHRyYWNrIG9uIHRoZSBjbGllbnQuXG4gKiBIZXJlLCBpbnN0ZWFkIG9mIHRoZSB1c2VyIGluc3RydWN0aW5nIHRoZSBjbGllbnQsIFNGVSB3b3VsZCBiZSBkb2luZyBpdC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEdyYW50c1VwZGF0ZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsR3JhbnRzIGN1cnJlbnRfZ3JhbnRzID0gMTtcbiAgICovXG4gIGN1cnJlbnRHcmFudHM/OiBDYWxsR3JhbnRzO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG4vKipcbiAqIEdvIGF3YXkgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRvIG1pZ3JhdGUgYXdheSBmcm9tIHRoZSBTRlUuXG4gKiBUaGUgZXZpY3QgcmVhc29uIG1heSBzcGVjaWZ5IHdoeSB0aGUgdXNlciBpcyBiZWluZyBldmljdGVkLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR29Bd2F5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uIHJlYXNvbiA9IDE7XG4gICAqL1xuICByZWFzb246IEdvQXdheVJlYXNvbjtcbn1cbi8qKlxuICogQ2FsbEVuZGVkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byB0aGUgY2xpZW50IHRvIHNpZ25hbCB0aGF0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAqIFRoZSByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFbmRlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxFbmRlZFJlYXNvbiByZWFzb24gPSAxO1xuICAgKi9cbiAgcmVhc29uOiBDYWxsRW5kZWRSZWFzb247XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JbmJvdW5kVmlkZW9TdGF0ZSBpbmJvdW5kX3ZpZGVvX3N0YXRlcyA9IDE7XG4gICAqL1xuICBpbmJvdW5kVmlkZW9TdGF0ZXM6IEluYm91bmRWaWRlb1N0YXRlW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSW5ib3VuZFZpZGVvU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmJvdW5kVmlkZW9TdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAzO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgcGF1c2VkID0gNDtcbiAgICovXG4gIHBhdXNlZDogYm9vbGVhbjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdUV2ZW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVFdmVudD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX29mZmVyJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFN1YnNjcmliZXJPZmZlcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX2Fuc3dlcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoZXJBbnN3ZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsQ2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnaWNlX3RyaWNrbGUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSUNFVHJpY2tsZSQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2NoYW5nZV9wdWJsaXNoX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9qb2luZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRKb2luZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9sZWZ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TGVmdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMixcbiAgICAgICAgbmFtZTogJ2RvbWluYW50X3NwZWFrZXJfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEzLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXNwb25zZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVzcG9uc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTQsXG4gICAgICAgIG5hbWU6ICdoZWFsdGhfY2hlY2tfcmVzcG9uc2UnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3B1Ymxpc2hlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1B1Ymxpc2hlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3VucHVibGlzaGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTgsXG4gICAgICAgIG5hbWU6ICdlcnJvcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBFcnJvcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxOSxcbiAgICAgICAgbmFtZTogJ2NhbGxfZ3JhbnRzX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2FsbEdyYW50c1VwZGF0ZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjAsXG4gICAgICAgIG5hbWU6ICdnb19hd2F5JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEdvQXdheSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyMSxcbiAgICAgICAgbmFtZTogJ2ljZV9yZXN0YXJ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IElDRVJlc3RhcnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjIsXG4gICAgICAgIG5hbWU6ICdwaW5zX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGluc0NoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjMsXG4gICAgICAgIG5hbWU6ICdjYWxsX2VuZGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENhbGxFbmRlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyNCxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRVcGRhdGVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDI1LFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfbWlncmF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjcsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2VfcHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENoYW5nZVB1Ymxpc2hPcHRpb25zLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDI4LFxuICAgICAgICBuYW1lOiAnaW5ib3VuZF9zdGF0ZV9ub3RpZmljYXRpb24nLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1RXZlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFNmdUV2ZW50ID0gbmV3IFNmdUV2ZW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDaGFuZ2VQdWJsaXNoT3B0aW9ucz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoT3B0aW9ucycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoX29wdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUHVibGlzaE9wdGlvbixcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncmVhc29uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBDaGFuZ2VQdWJsaXNoT3B0aW9ucyA9IG5ldyBDaGFuZ2VQdWJsaXNoT3B0aW9ucyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGUnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGVcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGUgPVxuICBuZXcgQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGVcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUgPVxuICBuZXcgUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW5zQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGluc0NoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQaW4sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgUGluc0NoYW5nZWQgPSBuZXcgUGluc0NoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRXJyb3IkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEVycm9yPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciQgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3Rfc3RyYXRlZ3knLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3knLFxuICAgICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICdXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgY29uc3QgRXJyb3IgPSBuZXcgRXJyb3IkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFVHJpY2tsZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFVHJpY2tsZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZSA9IG5ldyBJQ0VUcmlja2xlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVJlc3RhcnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVJlc3RhcnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnRcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVJlc3RhcnQgPSBuZXcgSUNFUmVzdGFydCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZnVSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdVJlcXVlc3QnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSm9pblJlcXVlc3QsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2hlYWx0aF9jaGVja19yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXF1ZXN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdsZWF2ZV9jYWxsX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBMZWF2ZUNhbGxSZXF1ZXN0LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU2Z1UmVxdWVzdCA9IG5ldyBTZnVSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIExlYXZlQ2FsbFJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPExlYXZlQ2FsbFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncmVhc29uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IExlYXZlQ2FsbFJlcXVlc3QgPSBuZXcgTGVhdmVDYWxsUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEhlYWx0aENoZWNrUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSGVhbHRoQ2hlY2tSZXF1ZXN0ID0gbmV3IEhlYWx0aENoZWNrUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxIZWFsdGhDaGVja1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2UnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfY291bnQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50Q291bnQsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFsdGhDaGVja1Jlc3BvbnNlID0gbmV3IEhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tQdWJsaXNoZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrUHVibGlzaGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrUHVibGlzaGVkID0gbmV3IFRyYWNrUHVibGlzaGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrVW5wdWJsaXNoZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrVW5wdWJsaXNoZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnY2F1c2UnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb24nLFxuICAgICAgICAgIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxuICAgICAgICAgICdUUkFDS19VTlBVQkxJU0hfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja1VucHVibGlzaGVkID0gbmV3IFRyYWNrVW5wdWJsaXNoZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSm9pblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEpvaW5SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Rva2VuJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmliZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdjbGllbnRfZGV0YWlscycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gQ2xpZW50RGV0YWlscyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnbWlncmF0aW9uJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBNaWdyYXRpb24gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdF9kZXRhaWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBSZWNvbm5lY3REZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDksXG4gICAgICAgIG5hbWU6ICdwcmVmZXJyZWRfcHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFB1Ymxpc2hPcHRpb24sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwcmVmZXJyZWRfc3Vic2NyaWJlX29wdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gU3Vic2NyaWJlT3B0aW9uLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDExLFxuICAgICAgICBuYW1lOiAnY2FwYWJpbGl0aWVzJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudENhcGFiaWxpdHknLFxuICAgICAgICAgIENsaWVudENhcGFiaWxpdHksXG4gICAgICAgICAgJ0NMSUVOVF9DQVBBQklMSVRZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSm9pblJlcXVlc3QgPSBuZXcgSm9pblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUmVjb25uZWN0RGV0YWlscyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UmVjb25uZWN0RGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3N0cmF0ZWd5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5JyxcbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAnV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhbm5vdW5jZWRfdHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdF9hdHRlbXB0JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAnZnJvbV9zZnVfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ3ByZXZpb3VzX3Nlc3Npb25faWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogOCwgbmFtZTogJ3JlYXNvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzXG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvbm5lY3REZXRhaWxzID0gbmV3IFJlY29ubmVjdERldGFpbHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgTWlncmF0aW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxNaWdyYXRpb24+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Zyb21fc2Z1X2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdhbm5vdW5jZWRfdHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IE1pZ3JhdGlvbiA9IG5ldyBNaWdyYXRpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSm9pblJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxKb2luUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfc3RhdGUnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENhbGxTdGF0ZSB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3JlY29ubmVjdGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Zhc3RfcmVjb25uZWN0X2RlYWRsaW5lX3NlY29uZHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFB1Ymxpc2hPcHRpb24sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IEpvaW5SZXNwb25zZSA9IG5ldyBKb2luUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRKb2luZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50Sm9pbmVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfY2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkXG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudEpvaW5lZCA9IG5ldyBQYXJ0aWNpcGFudEpvaW5lZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudExlZnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50TGVmdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY2FsbF9jaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRMZWZ0XG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudExlZnQgPSBuZXcgUGFydGljaXBhbnRMZWZ0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50VXBkYXRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRVcGRhdGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50VXBkYXRlZCA9IG5ldyBQYXJ0aWNpcGFudFVwZGF0ZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3Vic2NyaWJlck9mZmVyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdWJzY3JpYmVyT2ZmZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuU3Vic2NyaWJlck9mZmVyJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2ljZV9yZXN0YXJ0Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmliZXJPZmZlciA9IG5ldyBTdWJzY3JpYmVyT2ZmZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUHVibGlzaGVyQW5zd2VyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQdWJsaXNoZXJBbnN3ZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFB1Ymxpc2hlckFuc3dlciA9IG5ldyBQdWJsaXNoZXJBbnN3ZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5SW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDb25uZWN0aW9uUXVhbGl0eUluZm8kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvbm5lY3Rpb25RdWFsaXR5SW5mbz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUluZm8nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlJbmZvID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxEb21pbmFudFNwZWFrZXJDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IG5ldyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWwkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTGV2ZWw+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdpc19zcGVha2luZycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9MZXZlbCA9IG5ldyBBdWRpb0xldmVsJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb0xldmVsQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdhdWRpb19sZXZlbHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gQXVkaW9MZXZlbCxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb0xldmVsQ2hhbmdlZCA9IG5ldyBBdWRpb0xldmVsQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb1NlbmRlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXVkaW9TZW5kZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXInLCBbXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoX29wdGlvbl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU2VuZGVyID0gbmV3IEF1ZGlvU2VuZGVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTGF5ZXJTZXR0aW5nJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb0xheWVyU2V0dGluZz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnYWN0aXZlJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ21heF9iaXRyYXRlJywga2luZDogJ3NjYWxhcicsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnknLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA2LCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA3LFxuICAgICAgICBuYW1lOiAnbWF4X2ZyYW1lcmF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogOCxcbiAgICAgICAgbmFtZTogJ3NjYWxhYmlsaXR5X21vZGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZ1xuICovXG5leHBvcnQgY29uc3QgVmlkZW9MYXllclNldHRpbmcgPSBuZXcgVmlkZW9MYXllclNldHRpbmckVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9TZW5kZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvU2VuZGVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvU2VuZGVyJywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0xheWVyU2V0dGluZyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoX29wdGlvbl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvU2VuZGVyID0gbmV3IFZpZGVvU2VuZGVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENoYW5nZVB1Ymxpc2hRdWFsaXR5JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDaGFuZ2VQdWJsaXNoUXVhbGl0eT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdhdWRpb19zZW5kZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvU2VuZGVyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd2aWRlb19zZW5kZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvU2VuZGVyLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHlcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5nZVB1Ymxpc2hRdWFsaXR5ID0gbmV3IENoYW5nZVB1Ymxpc2hRdWFsaXR5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxHcmFudHNVcGRhdGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsR3JhbnRzVXBkYXRlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsR3JhbnRzVXBkYXRlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjdXJyZW50X2dyYW50cycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ2FsbEdyYW50cyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ21lc3NhZ2UnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxHcmFudHNVcGRhdGVkID0gbmV3IENhbGxHcmFudHNVcGRhdGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEdvQXdheSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8R29Bd2F5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkdvQXdheScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdyZWFzb24nLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uJyxcbiAgICAgICAgICBHb0F3YXlSZWFzb24sXG4gICAgICAgICAgJ0dPX0FXQVlfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGNvbnN0IEdvQXdheSA9IG5ldyBHb0F3YXkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbEVuZGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsRW5kZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3JlYXNvbicsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsRW5kZWRSZWFzb24nLFxuICAgICAgICAgIENhbGxFbmRlZFJlYXNvbixcbiAgICAgICAgICAnQ0FMTF9FTkRFRF9SRUFTT05fJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZFxuICovXG5leHBvcnQgY29uc3QgQ2FsbEVuZGVkID0gbmV3IENhbGxFbmRlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJbmJvdW5kU3RhdGVOb3RpZmljYXRpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JbmJvdW5kU3RhdGVOb3RpZmljYXRpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnaW5ib3VuZF92aWRlb19zdGF0ZXMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gSW5ib3VuZFZpZGVvU3RhdGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JbmJvdW5kU3RhdGVOb3RpZmljYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbiA9IG5ldyBJbmJvdW5kU3RhdGVOb3RpZmljYXRpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSW5ib3VuZFZpZGVvU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEluYm91bmRWaWRlb1N0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkluYm91bmRWaWRlb1N0YXRlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdwYXVzZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkluYm91bmRWaWRlb1N0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBJbmJvdW5kVmlkZW9TdGF0ZSA9IG5ldyBJbmJvdW5kVmlkZW9TdGF0ZSRUeXBlKCk7XG4iLCJpbXBvcnQgdHlwZSB7XG4gIFBhcnRpY2lwYW50LFxuICBUcmFja1R5cGUsXG4gIFZpZGVvRGltZW5zaW9uLFxufSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgdHlwZSB7XG4gIEpvaW5DYWxsUmVxdWVzdCxcbiAgTWVtYmVyUmVzcG9uc2UsXG4gIE93bkNhcGFiaWxpdHksXG4gIFJlYWN0aW9uUmVzcG9uc2UsXG59IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB0eXBlIHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgdHlwZSB7IENvbXBhcmF0b3IgfSBmcm9tICcuL3NvcnRpbmcnO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUgfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IEF4aW9zRXJyb3IgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBSZWplY3RSZWFzb24gfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1SZWFjdGlvbiA9IFBpY2s8XG4gIFJlYWN0aW9uUmVzcG9uc2UsXG4gICd0eXBlJyB8ICdlbW9qaV9jb2RlJyB8ICdjdXN0b20nXG4+O1xuXG5leHBvcnQgZW51bSBWaXNpYmlsaXR5U3RhdGUge1xuICBVTktOT1dOID0gJ1VOS05PV04nLFxuICBWSVNJQkxFID0gJ1ZJU0lCTEUnLFxuICBJTlZJU0lCTEUgPSAnSU5WSVNJQkxFJyxcbn1cblxuZXhwb3J0IGVudW0gRGVib3VuY2VUeXBlIHtcbiAgSU1NRURJQVRFID0gMjAsXG4gIEZBU1QgPSAxMDAsXG4gIE1FRElVTSA9IDYwMCxcbiAgU0xPVyA9IDEyMDAsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCBleHRlbmRzIFBhcnRpY2lwYW50IHtcbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIGF1ZGlvIHN0cmVhbSwgaWYgdGhleSBhcmUgcHVibGlzaGluZyBhdWRpbyBhbmRcbiAgICogd2UgaGF2ZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgYXVkaW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3MgdmlkZW8gc3RyZWFtLCBpZiB0aGV5IGFyZSBzaGFyaW5nIHRoZWlyIHZpZGVvLFxuICAgKiBhbmQgd2UgYXJlIHN1YnNjcmliZWQgdG8gaXQuXG4gICAqL1xuICB2aWRlb1N0cmVhbT86IE1lZGlhU3RyZWFtO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyBzY3JlZW4gc2hhcmUgc3RyZWFtLCBpZiB0aGV5IGFyZSBzaGFyaW5nIHRoZWlyIHNjcmVlbixcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgc2NyZWVuU2hhcmVTdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3Mgc2NyZWVuIGF1ZGlvIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciBhdWRpbyxcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbT86IE1lZGlhU3RyZWFtO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIHZpZGVvIGRpbWVuc2lvbnMgZm9yIHRoaXMgcGFydGljaXBhbnQuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1bnN1YnNjcmliZSBmcm9tIHRoaXMgcGFydGljaXBhbnQncyB2aWRlby5cbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgc2NyZWVuIHNoYXJlIGRpbWVuc2lvbnMgZm9yIHRoaXMgcGFydGljaXBhbnQuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1bnN1YnNjcmliZSBmcm9tIHRoaXMgcGFydGljaXBhbnQncyBzY3JlZW4gc2hhcmUuXG4gICAqL1xuICBzY3JlZW5TaGFyZURpbWVuc2lvbj86IFZpZGVvRGltZW5zaW9uO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdHJhY2tzIHRoYXQgYXJlIGN1cnJlbnRseSBwYXVzZWQgYnkgb3VyIHNlcnZlcnMuXG4gICAqIFR5cGljYWxseSwgYSBzZXJ2ZXItc2lkZSBwYXVzZSBoYXBwZW5zIHdoZW4gdGhlIGxvY2FsIHBhcnRpY2lwYW50IGRvZXNuJ3RcbiAgICogaGF2ZSBlbm91Z2ggYmFuZHdpZHRoIHRvIHJlY2VpdmUgYWxsIHRyYWNrcy4gSW4gdGhpcyBjYXNlLCB0aGUgc2VydmVyXG4gICAqIHdpbGwgcGF1c2Ugc29tZSB0cmFja3MgdG8gb3B0aW1pemUgdGhlIGJhbmR3aWR0aCB1c2FnZS5cbiAgICogT25jZSB0aGUgYmFuZHdpZHRoIGlzIHJlc3RvcmVkLCB0aGUgc2VydmVyIHdpbGwgcmVzdW1lIHRoZSBwYXVzZWQgdHJhY2tzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBhdm9pZCBhbnkgdW53YW50ZWQgdmlkZW8gYW5kIGF1ZGlvIGFydGlmYWN0cy5cbiAgICovXG4gIHBhdXNlZFRyYWNrcz86IFRyYWNrVHlwZVtdO1xuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBwYXJ0aWNpcGFudCBpcyB0aGUgbG9jYWwgcGFydGljaXBhbnQuXG4gICAqL1xuICBpc0xvY2FsUGFydGljaXBhbnQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgcGluIHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHBpbj86IFBhcnRpY2lwYW50UGluO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCByZWFjdGlvbiB0aGlzIHVzZXIgaGFzIHNlbnQgdG8gdGhpcyBjYWxsLlxuICAgKiBJbnRlZ3JhdG9ycyBjYW4gYmF0Y2gvY29sbGVjdCBwYXN0IHJlYWN0aW9ucyBhbmQgc2hvdyB0aGVtIHRvIHRoZSBVSS5cbiAgICovXG4gIHJlYWN0aW9uPzogU3RyZWFtUmVhY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB2aXNpYmlsaXR5IHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudCdzIHRyYWNrcyB3aXRoaW4gYSBkZWZpbmVkIHZpZXdwb3J0LlxuICAgKi9cbiAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/OiBSZWNvcmQ8VmlkZW9UcmFja1R5cGUsIFZpc2liaWxpdHlTdGF0ZT47XG5cbiAgLyoqXG4gICAqIFRoZSB2b2x1bWUgb2YgdGhlIHBhcnRpY2lwYW50J3MgYXVkaW8gc3RyZWFtIChmcm9tIDAgdG8gMSkuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1c2UgdGhlIGRlZmF1bHQgdm9sdW1lLlxuICAgKlxuICAgKiBOb3RlOiB0aGlzIHZhbHVlIGlzIG5vdCBhcHBsaWNhYmxlIGluIFJlYWN0IE5hdGl2ZS5cbiAgICovXG4gIGF1ZGlvVm9sdW1lPzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBWaWRlb1RyYWNrVHlwZSA9ICd2aWRlb1RyYWNrJyB8ICdzY3JlZW5TaGFyZVRyYWNrJztcbmV4cG9ydCB0eXBlIEF1ZGlvVHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snIHwgJ3NjcmVlblNoYXJlQXVkaW9UcmFjayc7XG5leHBvcnQgdHlwZSBUcmFja011dGVUeXBlID1cbiAgfCAnYXVkaW8nXG4gIHwgJ3ZpZGVvJ1xuICB8ICdzY3JlZW5zaGFyZSdcbiAgfCAnc2NyZWVuc2hhcmVfYXVkaW8nO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXJ0aWNpcGFudCdzIHBpbiBzdGF0ZS5cbiAqL1xuZXhwb3J0IHR5cGUgUGFydGljaXBhbnRQaW4gPSB7XG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkIGJ5IHRoZSBsb2NhbCB1c2VyLlxuICAgKiBGYWxzZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkIHNlcnZlci1zaWRlLCBieSB0aGUgY2FsbCBtb2RlcmF0b3IuXG4gICAqL1xuICBpc0xvY2FsUGluOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaW1lc3RhbXAgd2hlbiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkLlxuICAgKi9cbiAgcGlubmVkQXQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIENsb3NlZENhcHRpb25zU2V0dGluZ3MgPSB7XG4gIC8qKlxuICAgKiBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgdG8ga2VlcCBhIGNsb3NlZCBjYXB0aW9uIGluIHRoZSBzdGF0ZSAodmlzaWJsZSkuXG4gICAqIERlZmF1bHQgaXMgMjcwMCBtcy5cbiAgICovXG4gIHZpc2liaWxpdHlEdXJhdGlvbk1zPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNsb3NlZCBjYXB0aW9ucyB0byBrZWVwIGluIHRoZSBzdGF0ZSAodmlzaWJsZSkuXG4gICAqIFdoZW4gdGhlIG1heGltdW0gbnVtYmVyIGlzIHJlYWNoZWQsIHRoZSBvbGRlc3QgY2xvc2VkIGNhcHRpb24gaXMgcmVtb3ZlZC5cbiAgICpcbiAgICogRGVmYXVsdCBpcyAyLlxuICAgKi9cbiAgbWF4VmlzaWJsZUNhcHRpb25zPzogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBBIHBhcnRpYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCA9IFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD47XG5cbi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIHtAbGluayBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2h9IG9yZ2FuaXplZCBieSBzZXNzaW9uSWQuXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzID0ge1xuICBbc2Vzc2lvbklkOiBzdHJpbmddOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2g7XG59O1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpcHRpb25DaGFuZ2UgPSB7XG4gIC8qKlxuICAgKiBUaGUgdmlkZW8gZGltZW5zaW9uIHRvIHJlcXVlc3QuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCBpbiBjYXNlIHlvdSB3YW50IHRvIHVuc3Vic2NyaWJlLlxuICAgKi9cbiAgZGltZW5zaW9uOiBWaWRlb0RpbWVuc2lvbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZXMgPSB7XG4gIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN1YnNjcmlwdGlvbkNoYW5nZTtcbn07XG5cbi8qKlxuICogQSBwcmVmZXJyZWQgY29kZWMgdG8gdXNlIHdoZW4gcHVibGlzaGluZyBhIHZpZGVvIG9yIGF1ZGlvIHRyYWNrLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB0eXBlIFByZWZlcnJlZENvZGVjID0gJ3ZwOCcgfCAnaDI2NCcgfCAndnA5JyB8ICdhdjEnO1xuXG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiB0cmFjayBwdWJsaWNhdGlvbiBvcHRpb25zLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB0eXBlIENsaWVudFB1Ymxpc2hPcHRpb25zID0ge1xuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBjb2RlYyB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqL1xuICBwcmVmZXJyZWRDb2RlYz86IFByZWZlcnJlZENvZGVjO1xuICAvKipcbiAgICogVGhlIGZtdHAgbGluZSBmb3IgdGhlIHZpZGVvIGNvZGVjLlxuICAgKi9cbiAgZm10cExpbmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIGJpdHJhdGUgdG8gdXNlIHdoZW4gcHVibGlzaGluZyB0aGUgdmlkZW8gc3RyZWFtLlxuICAgKi9cbiAgcHJlZmVycmVkQml0cmF0ZT86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaW11bGNhc3QgbGF5ZXJzIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHZpZGVvIHN0cmVhbS5cbiAgICovXG4gIG1heFNpbXVsY2FzdExheWVycz86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgc3Vic2NyaXB0aW9uIChpbmNvbWluZyB2aWRlbyBzdHJlYW0pIGNvZGVjLlxuICAgKi9cbiAgc3Vic2NyaWJlckNvZGVjPzogUHJlZmVycmVkQ29kZWM7XG4gIC8qKlxuICAgKiBUaGUgZm10cCBsaW5lIGZvciB0aGUgc3Vic2NyaWJlciBjb2RlYy5cbiAgICovXG4gIHN1YnNjcmliZXJGbXRwTGluZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIHNjcmVlblNoYXJlU2V0dGluZ3M/OiBTY3JlZW5TaGFyZVNldHRpbmdzO1xufTtcblxuZXhwb3J0IHR5cGUgU2NyZWVuU2hhcmVTZXR0aW5ncyA9IHtcbiAgLyoqXG4gICAqIExpbWl0cyB0aGUgbWF4aW11bSBmcmFtZXJhdGUgKGluIGZyYW1lcyBwZXIgc2Vjb25kKSBvZiB0aGUgc2NyZWVuIHNoYXJlLlxuICAgKiBEZWZhdWx0cyB0byAzMC5cbiAgICovXG4gIG1heEZyYW1lcmF0ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogTGltaXRzIHRoZSBtYXhpbXVtIGJpdHJhdGUgKGluIGJpdHMgcGVyIHNlY29uZCkgb2YgdGhlIHNjcmVlbiBzaGFyZS5cbiAgICogRGVmYXVsdHMgdG8gMzAwMDAwMCAoM01icHMpLlxuICAgKi9cbiAgbWF4Qml0cmF0ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgaGludCB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSBzY3JlZW4gc2hhcmUuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gb3B0aW1pemUgdGhlIHZpZGVvIHF1YWxpdHkgZm9yIGRpZmZlcmVudCB0eXBlcyBvZiBjb250ZW50LlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byAnJyAobm8gaGludCwgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IpLlxuICAgKiBVc2UgJ21vdGlvbicgZm9yIHZpZGVvIGNvbnRlbnQsICdkZXRhaWwnIGZvciBwcmVzZW50YXRpb25zIG9yIGRvY3VtZW50cywgYW5kICd0ZXh0JyBmb3IgdGV4dC1oZWF2eSBjb250ZW50LlxuICAgKlxuICAgKiBQbGVhc2UgcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBjb250ZW50IGhpbnRzOlxuICAgKiAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVN0cmVhbVRyYWNrL2NvbnRlbnRIaW50XG4gICAqL1xuICBjb250ZW50SGludD86ICcnIHwgJ21vdGlvbicgfCAnZGV0YWlsJyB8ICd0ZXh0Jztcbn07XG5cbmV4cG9ydCB0eXBlIENhbGxMZWF2ZU9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgY2FsbGVyIHdpbGwgZ2V0IGEgYGNhbGwucmVqZWN0ZWRgIGV2ZW50LlxuICAgKiBIYXMgYW4gZWZmZWN0IG9ubHkgaWYgdGhlIGNhbGwgaXMgaW4gdGhlIGByaW5naW5nYCBzdGF0ZS5cbiAgICovXG4gIHJlamVjdD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSByZWFzb24gZm9yIGxlYXZpbmcgdGhlIGNhbGwuXG4gICAqIFRoaXMgd2lsbCBiZSBzZW50IGFzIHRoZSBgcmVhc29uYCBmaWVsZCBpbiB0aGUgYGNhbGwucmVqZWN0ZWRgIGV2ZW50LlxuICAgKi9cbiAgcmVhc29uPzogUmVqZWN0UmVhc29uO1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHByb3ZpZGUgZXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgd2h5IHRoZSBjYWxsIGlzIGJlaW5nIGxlZnQgYW5kL29yIHJlamVjdGVkLCB1c2VkIGZvciBsb2dnaW5nIHB1cnBvc2VzLlxuICAgKi9cbiAgbWVzc2FnZT86IHN0cmluZztcbn07XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgdG8gcGFzcyB0byB7QGxpbmsgQ2FsbH0gY29uc3RydWN0b3IuXG4gKi9cbmV4cG9ydCB0eXBlIENhbGxDb25zdHJ1Y3RvciA9IHtcbiAgLyoqXG4gICAqIFRoZSBzdHJlYW1DbGllbnQgaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBDYWxsIHR5cGUuXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBDYWxsIElELlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbGlzdCBvZiB7QGxpbmsgTWVtYmVyUmVzcG9uc2V9IGZyb20gdGhlIGJhY2tlbmQuXG4gICAqIElmIHByb3ZpZGVkLCB0aGUgY2FsbCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIGRhdGEgZnJvbSB0aGlzIG9iamVjdC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBpbml0aWFsaXppbmcgYSBuZXcgXCJwZW5kaW5nIGNhbGxcIiBmcm9tIGFuIGV2ZW50LlxuICAgKi9cbiAgbWVtYmVycz86IE1lbWJlclJlc3BvbnNlW107XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGxpc3Qgb2Yge0BsaW5rIE93bkNhcGFiaWxpdHl9IGNvbWluZyBmcm9tIHRoZSBiYWNrZWQuXG4gICAqIElmIHByb3ZpZGVkLCB0aGUgY2FsbCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIGRhdGEgZnJvbSB0aGlzIG9iamVjdC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBpbml0aWFsaXppbmcgYSBuZXcgXCJwZW5kaW5nIGNhbGxcIiBmcm9tIGFuIGV2ZW50LlxuICAgKi9cbiAgb3duQ2FwYWJpbGl0aWVzPzogT3duQ2FwYWJpbGl0eVtdO1xuXG4gIC8qKlxuICAgKiBGbGFncyB0aGUgY2FsbCBhcyBhIHJpbmdpbmcgY2FsbC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJpbmdpbmc/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGlzIGNhbGwgaW5zdGFuY2Ugc2hvdWxkIHJlY2VpdmUgdXBkYXRlcyBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZS5cbiAgICovXG4gIHdhdGNoaW5nPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29tcGFyYXRvciB0byB1c2Ugd2hlbiBzb3J0aW5nIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNvcnRQYXJ0aWNpcGFudHNCeT86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD47XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBzdG9yZSBvZiB0aGUgY2xpZW50XG4gICAqL1xuICBjbGllbnRTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xufTtcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBDYWxsLmpvaW59IG1ldGhvZC5cbiAqL1xuZXhwb3J0IHR5cGUgSm9pbkNhbGxEYXRhID0gT21pdDxKb2luQ2FsbFJlcXVlc3QsICdsb2NhdGlvbic+O1xuZXhwb3J0IHsgQXhpb3NFcnJvciB9O1xuIiwiLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbFwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB0eXBlIHtcbiAgUnBjT3B0aW9ucyxcbiAgUnBjVHJhbnNwb3J0LFxuICBTZXJ2aWNlSW5mbyxcbiAgVW5hcnlDYWxsLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHsgc3RhY2tJbnRlcmNlcHQgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHR5cGUge1xuICBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgSUNFUmVzdGFydFJlc3BvbnNlLFxuICBJQ0VUcmlja2xlUmVzcG9uc2UsXG4gIFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICBTZW5kQW5zd2VyUmVzcG9uc2UsXG4gIFNlbmRTdGF0c1JlcXVlc3QsXG4gIFNlbmRTdGF0c1Jlc3BvbnNlLFxuICBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICBTZXRQdWJsaXNoZXJSZXNwb25zZSxcbiAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gIFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UsXG4gIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UsXG59IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB7IFNpZ25hbFNlcnZlciB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgSUNFVHJpY2tsZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIElTaWduYWxTZXJ2ZXJDbGllbnQge1xuICAvKipcbiAgICogU2V0UHVibGlzaGVyIHNlbmRzIHRoZSBXZWJSVEMgb2ZmZXIgZm9yIHRoZSBwZWVyIGNvbm5lY3Rpb24gdXNlZCB0byBwdWJsaXNoIEEvVlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZXRQdWJsaXNoZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2UpO1xuICAgKi9cbiAgc2V0UHVibGlzaGVyKFxuICAgIGlucHV0OiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2V0UHVibGlzaGVyUmVxdWVzdCwgU2V0UHVibGlzaGVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogYW5zd2VyIGlzIHNlbnQgYnkgdGhlIGNsaWVudCB0byB0aGUgU0ZVIGFmdGVyIHJlY2VpdmluZyBhIHN1YnNjcmliZXJfb2ZmZXIuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNlbmRBbnN3ZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZW5kQW5zd2VyKFxuICAgIGlucHV0OiBTZW5kQW5zd2VyUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+O1xuICAvKipcbiAgICogU2VuZElDRUNhbmRpZGF0ZSBzZW5kcyBhbiBJQ0UgY2FuZGlkYXRlIHRvIHRoZSBjbGllbnRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogSWNlVHJpY2tsZShzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlKSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VUcmlja2xlUmVzcG9uc2UpO1xuICAgKi9cbiAgaWNlVHJpY2tsZShcbiAgICBpbnB1dDogSUNFVHJpY2tsZSxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVRyaWNrbGUsIElDRVRyaWNrbGVSZXNwb25zZT47XG4gIC8qKlxuICAgKiBVcGRhdGVTdWJzY3JpYmVycyBpcyB1c2VkIHRvIG5vdGlmeSB0aGUgU0ZVIGFib3V0IHRoZSBsaXN0IG9mIHZpZGVvIHN1YnNjcmlwdGlvbnNcbiAgICogVE9ETzogc3luYyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHRoaXMgKyB1cGRhdGUgdHJhY2tzIHVzaW5nIHRoZSBkaW1lbnNpb24gaW5mbyBzZW50IGJ5IHRoZSB1c2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFVwZGF0ZVN1YnNjcmlwdGlvbnMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSk7XG4gICAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb25zKFxuICAgIGlucHV0OiBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LCBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlTXV0ZVN0YXRlcyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgaW5wdXQ6IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VSZXN0YXJ0KHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2UpO1xuICAgKi9cbiAgaWNlUmVzdGFydChcbiAgICBpbnB1dDogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNlbmRTdGF0cyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZSk7XG4gICAqL1xuICBzZW5kU3RhdHMoXG4gICAgaW5wdXQ6IFNlbmRTdGF0c1JlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZW5kU3RhdHNSZXF1ZXN0LCBTZW5kU3RhdHNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UpO1xuICAgKi9cbiAgc3RhcnROb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCwgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0b3BOb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY2xhc3MgU2lnbmFsU2VydmVyQ2xpZW50IGltcGxlbWVudHMgSVNpZ25hbFNlcnZlckNsaWVudCwgU2VydmljZUluZm8ge1xuICB0eXBlTmFtZSA9IFNpZ25hbFNlcnZlci50eXBlTmFtZTtcbiAgbWV0aG9kcyA9IFNpZ25hbFNlcnZlci5tZXRob2RzO1xuICBvcHRpb25zID0gU2lnbmFsU2VydmVyLm9wdGlvbnM7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX3RyYW5zcG9ydDogUnBjVHJhbnNwb3J0KSB7fVxuICAvKipcbiAgICogU2V0UHVibGlzaGVyIHNlbmRzIHRoZSBXZWJSVEMgb2ZmZXIgZm9yIHRoZSBwZWVyIGNvbm5lY3Rpb24gdXNlZCB0byBwdWJsaXNoIEEvVlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZXRQdWJsaXNoZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2UpO1xuICAgKi9cbiAgc2V0UHVibGlzaGVyKFxuICAgIGlucHV0OiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2V0UHVibGlzaGVyUmVxdWVzdCwgU2V0UHVibGlzaGVyUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMF0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogYW5zd2VyIGlzIHNlbnQgYnkgdGhlIGNsaWVudCB0byB0aGUgU0ZVIGFmdGVyIHJlY2VpdmluZyBhIHN1YnNjcmliZXJfb2ZmZXIuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNlbmRBbnN3ZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZW5kQW5zd2VyKFxuICAgIGlucHV0OiBTZW5kQW5zd2VyUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMV0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZW5kQW5zd2VyUmVxdWVzdCwgU2VuZEFuc3dlclJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kSUNFQ2FuZGlkYXRlIHNlbmRzIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VUcmlja2xlKHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZSk7XG4gICAqL1xuICBpY2VUcmlja2xlKFxuICAgIGlucHV0OiBJQ0VUcmlja2xlLFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzJdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVTdWJzY3JpYmVycyBpcyB1c2VkIHRvIG5vdGlmeSB0aGUgU0ZVIGFib3V0IHRoZSBsaXN0IG9mIHZpZGVvIHN1YnNjcmlwdGlvbnNcbiAgICogVE9ETzogc3luYyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHRoaXMgKyB1cGRhdGUgdHJhY2tzIHVzaW5nIHRoZSBkaW1lbnNpb24gaW5mbyBzZW50IGJ5IHRoZSB1c2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFVwZGF0ZVN1YnNjcmlwdGlvbnMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSk7XG4gICAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb25zKFxuICAgIGlucHV0OiBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LCBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbM10sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxcbiAgICAgIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAgPigndW5hcnknLCB0aGlzLl90cmFuc3BvcnQsIG1ldGhvZCwgb3B0LCBpbnB1dCk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFVwZGF0ZU11dGVTdGF0ZXMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSk7XG4gICAqL1xuICB1cGRhdGVNdXRlU3RhdGVzKFxuICAgIGlucHV0OiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNF0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VSZXN0YXJ0KHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2UpO1xuICAgKi9cbiAgaWNlUmVzdGFydChcbiAgICBpbnB1dDogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzVdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8SUNFUmVzdGFydFJlcXVlc3QsIElDRVJlc3RhcnRSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZFN0YXRzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRTdGF0cyhcbiAgICBpbnB1dDogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRTdGF0c1JlcXVlc3QsIFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzZdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8U2VuZFN0YXRzUmVxdWVzdCwgU2VuZFN0YXRzUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uKFxuICAgIGlucHV0OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbN10sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxcbiAgICAgIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gICAgPigndW5hcnknLCB0aGlzLl90cmFuc3BvcnQsIG1ldGhvZCwgb3B0LCBpbnB1dCk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0b3BOb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s4XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gICAgPigndW5hcnknLCB0aGlzLl90cmFuc3BvcnQsIG1ldGhvZCwgb3B0LCBpbnB1dCk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIE1ldGhvZEluZm8sXG4gIE5leHRVbmFyeUZuLFxuICBScGNJbnRlcmNlcHRvcixcbiAgUnBjT3B0aW9ucyxcbiAgVW5hcnlDYWxsLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHtcbiAgVHdpcnBGZXRjaFRyYW5zcG9ydCxcbiAgVHdpcnBPcHRpb25zLFxufSBmcm9tICdAcHJvdG9idWYtdHMvdHdpcnAtdHJhbnNwb3J0JztcbmltcG9ydCB7IFNpZ25hbFNlcnZlckNsaWVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwuY2xpZW50JztcbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgVHJhY2UgfSBmcm9tICcuLi9zdGF0cyc7XG5pbXBvcnQgdHlwZSB7IFNmdVJlc3BvbnNlV2l0aEVycm9yIH0gZnJvbSAnLi9yZXRyeWFibGUnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogVHdpcnBPcHRpb25zID0ge1xuICBiYXNlVXJsOiAnJyxcbiAgc2VuZEpzb246IHRydWUsXG4gIHRpbWVvdXQ6IDUgKiAxMDAwLCAvLyBtcy5cbiAganNvbk9wdGlvbnM6IHtcbiAgICBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhIZWFkZXJzID0gKFxuICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogUnBjSW50ZXJjZXB0b3IgPT4ge1xuICByZXR1cm4ge1xuICAgIGludGVyY2VwdFVuYXJ5KFxuICAgICAgbmV4dDogTmV4dFVuYXJ5Rm4sXG4gICAgICBtZXRob2Q6IE1ldGhvZEluZm8sXG4gICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgb3B0aW9uczogUnBjT3B0aW9ucyxcbiAgICApOiBVbmFyeUNhbGwge1xuICAgICAgb3B0aW9ucy5tZXRhID0geyAuLi5vcHRpb25zLm1ldGEsIC4uLmhlYWRlcnMgfTtcbiAgICAgIHJldHVybiBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgd2l0aFJlcXVlc3RMb2dnZXIgPSAoXG4gIGxvZ2dlcjogTG9nZ2VyLFxuICBsZXZlbDogTG9nTGV2ZWwsXG4pOiBScGNJbnRlcmNlcHRvciA9PiB7XG4gIHJldHVybiB7XG4gICAgaW50ZXJjZXB0VW5hcnk6IChcbiAgICAgIG5leHQ6IE5leHRVbmFyeUZuLFxuICAgICAgbWV0aG9kOiBNZXRob2RJbmZvLFxuICAgICAgaW5wdXQ6IG9iamVjdCxcbiAgICAgIG9wdGlvbnM6IFJwY09wdGlvbnMsXG4gICAgKTogVW5hcnlDYWxsID0+IHtcbiAgICAgIGNvbnN0IGludm9jYXRpb24gPSBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgbG9nZ2VyKGxldmVsLCBgSW52b2tlZCBTRlUgUlBDIG1ldGhvZCAke21ldGhvZC5uYW1lfWAsIHtcbiAgICAgICAgcmVxdWVzdDogaW52b2NhdGlvbi5yZXF1ZXN0LFxuICAgICAgICBoZWFkZXJzOiBpbnZvY2F0aW9uLnJlcXVlc3RIZWFkZXJzLFxuICAgICAgICByZXNwb25zZTogaW52b2NhdGlvbi5yZXNwb25zZSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaW52b2NhdGlvbjtcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhSZXF1ZXN0VHJhY2VyID0gKHRyYWNlOiBUcmFjZSk6IFJwY0ludGVyY2VwdG9yID0+IHtcbiAgdHlwZSBScGNNZXRob2ROYW1lcyA9IHtcbiAgICBbSyBpbiBrZXlvZiBTaWduYWxTZXJ2ZXJDbGllbnQgYXMgQ2FwaXRhbGl6ZTxLPl06IGJvb2xlYW47XG4gIH07XG5cbiAgY29uc3QgdHJhY2VFcnJvciA9IChuYW1lOiBzdHJpbmcsIGlucHV0OiBvYmplY3QsIGVycjogdW5rbm93bikgPT5cbiAgICB0cmFjZShgJHtuYW1lfU9uRmFpbHVyZWAsIFtlcnIsIGlucHV0XSk7XG5cbiAgY29uc3QgZXhjbHVzaW9uczogUmVjb3JkPHN0cmluZywgYm9vbGVhbiB8IHVuZGVmaW5lZD4gPSB7XG4gICAgU2VuZFN0YXRzOiB0cnVlLFxuICB9IHNhdGlzZmllcyBQYXJ0aWFsPFJwY01ldGhvZE5hbWVzPjtcbiAgcmV0dXJuIHtcbiAgICBpbnRlcmNlcHRVbmFyeShcbiAgICAgIG5leHQ6IE5leHRVbmFyeUZuLFxuICAgICAgbWV0aG9kOiBNZXRob2RJbmZvLFxuICAgICAgaW5wdXQ6IG9iamVjdCxcbiAgICAgIG9wdGlvbnM6IFJwY09wdGlvbnMsXG4gICAgKTogVW5hcnlDYWxsIHtcbiAgICAgIGlmIChleGNsdXNpb25zW21ldGhvZC5uYW1lIGFzIGtleW9mIFJwY01ldGhvZE5hbWVzXSkge1xuICAgICAgICByZXR1cm4gbmV4dChtZXRob2QsIGlucHV0LCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgdHJhY2UobWV0aG9kLm5hbWUsIGlucHV0KTtcbiAgICAgIGNvbnN0IHVuYXJ5Q2FsbCA9IG5leHQobWV0aG9kLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgICB1bmFyeUNhbGwudGhlbihcbiAgICAgICAgKGludm9jYXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBlcnIgPSAoaW52b2NhdGlvbi5yZXNwb25zZSBhcyBTZnVSZXNwb25zZVdpdGhFcnJvcik/LmVycm9yO1xuICAgICAgICAgIGlmIChlcnIpIHRyYWNlRXJyb3IobWV0aG9kLm5hbWUsIGlucHV0LCBlcnIpO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB0cmFjZUVycm9yKG1ldGhvZC5uYW1lLCBpbnB1dCwgZXJyKSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdW5hcnlDYWxsO1xuICAgIH0sXG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IFNpZ25hbFNlcnZlckNsaWVudCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgdHdpcnAgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNpZ25hbENsaWVudCA9IChvcHRpb25zPzogVHdpcnBPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBUd2lycEZldGNoVHJhbnNwb3J0KHtcbiAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAuLi5vcHRpb25zLFxuICB9KTtcblxuICByZXR1cm4gbmV3IFNpZ25hbFNlcnZlckNsaWVudCh0cmFuc3BvcnQpO1xufTtcbiIsImltcG9ydCB0eXBlIHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB0eXBlIHsgQVBJRXJyb3JSZXNwb25zZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb25uZWN0aW9uRXJyb3JFdmVudCB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCBjb25zdCBzbGVlcCA9IChtOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIG0pKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb248VD4odmFsdWU6IEZ1bmN0aW9uIHwgVCk6IHZhbHVlIGlzIEZ1bmN0aW9uIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSAmJlxuICAgIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8XG4gICAgICAnZnVuY3Rpb24nID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgIHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pXG4gICk7XG59XG5cbi8qKlxuICogQSBtYXAgb2Yga25vd24gZXJyb3IgY29kZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBLbm93bkNvZGVzID0ge1xuICBUT0tFTl9FWFBJUkVEOiA0MCxcbiAgV1NfQ0xPU0VEX1NVQ0NFU1M6IDEwMDAsXG59O1xuXG4vKipcbiAqIHJldHJ5SW50ZXJ2YWwgLSBBIHJldHJ5IGludGVydmFsIHdoaWNoIGluY3JlYXNlcyBhY2MgdG8gbnVtYmVyIG9mIGZhaWx1cmVzXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBEdXJhdGlvbiB0byB3YWl0IGluIG1pbGxpc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0cnlJbnRlcnZhbChudW1iZXJPZkZhaWx1cmVzOiBudW1iZXIpOiBudW1iZXIge1xuICAvLyB0cnkgdG8gcmVjb25uZWN0IGluIDAuMjUtNSBzZWNvbmRzIChyYW5kb20gdG8gc3ByZWFkIG91dCB0aGUgbG9hZCBmcm9tIGZhaWx1cmVzKVxuICBjb25zdCBtYXggPSBNYXRoLm1pbig1MDAgKyBudW1iZXJPZkZhaWx1cmVzICogMjAwMCwgNTAwMCk7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKE1hdGgubWF4KDI1MCwgKG51bWJlck9mRmFpbHVyZXMgLSAxKSAqIDIwMDApLCA1MDAwKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbn1cblxuZnVuY3Rpb24gaGV4KGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgbGV0IHMgPSAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgIHMgKz0gYnl0ZXNbaV0udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5cbi8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MTIyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEdjQoKSB7XG4gIGNvbnN0IGJ5dGVzID0gZ2V0UmFuZG9tQnl0ZXMoMTYpO1xuICBieXRlc1s2XSA9IChieXRlc1s2XSAmIDB4MGYpIHwgMHg0MDsgLy8gdmVyc2lvblxuICBieXRlc1s4XSA9IChieXRlc1s4XSAmIDB4YmYpIHwgMHg4MDsgLy8gdmFyaWFudFxuXG4gIHJldHVybiBbXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDAsIDQpKSxcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoNCwgNikpLFxuICAgIGhleChieXRlcy5zdWJhcnJheSg2LCA4KSksXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDgsIDEwKSksXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDEwLCAxNikpLFxuICBdLmpvaW4oJy0nKTtcbn1cblxuY29uc3QgZ2V0UmFuZG9tVmFsdWVzID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tKGJ5dGVzOiBVaW50OEFycmF5KTogdm9pZCB7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5wb3coMiwgKDggKiBieXRlcy5ieXRlTGVuZ3RoKSAvIGJ5dGVzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgYnl0ZXNbaV0gPSBNYXRoLnJhbmRvbSgpICogbWF4O1xuICAgIH1cbiAgfTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUJ5dGVzKGxlbmd0aDogbnVtYmVyKTogVWludDhBcnJheSB7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzKTtcbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG4vKipcbiAqIGxpc3RlbkZvckNvbm5lY3Rpb25DaGFuZ2VzIC0gQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmaXJlZCBvbiBicm93c2VyIGdvaW5nIG9ubGluZSBvciBvZmZsaW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMoY2I6IChlOiBFdmVudCkgPT4gdm9pZCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMoY2I6IChlOiBFdmVudCkgPT4gdm9pZCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yUmVzcG9uc2UoXG4gIHJlczogQXhpb3NSZXNwb25zZTx1bmtub3duPixcbik6IHJlcyBpcyBBeGlvc1Jlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+IHtcbiAgcmV0dXJuICFyZXMuc3RhdHVzIHx8IHJlcy5zdGF0dXMgPCAyMDAgfHwgMzAwIDw9IHJlcy5zdGF0dXM7XG59XG5cbi8vIFR5cGUgZ3VhcmRzIHRvIGNoZWNrIFdlYlNvY2tldCBlcnJvciB0eXBlXG5leHBvcnQgZnVuY3Rpb24gaXNDbG9zZUV2ZW50KFxuICByZXM6IENsb3NlRXZlbnQgfCBDb25uZWN0aW9uRXJyb3JFdmVudCxcbik6IHJlcyBpcyBDbG9zZUV2ZW50IHtcbiAgcmV0dXJuIChyZXMgYXMgQ2xvc2VFdmVudCkuY29kZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwiLyoqXG4gKiBDaGVja3Mgd2hldGhlciB3ZSBhcmUgdXNpbmcgUmVhY3QgTmF0aXZlXG4gKi9cbmV4cG9ydCBjb25zdCBpc1JlYWN0TmF0aXZlID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIG5hdmlnYXRvci5wcm9kdWN0Py50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnO1xufTtcbiIsImltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4vaGVscGVycy9wbGF0Zm9ybXMnO1xuXG4vLyBsb2cgbGV2ZWxzLCBzb3J0ZWQgYnkgdmVyYm9zaXR5XG5leHBvcnQgY29uc3QgbG9nTGV2ZWxzOiBSZWNvcmQ8TG9nTGV2ZWwsIG51bWJlcj4gPSBPYmplY3QuZnJlZXplKHtcbiAgdHJhY2U6IDAsXG4gIGRlYnVnOiAxLFxuICBpbmZvOiAyLFxuICB3YXJuOiAzLFxuICBlcnJvcjogNCxcbn0pO1xuXG5sZXQgbG9nZ2VyOiBMb2dnZXIgfCB1bmRlZmluZWQ7XG5sZXQgbGV2ZWw6IExvZ0xldmVsID0gJ2luZm8nO1xuXG5leHBvcnQgY29uc3QgbG9nVG9Db25zb2xlOiBMb2dnZXIgPSAobG9nTGV2ZWwsIG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgbGV0IGxvZ01ldGhvZDtcbiAgc3dpdGNoIChsb2dMZXZlbCkge1xuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgbWVzc2FnZSA9IGBFUlJPUjogJHttZXNzYWdlfWA7XG4gICAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmVycm9yO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnd2Fybic6XG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgV0FSTjogJHttZXNzYWdlfWA7XG4gICAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLndhcm47XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbmZvJzpcbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuaW5mbztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RyYWNlJzpcbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUudHJhY2U7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5sb2c7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxvZ01ldGhvZChtZXNzYWdlLCAuLi5hcmdzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRMb2dnZXIgPSAobDogTG9nZ2VyLCBsdmw/OiBMb2dMZXZlbCkgPT4ge1xuICBsb2dnZXIgPSBsO1xuICBpZiAobHZsKSB7XG4gICAgc2V0TG9nTGV2ZWwobHZsKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNldExvZ0xldmVsID0gKGw6IExvZ0xldmVsKSA9PiB7XG4gIGxldmVsID0gbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRMb2dMZXZlbCA9ICgpOiBMb2dMZXZlbCA9PiBsZXZlbDtcblxuZXhwb3J0IGNvbnN0IGdldExvZ2dlciA9ICh3aXRoVGFncz86IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IGxvZ2dlck1ldGhvZCA9IGxvZ2dlciB8fCBsb2dUb0NvbnNvbGU7XG4gIGNvbnN0IHRhZ3MgPSAod2l0aFRhZ3MgfHwgW10pLmZpbHRlcihCb29sZWFuKS5qb2luKCc6Jyk7XG4gIGNvbnN0IHJlc3VsdDogTG9nZ2VyID0gKGxvZ0xldmVsLCBtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gICAgaWYgKGxvZ0xldmVsc1tsb2dMZXZlbF0gPj0gbG9nTGV2ZWxzW2xldmVsXSkge1xuICAgICAgbG9nZ2VyTWV0aG9kKGxvZ0xldmVsLCBgWyR7dGFnc31dOiAke21lc3NhZ2V9YCwgLi4uYXJncyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsImltcG9ydCB7XG4gIEZpbmlzaGVkVW5hcnlDYWxsLFxuICBScGNFcnJvcixcbiAgVW5hcnlDYWxsLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHsgVHdpcnBFcnJvckNvZGUgfSBmcm9tICdAcHJvdG9idWYtdHMvdHdpcnAtdHJhbnNwb3J0JztcbmltcG9ydCB7IHJldHJ5SW50ZXJ2YWwsIHNsZWVwIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBFcnJvciBhcyBTZnVFcnJvciB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG4vKipcbiAqIEFuIGludGVybmFsIGludGVyZmFjZSB3aGljaCBhc3NlcnRzIHRoYXQgXCJyZXRyeWFibGVcIiBTRlUgcmVzcG9uc2VzXG4gKiBjb250YWluIGEgZmllbGQgY2FsbGVkIFwiZXJyb3JcIi5cbiAqIElkZWFsbHksIHRoaXMgc2hvdWxkIGJlIGNvbWluZyBmcm9tIHRoZSBQcm90b2J1ZiBkZWZpbml0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZnVSZXNwb25zZVdpdGhFcnJvciB7XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBlcnJvciBmaWVsZCB3aGljaCBzaG91bGQgYmUgcHJlc2VudCBpbiBhbGwgU0ZVIHJlc3BvbnNlcy5cbiAgICovXG4gIGVycm9yPzogU2Z1RXJyb3I7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb3N1cmUgd2hpY2ggd3JhcHMgdGhlIGdpdmVuIFJQQyBjYWxsIGFuZCByZXRyaWVzIGludm9raW5nXG4gKiB0aGUgUlBDIHVudGlsIGl0IHN1Y2NlZWRzIG9yIHRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIGlzIHJlYWNoZWQuXG4gKlxuICogRm9yIGVhY2ggcmV0cnksIHRoZXJlIHdvdWxkIGJlIGEgZGVsYXkgdG8gYXZvaWQgcmVxdWVzdCBidXJzdHMgdG93YXJkIHRoZSBTRlUuXG4gKlxuICogQHBhcmFtIHJwYyB0aGUgY2xvc3VyZSBhcm91bmQgdGhlIFJQQyBjYWxsIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0gc2lnbmFsIHRoZSBzaWduYWwgdG8gYWJvcnQgdGhlIFJQQyBjYWxsIGFuZCByZXRyaWVzIGxvb3AuXG4gKi9cbmV4cG9ydCBjb25zdCByZXRyeWFibGUgPSBhc3luYyA8XG4gIEkgZXh0ZW5kcyBvYmplY3QsXG4gIE8gZXh0ZW5kcyBTZnVSZXNwb25zZVdpdGhFcnJvcixcbj4oXG4gIHJwYzogKCkgPT4gVW5hcnlDYWxsPEksIE8+LFxuICBzaWduYWw/OiBBYm9ydFNpZ25hbCxcbik6IFByb21pc2U8RmluaXNoZWRVbmFyeUNhbGw8SSwgTz4+ID0+IHtcbiAgbGV0IGF0dGVtcHQgPSAwO1xuICBsZXQgcmVzdWx0OiBGaW5pc2hlZFVuYXJ5Q2FsbDxJLCBPPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgZG8ge1xuICAgIGlmIChhdHRlbXB0ID4gMCkgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbChhdHRlbXB0KSk7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHJwYygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgaXNSZXF1ZXN0Q2FuY2VsbGVkID1cbiAgICAgICAgZXJyIGluc3RhbmNlb2YgUnBjRXJyb3IgJiZcbiAgICAgICAgZXJyLmNvZGUgPT09IFR3aXJwRXJyb3JDb2RlW1R3aXJwRXJyb3JDb2RlLmNhbmNlbGxlZF07XG4gICAgICBjb25zdCBpc0Fib3J0ZWQgPSBzaWduYWw/LmFib3J0ZWQgPz8gZmFsc2U7XG4gICAgICBpZiAoaXNSZXF1ZXN0Q2FuY2VsbGVkIHx8IGlzQWJvcnRlZCkgdGhyb3cgZXJyO1xuICAgICAgZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCcsICdycGMnXSkoJ2RlYnVnJywgYHJwYyBmYWlsZWQgKCR7YXR0ZW1wdH0pYCwgZXJyKTtcbiAgICAgIGF0dGVtcHQrKztcbiAgICB9XG4gIH0gd2hpbGUgKCFyZXN1bHQgfHwgcmVzdWx0LnJlc3BvbnNlLmVycm9yPy5zaG91bGRSZXRyeSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIvKipcbiAqIFJldHVybnMgYSBnZW5lcmljIFNEUCBmb3IgdGhlIGdpdmVuIGRpcmVjdGlvbi5cbiAqIFdlIHVzZSB0aGlzIFNEUCB0byBzZW5kIGl0IGFzIHBhcnQgb2Ygb3VyIEpvaW5SZXF1ZXN0IHNvIHRoYXQgdGhlIFNGVVxuICogY2FuIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNsaWVudCdzIGNvZGVjIGNhcGFiaWxpdGllcy5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aW9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHRyYW5zY2VpdmVyLlxuICovXG5leHBvcnQgY29uc3QgZ2V0R2VuZXJpY1NkcCA9IGFzeW5jIChkaXJlY3Rpb246IFJUQ1J0cFRyYW5zY2VpdmVyRGlyZWN0aW9uKSA9PiB7XG4gIGNvbnN0IHRlbXBQYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xuICB0ZW1wUGMuYWRkVHJhbnNjZWl2ZXIoJ3ZpZGVvJywgeyBkaXJlY3Rpb24gfSk7XG4gIHRlbXBQYy5hZGRUcmFuc2NlaXZlcignYXVkaW8nLCB7IGRpcmVjdGlvbiB9KTtcblxuICBjb25zdCBvZmZlciA9IGF3YWl0IHRlbXBQYy5jcmVhdGVPZmZlcigpO1xuICBjb25zdCBzZHAgPSBvZmZlci5zZHAgPz8gJyc7XG5cbiAgdGVtcFBjLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2goKHQpID0+IHtcbiAgICB0LnN0b3A/LigpO1xuICB9KTtcbiAgdGVtcFBjLmNsb3NlKCk7XG4gIHJldHVybiBzZHA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgY29kZWMgaXMgYW4gU1ZDIGNvZGVjLlxuICpcbiAqIEBwYXJhbSBjb2RlY09yTWltZVR5cGUgdGhlIGNvZGVjIHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaXNTdmNDb2RlYyA9IChjb2RlY09yTWltZVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAoIWNvZGVjT3JNaW1lVHlwZSkgcmV0dXJuIGZhbHNlO1xuICBjb2RlY09yTWltZVR5cGUgPSBjb2RlY09yTWltZVR5cGUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIChcbiAgICBjb2RlY09yTWltZVR5cGUgPT09ICd2cDknIHx8XG4gICAgY29kZWNPck1pbWVUeXBlID09PSAnYXYxJyB8fFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZpZGVvL3ZwOScgfHxcbiAgICBjb2RlY09yTWltZVR5cGUgPT09ICd2aWRlby9hdjEnXG4gICk7XG59O1xuIiwiaW1wb3J0IHsgQ2FsbEV2ZW50TGlzdGVuZXIsIEV2ZW50VHlwZXMgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgU2Z1RXZlbnQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5leHBvcnQgdHlwZSBTZnVFdmVudEtpbmRzID0gTm9uTnVsbGFibGU8U2Z1RXZlbnRbJ2V2ZW50UGF5bG9hZCddWydvbmVvZktpbmQnXT47XG5leHBvcnQgdHlwZSBBbGxTZnVFdmVudHMgPSB7XG4gIFtLIGluIFNmdUV2ZW50S2luZHNdOiBLIGV4dGVuZHMga2V5b2YgRXh0cmFjdDxcbiAgICBTZnVFdmVudFsnZXZlbnRQYXlsb2FkJ10sXG4gICAgeyBvbmVvZktpbmQ6IEsgfVxuICA+XG4gICAgPyBFeHRyYWN0PFNmdUV2ZW50WydldmVudFBheWxvYWQnXSwgeyBvbmVvZktpbmQ6IEsgfT5bS11cbiAgICA6IG5ldmVyO1xufTtcblxuZXhwb3J0IHR5cGUgRGlzcGF0Y2hhYmxlTWVzc2FnZTxLIGV4dGVuZHMgU2Z1RXZlbnRLaW5kcz4gPSB7XG4gIGV2ZW50UGF5bG9hZDoge1xuICAgIG9uZW9mS2luZDogSztcbiAgfSAmIHtcbiAgICBbS2V5IGluIEtdOiBBbGxTZnVFdmVudHNbS2V5XTtcbiAgfTtcbn07XG5cbmNvbnN0IHNmdUV2ZW50S2luZHM6IFJlY29yZDxTZnVFdmVudEtpbmRzLCB1bmRlZmluZWQ+ID0ge1xuICBzdWJzY3JpYmVyT2ZmZXI6IHVuZGVmaW5lZCxcbiAgcHVibGlzaGVyQW5zd2VyOiB1bmRlZmluZWQsXG4gIGNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDogdW5kZWZpbmVkLFxuICBhdWRpb0xldmVsQ2hhbmdlZDogdW5kZWZpbmVkLFxuICBpY2VUcmlja2xlOiB1bmRlZmluZWQsXG4gIGNoYW5nZVB1Ymxpc2hRdWFsaXR5OiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50Sm9pbmVkOiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50TGVmdDogdW5kZWZpbmVkLFxuICBkb21pbmFudFNwZWFrZXJDaGFuZ2VkOiB1bmRlZmluZWQsXG4gIGpvaW5SZXNwb25zZTogdW5kZWZpbmVkLFxuICBoZWFsdGhDaGVja1Jlc3BvbnNlOiB1bmRlZmluZWQsXG4gIHRyYWNrUHVibGlzaGVkOiB1bmRlZmluZWQsXG4gIHRyYWNrVW5wdWJsaXNoZWQ6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgY2FsbEdyYW50c1VwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgZ29Bd2F5OiB1bmRlZmluZWQsXG4gIGljZVJlc3RhcnQ6IHVuZGVmaW5lZCxcbiAgcGluc1VwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgY2FsbEVuZGVkOiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50VXBkYXRlZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlOiB1bmRlZmluZWQsXG4gIGNoYW5nZVB1Ymxpc2hPcHRpb25zOiB1bmRlZmluZWQsXG4gIGluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbjogdW5kZWZpbmVkLFxufTtcblxuZXhwb3J0IGNvbnN0IGlzU2Z1RXZlbnQgPSAoXG4gIGV2ZW50TmFtZTogU2Z1RXZlbnRLaW5kcyB8IEV2ZW50VHlwZXMsXG4pOiBldmVudE5hbWUgaXMgU2Z1RXZlbnRLaW5kcyA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2Z1RXZlbnRLaW5kcywgZXZlbnROYW1lKTtcbn07XG5cbmV4cG9ydCBjbGFzcyBEaXNwYXRjaGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXIgPSBnZXRMb2dnZXIoWydEaXNwYXRjaGVyJ10pO1xuICBwcml2YXRlIHN1YnNjcmliZXJzOiBQYXJ0aWFsPFxuICAgIFJlY29yZDxTZnVFdmVudEtpbmRzLCBDYWxsRXZlbnRMaXN0ZW5lcjxhbnk+W10gfCB1bmRlZmluZWQ+XG4gID4gPSB7fTtcblxuICBkaXNwYXRjaCA9IDxLIGV4dGVuZHMgU2Z1RXZlbnRLaW5kcz4oXG4gICAgbWVzc2FnZTogRGlzcGF0Y2hhYmxlTWVzc2FnZTxLPixcbiAgICB0YWc6IHN0cmluZyA9ICcwJyxcbiAgKSA9PiB7XG4gICAgY29uc3QgZXZlbnRLaW5kID0gbWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kO1xuICAgIGlmICghZXZlbnRLaW5kKSByZXR1cm47XG4gICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UuZXZlbnRQYXlsb2FkW2V2ZW50S2luZF07XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYERpc3BhdGNoaW5nICR7ZXZlbnRLaW5kfSwgdGFnPSR7dGFnfWAsIHBheWxvYWQpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRLaW5kXTtcbiAgICBpZiAoIWxpc3RlbmVycykgcmV0dXJuO1xuICAgIGZvciAoY29uc3QgZm4gb2YgbGlzdGVuZXJzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBmbihwYXlsb2FkKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnTGlzdGVuZXIgZmFpbGVkIHdpdGggZXJyb3InLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbFNmdUV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA/Pz0gW10pLnB1c2goZm4gYXMgbmV2ZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsU2Z1RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSAodGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoXG4gICAgICAoZikgPT4gZiAhPT0gZm4sXG4gICAgKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElDRVRyaWNrbGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG4vKipcbiAqIEEgYnVmZmVyIGZvciBJQ0UgQ2FuZGlkYXRlcy4gVXNlZCBmb3IgSUNFIFRyaWNrbGU6XG4gKiAtIGh0dHBzOi8vYmxvZ2dlZWsubWUvd2VicnRjZ2xvc3NhcnkvdHJpY2tsZS1pY2UvXG4gKi9cbmV4cG9ydCBjbGFzcyBJY2VUcmlja2xlQnVmZmVyIHtcbiAgcmVhZG9ubHkgc3Vic2NyaWJlckNhbmRpZGF0ZXMgPSBuZXcgUmVwbGF5U3ViamVjdDxSVENJY2VDYW5kaWRhdGVJbml0PigpO1xuICByZWFkb25seSBwdWJsaXNoZXJDYW5kaWRhdGVzID0gbmV3IFJlcGxheVN1YmplY3Q8UlRDSWNlQ2FuZGlkYXRlSW5pdD4oKTtcblxuICBwdXNoID0gKGljZVRyaWNrbGU6IElDRVRyaWNrbGUpID0+IHtcbiAgICBjb25zdCBpY2VDYW5kaWRhdGUgPSB0b0ljZUNhbmRpZGF0ZShpY2VUcmlja2xlKTtcbiAgICBpZiAoIWljZUNhbmRpZGF0ZSkgcmV0dXJuO1xuXG4gICAgaWYgKGljZVRyaWNrbGUucGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlckNhbmRpZGF0ZXMubmV4dChpY2VDYW5kaWRhdGUpO1xuICAgIH0gZWxzZSBpZiAoaWNlVHJpY2tsZS5wZWVyVHlwZSA9PT0gUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVEKSB7XG4gICAgICB0aGlzLnB1Ymxpc2hlckNhbmRpZGF0ZXMubmV4dChpY2VDYW5kaWRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzZnUtY2xpZW50J10pO1xuICAgICAgbG9nZ2VyKCd3YXJuJywgYElDRVRyaWNrbGUsIFVua25vd24gcGVlciB0eXBlYCwgaWNlVHJpY2tsZSk7XG4gICAgfVxuICB9O1xuXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpYmVyQ2FuZGlkYXRlcy5jb21wbGV0ZSgpO1xuICAgIHRoaXMucHVibGlzaGVyQ2FuZGlkYXRlcy5jb21wbGV0ZSgpO1xuICB9O1xufVxuXG5jb25zdCB0b0ljZUNhbmRpZGF0ZSA9IChcbiAgaWNlVHJpY2tsZTogSUNFVHJpY2tsZSxcbik6IFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGljZVRyaWNrbGUuaWNlQ2FuZGlkYXRlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ3NmdS1jbGllbnQnXSk7XG4gICAgbG9nZ2VyKCdlcnJvcicsIGBGYWlsZWQgdG8gcGFyc2UgSUNFIFRyaWNrbGVgLCBlLCBpY2VUcmlja2xlKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuIiwiaW50ZXJmYWNlIFBlbmRpbmdQcm9taXNlIHtcbiAgcHJvbWlzZTogUHJvbWlzZTx1bmtub3duPjtcbiAgb25Db250aW51ZWQ6ICgpID0+IHZvaWQ7XG59XG5cbnR5cGUgQXN5bmNXcmFwcGVyPFAgZXh0ZW5kcyB1bmtub3duW10sIFQ+ID0gKFxuICB0YWc6IHN0cmluZyB8IHN5bWJvbCxcbiAgY2I6ICguLi5hcmdzOiBQKSA9PiBQcm9taXNlPFQ+LFxuKSA9PiB7XG4gIGNiOiAoKSA9PiBQcm9taXNlPFQ+O1xuICBvbkNvbnRpbnVlZDogKCkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogUnVucyBhc3luYyBmdW5jdGlvbnMgc2VyaWFsbHkuIFVzZWZ1bCBmb3Igd3JhcHBpbmcgYXN5bmMgYWN0aW9ucyB0aGF0XG4gKiBzaG91bGQgbmV2ZXIgcnVuIHNpbXVsdGFuZW91c2x5OiBpZiBtYXJrZWQgd2l0aCB0aGUgc2FtZSB0YWcsIGZ1bmN0aW9uc1xuICogd2lsbCBydW4gb25lIGFmdGVyIGFub3RoZXIuXG4gKlxuICogQHBhcmFtIHRhZyBBc3luYyBmdW5jdGlvbnMgd2l0aCB0aGUgc2FtZSB0YWcgd2lsbCBydW4gc2VyaWFsbHkuIEFzeW5jIGZ1bmN0aW9uc1xuICogd2l0aCBkaWZmZXJlbnQgdGFncyBjYW4gcnVuIGluIHBhcmFsbGVsLlxuICogQHBhcmFtIGNiIEFzeW5jIGZ1bmN0aW9uIHRvIHJ1bi5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFzeW5jIGZ1bmN0aW9ucyByZXR1cm5zLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aG91dENvbmN1cnJlbmN5ID0gY3JlYXRlUnVubmVyKHdyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmcpO1xuXG4vKipcbiAqIFJ1bnMgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LCBhbmQgY2FuY2VscyBhbGwgb3RoZXIgYWN0aW9ucyB3aXRoIHRoZSBzYW1lIHRhZ1xuICogd2hlbiBhIG5ldyBhY3Rpb24gaXMgc2NoZWR1bGVkLiBVc2VmdWwgZm9yIHdyYXBwaW5nIGFzeW5jIGFjdGlvbnMgdGhhdCBvdmVycmlkZVxuICogZWFjaCBvdGhlciAoZS5nLiBlbmFibGluZyBhbmQgZGlzYWJsaW5nIGNhbWVyYSkuXG4gKlxuICogSWYgYW4gYXN5bmMgZnVuY3Rpb24gaGFzbid0IHN0YXJ0ZWQgeWV0IGFuZCB3YXMgY2FuY2VsZWQsIGl0IHdpbGwgbmV2ZXIgcnVuLlxuICogSWYgYW4gYXN5bmMgZnVuY3Rpb24gaXMgYWxyZWFkeSBydW5uaW5nIGFuZCB3YXMgY2FuY2VsZWQsIGl0IHdpbGwgYmUgbm90aWZpZWRcbiAqIHZpYSBhbiBhYm9ydCBzaWduYWwgcGFzc2VkIGFzIGFuIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB0YWcgQXN5bmMgZnVuY3Rpb25zIHdpdGggdGhlIHNhbWUgdGFnIHdpbGwgcnVuIHNlcmlhbGx5IGFuZCBhcmUgY2FuY2VsZWRcbiAqIHdoZW4gYSBuZXcgYWN0aW9uIHdpdGggdGhlIHNhbWUgdGFnIGlzIHNjaGVkdWxlZC5cbiAqIEBwYXJhbSBjYiBBc3luYyBmdW5jdGlvbiB0byBydW4uIFJlY2VpdmVzIEFib3J0U2lnbmFsIGFzIHRoZSBvbmx5IGFyZ3VtZW50LlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYXN5bmMgZnVuY3Rpb25zIHJldHVybnMuIElmIHRoZSBmdW5jdGlvbiBkaWRuJ3RcbiAqIHN0YXJ0IGFuZCB3YXMgY2FuY2VsZWQsIHdpbGwgcmVzb2x2ZSB3aXRoICdjYW5jZWxlZCcuIElmIHRoZSBmdW5jdGlvbiBzdGFydGVkIHRvIHJ1bixcbiAqIGl0J3MgdXAgdG8gdGhlIGZ1bmN0aW9uIHRvIGRlY2lkZSBob3cgdG8gcmVhY3QgdG8gY2FuY2VsYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoQ2FuY2VsbGF0aW9uID0gY3JlYXRlUnVubmVyKHdyYXBXaXRoQ2FuY2VsbGF0aW9uKTtcblxuY29uc3QgcGVuZGluZ1Byb21pc2VzID0gbmV3IE1hcDxzdHJpbmcgfCBzeW1ib2wsIFBlbmRpbmdQcm9taXNlPigpO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzUGVuZGluZyh0YWc6IHN0cmluZyB8IHN5bWJvbCkge1xuICByZXR1cm4gcGVuZGluZ1Byb21pc2VzLmhhcyh0YWcpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0dGxlZCh0YWc6IHN0cmluZyB8IHN5bWJvbCkge1xuICBsZXQgcGVuZGluZzogUGVuZGluZ1Byb21pc2UgfCB1bmRlZmluZWQ7XG4gIHdoaWxlICgocGVuZGluZyA9IHBlbmRpbmdQcm9taXNlcy5nZXQodGFnKSkpIHtcbiAgICBhd2FpdCBwZW5kaW5nLnByb21pc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGNvbW1vbiBmdW5jdGlvbmFsaXR5IG9mIHJ1bm5pbmcgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LCBieSBjaGFpbmluZ1xuICogdGhlaXIgcHJvbWlzZXMgb25lIGFmdGVyIGFub3RoZXIuXG4gKlxuICogQmVmb3JlIHJ1bm5pbmcsIGFzeW5jIGZ1bmN0aW9uIGlzIFwid3JhcHBlZFwiIHVzaW5nIHRoZSBwcm92aWRlZCB3cmFwcGVyLiBUaGlzIHdyYXBwZXJcbiAqIGNhbiBhZGQgYWRkaXRpb25hbCBzdGVwcyB0byBydW4gYmVmb3JlIG9yIGFmdGVyIHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBXaGVuIGFzeW5jIGZ1bmN0aW9uIGlzIHNjaGVkdWxlZCB0byBydW4sIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBpcyBub3RpZmllZFxuICogYnkgY2FsbGluZyB0aGUgYXNzb2NpYXRlZCBvbkNvbnRpbnVlZCBjYWxsYmFjay4gVGhpcyBiZWhhdmlvciBvZiB0aGlzIGNhbGxiYWNrXG4gKiBpcyBkZWZpbmVkIGJ5IHRoZSB3cmFwcGVyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSdW5uZXI8UCBleHRlbmRzIHVua25vd25bXSwgVD4od3JhcHBlcjogQXN5bmNXcmFwcGVyPFAsIFQ+KSB7XG4gIHJldHVybiBmdW5jdGlvbiBydW4odGFnOiBzdHJpbmcgfCBzeW1ib2wsIGNiOiAoLi4uYXJnczogUCkgPT4gUHJvbWlzZTxUPikge1xuICAgIGNvbnN0IHsgY2I6IHdyYXBwZWQsIG9uQ29udGludWVkIH0gPSB3cmFwcGVyKHRhZywgY2IpO1xuICAgIGNvbnN0IHBlbmRpbmcgPSBwZW5kaW5nUHJvbWlzZXMuZ2V0KHRhZyk7XG4gICAgcGVuZGluZz8ub25Db250aW51ZWQoKTtcbiAgICBjb25zdCBwcm9taXNlID0gcGVuZGluZ1xuICAgICAgPyBwZW5kaW5nLnByb21pc2UudGhlbih3cmFwcGVkLCB3cmFwcGVkKVxuICAgICAgOiB3cmFwcGVkKCk7XG4gICAgcGVuZGluZ1Byb21pc2VzLnNldCh0YWcsIHsgcHJvbWlzZSwgb25Db250aW51ZWQgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG59XG5cbi8qKlxuICogV3JhcHMgYW4gYXN5bmMgZnVuY3Rpb24gd2l0aCBhbiBhZGRpdGlvbmFsIHN0ZXAgcnVuIGFmdGVyIHRoZSBmdW5jdGlvbjpcbiAqIGlmIHRoZSBmdW5jdGlvbiBpcyB0aGUgbGFzdCBpbiB0aGUgcXVldWUsIGl0IGNsZWFucyB1cCB0aGUgd2hvbGUgY2hhaW5cbiAqIG9mIHByb21pc2VzIGFmdGVyIGZpbmlzaGluZy5cbiAqL1xuZnVuY3Rpb24gd3JhcFdpdGhDb250aW51YXRpb25UcmFja2luZzxUPihcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoKSA9PiBQcm9taXNlPFQ+LFxuKSB7XG4gIGxldCBoYXNDb250aW51YXRpb24gPSBmYWxzZTtcbiAgY29uc3Qgd3JhcHBlZCA9ICgpID0+XG4gICAgY2IoKS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmICghaGFzQ29udGludWF0aW9uKSB7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlcy5kZWxldGUodGFnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgY29uc3Qgb25Db250aW51ZWQgPSAoKSA9PiAoaGFzQ29udGludWF0aW9uID0gdHJ1ZSk7XG4gIHJldHVybiB7IGNiOiB3cmFwcGVkLCBvbkNvbnRpbnVlZCB9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGFzeW5jIGZ1bmN0aW9uIHdpdGggYWRkaXRpb25hbCBmdW5jdGlvbmFsaWx0eTpcbiAqIDEuIEFzc29jaWF0ZXMgYW4gYWJvcnQgc2lnbmFsIHdpdGggZXZlcnkgZnVuY3Rpb24sIHRoYXQgaXMgcGFzc2VkIHRvIGl0XG4gKiAgICBhcyBhbiBhcmd1bWVudC4gV2hlbiBhIG5ldyBmdW5jdGlvbiBpcyBzY2hlZHVsZWQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50XG4gKiAgICBvbmUsIGN1cnJlbnQgc2lnbmFsIGlzIGFib3J0ZWQuXG4gKiAyLiBJZiBjdXJyZW50IGZ1bmN0aW9uIGRpZG4ndCBzdGFydCBhbmQgd2FzIGFib3J0ZWQsIGluIHdpbGwgbmV2ZXIgc3RhcnQuXG4gKiAzLiBJZiB0aGUgZnVuY3Rpb24gaXMgdGhlIGxhc3QgaW4gdGhlIHF1ZXVlLCBpdCBjbGVhbnMgdXAgdGhlIHdob2xlIGNoYWluXG4gKiAgICBvZiBwcm9taXNlcyBhZnRlciBmaW5pc2hpbmcuXG4gKi9cbmZ1bmN0aW9uIHdyYXBXaXRoQ2FuY2VsbGF0aW9uPFQ+KFxuICB0YWc6IHN0cmluZyB8IHN5bWJvbCxcbiAgY2I6IChzaWduYWw6IEFib3J0U2lnbmFsKSA9PiBQcm9taXNlPFQgfCAnY2FuY2VsZWQnPixcbikge1xuICBjb25zdCBhYyA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3Qgd3JhcHBlZCA9ICgpID0+IHtcbiAgICBpZiAoYWMuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ2NhbmNlbGVkJyBhcyBjb25zdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNiKGFjLnNpZ25hbCkuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoIWFjLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlcy5kZWxldGUodGFnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgb25Db250aW51ZWQgPSAoKSA9PiBhYy5hYm9ydCgpO1xuICByZXR1cm4geyBjYjogd3JhcHBlZCwgb25Db250aW51ZWQgfTtcbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG50eXBlIEZ1bmN0aW9uUGF0Y2g8VD4gPSAoY3VycmVudFZhbHVlOiBUKSA9PiBUO1xuXG4vKipcbiAqIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgUGF0Y2g8VD4gPSBUIHwgRnVuY3Rpb25QYXRjaDxUPjtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHByb3ZpZGVkIHVwZGF0ZSBpcyBhIGZ1bmN0aW9uIHBhdGNoLlxuICpcbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc0Z1bmN0aW9uUGF0Y2ggPSA8VD4odXBkYXRlOiBQYXRjaDxUPik6IHVwZGF0ZSBpcyBGdW5jdGlvblBhdGNoPFQ+ID0+XG4gIHR5cGVvZiB1cGRhdGUgPT09ICdmdW5jdGlvbic7XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhbiBvYnNlcnZhYmxlLCBvciB1bmRlZmluZWQgaWYgdGhlIG9ic2VydmFibGUgaGFzXG4gKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFZhbHVlID0gPFQ+KG9ic2VydmFibGUkOiBPYnNlcnZhYmxlPFQ+KSA9PiB7XG4gIGxldCB2YWx1ZSE6IFQ7XG4gIGxldCBlcnI6IEVycm9yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBjb21iaW5lTGF0ZXN0KFtvYnNlcnZhYmxlJF0pXG4gICAgLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoW3ZdKSA9PiB7XG4gICAgICAgIHZhbHVlID0gdjtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogKGUpID0+IHtcbiAgICAgICAgZXJyID0gZTtcbiAgICAgIH0sXG4gICAgfSlcbiAgICAudW5zdWJzY3JpYmUoKTtcblxuICBpZiAoZXJyKSB0aHJvdyBlcnI7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDdXJyZW50VmFsdWUgPSA8VD4oc3ViamVjdDogU3ViamVjdDxUPiwgdXBkYXRlOiBQYXRjaDxUPikgPT4ge1xuICBjb25zdCBuZXh0ID0gaXNGdW5jdGlvblBhdGNoKHVwZGF0ZSlcbiAgICA/IHVwZGF0ZShnZXRDdXJyZW50VmFsdWUoc3ViamVjdCkpXG4gICAgOiB1cGRhdGU7XG5cbiAgc3ViamVjdC5uZXh0KG5leHQpO1xuICByZXR1cm4gbmV4dDtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QgYW5kIHJldHVybnMgdGhlIHByZXZpb3VzIHZhbHVlXG4gKiBhbmQgYSBmdW5jdGlvbiB0byByb2xsIGJhY2sgdGhlIHVwZGF0ZS5cbiAqIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IHdhbnQgdG8gb3B0aW1pc3RpY2FsbHkgdXBkYXRlIGEgdmFsdWVcbiAqIGFuZCByb2xsIGJhY2sgdGhlIHVwZGF0ZSBpZiBhbiBlcnJvciBvY2N1cnMuXG4gKlxuICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICovXG5leHBvcnQgY29uc3QgdXBkYXRlVmFsdWUgPSA8VD4oXG4gIHN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxUPixcbiAgdXBkYXRlOiBQYXRjaDxUPixcbikgPT4ge1xuICBjb25zdCBsYXN0VmFsdWUgPSBzdWJqZWN0LmdldFZhbHVlKCk7XG4gIGNvbnN0IHZhbHVlID0gc2V0Q3VycmVudFZhbHVlKHN1YmplY3QsIHVwZGF0ZSk7XG4gIHJldHVybiB7XG4gICAgbGFzdFZhbHVlLFxuICAgIHZhbHVlLFxuICAgIHJvbGxiYWNrOiAoKSA9PiBzZXRDdXJyZW50VmFsdWUoc3ViamVjdCwgbGFzdFZhbHVlKSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN1YnNjcmlwdGlvbiBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlLlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIHN1YnNjcmliZSB0by5cbiAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICogQHBhcmFtIG9uRXJyb3IgYW4gb3B0aW9uYWwgZXJyb3IgaGFuZGxlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVN1YnNjcmlwdGlvbiA9IDxUPihcbiAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxUPixcbiAgaGFuZGxlcjogKHZhbHVlOiBUKSA9PiB2b2lkLFxuICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4gdm9pZCA9IChlcnJvcikgPT5cbiAgICBnZXRMb2dnZXIoWydSeFV0aWxzJ10pKCd3YXJuJywgJ0FuIG9ic2VydmFibGUgZW1pdHRlZCBhbiBlcnJvcicsIGVycm9yKSxcbikgPT4ge1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZSh7IG5leHQ6IGhhbmRsZXIsIGVycm9yOiBvbkVycm9yIH0pO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3Vic2NyaXB0aW9uIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gdW5zdWJzY3JpYmUuIE1ha2VzIHN1cmUgdGhhdFxuICogb25seSBvbmUgYXN5bmMgaGFuZGxlciBydW5zIGF0IHRoZSBzYW1lIHRpbWUuIElmIHVwZGF0ZXMgY29tZSBpbiBxdWlja2VyIHRoYW5cbiAqIGl0IHRha2VzIGZvciB0aGUgY3VycmVudCBoYW5kbGVyIHRvIGZpbmlzaCwgb3RoZXIgaGFuZGxlcnMgd2lsbCB3YWl0LlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIHN1YnNjcmliZSB0by5cbiAqIEBwYXJhbSBoYW5kbGVyIHRoZSBhc3luYyBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uID0gPFQ+KFxuICBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFQ+LFxuICBoYW5kbGVyOiAodmFsdWU6IFQpID0+IFByb21pc2U8dm9pZD4sXG4pID0+IHtcbiAgY29uc3QgdGFnID0gU3ltYm9sKCk7XG4gIHJldHVybiBjcmVhdGVTdWJzY3JpcHRpb24ob2JzZXJ2YWJsZSwgKHZhbHVlKSA9PiB7XG4gICAgd2l0aG91dENvbmN1cnJlbmN5KHRhZywgKCkgPT4gaGFuZGxlcih2YWx1ZSkpO1xuICB9KTtcbn07XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmV4cG9ydCBlbnVtIENhbGxpbmdTdGF0ZSB7XG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBhbiB1bmtub3duIHN0YXRlLlxuICAgKi9cbiAgVU5LTk9XTiA9ICd1bmtub3duJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gYW4gaWRsZSBzdGF0ZS5cbiAgICovXG4gIElETEUgPSAnaWRsZScsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIHJpbmdpbmcuXG4gICAqIChVc2VyIGhhc24ndCBhY2NlcHRlZCBub3IgcmVqZWN0ZWQgdGhlIGNhbGwgeWV0LilcbiAgICovXG4gIFJJTkdJTkcgPSAncmluZ2luZycsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIGpvaW5pbmcuXG4gICAqL1xuICBKT0lOSU5HID0gJ2pvaW5pbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgSk9JTkVEID0gJ2pvaW5lZCcsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGhhcyBiZWVuIGxlZnQuXG4gICAqL1xuICBMRUZUID0gJ2xlZnQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByZWNvbm5lY3RpbmcuXG4gICAqL1xuICBSRUNPTk5FQ1RJTkcgPSAncmVjb25uZWN0aW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgbWlncmF0aW5nIGZyb20gb25lIG5vZGUgdG8gYW5vdGhlci5cbiAgICovXG4gIE1JR1JBVElORyA9ICdtaWdyYXRpbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBoYXMgZmFpbGVkIHRvIHJlY29ubmVjdC5cbiAgICovXG4gIFJFQ09OTkVDVElOR19GQUlMRUQgPSAncmVjb25uZWN0aW5nLWZhaWxlZCcsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIG9mZmxpbmUgbW9kZS5cbiAgICovXG4gIE9GRkxJTkUgPSAnb2ZmbGluZScsXG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi9DYWxsaW5nU3RhdGUnO1xuaW1wb3J0IHR5cGUgeyBPd25Vc2VyUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB7XG4gIC8qKlxuICAgKiBBIHN0b3JlIGtlZXBpbmcgZGF0YSBvZiBhIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdXNlciBvdmVyIFdTIHRvIHRoZSBjb29yZGluYXRvciBzZXJ2ZXIuXG4gICAqL1xuICBjb25uZWN0ZWRVc2VyU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxsc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxbXT4oW10pO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3Quc3Vic2NyaWJlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgICAvLyBsZWF2ZSBhbGwgY2FsbHMgd2hlbiB0aGUgdXNlciBkaXNjb25uZWN0cy5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydjbGllbnQtc3RhdGUnXSk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmNhbGxzKSB7XG4gICAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkgY29udGludWU7XG5cbiAgICAgICAgICBsb2dnZXIoJ2luZm8nLCBgVXNlciBkaXNjb25uZWN0ZWQsIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gKTtcbiAgICAgICAgICBhd2FpdCBjYWxsXG4gICAgICAgICAgICAubGVhdmUoeyBtZXNzYWdlOiAnY2xpZW50LmRpc2Nvbm5lY3RVc2VyKCkgY2FsbGVkJyB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsIGBFcnJvciBsZWF2aW5nIGNhbGw6ICR7Y2FsbC5jaWR9YCwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgdXNlci5cbiAgICovXG4gIGdldCBjb25uZWN0ZWRVc2VyKCk6IE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgdXNlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB1c2VyIHRoZSB1c2VyIHRvIHNldCBhcyBjb25uZWN0ZWQuXG4gICAqL1xuICBzZXRDb25uZWN0ZWRVc2VyID0gKHVzZXI6IFBhdGNoPE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5jb25uZWN0ZWRVc2VyU3ViamVjdCwgdXNlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBnZXQgY2FsbHMoKTogQ2FsbFtdIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsc1N1YmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKiBAcGFyYW0gY2FsbHNcbiAgICovXG4gIHNldENhbGxzID0gKGNhbGxzOiBQYXRjaDxDYWxsW10+KSA9PiB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHNTdWJqZWN0LCBjYWxscyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IHRvIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gYWRkLlxuICAgKi9cbiAgcmVnaXN0ZXJDYWxsID0gKGNhbGw6IENhbGwpID0+IHtcbiAgICBpZiAoIXRoaXMuY2FsbHMuZmluZCgoYykgPT4gYy5jaWQgPT09IGNhbGwuY2lkKSkge1xuICAgICAgdGhpcy5zZXRDYWxscygoY2FsbHMpID0+IFsuLi5jYWxscywgY2FsbF0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHtAbGluayBDYWxsfSBvYmplY3QgZnJvbSB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIHJlbW92ZVxuICAgKi9cbiAgdW5yZWdpc3RlckNhbGwgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ2NsaWVudC1zdGF0ZSddKTtcbiAgICBsb2dnZXIoJ3RyYWNlJywgYFVucmVnaXN0ZXJpbmcgY2FsbDogJHtjYWxsLmNpZH1gKTtcbiAgICByZXR1cm4gdGhpcy5zZXRDYWxscygoY2FsbHMpID0+IGNhbGxzLmZpbHRlcigoYykgPT4gYyAhPT0gY2FsbCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kcyBhIHtAbGluayBDYWxsfSBvYmplY3QgaW4gdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiBjYWxsIHRvIGZpbmQuXG4gICAqIEBwYXJhbSBpZCB0aGUgaWQgb2YgdGhlIGNhbGwgdG8gZmluZC5cbiAgICovXG4gIGZpbmRDYWxsID0gKHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLmNhbGxzLmZpbmQoKGMpID0+IGMudHlwZSA9PT0gdHlwZSAmJiBjLmlkID09PSBpZCk7XG4gIH07XG59XG5cbi8qKlxuICogQSByZWFjdGl2ZSBzdG9yZSB0aGF0IGV4cG9zZXMgc3RhdGUgdmFyaWFibGVzIGluIGEgcmVhY3RpdmUgbWFubmVyLlxuICogWW91IGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBvZiB0aGUgZGlmZmVyZW50IHN0YXRlIHZhcmlhYmxlcy5cbiAqIFRoaXMgY2VudHJhbCBzdG9yZSBjb250YWlucyBhbGwgdGhlIHN0YXRlIHZhcmlhYmxlcyByZWxhdGVkIHRvIFtgU3RyZWFtVmlkZW9DbGllbnRgXSguL1N0cmVhbVZpZGVDbGllbnQubWQpIGFuZCBbYENhbGxgXSguL0NhbGwubWQpLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUge1xuICAvKipcbiAgICogRGF0YSBkZXNjcmliaW5nIGEgdXNlciBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIG92ZXIgV1MgdG8gY29vcmRpbmF0b3Igc2VydmVyLlxuICAgKi9cbiAgY29ubmVjdGVkVXNlciQ6IE9ic2VydmFibGU8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICovXG4gIGNhbGxzJDogT2JzZXJ2YWJsZTxDYWxsW10+O1xuXG4gIGNvbnN0cnVjdG9yKHN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUpIHtcbiAgICAvLyBjb252ZXJ0IGFuZCBleHBvc2Ugc3ViamVjdHMgYXMgb2JzZXJ2YWJsZXNcbiAgICB0aGlzLmNvbm5lY3RlZFVzZXIkID0gc3RvcmUuY29ubmVjdGVkVXNlclN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5jYWxscyQgPSBzdG9yZS5jYWxsc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgdXNlciBjb25uZWN0ZWQgb3ZlciBXUyB0byB0aGUgYmFja2VuZC5cbiAgICovXG4gIGdldCBjb25uZWN0ZWRVc2VyKCk6IE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY29ubmVjdGVkVXNlciQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBnZXQgY2FsbHMoKTogQ2FsbFtdIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jYWxscyQpO1xuICB9XG59XG4iLCIvKipcbiAqIERlZmluZXMgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBzb3J0aW5nIGl0ZW1zLlxuICovXG5leHBvcnQgdHlwZSBDb21wYXJhdG9yPFQ+ID0gKGE6IFQsIGI6IFQpID0+IC0xIHwgMCB8IDE7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21iaW5lZCB7QGxpbmsgQ29tcGFyYXRvcjxUPn0gd2hpY2ggc29ydHMgaXRlbXMgYnkgdGhlIGdpdmVuIGNvbXBhcmF0b3JzLlxuICogVGhlIGNvbXBhcmF0b3JzIGFyZSBhcHBsaWVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBnaXZlbiAobGVmdCAtPiByaWdodCkuXG4gKlxuICogQHBhcmFtIGNvbXBhcmF0b3JzIHRoZSBjb21wYXJhdG9ycyB0byB1c2UgZm9yIHNvcnRpbmcuXG4gKiBAcmV0dXJucyBhIGNvbWJpbmVkIHtAbGluayBDb21wYXJhdG9yPFQ+fS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbWJpbmVDb21wYXJhdG9ycyA9IDxUPihcbiAgLi4uY29tcGFyYXRvcnM6IENvbXBhcmF0b3I8VD5bXVxuKTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGZvciAoY29uc3QgY29tcGFyYXRvciBvZiBjb21wYXJhdG9ycykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGFyYXRvcihhLCBiKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IDApIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgaXRlbXMgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYnlWYWx1ZSA9IChhLCBiKSA9PiBhIDwgYiA/IC0gMSA6IGEgPiBiID8gMSA6IDA7XG4gKiBjb25zdCBieVZhbHVlRGVzYyA9IGRlc2NlbmRpbmcoYnlWYWx1ZSk7XG4gKlxuICogQHBhcmFtIGNvbXBhcmF0b3IgdGhlIGNvbXBhcmF0b3IgdG8gd3JhcC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlc2NlbmRpbmcgPSA8VD4oY29tcGFyYXRvcjogQ29tcGFyYXRvcjxUPik6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IGNvbXBhcmF0b3IoYiwgYSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tcGFyYXRvciB3aGljaCBjb25kaXRpb25hbGx5IGFwcGxpZXMgdGhlIGdpdmVuIGNvbXBhcmF0b3IuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHNob3VsZFNvcnRCeVZhbHVlID0gKGEsIGIpID0+IGEgJSAyID09PSAwOyAvLyByZXR1cm4gZmFsc2UgdG8gdHVybiBpdCBvZmZcbiAqIGNvbnN0IGJ5VmFsdWUgPSAoYSwgYikgPT4gYSA8IGIgPyAtIDEgOiBhID4gYiA/IDEgOiAwO1xuICogY29uc3QgY29tcGFyYXRvciA9IGNvbmRpdGlvbmFsKHNob3VsZFNvcnRCeVZhbHVlKShieVZhbHVlKTtcbiAqXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gdXNlIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRvIGFwcGx5IHRoZSBjb21wYXJhdG9yLlxuICovXG5leHBvcnQgY29uc3QgY29uZGl0aW9uYWwgPSA8VD4ocHJlZGljYXRlOiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbikgPT4ge1xuICByZXR1cm4gKGNvbXBhcmF0b3I6IENvbXBhcmF0b3I8VD4pOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICAgIGlmICghcHJlZGljYXRlKGEsIGIpKSByZXR1cm4gMDtcbiAgICAgIHJldHVybiBjb21wYXJhdG9yKGEsIGIpO1xuICAgIH07XG4gIH07XG59O1xuXG4vKipcbiAqIEEgbm8tb3AgY29tcGFyYXRvciB3aGljaCBhbHdheXMgcmV0dXJucyAwLlxuICovXG5leHBvcnQgY29uc3Qgbm9vcENvbXBhcmF0b3IgPSA8VD4oKTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gIHJldHVybiAoKSA9PiAwO1xufTtcbiIsImltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIFZpZGVvVHJhY2tUeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGhhcyBhIHZpZGVvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1ZpZGVvID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5WSURFTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBoYXMgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzQXVkaW8gPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCk6IGJvb2xlYW4gPT5cbiAgcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXMoVHJhY2tUeXBlLkFVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGlzIHNjcmVlbiBzaGFyaW5nLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1NjcmVlblNoYXJlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcGFydGljaXBhbnQgaXMgc2NyZWVuIHNoYXJpbmcgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpbyA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGlubmVkID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gICEhcC5waW4gJiYgKHAucGluLmlzTG9jYWxQaW4gfHwgcC5waW4ucGlubmVkQXQgPiAwKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGhhcyBhIHBhdXNlZCB0cmFjayBvZiB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICogQHBhcmFtIHZpZGVvVHJhY2tUeXBlIHRoZSB0eXBlIG9mIHZpZGVvIHRyYWNrIHRvIGNoZWNrIGZvciAoJ3ZpZGVvVHJhY2snIG9yICdzY3JlZW5TaGFyZVRyYWNrJykuXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNQYXVzZWRUcmFjayA9IChcbiAgcDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgdmlkZW9UcmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuKTogYm9vbGVhbiA9PiB7XG4gIGlmICghcC5wYXVzZWRUcmFja3MpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgdHJhY2tUeXBlID1cbiAgICB2aWRlb1RyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICA/IFRyYWNrVHlwZS5WSURFT1xuICAgICAgOiB2aWRlb1RyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snXG4gICAgICAgID8gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICBpZiAoIXRyYWNrVHlwZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gcC5wYXVzZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKTtcbn07XG4iLCJpbXBvcnQgeyBDb21wYXJhdG9yIH0gZnJvbSAnLi8nO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIGhhc0F1ZGlvLFxuICBoYXNTY3JlZW5TaGFyZSxcbiAgaGFzVmlkZW8sXG59IGZyb20gJy4uL2hlbHBlcnMvcGFydGljaXBhbnRVdGlscyc7XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIHRoZSBkb21pbmFudCBzcGVha2VyIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3QgZG9taW5hbnRTcGVha2VyOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEuaXNEb21pbmFudFNwZWFrZXIgJiYgIWIuaXNEb21pbmFudFNwZWFrZXIpIHJldHVybiAtMTtcbiAgaWYgKCFhLmlzRG9taW5hbnRTcGVha2VyICYmIGIuaXNEb21pbmFudFNwZWFrZXIpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIHNwZWFraW5nIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3Qgc3BlYWtpbmc6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5pc1NwZWFraW5nICYmICFiLmlzU3BlYWtpbmcpIHJldHVybiAtMTtcbiAgaWYgKCFhLmlzU3BlYWtpbmcgJiYgYi5pc1NwZWFraW5nKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBzb3J0cyBwYXJ0aWNpcGFudHMgYnkgc2NyZWVuIHNoYXJpbmcgc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzY3JlZW5TaGFyaW5nOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGhhc1NjcmVlblNoYXJlKGEpICYmICFoYXNTY3JlZW5TaGFyZShiKSkgcmV0dXJuIC0xO1xuICBpZiAoIWhhc1NjcmVlblNoYXJlKGEpICYmIGhhc1NjcmVlblNoYXJlKGIpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBzb3J0cyBwYXJ0aWNpcGFudHMgYnkgdmlkZW8gc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwdWJsaXNoaW5nVmlkZW86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoaGFzVmlkZW8oYSkgJiYgIWhhc1ZpZGVvKGIpKSByZXR1cm4gLTE7XG4gIGlmICghaGFzVmlkZW8oYSkgJiYgaGFzVmlkZW8oYikpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBhdWRpbyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2hpbmdBdWRpbzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChoYXNBdWRpbyhhKSAmJiAhaGFzQXVkaW8oYikpIHJldHVybiAtMTtcbiAgaWYgKCFoYXNBdWRpbyhhKSAmJiBoYXNBdWRpbyhiKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggcHJpb3JpdGl6ZXMgcGFydGljaXBhbnRzIHdobyBhcmUgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwaW5uZWQ6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5waW4gJiYgYi5waW4pIHtcbiAgICBpZiAoIWEucGluLmlzTG9jYWxQaW4gJiYgYi5waW4uaXNMb2NhbFBpbikgcmV0dXJuIC0xO1xuICAgIGlmIChhLnBpbi5pc0xvY2FsUGluICYmICFiLnBpbi5pc0xvY2FsUGluKSByZXR1cm4gMTtcbiAgICBpZiAoYS5waW4ucGlubmVkQXQgPiBiLnBpbi5waW5uZWRBdCkgcmV0dXJuIC0xO1xuICAgIGlmIChhLnBpbi5waW5uZWRBdCA8IGIucGluLnBpbm5lZEF0KSByZXR1cm4gMTtcbiAgfVxuXG4gIGlmIChhLnBpbiAmJiAhYi5waW4pIHJldHVybiAtMTtcbiAgaWYgKCFhLnBpbiAmJiBiLnBpbikgcmV0dXJuIDE7XG5cbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciBjcmVhdG9yIHdoaWNoIHdpbGwgc2V0IHVwIGEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplc1xuICogcGFydGljaXBhbnRzIHdobyBoYXZlIGEgc3BlY2lmaWMgcmVhY3Rpb24uXG4gKlxuICogQHBhcmFtIHR5cGUgdGhlIHJlYWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFjdGlvblR5cGUgPSAoXG4gIHR5cGU6IHN0cmluZyxcbik6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5yZWFjdGlvbj8udHlwZSA9PT0gdHlwZSAmJiBiLnJlYWN0aW9uPy50eXBlICE9PSB0eXBlKSByZXR1cm4gLTE7XG4gICAgaWYgKGEucmVhY3Rpb24/LnR5cGUgIT09IHR5cGUgJiYgYi5yZWFjdGlvbj8udHlwZSA9PT0gdHlwZSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH07XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciBjcmVhdG9yIHdoaWNoIHdpbGwgc2V0IHVwIGEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplc1xuICogcGFydGljaXBhbnRzIHdobyBoYXZlIGEgc3BlY2lmaWMgcm9sZS5cbiAqXG4gKiBAcGFyYW0gcm9sZXMgdGhlIHJvbGVzIHRvIHByaW9yaXRpemUuXG4gKi9cbmV4cG9ydCBjb25zdCByb2xlID1cbiAgKC4uLnJvbGVzOiBzdHJpbmdbXSk6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPT5cbiAgKGEsIGIpID0+IHtcbiAgICBpZiAoaGFzQW55Um9sZShhLCByb2xlcykgJiYgIWhhc0FueVJvbGUoYiwgcm9sZXMpKSByZXR1cm4gLTE7XG4gICAgaWYgKCFoYXNBbnlSb2xlKGEsIHJvbGVzKSAmJiBoYXNBbnlSb2xlKGIsIHJvbGVzKSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBuYW1lOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEubmFtZSA8IGIubmFtZSkgcmV0dXJuIC0xO1xuICBpZiAoYS5uYW1lID4gYi5uYW1lKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBoYXNBbnlSb2xlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIHJvbGVzOiBzdHJpbmdbXSkgPT5cbiAgKHAucm9sZXMgfHwgW10pLnNvbWUoKHIpID0+IHJvbGVzLmluY2x1ZGVzKHIpKTtcbiIsImltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIFZpc2liaWxpdHlTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbWJpbmVDb21wYXJhdG9ycywgY29uZGl0aW9uYWwgfSBmcm9tICcuL2NvbXBhcmF0b3InO1xuaW1wb3J0IHtcbiAgZG9taW5hbnRTcGVha2VyLFxuICBwaW5uZWQsXG4gIHB1Ymxpc2hpbmdBdWRpbyxcbiAgcHVibGlzaGluZ1ZpZGVvLFxuICByZWFjdGlvblR5cGUsXG4gIHJvbGUsXG4gIHNjcmVlblNoYXJpbmcsXG4gIHNwZWFraW5nLFxufSBmcm9tICcuL3BhcnRpY2lwYW50cyc7XG5cbi8vIGEgY29tcGFyYXRvciBkZWNvcmF0b3Igd2hpY2ggYXBwbGllcyB0aGUgZGVjb3JhdGVkIGNvbXBhcmF0b3Igb25seSBpZiB0aGVcbi8vIHBhcnRpY2lwYW50IGlzIGludmlzaWJsZS5cbi8vIFRoaXMgZW5zdXJlcyBzdGFibGUgc29ydGluZyB3aGVuIGFsbCBwYXJ0aWNpcGFudHMgYXJlIHZpc2libGUuXG5jb25zdCBpZkludmlzaWJsZUJ5ID0gY29uZGl0aW9uYWwoXG4gIChhOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LCBiOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KSA9PlxuICAgIGEudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUgfHxcbiAgICBiLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFLFxuKTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3IgdGhhdCBhcHBsaWVzIHRoZSBkZWNvcmF0ZWQgY29tcGFyYXRvciB3aGVuIGEgcGFydGljaXBhbnQgaXNcbiAqIGVpdGhlciBpbnZpc2libGUgb3IgaXRzIHZpc2liaWxpdHkgc3RhdGUgaXNuJ3Qga25vd24uXG4gKiBGb3IgdmlzaWJsZSBwYXJ0aWNpcGFudHMsIGl0IGVuc3VyZXMgc3RhYmxlIHNvcnRpbmcuXG4gKi9cbmNvbnN0IGlmSW52aXNpYmxlT3JVbmtub3duQnkgPSBjb25kaXRpb25hbChcbiAgKGE6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIGI6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGEudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOIHx8XG4gICAgYi52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGIudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuKTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBzb3J0aW5nIHByZXNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIHNjcmVlblNoYXJpbmcsXG4gIGlmSW52aXNpYmxlQnkoXG4gICAgY29tYmluZUNvbXBhcmF0b3JzKFxuICAgICAgZG9taW5hbnRTcGVha2VyLFxuICAgICAgc3BlYWtpbmcsXG4gICAgICByZWFjdGlvblR5cGUoJ3JhaXNlZC1oYW5kJyksXG4gICAgICBwdWJsaXNoaW5nVmlkZW8sXG4gICAgICBwdWJsaXNoaW5nQXVkaW8sXG4gICAgKSxcbiAgKSxcbiAgLy8gaWZJbnZpc2libGVCeShuYW1lKSxcbik7XG5cbi8qKlxuICogVGhlIHNvcnRpbmcgcHJlc2V0IGZvciBzcGVha2VyIGxheW91dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIHNjcmVlblNoYXJpbmcsXG4gIGRvbWluYW50U3BlYWtlcixcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICAvLyBpZkludmlzaWJsZUJ5KG5hbWUpLFxuKTtcblxuLyoqXG4gKiBUaGUgc29ydGluZyBwcmVzZXQgZm9yIGxheW91dHMgdGhhdCBkb24ndCByZW5kZXIgYWxsIHBhcnRpY2lwYW50cyBidXRcbiAqIGluc3RlYWQsIHJlbmRlciB0aGVtIGluIHBhZ2VzLlxuICovXG5leHBvcnQgY29uc3QgcGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCA9IGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgcGlubmVkLFxuICBpZkludmlzaWJsZU9yVW5rbm93bkJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIGRvbWluYW50U3BlYWtlcixcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIC8vIGlmSW52aXNpYmxlT3JVbmtub3duQnkobmFtZSksXG4pO1xuXG4vKipcbiAqIFRoZSBzb3J0aW5nIHByZXNldCBmb3IgbGl2ZXN0cmVhbXMgYW5kIGF1ZGlvIHJvb21zLlxuICovXG5leHBvcnQgY29uc3QgbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCA9IGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBkb21pbmFudFNwZWFrZXIsXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICByb2xlKCdhZG1pbicsICdob3N0JywgJ3NwZWFrZXInKSxcbiAgLy8gbmFtZSxcbik7XG4iLCJpbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBtYXAsXG4gIE9ic2VydmFibGUsXG4gIHNoYXJlUmVwbGF5LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi9DYWxsaW5nU3RhdGUnO1xuaW1wb3J0IHtcbiAgdHlwZSBDbG9zZWRDYXB0aW9uc1NldHRpbmdzLFxuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gIHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzLFxuICB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0c1JlcG9ydCB9IGZyb20gJy4uL3N0YXRzJztcbmltcG9ydCB7XG4gIEJsb2NrZWRVc2VyRXZlbnQsXG4gIENhbGxDbG9zZWRDYXB0aW9uLFxuICBDYWxsSW5ncmVzc1Jlc3BvbnNlLFxuICBDYWxsTWVtYmVyQWRkZWRFdmVudCxcbiAgQ2FsbE1lbWJlclJlbW92ZWRFdmVudCxcbiAgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudCxcbiAgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQsXG4gIENhbGxSZWFjdGlvbkV2ZW50LFxuICBDYWxsUmVzcG9uc2UsXG4gIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQsXG4gIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudCxcbiAgQ2FsbFNlc3Npb25SZXNwb25zZSxcbiAgQ2FsbFNldHRpbmdzUmVzcG9uc2UsXG4gIENsb3NlZENhcHRpb25FdmVudCxcbiAgRWdyZXNzUmVzcG9uc2UsXG4gIE1lbWJlclJlc3BvbnNlLFxuICBPd25DYXBhYmlsaXR5LFxuICBUaHVtYm5haWxSZXNwb25zZSxcbiAgVW5ibG9ja2VkVXNlckV2ZW50LFxuICBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnQsXG4gIFVzZXJSZXNwb25zZSxcbiAgVmlkZW9FdmVudCxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gJy4uL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBDYWxsU3RhdGUgYXMgU2Z1Q2FsbFN0YXRlLFxuICBQaW4sXG4gIFRyYWNrVHlwZSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbXBhcmF0b3IsIGRlZmF1bHRTb3J0UHJlc2V0IH0gZnJvbSAnLi4vc29ydGluZyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaGFzU2NyZWVuU2hhcmUgfSBmcm9tICcuLi9oZWxwZXJzL3BhcnRpY2lwYW50VXRpbHMnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgZWdyZXNzIG9iamVjdCAtIHdoZW4gbm8gZWdyZXNzIGRhdGEgaXMgYXZhaWxhYmxlLlxuICovXG5jb25zdCBkZWZhdWx0RWdyZXNzOiBFZ3Jlc3NSZXNwb25zZSA9IHtcbiAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgaGxzOiB7IHBsYXlsaXN0X3VybDogJycsIHN0YXR1czogJycgfSxcbiAgcnRtcHM6IFtdLFxufTtcblxudHlwZSBPcnBoYW5lZFRyYWNrID0ge1xuICBpZDogc3RyaW5nO1xuICB0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nO1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgdHJhY2s6IE1lZGlhU3RyZWFtO1xufTtcblxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqIEByZWFjdCBZb3UgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgYXMgd2UgYXJlIGV4cG9zaW5nIHRoZSBzdGF0ZSB0aHJvdWdoIEhvb2tzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbFN0YXRlIHtcbiAgcHJpdmF0ZSBiYWNrc3RhZ2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBibG9ja2VkVXNlcklkc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZ1tdPihbXSk7XG4gIHByaXZhdGUgY3JlYXRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZT4obmV3IERhdGUoKSk7XG4gIHByaXZhdGUgZW5kZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgc3RhcnRzQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHVwZGF0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGU+KG5ldyBEYXRlKCkpO1xuICBwcml2YXRlIGNyZWF0ZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGN1c3RvbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxzdHJpbmcsIGFueT4+KHt9KTtcbiAgcHJpdmF0ZSBlZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxFZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGluZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgcmVjb3JkaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIHNlc3Npb25TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsU2Vzc2lvblJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgc2V0dGluZ3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgdHJhbnNjcmliaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIGNhcHRpb25pbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHByaXZhdGUgZW5kZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIHRodW1ibmFpbHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBUaHVtYm5haWxSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgbWVtYmVyc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE1lbWJlclJlc3BvbnNlW10+KFtdKTtcbiAgcHJpdmF0ZSBvd25DYXBhYmlsaXRpZXNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxPd25DYXBhYmlsaXR5W10+KFtdKTtcbiAgcHJpdmF0ZSBjYWxsaW5nU3RhdGVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsaW5nU3RhdGU+KFxuICAgIENhbGxpbmdTdGF0ZS5VTktOT1dOLFxuICApO1xuICBwcml2YXRlIHN0YXJ0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgcGFydGljaXBhbnRDb3VudFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PG51bWJlcj4oMCk7XG4gIHByaXZhdGUgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PG51bWJlcj4oMCk7XG4gIHByaXZhdGUgcGFydGljaXBhbnRzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPihcbiAgICBbXSxcbiAgKTtcbiAgcHJpdmF0ZSBjYWxsU3RhdHNSZXBvcnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU3RhdHNSZXBvcnQgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuICBwcml2YXRlIGNsb3NlZENhcHRpb25zU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FsbENsb3NlZENhcHRpb25bXT4oW10pO1xuXG4gIC8vIFRoZXNlIGFyZSB0cmFja3MgdGhhdCB3ZXJlIGRlbGl2ZXJlZCB0byB0aGUgU3Vic2NyaWJlcidzIG9uVHJhY2sgZXZlbnRcbiAgLy8gdGhhdCB3ZSBjb3VsZG4ndCBhc3NvY2lhdGUgd2l0aCBhIHBhcnRpY2lwYW50IHlldC5cbiAgLy8gVGhpcyBoYXBwZW5zIHdoZW4gdGhlIHBhcnRpY2lwYW50Sm9pbmVkIGV2ZW50IGhhc24ndCBiZWVuIHJlY2VpdmVkIHlldC5cbiAgLy8gV2Uga2VlcCB0aGVzZSB0cmFja3MgYXJvdW5kIHVudGlsIHdlIGNhbiBhc3NvY2lhdGUgdGhlbSB3aXRoIGEgcGFydGljaXBhbnQuXG4gIHByaXZhdGUgb3JwaGFuZWRUcmFja3M6IE9ycGhhbmVkVHJhY2tbXSA9IFtdO1xuXG4gIC8vIERlcml2ZWQgc3RhdGVcblxuICAvKipcbiAgICogVGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgdGhlIGNhbGwgZHVyYXRpb24uXG4gICAqL1xuICBzdGFydGVkQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBpbmNsdWRlcyB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBhcyB3ZWxsLlxuICAgKi9cbiAgcGFydGljaXBhbnRDb3VudCQ6IE9ic2VydmFibGU8bnVtYmVyPjtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIGFub255bW91cyBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGV4Y2x1ZGVzIHRoZSByZWd1bGFyIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIGFub255bW91c1BhcnRpY2lwYW50Q291bnQkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEFsbCBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbCAodGhpcyBpbmNsdWRlcyB0aGUgY3VycmVudCB1c2VyIGFuZCBvdGhlciBwYXJ0aWNpcGFudHMgYXMgd2VsbCksXG4gICAqIHVuc29ydGVkLiBUaGlzIG9ic2VydmFibGUgb25seSB1cGRhdGVzIHdoZW4gcGFydGljaXBhbnRzIGpvaW4gb3IgbGVhdmUgdGhlIGNhbGwuXG4gICAqL1xuICByYXdQYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIEFsbCBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbCAodGhpcyBpbmNsdWRlcyB0aGUgY3VycmVudCB1c2VyIGFuZCBvdGhlciBwYXJ0aWNpcGFudHMgYXMgd2VsbCksXG4gICAqIHNvcnRlZCBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgYHNvcnRCeVBhcnRpY2lwYW50c0J5YCBzZXR0aW5nXG4gICAqL1xuICBwYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIFJlbW90ZSBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbCAodGhpcyBpbmNsdWRlcyBldmVyeSBwYXJ0aWNpcGFudCBleGNlcHQgdGhlIGxvZ2dlZC1pbiB1c2VyKS5cbiAgICovXG4gIHJlbW90ZVBhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogVGhlIGxvY2FsIHBhcnRpY2lwYW50IG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoZSBsb2dnZWQtaW4gdXNlcikuXG4gICAqL1xuICBsb2NhbFBhcnRpY2lwYW50JDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogUGlubmVkIHBhcnRpY2lwYW50cyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgcGlubmVkUGFydGljaXBhbnRzJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+O1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IGVsZWN0ZWQgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZG9taW5hbnRTcGVha2VyJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogRW1pdHMgdHJ1ZSB3aGVuZXZlciB0aGVyZSBpcyBhbiBhY3RpdmUgc2NyZWVuIHNoYXJpbmcgc2Vzc2lvbiB3aXRoaW5cbiAgICogdGhlIGN1cnJlbnQgY2FsbC4gVXNlZnVsIGZvciBkaXNwbGF5aW5nIGEgXCJzY3JlZW4gc2hhcmluZ1wiIGluZGljYXRvciBhbmRcbiAgICogc3dpdGNoaW5nIHRoZSBsYXlvdXQgdG8gYSBzY3JlZW4gc2hhcmluZyBsYXlvdXQuXG4gICAqXG4gICAqIFRoZSBhY3R1YWwgc2NyZWVuIHNoYXJpbmcgdHJhY2sgaXNuJ3QgZXhwb3NlZCBoZXJlLCBidXQgY2FuIGJlIHJldHJpZXZlZFxuICAgKiBmcm9tIHRoZSBsaXN0IG9mIGNhbGwgcGFydGljaXBhbnRzLiBXZSBhbHNvIGRvbid0IHdhbnQgdG8gYmUgbGltaXRpbmdcbiAgICogdG8gdGhlIG51bWJlciBvZiBzaGFyZSBzY3JlZW4gdHJhY2tzIGFyZSBkaXNwbGF5ZWQgaW4gYSBjYWxsLlxuICAgKi9cbiAgaGFzT25nb2luZ1NjcmVlblNoYXJlJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogVGhlIGxhdGVzdCBzdGF0cyByZXBvcnQgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogV2hlbiBzdGF0cyBnYXRoZXJpbmcgaXMgZW5hYmxlZCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdCBhIG5ldyB2YWx1ZVxuICAgKiBhdCBhIHJlZ3VsYXIgKGNvbmZpZ3VyYWJsZSkgaW50ZXJ2YWwuXG4gICAqXG4gICAqIENvbnN1bWVycyBvZiB0aGlzIG9ic2VydmFibGUgY2FuIGltcGxlbWVudCB0aGVpciBvd24gYmF0Y2hpbmcgbG9naWNcbiAgICogaW4gY2FzZSB0aGV5IHdhbnQgdG8gc2hvdyBoaXN0b3JpY2FsIHN0YXRzIGRhdGEuXG4gICAqL1xuICBjYWxsU3RhdHNSZXBvcnQkOiBPYnNlcnZhYmxlPENhbGxTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG1lbWJlcnMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIG1lbWJlcnMkOiBPYnNlcnZhYmxlPE1lbWJlclJlc3BvbnNlW10+O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBjYXBhYmlsaXRpZXMgb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIG93bkNhcGFiaWxpdGllcyQ6IE9ic2VydmFibGU8T3duQ2FwYWJpbGl0eVtdPjtcblxuICAvKipcbiAgICogVGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBjYWxsaW5nU3RhdGUkOiBPYnNlcnZhYmxlPENhbGxpbmdTdGF0ZT47XG5cbiAgLyoqXG4gICAqIFRoZSBiYWNrc3RhZ2Ugc3RhdGUuXG4gICAqL1xuICBiYWNrc3RhZ2UkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VyIElEcy5cbiAgICovXG4gIGJsb2NrZWRVc2VySWRzJDogT2JzZXJ2YWJsZTxzdHJpbmdbXT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGVuZGVkLlxuICAgKi9cbiAgZW5kZWRBdCQ6IE9ic2VydmFibGU8RGF0ZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gICAqL1xuICBzdGFydHNBdCQ6IE9ic2VydmFibGU8RGF0ZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiB1cGRhdGVkLlxuICAgKi9cbiAgdXBkYXRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBjcmVhdGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGNyZWF0ZWRCeSQ6IE9ic2VydmFibGU8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBjdXN0b20gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBjdXN0b20kOiBPYnNlcnZhYmxlPFJlY29yZDxzdHJpbmcsIGFueT4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGVncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGVncmVzcyQ6IE9ic2VydmFibGU8RWdyZXNzUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGluZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBpbmdyZXNzJDogT2JzZXJ2YWJsZTxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSByZWNvcmRpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgcmVjb3JkaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXNzaW9uIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgc2Vzc2lvbiQ6IE9ic2VydmFibGU8Q2FsbFNlc3Npb25SZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2V0dGluZ3Mgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgc2V0dGluZ3MkOiBPYnNlcnZhYmxlPENhbGxTZXR0aW5nc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0cmFuc2NyaWJpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgdHJhbnNjcmliaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBjbG9zZWQgY2FwdGlvbmluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBjYXB0aW9uaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBlbmRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBlbmRlZEJ5JDogT2JzZXJ2YWJsZTxVc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRodW1ibmFpbHMgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgdGh1bWJuYWlscyQ6IE9ic2VydmFibGU8VGh1bWJuYWlsUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgcXVldWUgb2YgY2xvc2VkIGNhcHRpb25zLlxuICAgKi9cbiAgY2xvc2VkQ2FwdGlvbnMkOiBPYnNlcnZhYmxlPENhbGxDbG9zZWRDYXB0aW9uW10+O1xuXG4gIHJlYWRvbmx5IGxvZ2dlciA9IGdldExvZ2dlcihbJ0NhbGxTdGF0ZSddKTtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGNvbXBhcmF0b3JzIHRoYXQgYXJlIHVzZWQgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgcHJpdmF0ZSBzb3J0UGFydGljaXBhbnRzQnkgPSBkZWZhdWx0U29ydFByZXNldDtcblxuICAvKipcbiAgICogVGhlIGNsb3NlZCBjYXB0aW9ucyBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBjbG9zZWRDYXB0aW9uc1NldHRpbmdzOiBDbG9zZWRDYXB0aW9uc1NldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGNsb3NlZENhcHRpb25zVGFza3MgPSBuZXcgTWFwPHN0cmluZywgTm9kZUpTLlRpbWVvdXQ+KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBldmVudEhhbmRsZXJzOiB7XG4gICAgW0V2ZW50VHlwZSBpbiBWaWRlb0V2ZW50Wyd0eXBlJ11dOlxuICAgICAgfCAoKGV2ZW50OiBFeHRyYWN0PFZpZGVvRXZlbnQsIHsgdHlwZTogRXZlbnRUeXBlIH0+KSA9PiB2b2lkKVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIENhbGxTdGF0ZSBjbGFzcy5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmF3UGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pKTtcblxuICAgIHRoaXMucGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKFxuICAgICAgLy8gbWFpbnRhaW4gc3RhYmxlLXNvcnQgYnkgbXV0YXRpbmcgdGhlIHBhcnRpY2lwYW50cyBzdG9yZWRcbiAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBzdWJqZWN0XG4gICAgICBtYXAoKHBzKSA9PiBwcy5zb3J0KHRoaXMuc29ydFBhcnRpY2lwYW50c0J5KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxvY2FsUGFydGljaXBhbnQkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuaXNMb2NhbFBhcnRpY2lwYW50KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnJlbW90ZVBhcnRpY2lwYW50cyQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiAhcC5pc0xvY2FsUGFydGljaXBhbnQpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMucGlubmVkUGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+ICEhcC5waW4pKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZG9taW5hbnRTcGVha2VyJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLmlzRG9taW5hbnRTcGVha2VyKSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmhhc09uZ29pbmdTY3JlZW5TaGFyZSQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuc29tZSgocCkgPT4gaGFzU2NyZWVuU2hhcmUocCkpKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvLyBkYXRlc1xuICAgIHRoaXMuY3JlYXRlZEF0JCA9IHRoaXMuY3JlYXRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQXQkID0gdGhpcy5lbmRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnN0YXJ0c0F0JCA9IHRoaXMuc3RhcnRzQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc3RhcnRlZEF0JCA9IHRoaXMuc3RhcnRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCQgPSB0aGlzLnVwZGF0ZWRBdFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICB0aGlzLmNhbGxTdGF0c1JlcG9ydCQgPSB0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5tZW1iZXJzJCA9IHRoaXMubWVtYmVyc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBjb21wbGV4IG9iamVjdHMgc2hvdWxkIHdvcmsgYXMgc3RyZWFtcyBvZiBkYXRhXG4gICAgdGhpcy5jcmVhdGVkQnkkID0gdGhpcy5jcmVhdGVkQnlTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY3VzdG9tJCA9IHRoaXMuY3VzdG9tU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVncmVzcyQgPSB0aGlzLmVncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5pbmdyZXNzJCA9IHRoaXMuaW5ncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXNzaW9uJCA9IHRoaXMuc2Vzc2lvblN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXR0aW5ncyQgPSB0aGlzLnNldHRpbmdzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQnkkID0gdGhpcy5lbmRlZEJ5U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnRodW1ibmFpbHMkID0gdGhpcy50aHVtYm5haWxzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmNsb3NlZENhcHRpb25zJCA9IHRoaXMuY2xvc2VkQ2FwdGlvbnNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgc2hhbGxvdyBjb21wYXJpc29uIG9mIHR3byBhcnJheXMuXG4gICAgICogRXhwZWN0cyBwcmltaXRpdmUgdmFsdWVzOiBbMSwgMiwgM10gaXMgZXF1YWwgdG8gWzIsIDEsIDNdLlxuICAgICAqL1xuICAgIGNvbnN0IGlzU2hhbGxvd0VxdWFsID0gPFQ+KGE6IEFycmF5PFQ+LCBiOiBBcnJheTxUPik6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGEpIGlmICghYi5pbmNsdWRlcyhpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGIpIGlmICghYS5pbmNsdWRlcyhpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSBmcm9tIHRoZSBnaXZlbiBzdWJqZWN0IGJ5IHBpcGluZyB0byB0aGVcbiAgICAgKiBgZGlzdGluY3RVbnRpbENoYW5nZWQoKWAgb3BlcmF0b3IuXG4gICAgICovXG4gICAgY29uc3QgZHVjID0gPFQ+KFxuICAgICAgc3ViamVjdDogQmVoYXZpb3JTdWJqZWN0PFQ+LFxuICAgICAgY29tcGFyYXRvcj86IChhOiBULCBiOiBUKSA9PiBib29sZWFuLFxuICAgICk6IE9ic2VydmFibGU8VD4gPT5cbiAgICAgIHN1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJhdG9yKSk7XG5cbiAgICAvLyBwcmltaXRpdmUgdmFsdWVzIHNob3VsZCBvbmx5IGVtaXQgb25jZSB0aGUgdmFsdWUgdGhleSBob2xkIGNoYW5nZXNcbiAgICB0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnQkID0gZHVjKFxuICAgICAgdGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCxcbiAgICApO1xuICAgIHRoaXMuYmxvY2tlZFVzZXJJZHMkID0gZHVjKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCBpc1NoYWxsb3dFcXVhbCk7XG4gICAgdGhpcy5iYWNrc3RhZ2UkID0gZHVjKHRoaXMuYmFja3N0YWdlU3ViamVjdCk7XG4gICAgdGhpcy5jYWxsaW5nU3RhdGUkID0gZHVjKHRoaXMuY2FsbGluZ1N0YXRlU3ViamVjdCk7XG4gICAgdGhpcy5vd25DYXBhYmlsaXRpZXMkID0gZHVjKHRoaXMub3duQ2FwYWJpbGl0aWVzU3ViamVjdCwgaXNTaGFsbG93RXF1YWwpO1xuICAgIHRoaXMucGFydGljaXBhbnRDb3VudCQgPSBkdWModGhpcy5wYXJ0aWNpcGFudENvdW50U3ViamVjdCk7XG4gICAgdGhpcy5yZWNvcmRpbmckID0gZHVjKHRoaXMucmVjb3JkaW5nU3ViamVjdCk7XG4gICAgdGhpcy50cmFuc2NyaWJpbmckID0gZHVjKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCk7XG4gICAgdGhpcy5jYXB0aW9uaW5nJCA9IGR1Yyh0aGlzLmNhcHRpb25pbmdTdWJqZWN0KTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIC8vIHRoZXNlIGV2ZW50cyBhcmUgbm90IHVwZGF0aW5nIHRoZSBjYWxsIHN0YXRlOlxuICAgICAgJ2NhbGwuZnJhbWVfcmVjb3JkaW5nX3JlYWR5JzogdW5kZWZpbmVkLFxuICAgICAgJ2NhbGwua2lja2VkX3VzZXInOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5tb2RlcmF0aW9uX2JsdXInOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5tb2RlcmF0aW9uX3dhcm5pbmcnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3QnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9mYWlsZWQnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9zdGFydGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ2NhbGwucnRtcF9icm9hZGNhc3Rfc3RvcHBlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnN0YXRzX3JlcG9ydF9yZWFkeSc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC51c2VyX2ZlZWRiYWNrX3N1Ym1pdHRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnVzZXJfbXV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAnY29ubmVjdGlvbi5lcnJvcic6IHVuZGVmaW5lZCxcbiAgICAgICdjb25uZWN0aW9uLm9rJzogdW5kZWZpbmVkLFxuICAgICAgJ2hlYWx0aC5jaGVjayc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLnVwZGF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICBjdXN0b206IHVuZGVmaW5lZCxcblxuICAgICAgLy8gZXZlbnRzIHRoYXQgdXBkYXRlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5hY2NlcHRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmJsb2NrZWRfdXNlcic6IHRoaXMuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwuY2xvc2VkX2NhcHRpb24nOiB0aGlzLnVwZGF0ZUZyb21DbG9zZWRDYXB0aW9ucyxcbiAgICAgICdjYWxsLmNsb3NlZF9jYXB0aW9uc19mYWlsZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FwdGlvbmluZ1N1YmplY3QsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbnNfc3RhcnRlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuY2xvc2VkX2NhcHRpb25zX3N0b3BwZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FwdGlvbmluZ1N1YmplY3QsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5jcmVhdGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuZGVsZXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmVuZGVkJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRCeVN1YmplY3QsIGUudXNlcik7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuZnJhbWVfcmVjb3JkaW5nX2ZhaWxlZCc6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmZyYW1lX3JlY29yZGluZ19zdGFydGVkJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuZnJhbWVfcmVjb3JkaW5nX3N0b3BwZWQnOiAoZSkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX2ZhaWxlZCc6IHRoaXMudXBkYXRlRnJvbUhMU0Jyb2FkY2FzdGluZ0ZhaWxlZCxcbiAgICAgICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RhcnRlZCc6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZCc6IHRoaXMudXBkYXRlRnJvbUhMU0Jyb2FkY2FzdFN0b3BwZWQsXG4gICAgICAnY2FsbC5saXZlX3N0YXJ0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5tZW1iZXJfYWRkZWQnOiB0aGlzLnVwZGF0ZUZyb21NZW1iZXJBZGRlZCxcbiAgICAgICdjYWxsLm1lbWJlcl9yZW1vdmVkJzogdGhpcy51cGRhdGVGcm9tTWVtYmVyUmVtb3ZlZCxcbiAgICAgICdjYWxsLm1lbWJlcl91cGRhdGVkX3Blcm1pc3Npb24nOiB0aGlzLnVwZGF0ZU1lbWJlcnMsXG4gICAgICAnY2FsbC5tZW1iZXJfdXBkYXRlZCc6IHRoaXMudXBkYXRlTWVtYmVycyxcbiAgICAgICdjYWxsLm5vdGlmaWNhdGlvbic6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgICB0aGlzLnNldE1lbWJlcnMoZS5tZW1iZXJzKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkJzogdGhpcy51cGRhdGVPd25DYXBhYmlsaXRpZXMsXG4gICAgICAnY2FsbC5yZWFjdGlvbl9uZXcnOiB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24sXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfc3RhcnRlZCc6ICgpID0+XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgdHJ1ZSksXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfc3RvcHBlZCc6ICgpID0+XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgZmFsc2UpLFxuICAgICAgJ2NhbGwucmVjb3JkaW5nX2ZhaWxlZCc6ICgpID0+XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgZmFsc2UpLFxuICAgICAgJ2NhbGwucmVqZWN0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5yaW5nJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwubWlzc2VkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9lbmRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfY291bnRfdXBkYXRlZCc6XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWQnOlxuICAgICAgICB0aGlzLnVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQsXG4gICAgICAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2xlZnQnOiB0aGlzLnVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0LFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9zdGFydGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9zdGFydGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIHRydWUpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fc3RvcHBlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9mYWlsZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnVuYmxvY2tlZF91c2VyJzogdGhpcy51bmJsb2NrVXNlcixcbiAgICAgICdjYWxsLnVwZGF0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIHRoZSBjbGVhbnVwIHRhc2tzLlxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICBmb3IgKGNvbnN0IFtjY0tleSwgdGFza0lkXSBvZiB0aGlzLmNsb3NlZENhcHRpb25zVGFza3MuZW50cmllcygpKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGFza0lkKTtcbiAgICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5kZWxldGUoY2NLZXkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBjcml0ZXJpYSB0aGF0IGFyZSB1c2VkIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICogVG8gZGlzYWJsZSBzb3J0aW5nLCB5b3UgY2FuIHBhc3MgYG5vb3BDb21wYXJhdG9yKClgLlxuICAgKlxuICAgKiBAcGFyYW0gY29tcGFyYXRvciB0aGUgY29tcGFyYXRvciB0byB1c2UgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0U29ydFBhcnRpY2lwYW50c0J5ID0gKGNvbXBhcmF0b3I6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4pID0+IHtcbiAgICB0aGlzLnNvcnRQYXJ0aWNpcGFudHNCeSA9IGNvbXBhcmF0b3I7XG4gICAgLy8gdHJpZ2dlciByZS1zb3J0aW5nIG9mIHBhcnRpY2lwYW50c1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzU3ViamVjdCwgKHBzKSA9PiBwcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICAgKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAgICpcbiAgICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAgICovXG4gIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAgICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gICAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gICAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAqL1xuICBzZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIGdldCBwYXJ0aWNpcGFudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50Q291bnQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY291bnQgdGhlIG51bWJlciBvZiBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBzZXRQYXJ0aWNpcGFudENvdW50ID0gKGNvdW50OiBQYXRjaDxudW1iZXI+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRDb3VudFN1YmplY3QsIGNvdW50KTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgdGhlIGNhbGwgZHVyYXRpb24uXG4gICAqL1xuICBnZXQgc3RhcnRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHN0YXJ0ZWRBdCB0aGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqL1xuICBzZXRTdGFydGVkQXQgPSAoc3RhcnRlZEF0OiBQYXRjaDxEYXRlIHwgdW5kZWZpbmVkPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0ZWRBdFN1YmplY3QsIHN0YXJ0ZWRBdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBjbG9zZWQgY2FwdGlvbnMgYXJlIGVuYWJsZWQgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBjYXB0aW9uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhcHRpb25pbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjbG9zZWQgY2FwdGlvbmluZyBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNhcHRpb25pbmcgdGhlIGNsb3NlZCBjYXB0aW9uaW5nIHN0YXRlLlxuICAgKi9cbiAgc2V0Q2FwdGlvbmluZyA9IChjYXB0aW9uaW5nOiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIFJ4VXRpbHMudXBkYXRlVmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgY2FwdGlvbmluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBpbmNsdWRlcyB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBhcyB3ZWxsLlxuICAgKi9cbiAgZ2V0IGFub255bW91c1BhcnRpY2lwYW50Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY291bnQgdGhlIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0QW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9IChjb3VudDogUGF0Y2g8bnVtYmVyPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0LCBjb3VudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5wYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgc3RhYmxlIGxpc3Qgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwsIHVuc29ydGVkLlxuICAgKi9cbiAgZ2V0IHJhd1BhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5yYXdQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHBhcnRpY2lwYW50cyB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBzZXRQYXJ0aWNpcGFudHMgPSAocGFydGljaXBhbnRzOiBQYXRjaDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzU3ViamVjdCwgcGFydGljaXBhbnRzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGxvY2FsIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgbG9jYWxQYXJ0aWNpcGFudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5sb2NhbFBhcnRpY2lwYW50JCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcmVtb3RlIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHJlbW90ZVBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5yZW1vdGVQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IGRvbWluYW50U3BlYWtlcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5kb21pbmFudFNwZWFrZXIkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwaW5uZWQgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgcGlubmVkUGFydGljaXBhbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnBpbm5lZFBhcnRpY2lwYW50cyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlbGwgaWYgdGhlcmUgaXMgYW4gb25nb2luZyBzY3JlZW4gc2hhcmUgaW4gdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGhhc09uZ29pbmdTY3JlZW5TaGFyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5oYXNPbmdvaW5nU2NyZWVuU2hhcmUkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGluZyBzdGF0ZS5cbiAgICovXG4gIGdldCBjYWxsaW5nU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbGluZ1N0YXRlJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbGluZyBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGF0ZSB0aGUgbmV3IGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBzZXRDYWxsaW5nU3RhdGUgPSAoc3RhdGU6IFBhdGNoPENhbGxpbmdTdGF0ZT4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsaW5nU3RhdGVTdWJqZWN0LCBzdGF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIHN0YXRzIHJlcG9ydC5cbiAgICovXG4gIGdldCBjYWxsU3RhdHNSZXBvcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbFN0YXRzUmVwb3J0JCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjYWxsIHN0YXRzIHJlcG9ydCBpcyBiZWluZyBvYnNlcnZlZCBvciBub3QuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0IGlzQ2FsbFN0YXRzUmVwb3J0T2JzZXJ2ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFN0YXRzUmVwb3J0U3ViamVjdC5vYnNlcnZlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjYWxsIHN0YXRzIHJlcG9ydC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byBzZXQuXG4gICAqL1xuICBzZXRDYWxsU3RhdHNSZXBvcnQgPSAocmVwb3J0OiBQYXRjaDxDYWxsU3RhdHNSZXBvcnQgfCB1bmRlZmluZWQ+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbFN0YXRzUmVwb3J0U3ViamVjdCwgcmVwb3J0KTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIG1lbWJlcnMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBtZW1iZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtZW1iZXJzIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gbWVtYmVycyB0aGUgbWVtYmVycyB0byBzZXQuXG4gICAqL1xuICBzZXRNZW1iZXJzID0gKG1lbWJlcnM6IFBhdGNoPE1lbWJlclJlc3BvbnNlW10+KSA9PiB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzU3ViamVjdCwgbWVtYmVycyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBjYXBhYmlsaXRpZXMgb2YgdGhlIGN1cnJlbnQgdXNlciBmb3IgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBvd25DYXBhYmlsaXRpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMub3duQ2FwYWJpbGl0aWVzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgb3duIGNhcGFiaWxpdGllcy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBjYXBhYmlsaXRpZXMgdGhlIGNhcGFiaWxpdGllcyB0byBzZXQuXG4gICAqL1xuICBzZXRPd25DYXBhYmlsaXRpZXMgPSAoY2FwYWJpbGl0aWVzOiBQYXRjaDxPd25DYXBhYmlsaXR5W10+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMub3duQ2FwYWJpbGl0aWVzU3ViamVjdCwgY2FwYWJpbGl0aWVzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGJhY2tzdGFnZSBzdGF0ZS5cbiAgICovXG4gIGdldCBiYWNrc3RhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuYmFja3N0YWdlJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKiBAcGFyYW0gYmFja3N0YWdlIHRoZSBiYWNrc3RhZ2Ugc3RhdGUuXG4gICAqL1xuICBzZXRCYWNrc3RhZ2UgPSAoYmFja3N0YWdlOiBQYXRjaDxib29sZWFuPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJhY2tzdGFnZVN1YmplY3QsIGJhY2tzdGFnZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgbGlzdCBvZiBibG9ja2VkIHVzZXIgSURzLlxuICAgKi9cbiAgZ2V0IGJsb2NrZWRVc2VySWRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBnZXQgY3JlYXRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIGdldCBlbmRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGVuZGVkLlxuICAgKiBAcGFyYW0gZW5kZWRBdCB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIHNldEVuZGVkQXQgPSAoZW5kZWRBdDogUGF0Y2g8RGF0ZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEF0U3ViamVjdCwgZW5kZWRBdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gICAqL1xuICBnZXQgc3RhcnRzQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhcnRzQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gdXBkYXRlZC5cbiAgICovXG4gIGdldCB1cGRhdGVkQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudXBkYXRlZEF0JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBjcmVhdGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBjcmVhdGVkQnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEJ5JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBjdXN0b20gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgY3VzdG9tKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmN1c3RvbSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgZWdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGVncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lZ3Jlc3MkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGluZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgaW5ncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5pbmdyZXNzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSByZWNvcmRpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHJlY29yZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNlc3Npb24gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgc2Vzc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXR0aW5ncyBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgc2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2V0dGluZ3MkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRyYW5zY3JpYmluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgdHJhbnNjcmliaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gZW5kZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGVuZGVkQnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRCeSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGh1bWJuYWlscyBvZiB0aGlzIGNhbGwsIGlmIGVuYWJsZWQgaW4gdGhlIGNhbGwgc2V0dGluZ3MuXG4gICAqL1xuICBnZXQgdGh1bWJuYWlscygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy50aHVtYm5haWxzJCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBxdWV1ZSBvZiBjbG9zZWQgY2FwdGlvbnMuXG4gICAqL1xuICBnZXQgY2xvc2VkQ2FwdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2xvc2VkQ2FwdGlvbnMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHRyeSB0byBmaW5kIHRoZSBwYXJ0aWNpcGFudCB3aXRoIHRoZSBnaXZlbiBzZXNzaW9uSWQgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIG9mIHRoZSBwYXJ0aWNpcGFudCB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB0aGUgcGFydGljaXBhbnQgd2l0aCB0aGUgZ2l2ZW4gc2Vzc2lvbklkIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmQuXG4gICAqL1xuICBmaW5kUGFydGljaXBhbnRCeVNlc3Npb25JZCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgKTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IGxvb2t1cCB0YWJsZSBvZiBwYXJ0aWNpcGFudHMgaW5kZXhlZCBieSB0aGVpciBzZXNzaW9uIElELlxuICAgKi9cbiAgZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMucmVkdWNlPHtcbiAgICAgIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQ7XG4gICAgfT4oKGxvb2t1cFRhYmxlLCBwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgbG9va3VwVGFibGVbcGFydGljaXBhbnQuc2Vzc2lvbklkXSA9IHBhcnRpY2lwYW50O1xuICAgICAgcmV0dXJuIGxvb2t1cFRhYmxlO1xuICAgIH0sIHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW4gYHNlc3Npb25JZGAuXG4gICAqIElmIHRoZSBwYXJ0aWNpcGFudCBjYW4ndCBiZSBmb3VuZCwgdGhpcyBvcGVyYXRpb24gaXMgbm8tb3AuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIElEIG9mIHRoZSBwYXJ0aWNpcGFudCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBwYXRjaCB0aGUgcGF0Y2ggdG8gYXBwbHkgdG8gdGhlIHBhcnRpY2lwYW50LlxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBwYXJ0aWNpcGFudCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgcGFydGljaXBhbnQgY291bGRuJ3QgYmUgZm91bmQuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICBwYXRjaDpcbiAgICAgIHwgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoXG4gICAgICB8ICgocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT4gU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoKSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgUGFydGljaXBhbnQgd2l0aCBzZXNzaW9uSWQgJHtzZXNzaW9uSWR9IG5vdCBmb3VuZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRoZVBhdGNoID0gdHlwZW9mIHBhdGNoID09PSAnZnVuY3Rpb24nID8gcGF0Y2gocGFydGljaXBhbnQpIDogcGF0Y2g7XG4gICAgY29uc3QgdXBkYXRlZFBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50ID0ge1xuICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAuLi50aGVQYXRjaCxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT5cbiAgICAgICAgcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCA/IHVwZGF0ZWRQYXJ0aWNpcGFudCA6IHAsXG4gICAgICApLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLlxuICAgKiBJZiBhIHBhcnRpY2lwYW50IHdpdGggbWF0Y2hpbmcgYHNlc3Npb25JZGAgY2FuJ3QgYmUgZm91bmQsIHRoZSBwcm92aWRlZFxuICAgKiBgcGFydGljaXBhbnRgIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgcGFydGljaXBhbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gcGFydGljaXBhbnQgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZSBvciBhZGQuXG4gICAqIEBwYXJhbSBwYXRjaCBhbiBvcHRpb25hbCBwYXRjaCB0byBhcHBseSB0byB0aGUgcGFydGljaXBhbnQuXG4gICAqL1xuICB1cGRhdGVPckFkZFBhcnRpY2lwYW50ID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICAgIHBhdGNoPzpcbiAgICAgIHwgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoXG4gICAgICB8ICgocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT4gU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoKSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIGxldCBhZGQgPSB0cnVlO1xuICAgICAgY29uc3QgbmV4dFBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgaWYgKHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICBhZGQgPSBmYWxzZTtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50ID0geyAuLi5wLCAuLi5wYXJ0aWNpcGFudCB9O1xuICAgICAgICAgIGNvbnN0IHRoZVBhdGNoID0gdHlwZW9mIHBhdGNoID09PSAnZnVuY3Rpb24nID8gcGF0Y2godXBkYXRlZCkgOiBwYXRjaDtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih1cGRhdGVkLCB0aGVQYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9KTtcbiAgICAgIGlmIChhZGQpIG5leHRQYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudCk7XG4gICAgICByZXR1cm4gbmV4dFBhcnRpY2lwYW50cztcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwgd2hvc2Ugc2Vzc2lvbiBJRCBpcyBpbiB0aGUgZ2l2ZW4gYHNlc3Npb25JZHNgLlxuICAgKiBJZiBubyBwYXRjaGVzIGFyZSBwcm92aWRlZCwgdGhpcyBvcGVyYXRpb24gaXMgbm8tb3AuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gcGF0Y2ggdGhlIHBhdGNoIHRvIGFwcGx5IHRvIHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIEByZXR1cm5zIGFsbCBwYXJ0aWNpcGFudHMsIHdpdGggYWxsIHBhdGNoIGFwcGxpZWQuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudHMgPSAocGF0Y2g6IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHBhdGNoKS5sZW5ndGggPT09IDApIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cztcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgY29uc3QgdGhlUGF0Y2ggPSBwYXRjaFtwLnNlc3Npb25JZF07XG4gICAgICAgIGlmICh0aGVQYXRjaCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgLi4udGhlUGF0Y2gsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0cmFjayBzdWJzY3JpcHRpb24gY29uZmlndXJhdGlvbiBmb3Igb25lIG9yIG1vcmUgcGFydGljaXBhbnRzLlxuICAgKiBZb3UgaGF2ZSB0byBjcmVhdGUgYSBzdWJzY3JpcHRpb24gZm9yIGVhY2ggcGFydGljaXBhbnQgZm9yIGFsbCB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIHRyYWNrcyB5b3Ugd2FudCB0byByZWNlaXZlLlxuICAgKiBZb3UgY2FuIG9ubHkgc3Vic2NyaWJlIGZvciB0cmFja3MgYWZ0ZXIgdGhlIHBhcnRpY2lwYW50IHN0YXJ0ZWQgcHVibGlzaGluZyB0aGUgZ2l2ZW4ga2luZCBvZiB0cmFjay5cbiAgICpcbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBzdWJzY3JpcHRpb24gdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlcyB0aGUgbGlzdCBvZiBzdWJzY3JpcHRpb24gY2hhbmdlcyB0byBkby5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzID0gKFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICAgY2hhbmdlczogU3Vic2NyaXB0aW9uQ2hhbmdlcyxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgT2JqZWN0LmVudHJpZXMoY2hhbmdlcykucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPihcbiAgICAgICAgKGFjYywgW3Nlc3Npb25JZCwgY2hhbmdlXSkgPT4ge1xuICAgICAgICAgIGlmIChjaGFuZ2UuZGltZW5zaW9uKSB7XG4gICAgICAgICAgICBjaGFuZ2UuZGltZW5zaW9uLmhlaWdodCA9IE1hdGguY2VpbChjaGFuZ2UuZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgICAgICBjaGFuZ2UuZGltZW5zaW9uLndpZHRoID0gTWF0aC5jZWlsKGNoYW5nZS5kaW1lbnNpb24ud2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwcm9wOiBrZXlvZiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkID1cbiAgICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICAgICAgICAgID8gJ3ZpZGVvRGltZW5zaW9uJ1xuICAgICAgICAgICAgICA6IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snXG4gICAgICAgICAgICAgICAgPyAnc2NyZWVuU2hhcmVEaW1lbnNpb24nXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgICAgIGFjY1tzZXNzaW9uSWRdID0ge1xuICAgICAgICAgICAgICBbcHJvcF06IGNoYW5nZS5kaW1lbnNpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LFxuICAgICAgICB7fSxcbiAgICAgICksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCB0aGUgdmlkZW8gZXZlbnQgdGhhdCBvdXIgYmFja2VuZCBzZW50IHVzLlxuICAgKi9cbiAgdXBkYXRlRnJvbUV2ZW50ID0gKGV2ZW50OiBWaWRlb0V2ZW50KSA9PiB7XG4gICAgY29uc3QgdXBkYXRlID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50LnR5cGVdO1xuICAgIGlmICh1cGRhdGUpIHtcbiAgICAgIHVwZGF0ZShldmVudCBhcyBhbnkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcGFydGljaXBhbnQgcGlubmVkIHN0YXRlIHdpdGggc2VydmVyIHNpZGUgcGlubmluZyBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gcGlucyB0aGUgbGF0ZXN0IHBpbnMgZnJvbSB0aGUgc2VydmVyLlxuICAgKi9cbiAgc2V0U2VydmVyU2lkZVBpbnMgPSAocGluczogUGluW10pID0+IHtcbiAgICBjb25zdCBwaW5zTG9va3VwID0gcGlucy5yZWR1Y2U8eyBbc2Vzc2lvbklkOiBzdHJpbmddOiBudW1iZXIgfCB1bmRlZmluZWQgfT4oXG4gICAgICAobG9va3VwLCBwaW4pID0+IHtcbiAgICAgICAgbG9va3VwW3Bpbi5zZXNzaW9uSWRdID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIGxvb2t1cDtcbiAgICAgIH0sXG4gICAgICB7fSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+XG4gICAgICBwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICBjb25zdCBzZXJ2ZXJTaWRlUGlubmVkQXQgPSBwaW5zTG9va3VwW3BhcnRpY2lwYW50LnNlc3Npb25JZF07XG4gICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBpcyBuZXdseSBwaW5uZWRcbiAgICAgICAgaWYgKHNlcnZlclNpZGVQaW5uZWRBdCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIHBpbjoge1xuICAgICAgICAgICAgICBpc0xvY2FsUGluOiBmYWxzZSxcbiAgICAgICAgICAgICAgcGlubmVkQXQ6IHNlcnZlclNpZGVQaW5uZWRBdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQgaXMgbm8gbG9uZ2VyIHBpbm5lZCBzZXJ2ZXIgc2lkZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBwaW5cbiAgICAgICAgaWYgKHBhcnRpY2lwYW50LnBpbiAmJiAhcGFydGljaXBhbnQucGluLmlzTG9jYWxQaW4pIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBwaW46IHVuZGVmaW5lZCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIGNoYW5nZXMgdG8gYmUgYXBwbGllZFxuICAgICAgICByZXR1cm4gcGFydGljaXBhbnQ7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIG9ycGhhbmVkIHRyYWNrIHRvIHRoZSBjYWxsIHN0YXRlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIG9ycGhhbmVkVHJhY2sgdGhlIG9ycGhhbmVkIHRyYWNrIHRvIGFkZC5cbiAgICovXG4gIHJlZ2lzdGVyT3JwaGFuZWRUcmFjayA9IChvcnBoYW5lZFRyYWNrOiBPcnBoYW5lZFRyYWNrKSA9PiB7XG4gICAgdGhpcy5vcnBoYW5lZFRyYWNrcy5wdXNoKG9ycGhhbmVkVHJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIG9ycGhhbmVkIHRyYWNrIGZyb20gdGhlIGNhbGwgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gaWQgdGhlIElEIG9mIHRoZSBvcnBoYW5lZCB0cmFjayB0byByZW1vdmUuXG4gICAqL1xuICByZW1vdmVPcnBoYW5lZFRyYWNrID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLm9ycGhhbmVkVHJhY2tzID0gdGhpcy5vcnBoYW5lZFRyYWNrcy5maWx0ZXIoKG8pID0+IG8uaWQgIT09IGlkKTtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYWxsIG9ycGhhbmVkIHRyYWNrcyB3aXRoIHRoZSBnaXZlbiB0cmFjayBsb29rdXAgcHJlZml4LlxuICAgKiBBbGwgb3JwaGFuZWQgdHJhY2tzIHdpdGggdGhlIGdpdmVuIHRyYWNrIGxvb2t1cCBwcmVmaXggYXJlIHJlbW92ZWQgZnJvbSB0aGUgY2FsbCBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja0xvb2t1cFByZWZpeCB0aGUgdHJhY2sgbG9va3VwIHByZWZpeCB0byBtYXRjaCB0aGUgb3JwaGFuZWQgdHJhY2tzIGJ5LlxuICAgKi9cbiAgdGFrZU9ycGhhbmVkVHJhY2tzID0gKHRyYWNrTG9va3VwUHJlZml4OiBzdHJpbmcpOiBPcnBoYW5lZFRyYWNrW10gPT4ge1xuICAgIGNvbnN0IG9ycGhhbnMgPSB0aGlzLm9ycGhhbmVkVHJhY2tzLmZpbHRlcihcbiAgICAgIChvcnBoYW4pID0+IG9ycGhhbi50cmFja0xvb2t1cFByZWZpeCA9PT0gdHJhY2tMb29rdXBQcmVmaXgsXG4gICAgKTtcbiAgICBpZiAob3JwaGFucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLm9ycGhhbmVkVHJhY2tzID0gdGhpcy5vcnBoYW5lZFRyYWNrcy5maWx0ZXIoXG4gICAgICAgIChvcnBoYW4pID0+IG9ycGhhbi50cmFja0xvb2t1cFByZWZpeCAhPT0gdHJhY2tMb29rdXBQcmVmaXgsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb3JwaGFucztcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2xvc2VkIGNhcHRpb25zIHNldHRpbmdzLlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIHRoZSBuZXcgY2xvc2VkIGNhcHRpb25zIHNldHRpbmdzLlxuICAgKi9cbiAgdXBkYXRlQ2xvc2VkQ2FwdGlvblNldHRpbmdzID0gKGNvbmZpZzogUGFydGlhbDxDbG9zZWRDYXB0aW9uc1NldHRpbmdzPikgPT4ge1xuICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNTZXR0aW5ncyA9IHsgLi4udGhpcy5jbG9zZWRDYXB0aW9uc1NldHRpbmdzLCAuLi5jb25maWcgfTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIHVwZGF0ZUZyb21DYWxsUmVzcG9uc2UgPSAoY2FsbDogQ2FsbFJlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXRCYWNrc3RhZ2UoY2FsbC5iYWNrc3RhZ2UpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCBjYWxsLmJsb2NrZWRfdXNlcl9pZHMpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEF0U3ViamVjdCwgbmV3IERhdGUoY2FsbC5jcmVhdGVkX2F0KSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy51cGRhdGVkQXRTdWJqZWN0LCBuZXcgRGF0ZShjYWxsLnVwZGF0ZWRfYXQpKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZShcbiAgICAgIHRoaXMuc3RhcnRzQXRTdWJqZWN0LFxuICAgICAgY2FsbC5zdGFydHNfYXQgPyBuZXcgRGF0ZShjYWxsLnN0YXJ0c19hdCkgOiB1bmRlZmluZWQsXG4gICAgKTtcbiAgICB0aGlzLnNldEVuZGVkQXQoY2FsbC5lbmRlZF9hdCA/IG5ldyBEYXRlKGNhbGwuZW5kZWRfYXQpIDogdW5kZWZpbmVkKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeVN1YmplY3QsIGNhbGwuY3JlYXRlZF9ieSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b21TdWJqZWN0LCBjYWxsLmN1c3RvbSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5lZ3Jlc3NTdWJqZWN0LCBjYWxsLmVncmVzcyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5pbmdyZXNzU3ViamVjdCwgY2FsbC5pbmdyZXNzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIGNhbGwucmVjb3JkaW5nKTtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgY2FsbC5zZXNzaW9uKTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgY2FsbC5zZXR0aW5ncyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBjYWxsLnRyYW5zY3JpYmluZyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgY2FsbC5jYXB0aW9uaW5nKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRodW1ibmFpbHNTdWJqZWN0LCBjYWxsLnRodW1ibmFpbHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYWxsIHN0YXRlIHdpdGggdGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgU0ZVIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU3RhdGUgdGhlIGNhbGwgc3RhdGUgZnJvbSB0aGUgU0ZVIHNlcnZlci5cbiAgICogQHBhcmFtIGN1cnJlbnRTZXNzaW9uSWQgdGhlIHNlc3Npb24gSUQgb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICogQHBhcmFtIHJlY29ubmVjdERldGFpbHMgb3B0aW9uYWwgcmVjb25uZWN0IGRldGFpbHMuXG4gICAqL1xuICB1cGRhdGVGcm9tU2Z1Q2FsbFN0YXRlID0gKFxuICAgIGNhbGxTdGF0ZTogU2Z1Q2FsbFN0YXRlLFxuICAgIGN1cnJlbnRTZXNzaW9uSWQ6IHN0cmluZyxcbiAgICByZWNvbm5lY3REZXRhaWxzPzogUmVjb25uZWN0RGV0YWlscyxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIHBhcnRpY2lwYW50Q291bnQsIHN0YXJ0ZWRBdCwgcGlucyB9ID0gY2FsbFN0YXRlO1xuICAgIGNvbnN0IGxvY2FsUHVibGlzaGVkVHJhY2tzID1cbiAgICAgIHJlY29ubmVjdERldGFpbHM/LmFubm91bmNlZFRyYWNrcy5tYXAoKHQpID0+IHQudHJhY2tUeXBlKSA/PyBbXTtcbiAgICB0aGlzLnNldFBhcnRpY2lwYW50cygoKSA9PiB7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudExvb2t1cCA9IHRoaXMuZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCgpO1xuICAgICAgcmV0dXJuIHBhcnRpY2lwYW50cy5tYXA8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4oKHApID0+IHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgbG9jYWwgc3RhdGUgb2YgdGhlIHBhcnRpY2lwYW50XG4gICAgICAgIC8vIChlLmcuIHZpZGVvRGltZW5zaW9uLCB2aXNpYmlsaXR5U3RhdGUsIHBpbm5lZEF0LCBldGMuKVxuICAgICAgICAvLyBhcyBpdCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBzZXJ2ZXIuXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudExvb2t1cFtwLnNlc3Npb25JZF07XG4gICAgICAgIGNvbnN0IGlzTG9jYWxQYXJ0aWNpcGFudCA9IHAuc2Vzc2lvbklkID09PSBjdXJyZW50U2Vzc2lvbklkO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmdQYXJ0aWNpcGFudCwgcCwge1xuICAgICAgICAgIGlzTG9jYWxQYXJ0aWNpcGFudCxcbiAgICAgICAgICBwdWJsaXNoZWRUcmFja3M6IGlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICAgICAgPyBsb2NhbFB1Ymxpc2hlZFRyYWNrc1xuICAgICAgICAgICAgOiBwLnB1Ymxpc2hlZFRyYWNrcyxcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZTpcbiAgICAgICAgICAgIGV4aXN0aW5nUGFydGljaXBhbnQ/LnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/IHtcbiAgICAgICAgICAgICAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgICAgIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSBzYXRpc2ZpZXMgUGFydGlhbDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50Pik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0UGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50Py50b3RhbCB8fCAwKTtcbiAgICB0aGlzLnNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudD8uYW5vbnltb3VzIHx8IDApO1xuICAgIHRoaXMuc2V0U3RhcnRlZEF0KHN0YXJ0ZWRBdCA/IFRpbWVzdGFtcC50b0RhdGUoc3RhcnRlZEF0KSA6IG5ldyBEYXRlKCkpO1xuICAgIHRoaXMuc2V0U2VydmVyU2lkZVBpbnMocGlucyk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tTWVtYmVyUmVtb3ZlZCA9IChldmVudDogQ2FsbE1lbWJlclJlbW92ZWRFdmVudCkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT5cbiAgICAgIG1lbWJlcnMuZmlsdGVyKChtKSA9PiBldmVudC5tZW1iZXJzLmluZGV4T2YobS51c2VyX2lkKSA9PT0gLTEpLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tTWVtYmVyQWRkZWQgPSAoZXZlbnQ6IENhbGxNZW1iZXJBZGRlZEV2ZW50KSA9PiB7XG4gICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGV2ZW50LmNhbGwpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVyc1N1YmplY3QsIChtZW1iZXJzKSA9PiBbXG4gICAgICAuLi5tZW1iZXJzLFxuICAgICAgLi4uZXZlbnQubWVtYmVycyxcbiAgICBdKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdG9wcGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMhLFxuICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMhLFxuICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24gPSAoXG4gICAgc2Vzc2lvbjogQ2FsbFNlc3Npb25SZXNwb25zZSB8IHVuZGVmaW5lZCxcbiAgKSA9PiB7XG4gICAgLy8gd2hlbiBpbiBKT0lORUQgc3RhdGUsIHdlIHNob3VsZCB1c2UgdGhlIHBhcnRpY2lwYW50IGNvdW50IGNvbWluZyB0aHJvdWdoXG4gICAgLy8gdGhlIFNGVSBoZWFsdGhjaGVjayBldmVudCwgYXMgaXQncyBtb3JlIGFjY3VyYXRlLlxuICAgIGlmICghc2Vzc2lvbiB8fCB0aGlzLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkgcmV0dXJuO1xuICAgIGNvbnN0IGJ5Um9sZUNvdW50ID0gT2JqZWN0LnZhbHVlcyhcbiAgICAgIHNlc3Npb24ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgKS5yZWR1Y2UoKHRvdGFsLCBjb3VudEJ5Um9sZSkgPT4gdG90YWwgKyBjb3VudEJ5Um9sZSwgMCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRDb3VudCA9IE1hdGgubWF4KGJ5Um9sZUNvdW50LCBzZXNzaW9uLnBhcnRpY2lwYW50cy5sZW5ndGgpO1xuICAgIHRoaXMuc2V0UGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50KTtcbiAgICB0aGlzLnNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQoc2Vzc2lvbi5hbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQgfHwgMCk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Q291bnRVcGRhdGUgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQsXG4gICkgPT4ge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlc3Npb25TdWJqZWN0LCAoc2Vzc2lvbikgPT4ge1xuICAgICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogZXZlbnQuYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50LFxuICAgICAgICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZTogZXZlbnQucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uKHMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQsXG4gICkgPT4ge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlc3Npb25TdWJqZWN0LCAoc2Vzc2lvbikgPT4ge1xuICAgICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZSB9ID0gc2Vzc2lvbjtcbiAgICAgIGNvbnN0IHsgdXNlciwgdXNlcl9zZXNzaW9uX2lkIH0gPSBldmVudC5wYXJ0aWNpcGFudDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRzLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gcC51c2VyX3Nlc3Npb25faWQgIT09IHVzZXJfc2Vzc2lvbl9pZCxcbiAgICAgICAgKSxcbiAgICAgICAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHtcbiAgICAgICAgICAuLi5wYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZSxcbiAgICAgICAgICBbdXNlci5yb2xlXTogTWF0aC5tYXgoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgKHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlW3VzZXIucm9sZV0gfHwgMCkgLSAxLFxuICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uKHMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCA9IChcbiAgICBldmVudDogQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUgfSA9IHNlc3Npb247XG4gICAgICBjb25zdCB7IHVzZXIsIHVzZXJfc2Vzc2lvbl9pZCB9ID0gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICAvLyBJdCBjb3VsZCBoYXBwZW4gdGhhdCB0aGUgYmFja2VuZCBkZWxpdmVycyB0aGUgc2FtZSBwYXJ0aWNpcGFudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgIC8vIE9uY2Ugd2l0aCB0aGUgY2FsbC5zZXNzaW9uX3N0YXJ0ZWQgZXZlbnQgYW5kIG9uY2UgYWdhaW4gd2l0aCB0aGVcbiAgICAgIC8vIGNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWQgZXZlbnQuIEluIHRoaXMgY2FzZSxcbiAgICAgIC8vIHdlIHNob3VsZCB1cGRhdGUgdGhlIGV4aXN0aW5nIHBhcnRpY2lwYW50IGFuZCBwcmV2ZW50IGR1cGxpY2F0aW5nIGl0LlxuICAgICAgbGV0IHNob3VsZEluc2VydFBhcnRpY2lwYW50ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHMubWFwKChwKSA9PiB7XG4gICAgICAgIGlmIChwLnVzZXJfc2Vzc2lvbl9pZCA9PT0gdXNlcl9zZXNzaW9uX2lkKSB7XG4gICAgICAgICAgc2hvdWxkSW5zZXJ0UGFydGljaXBhbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9KTtcbiAgICAgIGlmIChzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCkge1xuICAgICAgICAvLyB0aGlzIGlzIGEgbmV3IGFycmF5LCB3ZSBjYW4gc2FmZWx5IHB1c2ggdGhlIG5ldyBwYXJ0aWNpcGFudFxuICAgICAgICB1cGRhdGVkUGFydGljaXBhbnRzLnB1c2goZXZlbnQucGFydGljaXBhbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSBhcmUgdXBkYXRpbmcgYW4gZXhpc3RpbmcgcGFydGljaXBhbnQsIHdlIGRvbid0IHdhbnQgdG8gaW5jcmVtZW50XG4gICAgICAvLyB0aGUgcGFydGljaXBhbnRfYnlfcm9sZSBjb3VudC5cbiAgICAgIGNvbnN0IGluY3JlbWVudCA9IHNob3VsZEluc2VydFBhcnRpY2lwYW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHVwZGF0ZWRQYXJ0aWNpcGFudHMsXG4gICAgICAgIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICAgICAgW3VzZXIucm9sZV06IChwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZVt1c2VyLnJvbGVdIHx8IDApICsgaW5jcmVtZW50LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZU1lbWJlcnMgPSAoXG4gICAgZXZlbnQ6IENhbGxNZW1iZXJVcGRhdGVkRXZlbnQgfCBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGV2ZW50LmNhbGwpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVyc1N1YmplY3QsIChtZW1iZXJzKSA9PlxuICAgICAgbWVtYmVycy5tYXAoKG1lbWJlcikgPT4ge1xuICAgICAgICBjb25zdCBtZW1iZXJVcGRhdGUgPSBldmVudC5tZW1iZXJzLmZpbmQoXG4gICAgICAgICAgKG0pID0+IG0udXNlcl9pZCA9PT0gbWVtYmVyLnVzZXJfaWQsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBtZW1iZXJVcGRhdGUgPyBtZW1iZXJVcGRhdGUgOiBtZW1iZXI7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlUGFydGljaXBhbnRSZWFjdGlvbiA9IChldmVudDogQ2FsbFJlYWN0aW9uRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IHVzZXIsIGN1c3RvbSwgdHlwZSwgZW1vamlfY29kZSB9ID0gZXZlbnQucmVhY3Rpb247XG4gICAgdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT4ge1xuICAgICAgcmV0dXJuIHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgLy8gc2tpcCBpZiB0aGUgcmVhY3Rpb24gaXMgbm90IGZvciB0aGlzIHBhcnRpY2lwYW50XG4gICAgICAgIGlmIChwLnVzZXJJZCAhPT0gdXNlci5pZCkgcmV0dXJuIHA7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgcGFydGljaXBhbnQgd2l0aCB0aGUgbmV3IHJlYWN0aW9uXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucCxcbiAgICAgICAgICByZWFjdGlvbjoge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGVtb2ppX2NvZGUsXG4gICAgICAgICAgICBjdXN0b20sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgdW5ibG9ja1VzZXIgPSAoZXZlbnQ6IFVuYmxvY2tlZFVzZXJFdmVudCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCAoY3VycmVudCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50KSByZXR1cm4gY3VycmVudDtcbiAgICAgIHJldHVybiBjdXJyZW50LmZpbHRlcigoaWQpID0+IGlkICE9PSBldmVudC51c2VyLmlkKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIGJsb2NrVXNlciA9IChldmVudDogQmxvY2tlZFVzZXJFdmVudCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCAoY3VycmVudCkgPT4gW1xuICAgICAgLi4uKGN1cnJlbnQgfHwgW10pLFxuICAgICAgZXZlbnQudXNlci5pZCxcbiAgICBdKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZU93bkNhcGFiaWxpdGllcyA9IChldmVudDogVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IHRoaXMubG9jYWxQYXJ0aWNpcGFudD8udXNlcklkKSB7XG4gICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGV2ZW50Lm93bl9jYXBhYmlsaXRpZXMpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21DbG9zZWRDYXB0aW9ucyA9IChldmVudDogQ2xvc2VkQ2FwdGlvbkV2ZW50KSA9PiB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jbG9zZWRDYXB0aW9uc1N1YmplY3QsIChxdWV1ZSkgPT4ge1xuICAgICAgY29uc3QgeyBjbG9zZWRfY2FwdGlvbiB9ID0gZXZlbnQ7XG5cbiAgICAgIGNvbnN0IGtleU9mID0gKGM6IENhbGxDbG9zZWRDYXB0aW9uKSA9PiBgJHtjLnNwZWFrZXJfaWR9LyR7Yy5zdGFydF90aW1lfWA7XG4gICAgICBjb25zdCBjdXJyZW50S2V5ID0ga2V5T2YoY2xvc2VkX2NhcHRpb24pO1xuXG4gICAgICBjb25zdCBkdXBsaWNhdGUgPSBxdWV1ZS5zb21lKChjYXB0aW9uKSA9PiBrZXlPZihjYXB0aW9uKSA9PT0gY3VycmVudEtleSk7XG4gICAgICBpZiAoZHVwbGljYXRlKSByZXR1cm4gcXVldWU7XG5cbiAgICAgIGNvbnN0IG5leHRRdWV1ZSA9IFsuLi5xdWV1ZSwgY2xvc2VkX2NhcHRpb25dO1xuXG4gICAgICBjb25zdCB7IHZpc2liaWxpdHlEdXJhdGlvbk1zID0gMjcwMCwgbWF4VmlzaWJsZUNhcHRpb25zID0gMiB9ID1cbiAgICAgICAgdGhpcy5jbG9zZWRDYXB0aW9uc1NldHRpbmdzIHx8IHt9O1xuICAgICAgLy8gc2NoZWR1bGUgdGhlIHJlbW92YWwgb2YgdGhlIGNsb3NlZCBjYXB0aW9uIGFmdGVyIHRoZSByZXRlbnRpb24gdGltZVxuICAgICAgaWYgKHZpc2liaWxpdHlEdXJhdGlvbk1zID4gMCkge1xuICAgICAgICBjb25zdCB0YXNrSWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNsb3NlZENhcHRpb25zU3ViamVjdCwgKGNhcHRpb25zKSA9PlxuICAgICAgICAgICAgY2FwdGlvbnMuZmlsdGVyKChjYXB0aW9uKSA9PiBjYXB0aW9uICE9PSBjbG9zZWRfY2FwdGlvbiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmNsb3NlZENhcHRpb25zVGFza3MuZGVsZXRlKGN1cnJlbnRLZXkpO1xuICAgICAgICB9LCB2aXNpYmlsaXR5RHVyYXRpb25Ncyk7XG4gICAgICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5zZXQoY3VycmVudEtleSwgdGFza0lkKTtcblxuICAgICAgICAvLyBjYW5jZWwgdGhlIGNsZWFudXAgdGFza3MgZm9yIHRoZSBjbG9zZWQgY2FwdGlvbnMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBxdWV1ZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRRdWV1ZS5sZW5ndGggLSBtYXhWaXNpYmxlQ2FwdGlvbnM7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGtleU9mKG5leHRRdWV1ZVtpXSk7XG4gICAgICAgICAgY29uc3QgdGFzayA9IHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5nZXQoa2V5KTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGFzayk7XG4gICAgICAgICAgdGhpcy5jbG9zZWRDYXB0aW9uc1Rhc2tzLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHRyaW0gdGhlIHF1ZXVlXG4gICAgICByZXR1cm4gbmV4dFF1ZXVlLnNsaWNlKC1tYXhWaXNpYmxlQ2FwdGlvbnMpO1xuICAgIH0pO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgRXJyb3IgYXMgU2Z1RXJyb3IgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIE5lZ290aWF0aW9uRXJyb3IgaXMgdGhyb3duIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgZHVyaW5nIHRoZSBuZWdvdGlhdGlvbiBwcm9jZXNzLlxuICogSXQgZXh0ZW5kcyB0aGUgYnVpbHQtaW4gRXJyb3IgY2xhc3MgYW5kIGluY2x1ZGVzIGFuIFNmdUVycm9yIG9iamVjdCBmb3IgbW9yZSBkZXRhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgTmVnb3RpYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIFRoZSBTZnVFcnJvciBvYmplY3QgdGhhdCBjb250YWlucyBkZXRhaWxzIGFib3V0IHRoZSBlcnJvci5cbiAgICovXG4gIGVycm9yOiBTZnVFcnJvcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBOZWdvdGlhdGlvbkVycm9yLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZXJyb3I6IFNmdUVycm9yKSB7XG4gICAgc3VwZXIoZXJyb3IubWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ05lZ290aWF0aW9uRXJyb3InO1xuICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ2xpZW50RGV0YWlscywgU2RrLCBTZGtUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBGbGF0dGVuIHRoZSBzdGF0cyByZXBvcnQgaW50byBhbiBhcnJheSBvZiBzdGF0cyBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byBmbGF0dGVuLlxuICovXG5leHBvcnQgY29uc3QgZmxhdHRlbiA9IChyZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0KSA9PiB7XG4gIGNvbnN0IHN0YXRzOiBSVENTdGF0c1tdID0gW107XG4gIHJlcG9ydC5mb3JFYWNoKChzKSA9PiB7XG4gICAgc3RhdHMucHVzaChzKTtcbiAgfSk7XG4gIHJldHVybiBzdGF0cztcbn07XG5cbi8qKlxuICogRHVtcCB0aGUgcHJvdmlkZWQgTWVkaWFTdHJlYW0gaW50byBhIEpTT04gb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgZHVtcFN0cmVhbSA9IChzdHJlYW06IE1lZGlhU3RyZWFtKSA9PiAoe1xuICBpZDogc3RyZWFtLmlkLFxuICB0cmFja3M6IHN0cmVhbS5nZXRUcmFja3MoKS5tYXAoKHRyYWNrKSA9PiAoe1xuICAgIGlkOiB0cmFjay5pZCxcbiAgICBraW5kOiB0cmFjay5raW5kLFxuICAgIGxhYmVsOiB0cmFjay5sYWJlbCxcbiAgICBlbmFibGVkOiB0cmFjay5lbmFibGVkLFxuICAgIG11dGVkOiB0cmFjay5tdXRlZCxcbiAgICByZWFkeVN0YXRlOiB0cmFjay5yZWFkeVN0YXRlLFxuICB9KSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGdldFNka1NpZ25hdHVyZSA9IChjbGllbnREZXRhaWxzOiBDbGllbnREZXRhaWxzKSA9PiB7XG4gIGNvbnN0IHsgc2RrLCAuLi5wbGF0Zm9ybSB9ID0gY2xpZW50RGV0YWlscztcbiAgY29uc3Qgc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgY29uc3Qgc2RrVmVyc2lvbiA9IGdldFNka1ZlcnNpb24oc2RrKTtcblxuICByZXR1cm4ge1xuICAgIHNka05hbWUsXG4gICAgc2RrVmVyc2lvbixcbiAgICAuLi5wbGF0Zm9ybSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtOYW1lID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RcbiAgICA/ICdzdHJlYW0tcmVhY3QnXG4gICAgOiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RfTkFUSVZFXG4gICAgICA/ICdzdHJlYW0tcmVhY3QtbmF0aXZlJ1xuICAgICAgOiAnc3RyZWFtLWpzJztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtWZXJzaW9uID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgPyBgJHtzZGsubWFqb3J9LiR7c2RrLm1pbm9yfS4ke3Nkay5wYXRjaH1gIDogJzAuMC4wLWRldmVsb3BtZW50Jztcbn07XG4iLCJpbXBvcnQge1xuICBBbmRyb2lkVGhlcm1hbFN0YXRlLFxuICBBcHBsZVRoZXJtYWxTdGF0ZSxcbiAgQ2xpZW50RGV0YWlscyxcbiAgRGV2aWNlLFxuICBPUyxcbiAgU2RrLFxuICBTZGtUeXBlLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU2VuZFN0YXRzUmVxdWVzdCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4vcGxhdGZvcm1zJztcbmltcG9ydCB7IFVBUGFyc2VyIH0gZnJvbSAndWEtcGFyc2VyLWpzJztcblxudHlwZSBXZWJSVENJbmZvVHlwZSA9IHtcbiAgdmVyc2lvbjogc3RyaW5nO1xufTtcblxuY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMCc7XG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSB2ZXJzaW9uLnNwbGl0KCcuJyk7XG5cbmxldCBzZGtJbmZvOiBTZGsgfCB1bmRlZmluZWQgPSB7XG4gIHR5cGU6IFNka1R5cGUuUExBSU5fSkFWQVNDUklQVCxcbiAgbWFqb3IsXG4gIG1pbm9yLFxuICBwYXRjaCxcbn07XG5cbmxldCBvc0luZm86IE9TIHwgdW5kZWZpbmVkO1xubGV0IGRldmljZUluZm86IERldmljZSB8IHVuZGVmaW5lZDtcbmxldCB3ZWJSdGNJbmZvOiBXZWJSVENJbmZvVHlwZSB8IHVuZGVmaW5lZDtcbmxldCBkZXZpY2VTdGF0ZTogU2VuZFN0YXRzUmVxdWVzdFsnZGV2aWNlU3RhdGUnXSA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcblxuZXhwb3J0IGNvbnN0IHNldFNka0luZm8gPSAoaW5mbzogU2RrKSA9PiB7XG4gIHNka0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNka0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiBzZGtJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldE9TSW5mbyA9IChpbmZvOiBPUykgPT4ge1xuICBvc0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldERldmljZUluZm8gPSAoaW5mbzogRGV2aWNlKSA9PiB7XG4gIGRldmljZUluZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFdlYlJUQ0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiB3ZWJSdGNJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFdlYlJUQ0luZm8gPSAoaW5mbzogV2ViUlRDSW5mb1R5cGUpID0+IHtcbiAgd2ViUnRjSW5mbyA9IGluZm87XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VGhlcm1hbFN0YXRlID0gKHN0YXRlOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFvc0luZm8pIHtcbiAgICBkZXZpY2VTdGF0ZSA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUgPT09ICdhbmRyb2lkJykge1xuICAgIGNvbnN0IHRoZXJtYWxTdGF0ZSA9XG4gICAgICBBbmRyb2lkVGhlcm1hbFN0YXRlW3N0YXRlIGFzIGtleW9mIHR5cGVvZiBBbmRyb2lkVGhlcm1hbFN0YXRlXSB8fFxuICAgICAgQW5kcm9pZFRoZXJtYWxTdGF0ZS5VTlNQRUNJRklFRDtcblxuICAgIGRldmljZVN0YXRlID0ge1xuICAgICAgb25lb2ZLaW5kOiAnYW5kcm9pZCcsXG4gICAgICBhbmRyb2lkOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZSxcbiAgICAgICAgaXNQb3dlclNhdmVyTW9kZTpcbiAgICAgICAgICBkZXZpY2VTdGF0ZT8ub25lb2ZLaW5kID09PSAnYW5kcm9pZCcgJiZcbiAgICAgICAgICBkZXZpY2VTdGF0ZS5hbmRyb2lkLmlzUG93ZXJTYXZlck1vZGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lvcycpIHtcbiAgICBjb25zdCB0aGVybWFsU3RhdGUgPVxuICAgICAgQXBwbGVUaGVybWFsU3RhdGVbc3RhdGUgYXMga2V5b2YgdHlwZW9mIEFwcGxlVGhlcm1hbFN0YXRlXSB8fFxuICAgICAgQXBwbGVUaGVybWFsU3RhdGUuVU5TUEVDSUZJRUQ7XG5cbiAgICBkZXZpY2VTdGF0ZSA9IHtcbiAgICAgIG9uZW9mS2luZDogJ2FwcGxlJyxcbiAgICAgIGFwcGxlOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZSxcbiAgICAgICAgaXNMb3dQb3dlck1vZGVFbmFibGVkOlxuICAgICAgICAgIGRldmljZVN0YXRlPy5vbmVvZktpbmQgPT09ICdhcHBsZScgJiZcbiAgICAgICAgICBkZXZpY2VTdGF0ZS5hcHBsZS5pc0xvd1Bvd2VyTW9kZUVuYWJsZWQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzZXRQb3dlclN0YXRlID0gKHBvd2VyTW9kZTogYm9vbGVhbikgPT4ge1xuICBpZiAoIW9zSW5mbykge1xuICAgIGRldmljZVN0YXRlID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChvc0luZm8ubmFtZSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgZGV2aWNlU3RhdGUgPSB7XG4gICAgICBvbmVvZktpbmQ6ICdhbmRyb2lkJyxcbiAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgdGhlcm1hbFN0YXRlOlxuICAgICAgICAgIGRldmljZVN0YXRlPy5vbmVvZktpbmQgPT09ICdhbmRyb2lkJ1xuICAgICAgICAgICAgPyBkZXZpY2VTdGF0ZS5hbmRyb2lkLnRoZXJtYWxTdGF0ZVxuICAgICAgICAgICAgOiBBbmRyb2lkVGhlcm1hbFN0YXRlLlVOU1BFQ0lGSUVELFxuICAgICAgICBpc1Bvd2VyU2F2ZXJNb2RlOiBwb3dlck1vZGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lvcycpIHtcbiAgICBkZXZpY2VTdGF0ZSA9IHtcbiAgICAgIG9uZW9mS2luZDogJ2FwcGxlJyxcbiAgICAgIGFwcGxlOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZTpcbiAgICAgICAgICBkZXZpY2VTdGF0ZT8ub25lb2ZLaW5kID09PSAnYXBwbGUnXG4gICAgICAgICAgICA/IGRldmljZVN0YXRlLmFwcGxlLnRoZXJtYWxTdGF0ZVxuICAgICAgICAgICAgOiBBcHBsZVRoZXJtYWxTdGF0ZS5VTlNQRUNJRklFRCxcbiAgICAgICAgaXNMb3dQb3dlck1vZGVFbmFibGVkOiBwb3dlck1vZGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZXZpY2VTdGF0ZSA9ICgpID0+IHtcbiAgcmV0dXJuIGRldmljZVN0YXRlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENsaWVudERldGFpbHMgPSBhc3luYyAoKTogUHJvbWlzZTxDbGllbnREZXRhaWxzPiA9PiB7XG4gIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAvLyBTaW5jZSBSTiBkb2Vzbid0IHN1cHBvcnQgd2ViLCBzaGFyaW5nIGJyb3dzZXIgaW5mbyBpcyBub3QgcmVxdWlyZWRcbiAgICByZXR1cm4ge1xuICAgICAgc2RrOiBzZGtJbmZvLFxuICAgICAgb3M6IG9zSW5mbyxcbiAgICAgIGRldmljZTogZGV2aWNlSW5mbyxcbiAgICB9O1xuICB9XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHVzZXJBZ2VudERhdGEgaXMgbm90IHlldCBpbiB0aGUgVFMgdHlwZXNcbiAgY29uc3QgdXNlckFnZW50RGF0YUFwaSA9IG5hdmlnYXRvci51c2VyQWdlbnREYXRhO1xuICBsZXQgdXNlckFnZW50RGF0YTpcbiAgICB8IHtcbiAgICAgICAgcGxhdGZvcm0/OiBzdHJpbmc7XG4gICAgICAgIHBsYXRmb3JtVmVyc2lvbj86IHN0cmluZztcbiAgICAgICAgZnVsbFZlcnNpb25MaXN0PzogQXJyYXk8eyBicmFuZDogc3RyaW5nOyB2ZXJzaW9uOiBzdHJpbmcgfT47XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG4gIGlmICh1c2VyQWdlbnREYXRhQXBpICYmIHVzZXJBZ2VudERhdGFBcGkuZ2V0SGlnaEVudHJvcHlWYWx1ZXMpIHtcbiAgICB0cnkge1xuICAgICAgdXNlckFnZW50RGF0YSA9IGF3YWl0IHVzZXJBZ2VudERhdGFBcGkuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoW1xuICAgICAgICAncGxhdGZvcm0nLFxuICAgICAgICAncGxhdGZvcm1WZXJzaW9uJyxcbiAgICAgICAgJ2Z1bGxWZXJzaW9uTGlzdCcsXG4gICAgICBdKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIElnbm9yZSB0aGUgZXJyb3JcbiAgICB9XG4gIH1cblxuICBjb25zdCB1c2VyQWdlbnQgPSBuZXcgVUFQYXJzZXIobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIGNvbnN0IHsgYnJvd3Nlciwgb3MsIGRldmljZSwgY3B1IH0gPSB1c2VyQWdlbnQuZ2V0UmVzdWx0KCk7XG4gIC8vIElmIHVzZXJBZ2VudERhdGEgaXMgYXZhaWxhYmxlLCBpdCBtZWFucyB3ZSBhcmUgaW4gYSBtb2Rlcm4gQ2hyb21pdW0gYnJvd3NlcixcbiAgLy8gYW5kIHdlIGNhbiB1c2UgaXQgdG8gZ2V0IG1vcmUgYWNjdXJhdGUgYnJvd3NlciBpbmZvcm1hdGlvbi5cbiAgLy8gV2UgaG9vayBpbnRvIHRoZSBmdWxsVmVyc2lvbkxpc3QgdG8gZmluZCB0aGUgYnJvd3NlciBuYW1lIGFuZCB2ZXJzaW9uIGFuZFxuICAvLyBldmVudHVhbGx5IGRldGVjdCBleG90aWMgYnJvd3NlcnMgbGlrZSBTYW1zdW5nIEludGVybmV0LCBBVkcgU2VjdXJlIEJyb3dzZXIsIGV0Yy5cbiAgLy8gd2hvIGJ5IGRlZmF1bHQgdGhleSBpZGVudGlmeSB0aGVtc2VsdmVzIGFzIFwiQ2hyb21pdW1cIiBpbiB0aGUgdXNlciBhZ2VudCBzdHJpbmcuXG4gIC8vIEVsaW1pbmF0ZXMgdGhlIGdlbmVyaWMgXCJDaHJvbWl1bVwiIG5hbWUgYW5kIFwiTm90KUFfQnJhbmRcIiBuYW1lIGZyb20gdGhlIGxpc3QuXG4gIC8vIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vdWEtY2xpZW50LWhpbnRzLyNjcmVhdGUtYXJiaXRyYXJ5LWJyYW5kcy1zZWN0aW9uXG4gIGNvbnN0IHVhQnJvd3NlciA9IHVzZXJBZ2VudERhdGE/LmZ1bGxWZXJzaW9uTGlzdD8uZmluZChcbiAgICAodikgPT4gIXYuYnJhbmQuaW5jbHVkZXMoJ0Nocm9taXVtJykgJiYgIXYuYnJhbmQubWF0Y2goL1soKVxcLS4vOjs9P19dL2cpLFxuICApO1xuICByZXR1cm4ge1xuICAgIHNkazogc2RrSW5mbyxcbiAgICBicm93c2VyOiB7XG4gICAgICBuYW1lOiB1YUJyb3dzZXI/LmJyYW5kIHx8IGJyb3dzZXIubmFtZSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgdmVyc2lvbjogdWFCcm93c2VyPy52ZXJzaW9uIHx8IGJyb3dzZXIudmVyc2lvbiB8fCAnJyxcbiAgICB9LFxuICAgIG9zOiB7XG4gICAgICBuYW1lOiB1c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSB8fCBvcy5uYW1lIHx8ICcnLFxuICAgICAgdmVyc2lvbjogdXNlckFnZW50RGF0YT8ucGxhdGZvcm1WZXJzaW9uIHx8IG9zLnZlcnNpb24gfHwgJycsXG4gICAgICBhcmNoaXRlY3R1cmU6IGNwdS5hcmNoaXRlY3R1cmUgfHwgJycsXG4gICAgfSxcbiAgICBkZXZpY2U6IHtcbiAgICAgIG5hbWU6IFtkZXZpY2UudmVuZG9yLCBkZXZpY2UubW9kZWwsIGRldmljZS50eXBlXVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIC5qb2luKCcgJyksXG4gICAgICB2ZXJzaW9uOiAnJyxcbiAgICB9LFxuICB9O1xufTtcbiIsImltcG9ydCB7IGdldENsaWVudERldGFpbHMgfSBmcm9tICcuL2NsaWVudC1kZXRhaWxzJztcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIFNhZmFyaS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzU2FmYXJpID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgRmlyZWZveC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmlyZWZveCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnRmlyZWZveCcpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIEdvb2dsZSBDaHJvbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Nocm9tZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnQ2hyb21lJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgYW1vbmcgdGhlIGxpc3Qgb2YgZmlyc3QtY2xhc3Mgc3VwcG9ydGVkIGJyb3dzZXJzLlxuICogVGhpcyBpbmNsdWRlcyBDaHJvbWUsIEVkZ2UsIEZpcmVmb3gsIGFuZCBTYWZhcmkuXG4gKlxuICogQWx0aG91Z2ggdGhlIFN0cmVhbSBWaWRlbyBTREsgbWF5IHdvcmsgaW4gb3RoZXIgYnJvd3NlcnMsIHRoZXNlIGFyZSB0aGUgb25lcyB3ZSBvZmZpY2lhbGx5IHN1cHBvcnQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1N1cHBvcnRlZEJyb3dzZXIgPSBhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIGNvbnN0IHsgYnJvd3NlciB9ID0gYXdhaXQgZ2V0Q2xpZW50RGV0YWlscygpO1xuICBpZiAoIWJyb3dzZXIpIHJldHVybiBmYWxzZTsgLy8gd2UgYXJlbid0IHJ1bm5pbmcgaW4gYSBicm93c2VyXG5cbiAgY29uc3QgbmFtZSA9IGJyb3dzZXIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBbbWFqb3JdID0gYnJvd3Nlci52ZXJzaW9uLnNwbGl0KCcuJyk7XG4gIGNvbnN0IHZlcnNpb24gPSBwYXJzZUludChtYWpvciwgMTApO1xuICByZXR1cm4gKFxuICAgIChuYW1lLmluY2x1ZGVzKCdjaHJvbWUnKSAmJiB2ZXJzaW9uID49IDEyNCkgfHxcbiAgICAobmFtZS5pbmNsdWRlcygnZWRnZScpICYmIHZlcnNpb24gPj0gMTI0KSB8fFxuICAgIChuYW1lLmluY2x1ZGVzKCdmaXJlZm94JykgJiYgdmVyc2lvbiA+PSAxMjQpIHx8XG4gICAgKG5hbWUuaW5jbHVkZXMoJ3NhZmFyaScpICYmIHZlcnNpb24gPj0gMTcpIHx8XG4gICAgKG5hbWUuaW5jbHVkZXMoJ3dlYmtpdCcpICYmIHZlcnNpb24gPj0gNjA1KSB8fCAvLyBXZWJWaWV3IG9uIGlPU1xuICAgIChuYW1lLmluY2x1ZGVzKCd3ZWJ2aWV3JykgJiYgdmVyc2lvbiA+PSAxMjQpIC8vIFdlYlZpZXcgb24gQW5kcm9pZFxuICApO1xufTtcbiIsImltcG9ydCB0eXBlIHtcbiAgQWdncmVnYXRlZFN0YXRzUmVwb3J0LFxuICBCYXNlU3RhdHMsXG4gIFBhcnRpY2lwYW50c1N0YXRzUmVwb3J0LFxuICBSVENDb2RlY1N0YXRzLFxuICBSVENNZWRpYVNvdXJjZVN0YXRzLFxuICBTdGF0c1JlcG9ydCxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBQdWJsaXNoZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBpc0ZpcmVmb3ggfSBmcm9tICcuLi9oZWxwZXJzL2Jyb3dzZXJzJztcblxuZXhwb3J0IHR5cGUgU3RhdHNSZXBvcnRlck9wdHMgPSB7XG4gIHN1YnNjcmliZXI6IFN1YnNjcmliZXI7XG4gIHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcbiAgc3RhdGU6IENhbGxTdGF0ZTtcbiAgZGF0YWNlbnRlcjogc3RyaW5nO1xuICBwb2xsaW5nSW50ZXJ2YWxJbk1zPzogbnVtYmVyO1xufTtcblxudHlwZSBQZWVyQ29ubmVjdGlvbktpbmQgPSAnc3Vic2NyaWJlcicgfCAncHVibGlzaGVyJztcblxuZXhwb3J0IHR5cGUgU3RhdHNSZXBvcnRlciA9IHtcbiAgLyoqXG4gICAqIFdpbGwgdHVybiBvbiBzdGF0cyByZXBvcnRpbmcgZm9yIGEgZ2l2ZW4gc2Vzc2lvbklkLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKi9cbiAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcjogKHNlc3Npb25JZDogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBXaWxsIHR1cm4gb2ZmIHN0YXRzIHJlcG9ydGluZyBmb3IgYSBnaXZlbiBzZXNzaW9uSWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqL1xuICBzdG9wUmVwb3J0aW5nU3RhdHNGb3I6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZDtcblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCBmb3IgcmV0cmlldmluZyBzdGF0cyBmb3IgYSBnaXZlbiBwZWVyIGNvbm5lY3Rpb24ga2luZFxuICAgKiBhbmQgbWVkaWEgc3RyZWFtIGZsb3dpbmcgdGhyb3VnaCBpdC5cbiAgICpcbiAgICogQHBhcmFtIGtpbmQgdGhlIHBlZXIgY29ubmVjdGlvbiBraW5kIChzdWJzY3JpYmVyIG9yIHB1Ymxpc2hlcikuXG4gICAqIEBwYXJhbSBtZWRpYVN0cmVhbSB0aGUgbWVkaWEgc3RyZWFtLlxuICAgKi9cbiAgZ2V0U3RhdHNGb3JTdHJlYW06IChcbiAgICBraW5kOiBQZWVyQ29ubmVjdGlvbktpbmQsXG4gICAgdHJhY2tzOiBNZWRpYVN0cmVhbVRyYWNrW10sXG4gICkgPT4gUHJvbWlzZTxTdGF0c1JlcG9ydFtdPjtcblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCBmb3IgcmV0cmlldmluZyByYXcgc3RhdHMgZm9yIGEgZ2l2ZW4gcGVlciBjb25uZWN0aW9uIGtpbmQuXG4gICAqXG4gICAqIEBwYXJhbSBraW5kIHRoZSBwZWVyIGNvbm5lY3Rpb24ga2luZCAoc3Vic2NyaWJlciBvciBwdWJsaXNoZXIpLlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgdGhlIHRyYWNrIHNlbGVjdG9yLiBJZiBub3QgcHJvdmlkZWQsIHN0YXRzIGZvciBhbGwgdHJhY2tzIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRSYXdTdGF0c0ZvclRyYWNrOiAoXG4gICAga2luZDogUGVlckNvbm5lY3Rpb25LaW5kLFxuICAgIHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayxcbiAgKSA9PiBQcm9taXNlPFJUQ1N0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIHN0YXRzIHJlcG9ydGVyIGFuZCByZWxlYXNlcyBhbGwgcmVzb3VyY2VzLlxuICAgKi9cbiAgc3RvcDogKCkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTdGF0c1JlcG9ydGVyIGluc3RhbmNlIHRoYXQgY29sbGVjdHMgbWV0cmljcyBhYm91dCB0aGUgb25nb2luZyBjYWxsIGFuZCByZXBvcnRzIHRoZW0gdG8gdGhlIHN0YXRlIHN0b3JlXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdGF0c1JlcG9ydGVyID0gKHtcbiAgc3Vic2NyaWJlcixcbiAgcHVibGlzaGVyLFxuICBzdGF0ZSxcbiAgZGF0YWNlbnRlcixcbiAgcG9sbGluZ0ludGVydmFsSW5NcyA9IDIwMDAsXG59OiBTdGF0c1JlcG9ydGVyT3B0cyk6IFN0YXRzUmVwb3J0ZXIgPT4ge1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzdGF0cyddKTtcbiAgY29uc3QgZ2V0UmF3U3RhdHNGb3JUcmFjayA9IGFzeW5jIChcbiAgICBraW5kOiBQZWVyQ29ubmVjdGlvbktpbmQsXG4gICAgc2VsZWN0b3I/OiBNZWRpYVN0cmVhbVRyYWNrLFxuICApID0+IHtcbiAgICBpZiAoa2luZCA9PT0gJ3N1YnNjcmliZXInICYmIHN1YnNjcmliZXIpIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmVyLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICdwdWJsaXNoZXInICYmIHB1Ymxpc2hlcikge1xuICAgICAgcmV0dXJuIHB1Ymxpc2hlci5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRzRm9yU3RyZWFtID0gYXN5bmMgKFxuICAgIGtpbmQ6IFBlZXJDb25uZWN0aW9uS2luZCxcbiAgICB0cmFja3M6IE1lZGlhU3RyZWFtVHJhY2tbXSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGMgPSBraW5kID09PSAnc3Vic2NyaWJlcicgPyBzdWJzY3JpYmVyIDogcHVibGlzaGVyO1xuICAgIGlmICghcGMpIHJldHVybiBbXTtcbiAgICBjb25zdCBzdGF0c0ZvclN0cmVhbTogU3RhdHNSZXBvcnRbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzKSB7XG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBwYy5nZXRTdGF0cyh0cmFjayk7XG4gICAgICBjb25zdCBzdGF0cyA9IHRyYW5zZm9ybShyZXBvcnQsIHtcbiAgICAgICAgdHJhY2tLaW5kOiB0cmFjay5raW5kIGFzICdhdWRpbycgfCAndmlkZW8nLFxuICAgICAgICBraW5kLFxuICAgICAgICBwdWJsaXNoZXI6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgICAgc3RhdHNGb3JTdHJlYW0ucHVzaChzdGF0cyk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0c0ZvclN0cmVhbTtcbiAgfTtcblxuICBjb25zdCBzdGFydFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2Vzc2lvbklkc1RvVHJhY2suYWRkKHNlc3Npb25JZCk7XG4gICAgdm9pZCBydW4oKTtcbiAgfTtcblxuICBjb25zdCBzdG9wUmVwb3J0aW5nU3RhdHNGb3IgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICBzZXNzaW9uSWRzVG9UcmFjay5kZWxldGUoc2Vzc2lvbklkKTtcbiAgICB2b2lkIHJ1bigpO1xuICB9O1xuXG4gIGNvbnN0IHNlc3Npb25JZHNUb1RyYWNrID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIHN0YXRzIHJlcG9ydGluZyBsb29wLlxuICAgKi9cbiAgY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50U3RhdHM6IFBhcnRpY2lwYW50c1N0YXRzUmVwb3J0ID0ge307XG4gICAgaWYgKHNlc3Npb25JZHNUb1RyYWNrLnNpemUgPiAwKSB7XG4gICAgICBjb25zdCBzZXNzaW9uSWRzID0gbmV3IFNldChzZXNzaW9uSWRzVG9UcmFjayk7XG4gICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHN0YXRlLnBhcnRpY2lwYW50cykge1xuICAgICAgICBpZiAoIXNlc3Npb25JZHMuaGFzKHBhcnRpY2lwYW50LnNlc3Npb25JZCkpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgYXVkaW9TdHJlYW0sXG4gICAgICAgICAgaXNMb2NhbFBhcnRpY2lwYW50LFxuICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgdmlkZW9TdHJlYW0sXG4gICAgICAgIH0gPSBwYXJ0aWNpcGFudDtcbiAgICAgICAgY29uc3Qga2luZCA9IGlzTG9jYWxQYXJ0aWNpcGFudCA/ICdwdWJsaXNoZXInIDogJ3N1YnNjcmliZXInO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHRyYWNrcyA9IGlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICAgICAgPyBwdWJsaXNoZXI/LmdldFB1Ymxpc2hlZFRyYWNrcygpIHx8IFtdXG4gICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICAuLi4odmlkZW9TdHJlYW0/LmdldFZpZGVvVHJhY2tzKCkgfHwgW10pLFxuICAgICAgICAgICAgICAgIC4uLihhdWRpb1N0cmVhbT8uZ2V0QXVkaW9UcmFja3MoKSB8fCBbXSksXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgcGFydGljaXBhbnRTdGF0c1tzZXNzaW9uSWRdID0gYXdhaXQgZ2V0U3RhdHNGb3JTdHJlYW0oa2luZCwgdHJhY2tzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gY29sbGVjdCAke2tpbmR9IHN0YXRzIGZvciAke3VzZXJJZH1gLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFtzdWJzY3JpYmVyUmF3U3RhdHMsIHB1Ymxpc2hlclJhd1N0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldFJhd1N0YXRzRm9yVHJhY2soJ3N1YnNjcmliZXInKSxcbiAgICAgIHB1Ymxpc2hlciA/IGdldFJhd1N0YXRzRm9yVHJhY2soJ3B1Ymxpc2hlcicpIDogdW5kZWZpbmVkLFxuICAgIF0pO1xuXG4gICAgY29uc3QgcHJvY2VzcyA9IChyZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0LCBraW5kOiBQZWVyQ29ubmVjdGlvbktpbmQpID0+XG4gICAgICBhZ2dyZWdhdGUodHJhbnNmb3JtKHJlcG9ydCwgeyBraW5kLCB0cmFja0tpbmQ6ICd2aWRlbycsIHB1Ymxpc2hlciB9KSk7XG5cbiAgICBjb25zdCBzdWJzY3JpYmVyU3RhdHMgPSBzdWJzY3JpYmVyUmF3U3RhdHNcbiAgICAgID8gcHJvY2VzcyhzdWJzY3JpYmVyUmF3U3RhdHMsICdzdWJzY3JpYmVyJylcbiAgICAgIDogZ2V0RW1wdHlTdGF0cygpO1xuICAgIGNvbnN0IHB1Ymxpc2hlclN0YXRzID0gcHVibGlzaGVyUmF3U3RhdHNcbiAgICAgID8gcHJvY2VzcyhwdWJsaXNoZXJSYXdTdGF0cywgJ3B1Ymxpc2hlcicpXG4gICAgICA6IGdldEVtcHR5U3RhdHMoKTtcblxuICAgIHN0YXRlLnNldENhbGxTdGF0c1JlcG9ydCh7XG4gICAgICBkYXRhY2VudGVyLFxuICAgICAgcHVibGlzaGVyU3RhdHMsXG4gICAgICBzdWJzY3JpYmVyU3RhdHMsXG4gICAgICBzdWJzY3JpYmVyUmF3U3RhdHMsXG4gICAgICBwdWJsaXNoZXJSYXdTdGF0cyxcbiAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRTdGF0cyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfTtcblxuICBsZXQgdGltZW91dElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgaWYgKHBvbGxpbmdJbnRlcnZhbEluTXMgPiAwKSB7XG4gICAgY29uc3QgbG9vcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIC8vIGJhaWwgb3V0IG9mIHRoZSBsb29wIGFzIHdlIGRvbid0IHdhbnQgdG8gY29sbGVjdCBzdGF0c1xuICAgICAgLy8gKHRoZXkgYXJlIGV4cGVuc2l2ZSkgaWYgbm8gb25lIGlzIGxpc3RlbmluZyB0byB0aGVtXG4gICAgICBpZiAoc3RhdGUuaXNDYWxsU3RhdHNSZXBvcnRPYnNlcnZlZCkge1xuICAgICAgICBhd2FpdCBydW4oKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGxvZ2dlcignZGVidWcnLCAnRmFpbGVkIHRvIGNvbGxlY3Qgc3RhdHMnLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGxvb3AsIHBvbGxpbmdJbnRlcnZhbEluTXMpO1xuICAgIH07XG4gICAgdm9pZCBsb29wKCk7XG4gIH1cblxuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldFJhd1N0YXRzRm9yVHJhY2ssXG4gICAgZ2V0U3RhdHNGb3JTdHJlYW0sXG4gICAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcixcbiAgICBzdG9wUmVwb3J0aW5nU3RhdHNGb3IsXG4gICAgc3RvcCxcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXRzVHJhbnNmb3JtT3B0cyA9IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHRyYWNrIHdlIGFyZSB0cmFuc2Zvcm1pbmcgc3RhdHMgZm9yLlxuICAgKi9cbiAgdHJhY2tLaW5kOiAnYXVkaW8nIHwgJ3ZpZGVvJztcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHBlZXIgY29ubmVjdGlvbiB3ZSBhcmUgdHJhbnNmb3JtaW5nIHN0YXRzIGZvci5cbiAgICovXG4gIGtpbmQ6IFBlZXJDb25uZWN0aW9uS2luZDtcbiAgLyoqXG4gICAqIFRoZSBwdWJsaXNoZXIgaW5zdGFuY2UuXG4gICAqL1xuICBwdWJsaXNoZXI6IFB1Ymxpc2hlciB8IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtcyByYXcgUlRDIHN0YXRzIGludG8gYSBzbGltbWVyIGFuZCB1bmlmb3JtIGFjcm9zcyBicm93c2VycyBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHJlcG9ydCB0aGUgcmVwb3J0IHRvIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSBvcHRzIHRoZSB0cmFuc2Zvcm0gb3B0aW9ucy5cbiAqL1xuY29uc3QgdHJhbnNmb3JtID0gKFxuICByZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0LFxuICBvcHRzOiBTdGF0c1RyYW5zZm9ybU9wdHMsXG4pOiBTdGF0c1JlcG9ydCA9PiB7XG4gIGNvbnN0IHsgdHJhY2tLaW5kLCBraW5kLCBwdWJsaXNoZXIgfSA9IG9wdHM7XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGtpbmQgPT09ICdzdWJzY3JpYmVyJyA/ICdpbmJvdW5kLXJ0cCcgOiAnb3V0Ym91bmQtcnRwJztcbiAgY29uc3Qgc3RhdHMgPSBmbGF0dGVuKHJlcG9ydCk7XG4gIGNvbnN0IHN0cmVhbXMgPSBzdGF0c1xuICAgIC5maWx0ZXIoXG4gICAgICAoc3RhdCkgPT5cbiAgICAgICAgc3RhdC50eXBlID09PSBkaXJlY3Rpb24gJiZcbiAgICAgICAgKHN0YXQgYXMgUlRDUnRwU3RyZWFtU3RhdHMpLmtpbmQgPT09IHRyYWNrS2luZCxcbiAgICApXG4gICAgLm1hcCgoc3RhdCk6IEJhc2VTdGF0cyA9PiB7XG4gICAgICBjb25zdCBydGNTdHJlYW1TdGF0cyA9IHN0YXQgYXMgUlRDSW5ib3VuZFJ0cFN0cmVhbVN0YXRzICZcbiAgICAgICAgUlRDT3V0Ym91bmRSdHBTdHJlYW1TdGF0cztcblxuICAgICAgY29uc3QgY29kZWMgPSBzdGF0cy5maW5kKFxuICAgICAgICAocykgPT4gcy50eXBlID09PSAnY29kZWMnICYmIHMuaWQgPT09IHJ0Y1N0cmVhbVN0YXRzLmNvZGVjSWQsXG4gICAgICApIGFzIFJUQ0NvZGVjU3RhdHMgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHN0YXRzLmZpbmQoXG4gICAgICAgIChzKSA9PiBzLnR5cGUgPT09ICd0cmFuc3BvcnQnICYmIHMuaWQgPT09IHJ0Y1N0cmVhbVN0YXRzLnRyYW5zcG9ydElkLFxuICAgICAgKSBhcyBSVENUcmFuc3BvcnRTdGF0cyB8IHVuZGVmaW5lZDtcblxuICAgICAgbGV0IHJvdW5kVHJpcFRpbWU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgIGlmICh0cmFuc3BvcnQgJiYgdHJhbnNwb3J0LmR0bHNTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlUGFpciA9IHN0YXRzLmZpbmQoXG4gICAgICAgICAgKHMpID0+XG4gICAgICAgICAgICBzLnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicgJiZcbiAgICAgICAgICAgIHMuaWQgPT09IHRyYW5zcG9ydC5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCxcbiAgICAgICAgKSBhcyBSVENJY2VDYW5kaWRhdGVQYWlyU3RhdHMgfCB1bmRlZmluZWQ7XG4gICAgICAgIHJvdW5kVHJpcFRpbWUgPSBjYW5kaWRhdGVQYWlyPy5jdXJyZW50Um91bmRUcmlwVGltZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRyYWNrVHlwZTogVHJhY2tUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKGtpbmQgPT09ICdwdWJsaXNoZXInICYmIHB1Ymxpc2hlcikge1xuICAgICAgICBjb25zdCBmaXJlZm94ID0gaXNGaXJlZm94KCk7XG4gICAgICAgIGNvbnN0IG1lZGlhU291cmNlID0gc3RhdHMuZmluZChcbiAgICAgICAgICAocykgPT5cbiAgICAgICAgICAgIHMudHlwZSA9PT0gJ21lZGlhLXNvdXJjZScgJiZcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIG1lZGlhU291cmNlSWQsIHNvIHdlIG5lZWQgdG8gZ3Vlc3MgdGhlIG1lZGlhIHNvdXJjZVxuICAgICAgICAgICAgKGZpcmVmb3ggPyB0cnVlIDogcy5pZCA9PT0gcnRjU3RyZWFtU3RhdHMubWVkaWFTb3VyY2VJZCksXG4gICAgICAgICkgYXMgUlRDTWVkaWFTb3VyY2VTdGF0cyB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG1lZGlhU291cmNlKSB7XG4gICAgICAgICAgdHJhY2tUeXBlID0gcHVibGlzaGVyLmdldFRyYWNrVHlwZShtZWRpYVNvdXJjZS50cmFja0lkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ5dGVzU2VudDogcnRjU3RyZWFtU3RhdHMuYnl0ZXNTZW50LFxuICAgICAgICBieXRlc1JlY2VpdmVkOiBydGNTdHJlYW1TdGF0cy5ieXRlc1JlY2VpdmVkLFxuICAgICAgICBjb2RlYzogY29kZWM/Lm1pbWVUeXBlLFxuICAgICAgICBjdXJyZW50Um91bmRUcmlwVGltZTogcm91bmRUcmlwVGltZSxcbiAgICAgICAgZnJhbWVIZWlnaHQ6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lSGVpZ2h0LFxuICAgICAgICBmcmFtZVdpZHRoOiBydGNTdHJlYW1TdGF0cy5mcmFtZVdpZHRoLFxuICAgICAgICBmcmFtZXNQZXJTZWNvbmQ6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lc1BlclNlY29uZCxcbiAgICAgICAgaml0dGVyOiBydGNTdHJlYW1TdGF0cy5qaXR0ZXIsXG4gICAgICAgIGtpbmQ6IHJ0Y1N0cmVhbVN0YXRzLmtpbmQsXG4gICAgICAgIG1lZGlhU291cmNlSWQ6IHJ0Y1N0cmVhbVN0YXRzLm1lZGlhU291cmNlSWQsXG4gICAgICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uOiBydGNTdHJlYW1TdGF0cy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbixcbiAgICAgICAgcmlkOiBydGNTdHJlYW1TdGF0cy5yaWQsXG4gICAgICAgIHNzcmM6IHJ0Y1N0cmVhbVN0YXRzLnNzcmMsXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICByYXdTdGF0czogcmVwb3J0LFxuICAgIHN0cmVhbXMsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xufTtcblxuY29uc3QgZ2V0RW1wdHlTdGF0cyA9IChzdGF0cz86IFN0YXRzUmVwb3J0KTogQWdncmVnYXRlZFN0YXRzUmVwb3J0ID0+IHtcbiAgcmV0dXJuIHtcbiAgICByYXdSZXBvcnQ6IHN0YXRzID8/IHsgc3RyZWFtczogW10sIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgIHRvdGFsQnl0ZXNTZW50OiAwLFxuICAgIHRvdGFsQnl0ZXNSZWNlaXZlZDogMCxcbiAgICBhdmVyYWdlSml0dGVySW5NczogMCxcbiAgICBhdmVyYWdlUm91bmRUcmlwVGltZUluTXM6IDAsXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zOiAnbm9uZScsXG4gICAgaGlnaGVzdEZyYW1lV2lkdGg6IDAsXG4gICAgaGlnaGVzdEZyYW1lSGVpZ2h0OiAwLFxuICAgIGhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQ6IDAsXG4gICAgY29kZWM6ICcnLFxuICAgIGNvZGVjUGVyVHJhY2tUeXBlOiB7fSxcbiAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gIH07XG59O1xuXG4vKipcbiAqIEFnZ3JlZ2F0ZXMgZ2VuZXJpYyBzdGF0cy5cbiAqXG4gKiBAcGFyYW0gc3RhdHMgdGhlIHN0YXRzIHRvIGFnZ3JlZ2F0ZS5cbiAqL1xuY29uc3QgYWdncmVnYXRlID0gKHN0YXRzOiBTdGF0c1JlcG9ydCk6IEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCA9PiB7XG4gIGNvbnN0IGFnZ3JlZ2F0ZWRTdGF0cyA9IGdldEVtcHR5U3RhdHMoc3RhdHMpO1xuXG4gIGxldCBtYXhBcmVhID0gLTE7XG4gIGNvbnN0IGFyZWEgPSAodzogbnVtYmVyLCBoOiBudW1iZXIpID0+IHcgKiBoO1xuXG4gIGNvbnN0IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBjb25zdCBzdHJlYW1zID0gc3RhdHMuc3RyZWFtcztcbiAgY29uc3QgcmVwb3J0ID0gc3RyZWFtcy5yZWR1Y2UoKGFjYywgc3RyZWFtKSA9PiB7XG4gICAgYWNjLnRvdGFsQnl0ZXNTZW50ICs9IHN0cmVhbS5ieXRlc1NlbnQgfHwgMDtcbiAgICBhY2MudG90YWxCeXRlc1JlY2VpdmVkICs9IHN0cmVhbS5ieXRlc1JlY2VpdmVkIHx8IDA7XG4gICAgYWNjLmF2ZXJhZ2VKaXR0ZXJJbk1zICs9IHN0cmVhbS5qaXR0ZXIgfHwgMDtcbiAgICBhY2MuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zICs9IHN0cmVhbS5jdXJyZW50Um91bmRUcmlwVGltZSB8fCAwO1xuXG4gICAgLy8gbmFpdmUgY2FsY3VsYXRpb24gb2YgdGhlIGhpZ2hlc3QgcmVzb2x1dGlvblxuICAgIGNvbnN0IHN0cmVhbUFyZWEgPSBhcmVhKHN0cmVhbS5mcmFtZVdpZHRoIHx8IDAsIHN0cmVhbS5mcmFtZUhlaWdodCB8fCAwKTtcbiAgICBpZiAoc3RyZWFtQXJlYSA+IG1heEFyZWEpIHtcbiAgICAgIGFjYy5oaWdoZXN0RnJhbWVXaWR0aCA9IHN0cmVhbS5mcmFtZVdpZHRoIHx8IDA7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lSGVpZ2h0ID0gc3RyZWFtLmZyYW1lSGVpZ2h0IHx8IDA7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lc1BlclNlY29uZCA9IHN0cmVhbS5mcmFtZXNQZXJTZWNvbmQgfHwgMDtcbiAgICAgIG1heEFyZWEgPSBzdHJlYW1BcmVhO1xuICAgIH1cblxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5hZGQoc3RyZWFtLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uIHx8ICcnKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBhZ2dyZWdhdGVkU3RhdHMpO1xuXG4gIGlmIChzdHJlYW1zLmxlbmd0aCA+IDApIHtcbiAgICByZXBvcnQuYXZlcmFnZUppdHRlckluTXMgPSBNYXRoLnJvdW5kKFxuICAgICAgKHJlcG9ydC5hdmVyYWdlSml0dGVySW5NcyAvIHN0cmVhbXMubGVuZ3RoKSAqIDEwMDAsXG4gICAgKTtcbiAgICByZXBvcnQuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zID0gTWF0aC5yb3VuZChcbiAgICAgIChyZXBvcnQuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zIC8gc3RyZWFtcy5sZW5ndGgpICogMTAwMCxcbiAgICApO1xuICAgIC8vIHdlIHRha2UgdGhlIGZpcnN0IGNvZGVjIHdlIGZpbmQsIGFzIGl0IHNob3VsZCBiZSB0aGUgc2FtZSBmb3IgYWxsIHN0cmVhbXNcbiAgICByZXBvcnQuY29kZWMgPSBzdHJlYW1zWzBdLmNvZGVjIHx8ICcnO1xuICAgIHJlcG9ydC5jb2RlY1BlclRyYWNrVHlwZSA9IHN0cmVhbXMucmVkdWNlKFxuICAgICAgKGFjYywgc3RyZWFtKSA9PiB7XG4gICAgICAgIGlmIChzdHJlYW0udHJhY2tUeXBlKSB7XG4gICAgICAgICAgYWNjW3N0cmVhbS50cmFja1R5cGVdID0gc3RyZWFtLmNvZGVjIHx8ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge30gYXMgUmVjb3JkPFRyYWNrVHlwZSwgc3RyaW5nPixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgcXVhbGl0eUxpbWl0YXRpb25SZWFzb24gPSBbXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zLmhhcygnY3B1JykgJiYgJ2NwdScsXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zLmhhcygnYmFuZHdpZHRoJykgJiYgJ2JhbmR3aWR0aCcsXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zLmhhcygnb3RoZXInKSAmJiAnb3RoZXInLFxuICBdXG4gICAgLmZpbHRlcihCb29sZWFuKVxuICAgIC5qb2luKCcsICcpO1xuICBpZiAocXVhbGl0eUxpbWl0YXRpb25SZWFzb24pIHtcbiAgICByZXBvcnQucXVhbGl0eUxpbWl0YXRpb25SZWFzb25zID0gcXVhbGl0eUxpbWl0YXRpb25SZWFzb247XG4gIH1cblxuICByZXR1cm4gcmVwb3J0O1xufTtcbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4uL1N0cmVhbVNmdUNsaWVudCc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5LCBTdGF0c09wdGlvbnMgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFB1Ymxpc2hlciwgU3Vic2NyaWJlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBUcmFjZXIsIFRyYWNlUmVjb3JkIH0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHsgZmxhdHRlbiwgZ2V0U2RrTmFtZSwgZ2V0U2RrVmVyc2lvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0RGV2aWNlU3RhdGUsIGdldFdlYlJUQ0luZm8gfSBmcm9tICcuLi9oZWxwZXJzL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7XG4gIENsaWVudERldGFpbHMsXG4gIElucHV0RGV2aWNlcyxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBDYW1lcmFNYW5hZ2VyLCBNaWNyb3Bob25lTWFuYWdlciB9IGZyb20gJy4uL2RldmljZXMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBUZWxlbWV0cnkgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsJztcblxuZXhwb3J0IHR5cGUgU2Z1U3RhdHNSZXBvcnRlck9wdGlvbnMgPSB7XG4gIG9wdGlvbnM6IFN0YXRzT3B0aW9ucztcbiAgY2xpZW50RGV0YWlsczogQ2xpZW50RGV0YWlscztcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xuICBtaWNyb3Bob25lOiBNaWNyb3Bob25lTWFuYWdlcjtcbiAgY2FtZXJhOiBDYW1lcmFNYW5hZ2VyO1xuICBzdGF0ZTogQ2FsbFN0YXRlO1xuICB0cmFjZXI6IFRyYWNlcjtcbiAgdW5pZmllZFNlc3Npb25JZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNsYXNzIFNmdVN0YXRzUmVwb3J0ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdVN0YXRzUmVwb3J0ZXInXSk7XG5cbiAgcmVhZG9ubHkgb3B0aW9uczogU3RhdHNPcHRpb25zO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWljcm9waG9uZTogTWljcm9waG9uZU1hbmFnZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FtZXJhOiBDYW1lcmFNYW5hZ2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IHN0YXRlOiBDYWxsU3RhdGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhY2VyOiBUcmFjZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5pZmllZFNlc3Npb25JZDogc3RyaW5nO1xuXG4gIHByaXZhdGUgaW50ZXJ2YWxJZDogTm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgdGltZW91dElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSB1bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uPzogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSB1bnN1YnNjcmliZUxpc3REZXZpY2VzU3Vic2NyaXB0aW9uPzogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSBzZGtOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2RrVmVyc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IHdlYlJUQ1ZlcnNpb246IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBpbnB1dERldmljZXMgPSBuZXcgTWFwPCdtaWMnIHwgJ2NhbWVyYScsIElucHV0RGV2aWNlcz4oKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCxcbiAgICB7XG4gICAgICBvcHRpb25zLFxuICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgIHN1YnNjcmliZXIsXG4gICAgICBwdWJsaXNoZXIsXG4gICAgICBtaWNyb3Bob25lLFxuICAgICAgY2FtZXJhLFxuICAgICAgc3RhdGUsXG4gICAgICB0cmFjZXIsXG4gICAgICB1bmlmaWVkU2Vzc2lvbklkLFxuICAgIH06IFNmdVN0YXRzUmVwb3J0ZXJPcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuc3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gICAgdGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG4gICAgdGhpcy5taWNyb3Bob25lID0gbWljcm9waG9uZTtcbiAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy50cmFjZXIgPSB0cmFjZXI7XG4gICAgdGhpcy51bmlmaWVkU2Vzc2lvbklkID0gdW5pZmllZFNlc3Npb25JZDtcblxuICAgIGNvbnN0IHsgc2RrLCBicm93c2VyIH0gPSBjbGllbnREZXRhaWxzO1xuICAgIHRoaXMuc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgICB0aGlzLnNka1ZlcnNpb24gPSBnZXRTZGtWZXJzaW9uKHNkayk7XG5cbiAgICAvLyB1c2UgdGhlIFdlYlJUQyB2ZXJzaW9uIGlmIHNldCBieSB0aGUgU0RLIChSZWFjdCBOYXRpdmUpIG90aGVyd2lzZSxcbiAgICAvLyB1c2UgdGhlIGJyb3dzZXIgdmVyc2lvbiBhcyBhIGZhbGxiYWNrXG4gICAgY29uc3Qgd2ViUlRDSW5mbyA9IGdldFdlYlJUQ0luZm8oKTtcbiAgICB0aGlzLndlYlJUQ1ZlcnNpb24gPVxuICAgICAgd2ViUlRDSW5mbz8udmVyc2lvbiB8fFxuICAgICAgYCR7YnJvd3Nlcj8ubmFtZSB8fCAnJ30tJHticm93c2VyPy52ZXJzaW9uIHx8ICcnfWAgfHxcbiAgICAgICdOL0EnO1xuICB9XG5cbiAgcHJpdmF0ZSBvYnNlcnZlRGV2aWNlID0gKFxuICAgIGRldmljZTogQ2FtZXJhTWFuYWdlciB8IE1pY3JvcGhvbmVNYW5hZ2VyLFxuICAgIGtpbmQ6ICdtaWMnIHwgJ2NhbWVyYScsXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgYnJvd3NlclBlcm1pc3Npb25TdGF0ZSQgfSA9IGRldmljZS5zdGF0ZTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgIGNvbWJpbmVMYXRlc3QoW2Jyb3dzZXJQZXJtaXNzaW9uU3RhdGUkLCB0aGlzLnN0YXRlLm93bkNhcGFiaWxpdGllcyRdKSxcbiAgICAgIChbYnJvd3NlclBlcm1pc3Npb25TdGF0ZSwgb3duQ2FwYWJpbGl0aWVzXSkgPT4ge1xuICAgICAgICAvLyBjbGVhbnVwIHRoZSBwcmV2aW91cyBsaXN0RGV2aWNlcygpIHN1YnNjcmlwdGlvbiBpbiBjYXNlXG4gICAgICAgIC8vIHBlcm1pc3Npb25zIG9yIGNhcGFiaWxpdGllcyBoYXZlIGNoYW5nZWQuXG4gICAgICAgIC8vIHdlIHdpbGwgc3Vic2NyaWJlIGFnYWluIGlmIGV2ZXJ5dGhpbmcgaXMgaW4gb3JkZXIuXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbj8uKCk7XG4gICAgICAgIGNvbnN0IGhhc0NhcGFiaWxpdHkgPVxuICAgICAgICAgIGtpbmQgPT09ICdtaWMnXG4gICAgICAgICAgICA/IG93bkNhcGFiaWxpdGllcy5pbmNsdWRlcyhPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pXG4gICAgICAgICAgICA6IG93bkNhcGFiaWxpdGllcy5pbmNsdWRlcyhPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pO1xuICAgICAgICBpZiAoYnJvd3NlclBlcm1pc3Npb25TdGF0ZSAhPT0gJ2dyYW50ZWQnIHx8ICFoYXNDYXBhYmlsaXR5KSB7XG4gICAgICAgICAgdGhpcy5pbnB1dERldmljZXMuc2V0KGtpbmQsIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXZpY2U6ICcnLFxuICAgICAgICAgICAgYXZhaWxhYmxlRGV2aWNlczogW10sXG4gICAgICAgICAgICBpc1Blcm1pdHRlZDogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2UubGlzdERldmljZXMoKSwgZGV2aWNlLnN0YXRlLnNlbGVjdGVkRGV2aWNlJF0pLFxuICAgICAgICAgIChbZGV2aWNlcywgZGV2aWNlSWRdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dERldmljZXMuc2V0KGtpbmQsIHtcbiAgICAgICAgICAgICAgY3VycmVudERldmljZTogc2VsZWN0ZWQ/LmxhYmVsIHx8IGRldmljZUlkIHx8ICcnLFxuICAgICAgICAgICAgICBhdmFpbGFibGVEZXZpY2VzOiBkZXZpY2VzLm1hcCgoZCkgPT4gZC5sYWJlbCksXG4gICAgICAgICAgICAgIGlzUGVybWl0dGVkOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBzZW5kQ29ubmVjdGlvblRpbWUgPSAoY29ubmVjdGlvblRpbWVTZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLnNlbmRUZWxlbWV0cnlEYXRhKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY29ubmVjdGlvblRpbWVTZWNvbmRzJyxcbiAgICAgICAgY29ubmVjdGlvblRpbWVTZWNvbmRzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBzZW5kUmVjb25uZWN0aW9uVGltZSA9IChcbiAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgdGltZVNlY29uZHM6IG51bWJlcixcbiAgKSA9PiB7XG4gICAgdGhpcy5zZW5kVGVsZW1ldHJ5RGF0YSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9uZW9mS2luZDogJ3JlY29ubmVjdGlvbicsXG4gICAgICAgIHJlY29ubmVjdGlvbjogeyBzdHJhdGVneSwgdGltZVNlY29uZHMgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBzZW5kVGVsZW1ldHJ5RGF0YSA9ICh0ZWxlbWV0cnlEYXRhOiBUZWxlbWV0cnkpID0+IHtcbiAgICAvLyBpbnRlbnRpb25hbGx5IG5vdCBhd2FpdGluZyB0aGUgcHJvbWlzZSBoZXJlXG4gICAgLy8gdG8gYXZvaWQgaW1wZWRpbmcgd2l0aCB0aGUgb25nb2luZyBhY3Rpb25zLlxuICAgIHRoaXMucnVuKHRlbGVtZXRyeURhdGEpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBzZW5kIHRlbGVtZXRyeSBkYXRhJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHJ1biA9IGFzeW5jICh0ZWxlbWV0cnk/OiBUZWxlbWV0cnkpID0+IHtcbiAgICBjb25zdCBbc3Vic2NyaWJlclN0YXRzLCBwdWJsaXNoZXJTdGF0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLnN1YnNjcmliZXIuc3RhdHMuZ2V0KCksXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uc3RhdHMuZ2V0KCksXG4gICAgXSk7XG5cbiAgICB0aGlzLnN1YnNjcmliZXIudHJhY2VyPy50cmFjZSgnZ2V0c3RhdHMnLCBzdWJzY3JpYmVyU3RhdHMuZGVsdGEpO1xuICAgIGlmIChwdWJsaXNoZXJTdGF0cykge1xuICAgICAgdGhpcy5wdWJsaXNoZXI/LnRyYWNlcj8udHJhY2UoJ2dldHN0YXRzJywgcHVibGlzaGVyU3RhdHMuZGVsdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnNjcmliZXJUcmFjZSA9IHRoaXMuc3Vic2NyaWJlci50cmFjZXI/LnRha2UoKTtcbiAgICBjb25zdCBwdWJsaXNoZXJUcmFjZSA9IHRoaXMucHVibGlzaGVyPy50cmFjZXI/LnRha2UoKTtcbiAgICBjb25zdCB0cmFjZXIgPSB0aGlzLnRyYWNlci50YWtlKCk7XG4gICAgY29uc3Qgc2Z1VHJhY2UgPSB0aGlzLnNmdUNsaWVudC5nZXRUcmFjZSgpO1xuICAgIGNvbnN0IHRyYWNlczogVHJhY2VSZWNvcmRbXSA9IFtcbiAgICAgIC4uLnRyYWNlci5zbmFwc2hvdCxcbiAgICAgIC4uLihzZnVUcmFjZT8uc25hcHNob3QgPz8gW10pLFxuICAgICAgLi4uKHB1Ymxpc2hlclRyYWNlPy5zbmFwc2hvdCA/PyBbXSksXG4gICAgICAuLi4oc3Vic2NyaWJlclRyYWNlPy5zbmFwc2hvdCA/PyBbXSksXG4gICAgXTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZW5kU3RhdHMoe1xuICAgICAgICBzZGs6IHRoaXMuc2RrTmFtZSxcbiAgICAgICAgc2RrVmVyc2lvbjogdGhpcy5zZGtWZXJzaW9uLFxuICAgICAgICB3ZWJydGNWZXJzaW9uOiB0aGlzLndlYlJUQ1ZlcnNpb24sXG4gICAgICAgIHN1YnNjcmliZXJTdGF0czogSlNPTi5zdHJpbmdpZnkoZmxhdHRlbihzdWJzY3JpYmVyU3RhdHMuc3RhdHMpKSxcbiAgICAgICAgcHVibGlzaGVyU3RhdHM6IHB1Ymxpc2hlclN0YXRzXG4gICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShmbGF0dGVuKHB1Ymxpc2hlclN0YXRzLnN0YXRzKSlcbiAgICAgICAgICA6ICdbXScsXG4gICAgICAgIHN1YnNjcmliZXJSdGNTdGF0czogJycsXG4gICAgICAgIHB1Ymxpc2hlclJ0Y1N0YXRzOiAnJyxcbiAgICAgICAgcnRjU3RhdHM6IEpTT04uc3RyaW5naWZ5KHRyYWNlcyksXG4gICAgICAgIGVuY29kZVN0YXRzOiBwdWJsaXNoZXJTdGF0cz8ucGVyZm9ybWFuY2VTdGF0cyA/PyBbXSxcbiAgICAgICAgZGVjb2RlU3RhdHM6IHN1YnNjcmliZXJTdGF0cy5wZXJmb3JtYW5jZVN0YXRzLFxuICAgICAgICBhdWRpb0RldmljZXM6IHRoaXMuaW5wdXREZXZpY2VzLmdldCgnbWljJyksXG4gICAgICAgIHZpZGVvRGV2aWNlczogdGhpcy5pbnB1dERldmljZXMuZ2V0KCdjYW1lcmEnKSxcbiAgICAgICAgdW5pZmllZFNlc3Npb25JZDogdGhpcy51bmlmaWVkU2Vzc2lvbklkLFxuICAgICAgICBkZXZpY2VTdGF0ZTogZ2V0RGV2aWNlU3RhdGUoKSxcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwdWJsaXNoZXJUcmFjZT8ucm9sbGJhY2soKTtcbiAgICAgIHN1YnNjcmliZXJUcmFjZT8ucm9sbGJhY2soKTtcbiAgICAgIHRyYWNlci5yb2xsYmFjaygpO1xuICAgICAgc2Z1VHJhY2U/LnJvbGxiYWNrKCk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIHN0YXJ0ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVwb3J0aW5nX2ludGVydmFsX21zIDw9IDApIHJldHVybjtcblxuICAgIHRoaXMub2JzZXJ2ZURldmljZSh0aGlzLm1pY3JvcGhvbmUsICdtaWMnKTtcbiAgICB0aGlzLm9ic2VydmVEZXZpY2UodGhpcy5jYW1lcmEsICdjYW1lcmEnKTtcblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnJ1bigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIHJlcG9ydCBzdGF0cycsIGVycik7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLm9wdGlvbnMucmVwb3J0aW5nX2ludGVydmFsX21zKTtcbiAgfTtcblxuICBzdG9wID0gKCkgPT4ge1xuICAgIHRoaXMudW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbj8uKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbj8uKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZUxpc3REZXZpY2VzU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5pbnB1dERldmljZXMuY2xlYXIoKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgdGhpcy50aW1lb3V0SWQgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgZmx1c2ggPSAoKSA9PiB7XG4gICAgdGhpcy5ydW4oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gZmx1c2ggcmVwb3J0IHN0YXRzJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICBzY2hlZHVsZU9uZSA9ICh0aW1lb3V0OiBudW1iZXIpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJ1bigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIHJlcG9ydCBzdGF0cycsIGVycik7XG4gICAgICB9KTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgfTtcbn1cbiIsImltcG9ydCB0eXBlIHsgUlRDU3RhdHNEYXRhVHlwZSwgVHJhY2UgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IHRyYWNlUlRDUGVlckNvbm5lY3Rpb24gPSAocGM6IFJUQ1BlZXJDb25uZWN0aW9uLCB0cmFjZTogVHJhY2UpID0+IHtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgKGUpID0+IHtcbiAgICB0cmFjZSgnb25pY2VjYW5kaWRhdGUnLCBlLmNhbmRpZGF0ZSk7XG4gIH0pO1xuICBwYy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIChlKSA9PiB7XG4gICAgY29uc3Qgc3RyZWFtcyA9IGUuc3RyZWFtcy5tYXAoKHN0cmVhbSkgPT4gYHN0cmVhbToke3N0cmVhbS5pZH1gKTtcbiAgICB0cmFjZSgnb250cmFjaycsIGAke2UudHJhY2sua2luZH06JHtlLnRyYWNrLmlkfSAke3N0cmVhbXN9YCk7XG4gIH0pO1xuICBwYy5hZGRFdmVudExpc3RlbmVyKCdzaWduYWxpbmdzdGF0ZWNoYW5nZScsICgpID0+IHtcbiAgICB0cmFjZSgnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBwYy5zaWduYWxpbmdTdGF0ZSk7XG4gIH0pO1xuICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgdHJhY2UoJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSk7XG4gIH0pO1xuICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZScsICgpID0+IHtcbiAgICB0cmFjZSgnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLCBwYy5pY2VHYXRoZXJpbmdTdGF0ZSk7XG4gIH0pO1xuICBwYy5hZGRFdmVudExpc3RlbmVyKCdjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgdHJhY2UoJ2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIHBjLmNvbm5lY3Rpb25TdGF0ZSk7XG4gIH0pO1xuICBwYy5hZGRFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsICgpID0+IHtcbiAgICB0cmFjZSgnbmVnb3RpYXRpb25uZWVkZWQnLCB1bmRlZmluZWQpO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignZGF0YWNoYW5uZWwnLCAoeyBjaGFubmVsIH0pID0+IHtcbiAgICB0cmFjZSgnZGF0YWNoYW5uZWwnLCBbY2hhbm5lbC5pZCwgY2hhbm5lbC5sYWJlbF0pO1xuICB9KTtcblxuICBjb25zdCBvcmlnQ2xvc2UgPSBwYy5jbG9zZTtcbiAgcGMuY2xvc2UgPSBmdW5jdGlvbiB0cmFjZWRDbG9zZSgpIHtcbiAgICB0cmFjZSgnY2xvc2UnLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvcmlnQ2xvc2UuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBbXG4gICAgJ2NyZWF0ZU9mZmVyJyxcbiAgICAnY3JlYXRlQW5zd2VyJyxcbiAgICAnc2V0TG9jYWxEZXNjcmlwdGlvbicsXG4gICAgJ3NldFJlbW90ZURlc2NyaXB0aW9uJyxcbiAgICAnYWRkSWNlQ2FuZGlkYXRlJyxcbiAgXSBhcyBjb25zdCkge1xuICAgIGNvbnN0IG9yaWdpbmFsID0gcGNbbWV0aG9kXTtcbiAgICBpZiAoIW9yaWdpbmFsKSBjb250aW51ZTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igd2UgZG9uJ3QgdXNlIGRlcHJlY2F0ZWQgQVBJc1xuICAgIHBjW21ldGhvZF0gPSBhc3luYyBmdW5jdGlvbiB0cmFjZWRNZXRob2QoLi4uYXJnczogYW55W10pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRyYWNlKG1ldGhvZCwgYXJncyk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaW1wcm9wZXIgdHlwZXNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHRyYWNlKGAke21ldGhvZH1PblN1Y2Nlc3NgLCByZXN1bHQgYXMgUlRDU3RhdHNEYXRhVHlwZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdHJhY2UoYCR7bWV0aG9kfU9uRmFpbHVyZWAsIChlcnIgYXMgRXJyb3IpLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsImltcG9ydCB7XG4gIENvZGVjLFxuICBQZWVyVHlwZSxcbiAgUGVyZm9ybWFuY2VTdGF0cyxcbiAgVHJhY2tUeXBlLFxufSBmcm9tICcuLi8uLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHR5cGUgeyBSVENDb2RlY1N0YXRzLCBSVENNZWRpYVNvdXJjZVN0YXRzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb21wdXRlZFN0YXRzIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogU3RhdHNUcmFjZXIgaXMgYSBjbGFzcyB0aGF0IGNvbGxlY3RzIGFuZCBwcm9jZXNzZXMgV2ViUlRDIHN0YXRzLlxuICogSXQgaXMgdXNlZCB0byB0cmFjayB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIFdlYlJUQyBjb25uZWN0aW9uXG4gKiBhbmQgdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbWVkaWEgc3RyZWFtcy5cbiAqIEl0IGlzIHVzZWQgYnkgYm90aCB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIGNsYXNzZXMuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGF0c1RyYWNlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGM6IFJUQ1BlZXJDb25uZWN0aW9uO1xuICBwcml2YXRlIHJlYWRvbmx5IHBlZXJUeXBlOiBQZWVyVHlwZTtcbiAgcHJpdmF0ZSByZWFkb25seSB0cmFja0lkVG9UcmFja1R5cGU6IE1hcDxzdHJpbmcsIFRyYWNrVHlwZT47XG5cbiAgcHJpdmF0ZSBjb3N0T3ZlcnJpZGVzPzogTWFwPFRyYWNrVHlwZSwgbnVtYmVyPjtcblxuICBwcml2YXRlIHByZXZpb3VzU3RhdHM6IFJlY29yZDxzdHJpbmcsIFJUQ1N0YXRzPiA9IHt9O1xuICBwcml2YXRlIGZyYW1lVGltZUhpc3Rvcnk6IG51bWJlcltdID0gW107XG4gIHByaXZhdGUgZnBzSGlzdG9yeTogbnVtYmVyW10gPSBbXTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTdGF0c1RyYWNlciBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBjOiBSVENQZWVyQ29ubmVjdGlvbixcbiAgICBwZWVyVHlwZTogUGVlclR5cGUsXG4gICAgdHJhY2tJZFRvVHJhY2tUeXBlOiBNYXA8c3RyaW5nLCBUcmFja1R5cGU+LFxuICApIHtcbiAgICB0aGlzLnBjID0gcGM7XG4gICAgdGhpcy5wZWVyVHlwZSA9IHBlZXJUeXBlO1xuICAgIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlID0gdHJhY2tJZFRvVHJhY2tUeXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3RhdHMgZnJvbSB0aGUgUlRDUGVlckNvbm5lY3Rpb24uXG4gICAqIFdoZW4gY2FsbGVkLCBpdCB3aWxsIHJldHVybiB0aGUgc3RhdHMgZm9yIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24uXG4gICAqIEl0IHdpbGwgYWxzbyByZXR1cm4gdGhlIGRlbHRhIGJldHdlZW4gdGhlIGN1cnJlbnQgc3RhdHMgYW5kIHRoZSBwcmV2aW91cyBzdGF0cy5cbiAgICogVGhpcyBpcyB1c2VkIHRvIHRyYWNrIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXQgPSBhc3luYyAoKTogUHJvbWlzZTxDb21wdXRlZFN0YXRzPiA9PiB7XG4gICAgY29uc3Qgc3RhdHMgPSBhd2FpdCB0aGlzLnBjLmdldFN0YXRzKCk7XG4gICAgY29uc3QgY3VycmVudFN0YXRzID0gdG9PYmplY3Qoc3RhdHMpO1xuXG4gICAgY29uc3QgcGVyZm9ybWFuY2VTdGF0cyA9IHRoaXMud2l0aE92ZXJyaWRlcyhcbiAgICAgIHRoaXMucGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVJcbiAgICAgICAgPyB0aGlzLmdldERlY29kZVN0YXRzKGN1cnJlbnRTdGF0cylcbiAgICAgICAgOiB0aGlzLmdldEVuY29kZVN0YXRzKGN1cnJlbnRTdGF0cyksXG4gICAgKTtcblxuICAgIGNvbnN0IGRlbHRhID0gZGVsdGFDb21wcmVzc2lvbih0aGlzLnByZXZpb3VzU3RhdHMsIGN1cnJlbnRTdGF0cyk7XG5cbiAgICAvLyBzdG9yZSB0aGUgY3VycmVudCBkYXRhIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICB0aGlzLnByZXZpb3VzU3RhdHMgPSBjdXJyZW50U3RhdHM7XG4gICAgdGhpcy5mcmFtZVRpbWVIaXN0b3J5ID0gdGhpcy5mcmFtZVRpbWVIaXN0b3J5LnNsaWNlKC0yKTtcbiAgICB0aGlzLmZwc0hpc3RvcnkgPSB0aGlzLmZwc0hpc3Rvcnkuc2xpY2UoLTIpO1xuXG4gICAgcmV0dXJuIHsgcGVyZm9ybWFuY2VTdGF0cywgZGVsdGEsIHN0YXRzIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbGxlY3RzIGVuY29kZSBzdGF0cyBmcm9tIHRoZSBSVENQZWVyQ29ubmVjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgZ2V0RW5jb2RlU3RhdHMgPSAoXG4gICAgY3VycmVudFN0YXRzOiBSZWNvcmQ8c3RyaW5nLCBSVENTdGF0cz4sXG4gICk6IFBlcmZvcm1hbmNlU3RhdHNbXSA9PiB7XG4gICAgY29uc3QgZW5jb2RlU3RhdHM6IFBlcmZvcm1hbmNlU3RhdHNbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcnRwIG9mIE9iamVjdC52YWx1ZXMoY3VycmVudFN0YXRzKSkge1xuICAgICAgaWYgKHJ0cC50eXBlICE9PSAnb3V0Ym91bmQtcnRwJykgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29kZWNJZCxcbiAgICAgICAgZnJhbWVzU2VudCA9IDAsXG4gICAgICAgIGtpbmQsXG4gICAgICAgIGlkLFxuICAgICAgICB0b3RhbEVuY29kZVRpbWUgPSAwLFxuICAgICAgICBmcmFtZXNQZXJTZWNvbmQgPSAwLFxuICAgICAgICBmcmFtZUhlaWdodCA9IDAsXG4gICAgICAgIGZyYW1lV2lkdGggPSAwLFxuICAgICAgICB0YXJnZXRCaXRyYXRlID0gMCxcbiAgICAgICAgbWVkaWFTb3VyY2VJZCxcbiAgICAgIH0gPSBydHAgYXMgUlRDT3V0Ym91bmRSdHBTdHJlYW1TdGF0cztcblxuICAgICAgaWYgKGtpbmQgPT09ICdhdWRpbycgfHwgIXRoaXMucHJldmlvdXNTdGF0c1tpZF0pIGNvbnRpbnVlO1xuICAgICAgY29uc3QgcHJldlJ0cCA9IHRoaXMucHJldmlvdXNTdGF0c1tpZF0gYXMgUlRDT3V0Ym91bmRSdHBTdHJlYW1TdGF0cztcblxuICAgICAgY29uc3QgZGVsdGFUb3RhbEVuY29kZVRpbWUgPVxuICAgICAgICB0b3RhbEVuY29kZVRpbWUgLSAocHJldlJ0cC50b3RhbEVuY29kZVRpbWUgfHwgMCk7XG4gICAgICBjb25zdCBkZWx0YUZyYW1lc1NlbnQgPSBmcmFtZXNTZW50IC0gKHByZXZSdHAuZnJhbWVzU2VudCB8fCAwKTtcbiAgICAgIGNvbnN0IGZyYW1lc0VuY29kZVRpbWUgPVxuICAgICAgICBkZWx0YUZyYW1lc1NlbnQgPiAwXG4gICAgICAgICAgPyAoZGVsdGFUb3RhbEVuY29kZVRpbWUgLyBkZWx0YUZyYW1lc1NlbnQpICogMTAwMFxuICAgICAgICAgIDogMDtcblxuICAgICAgdGhpcy5mcmFtZVRpbWVIaXN0b3J5LnB1c2goZnJhbWVzRW5jb2RlVGltZSk7XG4gICAgICB0aGlzLmZwc0hpc3RvcnkucHVzaChmcmFtZXNQZXJTZWNvbmQpO1xuXG4gICAgICBsZXQgdHJhY2tUeXBlID0gVHJhY2tUeXBlLlZJREVPO1xuICAgICAgaWYgKG1lZGlhU291cmNlSWQgJiYgY3VycmVudFN0YXRzW21lZGlhU291cmNlSWRdKSB7XG4gICAgICAgIGNvbnN0IG1lZGlhU291cmNlID0gY3VycmVudFN0YXRzW21lZGlhU291cmNlSWRdIGFzIFJUQ01lZGlhU291cmNlU3RhdHM7XG4gICAgICAgIHRyYWNrVHlwZSA9XG4gICAgICAgICAgdGhpcy50cmFja0lkVG9UcmFja1R5cGUuZ2V0KG1lZGlhU291cmNlLnRyYWNrSWRlbnRpZmllcikgfHwgdHJhY2tUeXBlO1xuICAgICAgfVxuXG4gICAgICBlbmNvZGVTdGF0cy5wdXNoKHtcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgICAgICBjb2RlYzogZ2V0Q29kZWNGcm9tU3RhdHMoY3VycmVudFN0YXRzLCBjb2RlY0lkKSxcbiAgICAgICAgYXZnRnJhbWVUaW1lTXM6IGF2ZXJhZ2UodGhpcy5mcmFtZVRpbWVIaXN0b3J5KSxcbiAgICAgICAgYXZnRnBzOiBhdmVyYWdlKHRoaXMuZnBzSGlzdG9yeSksXG4gICAgICAgIHRhcmdldEJpdHJhdGU6IE1hdGgucm91bmQodGFyZ2V0Qml0cmF0ZSksXG4gICAgICAgIHZpZGVvRGltZW5zaW9uOiB7IHdpZHRoOiBmcmFtZVdpZHRoLCBoZWlnaHQ6IGZyYW1lSGVpZ2h0IH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5jb2RlU3RhdHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbGxlY3RzIGRlY29kZSBzdGF0cyBmcm9tIHRoZSBSVENQZWVyQ29ubmVjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgZ2V0RGVjb2RlU3RhdHMgPSAoXG4gICAgY3VycmVudFN0YXRzOiBSZWNvcmQ8c3RyaW5nLCBSVENTdGF0cz4sXG4gICk6IFBlcmZvcm1hbmNlU3RhdHNbXSA9PiB7XG4gICAgbGV0IHJ0cDogUlRDSW5ib3VuZFJ0cFN0cmVhbVN0YXRzIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBPYmplY3QudmFsdWVzKGN1cnJlbnRTdGF0cykpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgIT09ICdpbmJvdW5kLXJ0cCcpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgcnRwSXRlbSA9IGl0ZW0gYXMgUlRDSW5ib3VuZFJ0cFN0cmVhbVN0YXRzO1xuICAgICAgY29uc3QgeyBraW5kLCBmcmFtZVdpZHRoID0gMCwgZnJhbWVIZWlnaHQgPSAwIH0gPSBydHBJdGVtO1xuICAgICAgY29uc3QgYXJlYSA9IGZyYW1lV2lkdGggKiBmcmFtZUhlaWdodDtcbiAgICAgIGlmIChraW5kID09PSAndmlkZW8nICYmIGFyZWEgPiBtYXgpIHtcbiAgICAgICAgcnRwID0gcnRwSXRlbTtcbiAgICAgICAgbWF4ID0gYXJlYTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXJ0cCB8fCAhdGhpcy5wcmV2aW91c1N0YXRzW3J0cC5pZF0pIHJldHVybiBbXTtcbiAgICBjb25zdCBwcmV2UnRwID0gdGhpcy5wcmV2aW91c1N0YXRzW3J0cC5pZF0gYXMgUlRDSW5ib3VuZFJ0cFN0cmVhbVN0YXRzO1xuXG4gICAgY29uc3Qge1xuICAgICAgZnJhbWVzRGVjb2RlZCA9IDAsXG4gICAgICBmcmFtZXNQZXJTZWNvbmQgPSAwLFxuICAgICAgdG90YWxEZWNvZGVUaW1lID0gMCxcbiAgICAgIHRyYWNrSWRlbnRpZmllcixcbiAgICB9ID0gcnRwO1xuICAgIGNvbnN0IGRlbHRhVG90YWxEZWNvZGVUaW1lID1cbiAgICAgIHRvdGFsRGVjb2RlVGltZSAtIChwcmV2UnRwLnRvdGFsRGVjb2RlVGltZSB8fCAwKTtcbiAgICBjb25zdCBkZWx0YUZyYW1lc0RlY29kZWQgPSBmcmFtZXNEZWNvZGVkIC0gKHByZXZSdHAuZnJhbWVzRGVjb2RlZCB8fCAwKTtcblxuICAgIGNvbnN0IGZyYW1lc0RlY29kZVRpbWUgPVxuICAgICAgZGVsdGFGcmFtZXNEZWNvZGVkID4gMFxuICAgICAgICA/IChkZWx0YVRvdGFsRGVjb2RlVGltZSAvIGRlbHRhRnJhbWVzRGVjb2RlZCkgKiAxMDAwXG4gICAgICAgIDogMDtcblxuICAgIHRoaXMuZnJhbWVUaW1lSGlzdG9yeS5wdXNoKGZyYW1lc0RlY29kZVRpbWUpO1xuICAgIHRoaXMuZnBzSGlzdG9yeS5wdXNoKGZyYW1lc1BlclNlY29uZCk7XG5cbiAgICBjb25zdCB0cmFja1R5cGUgPVxuICAgICAgdGhpcy50cmFja0lkVG9UcmFja1R5cGUuZ2V0KHRyYWNrSWRlbnRpZmllcikgfHwgVHJhY2tUeXBlLlZJREVPO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIFBlcmZvcm1hbmNlU3RhdHMuY3JlYXRlKHtcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgICAgICBjb2RlYzogZ2V0Q29kZWNGcm9tU3RhdHMoY3VycmVudFN0YXRzLCBydHAuY29kZWNJZCksXG4gICAgICAgIGF2Z0ZyYW1lVGltZU1zOiBhdmVyYWdlKHRoaXMuZnJhbWVUaW1lSGlzdG9yeSksXG4gICAgICAgIGF2Z0ZwczogYXZlcmFnZSh0aGlzLmZwc0hpc3RvcnkpLFxuICAgICAgICB2aWRlb0RpbWVuc2lvbjogeyB3aWR0aDogcnRwLmZyYW1lV2lkdGgsIGhlaWdodDogcnRwLmZyYW1lSGVpZ2h0IH0sXG4gICAgICB9KSxcbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBcHBsaWVzIGNvc3Qgb3ZlcnJpZGVzIHRvIHRoZSBwZXJmb3JtYW5jZSBzdGF0cy5cbiAgICogVGhpcyBpcyB1c2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGVuY29kZS9kZWNvZGUgdGltZXMgd2l0aCBjdXN0b20gdmFsdWVzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgdGVzdGluZyBhbmQgZGVidWdnaW5nIHB1cnBvc2VzLCBhbmQgaXQgc2hvdWxkbid0IGJlIHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgd2l0aE92ZXJyaWRlcyA9IChcbiAgICBwZXJmb3JtYW5jZVN0YXRzOiBQZXJmb3JtYW5jZVN0YXRzW10sXG4gICk6IFBlcmZvcm1hbmNlU3RhdHNbXSA9PiB7XG4gICAgaWYgKHRoaXMuY29zdE92ZXJyaWRlcykge1xuICAgICAgZm9yIChjb25zdCBzIG9mIHBlcmZvcm1hbmNlU3RhdHMpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGUgPSB0aGlzLmNvc3RPdmVycmlkZXMuZ2V0KHMudHJhY2tUeXBlKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBvdmVycmlkZSB0aGUgYXZlcmFnZSBlbmNvZGUvZGVjb2RlIHRpbWUgd2l0aCB0aGUgcHJvdmlkZWQgY29zdC5cbiAgICAgICAgICAvLyBmb3JtYXQ6IFtvdmVycmlkZV0uW29yaWdpbmFsLWZyYW1lLXRpbWVdXG4gICAgICAgICAgcy5hdmdGcmFtZVRpbWVNcyA9IG92ZXJyaWRlICsgKHMuYXZnRnJhbWVUaW1lTXMgfHwgMCkgLyAxMDAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwZXJmb3JtYW5jZVN0YXRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGVuY29kZS9kZWNvZGUgY29zdCBmb3IgYSBzcGVjaWZpYyB0cmFjayB0eXBlLlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgZW5jb2RlL2RlY29kZSB0aW1lcyB3aXRoIGN1c3RvbSB2YWx1ZXMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciB0ZXN0aW5nIGFuZCBkZWJ1Z2dpbmcgcHVycG9zZXMsIGFuZCBpdCBzaG91bGRuJ3QgYmUgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldENvc3QgPSAoY29zdDogbnVtYmVyLCB0cmFja1R5cGUgPSBUcmFja1R5cGUuVklERU8pID0+IHtcbiAgICBpZiAoIXRoaXMuY29zdE92ZXJyaWRlcykgdGhpcy5jb3N0T3ZlcnJpZGVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuY29zdE92ZXJyaWRlcy5zZXQodHJhY2tUeXBlLCBjb3N0KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBzdGF0IHJlcG9ydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHJlcG9ydCB0aGUgc3RhdCByZXBvcnQgdG8gY29udmVydC5cbiAqL1xuY29uc3QgdG9PYmplY3QgPSAocmVwb3J0OiBSVENTdGF0c1JlcG9ydCk6IFJlY29yZDxzdHJpbmcsIFJUQ1N0YXRzPiA9PiB7XG4gIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgUlRDU3RhdHM+ID0ge307XG4gIHJlcG9ydC5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgb2JqW2tdID0gdjtcbiAgfSk7XG4gIHJldHVybiBvYmo7XG59O1xuXG4vKipcbiAqIEFwcGx5IGRlbHRhIGNvbXByZXNzaW9uIHRvIHRoZSBzdGF0cyByZXBvcnQuXG4gKiBSZWR1Y2VzIHNpemUgYnkgfjkwJS5cbiAqIFRvIHJlZHVjZSBmdXJ0aGVyLCByZXBvcnQga2V5cyBjb3VsZCBiZSBjb21wcmVzc2VkLlxuICovXG5jb25zdCBkZWx0YUNvbXByZXNzaW9uID0gKFxuICBvbGRTdGF0czogUmVjb3JkPGFueSwgYW55PixcbiAgbmV3U3RhdHM6IFJlY29yZDxhbnksIGFueT4sXG4pOiBSZWNvcmQ8YW55LCBhbnk+ID0+IHtcbiAgbmV3U3RhdHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1N0YXRzKSk7XG5cbiAgZm9yIChjb25zdCBbaWQsIHJlcG9ydF0gb2YgT2JqZWN0LmVudHJpZXMobmV3U3RhdHMpKSB7XG4gICAgZGVsZXRlIHJlcG9ydC5pZDtcbiAgICBpZiAoIW9sZFN0YXRzW2lkXSkgY29udGludWU7XG5cbiAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVwb3J0KSkge1xuICAgICAgaWYgKHZhbHVlID09PSBvbGRTdGF0c1tpZF1bbmFtZV0pIHtcbiAgICAgICAgZGVsZXRlIHJlcG9ydFtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXQgdGltZXN0YW1wID0gLUluZmluaXR5O1xuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKG5ld1N0YXRzKTtcbiAgZm9yIChjb25zdCByZXBvcnQgb2YgdmFsdWVzKSB7XG4gICAgaWYgKHJlcG9ydC50aW1lc3RhbXAgPiB0aW1lc3RhbXApIHtcbiAgICAgIHRpbWVzdGFtcCA9IHJlcG9ydC50aW1lc3RhbXA7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcmVwb3J0IG9mIHZhbHVlcykge1xuICAgIGlmIChyZXBvcnQudGltZXN0YW1wID09PSB0aW1lc3RhbXApIHtcbiAgICAgIHJlcG9ydC50aW1lc3RhbXAgPSAwO1xuICAgIH1cbiAgfVxuICBuZXdTdGF0cy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gIHJldHVybiBuZXdTdGF0cztcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhbiBhdmVyYWdlIHZhbHVlLlxuICovXG5jb25zdCBhdmVyYWdlID0gKGFycjogbnVtYmVyW10pID0+IGFyci5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIGFyci5sZW5ndGg7XG5cbi8qKlxuICogQ3JlYXRlIGEgQ29kZWMgb2JqZWN0IGZyb20gdGhlIGNvZGVjIHN0YXRzLlxuICpcbiAqIEBwYXJhbSBzdGF0cyB0aGUgc3RhdHMgcmVwb3J0LlxuICogQHBhcmFtIGNvZGVjSWQgdGhlIGNvZGVjIElEIHRvIGxvb2sgZm9yLlxuICovXG5jb25zdCBnZXRDb2RlY0Zyb21TdGF0cyA9IChcbiAgc3RhdHM6IFJlY29yZDxzdHJpbmcsIFJUQ1N0YXRzPixcbiAgY29kZWNJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuKTogQ29kZWMgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIWNvZGVjSWQgfHwgIXN0YXRzW2NvZGVjSWRdKSByZXR1cm47XG4gIGNvbnN0IGNvZGVjU3RhdHMgPSBzdGF0c1tjb2RlY0lkXSBhcyBSVENDb2RlY1N0YXRzO1xuICByZXR1cm4gQ29kZWMuY3JlYXRlKHtcbiAgICBuYW1lOiBjb2RlY1N0YXRzLm1pbWVUeXBlLnNwbGl0KCcvJykucG9wKCksIC8vIHZpZGVvL2F2MSAtPiBhdjFcbiAgICBjbG9ja1JhdGU6IGNvZGVjU3RhdHMuY2xvY2tSYXRlLFxuICAgIHBheWxvYWRUeXBlOiBjb2RlY1N0YXRzLnBheWxvYWRUeXBlLFxuICAgIGZtdHA6IGNvZGVjU3RhdHMuc2RwRm10cExpbmUsXG4gIH0pO1xufTtcbiIsImltcG9ydCB0eXBlIHtcbiAgUlRDU3RhdHNEYXRhVHlwZSxcbiAgVHJhY2UsXG4gIFRyYWNlS2V5LFxuICBUcmFjZVJlY29yZCxcbiAgVHJhY2VTbGljZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBUcmFjZXIge1xuICBwcml2YXRlIGJ1ZmZlcjogVHJhY2VSZWNvcmRbXSA9IFtdO1xuICBwcml2YXRlIGVuYWJsZWQgPSB0cnVlO1xuICBwcml2YXRlIHJlYWRvbmx5IGlkOiBzdHJpbmcgfCBudWxsO1xuICBwcml2YXRlIGtleXM/OiBNYXA8VHJhY2VLZXksIGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICB9XG5cbiAgc2V0RW5hYmxlZCA9IChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gZW5hYmxlZCkgcmV0dXJuO1xuICAgIHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgfTtcblxuICB0cmFjZTogVHJhY2UgPSAodGFnLCBkYXRhKSA9PiB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICB0aGlzLmJ1ZmZlci5wdXNoKFt0YWcsIHRoaXMuaWQsIGRhdGEsIERhdGUubm93KCldKTtcbiAgfTtcblxuICB0cmFjZU9uY2UgPSAoa2V5OiBUcmFjZUtleSwgdGFnOiBzdHJpbmcsIGRhdGE6IFJUQ1N0YXRzRGF0YVR5cGUpID0+IHtcbiAgICBpZiAodGhpcy5rZXlzPy5oYXMoa2V5KSkgcmV0dXJuO1xuICAgIHRoaXMudHJhY2UodGFnLCBkYXRhKTtcbiAgICAodGhpcy5rZXlzID8/PSBuZXcgTWFwKCkpLnNldChrZXksIHRydWUpO1xuICB9O1xuXG4gIHJlc2V0VHJhY2UgPSAoa2V5OiBUcmFjZUtleSkgPT4ge1xuICAgIHRoaXMua2V5cz8uZGVsZXRlKGtleSk7XG4gIH07XG5cbiAgdGFrZSA9ICgpOiBUcmFjZVNsaWNlID0+IHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IHRoaXMuYnVmZmVyO1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgIHNuYXBzaG90LFxuICAgICAgcm9sbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5idWZmZXIudW5zaGlmdCguLi5zbmFwc2hvdCk7XG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIHRoaXMua2V5cz8uY2xlYXIoKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7XG4gIENhbGxFdmVudExpc3RlbmVyLFxuICBMb2dnZXIsXG59IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlLCBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7XG4gIEVycm9yQ29kZSxcbiAgUGVlclR5cGUsXG4gIFRyYWNrVHlwZSxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBOZWdvdGlhdGlvbkVycm9yIH0gZnJvbSAnLi9OZWdvdGlhdGlvbkVycm9yJztcbmltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4uL1N0cmVhbVNmdUNsaWVudCc7XG5pbXBvcnQgeyBBbGxTZnVFdmVudHMsIERpc3BhdGNoZXIgfSBmcm9tICcuL0Rpc3BhdGNoZXInO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBTdGF0c1RyYWNlciwgVHJhY2VyLCB0cmFjZVJUQ1BlZXJDb25uZWN0aW9uIH0gZnJvbSAnLi4vc3RhdHMnO1xuXG5leHBvcnQgdHlwZSBPblJlY29ubmVjdGlvbk5lZWRlZCA9IChcbiAga2luZDogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gIHJlYXNvbjogc3RyaW5nLFxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBCYXNlUGVlckNvbm5lY3Rpb25PcHRzID0ge1xuICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgc3RhdGU6IENhbGxTdGF0ZTtcbiAgY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb247XG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gIG9uUmVjb25uZWN0aW9uTmVlZGVkPzogT25SZWNvbm5lY3Rpb25OZWVkZWQ7XG4gIHRhZzogc3RyaW5nO1xuICBlbmFibGVUcmFjaW5nOiBib29sZWFuO1xuICBpY2VSZXN0YXJ0RGVsYXk/OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIEEgYmFzZSBjbGFzcyBmb3IgdGhlIGBQdWJsaXNoZXJgIGFuZCBgU3Vic2NyaWJlcmAgY2xhc3Nlcy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVBlZXJDb25uZWN0aW9uIHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgcGVlclR5cGU6IFBlZXJUeXBlO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgcGM6IFJUQ1BlZXJDb25uZWN0aW9uO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgc3RhdGU6IENhbGxTdGF0ZTtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gIHByb3RlY3RlZCBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcblxuICBwcml2YXRlIG9uUmVjb25uZWN0aW9uTmVlZGVkPzogT25SZWNvbm5lY3Rpb25OZWVkZWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWNlUmVzdGFydERlbGF5OiBudW1iZXI7XG4gIHByaXZhdGUgaWNlUmVzdGFydFRpbWVvdXQ/OiBOb2RlSlMuVGltZW91dDtcbiAgcHJvdGVjdGVkIGlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICBwcml2YXRlIGlzRGlzcG9zZWQgPSBmYWxzZTtcblxuICBwcm90ZWN0ZWQgdHJhY2tJZFRvVHJhY2tUeXBlID0gbmV3IE1hcDxzdHJpbmcsIFRyYWNrVHlwZT4oKTtcblxuICByZWFkb25seSB0cmFjZXI/OiBUcmFjZXI7XG4gIHJlYWRvbmx5IHN0YXRzOiBTdGF0c1RyYWNlcjtcblxuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnM6ICgoKSA9PiB2b2lkKVtdID0gW107XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVJY2VUcmlja2xlPzogKCkgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGxvY2sgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgQmFzZVBlZXJDb25uZWN0aW9uYCBpbnN0YW5jZS5cbiAgICovXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcbiAgICBwZWVyVHlwZTogUGVlclR5cGUsXG4gICAge1xuICAgICAgc2Z1Q2xpZW50LFxuICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgIHN0YXRlLFxuICAgICAgZGlzcGF0Y2hlcixcbiAgICAgIG9uUmVjb25uZWN0aW9uTmVlZGVkLFxuICAgICAgdGFnLFxuICAgICAgZW5hYmxlVHJhY2luZyxcbiAgICAgIGljZVJlc3RhcnREZWxheSA9IDI1MDAsXG4gICAgfTogQmFzZVBlZXJDb25uZWN0aW9uT3B0cyxcbiAgKSB7XG4gICAgdGhpcy5wZWVyVHlwZSA9IHBlZXJUeXBlO1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgIHRoaXMuaWNlUmVzdGFydERlbGF5ID0gaWNlUmVzdGFydERlbGF5O1xuICAgIHRoaXMub25SZWNvbm5lY3Rpb25OZWVkZWQgPSBvblJlY29ubmVjdGlvbk5lZWRlZDtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbXG4gICAgICBwZWVyVHlwZSA9PT0gUGVlclR5cGUuU1VCU0NSSUJFUiA/ICdTdWJzY3JpYmVyJyA6ICdQdWJsaXNoZXInLFxuICAgICAgdGFnLFxuICAgIF0pO1xuICAgIHRoaXMucGMgPSB0aGlzLmNyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuICAgIHRoaXMuc3RhdHMgPSBuZXcgU3RhdHNUcmFjZXIodGhpcy5wYywgcGVlclR5cGUsIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlKTtcbiAgICBpZiAoZW5hYmxlVHJhY2luZykge1xuICAgICAgdGhpcy50cmFjZXIgPSBuZXcgVHJhY2VyKFxuICAgICAgICBgJHt0YWd9LSR7cGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVIgPyAnc3ViJyA6ICdwdWInfWAsXG4gICAgICApO1xuICAgICAgdGhpcy50cmFjZXIudHJhY2UoJ2NyZWF0ZScsIHtcbiAgICAgICAgdXJsOiBzZnVDbGllbnQuZWRnZU5hbWUsXG4gICAgICAgIC4uLmNvbm5lY3Rpb25Db25maWcsXG4gICAgICB9KTtcbiAgICAgIHRyYWNlUlRDUGVlckNvbm5lY3Rpb24odGhpcy5wYywgdGhpcy50cmFjZXIudHJhY2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUGVlckNvbm5lY3Rpb24gPSAoY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb24pID0+IHtcbiAgICBjb25zdCBwYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWdhdGhlcmluZ3N0YXRlY2hhbmdlJywgdGhpcy5vbkljZUdhdGhlckNoYW5nZSk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCB0aGlzLm9uU2lnbmFsaW5nQ2hhbmdlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCB0aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKTtcbiAgICByZXR1cm4gcGM7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIGluc3RhbmNlLlxuICAgKi9cbiAgZGlzcG9zZSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5pY2VSZXN0YXJ0VGltZW91dCk7XG4gICAgdGhpcy5pY2VSZXN0YXJ0VGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9uUmVjb25uZWN0aW9uTmVlZGVkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaXNEaXNwb3NlZCA9IHRydWU7XG4gICAgdGhpcy5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5wYy5jbG9zZSgpO1xuICAgIHRoaXMudHJhY2VyPy5kaXNwb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoZXMgdGhlIGV2ZW50IGhhbmRsZXJzIGZyb20gdGhlIGBSVENQZWVyQ29ubmVjdGlvbmAuXG4gICAqL1xuICBkZXRhY2hFdmVudEhhbmRsZXJzKCkge1xuICAgIGNvbnN0IHBjID0gdGhpcy5wYztcbiAgICBwYy5yZW1vdmVFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5yZW1vdmVFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCB0aGlzLm9uU2lnbmFsaW5nQ2hhbmdlKTtcbiAgICBwYy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsXG4gICAgICB0aGlzLm9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgcGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLCB0aGlzLm9uSWNlR2F0aGVyQ2hhbmdlKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZT8uKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBJQ0UgcmVzdGFydCBvbiB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYC5cbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCByZXN0YXJ0SWNlKCk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIHJlc3RhcnQgSUNFIG9uIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKiBUaGlzIG1ldGhvZCBpbnRlbnRpb25hbGx5IGRvZXNuJ3QgYXdhaXQgdGhlIGByZXN0YXJ0SWNlKClgIG1ldGhvZCxcbiAgICogYWxsb3dpbmcgaXQgdG8gcnVuIGluIHRoZSBiYWNrZ3JvdW5kIGFuZCBoYW5kbGUgYW55IGVycm9ycyB0aGF0IG1heSBvY2N1ci5cbiAgICovXG4gIHByb3RlY3RlZCB0cnlSZXN0YXJ0SWNlID0gKCkgPT4ge1xuICAgIHRoaXMucmVzdGFydEljZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICBjb25zdCByZWFzb24gPSAncmVzdGFydElDRSgpIGZhaWxlZCwgaW5pdGlhdGluZyByZWNvbm5lY3QnO1xuICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgcmVhc29uLCBlKTtcbiAgICAgIGNvbnN0IHN0cmF0ZWd5ID1cbiAgICAgICAgZSBpbnN0YW5jZW9mIE5lZ290aWF0aW9uRXJyb3IgJiZcbiAgICAgICAgZS5lcnJvci5jb2RlID09PSBFcnJvckNvZGUuUEFSVElDSVBBTlRfU0lHTkFMX0xPU1RcbiAgICAgICAgICA/IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1RcbiAgICAgICAgICA6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICAgIHRoaXMub25SZWNvbm5lY3Rpb25OZWVkZWQ/LihzdHJhdGVneSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyBldmVudHMgc3luY2hyb25vdXNseS5cbiAgICogQ29uc2VjdXRpdmUgZXZlbnRzIGFyZSBxdWV1ZWQgYW5kIGV4ZWN1dGVkIG9uZSBhZnRlciB0aGUgb3RoZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbFNmdUV2ZW50cz4oXG4gICAgZXZlbnQ6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApOiB2b2lkID0+IHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIHRoaXMuZGlzcGF0Y2hlci5vbihldmVudCwgKGUpID0+IHtcbiAgICAgICAgY29uc3QgbG9ja0tleSA9IGBwYy4ke3RoaXMubG9ja30uJHtldmVudH1gO1xuICAgICAgICB3aXRob3V0Q29uY3VycmVuY3kobG9ja0tleSwgYXN5bmMgKCkgPT4gZm4oZSkpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSByZXR1cm47XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRXJyb3IgaGFuZGxpbmcgJHtldmVudH1gLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIHRyaWNrbGVkIElDRSBjYW5kaWRhdGVzIHRvIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFkZFRyaWNrbGVkSWNlQ2FuZGlkYXRlcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGljZVRyaWNrbGVCdWZmZXIgfSA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGNvbnN0IG9ic2VydmFibGUgPVxuICAgICAgdGhpcy5wZWVyVHlwZSA9PT0gUGVlclR5cGUuU1VCU0NSSUJFUlxuICAgICAgICA/IGljZVRyaWNrbGVCdWZmZXIuc3Vic2NyaWJlckNhbmRpZGF0ZXNcbiAgICAgICAgOiBpY2VUcmlja2xlQnVmZmVyLnB1Ymxpc2hlckNhbmRpZGF0ZXM7XG5cbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZT8uKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGUgPSBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24oXG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgYXN5bmMgKGNhbmRpZGF0ZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBJQ0UgY2FuZGlkYXRlIGVycm9yYCwgZSwgY2FuZGlkYXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICovXG4gIHNldFNmdUNsaWVudCA9IChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCkgPT4ge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGBSVENQZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpYCBtZXRob2RcbiAgICogQHBhcmFtIHNlbGVjdG9yIGFuIG9wdGlvbmFsIGBNZWRpYVN0cmVhbVRyYWNrYCB0byBnZXQgdGhlIHN0YXRzIGZvci5cbiAgICovXG4gIGdldFN0YXRzID0gKHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayB8IG51bGwpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYy5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcHMgdGhlIGdpdmVuIHRyYWNrIElEIHRvIHRoZSBjb3JyZXNwb25kaW5nIHRyYWNrIHR5cGUuXG4gICAqL1xuICBnZXRUcmFja1R5cGUgPSAodHJhY2tJZDogc3RyaW5nKTogVHJhY2tUeXBlIHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gdGhpcy50cmFja0lkVG9UcmFja1R5cGUuZ2V0KHRyYWNrSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGBSVENQZWVyQ29ubmVjdGlvbmAgaXMgaGVhbHRoeS5cbiAgICogSXQgY2hlY2tzIHRoZSBJQ0UgY29ubmVjdGlvbiBzdGF0ZSBhbmQgdGhlIHBlZXIgY29ubmVjdGlvbiBzdGF0ZS5cbiAgICogSWYgZWl0aGVyIHN0YXRlIGlzIGBmYWlsZWRgLCBgZGlzY29ubmVjdGVkYCwgb3IgYGNsb3NlZGAsXG4gICAqIGl0IHJldHVybnMgYGZhbHNlYCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYHRydWVgLlxuICAgKi9cbiAgaXNIZWFsdGh5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGZhaWxlZFN0YXRlcyA9IG5ldyBTZXQ8XG4gICAgICBSVENJY2VDb25uZWN0aW9uU3RhdGUgfCBSVENQZWVyQ29ubmVjdGlvblN0YXRlXG4gICAgPihbJ2ZhaWxlZCcsICdjbG9zZWQnXSk7XG5cbiAgICBjb25zdCBpY2VTdGF0ZSA9IHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25TdGF0ZSA9IHRoaXMucGMuY29ubmVjdGlvblN0YXRlO1xuICAgIHJldHVybiAhZmFpbGVkU3RhdGVzLmhhcyhpY2VTdGF0ZSkgJiYgIWZhaWxlZFN0YXRlcy5oYXMoY29ubmVjdGlvblN0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgSUNFQ2FuZGlkYXRlIGV2ZW50IGFuZFxuICAgKiBJbml0aWF0ZXMgYW4gSUNFIFRyaWNrbGUgcHJvY2VzcyB3aXRoIHRoZSBTRlUuXG4gICAqL1xuICBwcml2YXRlIG9uSWNlQ2FuZGlkYXRlID0gKGU6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGNhbmRpZGF0ZSB9ID0gZTtcbiAgICBpZiAoIWNhbmRpZGF0ZSkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ251bGwgaWNlIGNhbmRpZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGljZUNhbmRpZGF0ZSA9IHRoaXMuYXNKU09OKGNhbmRpZGF0ZSk7XG4gICAgdGhpcy5zZnVDbGllbnRcbiAgICAgIC5pY2VUcmlja2xlKHsgcGVlclR5cGU6IHRoaXMucGVlclR5cGUsIGljZUNhbmRpZGF0ZSB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBJQ0VUcmlja2xlIGZhaWxlZGAsIGVycik7XG4gICAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIElDRSBjYW5kaWRhdGUgdG8gYSBKU09OIHN0cmluZy5cbiAgICovXG4gIHByaXZhdGUgYXNKU09OID0gKGNhbmRpZGF0ZTogUlRDSWNlQ2FuZGlkYXRlKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIWNhbmRpZGF0ZS51c2VybmFtZUZyYWdtZW50KSB7XG4gICAgICAvLyByZWFjdC1uYXRpdmUtd2VicnRjIGRvZXNuJ3QgaW5jbHVkZSB1c2VybmFtZUZyYWdtZW50IGluIHRoZSBjYW5kaWRhdGVcbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gY2FuZGlkYXRlLmNhbmRpZGF0ZS5zcGxpdCgnICcpO1xuICAgICAgY29uc3QgdWZyYWdJbmRleCA9IHNlZ21lbnRzLmZpbmRJbmRleCgocykgPT4gcyA9PT0gJ3VmcmFnJykgKyAxO1xuICAgICAgY29uc3QgdXNlcm5hbWVGcmFnbWVudCA9IHNlZ21lbnRzW3VmcmFnSW5kZXhdO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgLi4uY2FuZGlkYXRlLCB1c2VybmFtZUZyYWdtZW50IH0pO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY2FuZGlkYXRlLnRvSlNPTigpKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgQ29ubmVjdGlvblN0YXRlQ2hhbmdlIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBvbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGMuY29ubmVjdGlvblN0YXRlO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBDb25uZWN0aW9uIHN0YXRlIGNoYW5nZWRgLCBzdGF0ZSk7XG4gICAgaWYgKHRoaXMudHJhY2VyICYmIChzdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgfHwgc3RhdGUgPT09ICdmYWlsZWQnKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCB0aGlzLnN0YXRzLmdldCgpO1xuICAgICAgICB0aGlzLnRyYWNlci50cmFjZSgnZ2V0c3RhdHMnLCBzdGF0cy5kZWx0YSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy50cmFjZXIudHJhY2UoJ2dldHN0YXRzT25GYWlsdXJlJywgKGVyciBhcyBFcnJvcikudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gd2UgY2FuJ3QgcmVjb3ZlciBmcm9tIGEgZmFpbGVkIGNvbm5lY3Rpb24gc3RhdGUgKGNvbnRyYXJ5IHRvIElDRSlcbiAgICBpZiAoc3RhdGUgPT09ICdmYWlsZWQnKSB7XG4gICAgICB0aGlzLm9uUmVjb25uZWN0aW9uTmVlZGVkPy4oXG4gICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTixcbiAgICAgICAgJ0Nvbm5lY3Rpb24gZmFpbGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVDb25uZWN0aW9uU3RhdGVVcGRhdGUoc3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBJQ0UgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIG9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElDRSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZWRgLCBzdGF0ZSk7XG4gICAgdGhpcy5oYW5kbGVDb25uZWN0aW9uU3RhdGVVcGRhdGUoc3RhdGUpO1xuICB9O1xuXG4gIHByaXZhdGUgaGFuZGxlQ29ubmVjdGlvblN0YXRlVXBkYXRlID0gKFxuICAgIHN0YXRlOiBSVENJY2VDb25uZWN0aW9uU3RhdGUgfCBSVENQZWVyQ29ubmVjdGlvblN0YXRlLFxuICApID0+IHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuT0ZGTElORSkgcmV0dXJuO1xuICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpIHJldHVybjtcblxuICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBJQ0UgaXMgcmVzdGFydGluZ1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZykgcmV0dXJuO1xuXG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgLy8gaW4gdGhlIGBmYWlsZWRgIHN0YXRlLCB3ZSB0cnkgdG8gcmVzdGFydCBJQ0UgaW1tZWRpYXRlbHlcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAncmVzdGFydElDRSBkdWUgdG8gZmFpbGVkIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgdGhpcy50cnlSZXN0YXJ0SWNlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAvLyBpbiB0aGUgYGRpc2Nvbm5lY3RlZGAgc3RhdGUsIHdlIHNjaGVkdWxlIGEgcmVzdGFydElDRSgpIGFmdGVyIGEgZGVsYXlcbiAgICAgICAgLy8gYXMgdGhlIGJyb3dzZXIgbWlnaHQgcmVjb3ZlciB0aGUgY29ubmVjdGlvbiBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnZGlzY29ubmVjdGVkIGNvbm5lY3Rpb24sIHNjaGVkdWxpbmcgcmVzdGFydElDRScpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5pY2VSZXN0YXJ0VGltZW91dCk7XG4gICAgICAgIHRoaXMuaWNlUmVzdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAnZGlzY29ubmVjdGVkJyB8fCBjdXJyZW50U3RhdGUgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnRyeVJlc3RhcnRJY2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuaWNlUmVzdGFydERlbGF5KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgIC8vIGluIHRoZSBgY29ubmVjdGVkYCBzdGF0ZSwgd2UgY2xlYXIgdGhlIGljZSByZXN0YXJ0IHRpbWVvdXQgaWYgaXQgZXhpc3RzXG4gICAgICAgIGlmICh0aGlzLmljZVJlc3RhcnRUaW1lb3V0KSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnY29ubmVjdGVkIGNvbm5lY3Rpb24sIGNhbmNlbGluZyByZXN0YXJ0SUNFJyk7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWNlUmVzdGFydFRpbWVvdXQpO1xuICAgICAgICAgIHRoaXMuaWNlUmVzdGFydFRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBJQ0UgY2FuZGlkYXRlIGVycm9yIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZUVycm9yID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgIGUgaW5zdGFuY2VvZiBSVENQZWVyQ29ubmVjdGlvbkljZUVycm9yRXZlbnRcbiAgICAgICAgPyBgJHtlLmVycm9yQ29kZX06ICR7ZS5lcnJvclRleHR9YFxuICAgICAgICA6IGU7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0lDRSBDYW5kaWRhdGUgZXJyb3InLCBlcnJvck1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBJQ0UgZ2F0aGVyaW5nIHN0YXRlIGNoYW5nZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgb25JY2VHYXRoZXJDaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElDRSBHYXRoZXJpbmcgU3RhdGVgLCB0aGlzLnBjLmljZUdhdGhlcmluZ1N0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgc2lnbmFsaW5nIHN0YXRlIGNoYW5nZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgb25TaWduYWxpbmdDaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYFNpZ25hbGluZyBzdGF0ZSBjaGFuZ2VkYCwgdGhpcy5wYy5zaWduYWxpbmdTdGF0ZSk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBQdWJsaXNoT3B0aW9uIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IE9wdGltYWxWaWRlb0xheWVyIH0gZnJvbSAnLi92aWRlb0xheWVycyc7XG5cbnR5cGUgVHJhbnNjZWl2ZXJJZCA9IHtcbiAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbjtcbiAgdHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyO1xufTtcbnR5cGUgVHJhY2tMYXllcnNDYWNoZSA9IHtcbiAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbjtcbiAgbGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdO1xufTtcblxuZXhwb3J0IGNsYXNzIFRyYW5zY2VpdmVyQ2FjaGUge1xuICBwcml2YXRlIHJlYWRvbmx5IGNhY2hlOiBUcmFuc2NlaXZlcklkW10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBsYXllcnM6IFRyYWNrTGF5ZXJzQ2FjaGVbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBtYWludGFpbmluZyB0aGUgb3JkZXIgaG93IHRyYW5zY2VpdmVycyB3ZXJlIGFkZGVkIHRvIHRoZSBwZWVyIGNvbm5lY3Rpb24uXG4gICAqIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugc29tZSBicm93c2VycyAoRmlyZWZveCkgZG9uJ3QgcmVsaWFibHkgcmVwb3J0XG4gICAqIHRyYWNrSWQgYW5kIGBtaWRgIHBhcmFtZXRlcnMuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zY2VpdmVyT3JkZXI6IFJUQ1J0cFRyYW5zY2VpdmVyW10gPSBbXTtcblxuICAvKipcbiAgICogQWRkcyBhIHRyYW5zY2VpdmVyIHRvIHRoZSBjYWNoZS5cbiAgICovXG4gIGFkZCA9IChwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLCB0cmFuc2NlaXZlcjogUlRDUnRwVHJhbnNjZWl2ZXIpID0+IHtcbiAgICB0aGlzLmNhY2hlLnB1c2goeyBwdWJsaXNoT3B0aW9uLCB0cmFuc2NlaXZlciB9KTtcbiAgICB0aGlzLnRyYW5zY2VpdmVyT3JkZXIucHVzaCh0cmFuc2NlaXZlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRyYW5zY2VpdmVyIGZvciB0aGUgZ2l2ZW4gcHVibGlzaCBvcHRpb24uXG4gICAqL1xuICBnZXQgPSAocHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbik6IFJUQ1J0cFRyYW5zY2VpdmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gdGhpcy5maW5kVHJhbnNjZWl2ZXIocHVibGlzaE9wdGlvbik/LnRyYW5zY2VpdmVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGNhY2hlIGhhcyB0aGUgZ2l2ZW4gcHVibGlzaCBvcHRpb24uXG4gICAqL1xuICBoYXMgPSAocHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbik6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiAhIXRoaXMuZ2V0KHB1Ymxpc2hPcHRpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgZmlyc3QgdHJhbnNjZWl2ZXIgdGhhdCBzYXRpc2ZpZXMgdGhlIGdpdmVuIHByZWRpY2F0ZS5cbiAgICovXG4gIGZpbmQgPSAoXG4gICAgcHJlZGljYXRlOiAoaXRlbTogVHJhbnNjZWl2ZXJJZCkgPT4gYm9vbGVhbixcbiAgKTogVHJhbnNjZWl2ZXJJZCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuZmluZChwcmVkaWNhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhbGwgdGhlIGl0ZW1zIGluIHRoZSBjYWNoZS5cbiAgICovXG4gIGl0ZW1zID0gKCk6IFRyYW5zY2VpdmVySWRbXSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXQgaW5kZXggb2YgdGhlIHRyYW5zY2VpdmVyIGluIHRoZSBjYWNoZS5cbiAgICovXG4gIGluZGV4T2YgPSAodHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2NlaXZlck9yZGVyLmluZGV4T2YodHJhbnNjZWl2ZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIGNhY2hlZCB2aWRlbyBsYXllcnMgZm9yIHRoZSBnaXZlbiB0cmFjay5cbiAgICovXG4gIGdldExheWVycyA9IChcbiAgICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLFxuICApOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMubGF5ZXJzLmZpbmQoXG4gICAgICAoaXRlbSkgPT5cbiAgICAgICAgaXRlbS5wdWJsaXNoT3B0aW9uLmlkID09PSBwdWJsaXNoT3B0aW9uLmlkICYmXG4gICAgICAgIGl0ZW0ucHVibGlzaE9wdGlvbi50cmFja1R5cGUgPT09IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlLFxuICAgICk7XG4gICAgcmV0dXJuIGVudHJ5Py5sYXllcnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZpZGVvIGxheWVycyBmb3IgdGhlIGdpdmVuIHRyYWNrLlxuICAgKi9cbiAgc2V0TGF5ZXJzID0gKFxuICAgIHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24sXG4gICAgbGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdID0gW10sXG4gICkgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5maW5kTGF5ZXIocHVibGlzaE9wdGlvbik7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBlbnRyeS5sYXllcnMgPSBsYXllcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGF5ZXJzLnB1c2goeyBwdWJsaXNoT3B0aW9uLCBsYXllcnMgfSk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgZmluZFRyYW5zY2VpdmVyID0gKHB1Ymxpc2hPcHRpb246IFBhcnRpYWw8UHVibGlzaE9wdGlvbj4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5maW5kKFxuICAgICAgKGl0ZW0pID0+XG4gICAgICAgIGl0ZW0ucHVibGlzaE9wdGlvbi5pZCA9PT0gcHVibGlzaE9wdGlvbi5pZCAmJlxuICAgICAgICBpdGVtLnB1Ymxpc2hPcHRpb24udHJhY2tUeXBlID09PSBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgZmluZExheWVyID0gKHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24pID0+IHtcbiAgICByZXR1cm4gdGhpcy5sYXllcnMuZmluZChcbiAgICAgIChpdGVtKSA9PlxuICAgICAgICBpdGVtLnB1Ymxpc2hPcHRpb24uaWQgPT09IHB1Ymxpc2hPcHRpb24uaWQgJiZcbiAgICAgICAgaXRlbS5wdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSA9PT0gcHVibGlzaE9wdGlvbi50cmFja1R5cGUsXG4gICAgKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVFeGhhdXN0ZWQgPSAoeDogbmV2ZXIsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICBnZXRMb2dnZXIoWydoZWxwZXJzJ10pKCd3YXJuJywgbWVzc2FnZSwgeCk7XG59O1xuIiwiaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFRyYWNrTXV0ZVR5cGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBlbnN1cmVFeGhhdXN0ZWQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2Vuc3VyZUV4aGF1c3RlZCc7XG5cbmV4cG9ydCBjb25zdCB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5ID0gKFxuICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbik6XG4gIHwgJ2F1ZGlvU3RyZWFtJ1xuICB8ICd2aWRlb1N0cmVhbSdcbiAgfCAnc2NyZWVuU2hhcmVTdHJlYW0nXG4gIHwgJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nXG4gIHwgdW5kZWZpbmVkID0+IHtcbiAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU6XG4gICAgICByZXR1cm4gJ3NjcmVlblNoYXJlU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU86XG4gICAgICByZXR1cm4gJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nO1xuICAgIGNhc2UgVHJhY2tUeXBlLlZJREVPOlxuICAgICAgcmV0dXJuICd2aWRlb1N0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuQVVESU86XG4gICAgICByZXR1cm4gJ2F1ZGlvU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5VTlNQRUNJRklFRDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJhY2sgdHlwZSBpcyB1bnNwZWNpZmllZCcpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlbnN1cmVFeGhhdXN0ZWQodHJhY2tUeXBlLCAnVW5rbm93biB0cmFjayB0eXBlJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtdXRlVHlwZVRvVHJhY2tUeXBlID0gKFxuICBtdXRlVHlwZTogVHJhY2tNdXRlVHlwZSxcbik6IFRyYWNrVHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAobXV0ZVR5cGUpIHtcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLkFVRElPO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuVklERU87XG4gICAgY2FzZSAnc2NyZWVuc2hhcmUnOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU7XG4gICAgY2FzZSAnc2NyZWVuc2hhcmVfYXVkaW8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4gICAgZGVmYXVsdDpcbiAgICAgIGVuc3VyZUV4aGF1c3RlZChtdXRlVHlwZSwgJ1Vua25vd24gbXV0ZSB0eXBlJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0b1RyYWNrVHlwZSA9ICh0cmFja1R5cGU6IHN0cmluZyk6IFRyYWNrVHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9BVURJTyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLkFVRElPO1xuICAgIGNhc2UgJ1RSQUNLX1RZUEVfVklERU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5WSURFTztcbiAgICBjYXNlICdUUkFDS19UWVBFX1NDUkVFTl9TSEFSRSc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRTtcbiAgICBjYXNlICdUUkFDS19UWVBFX1NDUkVFTl9TSEFSRV9BVURJTyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzQXVkaW9UcmFja1R5cGUgPSAodHJhY2tUeXBlOiBUcmFja1R5cGUpOiBib29sZWFuID0+XG4gIHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPIHx8IHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTztcbiIsImltcG9ydCB7IGlzU3ZjQ29kZWMgfSBmcm9tICcuL2NvZGVjcyc7XG5pbXBvcnQge1xuICBQdWJsaXNoT3B0aW9uLFxuICBWaWRlb0RpbWVuc2lvbixcbiAgVmlkZW9MYXllcixcbiAgVmlkZW9RdWFsaXR5LFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgaXNBdWRpb1RyYWNrVHlwZSB9IGZyb20gJy4vaGVscGVycy90cmFja3MnO1xuXG5leHBvcnQgdHlwZSBPcHRpbWFsVmlkZW9MYXllciA9IFJUQ1J0cEVuY29kaW5nUGFyYW1ldGVycyAmIHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8vIE5PVEUgT0w6IHNob3VsZCBiZSBwYXJ0IG9mIFJUQ1J0cEVuY29kaW5nUGFyYW1ldGVyc1xuICBzY2FsYWJpbGl0eU1vZGU/OiBzdHJpbmc7XG59O1xuXG5jb25zdCBkZWZhdWx0Qml0cmF0ZVBlclJpZDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgcTogMzAwMDAwLFxuICBoOiA3NTAwMDAsXG4gIGY6IDEyNTAwMDAsXG59O1xuXG4vKipcbiAqIEluIFNWQywgd2UgbmVlZCB0byBzZW5kIG9ubHkgb25lIHZpZGVvIGVuY29kaW5nIChsYXllcikuXG4gKiB0aGlzIGxheWVyIHdpbGwgaGF2ZSB0aGUgYWRkaXRpb25hbCBzcGF0aWFsIGFuZCB0ZW1wb3JhbCBsYXllcnNcbiAqIGRlZmluZWQgdmlhIHRoZSBzY2FsYWJpbGl0eU1vZGUgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIGxheWVycyB0aGUgbGF5ZXJzIHRvIHByb2Nlc3MuXG4gKi9cbmV4cG9ydCBjb25zdCB0b1N2Y0VuY29kaW5ncyA9IChcbiAgbGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkLFxuKTogUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzW10gfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIWxheWVycykgcmV0dXJuO1xuICAvLyB3ZSB0YWtlIHRoZSBoaWdoZXN0IHF1YWxpdHkgbGF5ZXIsIGFuZCB3ZSBhc3NpZ24gaXQgdG8gYHFgIGVuY29kZXIuXG4gIGNvbnN0IHdpdGhSaWQgPSAocmlkOiBzdHJpbmcpID0+IChsOiBPcHRpbWFsVmlkZW9MYXllcikgPT4gbC5yaWQgPT09IHJpZDtcbiAgY29uc3QgaGlnaGVzdExheWVyID1cbiAgICBsYXllcnMuZmluZCh3aXRoUmlkKCdmJykpIHx8XG4gICAgbGF5ZXJzLmZpbmQod2l0aFJpZCgnaCcpKSB8fFxuICAgIGxheWVycy5maW5kKHdpdGhSaWQoJ3EnKSk7XG4gIHJldHVybiBbeyAuLi5oaWdoZXN0TGF5ZXIsIHJpZDogJ3EnIH1dO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgcmlkIHRvIGEgdmlkZW8gcXVhbGl0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJpZFRvVmlkZW9RdWFsaXR5ID0gKHJpZDogc3RyaW5nKTogVmlkZW9RdWFsaXR5ID0+IHtcbiAgcmV0dXJuIHJpZCA9PT0gJ3EnXG4gICAgPyBWaWRlb1F1YWxpdHkuTE9XX1VOU1BFQ0lGSUVEXG4gICAgOiByaWQgPT09ICdoJ1xuICAgICAgPyBWaWRlb1F1YWxpdHkuTUlEXG4gICAgICA6IFZpZGVvUXVhbGl0eS5ISUdIOyAvLyBkZWZhdWx0IHRvIEhJR0hcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIHZpZGVvIGxheWVycyB0byBTRlUgdmlkZW8gbGF5ZXJzLlxuICovXG5leHBvcnQgY29uc3QgdG9WaWRlb0xheWVycyA9IChcbiAgbGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkID0gW10sXG4pOiBWaWRlb0xheWVyW10gPT4ge1xuICByZXR1cm4gbGF5ZXJzLm1hcDxWaWRlb0xheWVyPigobGF5ZXIpID0+ICh7XG4gICAgcmlkOiBsYXllci5yaWQgfHwgJycsXG4gICAgYml0cmF0ZTogbGF5ZXIubWF4Qml0cmF0ZSB8fCAwLFxuICAgIGZwczogbGF5ZXIubWF4RnJhbWVyYXRlIHx8IDAsXG4gICAgcXVhbGl0eTogcmlkVG9WaWRlb1F1YWxpdHkobGF5ZXIucmlkIHx8ICcnKSxcbiAgICB2aWRlb0RpbWVuc2lvbjogeyB3aWR0aDogbGF5ZXIud2lkdGgsIGhlaWdodDogbGF5ZXIuaGVpZ2h0IH0sXG4gIH0pKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHNwYXRpYWwgYW5kIHRlbXBvcmFsIGxheWVycyB0byBhIHNjYWxhYmlsaXR5IG1vZGUuXG4gKi9cbmNvbnN0IHRvU2NhbGFiaWxpdHlNb2RlID0gKHNwYXRpYWxMYXllcnM6IG51bWJlciwgdGVtcG9yYWxMYXllcnM6IG51bWJlcikgPT5cbiAgYEwke3NwYXRpYWxMYXllcnN9VCR7dGVtcG9yYWxMYXllcnN9JHtzcGF0aWFsTGF5ZXJzID4gMSA/ICdfS0VZJyA6ICcnfWA7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgbW9zdCBvcHRpbWFsIHZpZGVvIGxheWVycyBmb3IgdGhlIGdpdmVuIHRyYWNrLlxuICpcbiAqIEBwYXJhbSB2aWRlb1RyYWNrIHRoZSB2aWRlbyB0cmFjayB0byBmaW5kIG9wdGltYWwgbGF5ZXJzIGZvci5cbiAqIEBwYXJhbSBwdWJsaXNoT3B0aW9uIHRoZSBwdWJsaXNoIG9wdGlvbnMgZm9yIHRoZSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXB1dGVWaWRlb0xheWVycyA9IChcbiAgdmlkZW9UcmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbixcbik6IE9wdGltYWxWaWRlb0xheWVyW10gfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoaXNBdWRpb1RyYWNrVHlwZShwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSkpIHJldHVybjtcbiAgY29uc3Qgb3B0aW1hbFZpZGVvTGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdID0gW107XG4gIGNvbnN0IHtcbiAgICBiaXRyYXRlLFxuICAgIGNvZGVjLFxuICAgIGZwcyA9IDMwLFxuICAgIG1heFNwYXRpYWxMYXllcnMgPSAzLFxuICAgIG1heFRlbXBvcmFsTGF5ZXJzID0gMyxcbiAgICB2aWRlb0RpbWVuc2lvbiA9IHsgd2lkdGg6IDEyODAsIGhlaWdodDogNzIwIH0sXG4gICAgdXNlU2luZ2xlTGF5ZXIsXG4gIH0gPSBwdWJsaXNoT3B0aW9uO1xuICBjb25zdCB7IHdpZHRoID0gdmlkZW9EaW1lbnNpb24ud2lkdGgsIGhlaWdodCA9IHZpZGVvRGltZW5zaW9uLmhlaWdodCB9ID1cbiAgICB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gIGNvbnN0IG1heEJpdHJhdGUgPSBnZXRDb21wdXRlZE1heEJpdHJhdGUoXG4gICAgdmlkZW9EaW1lbnNpb24sXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGJpdHJhdGUsXG4gICk7XG4gIGxldCBkb3duc2NhbGVGYWN0b3IgPSAxO1xuICBsZXQgYml0cmF0ZUZhY3RvciA9IDE7XG4gIGNvbnN0IHN2Y0NvZGVjID0gaXNTdmNDb2RlYyhjb2RlYz8ubmFtZSk7XG4gIGZvciAoY29uc3QgcmlkIG9mIFsnZicsICdoJywgJ3EnXS5zbGljZSgwLCBtYXhTcGF0aWFsTGF5ZXJzKSkge1xuICAgIGNvbnN0IGxheWVyOiBPcHRpbWFsVmlkZW9MYXllciA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZCxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoIC8gZG93bnNjYWxlRmFjdG9yKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQgLyBkb3duc2NhbGVGYWN0b3IpLFxuICAgICAgbWF4Qml0cmF0ZTpcbiAgICAgICAgTWF0aC5yb3VuZChtYXhCaXRyYXRlIC8gYml0cmF0ZUZhY3RvcikgfHwgZGVmYXVsdEJpdHJhdGVQZXJSaWRbcmlkXSxcbiAgICAgIG1heEZyYW1lcmF0ZTogZnBzLFxuICAgIH07XG4gICAgaWYgKHN2Y0NvZGVjKSB7XG4gICAgICAvLyBmb3IgU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBzZXQgdGhlIHNjYWxhYmlsaXR5IG1vZGUsIGFuZCB0aGVcbiAgICAgIC8vIGNvZGVjIHdpbGwgaGFuZGxlIHRoZSByZXN0IChsYXllcnMsIHRlbXBvcmFsIGxheWVycywgZXRjLilcbiAgICAgIGxheWVyLnNjYWxhYmlsaXR5TW9kZSA9IHRvU2NhbGFiaWxpdHlNb2RlKFxuICAgICAgICB1c2VTaW5nbGVMYXllciA/IDEgOiBtYXhTcGF0aWFsTGF5ZXJzLFxuICAgICAgICBtYXhUZW1wb3JhbExheWVycyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvciBub24tU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBkb3duc2NhbGUgcHJvcG9ydGlvbmFsbHkgKHNpbXVsY2FzdClcbiAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSA9IGRvd25zY2FsZUZhY3RvcjtcbiAgICB9XG5cbiAgICBkb3duc2NhbGVGYWN0b3IgKj0gMjtcbiAgICBiaXRyYXRlRmFjdG9yICo9IDI7XG5cbiAgICAvLyBSZXZlcnNpbmcgdGhlIG9yZGVyIFtmLCBoLCBxXSB0byBbcSwgaCwgZl0gYXMgQ2hyb21lIHVzZXMgZW5jb2RpbmcgaW5kZXhcbiAgICAvLyB3aGVuIGRlY2lkaW5nIHdoaWNoIGxheWVyIHRvIGRpc2FibGUgd2hlbiBDUFUgb3IgYmFuZHdpZHRoIGlzIGNvbnN0cmFpbmVkLlxuICAgIC8vIEVuY29kaW5ncyBzaG91bGQgYmUgb3JkZXJlZCBpbiBpbmNyZWFzaW5nIHNwYXRpYWwgcmVzb2x1dGlvbiBvcmRlci5cbiAgICBvcHRpbWFsVmlkZW9MYXllcnMudW5zaGlmdChsYXllcik7XG4gIH1cblxuICAvLyBmb3Igc2ltcGxpY2l0eSwgd2Ugc3RhcnQgd2l0aCBhbGwgbGF5ZXJzIGVuYWJsZWQsIHRoZW4gdGhpcyBmdW5jdGlvblxuICAvLyB3aWxsIGNsZWFyL3JlYXNzaWduIHRoZSBsYXllcnMgdGhhdCBhcmUgbm90IG5lZWRlZFxuICByZXR1cm4gd2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzKFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBvcHRpbWFsVmlkZW9MYXllcnMsXG4gICAgdXNlU2luZ2xlTGF5ZXIsXG4gICk7XG59O1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBtYXhpbXVtIGJpdHJhdGUgZm9yIGEgZ2l2ZW4gcmVzb2x1dGlvbi5cbiAqIElmIHRoZSBjdXJyZW50IHJlc29sdXRpb24gaXMgbG93ZXIgdGhhbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24sXG4gKiB3ZSB3YW50IHRvIHByb3BvcnRpb25hbGx5IHJlZHVjZSB0aGUgdGFyZ2V0IGJpdHJhdGUuXG4gKiBJZiB0aGUgY3VycmVudCByZXNvbHV0aW9uIGlzIGhpZ2hlciB0aGFuIHRoZSB0YXJnZXQgcmVzb2x1dGlvbixcbiAqIHdlIHdhbnQgdG8gdXNlIHRoZSB0YXJnZXQgYml0cmF0ZS5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0UmVzb2x1dGlvbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcGFyYW0gY3VycmVudFdpZHRoIHRoZSBjdXJyZW50IHdpZHRoIG9mIHRoZSB0cmFjay5cbiAqIEBwYXJhbSBjdXJyZW50SGVpZ2h0IHRoZSBjdXJyZW50IGhlaWdodCBvZiB0aGUgdHJhY2suXG4gKiBAcGFyYW0gYml0cmF0ZSB0aGUgdGFyZ2V0IGJpdHJhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb21wdXRlZE1heEJpdHJhdGUgPSAoXG4gIHRhcmdldFJlc29sdXRpb246IFZpZGVvRGltZW5zaW9uLFxuICBjdXJyZW50V2lkdGg6IG51bWJlcixcbiAgY3VycmVudEhlaWdodDogbnVtYmVyLFxuICBiaXRyYXRlOiBudW1iZXIsXG4pOiBudW1iZXIgPT4ge1xuICAvLyBpZiB0aGUgY3VycmVudCByZXNvbHV0aW9uIGlzIGxvd2VyIHRoYW4gdGhlIHRhcmdldCByZXNvbHV0aW9uLFxuICAvLyB3ZSB3YW50IHRvIHByb3BvcnRpb25hbGx5IHJlZHVjZSB0aGUgdGFyZ2V0IGJpdHJhdGVcbiAgY29uc3QgeyB3aWR0aDogdGFyZ2V0V2lkdGgsIGhlaWdodDogdGFyZ2V0SGVpZ2h0IH0gPSB0YXJnZXRSZXNvbHV0aW9uO1xuICBpZiAoY3VycmVudFdpZHRoIDwgdGFyZ2V0V2lkdGggfHwgY3VycmVudEhlaWdodCA8IHRhcmdldEhlaWdodCkge1xuICAgIGNvbnN0IGN1cnJlbnRQaXhlbHMgPSBjdXJyZW50V2lkdGggKiBjdXJyZW50SGVpZ2h0O1xuICAgIGNvbnN0IHRhcmdldFBpeGVscyA9IHRhcmdldFdpZHRoICogdGFyZ2V0SGVpZ2h0O1xuICAgIGNvbnN0IHJlZHVjdGlvbkZhY3RvciA9IGN1cnJlbnRQaXhlbHMgLyB0YXJnZXRQaXhlbHM7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoYml0cmF0ZSAqIHJlZHVjdGlvbkZhY3Rvcik7XG4gIH1cbiAgcmV0dXJuIGJpdHJhdGU7XG59O1xuXG4vKipcbiAqIEJyb3dzZXJzIGhhdmUgZGlmZmVyZW50IHNpbXVsY2FzdCBjb25zdHJhaW50cyBmb3IgZGlmZmVyZW50IHZpZGVvIHJlc29sdXRpb25zLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHByb3ZpZGVkIGxpc3Qgb2YgdmlkZW8gbGF5ZXJzIGFjY29yZGluZyB0byB0aGVcbiAqIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2Ygc2ltdWxjYXN0IGNvbnN0cmFpbnRzIGluIHRoZSBDaHJvbWl1bSBiYXNlZCBicm93c2Vycy5cbiAqXG4gKiBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vZXh0ZXJuYWwvd2VicnRjLysvcmVmcy9oZWFkcy9tYWluL21lZGlhL2VuZ2luZS9zaW11bGNhc3QuY2MjOTBcbiAqL1xuY29uc3Qgd2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzID0gKFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgb3B0aW1hbFZpZGVvTGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdLFxuICB1c2VTaW5nbGVMYXllcjogYm9vbGVhbixcbikgPT4ge1xuICBsZXQgbGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdO1xuXG4gIGNvbnN0IHNpemUgPSBNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KTtcbiAgaWYgKHNpemUgPD0gMzIwKSB7XG4gICAgLy8gcHJvdmlkZSBvbmx5IG9uZSBsYXllciAzMjB4MjQwIChmKSwgdGhlIG9uZSB3aXRoIHRoZSBoaWdoZXN0IHF1YWxpdHlcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucmlkID09PSAnZicpO1xuICB9IGVsc2UgaWYgKHNpemUgPD0gNjQwKSB7XG4gICAgLy8gcHJvdmlkZSB0d28gbGF5ZXJzLCAzMjB4MjQwIChoKSBhbmQgNjQweDQ4MCAoZilcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucmlkICE9PSAncScpO1xuICB9IGVsc2Uge1xuICAgIC8vIHByb3ZpZGUgdGhyZWUgbGF5ZXJzIGZvciBzaXplcyA+IDY0MHg0ODBcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnM7XG4gIH1cblxuICAvLyB3ZSBtaWdodCBoYXZlIHJlbW92ZWQgc29tZSBsYXllcnMsIHNvIHdlIG5lZWQgdG8gcmVhc3NpZ24gdGhlIHJpZFxuICAvLyB0byBtYXRjaCB0aGUgZXhwZWN0ZWQgb3JkZXIgb2YgW3EsIGgsIGZdIGZvciBzaW11bGNhc3RcbiAgY29uc3QgcmlkTWFwcGluZyA9IFsncScsICdoJywgJ2YnXTtcbiAgcmV0dXJuIGxheWVycy5tYXA8T3B0aW1hbFZpZGVvTGF5ZXI+KChsYXllciwgaW5kZXgsIGFycikgPT4gKHtcbiAgICAuLi5sYXllcixcbiAgICByaWQ6IHJpZE1hcHBpbmdbaW5kZXhdLCAvLyByZWFzc2lnbiByaWRcbiAgICBhY3RpdmU6IHVzZVNpbmdsZUxheWVyICYmIGluZGV4IDwgYXJyLmxlbmd0aCAtIDEgPyBmYWxzZSA6IGxheWVyLmFjdGl2ZSxcbiAgfSkpO1xufTtcbiIsImltcG9ydCB7IHBhcnNlLCB3cml0ZSB9IGZyb20gJ3NkcC10cmFuc2Zvcm0nO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBtaWQgZnJvbSB0aGUgdHJhbnNjZWl2ZXIgb3IgdGhlIFNEUC5cbiAqXG4gKiBAcGFyYW0gdHJhbnNjZWl2ZXIgdGhlIHRyYW5zY2VpdmVyLlxuICogQHBhcmFtIHRyYW5zY2VpdmVySW5pdEluZGV4IHRoZSBpbmRleCBvZiB0aGUgdHJhbnNjZWl2ZXIgaW4gdGhlIHRyYW5zY2VpdmVyJ3MgaW5pdCBhcnJheS5cbiAqIEBwYXJhbSBzZHAgdGhlIFNEUC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4dHJhY3RNaWQgPSAoXG4gIHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcixcbiAgdHJhbnNjZWl2ZXJJbml0SW5kZXg6IG51bWJlcixcbiAgc2RwOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4pOiBzdHJpbmcgPT4ge1xuICBpZiAodHJhbnNjZWl2ZXIubWlkKSByZXR1cm4gdHJhbnNjZWl2ZXIubWlkO1xuICBpZiAoIXNkcCkgcmV0dXJuIFN0cmluZyh0cmFuc2NlaXZlckluaXRJbmRleCk7XG5cbiAgY29uc3QgdHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2shO1xuICBjb25zdCBwYXJzZWRTZHAgPSBwYXJzZShzZHApO1xuICBjb25zdCBtZWRpYSA9IHBhcnNlZFNkcC5tZWRpYS5maW5kKChtKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG0udHlwZSA9PT0gdHJhY2sua2luZCAmJlxuICAgICAgLy8gaWYgYG1zaWRgIGlzIG5vdCBwcmVzZW50LCB3ZSBhc3N1bWUgdGhhdCB0aGUgdHJhY2sgaXMgdGhlIGZpcnN0IG9uZVxuICAgICAgKG0ubXNpZD8uaW5jbHVkZXModHJhY2suaWQpID8/IHRydWUpXG4gICAgKTtcbiAgfSk7XG4gIGlmICh0eXBlb2YgbWVkaWE/Lm1pZCAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBTdHJpbmcobWVkaWEubWlkKTtcbiAgaWYgKHRyYW5zY2VpdmVySW5pdEluZGV4IDwgMCkgcmV0dXJuICcnO1xuICByZXR1cm4gU3RyaW5nKHRyYW5zY2VpdmVySW5pdEluZGV4KTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBzdGVyZW8gaW4gdGhlIGFuc3dlciBTRFAgYmFzZWQgb24gdGhlIG9mZmVyZWQgc3RlcmVvIGluIHRoZSBvZmZlciBTRFAuXG4gKlxuICogQHBhcmFtIG9mZmVyU2RwIHRoZSBvZmZlciBTRFAgY29udGFpbmluZyB0aGUgc3RlcmVvIGNvbmZpZ3VyYXRpb24uXG4gKiBAcGFyYW0gYW5zd2VyU2RwIHRoZSBhbnN3ZXIgU0RQIHRvIGJlIG1vZGlmaWVkLlxuICovXG5leHBvcnQgY29uc3QgZW5hYmxlU3RlcmVvID0gKG9mZmVyU2RwOiBzdHJpbmcsIGFuc3dlclNkcDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3Qgb2ZmZXJlZFN0ZXJlb01pZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgY29uc3QgcGFyc2VkT2ZmZXJTZHAgPSBwYXJzZShvZmZlclNkcCk7XG4gIGZvciAoY29uc3QgbWVkaWEgb2YgcGFyc2VkT2ZmZXJTZHAubWVkaWEpIHtcbiAgICBpZiAobWVkaWEudHlwZSAhPT0gJ2F1ZGlvJykgY29udGludWU7XG5cbiAgICBjb25zdCBvcHVzID0gbWVkaWEucnRwLmZpbmQoKHIpID0+IHIuY29kZWMgPT09ICdvcHVzJyk7XG4gICAgaWYgKCFvcHVzKSBjb250aW51ZTtcblxuICAgIGZvciAoY29uc3QgZm10cCBvZiBtZWRpYS5mbXRwKSB7XG4gICAgICBpZiAoZm10cC5wYXlsb2FkID09PSBvcHVzLnBheWxvYWQgJiYgZm10cC5jb25maWcuaW5jbHVkZXMoJ3N0ZXJlbz0xJykpIHtcbiAgICAgICAgb2ZmZXJlZFN0ZXJlb01pZHMuYWRkKG1lZGlhLm1pZCEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE5vIHN0ZXJlbyBvZmZlcmVkLCByZXR1cm4gdGhlIG9yaWdpbmFsIGFuc3dlclNkcFxuICBpZiAob2ZmZXJlZFN0ZXJlb01pZHMuc2l6ZSA9PT0gMCkgcmV0dXJuIGFuc3dlclNkcDtcblxuICBjb25zdCBwYXJzZWRBbnN3ZXJTZHAgPSBwYXJzZShhbnN3ZXJTZHApO1xuICBmb3IgKGNvbnN0IG1lZGlhIG9mIHBhcnNlZEFuc3dlclNkcC5tZWRpYSkge1xuICAgIGlmIChtZWRpYS50eXBlICE9PSAnYXVkaW8nIHx8ICFvZmZlcmVkU3RlcmVvTWlkcy5oYXMobWVkaWEubWlkISkpIGNvbnRpbnVlO1xuXG4gICAgY29uc3Qgb3B1cyA9IG1lZGlhLnJ0cC5maW5kKChyKSA9PiByLmNvZGVjID09PSAnb3B1cycpO1xuICAgIGlmICghb3B1cykgY29udGludWU7XG5cbiAgICBmb3IgKGNvbnN0IGZtdHAgb2YgbWVkaWEuZm10cCkge1xuICAgICAgaWYgKGZtdHAucGF5bG9hZCA9PT0gb3B1cy5wYXlsb2FkICYmICFmbXRwLmNvbmZpZy5pbmNsdWRlcygnc3RlcmVvPTEnKSkge1xuICAgICAgICBmbXRwLmNvbmZpZyArPSAnO3N0ZXJlbz0xJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gd3JpdGUocGFyc2VkQW5zd2VyU2RwKTtcbn07XG4iLCJpbXBvcnQge1xuICBCYXNlUGVlckNvbm5lY3Rpb24sXG4gIEJhc2VQZWVyQ29ubmVjdGlvbk9wdHMsXG59IGZyb20gJy4vQmFzZVBlZXJDb25uZWN0aW9uJztcbmltcG9ydCB7IE5lZ290aWF0aW9uRXJyb3IgfSBmcm9tICcuL05lZ290aWF0aW9uRXJyb3InO1xuaW1wb3J0IHsgVHJhbnNjZWl2ZXJDYWNoZSB9IGZyb20gJy4vVHJhbnNjZWl2ZXJDYWNoZSc7XG5pbXBvcnQge1xuICBQZWVyVHlwZSxcbiAgUHVibGlzaE9wdGlvbixcbiAgVHJhY2tJbmZvLFxuICBUcmFja1R5cGUsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBWaWRlb1NlbmRlciB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVWaWRlb0xheWVycyxcbiAgdG9TdmNFbmNvZGluZ3MsXG4gIHRvVmlkZW9MYXllcnMsXG59IGZyb20gJy4vdmlkZW9MYXllcnMnO1xuaW1wb3J0IHsgaXNTdmNDb2RlYyB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IGlzQXVkaW9UcmFja1R5cGUgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IGV4dHJhY3RNaWQgfSBmcm9tICcuL2hlbHBlcnMvc2RwJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcblxuZXhwb3J0IHR5cGUgUHVibGlzaGVyQ29uc3RydWN0b3JPcHRzID0gQmFzZVBlZXJDb25uZWN0aW9uT3B0cyAmIHtcbiAgcHVibGlzaE9wdGlvbnM6IFB1Ymxpc2hPcHRpb25bXTtcbn07XG5cbi8qKlxuICogVGhlIGBQdWJsaXNoZXJgIGlzIHJlc3BvbnNpYmxlIGZvciBwdWJsaXNoaW5nL3VucHVibGlzaGluZyBtZWRpYSBzdHJlYW1zIHRvL2Zyb20gdGhlIFNGVVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgUHVibGlzaGVyIGV4dGVuZHMgQmFzZVBlZXJDb25uZWN0aW9uIHtcbiAgcHJpdmF0ZSByZWFkb25seSB0cmFuc2NlaXZlckNhY2hlID0gbmV3IFRyYW5zY2VpdmVyQ2FjaGUoKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjbG9uZWRUcmFja3MgPSBuZXcgU2V0PE1lZGlhU3RyZWFtVHJhY2s+KCk7XG4gIHByaXZhdGUgcHVibGlzaE9wdGlvbnM6IFB1Ymxpc2hPcHRpb25bXTtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgUHVibGlzaGVyYCBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgcHVibGlzaE9wdGlvbnMsIC4uLmJhc2VPcHRpb25zIH06IFB1Ymxpc2hlckNvbnN0cnVjdG9yT3B0cykge1xuICAgIHN1cGVyKFBlZXJUeXBlLlBVQkxJU0hFUl9VTlNQRUNJRklFRCwgYmFzZU9wdGlvbnMpO1xuICAgIHRoaXMucHVibGlzaE9wdGlvbnMgPSBwdWJsaXNoT3B0aW9ucztcblxuICAgIHRoaXMub24oJ2ljZVJlc3RhcnQnLCAoaWNlUmVzdGFydCkgPT4ge1xuICAgICAgaWYgKGljZVJlc3RhcnQucGVlclR5cGUgIT09IFBlZXJUeXBlLlBVQkxJU0hFUl9VTlNQRUNJRklFRCkgcmV0dXJuO1xuICAgICAgdGhpcy50cnlSZXN0YXJ0SWNlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdjaGFuZ2VQdWJsaXNoUXVhbGl0eScsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZm9yIChjb25zdCB2aWRlb1NlbmRlciBvZiBldmVudC52aWRlb1NlbmRlcnMpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jaGFuZ2VQdWJsaXNoUXVhbGl0eSh2aWRlb1NlbmRlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdjaGFuZ2VQdWJsaXNoT3B0aW9ucycsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wdWJsaXNoT3B0aW9ucyA9IGV2ZW50LnB1Ymxpc2hPcHRpb25zO1xuICAgICAgcmV0dXJuIHRoaXMuc3luY1B1Ymxpc2hPcHRpb25zKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhpcyBQdWJsaXNoZXIgaW5zdGFuY2UuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLnN0b3BBbGxUcmFja3MoKTtcbiAgICB0aGlzLmNsb25lZFRyYWNrcy5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB0cmFjayBvZiB0aGUgZ2l2ZW4gbWVkaWEgc3RyZWFtLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIHN0cmVhbS5cbiAgICogVGhlIHByZXZpb3VzIHN0cmVhbSB3aWxsIGJlIHN0b3BwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFjayB0aGUgdHJhY2sgdG8gcHVibGlzaC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUgdHJhY2sgdHlwZSB0byBwdWJsaXNoLlxuICAgKi9cbiAgcHVibGlzaCA9IGFzeW5jICh0cmFjazogTWVkaWFTdHJlYW1UcmFjaywgdHJhY2tUeXBlOiBUcmFja1R5cGUpID0+IHtcbiAgICBpZiAoIXRoaXMucHVibGlzaE9wdGlvbnMuc29tZSgobykgPT4gby50cmFja1R5cGUgPT09IHRyYWNrVHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcHVibGlzaCBvcHRpb25zIGZvdW5kIGZvciAke1RyYWNrVHlwZVt0cmFja1R5cGVdfWApO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcHVibGlzaE9wdGlvbiBvZiB0aGlzLnB1Ymxpc2hPcHRpb25zKSB7XG4gICAgICBpZiAocHVibGlzaE9wdGlvbi50cmFja1R5cGUgIT09IHRyYWNrVHlwZSkgY29udGludWU7XG5cbiAgICAgIC8vIGNyZWF0ZSBhIGNsb25lIG9mIHRoZSB0cmFjayBhcyBvdGhlcndpc2UgdGhlIHNhbWUgdHJhY2tJZCB3aWxsXG4gICAgICAvLyBhcHBlYXIgaW4gdGhlIFNEUCBpbiBtdWx0aXBsZSB0cmFuc2NlaXZlcnNcbiAgICAgIGNvbnN0IHRyYWNrVG9QdWJsaXNoID0gdGhpcy5jbG9uZVRyYWNrKHRyYWNrKTtcblxuICAgICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0KHB1Ymxpc2hPcHRpb24pO1xuICAgICAgaWYgKCF0cmFuc2NlaXZlcikge1xuICAgICAgICBhd2FpdCB0aGlzLmFkZFRyYW5zY2VpdmVyKHRyYWNrVG9QdWJsaXNoLCBwdWJsaXNoT3B0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2s7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVHJhbnNjZWl2ZXIodHJhbnNjZWl2ZXIsIHRyYWNrVG9QdWJsaXNoLCB0cmFja1R5cGUpO1xuICAgICAgICBpZiAoIWlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICAgIHRoaXMuc3RvcFRyYWNrKHByZXZpb3VzVHJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgbmV3IHRyYW5zY2VpdmVyIGNhcnJ5aW5nIHRoZSBnaXZlbiB0cmFjayB0byB0aGUgcGVlciBjb25uZWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBhZGRUcmFuc2NlaXZlciA9IGFzeW5jIChcbiAgICB0cmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLFxuICApID0+IHtcbiAgICBjb25zdCB2aWRlb0VuY29kaW5ncyA9IGNvbXB1dGVWaWRlb0xheWVycyh0cmFjaywgcHVibGlzaE9wdGlvbik7XG4gICAgY29uc3Qgc2VuZEVuY29kaW5ncyA9IGlzU3ZjQ29kZWMocHVibGlzaE9wdGlvbi5jb2RlYz8ubmFtZSlcbiAgICAgID8gdG9TdmNFbmNvZGluZ3ModmlkZW9FbmNvZGluZ3MpXG4gICAgICA6IHZpZGVvRW5jb2RpbmdzO1xuICAgIGNvbnN0IHRyYW5zY2VpdmVyID0gdGhpcy5wYy5hZGRUcmFuc2NlaXZlcih0cmFjaywge1xuICAgICAgZGlyZWN0aW9uOiAnc2VuZG9ubHknLFxuICAgICAgc2VuZEVuY29kaW5ncyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhcmFtcyA9IHRyYW5zY2VpdmVyLnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7XG4gICAgcGFyYW1zLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZSA9ICdtYWludGFpbi1mcmFtZXJhdGUnO1xuICAgIGF3YWl0IHRyYW5zY2VpdmVyLnNlbmRlci5zZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG5cbiAgICBjb25zdCB0cmFja1R5cGUgPSBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQWRkZWQgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gdHJhbnNjZWl2ZXJgKTtcbiAgICB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuYWRkKHB1Ymxpc2hPcHRpb24sIHRyYW5zY2VpdmVyKTtcbiAgICB0aGlzLnRyYWNrSWRUb1RyYWNrVHlwZS5zZXQodHJhY2suaWQsIHRyYWNrVHlwZSk7XG5cbiAgICBhd2FpdCB0aGlzLm5lZ290aWF0ZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB0cmFuc2NlaXZlciB3aXRoIHRoZSBnaXZlbiB0cmFjayBhbmQgdHJhY2sgdHlwZS5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlVHJhbnNjZWl2ZXIgPSBhc3luYyAoXG4gICAgdHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyLFxuICAgIHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrIHwgbnVsbCxcbiAgICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3Qgc2VuZGVyID0gdHJhbnNjZWl2ZXIuc2VuZGVyO1xuICAgIGlmIChzZW5kZXIudHJhY2spIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlLmRlbGV0ZShzZW5kZXIudHJhY2suaWQpO1xuICAgIGF3YWl0IHNlbmRlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuICAgIGlmICh0cmFjaykgdGhpcy50cmFja0lkVG9UcmFja1R5cGUuc2V0KHRyYWNrLmlkLCB0cmFja1R5cGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgdGhlIGN1cnJlbnQgUHVibGlzaGVyIHN0YXRlIHdpdGggdGhlIHByb3ZpZGVkIHB1Ymxpc2ggb3B0aW9ucy5cbiAgICovXG4gIHByaXZhdGUgc3luY1B1Ymxpc2hPcHRpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIGVuYWJsZSBwdWJsaXNoaW5nIHdpdGggbmV3IG9wdGlvbnMgLT4gW2F2MSwgdnA5XVxuICAgIGZvciAoY29uc3QgcHVibGlzaE9wdGlvbiBvZiB0aGlzLnB1Ymxpc2hPcHRpb25zKSB7XG4gICAgICBjb25zdCB7IHRyYWNrVHlwZSB9ID0gcHVibGlzaE9wdGlvbjtcbiAgICAgIGlmICghdGhpcy5pc1B1Ymxpc2hpbmcodHJhY2tUeXBlKSkgY29udGludWU7XG4gICAgICBpZiAodGhpcy50cmFuc2NlaXZlckNhY2hlLmhhcyhwdWJsaXNoT3B0aW9uKSkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZmluZChcbiAgICAgICAgKGkpID0+XG4gICAgICAgICAgISFpLnRyYW5zY2VpdmVyLnNlbmRlci50cmFjayAmJlxuICAgICAgICAgIGkucHVibGlzaE9wdGlvbi50cmFja1R5cGUgPT09IHRyYWNrVHlwZSxcbiAgICAgICk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0udHJhbnNjZWl2ZXIpIGNvbnRpbnVlO1xuXG4gICAgICAvLyB0YWtlIHRoZSB0cmFjayBmcm9tIHRoZSBleGlzdGluZyB0cmFuc2NlaXZlciBmb3IgdGhlIHNhbWUgdHJhY2sgdHlwZSxcbiAgICAgIC8vIGNsb25lIGl0IGFuZCBwdWJsaXNoIGl0IHdpdGggdGhlIG5ldyBwdWJsaXNoIG9wdGlvbnNcbiAgICAgIGNvbnN0IHRyYWNrID0gdGhpcy5jbG9uZVRyYWNrKGl0ZW0udHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrISk7XG4gICAgICBhd2FpdCB0aGlzLmFkZFRyYW5zY2VpdmVyKHRyYWNrLCBwdWJsaXNoT3B0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIHB1Ymxpc2hpbmcgd2l0aCBvcHRpb25zIG5vdCByZXF1aXJlZCBhbnltb3JlIC0+IFt2cDldXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5pdGVtcygpKSB7XG4gICAgICBjb25zdCB7IHB1Ymxpc2hPcHRpb24sIHRyYW5zY2VpdmVyIH0gPSBpdGVtO1xuICAgICAgY29uc3QgaGFzUHVibGlzaE9wdGlvbiA9IHRoaXMucHVibGlzaE9wdGlvbnMuc29tZShcbiAgICAgICAgKG9wdGlvbikgPT5cbiAgICAgICAgICBvcHRpb24uaWQgPT09IHB1Ymxpc2hPcHRpb24uaWQgJiZcbiAgICAgICAgICBvcHRpb24udHJhY2tUeXBlID09PSBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSxcbiAgICAgICk7XG4gICAgICBpZiAoaGFzUHVibGlzaE9wdGlvbikgY29udGludWU7XG4gICAgICAvLyBpdCBpcyBzYWZlIHRvIHN0b3AgdGhlIHRyYWNrIGhlcmUsIGl0IGlzIGEgY2xvbmVcbiAgICAgIHRoaXMuc3RvcFRyYWNrKHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayk7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zY2VpdmVyKHRyYW5zY2VpdmVyLCBudWxsLCBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHRyYWNrIHR5cGUgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZCB0byB0aGUgU0ZVLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIGNoZWNrLiBJZiBvbWl0dGVkLCBjaGVja3MgaWYgYW55IHRyYWNrIGlzIGJlaW5nIHB1Ymxpc2hlZC5cbiAgICovXG4gIGlzUHVibGlzaGluZyA9ICh0cmFja1R5cGU/OiBUcmFja1R5cGUpOiBib29sZWFuID0+IHtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGlmICh0cmFja1R5cGUgJiYgaXRlbS5wdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSAhPT0gdHJhY2tUeXBlKSBjb250aW51ZTtcblxuICAgICAgY29uc3QgdHJhY2sgPSBpdGVtLnRyYW5zY2VpdmVyLnNlbmRlci50cmFjaztcbiAgICAgIGlmICghdHJhY2spIGNvbnRpbnVlO1xuXG4gICAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnICYmIHRyYWNrLmVuYWJsZWQpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBjbG9uZWQgdHJhY2sgdGhhdCBpcyBiZWluZyBwdWJsaXNoZWQgdG8gdGhlIFNGVS5cbiAgICovXG4gIHN0b3BUcmFja3MgPSAoLi4udHJhY2tUeXBlczogVHJhY2tUeXBlW10pID0+IHtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGNvbnN0IHsgcHVibGlzaE9wdGlvbiwgdHJhbnNjZWl2ZXIgfSA9IGl0ZW07XG4gICAgICBpZiAoIXRyYWNrVHlwZXMuaW5jbHVkZXMocHVibGlzaE9wdGlvbi50cmFja1R5cGUpKSBjb250aW51ZTtcbiAgICAgIHRoaXMuc3RvcFRyYWNrKHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyBhbGwgdGhlIGNsb25lZCB0cmFja3MgdGhhdCBhcmUgYmVpbmcgcHVibGlzaGVkIHRvIHRoZSBTRlUuXG4gICAqL1xuICBzdG9wQWxsVHJhY2tzID0gKCkgPT4ge1xuICAgIGZvciAoY29uc3QgeyB0cmFuc2NlaXZlciB9IG9mIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5pdGVtcygpKSB7XG4gICAgICB0aGlzLnN0b3BUcmFjayh0cmFuc2NlaXZlci5zZW5kZXIudHJhY2spO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRoaXMuY2xvbmVkVHJhY2tzKSB7XG4gICAgICB0aGlzLnN0b3BUcmFjayh0cmFjayk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgY2hhbmdlUHVibGlzaFF1YWxpdHkgPSBhc3luYyAodmlkZW9TZW5kZXI6IFZpZGVvU2VuZGVyKSA9PiB7XG4gICAgY29uc3QgeyB0cmFja1R5cGUsIGxheWVycywgcHVibGlzaE9wdGlvbklkIH0gPSB2aWRlb1NlbmRlcjtcbiAgICBjb25zdCBlbmFibGVkTGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobCkgPT4gbC5hY3RpdmUpO1xuXG4gICAgY29uc3QgdGFnID0gJ1VwZGF0ZSBwdWJsaXNoIHF1YWxpdHk6JztcbiAgICB0aGlzLmxvZ2dlcignaW5mbycsIGAke3RhZ30gcmVxdWVzdGVkIGxheWVycyBieSBTRlU6YCwgZW5hYmxlZExheWVycyk7XG5cbiAgICBjb25zdCB0cmFuc2NlaXZlcklkID0gdGhpcy50cmFuc2NlaXZlckNhY2hlLmZpbmQoXG4gICAgICAodCkgPT5cbiAgICAgICAgdC5wdWJsaXNoT3B0aW9uLmlkID09PSBwdWJsaXNoT3B0aW9uSWQgJiZcbiAgICAgICAgdC5wdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSA9PT0gdHJhY2tUeXBlLFxuICAgICk7XG4gICAgY29uc3Qgc2VuZGVyID0gdHJhbnNjZWl2ZXJJZD8udHJhbnNjZWl2ZXIuc2VuZGVyO1xuICAgIGlmICghc2VuZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXIoJ3dhcm4nLCBgJHt0YWd9IG5vIHZpZGVvIHNlbmRlciBmb3VuZC5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSBzZW5kZXIuZ2V0UGFyYW1ldGVycygpO1xuICAgIGlmIChwYXJhbXMuZW5jb2RpbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyKCd3YXJuJywgYCR7dGFnfSB0aGVyZSBhcmUgbm8gZW5jb2RpbmdzIHNldC5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb2RlY0luVXNlID0gdHJhbnNjZWl2ZXJJZD8ucHVibGlzaE9wdGlvbi5jb2RlYz8ubmFtZTtcbiAgICBjb25zdCB1c2VzU3ZjQ29kZWMgPSBjb2RlY0luVXNlICYmIGlzU3ZjQ29kZWMoY29kZWNJblVzZSk7XG5cbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgZW5jb2RlciBvZiBwYXJhbXMuZW5jb2RpbmdzKSB7XG4gICAgICBjb25zdCBsYXllciA9IHVzZXNTdmNDb2RlY1xuICAgICAgICA/IC8vIGZvciBTVkMsIHdlIG9ubHkgaGF2ZSBvbmUgbGF5ZXIgKHEpIGFuZCBvZnRlbiByaWQgaXMgb21pdHRlZFxuICAgICAgICAgIGVuYWJsZWRMYXllcnNbMF1cbiAgICAgICAgOiAvLyBmb3Igbm9uLVNWQywgd2UgbmVlZCB0byBmaW5kIHRoZSBsYXllciBieSByaWQgKHNpbXVsY2FzdClcbiAgICAgICAgICAoZW5hYmxlZExheWVycy5maW5kKChsKSA9PiBsLm5hbWUgPT09IGVuY29kZXIucmlkKSA/P1xuICAgICAgICAgIChwYXJhbXMuZW5jb2RpbmdzLmxlbmd0aCA9PT0gMSA/IGVuYWJsZWRMYXllcnNbMF0gOiB1bmRlZmluZWQpKTtcblxuICAgICAgLy8gZmxpcCAnYWN0aXZlJyBmbGFnIG9ubHkgd2hlbiBuZWNlc3NhcnlcbiAgICAgIGNvbnN0IHNob3VsZEFjdGl2YXRlID0gISFsYXllcj8uYWN0aXZlO1xuICAgICAgaWYgKHNob3VsZEFjdGl2YXRlICE9PSBlbmNvZGVyLmFjdGl2ZSkge1xuICAgICAgICBlbmNvZGVyLmFjdGl2ZSA9IHNob3VsZEFjdGl2YXRlO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gc2tpcCB0aGUgcmVzdCBvZiB0aGUgc2V0dGluZ3MgaWYgdGhlIGxheWVyIGlzIGRpc2FibGVkIG9yIG5vdCBmb3VuZFxuICAgICAgaWYgKCFsYXllcikgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWF4RnJhbWVyYXRlLFxuICAgICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnksXG4gICAgICAgIG1heEJpdHJhdGUsXG4gICAgICAgIHNjYWxhYmlsaXR5TW9kZSxcbiAgICAgIH0gPSBsYXllcjtcbiAgICAgIGlmIChcbiAgICAgICAgc2NhbGVSZXNvbHV0aW9uRG93bkJ5ID49IDEgJiZcbiAgICAgICAgc2NhbGVSZXNvbHV0aW9uRG93bkJ5ICE9PSBlbmNvZGVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeVxuICAgICAgKSB7XG4gICAgICAgIGVuY29kZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5ID0gc2NhbGVSZXNvbHV0aW9uRG93bkJ5O1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhCaXRyYXRlID4gMCAmJiBtYXhCaXRyYXRlICE9PSBlbmNvZGVyLm1heEJpdHJhdGUpIHtcbiAgICAgICAgZW5jb2Rlci5tYXhCaXRyYXRlID0gbWF4Qml0cmF0ZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobWF4RnJhbWVyYXRlID4gMCAmJiBtYXhGcmFtZXJhdGUgIT09IGVuY29kZXIubWF4RnJhbWVyYXRlKSB7XG4gICAgICAgIGVuY29kZXIubWF4RnJhbWVyYXRlID0gbWF4RnJhbWVyYXRlO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igc2NhbGFiaWxpdHlNb2RlIGlzIG5vdCBpbiB0aGUgdHlwZWRlZnMgeWV0XG4gICAgICBpZiAoc2NhbGFiaWxpdHlNb2RlICYmIHNjYWxhYmlsaXR5TW9kZSAhPT0gZW5jb2Rlci5zY2FsYWJpbGl0eU1vZGUpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBzY2FsYWJpbGl0eU1vZGUgaXMgbm90IGluIHRoZSB0eXBlZGVmcyB5ZXRcbiAgICAgICAgZW5jb2Rlci5zY2FsYWJpbGl0eU1vZGUgPSBzY2FsYWJpbGl0eU1vZGU7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZUVuY29kZXJzID0gcGFyYW1zLmVuY29kaW5ncy5maWx0ZXIoKGUpID0+IGUuYWN0aXZlKTtcbiAgICBpZiAoIWNoYW5nZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlcignaW5mbycsIGAke3RhZ30gbm8gY2hhbmdlOmAsIGFjdGl2ZUVuY29kZXJzKTtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kZXIuc2V0UGFyYW1ldGVycyhwYXJhbXMpO1xuICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYCR7dGFnfSBlbmFibGVkIHJpZHM6YCwgYWN0aXZlRW5jb2RlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0YXJ0cyB0aGUgSUNFIGNvbm5lY3Rpb24gYW5kIHJlbmVnb3RpYXRlcyB3aXRoIHRoZSBTRlUuXG4gICAqL1xuICByZXN0YXJ0SWNlID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdSZXN0YXJ0aW5nIElDRSBjb25uZWN0aW9uJyk7XG4gICAgY29uc3Qgc2lnbmFsaW5nU3RhdGUgPSB0aGlzLnBjLnNpZ25hbGluZ1N0YXRlO1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZyB8fCBzaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtbG9jYWwtb2ZmZXInKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnSUNFIHJlc3RhcnQgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLm5lZ290aWF0ZSh7IGljZVJlc3RhcnQ6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBhIG5ldyBvZmZlci9hbnN3ZXIgZXhjaGFuZ2Ugd2l0aCB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25hbCBvZmZlciBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHByaXZhdGUgbmVnb3RpYXRlID0gYXN5bmMgKG9wdGlvbnM/OiBSVENPZmZlck9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICByZXR1cm4gd2l0aG91dENvbmN1cnJlbmN5KGBwdWJsaXNoZXIubmVnb3RpYXRlLiR7dGhpcy5sb2NrfWAsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgdGhpcy5wYy5jcmVhdGVPZmZlcihvcHRpb25zKTtcbiAgICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMuZ2V0QW5ub3VuY2VkVHJhY2tzKG9mZmVyLnNkcCk7XG4gICAgICBpZiAoIXRyYWNrcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgbmVnb3RpYXRlIHdpdGhvdXQgYW55IHRyYWNrc2ApO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IG9wdGlvbnM/LmljZVJlc3RhcnQgPz8gZmFsc2U7XG4gICAgICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG5cbiAgICAgICAgY29uc3QgeyBzZHAgPSAnJyB9ID0gb2ZmZXI7XG4gICAgICAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnNldFB1Ymxpc2hlcih7IHNkcCwgdHJhY2tzIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHRocm93IG5ldyBOZWdvdGlhdGlvbkVycm9yKHJlc3BvbnNlLmVycm9yKTtcblxuICAgICAgICBjb25zdCB7IHNkcDogYW5zd2VyU2RwIH0gPSByZXNwb25zZTtcbiAgICAgICAgYXdhaXQgdGhpcy5wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7IHR5cGU6ICdhbnN3ZXInLCBzZHA6IGFuc3dlclNkcCB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBuZWdvdGlhdGlvbiBmYWlsZWQsIHJvbGxiYWNrIHRvIHRoZSBwcmV2aW91cyBzdGF0ZVxuICAgICAgICBpZiAodGhpcy5wYy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtbG9jYWwtb2ZmZXInKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHsgdHlwZTogJ3JvbGxiYWNrJyB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZFRyaWNrbGVkSWNlQ2FuZGlkYXRlcygpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0cmFja3MgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICovXG4gIGdldFB1Ymxpc2hlZFRyYWNrcyA9ICgpOiBNZWRpYVN0cmVhbVRyYWNrW10gPT4ge1xuICAgIGNvbnN0IHRyYWNrczogTWVkaWFTdHJlYW1UcmFja1tdID0gW107XG4gICAgZm9yIChjb25zdCB7IHRyYW5zY2VpdmVyIH0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGNvbnN0IHRyYWNrID0gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrO1xuICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJykgdHJhY2tzLnB1c2godHJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2tzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0cmFja3MgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHNkcCBhbiBvcHRpb25hbCBTRFAgdG8gZXh0cmFjdCB0aGUgYG1pZGAgZnJvbS5cbiAgICovXG4gIGdldEFubm91bmNlZFRyYWNrcyA9IChzZHA6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFRyYWNrSW5mb1tdID0+IHtcbiAgICBjb25zdCB0cmFja0luZm9zOiBUcmFja0luZm9bXSA9IFtdO1xuICAgIGZvciAoY29uc3QgYnVuZGxlIG9mIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5pdGVtcygpKSB7XG4gICAgICBjb25zdCB7IHRyYW5zY2VpdmVyLCBwdWJsaXNoT3B0aW9uIH0gPSBidW5kbGU7XG4gICAgICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjaztcbiAgICAgIGlmICghdHJhY2spIGNvbnRpbnVlO1xuXG4gICAgICB0cmFja0luZm9zLnB1c2godGhpcy50b1RyYWNrSW5mbyh0cmFuc2NlaXZlciwgcHVibGlzaE9wdGlvbiwgc2RwKSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFja0luZm9zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0cmFja3MgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogVGhpcyBtZXRob2Qgc2hhbGwgYmUgdXNlZCBmb3IgdGhlIHJlY29ubmVjdGlvbiBmbG93LlxuICAgKiBUaGVyZSB3ZSBzaG91bGRuJ3QgYW5ub3VuY2UgdGhlIHRyYWNrcyB0aGF0IGhhdmUgYmVlbiBzdG9wcGVkIGR1ZSB0byBhIGNvZGVjIHN3aXRjaC5cbiAgICovXG4gIGdldEFubm91bmNlZFRyYWNrc0ZvclJlY29ubmVjdCA9ICgpOiBUcmFja0luZm9bXSA9PiB7XG4gICAgY29uc3Qgc2RwID0gdGhpcy5wYy5sb2NhbERlc2NyaXB0aW9uPy5zZHA7XG4gICAgY29uc3QgdHJhY2tJbmZvczogVHJhY2tJbmZvW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHB1Ymxpc2hPcHRpb24gb2YgdGhpcy5wdWJsaXNoT3B0aW9ucykge1xuICAgICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0KHB1Ymxpc2hPcHRpb24pO1xuICAgICAgaWYgKCF0cmFuc2NlaXZlciB8fCAhdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrKSBjb250aW51ZTtcblxuICAgICAgdHJhY2tJbmZvcy5wdXNoKHRoaXMudG9UcmFja0luZm8odHJhbnNjZWl2ZXIsIHB1Ymxpc2hPcHRpb24sIHNkcCkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2tJbmZvcztcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGdpdmVuIHRyYW5zY2VpdmVyIHRvIGEgYFRyYWNrSW5mb2Agb2JqZWN0LlxuICAgKi9cbiAgcHJpdmF0ZSB0b1RyYWNrSW5mbyA9IChcbiAgICB0cmFuc2NlaXZlcjogUlRDUnRwVHJhbnNjZWl2ZXIsXG4gICAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbixcbiAgICBzZHA6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgKTogVHJhY2tJbmZvID0+IHtcbiAgICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayE7XG4gICAgY29uc3QgaXNUcmFja0xpdmUgPSB0cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZSc7XG4gICAgY29uc3QgbGF5ZXJzID0gaXNUcmFja0xpdmVcbiAgICAgID8gY29tcHV0ZVZpZGVvTGF5ZXJzKHRyYWNrLCBwdWJsaXNoT3B0aW9uKVxuICAgICAgOiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0TGF5ZXJzKHB1Ymxpc2hPcHRpb24pO1xuICAgIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5zZXRMYXllcnMocHVibGlzaE9wdGlvbiwgbGF5ZXJzKTtcblxuICAgIGNvbnN0IGlzQXVkaW9UcmFjayA9IGlzQXVkaW9UcmFja1R5cGUocHVibGlzaE9wdGlvbi50cmFja1R5cGUpO1xuICAgIGNvbnN0IGlzU3RlcmVvID0gaXNBdWRpb1RyYWNrICYmIHRyYWNrLmdldFNldHRpbmdzKCkuY2hhbm5lbENvdW50ID09PSAyO1xuICAgIGNvbnN0IHRyYW5zY2VpdmVySW5kZXggPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaW5kZXhPZih0cmFuc2NlaXZlcik7XG4gICAgY29uc3QgYXVkaW9TZXR0aW5ncyA9IHRoaXMuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYWNrSWQ6IHRyYWNrLmlkLFxuICAgICAgbGF5ZXJzOiB0b1ZpZGVvTGF5ZXJzKGxheWVycyksXG4gICAgICB0cmFja1R5cGU6IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlLFxuICAgICAgbWlkOiBleHRyYWN0TWlkKHRyYW5zY2VpdmVyLCB0cmFuc2NlaXZlckluZGV4LCBzZHApLFxuICAgICAgc3RlcmVvOiBpc1N0ZXJlbyxcbiAgICAgIGR0eDogaXNBdWRpb1RyYWNrICYmICEhYXVkaW9TZXR0aW5ncz8ub3B1c19kdHhfZW5hYmxlZCxcbiAgICAgIHJlZDogaXNBdWRpb1RyYWNrICYmICEhYXVkaW9TZXR0aW5ncz8ucmVkdW5kYW50X2NvZGluZ19lbmFibGVkLFxuICAgICAgbXV0ZWQ6ICFpc1RyYWNrTGl2ZSxcbiAgICAgIGNvZGVjOiBwdWJsaXNoT3B0aW9uLmNvZGVjLFxuICAgICAgcHVibGlzaE9wdGlvbklkOiBwdWJsaXNoT3B0aW9uLmlkLFxuICAgIH07XG4gIH07XG5cbiAgcHJpdmF0ZSBjbG9uZVRyYWNrID0gKHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrKTogTWVkaWFTdHJlYW1UcmFjayA9PiB7XG4gICAgY29uc3QgY2xvbmUgPSB0cmFjay5jbG9uZSgpO1xuICAgIHRoaXMuY2xvbmVkVHJhY2tzLmFkZChjbG9uZSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIHByaXZhdGUgc3RvcFRyYWNrID0gKHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghdHJhY2spIHJldHVybjtcbiAgICB0cmFjay5zdG9wKCk7XG4gICAgdGhpcy5jbG9uZWRUcmFja3MuZGVsZXRlKHRyYWNrKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7XG4gIEJhc2VQZWVyQ29ubmVjdGlvbixcbiAgQmFzZVBlZXJDb25uZWN0aW9uT3B0cyxcbn0gZnJvbSAnLi9CYXNlUGVlckNvbm5lY3Rpb24nO1xuaW1wb3J0IHsgTmVnb3RpYXRpb25FcnJvciB9IGZyb20gJy4vTmVnb3RpYXRpb25FcnJvcic7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyT2ZmZXIgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyB0b1RyYWNrVHlwZSwgdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSB9IGZyb20gJy4vaGVscGVycy90cmFja3MnO1xuaW1wb3J0IHsgZW5hYmxlU3RlcmVvIH0gZnJvbSAnLi9oZWxwZXJzL3NkcCc7XG5cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYCB0aGF0IGhhbmRsZXMgdGhlIGluY29taW5nXG4gKiBtZWRpYSBzdHJlYW1zIGZyb20gdGhlIFNGVS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXIgZXh0ZW5kcyBCYXNlUGVlckNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgU3Vic2NyaWJlcmAgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRzOiBCYXNlUGVlckNvbm5lY3Rpb25PcHRzKSB7XG4gICAgc3VwZXIoUGVlclR5cGUuU1VCU0NSSUJFUiwgb3B0cyk7XG4gICAgdGhpcy5wYy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuaGFuZGxlT25UcmFjayk7XG5cbiAgICB0aGlzLm9uKCdzdWJzY3JpYmVyT2ZmZXInLCBhc3luYyAoc3Vic2NyaWJlck9mZmVyKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5uZWdvdGlhdGUoc3Vic2NyaWJlck9mZmVyKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gcmVwbGFjZSB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYFxuICAgKiBpbnN0YW5jZSB3aXRoIGEgbmV3IG9uZSAoaW4gY2FzZSBvZiBtaWdyYXRpb24pLlxuICAgKi9cbiAgZGV0YWNoRXZlbnRIYW5kbGVycygpIHtcbiAgICBzdXBlci5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuaGFuZGxlT25UcmFjayk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGFydHMgdGhlIElDRSBjb25uZWN0aW9uIGFuZCByZW5lZ290aWF0ZXMgd2l0aCB0aGUgU0ZVLlxuICAgKi9cbiAgcmVzdGFydEljZSA9IGFzeW5jICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnUmVzdGFydGluZyBJQ0UgY29ubmVjdGlvbicpO1xuICAgIGlmICh0aGlzLnBjLnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1yZW1vdGUtb2ZmZXInKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnSUNFIHJlc3RhcnQgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYy5jb25uZWN0aW9uU3RhdGUgPT09ICduZXcnKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgYElDRSBjb25uZWN0aW9uIGlzIG5vdCB5ZXQgZXN0YWJsaXNoZWQsIHNraXBwaW5nIHJlc3RhcnQuYCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzSXNJY2VSZXN0YXJ0aW5nID0gdGhpcy5pc0ljZVJlc3RhcnRpbmc7XG4gICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnNmdUNsaWVudC5pY2VSZXN0YXJ0KHtcbiAgICAgICAgcGVlclR5cGU6IFBlZXJUeXBlLlNVQlNDUklCRVIsXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgdGhyb3cgbmV3IE5lZ290aWF0aW9uRXJyb3IocmVzcG9uc2UuZXJyb3IpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIHN0YXRlLCBhcyBvdXIgaW50ZW50IGZvciByZXN0YXJ0aW5nIElDRSBmYWlsZWRcbiAgICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gcHJldmlvdXNJc0ljZVJlc3RhcnRpbmc7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZU9uVHJhY2sgPSAoZTogUlRDVHJhY2tFdmVudCkgPT4ge1xuICAgIGNvbnN0IFtwcmltYXJ5U3RyZWFtXSA9IGUuc3RyZWFtcztcbiAgICAvLyBleGFtcGxlOiBgZTNmNmFhZjgtYjAzZC00OTExLWJlMzYtODNmNDdkMzdhNzZhOlRSQUNLX1RZUEVfVklERU9gXG4gICAgY29uc3QgW3RyYWNrSWQsIHJhd1RyYWNrVHlwZV0gPSBwcmltYXJ5U3RyZWFtLmlkLnNwbGl0KCc6Jyk7XG4gICAgY29uc3QgcGFydGljaXBhbnRUb1VwZGF0ZSA9IHRoaXMuc3RhdGUucGFydGljaXBhbnRzLmZpbmQoXG4gICAgICAocCkgPT4gcC50cmFja0xvb2t1cFByZWZpeCA9PT0gdHJhY2tJZCxcbiAgICApO1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ2RlYnVnJyxcbiAgICAgIGBbb25UcmFja106IEdvdCByZW1vdGUgJHtyYXdUcmFja1R5cGV9IHRyYWNrIGZvciB1c2VySWQ6ICR7cGFydGljaXBhbnRUb1VwZGF0ZT8udXNlcklkfWAsXG4gICAgICBlLnRyYWNrLmlkLFxuICAgICAgZS50cmFjayxcbiAgICApO1xuXG4gICAgY29uc3QgdHJhY2tEZWJ1Z0luZm8gPSBgJHtwYXJ0aWNpcGFudFRvVXBkYXRlPy51c2VySWR9ICR7cmF3VHJhY2tUeXBlfToke3RyYWNrSWR9YDtcbiAgICBlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ211dGUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIG11dGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgIH0pO1xuXG4gICAgZS50cmFjay5hZGRFdmVudExpc3RlbmVyKCd1bm11dGUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIHVubXV0ZWQ6ICR7dHJhY2tEZWJ1Z0luZm99YCk7XG4gICAgfSk7XG5cbiAgICBlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgW29uVHJhY2tdOiBUcmFjayBlbmRlZDogJHt0cmFja0RlYnVnSW5mb31gKTtcbiAgICAgIHRoaXMuc3RhdGUucmVtb3ZlT3JwaGFuZWRUcmFjayhwcmltYXJ5U3RyZWFtLmlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyYWNrVHlwZSA9IHRvVHJhY2tUeXBlKHJhd1RyYWNrVHlwZSk7XG4gICAgaWYgKCF0cmFja1R5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlcignZXJyb3InLCBgVW5rbm93biB0cmFjayB0eXBlOiAke3Jhd1RyYWNrVHlwZX1gKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrSWRUb1RyYWNrVHlwZS5zZXQoZS50cmFjay5pZCwgdHJhY2tUeXBlKTtcblxuICAgIGlmICghcGFydGljaXBhbnRUb1VwZGF0ZSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgYFtvblRyYWNrXTogUmVjZWl2ZWQgdHJhY2sgZm9yIHVua25vd24gcGFydGljaXBhbnQ6ICR7dHJhY2tJZH1gLFxuICAgICAgICBlLFxuICAgICAgKTtcbiAgICAgIHRoaXMuc3RhdGUucmVnaXN0ZXJPcnBoYW5lZFRyYWNrKHtcbiAgICAgICAgaWQ6IHByaW1hcnlTdHJlYW0uaWQsXG4gICAgICAgIHRyYWNrTG9va3VwUHJlZml4OiB0cmFja0lkLFxuICAgICAgICB0cmFjazogcHJpbWFyeVN0cmVhbSxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RyZWFtS2luZFByb3AgPSB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5KHRyYWNrVHlwZSk7XG4gICAgaWYgKCFzdHJlYW1LaW5kUHJvcCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYFVua25vd24gdHJhY2sgdHlwZTogJHtyYXdUcmFja1R5cGV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IHRoZSBwcmV2aW91cyBzdHJlYW0gdG8gZGlzcG9zZSBpdCBsYXRlclxuICAgIC8vIHVzdWFsbHkgdGhpcyBoYXBwZW5zIGR1cmluZyBtaWdyYXRpb24sIHdoZW4gdGhlIHN0cmVhbSBpcyByZXBsYWNlZFxuICAgIC8vIHdpdGggYSBuZXcgb25lIGJ1dCB0aGUgb2xkIG9uZSBpcyBzdGlsbCBpbiB0aGUgc3RhdGVcbiAgICBjb25zdCBwcmV2aW91c1N0cmVhbSA9IHBhcnRpY2lwYW50VG9VcGRhdGVbc3RyZWFtS2luZFByb3BdO1xuXG4gICAgLy8gcmVwbGFjZSB0aGUgcHJldmlvdXMgc3RyZWFtIHdpdGggdGhlIG5ldyBvbmUsIHByZXZlbnRzIGZsaWNrZXJpbmdcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50VG9VcGRhdGUuc2Vzc2lvbklkLCB7XG4gICAgICBbc3RyZWFtS2luZFByb3BdOiBwcmltYXJ5U3RyZWFtLFxuICAgIH0pO1xuXG4gICAgLy8gbm93LCBkaXNwb3NlIHRoZSBwcmV2aW91cyBzdHJlYW0gaWYgaXQgZXhpc3RzXG4gICAgaWYgKHByZXZpb3VzU3RyZWFtKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgW29uVHJhY2tdOiBDbGVhbmluZyB1cCBwcmV2aW91cyByZW1vdGUgJHtlLnRyYWNrLmtpbmR9IHRyYWNrcyBmb3IgdXNlcklkOiAke3BhcnRpY2lwYW50VG9VcGRhdGUudXNlcklkfWAsXG4gICAgICApO1xuICAgICAgcHJldmlvdXNTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICB0LnN0b3AoKTtcbiAgICAgICAgcHJldmlvdXNTdHJlYW0ucmVtb3ZlVHJhY2sodCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBuZWdvdGlhdGUgPSBhc3luYyAoc3Vic2NyaWJlck9mZmVyOiBTdWJzY3JpYmVyT2ZmZXIpID0+IHtcbiAgICBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKHtcbiAgICAgIHR5cGU6ICdvZmZlcicsXG4gICAgICBzZHA6IHN1YnNjcmliZXJPZmZlci5zZHAsXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZFRyaWNrbGVkSWNlQ2FuZGlkYXRlcygpO1xuXG4gICAgY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpcy5wYy5jcmVhdGVBbnN3ZXIoKTtcbiAgICBpZiAoYW5zd2VyLnNkcCkge1xuICAgICAgYW5zd2VyLnNkcCA9IGVuYWJsZVN0ZXJlbyhzdWJzY3JpYmVyT2ZmZXIuc2RwLCBhbnN3ZXIuc2RwKTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG5cbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZW5kQW5zd2VyKHtcbiAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5TVUJTQ1JJQkVSLFxuICAgICAgc2RwOiBhbnN3ZXIuc2RwIHx8ICcnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSBmYWxzZTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IFNmdUV2ZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IERpc3BhdGNoYWJsZU1lc3NhZ2UsIFNmdUV2ZW50S2luZHMgfSBmcm9tICcuL0Rpc3BhdGNoZXInO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi4vc3RhdHMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCA9IChvcHRzOiB7XG4gIGVuZHBvaW50OiBzdHJpbmc7XG4gIG9uTWVzc2FnZTogPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPihtZXNzYWdlOiBEaXNwYXRjaGFibGVNZXNzYWdlPEs+KSA9PiB2b2lkO1xuICB0YWc6IHN0cmluZztcbiAgdHJhY2VyOiBUcmFjZXIgfCB1bmRlZmluZWQ7XG59KSA9PiB7XG4gIGNvbnN0IHsgZW5kcG9pbnQsIG9uTWVzc2FnZSwgdGFnLCB0cmFjZXIgfSA9IG9wdHM7XG4gIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdUNsaWVudFdTJywgdGFnXSk7XG4gIGxvZ2dlcignZGVidWcnLCAnQ3JlYXRpbmcgc2lnbmFsaW5nIFdTIGNoYW5uZWw6JywgZW5kcG9pbnQpO1xuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnQpO1xuICB3cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJzsgLy8gZG8gd2UgbmVlZCB0aGlzP1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1NpZ25hbGluZyBXUyBjaGFubmVsIGVycm9yJywgZSk7XG4gICAgdHJhY2VyPy50cmFjZSgnc2lnbmFsLndzLmVycm9yJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2luZm8nLCAnU2lnbmFsaW5nIFdTIGNoYW5uZWwgaXMgY2xvc2VkJywgZSk7XG4gICAgdHJhY2VyPy50cmFjZSgnc2lnbmFsLndzLmNsb3NlJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdTaWduYWxpbmcgV1MgY2hhbm5lbCBpcyBvcGVuJywgZSk7XG4gICAgdHJhY2VyPy50cmFjZSgnc2lnbmFsLndzLm9wZW4nLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICBlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICAgICAgICAgID8gU2Z1RXZlbnQuZnJvbUJpbmFyeShuZXcgVWludDhBcnJheShlLmRhdGEpKVxuICAgICAgICAgIDogU2Z1RXZlbnQuZnJvbUpzb25TdHJpbmcoZS5kYXRhLnRvU3RyaW5nKCkpO1xuXG4gICAgICBvbk1lc3NhZ2UobWVzc2FnZSBhcyBEaXNwYXRjaGFibGVNZXNzYWdlPFNmdUV2ZW50S2luZHM+KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAnRmFpbGVkIHRvIGRlY29kZSBhIG1lc3NhZ2UuIENoZWNrIHdoZXRoZXIgdGhlIFByb3RvIG1vZGVscyBtYXRjaC4nO1xuICAgICAgbG9nZ2VyKCdlcnJvcicsIG1lc3NhZ2UsIHsgZXZlbnQ6IGUsIGVycm9yOiBlcnIgfSk7XG4gICAgICB0cmFjZXI/LnRyYWNlKCdzaWduYWwud3MubWVzc2FnZS5lcnJvcicsIG1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB3cztcbn07XG4iLCJpbXBvcnQgeyBJQ0VTZXJ2ZXIgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuXG5leHBvcnQgY29uc3QgdG9SdGNDb25maWd1cmF0aW9uID0gKGNvbmZpZzogSUNFU2VydmVyW10pOiBSVENDb25maWd1cmF0aW9uID0+IHtcbiAgcmV0dXJuIHtcbiAgICBidW5kbGVQb2xpY3k6ICdtYXgtYnVuZGxlJyxcbiAgICBpY2VTZXJ2ZXJzOiBjb25maWcubWFwKChpY2UpID0+ICh7XG4gICAgICB1cmxzOiBpY2UudXJscyxcbiAgICAgIHVzZXJuYW1lOiBpY2UudXNlcm5hbWUsXG4gICAgICBjcmVkZW50aWFsOiBpY2UucGFzc3dvcmQsXG4gICAgfSkpLFxuICB9O1xufTtcbiIsImV4cG9ydCBpbnRlcmZhY2UgU2FmZVByb21pc2U8VD4ge1xuICAoKTogUHJvbWlzZTxUPjtcbiAgY2hlY2tQZW5kaW5nKCk6IGJvb2xlYW47XG59XG5cbnR5cGUgRnVsZmlsbG1lbnQ8VD4gPVxuICB8IHtcbiAgICAgIHN0YXR1czogJ3Jlc29sdmVkJztcbiAgICAgIHJlc3VsdDogVDtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdHVzOiAncmVqZWN0ZWQnO1xuICAgICAgZXJyb3I6IHVua25vd247XG4gICAgfTtcblxuLyoqXG4gKiBTYXZpbmcgYSBsb25nLWxpdmVkIHJlZmVyZW5jZSB0byBhIHByb21pc2UgdGhhdCBjYW4gcmVqZWN0IGNhbiBiZSB1bnNhZmUsXG4gKiBzaW5jZSByZWplY3RpbmcgdGhlIHByb21pc2UgY2F1c2VzIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgKGV2ZW4gaWYgdGhlXG4gKiByZWplY3Rpb24gaXMgaGFuZGxlZCBldmVyeXdoZXJlIHByb21pc2UgcmVzdWx0IGlzIGV4cGVjdGVkKS5cbiAqXG4gKiBUbyBhdm9pZCB0aGF0LCB3ZSBhZGQgYm90aCByZXNvbHV0aW9uIGFuZCByZWplY3Rpb24gaGFuZGxlcnMgdG8gdGhlIHByb21pc2UuXG4gKiBUaGF0IHdheSwgdGhlIHNhdmVkIHByb21pc2UgbmV2ZXIgcmVqZWN0cy4gQSBjYWxsYmFjayBpcyBwcm92aWRlZCBhcyByZXR1cm5cbiAqIHZhbHVlIHRvIGJ1aWxkIGEgKm5ldyogcHJvbWlzZSwgdGhhdCByZXNvbHZlcyBhbmQgcmVqZWN0cyBhbG9uZyB3aXRoXG4gKiB0aGUgb3JpZ2luYWwgcHJvbWlzZS5cbiAqIEBwYXJhbSBwcm9taXNlIFByb21pc2UgdG8gd3JhcCwgd2hpY2ggcG9zc2libHkgcmVqZWN0c1xuICogQHJldHVybnMgQ2FsbGJhY2sgdG8gYnVpbGQgYSBuZXcgcHJvbWlzZSwgd2hpY2ggcmVzb2x2ZXMgYW5kIHJlamVjdHMgYWxvbmdcbiAqIHdpdGggdGhlIG9yaWdpbmFsIHByb21pc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTYWZlUHJvbWlzZTxUPihwcm9taXNlOiBQcm9taXNlPFQ+KTogU2FmZVByb21pc2U8VD4ge1xuICBsZXQgaXNQZW5kaW5nID0gdHJ1ZTtcblxuICBjb25zdCBzYWZlUHJvbWlzZTogUHJvbWlzZTxGdWxmaWxsbWVudDxUPj4gPSBwcm9taXNlXG4gICAgLnRoZW4oXG4gICAgICAocmVzdWx0KSA9PiAoeyBzdGF0dXM6ICdyZXNvbHZlZCcgYXMgY29uc3QsIHJlc3VsdCB9KSxcbiAgICAgIChlcnJvcikgPT4gKHsgc3RhdHVzOiAncmVqZWN0ZWQnIGFzIGNvbnN0LCBlcnJvciB9KSxcbiAgICApXG4gICAgLmZpbmFsbHkoKCkgPT4gKGlzUGVuZGluZyA9IGZhbHNlKSk7XG5cbiAgY29uc3QgdW53cmFwUHJvbWlzZSA9ICgpID0+XG4gICAgc2FmZVByb21pc2UudGhlbigoZnVsZmlsbG1lbnQpID0+IHtcbiAgICAgIGlmIChmdWxmaWxsbWVudC5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHRocm93IGZ1bGZpbGxtZW50LmVycm9yO1xuICAgICAgcmV0dXJuIGZ1bGZpbGxtZW50LnJlc3VsdDtcbiAgICB9KTtcblxuICB1bndyYXBQcm9taXNlLmNoZWNrUGVuZGluZyA9ICgpID0+IGlzUGVuZGluZztcbiAgcmV0dXJuIHVud3JhcFByb21pc2U7XG59XG5cbmV4cG9ydCB0eXBlIFByb21pc2VXaXRoUmVzb2x2ZXJzPFQ+ID0ge1xuICBwcm9taXNlOiBQcm9taXNlPFQ+O1xuICByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgcmVqZWN0OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIGlzUmVzb2x2ZWQ6ICgpID0+IGJvb2xlYW47XG4gIGlzUmVqZWN0ZWQ6ICgpID0+IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcHJvbWlzZSB3aXRoIHJlc29sdmVycy5cbiAqXG4gKiBCYXNlZCBvbjpcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS13aXRoLXJlc29sdmVycy9ibG9iL21haW4vcG9seWZpbGxzLmpzXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9taXNlV2l0aFJlc29sdmVycyA9IDxUID0gdm9pZD4oKTogUHJvbWlzZVdpdGhSZXNvbHZlcnM8VD4gPT4ge1xuICBsZXQgcmVzb2x2ZTogKHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pID0+IHZvaWQ7XG4gIGxldCByZWplY3Q6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgIHJlc29sdmUgPSBfcmVzb2x2ZTtcbiAgICByZWplY3QgPSBfcmVqZWN0O1xuICB9KTtcblxuICBsZXQgaXNSZXNvbHZlZCA9IGZhbHNlO1xuICBsZXQgaXNSZWplY3RlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IHJlc29sdmVyID0gKHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pID0+IHtcbiAgICBpc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfTtcblxuICBjb25zdCByZWplY3RlciA9IChyZWFzb246IGFueSkgPT4ge1xuICAgIGlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgIHJlamVjdChyZWFzb24pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICByZXNvbHZlOiByZXNvbHZlcixcbiAgICByZWplY3Q6IHJlamVjdGVyLFxuICAgIGlzUmVzb2x2ZWQ6ICgpID0+IGlzUmVzb2x2ZWQsXG4gICAgaXNSZWplY3RlZDogKCkgPT4gaXNSZWplY3RlZCxcbiAgfTtcbn07XG4iLCJjb25zdCB1bmluaXRpYWxpemVkID0gU3ltYm9sKCd1bmluaXRpYWxpemVkJyk7XG5cbi8qKlxuICogTGF6aWx5IGNyZWF0ZXMgYSB2YWx1ZSB1c2luZyBhIHByb3ZpZGVkIGZhY3RvcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhenk8VCwgQT4oZmFjdG9yeTogKC4uLmFyZ3M6IEFbXSkgPT4gVCk6ICguLi5hcmdzOiBBW10pID0+IFQge1xuICBsZXQgdmFsdWU6IFQgfCB0eXBlb2YgdW5pbml0aWFsaXplZCA9IHVuaW5pdGlhbGl6ZWQ7XG4gIHJldHVybiAoLi4uYXJnczogQVtdKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmluaXRpYWxpemVkKSB7XG4gICAgICB2YWx1ZSA9IGZhY3RvcnkoLi4uYXJncyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuIiwiLy8gRG8gbm90IG1vZGlmeSB0aGlzIGZpbGUgbWFudWFsbHkuIEluc3RlYWQsIGVkaXQgd29ya2VyLnRzXG4vLyBhbmQgdGhlIHJ1biAuL2dlbmVyYXRlLXRpbWVyLXdvcmtlci5zaFxuZXhwb3J0IGNvbnN0IHRpbWVyV29ya2VyID0ge1xuICBzcmM6IGBjb25zdCB0aW1lcklkTWFwcGluZyA9IG5ldyBNYXAoKTtcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBldmVudC5kYXRhO1xuICAgIHN3aXRjaCAocmVxdWVzdC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NldFRpbWVvdXQnOlxuICAgICAgICBjYXNlICdzZXRJbnRlcnZhbCc6XG4gICAgICAgICAgICB0aW1lcklkTWFwcGluZy5zZXQocmVxdWVzdC5pZCwgKHJlcXVlc3QudHlwZSA9PT0gJ3NldFRpbWVvdXQnID8gc2V0VGltZW91dCA6IHNldEludGVydmFsKSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGljayhyZXF1ZXN0LmlkKTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC50eXBlID09PSAnc2V0VGltZW91dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXJJZE1hcHBpbmcuZGVsZXRlKHJlcXVlc3QuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlcXVlc3QudGltZW91dCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NsZWFyVGltZW91dCc6XG4gICAgICAgIGNhc2UgJ2NsZWFySW50ZXJ2YWwnOlxuICAgICAgICAgICAgKHJlcXVlc3QudHlwZSA9PT0gJ2NsZWFyVGltZW91dCcgPyBjbGVhclRpbWVvdXQgOiBjbGVhckludGVydmFsKSh0aW1lcklkTWFwcGluZy5nZXQocmVxdWVzdC5pZCkpO1xuICAgICAgICAgICAgdGltZXJJZE1hcHBpbmcuZGVsZXRlKHJlcXVlc3QuaWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSk7XG5mdW5jdGlvbiB0aWNrKGlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgdHlwZTogJ3RpY2snLCBpZCB9O1xuICAgIHNlbGYucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG59YCxcbn07XG4iLCJpbXBvcnQgeyBsYXp5IH0gZnJvbSAnLi4vaGVscGVycy9sYXp5JztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBUaW1lcldvcmtlckV2ZW50LCBUaW1lcldvcmtlclJlcXVlc3QgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHRpbWVyV29ya2VyIH0gZnJvbSAnLi93b3JrZXIuYnVpbGQnO1xuXG5jbGFzcyBUaW1lcldvcmtlciB7XG4gIHByaXZhdGUgY3VycmVudFRpbWVySWQgPSAxO1xuICBwcml2YXRlIGNhbGxiYWNrcyA9IG5ldyBNYXA8bnVtYmVyLCAoKSA9PiB2b2lkPigpO1xuICBwcml2YXRlIHdvcmtlcjogV29ya2VyIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGZhbGxiYWNrID0gZmFsc2U7XG5cbiAgc2V0dXAoeyB1c2VUaW1lcldvcmtlciA9IHRydWUgfTogeyB1c2VUaW1lcldvcmtlcj86IGJvb2xlYW4gfSA9IHt9KTogdm9pZCB7XG4gICAgaWYgKCF1c2VUaW1lcldvcmtlcikge1xuICAgICAgdGhpcy5mYWxsYmFjayA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRpbWVyV29ya2VyLnNyYztcbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc291cmNlXSwge1xuICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD11dGYtOCcsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNjcmlwdCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICB0aGlzLndvcmtlciA9IG5ldyBXb3JrZXIoc2NyaXB0LCB7IG5hbWU6ICdzdHItdGltZXItd29ya2VyJyB9KTtcbiAgICAgIHRoaXMud29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBpZCB9ID0gZXZlbnQuZGF0YSBhcyBUaW1lcldvcmtlckV2ZW50O1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3RpY2snKSB7XG4gICAgICAgICAgdGhpcy5jYWxsYmFja3MuZ2V0KGlkKT8uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBnZXRMb2dnZXIoWyd0aW1lci13b3JrZXInXSkoJ2Vycm9yJywgZXJyKTtcbiAgICAgIHRoaXMuZmFsbGJhY2sgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTtcbiAgICB0aGlzLndvcmtlcj8udGVybWluYXRlKCk7XG4gICAgdGhpcy53b3JrZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mYWxsYmFjayA9IGZhbHNlO1xuICB9XG5cbiAgZ2V0IHJlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLmZhbGxiYWNrIHx8IEJvb2xlYW4odGhpcy53b3JrZXIpO1xuICB9XG5cbiAgc2V0SW50ZXJ2YWwoY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRpbWVvdXQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VGltZXIoJ3NldEludGVydmFsJywgY2FsbGJhY2ssIHRpbWVvdXQpO1xuICB9XG5cbiAgY2xlYXJJbnRlcnZhbChpZD86IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJUaW1lcignY2xlYXJJbnRlcnZhbCcsIGlkKTtcbiAgfVxuXG4gIHNldFRpbWVvdXQoY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRpbWVvdXQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VGltZXIoJ3NldFRpbWVvdXQnLCBjYWxsYmFjaywgdGltZW91dCk7XG4gIH1cblxuICBjbGVhclRpbWVvdXQoaWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyVGltZXIoJ2NsZWFyVGltZW91dCcsIGlkKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0VGltZXIoXG4gICAgdHlwZTogJ3NldFRpbWVvdXQnIHwgJ3NldEludGVydmFsJyxcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICB0aW1lb3V0OiBudW1iZXIsXG4gICkge1xuICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gKHR5cGUgPT09ICdzZXRUaW1lb3V0JyA/IHNldFRpbWVvdXQgOiBzZXRJbnRlcnZhbCkoXG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICB0aW1lb3V0LFxuICAgICAgKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IHRoaXMuZ2V0VGltZXJJZCgpO1xuXG4gICAgdGhpcy5jYWxsYmFja3Muc2V0KGlkLCAoKSA9PiB7XG4gICAgICBjYWxsYmFjaygpO1xuXG4gICAgICAvLyBUaW1lb3V0cyBhcmUgb25lLW9mZiBvcGVyYXRpb25zLCBzbyBubyBuZWVkIHRvIGtlZXAgY2FsbGJhY2sgcmVmZXJlbmNlXG4gICAgICAvLyBhZnRlciB0aW1lciBoYXMgZmlyZWRcbiAgICAgIGlmICh0eXBlID09PSAnc2V0VGltZW91dCcpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MuZGVsZXRlKGlkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyB0eXBlLCBpZCwgdGltZW91dCB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICBwcml2YXRlIGNsZWFyVGltZXIodHlwZTogJ2NsZWFyVGltZW91dCcgfCAnY2xlYXJJbnRlcnZhbCcsIGlkPzogbnVtYmVyKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhbGxiYWNrKSB7XG4gICAgICAodHlwZSA9PT0gJ2NsZWFyVGltZW91dCcgPyBjbGVhclRpbWVvdXQgOiBjbGVhckludGVydmFsKShpZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFja3MuZGVsZXRlKGlkKTtcbiAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZSwgaWQgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFRpbWVySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFRpbWVySWQrKztcbiAgfVxuXG4gIHByaXZhdGUgc2VuZE1lc3NhZ2UobWVzc2FnZTogVGltZXJXb3JrZXJSZXF1ZXN0KSB7XG4gICAgaWYgKCF0aGlzLndvcmtlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSB0aW1lciB3b3JrZXIgYmVmb3JlIGl0J3Mgc2V0IHVwXCIpO1xuICAgIH1cblxuICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG59XG5cbmxldCB0aW1lcldvcmtlckVuYWJsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGVuYWJsZVRpbWVyV29ya2VyID0gKCkgPT4ge1xuICB0aW1lcldvcmtlckVuYWJsZWQgPSB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFRpbWVycyA9IGxhenkoKCkgPT4ge1xuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUaW1lcldvcmtlcigpO1xuICBpbnN0YW5jZS5zZXR1cCh7IHVzZVRpbWVyV29ya2VyOiB0aW1lcldvcmtlckVuYWJsZWQgfSk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn0pO1xuIiwiaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLmNsaWVudCc7XG5pbXBvcnQge1xuICBjcmVhdGVTaWduYWxDbGllbnQsXG4gIHJldHJ5YWJsZSxcbiAgd2l0aEhlYWRlcnMsXG4gIHdpdGhSZXF1ZXN0TG9nZ2VyLFxuICB3aXRoUmVxdWVzdFRyYWNlcixcbn0gZnJvbSAnLi9ycGMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCxcbiAgRGlzcGF0Y2hlcixcbiAgSWNlVHJpY2tsZUJ1ZmZlcixcbiAgU2Z1RXZlbnRLaW5kcyxcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHtcbiAgSm9pblJlcXVlc3QsXG4gIEpvaW5SZXNwb25zZSxcbiAgU2Z1UmVxdWVzdCxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRTdGF0c1JlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFRyYWNrTXV0ZVN0YXRlLFxuICBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUR2NCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBDcmVkZW50aWFscyB9IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGdldExvZ0xldmVsIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtcbiAgbWFrZVNhZmVQcm9taXNlLFxuICBQcm9taXNlV2l0aFJlc29sdmVycyxcbiAgcHJvbWlzZVdpdGhSZXNvbHZlcnMsXG4gIFNhZmVQcm9taXNlLFxufSBmcm9tICcuL2hlbHBlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBnZXRUaW1lcnMgfSBmcm9tICcuL3RpbWVycyc7XG5pbXBvcnQgeyBUcmFjZXIsIFRyYWNlU2xpY2UgfSBmcm9tICcuL3N0YXRzJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtU2Z1Q2xpZW50Q29uc3RydWN0b3IgPSB7XG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY3JlZGVudGlhbHMgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcblxuICAvKipcbiAgICogVGhlIGBjaWRgIChjYWxsIElEKSB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIGBzZXNzaW9uSWRgIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbG9nIHRhZyB0byB1c2UgZm9yIGxvZ2dpbmcuIFVzZWZ1bCBmb3IgZGVidWdnaW5nIG11bHRpcGxlIGluc3RhbmNlcy5cbiAgICovXG4gIHRhZzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHdhaXRpbmcgZm9yIHRoZSBgam9pblJlc3BvbnNlYC5cbiAgICogRGVmYXVsdHMgdG8gNTAwMG1zLlxuICAgKi9cbiAgam9pblJlc3BvbnNlVGltZW91dD86IG51bWJlcjtcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIGNsb3NlZC5cbiAgICovXG4gIG9uU2lnbmFsQ2xvc2U/OiAocmVhc29uOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBTdHJlYW1DbGllbnQgaW5zdGFuY2UgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIHN0cmVhbUNsaWVudDogU3RyZWFtQ2xpZW50O1xuXG4gIC8qKlxuICAgKiBGbGFnIHRvIGVuYWJsZSB0cmFjaW5nLlxuICAgKi9cbiAgZW5hYmxlVHJhY2luZzogYm9vbGVhbjtcbn07XG5cbnR5cGUgU2Z1V2ViU29ja2V0UGFyYW1zID0ge1xuICBhdHRlbXB0OiBzdHJpbmc7IC8vIHRoZSByZWNvbm5lY3QgYXR0ZW1wdCwgc3RhcnQgd2l0aCAwXG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgYXBpX2tleTogc3RyaW5nO1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbiAgY2lkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIFRoZSBjbGllbnQgdXNlZCBmb3IgZXhjaGFuZ2luZyBpbmZvcm1hdGlvbiB3aXRoIHRoZSBTRlUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1TZnVDbGllbnQge1xuICAvKipcbiAgICogQSBidWZmZXIgZm9yIElDRSBDYW5kaWRhdGVzIHRoYXQgYXJlIHJlY2VpdmVkIGJlZm9yZVxuICAgKiB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIFBlZXIgQ29ubmVjdGlvbnMgYXJlIHJlYWR5IHRvIGhhbmRsZSB0aGVtLlxuICAgKi9cbiAgcmVhZG9ubHkgaWNlVHJpY2tsZUJ1ZmZlciA9IG5ldyBJY2VUcmlja2xlQnVmZmVyKCk7XG5cbiAgLyoqXG4gICAqIFRoZSBgc2Vzc2lvbklkYCBvZiB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHJlYWRvbmx5IHNlc3Npb25JZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYGVkZ2VOYW1lYCByZXByZXNlbnRpbmcgdGhlIGVkZ2UgdGhlIGNsaWVudCBpcyBjb25uZWN0ZWQgdG8uXG4gICAqL1xuICByZWFkb25seSBlZGdlTmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgY3VycmVudCBXZWJTb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgU0ZVLlxuICAgKi9cbiAgcHJpdmF0ZSBzaWduYWxXcyE6IFdlYlNvY2tldDtcblxuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIHJlYWR5IChvcGVuKS5cbiAgICovXG4gIHByaXZhdGUgc2lnbmFsUmVhZHkhOiBTYWZlUHJvbWlzZTxXZWJTb2NrZXQ+O1xuXG4gIC8qKlxuICAgKiBGbGFnIHRvIGluZGljYXRlIGlmIHRoZSBjbGllbnQgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgbGVhdmluZyB0aGUgY2FsbC5cbiAgICogVGhpcyBpcyBzZXQgdG8gYHRydWVgIHdoZW4gdGhlIHVzZXIgaW5pdGlhdGVzIHRoZSBsZWF2ZSBwcm9jZXNzLlxuICAgKi9cbiAgaXNMZWF2aW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gaW5kaWNhdGUgaWYgdGhlIGNsaWVudCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBjbGVhbiBjbG9zaW5nIHRoZSBjb25uZWN0aW9uLlxuICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBjbGllbnQgd2lsbCBub3QgYXR0ZW1wdCB0byByZWNvbm5lY3RcbiAgICogYW5kIHdpbGwgY2xvc2UgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGdyYWNlZnVsbHkuXG4gICAqIE90aGVyd2lzZSwgaXQgd2lsbCBjbG9zZSB0aGUgY29ubmVjdGlvbiB3aXRoIGFuIGVycm9yIGNvZGUgYW5kXG4gICAqIHRyaWdnZXIgYSByZWNvbm5lY3Rpb24gYXR0ZW1wdC5cbiAgICovXG4gIGlzQ2xvc2luZ0NsZWFuID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBycGM6IFNpZ25hbFNlcnZlckNsaWVudDtcbiAgcHJpdmF0ZSBrZWVwQWxpdmVJbnRlcnZhbD86IG51bWJlcjtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uQ2hlY2tUaW1lb3V0PzogTm9kZUpTLlRpbWVvdXQ7XG4gIHByaXZhdGUgbWlncmF0ZUF3YXlUaW1lb3V0PzogTm9kZUpTLlRpbWVvdXQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGluZ0ludGVydmFsSW5NcyA9IDUgKiAxMDAwO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuaGVhbHRoeVRpbWVvdXRJbk1zID0gMTUgKiAxMDAwO1xuICBwcml2YXRlIGxhc3RNZXNzYWdlVGltZXN0YW1wPzogRGF0ZTtcbiAgcHJpdmF0ZSByZWFkb25seSB0cmFjZXI/OiBUcmFjZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5zdWJzY3JpYmVJY2VUcmlja2xlOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQ6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgb25TaWduYWxDbG9zZTogKChyZWFzb246IHN0cmluZykgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gIHJlYWRvbmx5IHRhZzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGpvaW5SZXNwb25zZVRpbWVvdXQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBuZXR3b3JrQXZhaWxhYmxlVGFzazogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD4gfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgSm9pblJlc3BvbnNlIGlzIHJlY2VpdmVkLlxuICAgKiBSZWplY3RzIGFmdGVyIGEgY2VydGFpbiB0aHJlc2hvbGQgaWYgdGhlIHJlc3BvbnNlIGlzIG5vdCByZWNlaXZlZC5cbiAgICovXG4gIHByaXZhdGUgam9pblJlc3BvbnNlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzPEpvaW5SZXNwb25zZT4oKTtcblxuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1pZ3JhdGlvbiBpcyBjb21wbGV0ZS5cbiAgICogUmVqZWN0cyBhZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkIGlmIHRoZSBtaWdyYXRpb24gaXMgbm90IGNvbXBsZXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBtaWdyYXRpb25UYXNrPzogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD47XG5cbiAgLyoqXG4gICAqIEEgY29udHJvbGxlciB0byBhYm9ydCB0aGUgY3VycmVudCByZXF1ZXN0cy5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gIC8qKlxuICAgKiBUaGUgbm9ybWFsIGNsb3N1cmUgY29kZS4gVXNlZCBmb3IgY29udHJvbGxlZCBzaHV0ZG93bnMuXG4gICAqL1xuICBzdGF0aWMgTk9STUFMX0NMT1NVUkUgPSAxMDAwO1xuICAvKipcbiAgICogVGhlIGVycm9yIGNvZGUgdXNlZCB3aGVuIHRoZSBTRlUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHkuXG4gICAqIFVzdWFsbHksIHRoaXMgbWVhbnMgdGhhdCBubyBtZXNzYWdlIGhhcyBiZWVuIHJlY2VpdmVkIGZyb20gdGhlIFNGVSBmb3JcbiAgICogYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChgY29ubmVjdGlvbkNoZWNrVGltZW91dGApLlxuICAgKi9cbiAgc3RhdGljIEVSUk9SX0NPTk5FQ1RJT05fVU5IRUFMVEhZID0gNDAwMTtcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBjb2RlIHVzZWQgd2hlbiB0aGUgU0ZVIGNvbm5lY3Rpb24gaXMgZGlzcG9zZWQgYmVjYXVzZSBhIG5ld1xuICAgKiBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIG9yIGlzIGFib3V0IHRvIGJlIGVzdGFibGlzaGVkLlxuICAgKiBIZXJlLCB3ZSBkb24ndCB1c2UgMTAwMCAobm9ybWFsIGNsb3N1cmUpIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0aGVcbiAgICogU0ZVIHRvIGNsZWFuIHVwIHRoZSByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHBhcnRpY2lwYW50LlxuICAgKi9cbiAgc3RhdGljIERJU1BPU0VfT0xEX1NPQ0tFVCA9IDQxMDA7XG4gIC8qKlxuICAgKiBUaGUgY2xvc2UgY29kZSB1c2VkIHdoZW4gdGhlIGNsaWVudCBmYWlscyB0byBqb2luIHRoZSBjYWxsIChvbiB0aGUgU0ZVKS5cbiAgICovXG4gIHN0YXRpYyBKT0lOX0ZBSUxFRCA9IDQxMDE7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgU0ZVIGNsaWVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkaXNwYXRjaGVyLFxuICAgIGNyZWRlbnRpYWxzLFxuICAgIHNlc3Npb25JZCxcbiAgICBjaWQsXG4gICAgdGFnLFxuICAgIGpvaW5SZXNwb25zZVRpbWVvdXQgPSA1MDAwLFxuICAgIG9uU2lnbmFsQ2xvc2UsXG4gICAgc3RyZWFtQ2xpZW50LFxuICAgIGVuYWJsZVRyYWNpbmcsXG4gIH06IFN0cmVhbVNmdUNsaWVudENvbnN0cnVjdG9yKSB7XG4gICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHNlc3Npb25JZCB8fCBnZW5lcmF0ZVVVSUR2NCgpO1xuICAgIHRoaXMub25TaWduYWxDbG9zZSA9IG9uU2lnbmFsQ2xvc2U7XG4gICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgIGNvbnN0IHsgc2VydmVyLCB0b2tlbiB9ID0gY3JlZGVudGlhbHM7XG4gICAgdGhpcy5lZGdlTmFtZSA9IHNlcnZlci5lZGdlX25hbWU7XG4gICAgdGhpcy5qb2luUmVzcG9uc2VUaW1lb3V0ID0gam9pblJlc3BvbnNlVGltZW91dDtcbiAgICB0aGlzLnRhZyA9IHRhZztcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdUNsaWVudCcsIHRhZ10pO1xuICAgIHRoaXMudHJhY2VyID0gZW5hYmxlVHJhY2luZ1xuICAgICAgPyBuZXcgVHJhY2VyKGAke3RhZ30tJHt0aGlzLmVkZ2VOYW1lfWApXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJwYyA9IGNyZWF0ZVNpZ25hbENsaWVudCh7XG4gICAgICBiYXNlVXJsOiBzZXJ2ZXIudXJsLFxuICAgICAgaW50ZXJjZXB0b3JzOiBbXG4gICAgICAgIHdpdGhIZWFkZXJzKHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAgfSksXG4gICAgICAgIHRoaXMudHJhY2VyICYmIHdpdGhSZXF1ZXN0VHJhY2VyKHRoaXMudHJhY2VyLnRyYWNlKSxcbiAgICAgICAgZ2V0TG9nTGV2ZWwoKSA9PT0gJ3RyYWNlJyAmJiB3aXRoUmVxdWVzdExvZ2dlcih0aGlzLmxvZ2dlciwgJ3RyYWNlJyksXG4gICAgICBdLmZpbHRlcigodikgPT4gISF2KSxcbiAgICB9KTtcblxuICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHRoZSBJQ0VUcmlja2xlIGtpbmQgb2YgZXZlbnRzLlxuICAgIC8vIFRoZSBTRlUgbWlnaHQgdHJpZ2dlciB0aGVzZSBldmVudHMgYmVmb3JlIHRoZSBpbml0aWFsIFJUQ1xuICAgIC8vIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgb3IgXCJKb2luUmVzcG9uc2VcIiByZWNlaXZlZC5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHRob3NlIGV2ZW50cyAoSUNFIGNhbmRpZGF0ZXMpIG5lZWQgdG8gYmUgYnVmZmVyZWRcbiAgICAvLyBhbmQgbGF0ZXIgYWRkZWQgdG8gdGhlIGFwcHJvcHJpYXRlIFBlZXJDb25uZWN0aW9uXG4gICAgLy8gb25jZSB0aGUgcmVtb3RlRGVzY3JpcHRpb24gaXMga25vd24gYW5kIHNldC5cbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZSA9IGRpc3BhdGNoZXIub24oJ2ljZVRyaWNrbGUnLCAoaWNlVHJpY2tsZSkgPT4ge1xuICAgICAgdGhpcy5pY2VUcmlja2xlQnVmZmVyLnB1c2goaWNlVHJpY2tsZSk7XG4gICAgfSk7XG5cbiAgICAvLyBsaXN0ZW4gdG8gbmV0d29yayBjaGFuZ2VzIHRvIGhhbmRsZSBvZmZsaW5lIHN0YXRlXG4gICAgLy8gd2Ugc2hvdWxkbid0IGF0dGVtcHQgdG8gcmVjb3ZlciB3ZWJzb2NrZXQgY29ubmVjdGlvbiB3aGVuIG9mZmxpbmVcbiAgICB0aGlzLnVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQgPSBzdHJlYW1DbGllbnQub24oJ25ldHdvcmsuY2hhbmdlZCcsIChlKSA9PiB7XG4gICAgICBpZiAoIWUub25saW5lKSB7XG4gICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzaz8ucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jcmVhdGVXZWJTb2NrZXQoe1xuICAgICAgYXR0ZW1wdDogdGFnLFxuICAgICAgdXNlcl9pZDogc3RyZWFtQ2xpZW50LnVzZXI/LmlkIHx8ICcnLFxuICAgICAgYXBpX2tleTogc3RyZWFtQ2xpZW50LmtleSxcbiAgICAgIHVzZXJfc2Vzc2lvbl9pZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICBjaWQsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVdlYlNvY2tldCA9IChwYXJhbXM6IFNmdVdlYlNvY2tldFBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGV2ZW50c1RvVHJhY2U6IFBhcnRpYWw8UmVjb3JkPFNmdUV2ZW50S2luZHMsIGJvb2xlYW4+PiA9IHtcbiAgICAgIGNhbGxFbmRlZDogdHJ1ZSxcbiAgICAgIGNoYW5nZVB1Ymxpc2hRdWFsaXR5OiB0cnVlLFxuICAgICAgY2hhbmdlUHVibGlzaE9wdGlvbnM6IHRydWUsXG4gICAgICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IHRydWUsXG4gICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgIGdvQXdheTogdHJ1ZSxcbiAgICAgIGluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbjogdHJ1ZSxcbiAgICB9O1xuICAgIHRoaXMuc2lnbmFsV3MgPSBjcmVhdGVXZWJTb2NrZXRTaWduYWxDaGFubmVsKHtcbiAgICAgIHRhZzogdGhpcy50YWcsXG4gICAgICBlbmRwb2ludDogYCR7dGhpcy5jcmVkZW50aWFscy5zZXJ2ZXIud3NfZW5kcG9pbnR9PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpLnRvU3RyaW5nKCl9YCxcbiAgICAgIHRyYWNlcjogdGhpcy50cmFjZXIsXG4gICAgICBvbk1lc3NhZ2U6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgIHRoaXMubGFzdE1lc3NhZ2VUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrKCk7XG4gICAgICAgIGNvbnN0IGV2ZW50S2luZCA9IG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZDtcbiAgICAgICAgaWYgKGV2ZW50c1RvVHJhY2VbZXZlbnRLaW5kXSkge1xuICAgICAgICAgIHRoaXMudHJhY2VyPy50cmFjZShldmVudEtpbmQsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaChtZXNzYWdlLCB0aGlzLnRhZyk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgdGhpcy5zaWduYWxSZWFkeSA9IG1ha2VTYWZlUHJvbWlzZShcbiAgICAgIFByb21pc2UucmFjZTxXZWJTb2NrZXQ+KFtcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCBkaWRPcGVuID0gZmFsc2U7XG4gICAgICAgICAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgZGlkT3BlbiA9IHRydWU7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsV3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uT3Blbik7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMuc2lnbmFsV3MpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB0aGlzLnNpZ25hbFdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW4pO1xuXG4gICAgICAgICAgdGhpcy5zaWduYWxXcy5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKGUpO1xuICAgICAgICAgICAgLy8gTm9ybWFsbHksIHRoaXMgc2hvdWxkbid0IGhhdmUgYW55IGVmZmVjdCwgYmVjYXVzZSBXUyBzaG91bGQgbmV2ZXIgZW1pdCAnY2xvc2UnXG4gICAgICAgICAgICAvLyBiZWZvcmUgZW1pdHRpbmcgJ29wZW4nLiBIb3dldmVyLCBzdHJhbmdlciB0aGluZ3MgaGF2ZSBoYXBwZW5lZCwgYW5kIHdlIGRvbid0XG4gICAgICAgICAgICAvLyB3YW50IHRvIGxlYXZlIHNpZ25hbFJlYWR5IGluIGEgcGVuZGluZyBzdGF0ZS5cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkaWRPcGVuXG4gICAgICAgICAgICAgID8gYFNGVSBXUyBjbG9zZWQ6ICR7ZS5jb2RlfSAke2UucmVhc29ufWBcbiAgICAgICAgICAgICAgOiBgU0ZVIFdTIGNvbm5lY3Rpb24gY2FuJ3QgYmUgZXN0YWJsaXNoZWQ6ICR7ZS5jb2RlfSAke2UucmVhc29ufWA7XG4gICAgICAgICAgICB0aGlzLnRyYWNlcj8udHJhY2UoJ3NpZ25hbC5jbG9zZScsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksXG5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBTRlUgV1MgY29ubmVjdGlvbiBmYWlsZWQgdG8gb3BlbiBhZnRlciAke3RoaXMuam9pblJlc3BvbnNlVGltZW91dH1tc2A7XG4gICAgICAgICAgICB0aGlzLnRyYWNlcj8udHJhY2UoJ3NpZ25hbC50aW1lb3V0JywgbWVzc2FnZSk7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKTtcbiAgICAgICAgICB9LCB0aGlzLmpvaW5SZXNwb25zZVRpbWVvdXQpO1xuICAgICAgICB9KSxcbiAgICAgIF0pLFxuICAgICk7XG4gIH07XG5cbiAgZ2V0IGlzSGVhbHRoeSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiAmJlxuICAgICAgdGhpcy5qb2luUmVzcG9uc2VUYXNrLmlzUmVzb2x2ZWQoKVxuICAgICk7XG4gIH1cblxuICBnZXQgam9pblRhc2soKSB7XG4gICAgcmV0dXJuIHRoaXMuam9pblJlc3BvbnNlVGFzay5wcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVXZWJTb2NrZXRDbG9zZSA9IChlOiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMuaGFuZGxlV2ViU29ja2V0Q2xvc2UpO1xuICAgIGdldFRpbWVycygpLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5vblNpZ25hbENsb3NlPy4oYCR7ZS5jb2RlfSAke2UucmVhc29ufWApO1xuICB9O1xuXG4gIGNsb3NlID0gKGNvZGU6IG51bWJlciA9IFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSwgcmVhc29uPzogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5pc0Nsb3NpbmdDbGVhbiA9IGNvZGUgIT09IFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWTtcbiAgICBpZiAodGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYENsb3NpbmcgU0ZVIFdTIGNvbm5lY3Rpb246ICR7Y29kZX0gLSAke3JlYXNvbn1gKTtcbiAgICAgIHRoaXMuc2lnbmFsV3MuY2xvc2UoY29kZSwgYGpzLWNsaWVudDogJHtyZWFzb259YCk7XG4gICAgICB0aGlzLnNpZ25hbFdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgdGhpcy5oYW5kbGVXZWJTb2NrZXRDbG9zZSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcG9zZSgpO1xuICB9O1xuXG4gIHByaXZhdGUgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnRGlzcG9zaW5nIFNGVSBjbGllbnQnKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZSgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVOZXR3b3JrQ2hhbmdlZCgpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0KTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRoaXMubWlncmF0aW9uVGFzaz8ucmVzb2x2ZSgpO1xuICAgIHRoaXMuaWNlVHJpY2tsZUJ1ZmZlci5kaXNwb3NlKCk7XG4gIH07XG5cbiAgZ2V0VHJhY2UgPSAoKTogVHJhY2VTbGljZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2VyPy50YWtlKCk7XG4gIH07XG5cbiAgbGVhdmVBbmRDbG9zZSA9IGFzeW5jIChyZWFzb246IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgICAgYXdhaXQgdGhpcy5ub3RpZnlMZWF2ZShyZWFzb24pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0Vycm9yIG5vdGlmeWluZyBTRlUgYWJvdXQgbGVhdmluZyBjYWxsJywgZXJyKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlKFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSwgcmVhc29uLnN1YnN0cmluZygwLCAxMTUpKTtcbiAgfTtcblxuICB1cGRhdGVTdWJzY3JpcHRpb25zID0gYXN5bmMgKHRyYWNrczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW10pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy51cGRhdGVTdWJzY3JpcHRpb25zKHsgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCwgdHJhY2tzIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgc2V0UHVibGlzaGVyID0gYXN5bmMgKGRhdGE6IE9taXQ8U2V0UHVibGlzaGVyUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc2V0UHVibGlzaGVyKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHNlbmRBbnN3ZXIgPSBhc3luYyAoZGF0YTogT21pdDxTZW5kQW5zd2VyUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc2VuZEFuc3dlcih7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBpY2VUcmlja2xlID0gYXN5bmMgKGRhdGE6IE9taXQ8SUNFVHJpY2tsZSwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuaWNlVHJpY2tsZSh7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBpY2VSZXN0YXJ0ID0gYXN5bmMgKGRhdGE6IE9taXQ8SUNFUmVzdGFydFJlcXVlc3QsICdzZXNzaW9uSWQnPikgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLmljZVJlc3RhcnQoeyAuLi5kYXRhLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgdXBkYXRlTXV0ZVN0YXRlcyA9IGFzeW5jIChtdXRlU3RhdGVzOiBUcmFja011dGVTdGF0ZVtdKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT5cbiAgICAgICAgdGhpcy5ycGMudXBkYXRlTXV0ZVN0YXRlcyh7IG11dGVTdGF0ZXMsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzZW5kU3RhdHMgPSBhc3luYyAoc3RhdHM6IE9taXQ8U2VuZFN0YXRzUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICAvLyBOT1RFOiB3ZSBkb24ndCByZXRyeSBzZW5kaW5nIHN0YXRzXG4gICAgcmV0dXJuIHRoaXMucnBjLnNlbmRTdGF0cyh7IC4uLnN0YXRzLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pO1xuICB9O1xuXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RhcnROb2lzZUNhbmNlbGxhdGlvbih7IHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHsgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGVudGVyTWlncmF0aW9uID0gYXN5bmMgKG9wdHM6IHsgdGltZW91dD86IG51bWJlciB9ID0ge30pID0+IHtcbiAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgY29uc3QgeyB0aW1lb3V0ID0gNyAqIDEwMDAgfSA9IG9wdHM7XG5cbiAgICB0aGlzLm1pZ3JhdGlvblRhc2s/LnJlamVjdChuZXcgRXJyb3IoJ0NhbmNlbGxlZCBwcmV2aW91cyBtaWdyYXRpb24nKSk7XG4gICAgY29uc3QgdGFzayA9ICh0aGlzLm1pZ3JhdGlvblRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVycygpKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZGlzcGF0Y2hlci5vbihcbiAgICAgICdwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0KTtcbiAgICAgICAgdGFzay5yZXNvbHZlKCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdGhpcy5taWdyYXRlQXdheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB0YXNrLnJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKGBNaWdyYXRpb24gKCR7dGhpcy50YWd9KSBmYWlsZWQgdG8gY29tcGxldGUgaW4gJHt0aW1lb3V0fW1zYCksXG4gICAgICApO1xuICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgcmV0dXJuIHRhc2sucHJvbWlzZTtcbiAgfTtcblxuICBqb2luID0gYXN5bmMgKFxuICAgIGRhdGE6IE9taXQ8Sm9pblJlcXVlc3QsICdzZXNzaW9uSWQnIHwgJ3Rva2VuJz4sXG4gICk6IFByb21pc2U8Sm9pblJlc3BvbnNlPiA9PiB7XG4gICAgLy8gd2FpdCBmb3IgdGhlIHNpZ25hbCB3ZWIgc29ja2V0IHRvIGJlIHJlYWR5IGJlZm9yZSBzZW5kaW5nIFwiam9pblJlcXVlc3RcIlxuICAgIGF3YWl0IHRoaXMuc2lnbmFsUmVhZHkoKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmpvaW5SZXNwb25zZVRhc2suaXNSZXNvbHZlZCgpIHx8XG4gICAgICB0aGlzLmpvaW5SZXNwb25zZVRhc2suaXNSZWplY3RlZCgpXG4gICAgKSB7XG4gICAgICAvLyB3ZSBuZWVkIHRvIGxvY2sgdGhlIFJQQyByZXF1ZXN0cyB1bnRpbCB3ZSByZWNlaXZlIGEgSm9pblJlc3BvbnNlLlxuICAgICAgLy8gdGhhdCdzIHdoeSB3ZSBoYXZlIHRoaXMgcHJpbWl0aXZlIGxvY2sgbWVjaGFuaXNtLlxuICAgICAgLy8gdGhlIGNsaWVudCBzdGFydHMgd2l0aCBhbHJlYWR5IGluaXRpYWxpemVkIGpvaW5SZXNwb25zZVRhc2ssXG4gICAgICAvLyBhbmQgdGhpcyBjb2RlIGNyZWF0ZXMgYSBuZXcgb25lIGZvciB0aGUgbmV4dCBqb2luIHJlcXVlc3QuXG4gICAgICB0aGlzLmpvaW5SZXNwb25zZVRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVyczxKb2luUmVzcG9uc2U+KCk7XG4gICAgfVxuXG4gICAgLy8gY2FwdHVyZSBhIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBqb2luUmVzcG9uc2VUYXNrIGFzIGl0IG1pZ2h0XG4gICAgLy8gYmUgcmVwbGFjZWQgd2l0aCBhIG5ldyBvbmUgaW4gY2FzZSBhIHNlY29uZCBqb2luIHJlcXVlc3QgaXMgbWFkZVxuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmpvaW5SZXNwb25zZVRhc2s7XG5cbiAgICBsZXQgdGltZW91dElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZGlzcGF0Y2hlci5vbignam9pblJlc3BvbnNlJywgKGpvaW5SZXNwb25zZSkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5rZWVwQWxpdmUoKTtcbiAgICAgIGN1cnJlbnQucmVzb2x2ZShqb2luUmVzcG9uc2UpO1xuICAgIH0pO1xuXG4gICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGBXYWl0aW5nIGZvciBcImpvaW5SZXNwb25zZVwiIGhhcyB0aW1lZCBvdXQgYWZ0ZXIgJHt0aGlzLmpvaW5SZXNwb25zZVRpbWVvdXR9bXNgO1xuICAgICAgdGhpcy50cmFjZXI/LnRyYWNlKCdqb2luUmVxdWVzdFRpbWVvdXQnLCBtZXNzYWdlKTtcbiAgICAgIGN1cnJlbnQucmVqZWN0KG5ldyBFcnJvcihtZXNzYWdlKSk7XG4gICAgfSwgdGhpcy5qb2luUmVzcG9uc2VUaW1lb3V0KTtcblxuICAgIGNvbnN0IGpvaW5SZXF1ZXN0ID0gU2Z1UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgcmVxdWVzdFBheWxvYWQ6IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnam9pblJlcXVlc3QnLFxuICAgICAgICBqb2luUmVxdWVzdDogSm9pblJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgICAgdG9rZW46IHRoaXMuY3JlZGVudGlhbHMudG9rZW4sXG4gICAgICAgIH0pLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMudHJhY2VyPy50cmFjZSgnam9pblJlcXVlc3QnLCBqb2luUmVxdWVzdCk7XG4gICAgYXdhaXQgdGhpcy5zZW5kKGpvaW5SZXF1ZXN0KTtcblxuICAgIHJldHVybiBjdXJyZW50LnByb21pc2U7XG4gIH07XG5cbiAgcHJpdmF0ZSBwaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNlbmQoXG4gICAgICBTZnVSZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXF1ZXN0JyxcbiAgICAgICAgICBoZWFsdGhDaGVja1JlcXVlc3Q6IHt9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIG5vdGlmeUxlYXZlID0gYXN5bmMgKHJlYXNvbjogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZChcbiAgICAgIFNmdVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgcmVxdWVzdFBheWxvYWQ6IHtcbiAgICAgICAgICBvbmVvZktpbmQ6ICdsZWF2ZUNhbGxSZXF1ZXN0JyxcbiAgICAgICAgICBsZWF2ZUNhbGxSZXF1ZXN0OiB7XG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgcmVhc29uLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgc2VuZCA9IGFzeW5jIChtZXNzYWdlOiBTZnVSZXF1ZXN0KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zaWduYWxSZWFkeSgpOyAvLyB3YWl0IGZvciB0aGUgc2lnbmFsIHdzIHRvIGJlIG9wZW5cbiAgICBjb25zdCBtc2dKc29uID0gU2Z1UmVxdWVzdC50b0pzb24obWVzc2FnZSk7XG4gICAgaWYgKHRoaXMuc2lnbmFsV3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdTaWduYWwgV1MgaXMgbm90IG9wZW4uIFNraXBwaW5nIG1lc3NhZ2UnLCBtc2dKc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYFNlbmRpbmcgbWVzc2FnZSB0bzogJHt0aGlzLmVkZ2VOYW1lfWAsIG1zZ0pzb24pO1xuICAgIHRoaXMuc2lnbmFsV3Muc2VuZChTZnVSZXF1ZXN0LnRvQmluYXJ5KG1lc3NhZ2UpKTtcbiAgfTtcblxuICBwcml2YXRlIGtlZXBBbGl2ZSA9ICgpID0+IHtcbiAgICBjb25zdCB0aW1lcnMgPSBnZXRUaW1lcnMoKTtcbiAgICB0aW1lcnMuY2xlYXJJbnRlcnZhbCh0aGlzLmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsID0gdGltZXJzLnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMucGluZygpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdFcnJvciBzZW5kaW5nIGhlYWx0aENoZWNrUmVxdWVzdCB0byBTRlUnLCBlKTtcbiAgICAgIH0pO1xuICAgIH0sIHRoaXMucGluZ0ludGVydmFsSW5Ncyk7XG4gIH07XG5cbiAgcHJpdmF0ZSBzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgICB0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RNZXNzYWdlID1cbiAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMubGFzdE1lc3NhZ2VUaW1lc3RhbXAuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmICh0aW1lU2luY2VMYXN0TWVzc2FnZSA+IHRoaXMudW5oZWFsdGh5VGltZW91dEluTXMpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKFxuICAgICAgICAgICAgU3RyZWFtU2Z1Q2xpZW50LkVSUk9SX0NPTk5FQ1RJT05fVU5IRUFMVEhZLFxuICAgICAgICAgICAgYFNGVSBjb25uZWN0aW9uIHVuaGVhbHRoeS4gRGlkbid0IHJlY2VpdmUgYW55IG1lc3NhZ2UgZm9yICR7dGhpcy51bmhlYWx0aHlUaW1lb3V0SW5Nc31tc2AsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMudW5oZWFsdGh5VGltZW91dEluTXMpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHtcbiAgQ2FsbEFjY2VwdGVkRXZlbnQsXG4gIENhbGxSZWplY3RlZEV2ZW50LFxuICBPd25DYXBhYmlsaXR5LFxufSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgQ2FsbEVuZGVkIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgQ2FsbEVuZGVkUmVhc29uIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlZCB0aGUgZGVsaXZlcnkgb2YgYGNhbGwuYWNjZXB0ZWRgLlxuICogT25jZSB0aGUgZXZlbnQgaXMgcmVjZWl2ZWQsIHRoZSBjYWxsIGlzIGpvaW5lZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2FsbEFjY2VwdGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIG9uQ2FsbEFjY2VwdGVkKGV2ZW50OiBDYWxsQWNjZXB0ZWRFdmVudCkge1xuICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCB0aGUgZXZlbnQgaWYgaXQncyBmcm9tIHRoZSBjdXJyZW50IHVzZXJcbiAgICBpZiAoZXZlbnQudXNlci5pZCA9PT0gY2FsbC5jdXJyZW50VXNlcklkKSByZXR1cm47XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gY2FsbDtcbiAgICBpZiAoXG4gICAgICBldmVudC5jYWxsLmNyZWF0ZWRfYnkuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCAmJlxuICAgICAgc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUklOR0lOR1xuICAgICkge1xuICAgICAgYXdhaXQgY2FsbC5qb2luKCk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlcyBkZWxpdmVyeSBvZiBgY2FsbC5yZWplY3RlZGAgV2Vic29ja2V0IGV2ZW50LlxuICogT25jZSB0aGUgZXZlbnQgaXMgcmVjZWl2ZWQsIHRoZSBjYWxsIGlzIGxlZnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxSZWplY3RlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxSZWplY3RlZChldmVudDogQ2FsbFJlamVjdGVkRXZlbnQpIHtcbiAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgdGhlIGV2ZW50IGlmIGl0J3MgZnJvbSB0aGUgY3VycmVudCB1c2VyXG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgY2FsbDogZXZlbnRDYWxsIH0gPSBldmVudDtcbiAgICBjb25zdCB7IHNlc3Npb246IGNhbGxTZXNzaW9uIH0gPSBldmVudENhbGw7XG5cbiAgICBpZiAoIWNhbGxTZXNzaW9uKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnTm8gY2FsbCBzZXNzaW9uIHByb3ZpZGVkLiBJZ25vcmluZyBjYWxsLnJlamVjdGVkIGV2ZW50LicsXG4gICAgICAgIGV2ZW50LFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWplY3RlZEJ5ID0gY2FsbFNlc3Npb24ucmVqZWN0ZWRfYnk7XG4gICAgY29uc3QgeyBtZW1iZXJzLCBjYWxsaW5nU3RhdGUgfSA9IGNhbGwuc3RhdGU7XG4gICAgaWYgKGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHtcbiAgICAgIGNhbGwubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdDYWxsIGlzIG5vdCBpbiByaW5naW5nIG1vZGUgKGl0IGlzIGVpdGhlciBhY2NlcHRlZCBvciByZWplY3RlZCBhbHJlYWR5KS4gSWdub3JpbmcgY2FsbC5yZWplY3RlZCBldmVudC4nLFxuICAgICAgICBldmVudCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYWxsLmlzQ3JlYXRlZEJ5TWUpIHtcbiAgICAgIGNvbnN0IGV2ZXJ5b25lRWxzZVJlamVjdGVkID0gbWVtYmVyc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiBtLnVzZXJfaWQgIT09IGNhbGwuY3VycmVudFVzZXJJZClcbiAgICAgICAgLmV2ZXJ5KChtKSA9PiByZWplY3RlZEJ5W20udXNlcl9pZF0pO1xuICAgICAgaWYgKGV2ZXJ5b25lRWxzZVJlamVjdGVkKSB7XG4gICAgICAgIGNhbGwubG9nZ2VyKCdpbmZvJywgJ2V2ZXJ5b25lIHJlamVjdGVkLCBsZWF2aW5nIHRoZSBjYWxsJyk7XG4gICAgICAgIGF3YWl0IGNhbGwubGVhdmUoe1xuICAgICAgICAgIHJlamVjdDogdHJ1ZSxcbiAgICAgICAgICByZWFzb246ICdjYW5jZWwnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdyaW5nOiBldmVyeW9uZSByZWplY3RlZCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVqZWN0ZWRCeVtldmVudENhbGwuY3JlYXRlZF9ieS5pZF0pIHtcbiAgICAgICAgY2FsbC5sb2dnZXIoJ2luZm8nLCAnY2FsbCBjcmVhdG9yIHJlamVjdGVkLCBsZWF2aW5nIGNhbGwnKTtcbiAgICAgICAgYXdhaXQgY2FsbC5sZWF2ZSh7IG1lc3NhZ2U6ICdyaW5nOiBjcmVhdG9yIHJlamVjdGVkJyB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXIgdGhhdCB3YXRjaGVzIHRoZSBkZWxpdmVyeSBvZiBgY2FsbC5lbmRlZGAgV2Vic29ja2V0IGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsRW5kZWQgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25DYWxsRW5kZWQoKSB7XG4gICAgY29uc3QgeyBjYWxsaW5nU3RhdGUgfSA9IGNhbGwuc3RhdGU7XG4gICAgaWYgKFxuICAgICAgY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSURMRSAmJlxuICAgICAgY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuTEVGVFxuICAgICkge1xuICAgICAgY2FsbFxuICAgICAgICAubGVhdmUoeyBtZXNzYWdlOiAnY2FsbC5lbmRlZCBldmVudCByZWNlaXZlZCcsIHJlamVjdDogZmFsc2UgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjYWxsLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGxlYXZlIGNhbGwgYWZ0ZXIgY2FsbC5lbmRlZCAnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBjYWxsRW5kZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoU2Z1Q2FsbEVuZGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGNhbGwub24oJ2NhbGxFbmRlZCcsIGFzeW5jIChlOiBDYWxsRW5kZWQpID0+IHtcbiAgICBpZiAoY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGlmIChlLnJlYXNvbiA9PT0gQ2FsbEVuZGVkUmVhc29uLkxJVkVfRU5ERUQpIHtcbiAgICAgICAgY2FsbC5zdGF0ZS5zZXRCYWNrc3RhZ2UodHJ1ZSk7XG5cbiAgICAgICAgLy8gZG9uJ3QgbGVhdmUgdGhlIGNhbGwgaWYgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gam9pbiBiYWNrc3RhZ2VcbiAgICAgICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uIH0gPSBjYWxsLnBlcm1pc3Npb25zQ29udGV4dDtcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5KT0lOX0JBQ0tTVEFHRSkpIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGBjYWxsLmVuZGVkYCBldmVudCBhcnJpdmVkIGFmdGVyIHRoZSBjYWxsIGlzIGFscmVhZHkgbGVmdFxuICAgICAgLy8gYW5kIGFsbCBldmVudCBoYW5kbGVycyBhcmUgZGV0YWNoZWQuIFdlIG5lZWQgdG8gbWFudWFsbHlcbiAgICAgIC8vIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byByZWZsZWN0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgIGNhbGwuc3RhdGUuc2V0RW5kZWRBdChuZXcgRGF0ZSgpKTtcbiAgICAgIGNvbnN0IHJlYXNvbiA9IENhbGxFbmRlZFJlYXNvbltlLnJlYXNvbl07XG4gICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgbWVzc2FnZTogYGNhbGxFbmRlZCByZWNlaXZlZDogJHtyZWFzb259YCB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNhbGwubG9nZ2VyKFxuICAgICAgICAnZXJyb3InLFxuICAgICAgICAnRmFpbGVkIHRvIGxlYXZlIGNhbGwgYWZ0ZXIgYmVpbmcgZW5kZWQgYnkgdGhlIFNGVScsXG4gICAgICAgIGVycixcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IENhbGxHcmFudHNVcGRhdGVkIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgT3duQ2FwYWJpbGl0eSB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgZm9yIGBjYWxsR3JhbnRzVXBkYXRlZGAgZXZlbnRzLlxuICpcbiAqIEBwYXJhbSBzdGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byB1cGRhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxHcmFudHNVcGRhdGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uQ2FsbEdyYW50c1VwZGF0ZWQoZXZlbnQ6IENhbGxHcmFudHNVcGRhdGVkKSB7XG4gICAgY29uc3QgeyBjdXJyZW50R3JhbnRzIH0gPSBldmVudDtcbiAgICBpZiAoY3VycmVudEdyYW50cykge1xuICAgICAgY29uc3QgeyBjYW5QdWJsaXNoQXVkaW8sIGNhblB1Ymxpc2hWaWRlbywgY2FuU2NyZWVuc2hhcmUgfSA9XG4gICAgICAgIGN1cnJlbnRHcmFudHM7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZTogUGFydGlhbDxSZWNvcmQ8T3duQ2FwYWJpbGl0eSwgYm9vbGVhbj4+ID0ge1xuICAgICAgICBbT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPXTogY2FuUHVibGlzaEF1ZGlvLFxuICAgICAgICBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXTogY2FuUHVibGlzaFZpZGVvLFxuICAgICAgICBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV06IGNhblNjcmVlbnNoYXJlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV4dENhcGFiaWxpdGllcyA9IHN0YXRlLm93bkNhcGFiaWxpdGllcy5maWx0ZXIoXG4gICAgICAgIChjYXBhYmlsaXR5KSA9PiB1cGRhdGVbY2FwYWJpbGl0eV0gIT09IGZhbHNlLFxuICAgICAgKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZSkuZm9yRWFjaCgoW2NhcGFiaWxpdHksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgIW5leHRDYXBhYmlsaXRpZXMuaW5jbHVkZXMoY2FwYWJpbGl0eSBhcyBPd25DYXBhYmlsaXR5KSkge1xuICAgICAgICAgIG5leHRDYXBhYmlsaXRpZXMucHVzaChjYXBhYmlsaXR5IGFzIE93bkNhcGFiaWxpdHkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKG5leHRDYXBhYmlsaXRpZXMpO1xuICAgIH1cbiAgfTtcbn07XG4iLCIvKipcbiAqIEFkZHMgdW5pcXVlIHZhbHVlcyB0byBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyIHRoZSBhcnJheSB0byBhZGQgdG8uXG4gKiBAcGFyYW0gdmFsdWVzIHRoZSB2YWx1ZXMgdG8gYWRkLlxuICovXG5leHBvcnQgY29uc3QgcHVzaFRvSWZNaXNzaW5nID0gPFQ+KGFycjogVFtdLCAuLi52YWx1ZXM6IFRbXSk6IFRbXSA9PiB7XG4gIGZvciAoY29uc3QgdiBvZiB2YWx1ZXMpIHtcbiAgICBpZiAoIWFyci5pbmNsdWRlcyh2KSkge1xuICAgICAgYXJyLnB1c2godik7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgdmFsdWVzIGZyb20gYW4gYXJyYXkgaWYgdGhleSBhcmUgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0gYXJyIHRoZSBhcnJheSB0byByZW1vdmUgZnJvbS5cbiAqIEBwYXJhbSB2YWx1ZXMgdGhlIHZhbHVlcyB0byByZW1vdmUuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVGcm9tSWZQcmVzZW50ID0gPFQ+KGFycjogVFtdLCAuLi52YWx1ZXM6IFRbXSk6IFRbXSA9PiB7XG4gIGZvciAoY29uc3QgdiBvZiB2YWx1ZXMpIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKHYpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyO1xufTtcbiIsImltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgcHVzaFRvSWZNaXNzaW5nLCByZW1vdmVGcm9tSWZQcmVzZW50IH0gZnJvbSAnLi4vaGVscGVycy9hcnJheSc7XG5pbXBvcnQgdHlwZSB7XG4gIEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbixcbiAgUGluc0NoYW5nZWQsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIEVycm9yQ29kZSxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNvbnN0IHdhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzIH0gPSBlO1xuICAgIGlmICghY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzKSByZXR1cm47XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oXG4gICAgICAgIChwYXRjaGVzLCB1cGRhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNlc3Npb25JZCwgY29ubmVjdGlvblF1YWxpdHkgfSA9IHVwZGF0ZTtcbiAgICAgICAgICBwYXRjaGVzW3Nlc3Npb25JZF0gPSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBwYXRjaGVzO1xuICAgICAgICB9LFxuICAgICAgICB7fSxcbiAgICAgICksXG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGFwcHJveGltYXRlIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwgYnkgcGVla2luZyBhdCB0aGVcbiAqIGhlYWx0aCBjaGVjayBldmVudHMgdGhhdCBvdXIgU0ZVIHNlbmRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignaGVhbHRoQ2hlY2tSZXNwb25zZScsIChlKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudENvdW50IH0gPSBlO1xuICAgIGlmIChwYXJ0aWNpcGFudENvdW50KSB7XG4gICAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQudG90YWwpO1xuICAgICAgc3RhdGUuc2V0QW5vbnltb3VzUGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50LmFub255bW91cyk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB3YXRjaExpdmVFbmRlZCA9IChkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgaWYgKGUuZXJyb3IgJiYgZS5lcnJvci5jb2RlICE9PSBFcnJvckNvZGUuTElWRV9FTkRFRCkgcmV0dXJuO1xuXG4gICAgY2FsbC5zdGF0ZS5zZXRCYWNrc3RhZ2UodHJ1ZSk7XG4gICAgaWYgKCFjYWxsLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuSk9JTl9CQUNLU1RBR0UpKSB7XG4gICAgICBjYWxsLmxlYXZlKHsgbWVzc2FnZTogJ2xpdmUgZW5kZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY2FsbC5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsIGFmdGVyIGxpdmUgZW5kZWQnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBhbmQgbG9ncyB0aGUgZXJyb3JzIHJlcG9ydGVkIGJ5IHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIFNGVS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoU2Z1RXJyb3JSZXBvcnRzID0gKGRpc3BhdGNoZXI6IERpc3BhdGNoZXIpID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICBpZiAoIWUuZXJyb3IpIHJldHVybjtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnQnXSk7XG4gICAgY29uc3QgeyBlcnJvciwgcmVjb25uZWN0U3RyYXRlZ3kgfSA9IGU7XG4gICAgbG9nZ2VyKCdlcnJvcicsICdTRlUgcmVwb3J0ZWQgZXJyb3InLCB7XG4gICAgICBjb2RlOiBFcnJvckNvZGVbZXJyb3IuY29kZV0sXG4gICAgICByZWNvbm5lY3RTdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbcmVjb25uZWN0U3RyYXRlZ3ldLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHNob3VsZFJldHJ5OiBlcnJvci5zaG91bGRSZXRyeSxcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBwaW5zVXBkYXRlZGAgZXZlbnRzIGFuZCB1cGRhdGVzIHRoZSBwaW5uZWQgc3RhdGUgb2YgcGFydGljaXBhbnRzXG4gKiBpbiB0aGUgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGluc1VwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QaW5zVXBkYXRlZChlOiBQaW5zQ2hhbmdlZCkge1xuICAgIGNvbnN0IHsgcGlucyB9ID0gZTtcbiAgICBzdGF0ZS5zZXRTZXJ2ZXJTaWRlUGlucyhwaW5zKTtcbiAgfTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgaW5ib3VuZCBzdGF0ZSBub3RpZmljYXRpb25zIGFuZCB1cGRhdGVzIHRoZSBwYXVzZWQgdHJhY2tzXG4gKlxuICogQHBhcmFtIHN0YXRlIHRoZSBjYWxsIHN0YXRlIHRvIHVwZGF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uKGU6IEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbikge1xuICAgIGNvbnN0IHsgaW5ib3VuZFZpZGVvU3RhdGVzIH0gPSBlO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBzdGF0ZS5nZXRQYXJ0aWNpcGFudExvb2t1cEJ5U2Vzc2lvbklkKCk7XG4gICAgY29uc3QgcGF0Y2hlczogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHsgc2Vzc2lvbklkLCB0cmFja1R5cGUsIHBhdXNlZCB9IG9mIGluYm91bmRWaWRlb1N0YXRlcykge1xuICAgICAgY29uc3QgcGF1c2VkVHJhY2tzID0gWy4uLihjdXJyZW50W3Nlc3Npb25JZF0/LnBhdXNlZFRyYWNrcyA/PyBbXSldO1xuICAgICAgaWYgKHBhdXNlZCkge1xuICAgICAgICBwdXNoVG9JZk1pc3NpbmcocGF1c2VkVHJhY2tzLCB0cmFja1R5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJvbUlmUHJlc2VudChwYXVzZWRUcmFja3MsIHRyYWNrVHlwZSk7XG4gICAgICB9XG4gICAgICBwYXRjaGVzW3Nlc3Npb25JZF0gPSB7IHBhdXNlZFRyYWNrcyB9O1xuICAgIH1cbiAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudHMocGF0Y2hlcyk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHtcbiAgVHJhY2tUeXBlLFxuICBUcmFja1VucHVibGlzaFJlYXNvbixcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBBbiBldmVudCBoYW5kbGVyIHRoYXQgaGFuZGxlcyBzb2Z0IG11dGVzLlxuICpcbiAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsLlxuICovXG5leHBvcnQgY29uc3QgaGFuZGxlUmVtb3RlU29mdE11dGUgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gY2FsbC5vbigndHJhY2tVbnB1Ymxpc2hlZCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHsgY2F1c2UsIHR5cGUsIHNlc3Npb25JZCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBsb2NhbFBhcnRpY2lwYW50IH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChcbiAgICAgIGNhdXNlID09PSBUcmFja1VucHVibGlzaFJlYXNvbi5NT0RFUkFUSU9OICYmXG4gICAgICBzZXNzaW9uSWQgPT09IGxvY2FsUGFydGljaXBhbnQ/LnNlc3Npb25JZFxuICAgICkge1xuICAgICAgY29uc3QgbG9nZ2VyID0gY2FsbC5sb2dnZXI7XG4gICAgICBsb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgYExvY2FsIHBhcnRpY2lwYW50J3MgJHtUcmFja1R5cGVbdHlwZV19IHRyYWNrIGlzIG11dGVkIHJlbW90ZWx5YCxcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPKSB7XG4gICAgICAgICAgYXdhaXQgY2FsbC5jYW1lcmEuZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFRyYWNrVHlwZS5BVURJTykge1xuICAgICAgICAgIGF3YWl0IGNhbGwubWljcm9waG9uZS5kaXNhYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSB8fFxuICAgICAgICAgIHR5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU9cbiAgICAgICAgKSB7XG4gICAgICAgICAgYXdhaXQgY2FsbC5zY3JlZW5TaGFyZS5kaXNhYmxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgJ1Vuc3VwcG9ydGVkIHRyYWNrIHR5cGUgdG8gc29mdCBtdXRlJyxcbiAgICAgICAgICAgIFRyYWNrVHlwZVt0eXBlXSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBzdG9wIHB1Ymxpc2hpbmcnLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIFBhcnRpY2lwYW50Sm9pbmVkLFxuICBQYXJ0aWNpcGFudExlZnQsXG4gIFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgVHJhY2tQdWJsaXNoZWQsXG4gIFRyYWNrVW5wdWJsaXNoZWQsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgUGFydGljaXBhbnQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgcHVzaFRvSWZNaXNzaW5nIH0gZnJvbSAnLi4vaGVscGVycy9hcnJheSc7XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudEpvaW5lZGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50Sm9pbmVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uUGFydGljaXBhbnRKb2luZWQoZTogUGFydGljaXBhbnRKb2luZWQpIHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSBlO1xuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVybjtcbiAgICAvLyBgc3RhdGUudXBkYXRlT3JBZGRQYXJ0aWNpcGFudGAgYWN0cyBhcyBhIHNhZmVndWFyZCBhZ2FpbnN0XG4gICAgLy8gcG90ZW50aWFsIGR1cGxpY2F0ZSBldmVudHMgZnJvbSB0aGUgU0ZVLlxuICAgIC8vXG4gICAgLy8gQWx0aG91Z2ggdGhlIFNGVSBzaG91bGQgbm90IHNlbmQgZHVwbGljYXRlIGV2ZW50cywgd2UgaGF2ZSBzZWVuXG4gICAgLy8gc29tZSByYWNlIGNvbmRpdGlvbnMgaW4gdGhlIHBhc3QgZHVyaW5nIHRoZSBgam9pbi1mbG93YC5cbiAgICAvLyBUaGUgU0ZVIHdvdWxkIHNlbmQgcGFydGljaXBhbnQgaW5mbyBhcyBwYXJ0IG9mIHRoZSBgam9pbmBcbiAgICAvLyByZXNwb25zZSBhbmQgdGhlbiBmb2xsb3cgdXAgd2l0aCBhIGBwYXJ0aWNpcGFudEpvaW5lZGAgZXZlbnQgZm9yXG4gICAgLy8gYWxyZWFkeSBhbm5vdW5jZWQgcGFydGljaXBhbnRzLlxuICAgIGNvbnN0IG9ycGhhbmVkVHJhY2tzID0gcmVjb25jaWxlT3JwaGFuZWRUcmFja3Moc3RhdGUsIHBhcnRpY2lwYW50KTtcbiAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KFxuICAgICAgcGFydGljaXBhbnQuc2Vzc2lvbklkLFxuICAgICAgT2JqZWN0LmFzc2lnbjxcbiAgICAgICAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgICAgICAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoIHwgdW5kZWZpbmVkLFxuICAgICAgICBQYXJ0aWFsPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+XG4gICAgICA+KHBhcnRpY2lwYW50LCBvcnBoYW5lZFRyYWNrcywge1xuICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudExlZnRgIGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudExlZnQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudExlZnQoZTogUGFydGljaXBhbnRMZWZ0KSB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm47XG5cbiAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+IHAuc2Vzc2lvbklkICE9PSBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpLFxuICAgICk7XG4gIH07XG59O1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgcGFydGljaXBhbnRVcGRhdGVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRVcGRhdGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uUGFydGljaXBhbnRVcGRhdGVkKGU6IFBhcnRpY2lwYW50VXBkYXRlZCkge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuO1xuICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50LnNlc3Npb25JZCwgcGFydGljaXBhbnQpO1xuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHRyYWNrUHVibGlzaGVkYCBldmVudC5cbiAqIFRoZSBTRlUgd2lsbCBzZW5kIHRoaXMgZXZlbnQgd2hlbiBhIHBhcnRpY2lwYW50IHB1Ymxpc2hlcyBhIHRyYWNrLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hUcmFja1B1Ymxpc2hlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblRyYWNrUHVibGlzaGVkKGU6IFRyYWNrUHVibGlzaGVkKSB7XG4gICAgY29uc3QgeyB0eXBlLCBzZXNzaW9uSWQgfSA9IGU7XG4gICAgLy8gQW4gb3B0aW1pemF0aW9uIGZvciBsYXJnZSBjYWxscy5cbiAgICAvLyBBZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkLCB0aGUgU0ZVIHdvdWxkIHN0b3AgZW1pdHRpbmcgYHBhcnRpY2lwYW50Sm9pbmVkYFxuICAgIC8vIGV2ZW50cywgYW5kIGluc3RlYWQsIGl0IHdvdWxkIG9ubHkgcHJvdmlkZSB0aGUgcGFydGljaXBhbnQncyBpbmZvcm1hdGlvblxuICAgIC8vIG9uY2UgdGhleSBzdGFydCBwdWJsaXNoaW5nIGEgdHJhY2suXG4gICAgaWYgKGUucGFydGljaXBhbnQpIHtcbiAgICAgIGNvbnN0IG9ycGhhbmVkVHJhY2tzID0gcmVjb25jaWxlT3JwaGFuZWRUcmFja3Moc3RhdGUsIGUucGFydGljaXBhbnQpO1xuICAgICAgY29uc3QgcGFydGljaXBhbnQgPSBPYmplY3QuYXNzaWduKGUucGFydGljaXBhbnQsIG9ycGhhbmVkVHJhY2tzKTtcbiAgICAgIHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnQoc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHApID0+ICh7XG4gICAgICAgIHB1Ymxpc2hlZFRyYWNrczogcHVzaFRvSWZNaXNzaW5nKFsuLi5wLnB1Ymxpc2hlZFRyYWNrc10sIHR5cGUpLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGB0cmFja1VucHVibGlzaGVkYCBldmVudC5cbiAqIFRoZSBTRlUgd2lsbCBzZW5kIHRoaXMgZXZlbnQgd2hlbiBhIHBhcnRpY2lwYW50IHVucHVibGlzaGVzIGEgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFRyYWNrVW5wdWJsaXNoZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25UcmFja1VucHVibGlzaGVkKGU6IFRyYWNrVW5wdWJsaXNoZWQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNlc3Npb25JZCB9ID0gZTtcbiAgICAvLyBBbiBvcHRpbWl6YXRpb24gZm9yIGxhcmdlIGNhbGxzLiBTZWUgYHdhdGNoVHJhY2tQdWJsaXNoZWRgLlxuICAgIGlmIChlLnBhcnRpY2lwYW50KSB7XG4gICAgICBjb25zdCBvcnBoYW5lZFRyYWNrcyA9IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzKHN0YXRlLCBlLnBhcnRpY2lwYW50KTtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gT2JqZWN0LmFzc2lnbihlLnBhcnRpY2lwYW50LCBvcnBoYW5lZFRyYWNrcyk7XG4gICAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KHNlc3Npb25JZCwgcGFydGljaXBhbnQsIChwKSA9PiAoe1xuICAgICAgICBwYXVzZWRUcmFja3M6IHAucGF1c2VkVHJhY2tzPy5maWx0ZXIoKHQpID0+IHQgIT09IHR5cGUpLFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IHAucHVibGlzaGVkVHJhY2tzLmZpbHRlcigodCkgPT4gdCAhPT0gdHlwZSksXG4gICAgICAgIHBhdXNlZFRyYWNrczogcC5wYXVzZWRUcmFja3M/LmZpbHRlcigodCkgPT4gdCAhPT0gdHlwZSksXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBSZWNvbmNpbGVzIG9ycGhhbmVkIHRyYWNrcyAoaWYgYW55KSBmb3IgdGhlIGdpdmVuIHBhcnRpY2lwYW50LlxuICpcbiAqIEBwYXJhbSBzdGF0ZSB0aGUgY2FsbCBzdGF0ZS5cbiAqIEBwYXJhbSBwYXJ0aWNpcGFudCB0aGUgcGFydGljaXBhbnQuXG4gKi9cbmNvbnN0IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzID0gKFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuICBwYXJ0aWNpcGFudDogUGFydGljaXBhbnQsXG4pOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBvcnBoYW5UcmFja3MgPSBzdGF0ZS50YWtlT3JwaGFuZWRUcmFja3MocGFydGljaXBhbnQudHJhY2tMb29rdXBQcmVmaXgpO1xuICBpZiAoIW9ycGhhblRyYWNrcy5sZW5ndGgpIHJldHVybjtcbiAgY29uc3QgcmVjb25jaWxlZFRyYWNrczogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoID0ge307XG4gIGZvciAoY29uc3Qgb3JwaGFuIG9mIG9ycGhhblRyYWNrcykge1xuICAgIGNvbnN0IGtleSA9IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkob3JwaGFuLnRyYWNrVHlwZSk7XG4gICAgaWYgKCFrZXkpIGNvbnRpbnVlO1xuICAgIHJlY29uY2lsZWRUcmFja3Nba2V5XSA9IG9ycGhhbi50cmFjaztcbiAgfVxuICByZXR1cm4gcmVjb25jaWxlZFRyYWNrcztcbn07XG4iLCJpbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBkb21pbmFudFNwZWFrZXJDaGFuZ2VkYCBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBlO1xuICAgIGlmIChzZXNzaW9uSWQgPT09IHN0YXRlLmRvbWluYW50U3BlYWtlcj8uc2Vzc2lvbklkKSByZXR1cm47XG4gICAgc3RhdGUuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+XG4gICAgICBwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICAvLyBtYXJrIHRoZSBuZXcgZG9taW5hbnQgc3BlYWtlclxuICAgICAgICBpZiAocGFydGljaXBhbnQuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBpc0RvbWluYW50U3BlYWtlcjogdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHVubWFyayB0aGUgb2xkIGRvbWluYW50IHNwZWFrZXJcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50LmlzRG9taW5hbnRTcGVha2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgaXNEb21pbmFudFNwZWFrZXI6IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50OyAvLyBubyBjaGFuZ2VcbiAgICAgIH0pLFxuICAgICk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGZvciBgYXVkaW9MZXZlbENoYW5nZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQXVkaW9MZXZlbENoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2F1ZGlvTGV2ZWxDaGFuZ2VkJywgKGUpID0+IHtcbiAgICBjb25zdCB7IGF1ZGlvTGV2ZWxzIH0gPSBlO1xuICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50cyhcbiAgICAgIGF1ZGlvTGV2ZWxzLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oKHBhdGNoZXMsIGN1cnJlbnQpID0+IHtcbiAgICAgICAgcGF0Y2hlc1tjdXJyZW50LnNlc3Npb25JZF0gPSB7XG4gICAgICAgICAgYXVkaW9MZXZlbDogY3VycmVudC5sZXZlbCxcbiAgICAgICAgICBpc1NwZWFraW5nOiBjdXJyZW50LmlzU3BlYWtpbmcsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwYXRjaGVzO1xuICAgICAgfSwge30pLFxuICAgICk7XG4gIH0pO1xufTtcbiIsImltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHtcbiAgaGFuZGxlUmVtb3RlU29mdE11dGUsXG4gIHdhdGNoQXVkaW9MZXZlbENoYW5nZWQsXG4gIHdhdGNoQ2FsbEFjY2VwdGVkLFxuICB3YXRjaENhbGxFbmRlZCxcbiAgd2F0Y2hDYWxsR3JhbnRzVXBkYXRlZCxcbiAgd2F0Y2hDYWxsUmVqZWN0ZWQsXG4gIHdhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLFxuICB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQsXG4gIHdhdGNoSW5ib3VuZFN0YXRlTm90aWZpY2F0aW9uLFxuICB3YXRjaExpdmVFbmRlZCxcbiAgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZCxcbiAgd2F0Y2hQYXJ0aWNpcGFudEpvaW5lZCxcbiAgd2F0Y2hQYXJ0aWNpcGFudExlZnQsXG4gIHdhdGNoUGFydGljaXBhbnRVcGRhdGVkLFxuICB3YXRjaFBpbnNVcGRhdGVkLFxuICB3YXRjaFNmdUNhbGxFbmRlZCxcbiAgd2F0Y2hTZnVFcnJvclJlcG9ydHMsXG4gIHdhdGNoVHJhY2tQdWJsaXNoZWQsXG4gIHdhdGNoVHJhY2tVbnB1Ymxpc2hlZCxcbn0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7XG4gIEFsbENhbGxFdmVudHMsXG4gIEFsbENsaWVudENhbGxFdmVudHMsXG4gIENhbGxFdmVudExpc3RlbmVyLFxufSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcblxudHlwZSBSaW5nQ2FsbEV2ZW50cyA9IEV4dHJhY3Q8XG4gIEFsbENsaWVudENhbGxFdmVudHMsXG4gICdjYWxsLmFjY2VwdGVkJyB8ICdjYWxsLnJlamVjdGVkJyB8ICdjYWxsLm1pc3NlZCdcbj47XG5cbi8qKlxuICogUmVnaXN0ZXJzIHRoZSBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzIGZvciBhIGNhbGwgZHVyaW5nIGl0cyBsaWZlY3ljbGUuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgZm9yLlxuICogQHBhcmFtIGRpc3BhdGNoZXIgdGhlIGRpc3BhdGNoZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlckV2ZW50SGFuZGxlcnMgPSAoY2FsbDogQ2FsbCwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcikgPT4ge1xuICBjb25zdCBzdGF0ZSA9IGNhbGwuc3RhdGU7XG4gIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSBbXG4gICAgY2FsbC5vbignY2FsbC5lbmRlZCcsIHdhdGNoQ2FsbEVuZGVkKGNhbGwpKSxcbiAgICB3YXRjaFNmdUNhbGxFbmRlZChjYWxsKSxcblxuICAgIHdhdGNoTGl2ZUVuZGVkKGRpc3BhdGNoZXIsIGNhbGwpLFxuICAgIHdhdGNoU2Z1RXJyb3JSZXBvcnRzKGRpc3BhdGNoZXIpLFxuICAgIHdhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcbiAgICB3YXRjaFBhcnRpY2lwYW50Q291bnRDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcblxuICAgIGNhbGwub24oJ3BhcnRpY2lwYW50Sm9pbmVkJywgd2F0Y2hQYXJ0aWNpcGFudEpvaW5lZChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3BhcnRpY2lwYW50TGVmdCcsIHdhdGNoUGFydGljaXBhbnRMZWZ0KHN0YXRlKSksXG4gICAgY2FsbC5vbigncGFydGljaXBhbnRVcGRhdGVkJywgd2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQoc3RhdGUpKSxcblxuICAgIGNhbGwub24oJ3RyYWNrUHVibGlzaGVkJywgd2F0Y2hUcmFja1B1Ymxpc2hlZChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3RyYWNrVW5wdWJsaXNoZWQnLCB3YXRjaFRyYWNrVW5wdWJsaXNoZWQoc3RhdGUpKSxcblxuICAgIHdhdGNoQXVkaW9MZXZlbENoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuICAgIHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG5cbiAgICBjYWxsLm9uKCdjYWxsR3JhbnRzVXBkYXRlZCcsIHdhdGNoQ2FsbEdyYW50c1VwZGF0ZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdwaW5zVXBkYXRlZCcsIHdhdGNoUGluc1VwZGF0ZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdpbmJvdW5kU3RhdGVOb3RpZmljYXRpb24nLCB3YXRjaEluYm91bmRTdGF0ZU5vdGlmaWNhdGlvbihzdGF0ZSkpLFxuXG4gICAgaGFuZGxlUmVtb3RlU29mdE11dGUoY2FsbCksXG4gIF07XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGV2ZW50IGhhbmRsZXJzIGZvciBhIGNhbGwgdGhhdCBpcyBvZiByaW5naW5nIHR5cGUuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgZm9yLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICBjb25zdCBjb29yZGluYXRvclJpbmdFdmVudHM6IHtcbiAgICBba2V5IGluIFJpbmdDYWxsRXZlbnRzXTogKFxuICAgICAgY2FsbDogQ2FsbCxcbiAgICApID0+IENhbGxFdmVudExpc3RlbmVyPEFsbENhbGxFdmVudHNba2V5XT47XG4gIH0gPSB7XG4gICAgJ2NhbGwuYWNjZXB0ZWQnOiB3YXRjaENhbGxBY2NlcHRlZChjYWxsKSxcbiAgICAnY2FsbC5yZWplY3RlZCc6IHdhdGNoQ2FsbFJlamVjdGVkKGNhbGwpLFxuICB9O1xuXG4gIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSBPYmplY3Qua2V5cyhjb29yZGluYXRvclJpbmdFdmVudHMpLm1hcCgoZXZlbnQpID0+IHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBldmVudCBhcyBSaW5nQ2FsbEV2ZW50cztcbiAgICByZXR1cm4gY2FsbC5vbihldmVudE5hbWUsIGNvb3JkaW5hdG9yUmluZ0V2ZW50c1tldmVudE5hbWVdKTtcbiAgfSk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfTtcbn07XG4iLCJjb25zdCBERUZBVUxUX1RIUkVTSE9MRCA9IDAuMzU7XG5cbmV4cG9ydCB0eXBlIEVudHJ5SGFuZGxlciA9IChlbnRyeTogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSkgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgVW5vYnNlcnZlID0gKCkgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgT2JzZXJ2ZSA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIGVudHJ5SGFuZGxlcjogRW50cnlIYW5kbGVyLFxuKSA9PiBVbm9ic2VydmU7XG5cbmV4cG9ydCBjbGFzcyBWaWV3cG9ydFRyYWNrZXIge1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgZWxlbWVudEhhbmRsZXJNYXA6IE1hcDxcbiAgICBIVE1MRWxlbWVudCxcbiAgICAoZW50cnk6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkpID0+IHZvaWRcbiAgPiA9IG5ldyBNYXAoKTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIG9ic2VydmVyOiBJbnRlcnNlY3Rpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xuICAvLyBpbiBSZWFjdCBjaGlsZHJlbiByZW5kZXIgYmVmb3JlIHZpZXdwb3J0IGlzIHNldCwgYWRkXG4gIC8vIHRoZW0gdG8gdGhlIHF1ZXVlIGFuZCBvYnNlcnZlIHRoZW0gb25jZSB0aGUgb2JzZXJ2ZXIgaXMgcmVhZHlcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHF1ZXVlU2V0OiBTZXQ8cmVhZG9ubHkgW0hUTUxFbGVtZW50LCBFbnRyeUhhbmRsZXJdPiA9IG5ldyBTZXQoKTtcblxuICAvKipcbiAgICogTWV0aG9kIHRvIHNldCBzY3JvbGxhYmxlIHZpZXdwb3J0IGFzIHJvb3QgZm9yIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlciwgcmV0dXJuc1xuICAgKiBjbGVhbnVwIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgdXBvbiBkaXNwb3Npbmcgb2YgdGhlIERPTSBlbGVtZW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAqXG4gICAqIEBwYXJhbSB2aWV3cG9ydEVsZW1lbnRcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHJldHVybnMgVW5vYnNlcnZlXG4gICAqL1xuICBwdWJsaWMgc2V0Vmlld3BvcnQgPSAoXG4gICAgdmlld3BvcnRFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBvcHRpb25zPzogUGljazxJbnRlcnNlY3Rpb25PYnNlcnZlckluaXQsICd0aHJlc2hvbGQnIHwgJ3Jvb3RNYXJnaW4nPixcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5jbGVhcigpO1xuICAgIH07XG5cbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmdldChcbiAgICAgICAgICAgIGVudHJ5LnRhcmdldCBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGhhbmRsZXI/LihlbnRyeSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9vdDogdmlld3BvcnRFbGVtZW50LFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB0aHJlc2hvbGQ6IG9wdGlvbnM/LnRocmVzaG9sZCA/PyBERUZBVUxUX1RIUkVTSE9MRCxcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnF1ZXVlU2V0LnNpemUpIHtcbiAgICAgIHRoaXMucXVldWVTZXQuZm9yRWFjaCgoW3F1ZXVlRWxlbWVudCwgcXVldWVIYW5kbGVyXSkgPT4ge1xuICAgICAgICAvLyBjaGVjayBpZiBlbGVtZW50IHdoaWNoIHJlcXVlc3RlZCBvYnNlcnZhdGlvbiBpc1xuICAgICAgICAvLyBhIGNoaWxkIG9mIGEgdmlld3BvcnQgZWxlbWVudCwgc2tpcCBpZiBpc24ndFxuICAgICAgICBpZiAoIXZpZXdwb3J0RWxlbWVudC5jb250YWlucyhxdWV1ZUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlciEub2JzZXJ2ZShxdWV1ZUVsZW1lbnQpO1xuICAgICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLnNldChxdWV1ZUVsZW1lbnQsIHF1ZXVlSGFuZGxlcik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucXVldWVTZXQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW51cDtcbiAgfTtcblxuICAvKipcbiAgICogTWV0aG9kIHRvIHNldCBlbGVtZW50IHRvIG9ic2VydmUgYW5kIGhhbmRsZXIgdG8gYmUgdHJpZ2dlcmVkIHdoZW5ldmVyIEludGVyc2VjdGlvbk9ic2VydmVyXG4gICAqIGRldGVjdHMgYSBwb3NzaWJsZSBjaGFuZ2UgaW4gZWxlbWVudCdzIHZpc2liaWxpdHkgd2l0aGluIHNwZWNpZmllZCB2aWV3cG9ydCwgcmV0dXJuc1xuICAgKiBjbGVhbnVwIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgdXBvbiBkaXNwb3Npbmcgb2YgdGhlIERPTSBlbGVtZW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEBwYXJhbSBoYW5kbGVyXG4gICAqIEByZXR1cm5zIFVub2JzZXJ2ZVxuICAgKi9cbiAgcHVibGljIG9ic2VydmU6IE9ic2VydmUgPSAoZWxlbWVudCwgaGFuZGxlcikgPT4ge1xuICAgIGNvbnN0IHF1ZXVlSXRlbSA9IFtlbGVtZW50LCBoYW5kbGVyXSBhcyBjb25zdDtcblxuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgIHRoaXMub2JzZXJ2ZXI/LnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgIHRoaXMucXVldWVTZXQuZGVsZXRlKHF1ZXVlSXRlbSk7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmhhcyhlbGVtZW50KSkgcmV0dXJuIGNsZWFudXA7XG5cbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMucXVldWVTZXQuYWRkKHF1ZXVlSXRlbSk7XG4gICAgICByZXR1cm4gY2xlYW51cDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vYnNlcnZlci5yb290IS5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5zZXQoZWxlbWVudCwgaGFuZGxlcik7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFudXA7XG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBBdWRpb1RyYWNrVHlwZSxcbiAgRGVib3VuY2VUeXBlLFxuICBWaWRlb1RyYWNrVHlwZSxcbiAgVmlzaWJpbGl0eVN0YXRlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUcmFja1R5cGUsIFZpZGVvRGltZW5zaW9uIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgY29tYmluZUxhdGVzdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLFxuICBtYXAsXG4gIHNoYXJlUmVwbGF5LFxuICB0YWtlV2hpbGUsXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVmlld3BvcnRUcmFja2VyIH0gZnJvbSAnLi9WaWV3cG9ydFRyYWNrZXInO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IGlzRmlyZWZveCwgaXNTYWZhcmkgfSBmcm9tICcuL2Jyb3dzZXJzJztcbmltcG9ydCB7XG4gIGhhc1NjcmVlblNoYXJlLFxuICBoYXNTY3JlZW5TaGFyZUF1ZGlvLFxuICBoYXNWaWRlbyxcbn0gZnJvbSAnLi9wYXJ0aWNpcGFudFV0aWxzJztcbmltcG9ydCB0eXBlIHsgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7IFNwZWFrZXJNYW5hZ2VyIH0gZnJvbSAnLi4vZGV2aWNlcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VmFsdWUsIHNldEN1cnJlbnRWYWx1ZSB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuXG5jb25zdCBERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEU6IFJlY29yZDxcbiAgVmlkZW9UcmFja1R5cGUsXG4gIFZpc2liaWxpdHlTdGF0ZVxuPiA9IHtcbiAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxufSBhcyBjb25zdDtcblxudHlwZSBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGUgPVxuICB8IHtcbiAgICAgIGVuYWJsZWQ6IHRydWU7XG4gICAgICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uO1xuICAgIH1cbiAgfCB7IGVuYWJsZWQ6IGZhbHNlIH07XG5cbmNvbnN0IGdsb2JhbE92ZXJyaWRlS2V5ID0gU3ltYm9sKCdnbG9iYWxPdmVycmlkZUtleScpO1xuXG5pbnRlcmZhY2UgVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyB7XG4gIFtzZXNzaW9uSWQ6IHN0cmluZ106IFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZSB8IHVuZGVmaW5lZDtcbiAgW2dsb2JhbE92ZXJyaWRlS2V5XT86IFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZTtcbn1cblxuLyoqXG4gKiBBIG1hbmFnZXIgY2xhc3MgdGhhdCBoYW5kbGVzIGR5bmFzY2FsZSByZWxhdGVkIHRhc2tzIGxpa2U6XG4gKlxuICogLSBiaW5kaW5nIHZpZGVvIGVsZW1lbnRzIHRvIHNlc3Npb24gaWRzXG4gKiAtIGJpbmRpbmcgYXVkaW8gZWxlbWVudHMgdG8gc2Vzc2lvbiBpZHNcbiAqIC0gdHJhY2tpbmcgZWxlbWVudCB2aXNpYmlsaXR5XG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdmlld3BvcnQgdmlzaWJpbGl0eVxuICogLSB1cGRhdGluZyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICogLSB1cGRhdGluZyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHB1Ymxpc2hlZCB0cmFja3NcbiAqL1xuZXhwb3J0IGNsYXNzIER5bmFzY2FsZU1hbmFnZXIge1xuICAvKipcbiAgICogVGhlIHZpZXdwb3J0IHRyYWNrZXIgaW5zdGFuY2UuXG4gICAqL1xuICByZWFkb25seSB2aWV3cG9ydFRyYWNrZXIgPSBuZXcgVmlld3BvcnRUcmFja2VyKCk7XG5cbiAgcHJpdmF0ZSBsb2dnZXIgPSBnZXRMb2dnZXIoWydEeW5hc2NhbGVNYW5hZ2VyJ10pO1xuICBwcml2YXRlIGNhbGxTdGF0ZTogQ2FsbFN0YXRlO1xuICBwcml2YXRlIHNwZWFrZXI6IFNwZWFrZXJNYW5hZ2VyO1xuICBwcml2YXRlIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgdmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QgPVxuICAgIG5ldyBCZWhhdmlvclN1YmplY3Q8VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcz4oe30pO1xuXG4gIHZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkID1cbiAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIGluY29taW5nVmlkZW9TZXR0aW5ncyQgPSB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkLnBpcGUoXG4gICAgbWFwKChvdmVycmlkZXMpID0+IHtcbiAgICAgIGNvbnN0IHsgW2dsb2JhbE92ZXJyaWRlS2V5XTogZ2xvYmFsU2V0dGluZ3MsIC4uLnBhcnRpY2lwYW50cyB9ID1cbiAgICAgICAgb3ZlcnJpZGVzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZ2xvYmFsU2V0dGluZ3M/LmVuYWJsZWQgIT09IGZhbHNlLFxuICAgICAgICBwcmVmZXJyZWRSZXNvbHV0aW9uOiBnbG9iYWxTZXR0aW5ncz8uZW5hYmxlZFxuICAgICAgICAgID8gZ2xvYmFsU2V0dGluZ3MuZGltZW5zaW9uXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIHBhcnRpY2lwYW50czogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHBhcnRpY2lwYW50cykubWFwKFxuICAgICAgICAgICAgKFtzZXNzaW9uSWQsIHBhcnRpY2lwYW50T3ZlcnJpZGVdKSA9PiBbXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHBhcnRpY2lwYW50T3ZlcnJpZGU/LmVuYWJsZWQgIT09IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZWZlcnJlZFJlc29sdXRpb246IHBhcnRpY2lwYW50T3ZlcnJpZGU/LmVuYWJsZWRcbiAgICAgICAgICAgICAgICAgID8gcGFydGljaXBhbnRPdmVycmlkZS5kaW1lbnNpb25cbiAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICApLFxuICAgICAgICApLFxuICAgICAgICBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+XG4gICAgICAgICAgb3ZlcnJpZGVzW3Nlc3Npb25JZF0/LmVuYWJsZWQgPz9cbiAgICAgICAgICBvdmVycmlkZXNbZ2xvYmFsT3ZlcnJpZGVLZXldPy5lbmFibGVkID8/XG4gICAgICAgICAgdHJ1ZSxcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2hhcmVSZXBsYXkoMSksXG4gICk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgRHluYXNjYWxlTWFuYWdlciBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbGxTdGF0ZTogQ2FsbFN0YXRlLCBzcGVha2VyOiBTcGVha2VyTWFuYWdlcikge1xuICAgIHRoaXMuY2FsbFN0YXRlID0gY2FsbFN0YXRlO1xuICAgIHRoaXMuc3BlYWtlciA9IHNwZWFrZXI7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIGFsbG9jYXRlZCByZXNvdXJjZXMgYW5kIGNsb3NlcyB0aGUgYXVkaW8gY29udGV4dCBpZiBpdCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGRpc3Bvc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlKTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuZ2V0T3JDcmVhdGVBdWRpb0NvbnRleHQoKTtcbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlc3VtZUF1ZGlvQ29udGV4dCk7XG4gICAgICBhd2FpdCBjb250ZXh0LmNsb3NlKCk7XG4gICAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgc2V0U2Z1Q2xpZW50KHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50IHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gIH1cblxuICBnZXQgdHJhY2tTdWJzY3JpcHRpb25zKCkge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdID0gW107XG4gICAgZm9yIChjb25zdCBwIG9mIHRoaXMuY2FsbFN0YXRlLnJlbW90ZVBhcnRpY2lwYW50cykge1xuICAgICAgLy8gTk9URTogYXVkaW8gdHJhY2tzIGRvbid0IGhhdmUgdG8gYmUgcmVxdWVzdGVkIGV4cGxpY2l0bHlcbiAgICAgIC8vIGFzIHRoZSBTRlUgd2lsbCBpbXBsaWNpdGx5IHN1YnNjcmliZSB1cyB0byBhbGwgb2YgdGhlbSxcbiAgICAgIC8vIG9uY2UgdGhleSBiZWNvbWUgYXZhaWxhYmxlLlxuICAgICAgaWYgKHAudmlkZW9EaW1lbnNpb24gJiYgaGFzVmlkZW8ocCkpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGUgPVxuICAgICAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1twLnNlc3Npb25JZF0gPz9cbiAgICAgICAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNbZ2xvYmFsT3ZlcnJpZGVLZXldO1xuXG4gICAgICAgIGlmIChvdmVycmlkZT8uZW5hYmxlZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdXNlcklkOiBwLnVzZXJJZCxcbiAgICAgICAgICAgIHNlc3Npb25JZDogcC5zZXNzaW9uSWQsXG4gICAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogb3ZlcnJpZGU/LmRpbWVuc2lvbiA/PyBwLnZpZGVvRGltZW5zaW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocC5zY3JlZW5TaGFyZURpbWVuc2lvbiAmJiBoYXNTY3JlZW5TaGFyZShwKSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgIHVzZXJJZDogcC51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgICAgICAgZGltZW5zaW9uOiBwLnNjcmVlblNoYXJlRGltZW5zaW9uLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNTY3JlZW5TaGFyZUF1ZGlvKHApKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCh7XG4gICAgICAgICAgdXNlcklkOiBwLnVzZXJJZCxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHAuc2Vzc2lvbklkLFxuICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdWJzY3JpcHRpb25zO1xuICB9XG5cbiAgZ2V0IHZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoKSB7XG4gICAgcmV0dXJuIGdldEN1cnJlbnRWYWx1ZSh0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkKTtcbiAgfVxuXG4gIHNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMgPSAoXG4gICAgb3ZlcnJpZGU6IFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZSB8IHVuZGVmaW5lZCxcbiAgICBzZXNzaW9uSWRzPzogc3RyaW5nW10sXG4gICkgPT4ge1xuICAgIGlmICghc2Vzc2lvbklkcykge1xuICAgICAgcmV0dXJuIHNldEN1cnJlbnRWYWx1ZShcbiAgICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCxcbiAgICAgICAgb3ZlcnJpZGUgPyB7IFtnbG9iYWxPdmVycmlkZUtleV06IG92ZXJyaWRlIH0gOiB7fSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldEN1cnJlbnRWYWx1ZShcbiAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QsXG4gICAgICAob3ZlcnJpZGVzKSA9PiAoe1xuICAgICAgICAuLi5vdmVycmlkZXMsXG4gICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhzZXNzaW9uSWRzLm1hcCgoaWQpID0+IFtpZCwgb3ZlcnJpZGVdKSksXG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIGFwcGx5VHJhY2tTdWJzY3JpcHRpb25zID0gKFxuICAgIGRlYm91bmNlVHlwZTogRGVib3VuY2VUeXBlID0gRGVib3VuY2VUeXBlLlNMT1csXG4gICkgPT4ge1xuICAgIGlmICh0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlU3Vic2NyaXB0aW9ucyA9ICgpID0+IHtcbiAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUgPSBudWxsO1xuICAgICAgdGhpcy5zZnVDbGllbnRcbiAgICAgICAgPy51cGRhdGVTdWJzY3JpcHRpb25zKHRoaXMudHJhY2tTdWJzY3JpcHRpb25zKVxuICAgICAgICAuY2F0Y2goKGVycjogdW5rbm93bikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBGYWlsZWQgdG8gdXBkYXRlIHRyYWNrIHN1YnNjcmlwdGlvbnNgLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKGRlYm91bmNlVHlwZSkge1xuICAgICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSA9IHNldFRpbWVvdXQoXG4gICAgICAgIHVwZGF0ZVN1YnNjcmlwdGlvbnMsXG4gICAgICAgIGRlYm91bmNlVHlwZSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgYmVnaW4gdHJhY2tpbmcgdGhlIGdpdmVuIGVsZW1lbnQgZm9yIHZpc2liaWxpdHkgY2hhbmdlcyB3aXRoaW4gdGhlXG4gICAqIGNvbmZpZ3VyZWQgdmlld3BvcnQgZWxlbWVudCAoYGNhbGwuc2V0Vmlld3BvcnRgKS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gdHJhY2suXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqIEByZXR1cm5zIFVudHJhY2suXG4gICAqL1xuICB0cmFja0VsZW1lbnRWaXNpYmlsaXR5ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gICAgZWxlbWVudDogVCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBjbGVhbnVwID0gdGhpcy52aWV3cG9ydFRyYWNrZXIub2JzZXJ2ZShlbGVtZW50LCAoZW50cnkpID0+IHtcbiAgICAgIHRoaXMuY2FsbFN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICBwYXJ0aWNpcGFudC52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/P1xuICAgICAgICAgIERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTtcblxuICAgICAgICAvLyBvYnNlcnZlciB0cmlnZ2VycyB3aGVuIHRoZSBlbGVtZW50IGlzIFwibW92ZWRcIiB0byBiZSBhIGZ1bGxzY3JlZW4gZWxlbWVudFxuICAgICAgICAvLyBrZWVwIGl0IFZJU0lCTEUgaWYgdGhhdCBoYXBwZW5zIHRvIHByZXZlbnQgZnVsbHNjcmVlbiB3aXRoIHBsYWNlaG9sZGVyXG4gICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgfHwgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnRcbiAgICAgICAgICAgID8gVmlzaWJpbGl0eVN0YXRlLlZJU0lCTEVcbiAgICAgICAgICAgIDogVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgICAgLi4ucHJldmlvdXNWaXNpYmlsaXR5U3RhdGUsXG4gICAgICAgICAgICBbdHJhY2tUeXBlXTogaXNWaXNpYmxlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICAvLyByZXNldCB2aXNpYmlsaXR5IHN0YXRlIHRvIFVOS05PV04gdXBvbiBjbGVhbnVwXG4gICAgICAvLyBzbyB0aGF0IHRoZSBsYXlvdXRzIHRoYXQgYXJlIG5vdCBhY3RpdmVseSBvYnNlcnZlZFxuICAgICAgLy8gY2FuIHN0aWxsIGZ1bmN0aW9uIG5vcm1hbGx5IChydW50aW1lIGxheW91dCBzd2l0Y2hpbmcpXG4gICAgICB0aGlzLmNhbGxTdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgcGFydGljaXBhbnQudmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz9cbiAgICAgICAgICBERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IHtcbiAgICAgICAgICAgIC4uLnByZXZpb3VzVmlzaWJpbGl0eVN0YXRlLFxuICAgICAgICAgICAgW3RyYWNrVHlwZV06IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIHRyYWNrIGJvdW5kIHZpZGVvIGVsZW1lbnRzIGZvciB2aXNpYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgdmlld3BvcnQgZWxlbWVudC5cbiAgICovXG4gIHNldFZpZXdwb3J0ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oZWxlbWVudDogVCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnZpZXdwb3J0VHJhY2tlci5zZXRWaWV3cG9ydChlbGVtZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPHZpZGVvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgcGxheVxuICAgKiB0aGUgY29ycmVjdCB2aWRlbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBVbmRlciB0aGUgaG9vZCwgaXQgd291bGQgYWxzbyBrZWVwIHRyYWNrIG9mIHRoZSB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnNcbiAgICogYW5kIHVwZGF0ZSB0aGUgc3Vic2NyaXB0aW9uIGFjY29yZGluZ2x5IGluIG9yZGVyIHRvIG9wdGltaXplIHRoZSBiYW5kd2lkdGguXG4gICAqXG4gICAqIElmIGEgXCJ2aWV3cG9ydFwiIGlzIGNvbmZpZ3VyZWQsIHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgKiB0cmFja2VkIGZvciB2aXNpYmlsaXR5IGFuZCB0aGUgc3Vic2NyaXB0aW9uIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHZpZGVvRWxlbWVudCB0aGUgdmlkZW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHZpZGVvLlxuICAgKi9cbiAgYmluZFZpZGVvRWxlbWVudCA9IChcbiAgICB2aWRlb0VsZW1lbnQ6IEhUTUxWaWRlb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgYm91bmRQYXJ0aWNpcGFudCA9XG4gICAgICB0aGlzLmNhbGxTdGF0ZS5maW5kUGFydGljaXBhbnRCeVNlc3Npb25JZChzZXNzaW9uSWQpO1xuICAgIGlmICghYm91bmRQYXJ0aWNpcGFudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMgPSAoXG4gICAgICBkZWJvdW5jZVR5cGU6IERlYm91bmNlVHlwZSxcbiAgICAgIGRpbWVuc2lvbjogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoZGltZW5zaW9uICYmIChkaW1lbnNpb24ud2lkdGggPT09IDAgfHwgZGltZW5zaW9uLmhlaWdodCA9PT0gMCkpIHtcbiAgICAgICAgLy8gaWdub3JlIDB4MCBkaW1lbnNpb25zLiB0aGlzIGNhbiBoYXBwZW4gd2hlbiB0aGUgdmlkZW8gZWxlbWVudFxuICAgICAgICAvLyBpcyBub3QgdmlzaWJsZSAoZS5nLiwgaGFzIGRpc3BsYXk6IG5vbmUpLlxuICAgICAgICAvLyB3ZSB0cmVhdCB0aGlzIGFzIFwidW5zdWJzY3JpcHRpb25cIiBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXBcbiAgICAgICAgLy8gY29uc3VtaW5nIGJhbmR3aWR0aCBmb3IgYSB2aWRlbyB0aGF0IGlzIG5vdCB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBJZ25vcmluZyAweDAgZGltZW5zaW9uYCwgYm91bmRQYXJ0aWNpcGFudCk7XG4gICAgICAgIGRpbWVuc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzKHRyYWNrVHlwZSwge1xuICAgICAgICBbc2Vzc2lvbklkXTogeyBkaW1lbnNpb24gfSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucyhkZWJvdW5jZVR5cGUpO1xuICAgIH07XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCQgPSB0aGlzLmNhbGxTdGF0ZS5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBzKSA9PiBwcy5maW5kKChwKSA9PiBwLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKSksXG4gICAgICB0YWtlV2hpbGUoKHBhcnRpY2lwYW50KSA9PiAhIXBhcnRpY2lwYW50KSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBTaW5jZSB0aGUgdmlkZW8gZWxlbWVudHMgYXJlIG5vdyBiZWluZyByZW1vdmVkIGZyb20gdGhlIERPTSAoUmVhY3QgU0RLKSB1cG9uXG4gICAgICogdmlzaWJpbGl0eSBjaGFuZ2UsIHRoaXMgc3Vic2NyaXB0aW9uIGlzIG5vdCBpbiB1c2UgYW4gc3RheXMgaGVyZSBvbmx5IGZvciB0aGVcbiAgICAgKiBwbGFpbiBKUyBpbnRlZ3JhdGlvbnMgd2hlcmUgaW50ZWdyYXRvcnMgbWlnaHQgY2hvb3NlIG5vdCB0byByZW1vdmUgdGhlIHZpZGVvXG4gICAgICogZWxlbWVudHMgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIC8vIGtlZXAgY29weSBmb3IgcmVzaXplIG9ic2VydmVyIGhhbmRsZXJcbiAgICBsZXQgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IFZpc2liaWxpdHlTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZVN1YnNjcmlwdGlvbiA9XG4gICAgICBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBwYXJ0aWNpcGFudCRcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICBtYXAoKHApID0+IHAudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/Llt0cmFja1R5cGVdKSxcbiAgICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAvLyBza2lwIGluaXRpYWwgdHJpZ2dlclxuICAgICAgICAgICAgICBpZiAoIXZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgICAgICAgICAgbmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgICAgICAgbmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOO1xuXG4gICAgICAgICAgICAgIGlmIChuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoXG4gICAgICAgICAgICAgICAgICBEZWJvdW5jZVR5cGUuTUVESVVNLFxuICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuTUVESVVNLCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZGVvRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICBsZXQgbGFzdERpbWVuc2lvbnM6IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gYm91bmRQYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnRcbiAgICAgID8gbnVsbFxuICAgICAgOiBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnREaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gc2tpcCBpbml0aWFsIHRyaWdnZXJcbiAgICAgICAgICBpZiAoIWxhc3REaW1lbnNpb25zKSB7XG4gICAgICAgICAgICBsYXN0RGltZW5zaW9ucyA9IGN1cnJlbnREaW1lbnNpb25zO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChsYXN0RGltZW5zaW9ucy53aWR0aCA9PT0gY3VycmVudERpbWVuc2lvbnMud2lkdGggJiZcbiAgICAgICAgICAgICAgbGFzdERpbWVuc2lvbnMuaGVpZ2h0ID09PSBjdXJyZW50RGltZW5zaW9ucy5oZWlnaHQpIHx8XG4gICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlbGF0aXZlRGVsdGEgPSBNYXRoLm1heChcbiAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zLndpZHRoIC8gbGFzdERpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgICAgICBjdXJyZW50RGltZW5zaW9ucy5oZWlnaHQgLyBsYXN0RGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBMb3cgcXVhbGl0eSB2aWRlbyBpbiBhbiB1cHNjYWxlZCB2aWRlbyBlbGVtZW50IGlzIHZlcnkgbm90aWNhYmxlLlxuICAgICAgICAgIC8vIFdlIHRyeSB0byB1cHNjYWxlIGZhc3RlciwgYW5kIGRvd25zY2FsZSBzbG93ZXIuIFdlIGFsc28gdXBkYXRlIGRlYm91bmNlXG4gICAgICAgICAgLy8gbW9yZSBpZiB0aGUgc2l6ZSBjaGFuZ2UgaXMgbm90IHNpZ25pZmljYW50LCBndXJhZGluZyBhZ2FpbnN0IGZhc3QtZmlyaW5nXG4gICAgICAgICAgLy8gcmVzaXplIGV2ZW50cy5cbiAgICAgICAgICBjb25zdCBkZWJvdW5jZVR5cGUgPVxuICAgICAgICAgICAgcmVsYXRpdmVEZWx0YSA+IDEuMiA/IERlYm91bmNlVHlwZS5JTU1FRElBVEUgOiBEZWJvdW5jZVR5cGUuTUVESVVNO1xuICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKGRlYm91bmNlVHlwZSwge1xuICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsYXN0RGltZW5zaW9ucyA9IGN1cnJlbnREaW1lbnNpb25zO1xuICAgICAgICB9KTtcbiAgICByZXNpemVPYnNlcnZlcj8ub2JzZXJ2ZSh2aWRlb0VsZW1lbnQpO1xuXG4gICAgLy8gZWxlbWVudCByZW5kZXJzIGFuZCBnZXRzIGJvdW5kIC0gdHJhY2sgc3Vic2NyaXB0aW9uIGdldHNcbiAgICAvLyB0cmlnZ2VyZWQgZmlyc3Qgb3RoZXIgb25lcyBnZXQgc2tpcHBlZCBvbiBpbml0aWFsIHN1YnNjcmlwdGlvbnNcbiAgICBjb25zdCBwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24gPSBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgPyBudWxsXG4gICAgICA6IHBhcnRpY2lwYW50JFxuICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoJ3B1Ymxpc2hlZFRyYWNrcycpLFxuICAgICAgICAgICAgbWFwKChwKSA9PlxuICAgICAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJyA/IGhhc1ZpZGVvKHApIDogaGFzU2NyZWVuU2hhcmUocCksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgICAgICApXG4gICAgICAgICAgLnN1YnNjcmliZSgoaXNQdWJsaXNoaW5nKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNQdWJsaXNoaW5nKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBqdXN0IHN0YXJ0ZWQgdG8gcHVibGlzaCBhIHRyYWNrXG4gICAgICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5JTU1FRElBVEUsIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQganVzdCBzdG9wcGVkIHB1Ymxpc2hpbmcgYSB0cmFja1xuICAgICAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuRkFTVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgIHZpZGVvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgdmlkZW9FbGVtZW50LnBsYXlzSW5saW5lID0gdHJ1ZTtcblxuICAgIC8vIGV4cGxpY2l0bHkgbWFya2luZyB0aGUgZWxlbWVudCBhcyBtdXRlZCB3aWxsIGFsbG93IGF1dG9wbGF5IHRvIHdvcmtcbiAgICAvLyB3aXRob3V0IHByaW9yIHVzZXIgaW50ZXJhY3Rpb246XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvTWVkaWEvQXV0b3BsYXlfZ3VpZGVcbiAgICB2aWRlb0VsZW1lbnQubXV0ZWQgPSB0cnVlO1xuXG4gICAgY29uc3Qgc3RyZWFtU3Vic2NyaXB0aW9uID0gcGFydGljaXBhbnQkXG4gICAgICAucGlwZShcbiAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoXG4gICAgICAgICAgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaycgPyAndmlkZW9TdHJlYW0nIDogJ3NjcmVlblNoYXJlU3RyZWFtJyxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKHApID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlID1cbiAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJyA/IHAudmlkZW9TdHJlYW0gOiBwLnNjcmVlblNoYXJlU3RyZWFtO1xuICAgICAgICBpZiAodmlkZW9FbGVtZW50LnNyY09iamVjdCA9PT0gc291cmNlKSByZXR1cm47XG4gICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzb3VyY2UgPz8gbnVsbDtcbiAgICAgICAgaWYgKGlzU2FmYXJpKCkgfHwgaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzb3VyY2UgPz8gbnVsbDtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGFkZCBleHRyYSBkZWxheSB1bnRpbCB3ZSBhdHRlbXB0IHRvIGZvcmNlLXBsYXlcbiAgICAgICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCdzIG1lZGlhIHN0cmVhbSBpbiBGaXJlZm94IGFuZCBTYWZhcmksXG4gICAgICAgICAgICAvLyBhcyB0aGV5IHNlZW0gdG8gaGF2ZSBzb21lIHRpbWluZyBpc3N1ZXNcbiAgICAgICAgICB9LCAyNSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5GQVNULCB1bmRlZmluZWQpO1xuICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGVTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBzdHJlYW1TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGF1ZGlvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSBhdWRpbyBlbGVtZW50IHdpbGxcbiAgICogcGxheSB0aGUgY29ycmVjdCBhdWRpbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9FbGVtZW50IHRoZSBhdWRpbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgYXVkaW8uXG4gICAqIEByZXR1cm5zIGEgY2xlYW51cCBmdW5jdGlvbiB0aGF0IHdpbGwgdW5iaW5kIHRoZSBhdWRpbyBlbGVtZW50LlxuICAgKi9cbiAgYmluZEF1ZGlvRWxlbWVudCA9IChcbiAgICBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBBdWRpb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmNhbGxTdGF0ZS5maW5kUGFydGljaXBhbnRCeVNlc3Npb25JZChzZXNzaW9uSWQpO1xuICAgIGlmICghcGFydGljaXBhbnQgfHwgcGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50KSByZXR1cm47XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCQgPSB0aGlzLmNhbGxTdGF0ZS5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBzKSA9PiBwcy5maW5kKChwKSA9PiBwLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKSksXG4gICAgICB0YWtlV2hpbGUoKHApID0+ICEhcCksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAgICApO1xuXG4gICAgY29uc3QgdXBkYXRlU2lua0lkID0gKFxuICAgICAgZGV2aWNlSWQ6IHN0cmluZyxcbiAgICAgIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0IHwgdW5kZWZpbmVkLFxuICAgICkgPT4ge1xuICAgICAgaWYgKCFkZXZpY2VJZCkgcmV0dXJuO1xuICAgICAgaWYgKCdzZXRTaW5rSWQnIGluIGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBhdWRpb0VsZW1lbnQuc2V0U2lua0lkKGRldmljZUlkKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYENhbid0IHRvIHNldCBBdWRpb0VsZW1lbnQgc2lua0lkYCwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXVkaW9Db250ZXh0ICYmICdzZXRTaW5rSWQnIGluIGF1ZGlvQ29udGV4dCkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHNldFNpbmtJZCBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2Vyc1xuICAgICAgICBhdWRpb0NvbnRleHQuc2V0U2lua0lkKGRldmljZUlkKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYENhbid0IHRvIHNldCBBdWRpb0NvbnRleHQgc2lua0lkYCwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgc291cmNlTm9kZTogTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgbGV0IGdhaW5Ob2RlOiBHYWluTm9kZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uID0gcGFydGljaXBhbnQkXG4gICAgICAucGlwZShcbiAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoXG4gICAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVBdWRpb1RyYWNrJ1xuICAgICAgICAgICAgPyAnc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSdcbiAgICAgICAgICAgIDogJ2F1ZGlvU3RyZWFtJyxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKHApID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlID1cbiAgICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snXG4gICAgICAgICAgICA/IHAuc2NyZWVuU2hhcmVBdWRpb1N0cmVhbVxuICAgICAgICAgICAgOiBwLmF1ZGlvU3RyZWFtO1xuICAgICAgICBpZiAoYXVkaW9FbGVtZW50LnNyY09iamVjdCA9PT0gc291cmNlKSByZXR1cm47XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYXVkaW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICAgIGlmICghc291cmNlKSByZXR1cm47XG5cbiAgICAgICAgICAvLyBTYWZhcmkgaGFzIGEgc3BlY2lhbCBxdWlyayB0aGF0IHByZXZlbnRzIHBsYXlpbmcgYXVkaW8gdW50aWwgdGhlIHVzZXJcbiAgICAgICAgICAvLyBpbnRlcmFjdHMgd2l0aCB0aGUgcGFnZSBvciBmb2N1c2VzIG9uIHRoZSB0YWIgd2hlcmUgdGhlIGNhbGwgaGFwcGVucy5cbiAgICAgICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIGlzc3VlIHdoZXJlOlxuICAgICAgICAgIC8vIC0gQSBhbmQgQiBhcmUgaW4gYSBjYWxsXG4gICAgICAgICAgLy8gLSBBIHN3aXRjaGVzIHRvIGFub3RoZXIgdGFiXG4gICAgICAgICAgLy8gLSBCIG11dGVzIHRoZWlyIG1pY3JvcGhvbmUgYW5kIHVubXV0ZXMgaXRcbiAgICAgICAgICAvLyAtIEEgZG9lcyBub3QgaGVhciBCJ3MgdW5tdXRlZCBhdWRpbyB1bnRpbCB0aGV5IGZvY3VzIHRoZSB0YWJcbiAgICAgICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSB0aGlzLmdldE9yQ3JlYXRlQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgaWYgKGF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgLy8gd2Ugd2lsbCBwbGF5IGF1ZGlvIHRocm91Z2ggdGhlIGF1ZGlvIGNvbnRleHQgaW4gU2FmYXJpXG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQubXV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgc291cmNlTm9kZT8uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgc291cmNlTm9kZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzb3VyY2UpO1xuICAgICAgICAgICAgZ2Fpbk5vZGUgPz89IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgICAgICBnYWluTm9kZS5nYWluLnZhbHVlID0gcC5hdWRpb1ZvbHVtZSA/PyB0aGlzLnNwZWFrZXIuc3RhdGUudm9sdW1lO1xuICAgICAgICAgICAgc291cmNlTm9kZS5jb25uZWN0KGdhaW5Ob2RlKS5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICB0aGlzLnJlc3VtZUF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSB3aWxsIHBsYXkgYXVkaW8gZGlyZWN0bHkgdGhyb3VnaCB0aGUgYXVkaW8gZWxlbWVudCBpbiBvdGhlciBicm93c2Vyc1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBwbGF5IGF1ZGlvIHN0cmVhbWAsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgeyBzZWxlY3RlZERldmljZSB9ID0gdGhpcy5zcGVha2VyLnN0YXRlO1xuICAgICAgICAgIGlmIChzZWxlY3RlZERldmljZSkgdXBkYXRlU2lua0lkKHNlbGVjdGVkRGV2aWNlLCBhdWRpb0NvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3Qgc2lua0lkU3Vic2NyaXB0aW9uID0gISgnc2V0U2lua0lkJyBpbiBhdWRpb0VsZW1lbnQpXG4gICAgICA/IG51bGxcbiAgICAgIDogdGhpcy5zcGVha2VyLnN0YXRlLnNlbGVjdGVkRGV2aWNlJC5zdWJzY3JpYmUoKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXVkaW9Db250ZXh0ID0gdGhpcy5nZXRPckNyZWF0ZUF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgIHVwZGF0ZVNpbmtJZChkZXZpY2VJZCwgYXVkaW9Db250ZXh0KTtcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCB2b2x1bWVTdWJzY3JpcHRpb24gPSBjb21iaW5lTGF0ZXN0KFtcbiAgICAgIHRoaXMuc3BlYWtlci5zdGF0ZS52b2x1bWUkLFxuICAgICAgcGFydGljaXBhbnQkLnBpcGUoZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoJ2F1ZGlvVm9sdW1lJykpLFxuICAgIF0pLnN1YnNjcmliZSgoW3ZvbHVtZSwgcF0pID0+IHtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50Vm9sdW1lID0gcC5hdWRpb1ZvbHVtZSA/PyB2b2x1bWU7XG4gICAgICBhdWRpb0VsZW1lbnQudm9sdW1lID0gcGFydGljaXBhbnRWb2x1bWU7XG4gICAgICBpZiAoZ2Fpbk5vZGUpIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSBwYXJ0aWNpcGFudFZvbHVtZTtcbiAgICB9KTtcblxuICAgIGF1ZGlvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2lua0lkU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgdm9sdW1lU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB1cGRhdGVNZWRpYVN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgYXVkaW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICBzb3VyY2VOb2RlPy5kaXNjb25uZWN0KCk7XG4gICAgICBnYWluTm9kZT8uZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH07XG5cbiAgcHJpdmF0ZSBnZXRPckNyZWF0ZUF1ZGlvQ29udGV4dCA9ICgpOiBBdWRpb0NvbnRleHQgfCB1bmRlZmluZWQgPT4ge1xuICAgIGlmICh0aGlzLmF1ZGlvQ29udGV4dCB8fCAhaXNTYWZhcmkoKSkgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0O1xuICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgaWYgKGNvbnRleHQuc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVzdW1lQXVkaW9Db250ZXh0KTtcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBhdWRpb1Nlc3Npb24gaXMgYXZhaWxhYmxlIGluIFNhZmFyaSBvbmx5XG4gICAgY29uc3QgYXVkaW9TZXNzaW9uID0gbmF2aWdhdG9yLmF1ZGlvU2Vzc2lvbjtcbiAgICBpZiAoYXVkaW9TZXNzaW9uKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL2F1ZGlvLXNlc3Npb24vYmxvYi9tYWluL2V4cGxhaW5lci5tZFxuICAgICAgYXVkaW9TZXNzaW9uLnR5cGUgPSAncGxheS1hbmQtcmVjb3JkJztcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLmF1ZGlvQ29udGV4dCA9IGNvbnRleHQpO1xuICB9O1xuXG4gIHByaXZhdGUgcmVzdW1lQXVkaW9Db250ZXh0ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmF1ZGlvQ29udGV4dD8uc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICB0aGlzLmF1ZGlvQ29udGV4dFxuICAgICAgICAucmVzdW1lKClcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHRoaXMubG9nZ2VyKCd3YXJuJywgYENhbid0IHJlc3VtZSBhdWRpbyBjb250ZXh0YCwgZXJyKSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZXN1bWVBdWRpb0NvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBDYWxsU2V0dGluZ3NSZXNwb25zZSwgT3duQ2FwYWJpbGl0eSB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZW5zdXJlRXhoYXVzdGVkIH0gZnJvbSAnLi4vaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQnO1xuXG4vKipcbiAqIFN0b3JlcyB0aGUgcGVybWlzc2lvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXIgYW5kIGV4cG9zZXNcbiAqIGEgZmV3IGhlbHBlciBtZXRob2RzIHdoaWNoIG1ha2UgaXQgZWFzaWVyIHRvIHdvcmsgd2l0aCBwZXJtaXNzaW9ucy5cbiAqXG4gKiBUaGlzIGlzIGFuIGludGVybmFsIGNsYXNzIG1lYW50IHRvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICogYSB7QGxpbmsgQ2FsbH0gaW5zdGFuY2UuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uc0NvbnRleHQge1xuICBwcml2YXRlIHBlcm1pc3Npb25zOiBPd25DYXBhYmlsaXR5W10gPSBbXTtcbiAgcHJpdmF0ZSBzZXR0aW5ncz86IENhbGxTZXR0aW5nc1Jlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBzZXQuXG4gICAqL1xuICBzZXRQZXJtaXNzaW9ucyA9IChwZXJtaXNzaW9uczogT3duQ2FwYWJpbGl0eVtdKSA9PiB7XG4gICAgdGhpcy5wZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zIHx8IFtdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZXR0aW5ncyBmb3IgdGhlIGJvdW5kIGNhbGwuXG4gICAqIEBwYXJhbSBzZXR0aW5nc1xuICAgKi9cbiAgc2V0Q2FsbFNldHRpbmdzID0gKHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIGEgc3BlY2lmaWMgcGVybWlzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIHBlcm1pc3Npb24gdG8gY2hlY2sgZm9yLlxuICAgKi9cbiAgaGFzUGVybWlzc2lvbiA9IChwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGVybWlzc2lvbnMuaW5jbHVkZXMocGVybWlzc2lvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdGhhdCBjaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCB1c2VyIGhhcyB0aGUgcGVybWlzc2lvblxuICAgKiB0byBwdWJsaXNoIHRoZSBnaXZlbiB0cmFjayB0eXBlLlxuICAgKi9cbiAgY2FuUHVibGlzaCA9ICh0cmFja1R5cGU6IFRyYWNrVHlwZSkgPT4ge1xuICAgIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgICBjYXNlIFRyYWNrVHlwZS5BVURJTzpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pO1xuICAgICAgY2FzZSBUcmFja1R5cGUuVklERU86XG4gICAgICAgIHJldHVybiB0aGlzLmhhc1Blcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKTtcbiAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRTpcbiAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTzpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKTtcbiAgICAgIGNhc2UgVHJhY2tUeXBlLlVOU1BFQ0lGSUVEOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlbnN1cmVFeGhhdXN0ZWQodHJhY2tUeXBlLCAnVW5rbm93biB0cmFjayB0eXBlJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgdXNlciBjYW4gcmVxdWVzdCBhIHNwZWNpZmljIHBlcm1pc3Npb25cbiAgICogd2l0aGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbiB0aGUgcGVybWlzc2lvbiB0byBjaGVjayBmb3IuXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgY2FsbCBzZXR0aW5ncyB0byBjaGVjayBhZ2FpbnN0IChvcHRpb25hbCkuXG4gICAqL1xuICBjYW5SZXF1ZXN0ID0gKFxuICAgIHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHksXG4gICAgc2V0dGluZ3M6IENhbGxTZXR0aW5nc1Jlc3BvbnNlIHwgdW5kZWZpbmVkID0gdGhpcy5zZXR0aW5ncyxcbiAgKSA9PiB7XG4gICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgeyBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJpbmcgfSA9IHNldHRpbmdzO1xuICAgIHN3aXRjaCAocGVybWlzc2lvbikge1xuICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU86XG4gICAgICAgIHJldHVybiBhdWRpby5hY2Nlc3NfcmVxdWVzdF9lbmFibGVkO1xuICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfVklERU86XG4gICAgICAgIHJldHVybiB2aWRlby5hY2Nlc3NfcmVxdWVzdF9lbmFibGVkO1xuICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFOlxuICAgICAgICByZXR1cm4gc2NyZWVuc2hhcmluZy5hY2Nlc3NfcmVxdWVzdF9lbmFibGVkO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gIENvbXBhcmF0b3IsXG4gIGRlZmF1bHRTb3J0UHJlc2V0LFxuICBsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0LFxufSBmcm9tICcuL3NvcnRpbmcnO1xuXG4vKipcbiAqIFRoZSBvcHRpb25zIGZvciBhIHtAbGluayBDYWxsVHlwZX0uXG4gKi9cbmV4cG9ydCB0eXBlIENhbGxUeXBlT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgQ29tcGFyYXRvcn0gdG8gdXNlIHRvIHNvcnRpbmcgdGhlIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAgICovXG4gIHNvcnRQYXJ0aWNpcGFudHNCeT86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD47XG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjYWxsIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsVHlwZSB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb3B0aW9ucyBmb3IgdGhlIGNhbGwgdHlwZS5cbiAgICovXG4gIG9wdGlvbnM6IENhbGxUeXBlT3B0aW9ucztcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBDYWxsVHlwZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGNhbGwgdHlwZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgdGhlIG9wdGlvbnMgZm9yIHRoZSBjYWxsIHR5cGUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9uczogQ2FsbFR5cGVPcHRpb25zID0ge1xuICAgICAgc29ydFBhcnRpY2lwYW50c0J5OiBkZWZhdWx0U29ydFByZXNldCxcbiAgICB9LFxuICApIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn1cblxuLyoqXG4gKiBBIHJlZ2lzdHJ5IG9mIHtAbGluayBDYWxsVHlwZX1zLlxuICogWW91IGNhbiByZWdpc3RlciBhbmQgdW5yZWdpc3RlciBjYWxsIHR5cGVzLlxuICovXG5jbGFzcyBDYWxsVHlwZXNSZWdpc3RyeSB7XG4gIC8qKlxuICAgKiBUaGUgY2FsbCB0eXBlcyByZWdpc3RlcmVkIGluIHRoaXMgcmVnaXN0cnkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbGxUeXBlczogeyBba2V5OiBzdHJpbmddOiBDYWxsVHlwZSB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbGxUeXBlc1JlZ2lzdHJ5LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFR5cGVzIHRoZSBpbml0aWFsIGNhbGwgdHlwZXMgdG8gcmVnaXN0ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYWxsVHlwZXM6IENhbGxUeXBlW10pIHtcbiAgICB0aGlzLmNhbGxUeXBlcyA9IGNhbGxUeXBlcy5yZWR1Y2U8eyBba2V5OiBzdHJpbmddOiBDYWxsVHlwZSB9PihcbiAgICAgIChhY2MsIGNhbGxUeXBlKSA9PiB7XG4gICAgICAgIGFjY1tjYWxsVHlwZS5uYW1lXSA9IGNhbGxUeXBlO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIHt9LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgbmV3IGNhbGwgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxUeXBlIHRoZSBjYWxsIHR5cGUgdG8gcmVnaXN0ZXIuXG4gICAqL1xuICByZWdpc3RlciA9IChjYWxsVHlwZTogQ2FsbFR5cGUpID0+IHtcbiAgICB0aGlzLmNhbGxUeXBlc1tjYWxsVHlwZS5uYW1lXSA9IGNhbGxUeXBlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVycyBhIGNhbGwgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGNhbGwgdHlwZSB0byB1bnJlZ2lzdGVyLlxuICAgKi9cbiAgdW5yZWdpc3RlciA9IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgICBkZWxldGUgdGhpcy5jYWxsVHlwZXNbbmFtZV07XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgYSBjYWxsIHR5cGUgYnkgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGNhbGwgdHlwZSB0byBnZXQuXG4gICAqL1xuICBnZXQgPSAobmFtZTogc3RyaW5nKTogQ2FsbFR5cGUgPT4ge1xuICAgIGlmICghdGhpcy5jYWxsVHlwZXNbbmFtZV0pIHtcbiAgICAgIHRoaXMucmVnaXN0ZXIobmV3IENhbGxUeXBlKG5hbWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2FsbFR5cGVzW25hbWVdO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGNhbGwgdHlwZXMgcmVnaXN0cnkuXG4gKiBZb3UgY2FuIHVzZSB0aGlzIGluc3RhbmNlIHRvIGR5bmFtaWNhbGx5IHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIGNhbGwgdHlwZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsVHlwZXMgPSBuZXcgQ2FsbFR5cGVzUmVnaXN0cnkoW1xuICBuZXcgQ2FsbFR5cGUoJ2RlZmF1bHQnLCB7XG4gICAgc29ydFBhcnRpY2lwYW50c0J5OiBkZWZhdWx0U29ydFByZXNldCxcbiAgfSksXG4gIG5ldyBDYWxsVHlwZSgnZGV2ZWxvcG1lbnQnLCB7XG4gICAgc29ydFBhcnRpY2lwYW50c0J5OiBkZWZhdWx0U29ydFByZXNldCxcbiAgfSksXG4gIG5ldyBDYWxsVHlwZSgnbGl2ZXN0cmVhbScsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG4gIH0pLFxuICBuZXcgQ2FsbFR5cGUoJ2F1ZGlvX3Jvb20nLCB7XG4gICAgc29ydFBhcnRpY2lwYW50c0J5OiBsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0LFxuICB9KSxcbl0pO1xuIiwiLyoqXG4gKiBEZWFjdGl2YXRlcyBNZWRpYVN0cmVhbSAoc3RvcHMgYW5kIHJlbW92ZXMgdHJhY2tzKSB0byBiZSBsYXRlciBnYXJiYWdlIGNvbGxlY3RlZFxuICpcbiAqIEBwYXJhbSBzdHJlYW0gTWVkaWFTdHJlYW1cbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGNvbnN0IGRpc3Bvc2VPZk1lZGlhU3RyZWFtID0gKHN0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcbiAgaWYgKCFzdHJlYW0uYWN0aXZlKSByZXR1cm47XG4gIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgIHRyYWNrLnN0b3AoKTtcbiAgfSk7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgcmVsZWFzZSgpIGlzIHByZXNlbnQgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0YyBhbmQgbXVzdCBiZSBjYWxsZWQgdG8gZGlzcG9zZSB0aGUgc3RyZWFtXG4gIGlmICh0eXBlb2Ygc3RyZWFtLnJlbGVhc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gcmVsZWFzZSgpIGlzIHByZXNlbnQgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0Y1xuICAgIHN0cmVhbS5yZWxlYXNlKCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuLCBtYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZGlzcG9zZU9mTWVkaWFTdHJlYW0gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuXG5pbnRlcmZhY2UgQnJvd3NlclBlcm1pc3Npb25Db25maWcge1xuICBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucztcbiAgcXVlcnlOYW1lOiBQZXJtaXNzaW9uTmFtZTtcbn1cblxuZXhwb3J0IHR5cGUgQnJvd3NlclBlcm1pc3Npb25TdGF0ZSA9IFBlcm1pc3Npb25TdGF0ZSB8ICdwcm9tcHRpbmcnO1xuXG5leHBvcnQgY2xhc3MgQnJvd3NlclBlcm1pc3Npb24ge1xuICBwcml2YXRlIHJlYWR5OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGRpc3Bvc2VDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBwcml2YXRlIHN0YXRlOiBCcm93c2VyUGVybWlzc2lvblN0YXRlIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHdhc1Byb21wdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgbGlzdGVuZXJzID0gbmV3IFNldDwoc3RhdGU6IEJyb3dzZXJQZXJtaXNzaW9uU3RhdGUpID0+IHZvaWQ+KCk7XG4gIHByaXZhdGUgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsncGVybWlzc2lvbnMnXSk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwZXJtaXNzaW9uOiBCcm93c2VyUGVybWlzc2lvbkNvbmZpZykge1xuICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuZGlzcG9zZUNvbnRyb2xsZXIuc2lnbmFsO1xuXG4gICAgdGhpcy5yZWFkeSA9IChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhc3N1bWVHcmFudGVkID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgnZ3JhbnRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ3Byb21wdCcpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoIWNhblF1ZXJ5UGVybWlzc2lvbnMoKSkge1xuICAgICAgICByZXR1cm4gYXNzdW1lR3JhbnRlZCgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe1xuICAgICAgICAgIG5hbWU6IHBlcm1pc3Npb24ucXVlcnlOYW1lLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0dXMuc3RhdGUpO1xuICAgICAgICAgIHN0YXR1cy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB0aGlzLnNldFN0YXRlKHN0YXR1cy5zdGF0ZSksIHtcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdGYWlsZWQgdG8gcXVlcnkgcGVybWlzc2lvbiBzdGF0dXMnLCBlcnIpO1xuICAgICAgICBhc3N1bWVHcmFudGVkKCk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRpc3Bvc2VDb250cm9sbGVyLmFib3J0KCk7XG4gIH1cblxuICBhc3luYyBnZXRTdGF0ZSgpIHtcbiAgICBhd2FpdCB0aGlzLnJlYWR5O1xuICAgIGlmICghdGhpcy5zdGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyUGVybWlzc2lvbiBpbnN0YW5jZSBwb3NzaWJseSBkaXNwb3NlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIGFzeW5jIHByb21wdCh7XG4gICAgZm9yY2VQcm9tcHQgPSBmYWxzZSxcbiAgICB0aHJvd09uTm90QWxsb3dlZCA9IGZhbHNlLFxuICB9OiB7IGZvcmNlUHJvbXB0PzogYm9vbGVhbjsgdGhyb3dPbk5vdEFsbG93ZWQ/OiBib29sZWFuIH0gPSB7fSkge1xuICAgIHJldHVybiBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3koXG4gICAgICBgcGVybWlzc2lvbi1wcm9tcHQtJHt0aGlzLnBlcm1pc3Npb24ucXVlcnlOYW1lfWAsXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoYXdhaXQgdGhpcy5nZXRTdGF0ZSgpKSAhPT0gJ3Byb21wdCcgfHxcbiAgICAgICAgICAodGhpcy53YXNQcm9tcHRlZCAmJiAhZm9yY2VQcm9tcHQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGlzR3JhbnRlZCA9IHRoaXMuc3RhdGUgPT09ICdncmFudGVkJztcblxuICAgICAgICAgIGlmICghaXNHcmFudGVkICYmIHRocm93T25Ob3RBbGxvd2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICdQZXJtaXNzaW9uIHdhcyBub3QgZ3JhbnRlZCBwcmV2aW91c2x5LCBhbmQgcHJvbXB0aW5nIGFnYWluIGlzIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGlzR3JhbnRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy53YXNQcm9tcHRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgncHJvbXB0aW5nJyk7XG4gICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoXG4gICAgICAgICAgICB0aGlzLnBlcm1pc3Npb24uY29uc3RyYWludHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaXNwb3NlT2ZNZWRpYVN0cmVhbShzdHJlYW0pO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2dyYW50ZWQnKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGUgJiZcbiAgICAgICAgICAgIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgJ25hbWUnIGluIGUgJiZcbiAgICAgICAgICAgIChlLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InIHx8IGUubmFtZSA9PT0gJ1NlY3VyaXR5RXJyb3InKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnQnJvd3NlciBwZXJtaXNzaW9uIHdhcyBub3QgZ3JhbnRlZCcsIHtcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogdGhpcy5wZXJtaXNzaW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKCdkZW5pZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRocm93T25Ob3RBbGxvd2VkKSB7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgRmFpbGVkIHRvIGdldFVzZXJNZWRpYWAsIHtcbiAgICAgICAgICAgIGVycm9yOiBlLFxuICAgICAgICAgICAgcGVybWlzc2lvbjogdGhpcy5wZXJtaXNzaW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ3Byb21wdCcpO1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIGxpc3RlbihjYjogKHN0YXRlOiBCcm93c2VyUGVybWlzc2lvblN0YXRlKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGNiKTtcbiAgICBpZiAodGhpcy5zdGF0ZSkgY2IodGhpcy5zdGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHRoaXMubGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gIH1cblxuICBhc09ic2VydmFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGVPYnNlcnZhYmxlKCkucGlwZShcbiAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMsIHRoZSAnY2hhbmdlJyBldmVudCBkb2Vzbid0IHJlbGlhYmx5IGVtaXQgYW5kIGhlbmNlLFxuICAgICAgLy8gcGVybWlzc2lvblN0YXRlIHN0YXlzIGluICdwcm9tcHQnIHN0YXRlIGZvcmV2ZXIuXG4gICAgICAvLyBUeXBpY2FsbHksIHRoaXMgaGFwcGVucyB3aGVuIGEgdXNlciBncmFudHMgb25lLXRpbWUgcGVybWlzc2lvbi5cbiAgICAgIC8vIEluc3RlYWQgb2YgY2hlY2tpbmcgaWYgYSBwZXJtaXNzaW9uIGlzIGdyYW50ZWQsIHdlIGNoZWNrIGlmIGl0IGlzbid0IGRlbmllZFxuICAgICAgbWFwKChzdGF0ZSkgPT4gc3RhdGUgIT09ICdkZW5pZWQnKSxcbiAgICApO1xuICB9XG5cbiAgYXNTdGF0ZU9ic2VydmFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGVPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXRJc1Byb21wdGluZ09ic2VydmFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGVPYnNlcnZhYmxlKCkucGlwZShcbiAgICAgIG1hcCgoc3RhdGUpID0+IHN0YXRlID09PSAncHJvbXB0aW5nJyksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RhdGVPYnNlcnZhYmxlKCkge1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPEJyb3dzZXJQZXJtaXNzaW9uU3RhdGU+KFxuICAgICAgKGhhbmRsZXIpID0+IHRoaXMubGlzdGVuKGhhbmRsZXIpLFxuICAgICAgKGhhbmRsZXIsIHVubGlzdGVuKSA9PiB1bmxpc3RlbigpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBCcm93c2VyUGVybWlzc2lvblN0YXRlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoc3RhdGUpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FuUXVlcnlQZXJtaXNzaW9ucygpIHtcbiAgcmV0dXJuIChcbiAgICAhaXNSZWFjdE5hdGl2ZSgpICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAhIW5hdmlnYXRvci5wZXJtaXNzaW9ucz8ucXVlcnlcbiAgKTtcbn1cbiIsImltcG9ydCB7XG4gIGNvbmNhdE1hcCxcbiAgZGVib3VuY2VUaW1lLFxuICBmcm9tLFxuICBmcm9tRXZlbnQsXG4gIG1hcCxcbiAgbWVyZ2UsXG4gIHNoYXJlUmVwbGF5LFxuICBzdGFydFdpdGgsXG4gIHRhcCxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcbmltcG9ydCB7IGxhenkgfSBmcm9tICcuLi9oZWxwZXJzL2xhenknO1xuaW1wb3J0IHsgaXNGaXJlZm94IH0gZnJvbSAnLi4vaGVscGVycy9icm93c2Vycyc7XG5pbXBvcnQgeyBkdW1wU3RyZWFtLCBUcmFjZXIgfSBmcm9tICcuLi9zdGF0cyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VmFsdWUgfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgbGlzdCBvZiBhdmFpbGFibGUgZGV2aWNlc1xuICogdGhhdCBtZWV0IHRoZSBnaXZlbiBjb25zdHJhaW50cy5cbiAqXG4gKiBAcGFyYW0gcGVybWlzc2lvbiBhIEJyb3dzZXJQZXJtaXNzaW9uIGluc3RhbmNlLlxuICogQHBhcmFtIGtpbmQgdGhlIGtpbmQgb2YgZGV2aWNlcyB0byBlbnVtZXJhdGUuXG4gKiBAcGFyYW0gdHJhY2VyIHRoZSB0cmFjZXIgdG8gdXNlIGZvciB0cmFjaW5nIHRoZSBkZXZpY2UgZW51bWVyYXRpb24uXG4gKi9cbmNvbnN0IGdldERldmljZXMgPSAoXG4gIHBlcm1pc3Npb246IEJyb3dzZXJQZXJtaXNzaW9uLFxuICBraW5kOiBNZWRpYURldmljZUtpbmQsXG4gIHRyYWNlcjogVHJhY2VyIHwgdW5kZWZpbmVkLFxuKSA9PiB7XG4gIHJldHVybiBmcm9tKFxuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGV2aWNlcyA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgICAgLy8gZm9yIHByaXZhY3kgcmVhc29ucywgbW9zdCBicm93c2VycyBkb24ndCBnaXZlIHlvdSBkZXZpY2UgbGFiZWxzXG4gICAgICAvLyB1bmxlc3MgeW91IGhhdmUgYSBjb3JyZXNwb25kaW5nIGNhbWVyYSBvciBtaWNyb3Bob25lIHBlcm1pc3Npb25cbiAgICAgIGNvbnN0IHNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uID0gZGV2aWNlcy5zb21lKFxuICAgICAgICAoZGV2aWNlKSA9PiBkZXZpY2Uua2luZCA9PT0ga2luZCAmJiBkZXZpY2UubGFiZWwgPT09ICcnLFxuICAgICAgKTtcbiAgICAgIGlmIChzaG91bGRQcm9tcHRGb3JCcm93c2VyUGVybWlzc2lvbiAmJiAoYXdhaXQgcGVybWlzc2lvbi5wcm9tcHQoKSkpIHtcbiAgICAgICAgZGV2aWNlcyA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgICAgfVxuICAgICAgdHJhY2VyPy50cmFjZU9uY2UoXG4gICAgICAgICdkZXZpY2UtZW51bWVyYXRpb24nLFxuICAgICAgICAnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzJyxcbiAgICAgICAgZGV2aWNlcyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gZGV2aWNlcy5maWx0ZXIoXG4gICAgICAgIChkZXZpY2UpID0+XG4gICAgICAgICAgZGV2aWNlLmtpbmQgPT09IGtpbmQgJiZcbiAgICAgICAgICBkZXZpY2UubGFiZWwgIT09ICcnICYmXG4gICAgICAgICAgZGV2aWNlLmRldmljZUlkICE9PSAnZGVmYXVsdCcsXG4gICAgICApO1xuICAgIH0pKCksXG4gICk7XG59O1xuXG4vKipcbiAqIFRlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50cyxcbiAqIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9zZXRTaW5rSWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICByZXR1cm4gJ3NldFNpbmtJZCcgaW4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgdXNlZCB0byByZXF1ZXN0IGF1ZGlvIGRldmljZXMuXG4gKi9cbmNvbnN0IGF1ZGlvRGV2aWNlQ29uc3RyYWludHMgPSB7XG4gIGF1ZGlvOiB7XG4gICAgYXV0b0dhaW5Db250cm9sOiB0cnVlLFxuICAgIG5vaXNlU3VwcHJlc3Npb246IHRydWUsXG4gICAgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSxcbiAgfSxcbn0gc2F0aXNmaWVzIE1lZGlhU3RyZWFtQ29uc3RyYWludHM7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgdXNlZCB0byByZXF1ZXN0IHZpZGVvIGRldmljZXMuXG4gKi9cbmNvbnN0IHZpZGVvRGV2aWNlQ29uc3RyYWludHMgPSB7XG4gIHZpZGVvOiB7XG4gICAgd2lkdGg6IDEyODAsXG4gICAgaGVpZ2h0OiA3MjAsXG4gIH0sXG59IHNhdGlzZmllcyBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBicm93c2VyIHBlcm1pc3Npb24gdG8gdXNlIG1pY3JvcGhvbmUuIFRoaXMgcGVybWlzc2lvbiBhbHNvXG4gKiBhZmZlY3RzIGFuIGFiaWxpdHkgdG8gZW51bWVyYXRlIGF1ZGlvIGRldmljZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uID0gbGF6eShcbiAgKCkgPT5cbiAgICBuZXcgQnJvd3NlclBlcm1pc3Npb24oe1xuICAgICAgY29uc3RyYWludHM6IGF1ZGlvRGV2aWNlQ29uc3RyYWludHMsXG4gICAgICBxdWVyeU5hbWU6ICdtaWNyb3Bob25lJyBhcyBQZXJtaXNzaW9uTmFtZSxcbiAgICB9KSxcbik7XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGJyb3dzZXIgcGVybWlzc2lvbiB0byB1c2UgY2FtZXJhLiBUaGlzIHBlcm1pc3Npb24gYWxzb1xuICogYWZmZWN0cyBhbiBhYmlsaXR5IHRvIGVudW1lcmF0ZSB2aWRlbyBkZXZpY2VzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiA9IGxhenkoXG4gICgpID0+XG4gICAgbmV3IEJyb3dzZXJQZXJtaXNzaW9uKHtcbiAgICAgIGNvbnN0cmFpbnRzOiB2aWRlb0RldmljZUNvbnN0cmFpbnRzLFxuICAgICAgcXVlcnlOYW1lOiAnY2FtZXJhJyBhcyBQZXJtaXNzaW9uTmFtZSxcbiAgICB9KSxcbik7XG5cbmNvbnN0IGdldERldmljZUNoYW5nZU9ic2VydmVyID0gbGF6eSgodHJhY2VyOiBUcmFjZXIgfCB1bmRlZmluZWQpID0+IHtcbiAgLy8gJ2FkZEV2ZW50TGlzdGVuZXInIGlzIG5vdCBhdmFpbGFibGUgaW4gUmVhY3QgTmF0aXZlLCByZXR1cm5pbmdcbiAgLy8gYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgbmV2ZXIgZmlyZVxuICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcikgcmV0dXJuIGZyb20oW10pO1xuICByZXR1cm4gZnJvbUV2ZW50KG5hdmlnYXRvci5tZWRpYURldmljZXMsICdkZXZpY2VjaGFuZ2UnKS5waXBlKFxuICAgIHRhcCgoKSA9PiB0cmFjZXI/LnJlc2V0VHJhY2UoJ2RldmljZS1lbnVtZXJhdGlvbicpKSxcbiAgICBtYXAoKCkgPT4gdW5kZWZpbmVkKSxcbiAgICBkZWJvdW5jZVRpbWUoNTAwKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgYXVkaW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAnYXVkaW9pbnB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb0RldmljZXMgPSBsYXp5KCh0cmFjZXI/OiBUcmFjZXIpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKHRyYWNlciksXG4gICAgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+XG4gICAgICBnZXREZXZpY2VzKGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSwgJ2F1ZGlvaW5wdXQnLCB0cmFjZXIpLFxuICAgICksXG4gICAgc2hhcmVSZXBsYXkoMSksXG4gICk7XG59KTtcblxuLyoqXG4gKiBQcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIHZpZGVvIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWRcbiAqIGFuZCB3YXMgbm90IHByb21wdGVkIGJlZm9yZSkgYW5kIGxpc3RzIHRoZSBhdmFpbGFibGUgJ3ZpZGVvaW5wdXQnIGRldmljZXMsXG4gKiBpZiBkZXZpY2VzIGFyZSBhZGRlZC9yZW1vdmVkIHRoZSBsaXN0IGlzIHVwZGF0ZWQsIGFuZCBpZiB0aGUgcGVybWlzc2lvbiBpcyByZXZva2VkLFxuICogdGhlIG9ic2VydmFibGUgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9EZXZpY2VzID0gbGF6eSgodHJhY2VyPzogVHJhY2VyKSA9PiB7XG4gIHJldHVybiBtZXJnZShcbiAgICBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlcih0cmFjZXIpLFxuICAgIGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24oKS5hc09ic2VydmFibGUoKSxcbiAgKS5waXBlKFxuICAgIHN0YXJ0V2l0aCh1bmRlZmluZWQpLFxuICAgIGNvbmNhdE1hcCgoKSA9PlxuICAgICAgZ2V0RGV2aWNlcyhnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCksICd2aWRlb2lucHV0JywgdHJhY2VyKSxcbiAgICApLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSB2aWRlbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICdhdWRpb291dHB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb091dHB1dERldmljZXMgPSBsYXp5KCh0cmFjZXI/OiBUcmFjZXIpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKHRyYWNlciksXG4gICAgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+XG4gICAgICBnZXREZXZpY2VzKGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSwgJ2F1ZGlvb3V0cHV0JywgdHJhY2VyKSxcbiAgICApLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbmxldCBnZXRVc2VyTWVkaWFFeGVjSWQgPSAwO1xuY29uc3QgZ2V0U3RyZWFtID0gYXN5bmMgKFxuICBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyxcbiAgdHJhY2VyOiBUcmFjZXIgfCB1bmRlZmluZWQsXG4pID0+IHtcbiAgY29uc3QgdGFnID0gYG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLiR7Z2V0VXNlck1lZGlhRXhlY0lkKyt9LmA7XG4gIHRyeSB7XG4gICAgdHJhY2VyPy50cmFjZSh0YWcsIGNvbnN0cmFpbnRzKTtcbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG4gICAgdHJhY2VyPy50cmFjZShgJHt0YWd9T25TdWNjZXNzYCwgZHVtcFN0cmVhbShzdHJlYW0pKTtcbiAgICBpZiAoaXNGaXJlZm94KCkpIHtcbiAgICAgIC8vIFdoZW4gZW51bWVyYXRpbmcgZGV2aWNlcywgRmlyZWZveCB3aWxsIGhpZGUgZGV2aWNlIGxhYmVscyB1bmxlc3MgdGhlcmUncyBiZWVuXG4gICAgICAvLyBhbiBhY3RpdmUgdXNlciBtZWRpYSBzdHJlYW0gb24gdGhlIHBhZ2UuIFNvIHdlIGZvcmNlIGRldmljZSBsaXN0IHVwZGF0ZXMgYWZ0ZXJcbiAgICAgIC8vIGV2ZXJ5IHN1Y2Nlc3NmdWwgZ2V0VXNlck1lZGlhIGNhbGwuXG4gICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdkZXZpY2VjaGFuZ2UnKSk7XG4gICAgfVxuICAgIGlmIChjb25zdHJhaW50cy52aWRlbykge1xuICAgICAgY29uc3QgW3ZpZGVvVHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gY29uc3RyYWludHMudmlkZW8gYXMgTWVkaWFUcmFja0NvbnN0cmFpbnRzO1xuICAgICAgICBpZiAod2lkdGggIT09IHRhcmdldC53aWR0aCB8fCBoZWlnaHQgIT09IHRhcmdldC5oZWlnaHQpIHtcbiAgICAgICAgICB0cmFjZXI/LnRyYWNlKFxuICAgICAgICAgICAgYCR7dGFnfVdhcm5gLFxuICAgICAgICAgICAgYFJlcXVlc3RlZCByZXNvbHV0aW9uICR7dGFyZ2V0LndpZHRofXgke3RhcmdldC5oZWlnaHR9IGJ1dCBnb3QgJHt3aWR0aH14JHtoZWlnaHR9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0cmFjZXI/LnRyYWNlKGAke3RhZ31PbkZhaWx1cmVgLCAoZXJyb3IgYXMgRXJyb3IpLm5hbWUpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5mdW5jdGlvbiBpc05vdEZvdW5kT3JPdmVyY29uc3RyYWluZWRFcnJvcihlcnJvcjogdW5rbm93bikge1xuICBpZiAoIWVycm9yIHx8IHR5cGVvZiBlcnJvciAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoJ25hbWUnIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5uYW1lID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IG5hbWUgPSBlcnJvci5uYW1lO1xuICAgIGlmIChbJ092ZXJjb25zdHJhaW5lZEVycm9yJywgJ05vdEZvdW5kRXJyb3InXS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICBpZiAobWVzc2FnZS5zdGFydHNXaXRoKCdPdmVyY29uc3RyYWluZWRFcnJvcicpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhdWRpbyBtZWRpYSBzdHJlYW0gdGhhdCBmdWxmaWxscyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKiBJZiBubyBjb25zdHJhaW50cyBhcmUgcHJvdmlkZWQsIGl0IHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IG9uZXMuXG4gKlxuICogQHBhcmFtIHRyYWNrQ29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdGhlIHN0cmVhbS5cbiAqIEBwYXJhbSB0cmFjZXIgdGhlIHRyYWNlciB0byB1c2UgZm9yIHRyYWNpbmcgdGhlIHN0cmVhbSBjcmVhdGlvbi5cbiAqIEByZXR1cm5zIGEgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgdHJhY2VyPzogVHJhY2VyLFxuKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICBhdWRpbzoge1xuICAgICAgLi4uYXVkaW9EZXZpY2VDb25zdHJhaW50cy5hdWRpbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGF3YWl0IGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5wcm9tcHQoe1xuICAgICAgdGhyb3dPbk5vdEFsbG93ZWQ6IHRydWUsXG4gICAgICBmb3JjZVByb21wdDogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgZ2V0U3RyZWFtKGNvbnN0cmFpbnRzLCB0cmFjZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc05vdEZvdW5kT3JPdmVyY29uc3RyYWluZWRFcnJvcihlcnJvcikgJiYgdHJhY2tDb25zdHJhaW50cz8uZGV2aWNlSWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgIGNvbnN0IHsgZGV2aWNlSWQsIC4uLnJlbGF4ZWRDb25zdHJhaW50cyB9ID0gdHJhY2tDb25zdHJhaW50cztcbiAgICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgYXVkaW8gc3RyZWFtLCB3aWxsIHRyeSBhZ2FpbiB3aXRoIHJlbGF4ZWQgY29uc3RyYWludHMnLFxuICAgICAgICB7IGVycm9yLCBjb25zdHJhaW50cywgcmVsYXhlZENvbnN0cmFpbnRzIH0sXG4gICAgICApO1xuICAgICAgcmV0dXJuIGdldEF1ZGlvU3RyZWFtKHJlbGF4ZWRDb25zdHJhaW50cyk7XG4gICAgfVxuXG4gICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKSgnZXJyb3InLCAnRmFpbGVkIHRvIGdldCBhdWRpbyBzdHJlYW0nLCB7XG4gICAgICBlcnJvcixcbiAgICAgIGNvbnN0cmFpbnRzLFxuICAgIH0pO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSB2aWRlbyBtZWRpYSBzdHJlYW0gdGhhdCBmdWxmaWxscyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKiBJZiBubyBjb25zdHJhaW50cyBhcmUgcHJvdmlkZWQsIGl0IHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IG9uZXMuXG4gKlxuICogQHBhcmFtIHRyYWNrQ29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdGhlIHN0cmVhbS5cbiAqIEBwYXJhbSB0cmFjZXIgdGhlIHRyYWNlciB0byB1c2UgZm9yIHRyYWNpbmcgdGhlIHN0cmVhbSBjcmVhdGlvbi5cbiAqIEByZXR1cm5zIGEgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgdHJhY2VyPzogVHJhY2VyLFxuKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICB2aWRlbzoge1xuICAgICAgLi4udmlkZW9EZXZpY2VDb25zdHJhaW50cy52aWRlbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkucHJvbXB0KHtcbiAgICAgIHRocm93T25Ob3RBbGxvd2VkOiB0cnVlLFxuICAgICAgZm9yY2VQcm9tcHQ6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IGdldFN0cmVhbShjb25zdHJhaW50cywgdHJhY2VyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNOb3RGb3VuZE9yT3ZlcmNvbnN0cmFpbmVkRXJyb3IoZXJyb3IpICYmIHRyYWNrQ29uc3RyYWludHM/LmRldmljZUlkKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICBjb25zdCB7IGRldmljZUlkLCAuLi5yZWxheGVkQ29uc3RyYWludHMgfSA9IHRyYWNrQ29uc3RyYWludHM7XG4gICAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IHZpZGVvIHN0cmVhbSwgd2lsbCB0cnkgYWdhaW4gd2l0aCByZWxheGVkIGNvbnN0cmFpbnRzJyxcbiAgICAgICAgeyBlcnJvciwgY29uc3RyYWludHMsIHJlbGF4ZWRDb25zdHJhaW50cyB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiBnZXRWaWRlb1N0cmVhbShyZWxheGVkQ29uc3RyYWludHMpO1xuICAgIH1cblxuICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoJ2Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgdmlkZW8gc3RyZWFtJywge1xuICAgICAgZXJyb3IsXG4gICAgICBjb25zdHJhaW50cyxcbiAgICB9KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubGV0IGdldERpc3BsYXlNZWRpYUV4ZWNJZCA9IDA7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHNoYXJlIGEgc2NyZWVuLlxuICogSWYgdGhlIHVzZXIgZ3JhbnRzIHRoZSBwZXJtaXNzaW9uLCBhIHNjcmVlbiBzaGFyaW5nIHN0cmVhbSBpcyByZXR1cm5lZC4gVGhyb3dzIG90aGVyd2lzZS5cbiAqXG4gKiBUaGUgY2FsbGVycyBvZiB0aGlzIEFQSSBhcmUgcmVzcG9uc2libGUgdG8gaGFuZGxlIHRoZSBwb3NzaWJsZSBlcnJvcnMuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgYW55IGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBbYGdldERpc3BsYXlNZWRpYWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYURldmljZXMvZ2V0RGlzcGxheU1lZGlhKSBBUEkuXG4gKiBAcGFyYW0gdHJhY2VyIHRoZSB0cmFjZXIgdG8gdXNlIGZvciB0cmFjaW5nIHRoZSBzdHJlYW0gY3JlYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTY3JlZW5TaGFyZVN0cmVhbSA9IGFzeW5jIChcbiAgb3B0aW9ucz86IERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnMsXG4gIHRyYWNlcj86IFRyYWNlciB8IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCB0YWcgPSBgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEuJHtnZXREaXNwbGF5TWVkaWFFeGVjSWQrK30uYDtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyA9IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgcHJlc2VudCBpbiB0eXBlcyB5ZXRcbiAgICAgIHN5c3RlbUF1ZGlvOiAnaW5jbHVkZScsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdmlkZW86XG4gICAgICAgIHR5cGVvZiBvcHRpb25zPy52aWRlbyA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgPyBvcHRpb25zLnZpZGVvIC8vIG11c3QgYmUgJ3RydWUnXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiB7IG1heDogMjU2MCB9LFxuICAgICAgICAgICAgICBoZWlnaHQ6IHsgbWF4OiAxNDQwIH0sXG4gICAgICAgICAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfSxcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucz8udmlkZW8sXG4gICAgICAgICAgICB9LFxuICAgICAgYXVkaW86XG4gICAgICAgIHR5cGVvZiBvcHRpb25zPy5hdWRpbyA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgPyBvcHRpb25zLmF1ZGlvXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogeyBpZGVhbDogMiB9LFxuICAgICAgICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXV0b0dhaW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogZmFsc2UsXG4gICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmF1ZGlvLFxuICAgICAgICAgICAgfSxcbiAgICB9O1xuICAgIHRyYWNlcj8udHJhY2UodGFnLCBjb25zdHJhaW50cyk7XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoY29uc3RyYWludHMpO1xuICAgIHRyYWNlcj8udHJhY2UoYCR7dGFnfU9uU3VjY2Vzc2AsIGR1bXBTdHJlYW0oc3RyZWFtKSk7XG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyYWNlcj8udHJhY2UoYCR7dGFnfU9uRmFpbHVyZWAsIChlIGFzIEVycm9yKS5uYW1lKTtcbiAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKCdlcnJvcicsICdGYWlsZWQgdG8gZ2V0IHNjcmVlbiBzaGFyZSBzdHJlYW0nLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGV2aWNlSWRzJCA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKS5waXBlKFxuICAgICAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICAgICAgY29uY2F0TWFwKCgpID0+IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKSxcbiAgICAgICAgc2hhcmVSZXBsYXkoMSksXG4gICAgICApXG4gICAgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVzb2x2ZXMgYGRlZmF1bHRgIGRldmljZSBpZCBpbnRvIHRoZSByZWFsIGRldmljZSBpZC4gU29tZSBicm93c2VycyAobm90YWJseSxcbiAqIENocm9taXVtLWJhc2VkKSByZXBvcnQgZGV2aWNlIHdpdGggaWQgYGRlZmF1bHRgIGFtb25nIGF1ZGlvIGlucHV0IGFuZCBvdXRwdXRcbiAqIGRldmljZXMuIFNpbmNlIG5vdCBldmVyeSBicm93c2VyIGRvZXMgdGhhdCwgd2UgbmV2ZXIgd2FudCBgZGVmYXVsdGAgaWQgdG8gYmVcbiAqIHVzZWQgd2l0aGluIG91ciBTREsuIFRoaXMgZnVuY3Rpb24gdHJpZXMgdG8gZmluZCB0aGUgcmVhbCBpZCBmb3IgdGhlIGBkZWZhdWx0YFxuICogZGV2aWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZURldmljZUlkKFxuICBkZXZpY2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBraW5kOiBNZWRpYURldmljZUtpbmQsXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAoZGV2aWNlSWQgIT09ICdkZWZhdWx0JykgcmV0dXJuIGRldmljZUlkO1xuICBjb25zdCBkZXZpY2VzID0gZGV2aWNlSWRzJCAmJiBnZXRDdXJyZW50VmFsdWUoZGV2aWNlSWRzJCk7XG4gIGlmICghZGV2aWNlcykgcmV0dXJuIGRldmljZUlkO1xuICBjb25zdCBkZWZhdWx0RGV2aWNlSW5mbyA9IGRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQpO1xuICBpZiAoIWRlZmF1bHREZXZpY2VJbmZvKSByZXR1cm4gZGV2aWNlSWQ7XG4gIGNvbnN0IGdyb3VwSWQgPSBkZWZhdWx0RGV2aWNlSW5mby5ncm91cElkO1xuICBjb25zdCBjYW5kaWRhdGVzID0gZGV2aWNlcy5maWx0ZXIoXG4gICAgKGQpID0+IGQua2luZCA9PT0ga2luZCAmJiBkLmRldmljZUlkICE9PSAnZGVmYXVsdCcgJiYgZC5ncm91cElkID09PSBncm91cElkLFxuICApO1xuICByZXR1cm4gY2FuZGlkYXRlcy5sZW5ndGggPT09IDEgPyBjYW5kaWRhdGVzWzBdLmRldmljZUlkIDogZGV2aWNlSWQ7XG59XG4iLCIvKipcbiAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBwbGF0Zm9ybSBpcyBhIG1vYmlsZSBkZXZpY2UuXG4gKlxuICogU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9Ccm93c2VyX2RldGVjdGlvbl91c2luZ190aGVfdXNlcl9hZ2VudFxuICovXG5leHBvcnQgY29uc3QgaXNNb2JpbGUgPSAoKSA9PiAvTW9iaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBPYnNlcnZhYmxlLCBwYWlyd2lzZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgeyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnLi4vaGVscGVycy9jb21wYXRpYmlsaXR5JztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZGV2aWNlSWRzJCB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQge1xuICBzZXR0bGVkLFxuICB3aXRoQ2FuY2VsbGF0aW9uLFxuICB3aXRob3V0Q29uY3VycmVuY3ksXG59IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHtcbiAgTWVkaWFTdHJlYW1GaWx0ZXIsXG4gIE1lZGlhU3RyZWFtRmlsdGVyRW50cnksXG4gIE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0LFxufSBmcm9tICcuL2ZpbHRlcnMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5wdXRNZWRpYURldmljZU1hbmFnZXI8XG4gIFQgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPEM+LFxuICBDID0gTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuPiB7XG4gIC8qKlxuICAgKiBpZiB0cnVlLCBzdG9wcyB0aGUgbWVkaWEgc3RyZWFtIHdoZW4gY2FsbCBpcyBsZWZ0XG4gICAqL1xuICBzdG9wT25MZWF2ZSA9IHRydWU7XG4gIGxvZ2dlcjogTG9nZ2VyO1xuXG4gIHN0YXRlOiBUO1xuXG4gIHByb3RlY3RlZCByZWFkb25seSBjYWxsOiBDYWxsO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIHByb3RlY3RlZCBzdWJzY3JpcHRpb25zOiBGdW5jdGlvbltdID0gW107XG4gIHByaXZhdGUgYXJlU3Vic2NyaXB0aW9uc1NldFVwID0gZmFsc2U7XG4gIHByaXZhdGUgaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kID0gZmFsc2U7XG4gIHByaXZhdGUgZmlsdGVyczogTWVkaWFTdHJlYW1GaWx0ZXJFbnRyeVtdID0gW107XG4gIHByaXZhdGUgc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ3N0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnJyk7XG4gIHByaXZhdGUgZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woXG4gICAgJ2ZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnJyxcbiAgKTtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY2FsbDogQ2FsbCwgc3RhdGU6IFQsIHRyYWNrVHlwZTogVHJhY2tUeXBlKSB7XG4gICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy50cmFja1R5cGUgPSB0cmFja1R5cGU7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoW2Ake1RyYWNrVHlwZVt0cmFja1R5cGVdLnRvTG93ZXJDYXNlKCl9IG1hbmFnZXJgXSk7XG4gICAgdGhpcy5zZXR1cCgpO1xuICB9XG5cbiAgc2V0dXAoKSB7XG4gICAgaWYgKHRoaXMuYXJlU3Vic2NyaXB0aW9uc1NldFVwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hcmVTdWJzY3JpcHRpb25zU2V0VXAgPSB0cnVlO1xuXG4gICAgaWYgKFxuICAgICAgZGV2aWNlSWRzJCAmJlxuICAgICAgIWlzUmVhY3ROYXRpdmUoKSAmJlxuICAgICAgKHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuQVVESU8gfHwgdGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTylcbiAgICApIHtcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGVkT3JSZXBsYWNlZERldmljZXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGF2YWlsYWJsZSBhdWRpby92aWRlbyBkZXZpY2VzXG4gICAqXG4gICAqIE5vdGU6IEl0IHByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZClcbiAgICpcbiAgICogQHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgYmUgdXBkYXRlZCBpZiBhIGRldmljZSBpcyBjb25uZWN0ZWQgb3IgZGlzY29ubmVjdGVkXG4gICAqL1xuICBsaXN0RGV2aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXREZXZpY2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBgdHJ1ZWAgd2hlbiB0aGlzIGRldmljZSBpcyBpbiBlbmFibGVkIHN0YXRlLlxuICAgKi9cbiAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc3RhdHVzID09PSAnZW5hYmxlZCc7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHN0cmVhbS5cbiAgICovXG4gIGFzeW5jIGVuYWJsZSgpIHtcbiAgICB0aGlzLnN0YXRlLnByZXZTdGF0dXMgPSB0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXM7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cygnZW5hYmxlZCcpO1xuXG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnVubXV0ZVN0cmVhbSgpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZW5hYmxlZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cyh0aGlzLnN0YXRlLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBvciBwYXVzZXMgdGhlIHN0cmVhbSBiYXNlZCBvbiBzdGF0ZS5kaXNhYmxlTW9kZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVN0b3A9ZmFsc2VdIHdoZW4gdHJ1ZSwgc3RvcHMgdGhlIHRyYWNrcyByZWdhcmRsZXNzIG9mIHRoZSBzdGF0ZS5kaXNhYmxlTW9kZVxuICAgKi9cbiAgYXN5bmMgZGlzYWJsZShmb3JjZVN0b3A6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuc3RhdGUucHJldlN0YXR1cyA9IHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cztcbiAgICBpZiAoIWZvcmNlU3RvcCAmJiB0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXMoJ2Rpc2FibGVkJyk7XG5cbiAgICBhd2FpdCB3aXRoQ2FuY2VsbGF0aW9uKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcsIGFzeW5jIChzaWduYWwpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3BUcmFja3MgPVxuICAgICAgICAgIGZvcmNlU3RvcCB8fCB0aGlzLnN0YXRlLmRpc2FibGVNb2RlID09PSAnc3RvcC10cmFja3MnO1xuICAgICAgICBhd2FpdCB0aGlzLm11dGVTdHJlYW0oc3RvcFRyYWNrcyk7XG4gICAgICAgIHRoaXMuc3RhdGUuc2V0U3RhdHVzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cyh0aGlzLnN0YXRlLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIHBlXG4gICAqL1xuICBhc3luYyBzdGF0dXNDaGFuZ2VTZXR0bGVkKCkge1xuICAgIGF3YWl0IHNldHRsZWQodGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZyk7XG4gIH1cblxuICAvKipcbiAgICogSWYgc3RhdHVzIHdhcyBwcmV2aW91c2x5IGVuYWJsZWQsIGl0IHdpbGwgcmUtZW5hYmxlIHRoZSBkZXZpY2UuXG4gICAqL1xuICBhc3luYyByZXN1bWUoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5wcmV2U3RhdHVzID09PSAnZW5hYmxlZCcgJiZcbiAgICAgIHRoaXMuc3RhdGUuc3RhdHVzICE9PSAnZW5hYmxlZCdcbiAgICApIHtcbiAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSBjdXJyZW50IGRldmljZSBzdGF0dXMgaXMgZGlzYWJsZWQsIGl0IHdpbGwgZW5hYmxlIHRoZSBkZXZpY2UsXG4gICAqIGVsc2UgaXQgd2lsbCBkaXNhYmxlIGl0LlxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgZmlsdGVyIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzdHJlYW0uXG4gICAqXG4gICAqIFRoZSByZWdpc3RlcmVkIGZpbHRlciB3aWxsIGdldCB0aGUgZXhpc3Rpbmcgc3RyZWFtLCBhbmQgaXQgc2hvdWxkIHJldHVyblxuICAgKiBhIG5ldyBzdHJlYW0gd2l0aCB0aGUgYXBwbGllZCBmaWx0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBmaWx0ZXIgdGhlIGZpbHRlciB0byByZWdpc3Rlci5cbiAgICogQHJldHVybnMgTWVkaWFTdHJlYW1GaWx0ZXJSZWdpc3RyYXRpb25SZXN1bHRcbiAgICovXG4gIHJlZ2lzdGVyRmlsdGVyKFxuICAgIGZpbHRlcjogTWVkaWFTdHJlYW1GaWx0ZXIsXG4gICk6IE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0IHtcbiAgICBjb25zdCBlbnRyeTogTWVkaWFTdHJlYW1GaWx0ZXJFbnRyeSA9IHtcbiAgICAgIHN0YXJ0OiBmaWx0ZXIsXG4gICAgICBzdG9wOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICB0aGlzLmNhbGwudHJhY2VyLnRyYWNlKGByZWdpc3RlckZpbHRlci4ke1RyYWNrVHlwZVt0aGlzLnRyYWNrVHlwZV19YCwgbnVsbCk7XG4gICAgY29uc3QgcmVnaXN0ZXJlZCA9IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIHRoaXMuZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcsXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHNldHRsZWQodGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZyk7XG4gICAgICAgIHRoaXMuZmlsdGVycy5wdXNoKGVudHJ5KTtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWdpc3RlcmVkLFxuICAgICAgdW5yZWdpc3RlcjogKCkgPT5cbiAgICAgICAgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCBzZXR0bGVkKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcpO1xuICAgICAgICAgIGVudHJ5LnN0b3A/LigpO1xuICAgICAgICAgIHRoaXMuZmlsdGVycyA9IHRoaXMuZmlsdGVycy5maWx0ZXIoKGYpID0+IGYgIT09IGVudHJ5KTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICAgIHRoaXMuY2FsbC50cmFjZXIudHJhY2UoXG4gICAgICAgICAgICBgdW5yZWdpc3RlckZpbHRlci4ke1RyYWNrVHlwZVt0aGlzLnRyYWNrVHlwZV19YCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHNldCB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byBzZXQuXG4gICAqL1xuICBzZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHM6IEMpIHtcbiAgICB0aGlzLnN0YXRlLnNldERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50cyk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0cyBhIGRldmljZS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICogQHBhcmFtIGRldmljZUlkIHRoZSBkZXZpY2UgaWQgdG8gc2VsZWN0LlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLicpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2RGV2aWNlSWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlO1xuICAgIGlmIChkZXZpY2VJZCA9PT0gcHJldkRldmljZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLnN0YXRlLnNldERldmljZShkZXZpY2VJZCk7XG4gICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldERldmljZShwcmV2RGV2aWNlSWQpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBtYW5hZ2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHMpID0+IHMoKSk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgdGhpcy5hcmVTdWJzY3JpcHRpb25zU2V0VXAgPSBmYWxzZTtcbiAgfTtcblxuICBwcm90ZWN0ZWQgYXN5bmMgYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCkge1xuICAgIGF3YWl0IHdpdGhDYW5jZWxsYXRpb24odGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZywgYXN5bmMgKHNpZ25hbCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMubXV0ZVN0cmVhbSgpO1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3RhdHVzKCdkaXNhYmxlZCcpO1xuXG4gICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXdhaXQgdGhpcy51bm11dGVTdHJlYW0oKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZW5hYmxlZCcpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cyh0aGlzLnN0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPjtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0U3RyZWFtKGNvbnN0cmFpbnRzOiBDKTogUHJvbWlzZTxNZWRpYVN0cmVhbT47XG5cbiAgcHJvdGVjdGVkIHB1Ymxpc2hTdHJlYW0oc3RyZWFtOiBNZWRpYVN0cmVhbSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmNhbGwucHVibGlzaChzdHJlYW0sIHRoaXMudHJhY2tUeXBlKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdG9wUHVibGlzaFN0cmVhbSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnN0b3BQdWJsaXNoKHRoaXMudHJhY2tUeXBlKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRUcmFja3MoKTogTWVkaWFTdHJlYW1UcmFja1tdIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbT8uZ2V0VHJhY2tzKCkgPz8gW107XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgbXV0ZVN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICBpZiAoIW1lZGlhU3RyZWFtKSByZXR1cm47XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYCR7c3RvcFRyYWNrcyA/ICdTdG9wcGluZycgOiAnRGlzYWJsaW5nJ30gc3RyZWFtYCk7XG4gICAgaWYgKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3RvcFB1Ymxpc2hTdHJlYW0oKTtcbiAgICB9XG4gICAgdGhpcy5tdXRlTG9jYWxTdHJlYW0oc3RvcFRyYWNrcyk7XG4gICAgY29uc3QgYWxsRW5kZWQgPSB0aGlzLmdldFRyYWNrcygpLmV2ZXJ5KCh0KSA9PiB0LnJlYWR5U3RhdGUgPT09ICdlbmRlZCcpO1xuICAgIGlmIChhbGxFbmRlZCkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWxlYXNlKCkgaXMgcHJlc2VudCBpbiByZWFjdC1uYXRpdmUtd2VicnRjXG4gICAgICBpZiAodHlwZW9mIG1lZGlhU3RyZWFtLnJlbGVhc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYWxsZWQgdG8gZGlzcG9zZSB0aGUgc3RyZWFtIGluIFJOXG4gICAgICAgIG1lZGlhU3RyZWFtLnJlbGVhc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuc2V0TWVkaWFTdHJlYW0odW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgdGhpcy5maWx0ZXJzLmZvckVhY2goKGVudHJ5KSA9PiBlbnRyeS5zdG9wPy4oKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkaXNhYmxlVHJhY2tzKCkge1xuICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgIGlmICh0cmFjay5lbmFibGVkKSB0cmFjay5lbmFibGVkID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGVuYWJsZVRyYWNrcygpIHtcbiAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICBpZiAoIXRyYWNrLmVuYWJsZWQpIHRyYWNrLmVuYWJsZWQgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzdG9wVHJhY2tzKCkge1xuICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgIGlmICh0cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZScpIHRyYWNrLnN0b3AoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgbXV0ZUxvY2FsU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubWVkaWFTdHJlYW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN0b3BUcmFja3MpIHtcbiAgICAgIHRoaXMuc3RvcFRyYWNrcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc2FibGVUcmFja3MoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgdW5tdXRlU3RyZWFtKCkge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdTdGFydGluZyBzdHJlYW0nKTtcbiAgICBsZXQgc3RyZWFtOiBNZWRpYVN0cmVhbTtcbiAgICBsZXQgcm9vdFN0cmVhbTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gfCB1bmRlZmluZWQ7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSAmJlxuICAgICAgdGhpcy5nZXRUcmFja3MoKS5ldmVyeSgodCkgPT4gdC5yZWFkeVN0YXRlID09PSAnbGl2ZScpXG4gICAgKSB7XG4gICAgICBzdHJlYW0gPSB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgdGhpcy5lbmFibGVUcmFja3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGVmYXVsdENvbnN0cmFpbnRzID0gdGhpcy5zdGF0ZS5kZWZhdWx0Q29uc3RyYWludHM7XG4gICAgICBjb25zdCBjb25zdHJhaW50czogTWVkaWFUcmFja0NvbnN0cmFpbnRzID0ge1xuICAgICAgICAuLi5kZWZhdWx0Q29uc3RyYWludHMsXG4gICAgICAgIGRldmljZUlkOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlXG4gICAgICAgICAgPyB7IGV4YWN0OiB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hhaW5zIHR3byBtZWRpYSBzdHJlYW1zIHRvZ2V0aGVyLlxuICAgICAgICpcbiAgICAgICAqIEluIG91ciBjYXNlLCBmaWx0ZXJzIE1lZGlhU3RyZWFtcyBhcmUgZGVyaXZlZCBmcm9tIHRoZWlyIHBhcmVudCBNZWRpYVN0cmVhbS5cbiAgICAgICAqIEhvd2V2ZXIsIG9uY2UgYSBjaGlsZCBmaWx0ZXIncyB0cmFjayBpcyBzdG9wcGVkLFxuICAgICAgICogdGhlIHRyYWNrcyBvZiB0aGUgcGFyZW50IE1lZGlhU3RyZWFtIGFyZW4ndCBhdXRvbWF0aWNhbGx5IHN0b3BwZWQuXG4gICAgICAgKiBUaGlzIGxlYWRzIHRvIGEgc2l0dWF0aW9uIHdoZXJlIHRoZSBjYW1lcmEgaW5kaWNhdG9yIGxpZ2h0IGlzIHN0aWxsIG9uXG4gICAgICAgKiBldmVuIHRob3VnaCB0aGUgdXNlciBzdG9wcGVkIHB1Ymxpc2hpbmcgdmlkZW8uXG4gICAgICAgKlxuICAgICAgICogVGhpcyBmdW5jdGlvbiB3b3JrcyBhcm91bmQgdGhpcyBpc3N1ZSBieSBzdG9wcGluZyB0aGUgcGFyZW50IE1lZGlhU3RyZWFtJ3MgdHJhY2tzXG4gICAgICAgKiBhcyB3ZWxsIG9uY2UgdGhlIGNoaWxkIGZpbHRlcidzIHRyYWNrcyBhcmUgc3RvcHBlZC5cbiAgICAgICAqXG4gICAgICAgKiBJdCB3b3JrcyBieSBwYXRjaGluZyB0aGUgc3RvcCgpIG1ldGhvZCBvZiB0aGUgY2hpbGQgZmlsdGVyJ3MgdHJhY2tzIHRvIGFsc28gc3RvcFxuICAgICAgICogdGhlIHBhcmVudCBNZWRpYVN0cmVhbSdzIHRyYWNrcyBvZiB0aGUgc2FtZSB0eXBlLiBIZXJlIHdlIGFzc3VtZSB0aGF0XG4gICAgICAgKiB0aGUgcGFyZW50IE1lZGlhU3RyZWFtIGhhcyBvbmx5IG9uZSB0cmFjayBvZiBlYWNoIHR5cGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHBhcmVudFN0cmVhbSB0aGUgcGFyZW50IE1lZGlhU3RyZWFtLiBPbWl0IGZvciB0aGUgcm9vdCBzdHJlYW0uXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGNoYWluV2l0aCA9XG4gICAgICAgIChwYXJlbnRTdHJlYW0/OiBQcm9taXNlPE1lZGlhU3RyZWFtPikgPT5cbiAgICAgICAgYXN5bmMgKGZpbHRlclN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPE1lZGlhU3RyZWFtPiA9PiB7XG4gICAgICAgICAgaWYgKCFwYXJlbnRTdHJlYW0pIHJldHVybiBmaWx0ZXJTdHJlYW07XG4gICAgICAgICAgLy8gVE9ETyBPTDogdGFrZSBjYXJlIG9mIHRyYWNrLmVuYWJsZWQgcHJvcGVydHkgYXMgd2VsbFxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGF3YWl0IHBhcmVudFN0cmVhbTtcbiAgICAgICAgICBmaWx0ZXJTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IHRyYWNrLnN0b3A7XG4gICAgICAgICAgICB0cmFjay5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxTdG9wLmNhbGwodHJhY2spO1xuICAgICAgICAgICAgICBwYXJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgocGFyZW50VHJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhY2sua2luZCA9PT0gdHJhY2sua2luZCkge1xuICAgICAgICAgICAgICAgICAgcGFyZW50VHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcGFyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHBhcmVudFRyYWNrKSA9PiB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBwYXJlbnQgc3RyZWFtIGFicnVwdGx5IGVuZHMsIHdlIHByb3BhZ2F0ZSB0aGUgZXZlbnRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBmaWx0ZXIgc3RyZWFtLlxuICAgICAgICAgICAgLy8gVGhpcyB1c3VhbGx5IGhhcHBlbnMgd2hlbiB0aGUgY2FtZXJhL21pY3JvcGhvbmUgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIC8vIGFyZSByZXZva2VkIG9yIHdoZW4gdGhlIGRldmljZSBpcyBkaXNjb25uZWN0ZWQuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVQYXJlbnRUcmFja0VuZGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgICBmaWx0ZXJTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhY2sua2luZCAhPT0gdHJhY2sua2luZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0cmFjay5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnZW5kZWQnKSk7IC8vIHByb3BhZ2F0ZSB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFyZW50VHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVQYXJlbnRUcmFja0VuZGVkKTtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgcGFyZW50VHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVQYXJlbnRUcmFja0VuZGVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIGZpbHRlclN0cmVhbTtcbiAgICAgICAgfTtcblxuICAgICAgLy8gdGhlIHJvb3RTdHJlYW0gcmVwcmVzZW50cyB0aGUgc3RyZWFtIGNvbWluZyBmcm9tIHRoZSBhY3R1YWwgZGV2aWNlXG4gICAgICAvLyBlLmcuIGNhbWVyYSBvciBtaWNyb3Bob25lIHN0cmVhbVxuICAgICAgcm9vdFN0cmVhbSA9IHRoaXMuZ2V0U3RyZWFtKGNvbnN0cmFpbnRzIGFzIEMpO1xuICAgICAgLy8gd2UgcHVibGlzaCB0aGUgbGFzdCBNZWRpYVN0cmVhbSBvZiB0aGUgY2hhaW5cbiAgICAgIHN0cmVhbSA9IGF3YWl0IHRoaXMuZmlsdGVycy5yZWR1Y2UoXG4gICAgICAgIChwYXJlbnQsIGVudHJ5KSA9PlxuICAgICAgICAgIHBhcmVudFxuICAgICAgICAgICAgLnRoZW4oKGlucHV0U3RyZWFtKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgc3RvcCwgb3V0cHV0IH0gPSBlbnRyeS5zdGFydChpbnB1dFN0cmVhbSk7XG4gICAgICAgICAgICAgIGVudHJ5LnN0b3AgPSBzdG9wO1xuICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGNoYWluV2l0aChwYXJlbnQpLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICAgICdGaWx0ZXIgZmFpbGVkIHRvIHN0YXJ0IGFuZCB3aWxsIGJlIGlnbm9yZWQnLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIHJvb3RTdHJlYW0sXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoU3RyZWFtKHN0cmVhbSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICE9PSBzdHJlYW0pIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0TWVkaWFTdHJlYW0oc3RyZWFtLCBhd2FpdCByb290U3RyZWFtKTtcbiAgICAgIGNvbnN0IGhhbmRsZVRyYWNrRW5kZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSBmYWxzZTtcbiAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNyZWF0ZVRyYWNrTXV0ZUhhbmRsZXIgPSAobXV0ZWQ6IGJvb2xlYW4pID0+ICgpID0+IHtcbiAgICAgICAgaWYgKCFpc01vYmlsZSgpIHx8IHRoaXMudHJhY2tUeXBlICE9PSBUcmFja1R5cGUuVklERU8pIHJldHVybjtcbiAgICAgICAgdGhpcy5jYWxsLm5vdGlmeVRyYWNrTXV0ZVN0YXRlKG11dGVkLCB0aGlzLnRyYWNrVHlwZSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0Vycm9yIHdoaWxlIG5vdGlmeWluZyB0cmFjayBtdXRlIHN0YXRlJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIGNvbnN0IG11dGVIYW5kbGVyID0gY3JlYXRlVHJhY2tNdXRlSGFuZGxlcih0cnVlKTtcbiAgICAgICAgY29uc3QgdW5tdXRlSGFuZGxlciA9IGNyZWF0ZVRyYWNrTXV0ZUhhbmRsZXIoZmFsc2UpO1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdtdXRlJywgbXV0ZUhhbmRsZXIpO1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCd1bm11dGUnLCB1bm11dGVIYW5kbGVyKTtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ211dGUnLCBtdXRlSGFuZGxlcik7XG4gICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgdW5tdXRlSGFuZGxlcik7XG4gICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldCBtZWRpYURldmljZUtpbmQoKSB7XG4gICAgaWYgKHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuQVVESU8pIHtcbiAgICAgIHJldHVybiAnYXVkaW9pbnB1dCc7XG4gICAgfVxuICAgIGlmICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPKSB7XG4gICAgICByZXR1cm4gJ3ZpZGVvaW5wdXQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzKCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtcbiAgICAgICAgICBkZXZpY2VJZHMkIS5waXBlKHBhaXJ3aXNlKCkpLFxuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UkLFxuICAgICAgICBdKSxcbiAgICAgICAgYXN5bmMgKFtbcHJldkRldmljZXMsIGN1cnJlbnREZXZpY2VzXSwgZGV2aWNlSWRdKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghZGV2aWNlSWQpIHJldHVybjtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuXG4gICAgICAgICAgICBsZXQgaXNEZXZpY2VEaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBpc0RldmljZVJlcGxhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGV2aWNlID0gdGhpcy5maW5kRGV2aWNlKGN1cnJlbnREZXZpY2VzLCBkZXZpY2VJZCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RGV2aWNlID0gdGhpcy5maW5kRGV2aWNlKHByZXZEZXZpY2VzLCBkZXZpY2VJZCk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnREZXZpY2UgJiYgcHJldkRldmljZSkge1xuICAgICAgICAgICAgICBpc0RldmljZURpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlICYmXG4gICAgICAgICAgICAgIHByZXZEZXZpY2UgJiZcbiAgICAgICAgICAgICAgY3VycmVudERldmljZS5kZXZpY2VJZCA9PT0gcHJldkRldmljZS5kZXZpY2VJZCAmJlxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlLmdyb3VwSWQgIT09IHByZXZEZXZpY2UuZ3JvdXBJZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlzRGV2aWNlUmVwbGFjZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEZXZpY2VEaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VsZWN0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEZXZpY2VSZXBsYWNlZCkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2Rpc2FibGVkJ1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgJ1VuZXhwZWN0ZWQgZXJyb3Igd2hpbGUgaGFuZGxpbmcgZGlzY29ubmVjdGVkIG9yIHJlcGxhY2VkIGRldmljZScsXG4gICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kRGV2aWNlKGRldmljZXM6IE1lZGlhRGV2aWNlSW5mb1tdLCBkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgY29uc3Qga2luZCA9IHRoaXMubWVkaWFEZXZpY2VLaW5kO1xuICAgIHJldHVybiBkZXZpY2VzLmZpbmQoKGQpID0+IGQuZGV2aWNlSWQgPT09IGRldmljZUlkICYmIGQua2luZCA9PT0ga2luZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIE9ic2VydmFibGUsXG4gIG9mLFxuICBzaGFyZVJlcGxheSxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBSeFV0aWxzIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24sIEJyb3dzZXJQZXJtaXNzaW9uU3RhdGUgfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcblxuZXhwb3J0IHR5cGUgSW5wdXREZXZpY2VTdGF0dXMgPSAnZW5hYmxlZCcgfCAnZGlzYWJsZWQnIHwgdW5kZWZpbmVkO1xuZXhwb3J0IHR5cGUgVHJhY2tEaXNhYmxlTW9kZSA9ICdzdG9wLXRyYWNrcycgfCAnZGlzYWJsZS10cmFja3MnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZTxDID0gTWVkaWFUcmFja0NvbnN0cmFpbnRzPiB7XG4gIHByb3RlY3RlZCBzdGF0dXNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxJbnB1dERldmljZVN0YXR1cz4odW5kZWZpbmVkKTtcbiAgcHJvdGVjdGVkIG9wdGltaXN0aWNTdGF0dXNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxJbnB1dERldmljZVN0YXR1cz4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcm90ZWN0ZWQgbWVkaWFTdHJlYW1TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcm90ZWN0ZWQgc2VsZWN0ZWREZXZpY2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJvdGVjdGVkIGRlZmF1bHRDb25zdHJhaW50c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PEMgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcmV2U3RhdHVzOiBJbnB1dERldmljZVN0YXR1cztcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50IG1lZGlhIHN0cmVhbSwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIGRldmljZSBpcyBjdXJyZW50bHkgZGlzYWJsZWQuXG4gICAqXG4gICAqL1xuICBtZWRpYVN0cmVhbSQgPSB0aGlzLm1lZGlhU3RyZWFtU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqL1xuICBzZWxlY3RlZERldmljZSQgPSB0aGlzLnNlbGVjdGVkRGV2aWNlU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGRldmljZSBzdGF0dXNcbiAgICovXG4gIHN0YXR1cyQgPSB0aGlzLnN0YXR1c1N1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGUgcmVmbGVjdHMgdGhlIHJlcXVlc3RlZCBkZXZpY2Ugc3RhdHVzLiBVc2VmdWwgZm9yIG9wdGltaXN0aWMgVUlzXG4gICAqL1xuICBvcHRpbWlzdGljU3RhdHVzJCA9IHRoaXMub3B0aW1pc3RpY1N0YXR1c1N1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqL1xuICBkZWZhdWx0Q29uc3RyYWludHMkID0gdGhpcy5kZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBlbWl0IGB0cnVlYCBpZiBicm93c2VyL3N5c3RlbSBwZXJtaXNzaW9uXG4gICAqIGlzIGdyYW50ZWQgKG9yIGF0IGxlYXN0IGhhc24ndCBiZWVuIGRlbmllZCksIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKi9cbiAgaGFzQnJvd3NlclBlcm1pc3Npb24kOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2l0aCBicm93c2VyIHBlcm1pc3Npb24gc3RhdGUgY2hhbmdlcy5cbiAgICogR2l2ZXMgbW9yZSBncmFudWxhciB2aXNpYmxpdHkgdGhhbiBoYXNCcm93c2VyUGVybWlzc2lvbiQuXG4gICAqL1xuICBicm93c2VyUGVybWlzc2lvblN0YXRlJDogT2JzZXJ2YWJsZTxCcm93c2VyUGVybWlzc2lvblN0YXRlPjtcblxuICAvKipcbiAgICogQW4gb2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGB0cnVlYCB3aGVuIFNESyBpcyBwcm9tcHRpbmcgZm9yIGJyb3dzZXIgcGVybWlzc2lvblxuICAgKiAoaS5lLiBicm93c2VyJ3MgVUkgZm9yIGFsbG93aW5nIG9yIGRpc2FsbG93aW5nIGRldmljZSBhY2Nlc3MgaXMgdmlzaWJsZSlcbiAgICovXG4gIGlzUHJvbXB0aW5nUGVybWlzc2lvbiQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBkaXNhYmxlTW9kZSB0aGUgZGlzYWJsZSBtb2RlIHRvIHVzZS5cbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIEJyb3dzZXJQZXJtaXNzaW9uIHRvIHVzZSBmb3IgcXVlcnlpbmcuXG4gICAqIGB1bmRlZmluZWRgIG1lYW5zIG5vIHBlcm1pc3Npb24gaXMgcmVxdWlyZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnLFxuICAgIHBlcm1pc3Npb24/OiBCcm93c2VyUGVybWlzc2lvbixcbiAgKSB7XG4gICAgdGhpcy5oYXNCcm93c2VyUGVybWlzc2lvbiQgPSBwZXJtaXNzaW9uXG4gICAgICA/IHBlcm1pc3Npb24uYXNPYnNlcnZhYmxlKCkucGlwZShzaGFyZVJlcGxheSgxKSlcbiAgICAgIDogb2YodHJ1ZSk7XG5cbiAgICB0aGlzLmJyb3dzZXJQZXJtaXNzaW9uU3RhdGUkID0gcGVybWlzc2lvblxuICAgICAgPyBwZXJtaXNzaW9uLmFzU3RhdGVPYnNlcnZhYmxlKCkucGlwZShzaGFyZVJlcGxheSgxKSlcbiAgICAgIDogb2YoJ3Byb21wdCcpO1xuXG4gICAgdGhpcy5pc1Byb21wdGluZ1Blcm1pc3Npb24kID0gcGVybWlzc2lvblxuICAgICAgPyBwZXJtaXNzaW9uLmdldElzUHJvbXB0aW5nT2JzZXJ2YWJsZSgpLnBpcGUoc2hhcmVSZXBsYXkoMSkpXG4gICAgICA6IG9mKGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGV2aWNlIHN0YXR1c1xuICAgKi9cbiAgZ2V0IHN0YXR1cygpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGF0dXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVxdWVzdGVkIGRldmljZSBzdGF0dXMuIFVzZWZ1bCBmb3Igb3B0aW1pc3RpYyBVSXNcbiAgICovXG4gIGdldCBvcHRpbWlzdGljU3RhdHVzKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkRGV2aWNlKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgbWVkaWEgc3RyZWFtLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgZGV2aWNlIGlzIGN1cnJlbnRseSBkaXNhYmxlZC5cbiAgICovXG4gIGdldCBtZWRpYVN0cmVhbSgpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5tZWRpYVN0cmVhbSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RhdHVzXG4gICAqL1xuICBzZXRTdGF0dXMoc3RhdHVzOiBJbnB1dERldmljZVN0YXR1cykge1xuICAgIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhdHVzU3ViamVjdCwgc3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHBlbmRpbmdTdGF0dXNcbiAgICovXG4gIHNldFBlbmRpbmdTdGF0dXMocGVuZGluZ1N0YXR1czogSW5wdXREZXZpY2VTdGF0dXMpIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0LCBwZW5kaW5nU3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBgbWVkaWFTdHJlYW1gIHN0YXRlIHZhcmlhYmxlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHN0cmVhbSB0aGUgc3RyZWFtIHRvIHNldC5cbiAgICogQHBhcmFtIHJvb3RTdHJlYW0gdGhlIHJvb3Qgc3RyZWFtLCBhcHBsaWNhYmxlIHdoZW4gZmlsdGVycyBhcmUgdXNlZFxuICAgKiBhcyB0aGlzIGlzIHRoZSBzdHJlYW0gdGhhdCBob2xkcyB0aGUgYWN0dWFsIGRldmljZUlkIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgc2V0TWVkaWFTdHJlYW0oXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgICByb290U3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZWRpYVN0cmVhbVN1YmplY3QsIHN0cmVhbSk7XG4gICAgaWYgKHJvb3RTdHJlYW0pIHtcbiAgICAgIHRoaXMuc2V0RGV2aWNlKHRoaXMuZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHJvb3RTdHJlYW0pKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBkZXZpY2VJZCB0aGUgZGV2aWNlIGlkIHRvIHNldC5cbiAgICovXG4gIHNldERldmljZShkZXZpY2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZVN1YmplY3QsIGRldmljZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKi9cbiAgZ2V0IGRlZmF1bHRDb25zdHJhaW50cygpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5kZWZhdWx0Q29uc3RyYWludHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byBzZXQuXG4gICAqL1xuICBzZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHM6IEMgfCB1bmRlZmluZWQpIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmRlZmF1bHRDb25zdHJhaW50c1N1YmplY3QsIGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXREZXZpY2VJZEZyb21TdHJlYW0oXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBSeFV0aWxzIH0gZnJvbSAnLi4vc3RvcmUnO1xuXG5leHBvcnQgdHlwZSBDYW1lcmFEaXJlY3Rpb24gPSAnZnJvbnQnIHwgJ2JhY2snIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhTWFuYWdlclN0YXRlIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB7XG4gIHByaXZhdGUgZGlyZWN0aW9uU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FtZXJhRGlyZWN0aW9uPih1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHByZWZlcnJlZCBjYW1lcmEgZGlyZWN0aW9uXG4gICAqIGZyb250IC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIHVzZXJcbiAgICogYmFjayAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSBlbnZpcm9ubWVudFxuICAgKi9cbiAgZGlyZWN0aW9uJDogT2JzZXJ2YWJsZTxDYW1lcmFEaXJlY3Rpb24+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdG9wLXRyYWNrcycsIGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24oKSk7XG4gICAgdGhpcy5kaXJlY3Rpb24kID0gdGhpcy5kaXJlY3Rpb25TdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgY2FtZXJhIGRpcmVjdGlvblxuICAgKiBmcm9udCAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSB1c2VyXG4gICAqIGJhY2sgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgZW52aXJvbm1lbnRcbiAgICovXG4gIGdldCBkaXJlY3Rpb24oKSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZGlyZWN0aW9uJCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXREaXJlY3Rpb24oZGlyZWN0aW9uOiBDYW1lcmFEaXJlY3Rpb24pIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmRpcmVjdGlvblN1YmplY3QsIGRpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvdmVycmlkZSBzZXRNZWRpYVN0cmVhbShcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHJvb3RTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5zZXRNZWRpYVN0cmVhbShzdHJlYW0sIHJvb3RTdHJlYW0pO1xuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIC8vIFJOIGdldFNldHRpbmdzKCkgZG9lc24ndCByZXR1cm4gZmFjaW5nTW9kZSwgc28gd2UgZG9uJ3QgdmVyaWZ5IGNhbWVyYSBkaXJlY3Rpb25cbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGlzUmVhY3ROYXRpdmUoKVxuICAgICAgICA/IHRoaXMuZGlyZWN0aW9uXG4gICAgICAgIDogc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0/LmdldFNldHRpbmdzKCkuZmFjaW5nTW9kZSA9PT0gJ2Vudmlyb25tZW50J1xuICAgICAgICAgID8gJ2JhY2snXG4gICAgICAgICAgOiAnZnJvbnQnO1xuICAgICAgdGhpcy5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcbiAgICByZXR1cm4gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbWVyYURpcmVjdGlvbiwgQ2FtZXJhTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9DYW1lcmFNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IGdldFZpZGVvRGV2aWNlcywgZ2V0VmlkZW9TdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgT3duQ2FwYWJpbGl0eSwgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4uL2hlbHBlcnMvY29tcGF0aWJpbGl0eSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhTWFuYWdlciBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPENhbWVyYU1hbmFnZXJTdGF0ZT4ge1xuICBwcml2YXRlIHRhcmdldFJlc29sdXRpb24gPSB7XG4gICAgd2lkdGg6IDEyODAsXG4gICAgaGVpZ2h0OiA3MjAsXG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FtZXJhTWFuYWdlci5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYWxsOiBDYWxsKSB7XG4gICAgc3VwZXIoY2FsbCwgbmV3IENhbWVyYU1hbmFnZXJTdGF0ZSgpLCBUcmFja1R5cGUuVklERU8pO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0RpcmVjdGlvblN1cHBvcnRlZEJ5RGV2aWNlKCkge1xuICAgIHJldHVybiBpc1JlYWN0TmF0aXZlKCkgfHwgaXNNb2JpbGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgdGhlIGNhbWVyYSBkaXJlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgY2FtZXJhIHRvIHNlbGVjdC5cbiAgICovXG4gIGFzeW5jIHNlbGVjdERpcmVjdGlvbihkaXJlY3Rpb246IEV4Y2x1ZGU8Q2FtZXJhRGlyZWN0aW9uLCB1bmRlZmluZWQ+KSB7XG4gICAgaWYgKCF0aGlzLmlzRGlyZWN0aW9uU3VwcG9ydGVkQnlEZXZpY2UoKSkge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnU2V0dGluZyBkaXJlY3Rpb24gaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHByb3ZpZGluZyBib3RoIGRldmljZSBpZCBhbmQgZGlyZWN0aW9uIGRvZXNuJ3Qgd29yaywgc28gd2UgZGVzZWxlY3QgdGhlIGRldmljZVxuICAgIHRoaXMuc3RhdGUuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbik7XG4gICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UodW5kZWZpbmVkKTtcblxuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB0aGlzLmdldFRyYWNrcygpWzBdIGFzIE1lZGlhU3RyZWFtVHJhY2sgfCB1bmRlZmluZWQ7XG4gICAgICBhd2FpdCB2aWRlb1RyYWNrPy5hcHBseUNvbnN0cmFpbnRzKHtcbiAgICAgICAgZmFjaW5nTW9kZTogZGlyZWN0aW9uID09PSAnZnJvbnQnID8gJ3VzZXInIDogJ2Vudmlyb25tZW50JyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMudW5tdXRlU3RyZWFtKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdOb3RSZWFkYWJsZUVycm9yJykge1xuICAgICAgICAvLyB0aGUgY2FtZXJhIGlzIGFscmVhZHkgaW4gdXNlLCBhbmQgdGhlIGRldmljZSBjYW4ndCB1c2UgaXQgdW5sZXNzIGl0J3MgcmVsZWFzZWQuXG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byBzdG9wIHRoZSBzdHJlYW0gYW5kIHN0YXJ0IGl0IGFnYWluLlxuICAgICAgICBhd2FpdCB0aGlzLm11dGVTdHJlYW0oKTtcbiAgICAgICAgYXdhaXQgdGhpcy51bm11dGVTdHJlYW0oKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGbGlwcyB0aGUgY2FtZXJhIGRpcmVjdGlvbjogaWYgaXQncyBmcm9udCBpdCB3aWxsIGNoYW5nZSB0byBiYWNrLCBpZiBpdCdzIGJhY2ssIGl0IHdpbGwgY2hhbmdlIHRvIGZyb250LlxuICAgKlxuICAgKiBOb3RlOiBpZiB0aGVyZSBpcyBubyBhdmFpbGFibGUgY2FtZXJhIHdpdGggdGhlIGRlc2lyZWQgZGlyZWN0aW9uLCB0aGlzIG1ldGhvZCB3aWxsIGRvIG5vdGhpbmcuXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBmbGlwKCkge1xuICAgIGNvbnN0IG5ld0RpcmVjdGlvbiA9IHRoaXMuc3RhdGUuZGlyZWN0aW9uID09PSAnZnJvbnQnID8gJ2JhY2snIDogJ2Zyb250JztcbiAgICBhd2FpdCB0aGlzLnNlbGVjdERpcmVjdGlvbihuZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXN5bmMgc2VsZWN0VGFyZ2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0pIHtcbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb24uaGVpZ2h0ID0gcmVzb2x1dGlvbi5oZWlnaHQ7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uLndpZHRoID0gcmVzb2x1dGlvbi53aWR0aDtcbiAgICBpZiAodGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzID09PSAnZW5hYmxlZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gY291bGRuJ3QgZW5hYmxlIGRldmljZSwgdGFyZ2V0IHJlc29sdXRpb24gd2lsbCBiZSBhcHBsaWVkIHRoZSBuZXh0IHRpbWUgdXNlciBhdHRlbXB0cyB0byBzdGFydCB0aGUgZGV2aWNlXG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ2NvdWxkIG5vdCBhcHBseSB0YXJnZXQgcmVzb2x1dGlvbicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtKSB7XG4gICAgICBjb25zdCBbdmlkZW9UcmFja10gPSB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICBpZiAoIXZpZGVvVHJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgaWYgKFxuICAgICAgICB3aWR0aCAhPT0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLndpZHRoIHx8XG4gICAgICAgIGhlaWdodCAhPT0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodFxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgYCR7d2lkdGh9eCR7aGVpZ2h0fSB0YXJnZXQgcmVzb2x1dGlvbiBhcHBsaWVkIHRvIG1lZGlhIHN0cmVhbWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIHZpZGVvIHNldHRpbmdzIHRvIHRoZSBjYW1lcmEuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgdmlkZW8gc2V0dGluZ3MgdG8gYXBwbHkuXG4gICAqIEBwYXJhbSBwdWJsaXNoIHdoZXRoZXIgdG8gcHVibGlzaCB0aGUgc3RyZWFtIGFmdGVyIGFwcGx5aW5nIHRoZSBzZXR0aW5ncy5cbiAgICovXG4gIGFzeW5jIGFwcGx5KHNldHRpbmdzOiBWaWRlb1NldHRpbmdzUmVzcG9uc2UsIHB1Ymxpc2g6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBoYXNQdWJsaXNoZWRWaWRlbyA9ICEhdGhpcy5jYWxsLnN0YXRlLmxvY2FsUGFydGljaXBhbnQ/LnZpZGVvU3RyZWFtO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB0aGlzLmNhbGwucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oXG4gICAgICBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8sXG4gICAgKTtcbiAgICBpZiAoaGFzUHVibGlzaGVkVmlkZW8gfHwgIWhhc1Blcm1pc3Npb24pIHJldHVybjtcblxuICAgIC8vIFdhaXQgZm9yIGFueSBpbiBwcm9ncmVzcyBjYW1lcmEgb3BlcmF0aW9uXG4gICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG5cbiAgICBjb25zdCB7IHRhcmdldF9yZXNvbHV0aW9uLCBjYW1lcmFfZmFjaW5nLCBjYW1lcmFfZGVmYXVsdF9vbiB9ID0gc2V0dGluZ3M7XG4gICAgLy8gbm9ybWFsaXplIHRhcmdldCByZXNvbHV0aW9uIHRvIGxhbmRzY2FwZSBmb3JtYXQuXG4gICAgLy8gb24gbW9iaWxlIGRldmljZXMsIHRoZSBkZXZpY2UgaXRzZWxmIGFkanVzdHMgdGhlIHJlc29sdXRpb24gdG8gcG9ydHJhaXQgb3IgbGFuZHNjYXBlXG4gICAgLy8gZGVwZW5kaW5nIG9uIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgZGV2aWNlLiB1c2luZyBwb3J0cmFpdCByZXNvbHV0aW9uXG4gICAgLy8gd2lsbCByZXN1bHQgaW4gZmFsbGluZyBiYWNrIHRvIHRoZSBkZWZhdWx0IHJlc29sdXRpb24gKDY0MHg0ODApLlxuICAgIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRhcmdldF9yZXNvbHV0aW9uO1xuICAgIGlmICh3aWR0aCA8IGhlaWdodCkgW3dpZHRoLCBoZWlnaHRdID0gW2hlaWdodCwgd2lkdGhdO1xuICAgIGF3YWl0IHRoaXMuc2VsZWN0VGFyZ2V0UmVzb2x1dGlvbih7IHdpZHRoLCBoZWlnaHQgfSk7XG5cbiAgICAvLyBTZXQgY2FtZXJhIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCB5ZXQgc2V0XG4gICAgaWYgKCF0aGlzLnN0YXRlLmRpcmVjdGlvbiAmJiAhdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSkge1xuICAgICAgdGhpcy5zdGF0ZS5zZXREaXJlY3Rpb24oY2FtZXJhX2ZhY2luZyA9PT0gJ2Zyb250JyA/ICdmcm9udCcgOiAnYmFjaycpO1xuICAgIH1cblxuICAgIGlmICghcHVibGlzaCkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBtZWRpYVN0cmVhbSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAodGhpcy5lbmFibGVkICYmIG1lZGlhU3RyZWFtKSB7XG4gICAgICAvLyBUaGUgY2FtZXJhIGlzIGFscmVhZHkgZW5hYmxlZCAoZS5nLiBsb2JieSBzY3JlZW4pLiBQdWJsaXNoIHRoZSBzdHJlYW1cbiAgICAgIGF3YWl0IHRoaXMucHVibGlzaFN0cmVhbShtZWRpYVN0cmVhbSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkICYmIGNhbWVyYV9kZWZhdWx0X29uKSB7XG4gICAgICAvLyBTdGFydCBjYW1lcmEgaWYgYmFja2VuZCBjb25maWcgc3BlY2lmaWVzLCBhbmQgdGhlcmUgaXMgbm8gbG9jYWwgc2V0dGluZ1xuICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPiB7XG4gICAgcmV0dXJuIGdldFZpZGVvRGV2aWNlcyh0aGlzLmNhbGwudHJhY2VyKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdHJlYW0oXG4gICAgY29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGNvbnN0cmFpbnRzLndpZHRoID0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLndpZHRoO1xuICAgIGNvbnN0cmFpbnRzLmhlaWdodCA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHQ7XG4gICAgLy8gV2UgY2FuJ3Qgc2V0IGJvdGggZGV2aWNlIGlkIGFuZCBmYWNpbmcgbW9kZVxuICAgIC8vIERldmljZSBpZCBoYXMgaGlnaGVyIHByaW9yaXR5XG5cbiAgICBpZiAoXG4gICAgICAhY29uc3RyYWludHMuZGV2aWNlSWQgJiZcbiAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uICYmXG4gICAgICB0aGlzLmlzRGlyZWN0aW9uU3VwcG9ydGVkQnlEZXZpY2UoKVxuICAgICkge1xuICAgICAgY29uc3RyYWludHMuZmFjaW5nTW9kZSA9XG4gICAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uID09PSAnZnJvbnQnID8gJ3VzZXInIDogJ2Vudmlyb25tZW50JztcbiAgICB9XG4gICAgcmV0dXJuIGdldFZpZGVvU3RyZWFtKGNvbnN0cmFpbnRzLCB0aGlzLmNhbGwudHJhY2VyKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUnhVdGlscyB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7XG4gIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUsXG4gIFRyYWNrRGlzYWJsZU1vZGUsXG59IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uLCByZXNvbHZlRGV2aWNlSWQgfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgY2xhc3MgTWljcm9waG9uZU1hbmFnZXJTdGF0ZSBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUge1xuICBwcml2YXRlIHNwZWFraW5nV2hpbGVNdXRlZFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KGZhbHNlKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGB0cnVlYCBpZiB0aGUgdXNlcidzIG1pY3JvcGhvbmUgaXMgbXV0ZWQgYnV0IHRoZXknYXJlIHNwZWFraW5nLlxuICAgKlxuICAgKiBUaGlzIGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgUmVhY3QgTmF0aXZlIFNESy5cbiAgICovXG4gIHNwZWFraW5nV2hpbGVNdXRlZCQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgY29uc3RydWN0b3IoZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUpIHtcbiAgICBzdXBlcihkaXNhYmxlTW9kZSwgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpKTtcblxuICAgIHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkJCA9IHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBgdHJ1ZWAgaWYgdGhlIHVzZXIncyBtaWNyb3Bob25lIGlzIG11dGVkIGJ1dCB0aGV5J2FyZSBzcGVha2luZy5cbiAgICpcbiAgICogVGhpcyBmZWF0dXJlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFJlYWN0IE5hdGl2ZSBTREsuXG4gICAqL1xuICBnZXQgc3BlYWtpbmdXaGlsZU11dGVkKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNwZWFraW5nV2hpbGVNdXRlZCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0U3BlYWtpbmdXaGlsZU11dGVkKGlzU3BlYWtpbmc6IGJvb2xlYW4pIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNwZWFraW5nV2hpbGVNdXRlZFN1YmplY3QsIGlzU3BlYWtpbmcpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZUlkRnJvbVN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgY29uc3QgdW5yZXNvbHZlZERldmljZUlkID0gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gICAgcmV0dXJuIHJlc29sdmVEZXZpY2VJZCh1bnJlc29sdmVkRGV2aWNlSWQsICdhdWRpb2lucHV0Jyk7XG4gIH1cbn1cbiIsImV4cG9ydCB0eXBlIFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge1xuICAvKipcbiAgICogRGVmaW5lcyBob3cgb2Z0ZW4gdGhlIGRldGVjdG9yIHNob3VsZCBjaGVjayB3aGV0aGVyIGEgc291bmQgaXMgcHJlc2VudC5cbiAgICogRGVmYXVsdHMgdG8gNTAwbXMuXG4gICAqL1xuICBkZXRlY3Rpb25GcmVxdWVuY3lJbk1zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBhdWRpbyBsZXZlbCB0aHJlc2hvbGQgYmVmb3JlIGEgXCJjaGFuZ2VcIiBpcyBlbWl0dGVkLlxuICAgKiBEZWZhdWx0cyB0byAxNTAuIFRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiAwLTI1NS5cbiAgICovXG4gIGF1ZGlvTGV2ZWxUaHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL3dlYi9hcGkvYW5hbHlzZXJub2RlL2ZmdHNpemVcbiAgICpcbiAgICogRGVmYXVsdHMgdG8gMTI4LlxuICAgKi9cbiAgZmZ0U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmaW5lcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBhdWRpbyBzdHJlYW0gc2hvdWxkIGJlIHN0b3BwZWQgKGRlc3Ryb3llZClcbiAgICogd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKi9cbiAgZGVzdHJveVN0cmVhbU9uU3RvcD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBTb3VuZERldGVjdG9yU3RhdGUgPSB7XG4gIGlzU291bmREZXRlY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlcHJlc2VudGVkIGFzIHBlcmNlbnRhZ2UgKDAtMTAwKSB3aGVyZSAxMDAlIGlzIGRlZmluZWQgYnkgYGF1ZGlvTGV2ZWxUaHJlc2hvbGRgIHByb3BlcnR5LlxuICAgKiBEZWNyZWFzZSB0aW1lIGJldHdlZW4gc2FtcGxlcyAodG8gNTAtMTAwbXMpIHdpdGggYGRldGVjdGlvbkZyZXF1ZW5jeUluTXNgIHByb3BlcnR5LlxuICAgKi9cbiAgYXVkaW9MZXZlbDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgPSAoc3RhdGU6IFNvdW5kRGV0ZWN0b3JTdGF0ZSkgPT4gdm9pZDtcblxuY29uc3QgREVURUNUSU9OX0ZSRVFVRU5DWV9JTl9NUyA9IDUwMDtcbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDE1MDtcbmNvbnN0IEZGVF9TSVpFID0gMTI4O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc291bmQgZGV0ZWN0b3IuXG4gKlxuICogQHBhcmFtIGF1ZGlvU3RyZWFtIHRoZSBhdWRpbyBzdHJlYW0gdG8gb2JzZXJ2ZS4gRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uLCB0aGlzIHN0cmVhbSBtaWdodCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAqIEBwYXJhbSBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQgYSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUgc291bmQgc3RhdGUgY2hhbmdlcy5cbiAqIEBwYXJhbSBvcHRpb25zIGN1c3RvbSBvcHRpb25zIGZvciB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKiBAcmV0dXJucyBhIGNsZWFuLXVwIGZ1bmN0aW9uIHdoaWNoIG9uY2UgaW52b2tlZCBzdG9wcyB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTb3VuZERldGVjdG9yID0gKFxuICBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0sXG4gIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZDogU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIsXG4gIG9wdGlvbnM6IFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge30sXG4pID0+IHtcbiAgY29uc3Qge1xuICAgIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMgPSBERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TLFxuICAgIGF1ZGlvTGV2ZWxUaHJlc2hvbGQgPSBBVURJT19MRVZFTF9USFJFU0hPTEQsXG4gICAgZmZ0U2l6ZSA9IEZGVF9TSVpFLFxuICAgIGRlc3Ryb3lTdHJlYW1PblN0b3AgPSB0cnVlLFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gIGFuYWx5c2VyLmZmdFNpemUgPSBmZnRTaXplO1xuXG4gIGNvbnN0IG1pY3JvcGhvbmUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoYXVkaW9TdHJlYW0pO1xuICBtaWNyb3Bob25lLmNvbm5lY3QoYW5hbHlzZXIpO1xuXG4gIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhKTtcblxuICAgIGNvbnN0IGlzU291bmREZXRlY3RlZCA9IGRhdGEuc29tZSgodmFsdWUpID0+IHZhbHVlID49IGF1ZGlvTGV2ZWxUaHJlc2hvbGQpO1xuXG4gICAgY29uc3QgYXZlcmFnZWREYXRhVmFsdWUgPSBkYXRhLnJlZHVjZSgocHYsIGN2KSA9PiBwdiArIGN2LCAwKSAvIGRhdGEubGVuZ3RoO1xuXG4gICAgY29uc3QgcGVyY2VudGFnZSA9XG4gICAgICBhdmVyYWdlZERhdGFWYWx1ZSA+IGF1ZGlvTGV2ZWxUaHJlc2hvbGRcbiAgICAgICAgPyAxMDBcbiAgICAgICAgOiBNYXRoLnJvdW5kKChhdmVyYWdlZERhdGFWYWx1ZSAvIGF1ZGlvTGV2ZWxUaHJlc2hvbGQpICogMTAwKTtcblxuICAgIC8vIFdoZW4gdGhlIHRyYWNrIGlzIGRpc2FibGVkLCBpdCB0YWtlcyB0aW1lIGZvciB0aGUgYnVmZmVyIHRvIGVtcHR5XG4gICAgLy8gVGhpcyBjaGVjayB3aWxsIGVuc3VyZSB0aGF0IHdlIGRvbid0IHNlbmQgYW55dGhpbmcgaWYgdGhlIHRyYWNrIGlzIGRpc2FibGVkXG4gICAgaWYgKGF1ZGlvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0/LmVuYWJsZWQpIHtcbiAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7IGlzU291bmREZXRlY3RlZCwgYXVkaW9MZXZlbDogcGVyY2VudGFnZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHsgaXNTb3VuZERldGVjdGVkOiBmYWxzZSwgYXVkaW9MZXZlbDogMCB9KTtcbiAgICB9XG4gIH0sIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMpO1xuXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgICAvLyBjbGVhbi11cCB0aGUgQXVkaW9Db250ZXh0IGVsZW1lbnRzXG4gICAgbWljcm9waG9uZS5kaXNjb25uZWN0KCk7XG4gICAgYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgIGlmIChhdWRpb0NvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICBhd2FpdCBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIHRoZSBzdHJlYW1cbiAgICBpZiAoZGVzdHJveVN0cmVhbU9uU3RvcCkge1xuICAgICAgYXVkaW9TdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICBhdWRpb1N0cmVhbS5yZW1vdmVUcmFjayh0cmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQmFzZVN0YXRzIH0gZnJvbSAnLi4vc3RhdHMnO1xuaW1wb3J0IHsgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgfSBmcm9tICcuL3NvdW5kLWRldGVjdG9yJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuLi9zdGF0cy91dGlscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5leHBvcnQgY2xhc3MgUk5TcGVlY2hEZXRlY3RvciB7XG4gIHByaXZhdGUgcGMxID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHt9KTtcbiAgcHJpdmF0ZSBwYzIgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oe30pO1xuICBwcml2YXRlIGF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBleHRlcm5hbEF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihleHRlcm5hbEF1ZGlvU3RyZWFtPzogTWVkaWFTdHJlYW0pIHtcbiAgICB0aGlzLmV4dGVybmFsQXVkaW9TdHJlYW0gPSBleHRlcm5hbEF1ZGlvU3RyZWFtO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgc3BlZWNoIGRldGVjdGlvbi5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBzdGFydChvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQ6IFNvdW5kU3RhdGVDaGFuZ2VIYW5kbGVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW07XG4gICAgICBpZiAodGhpcy5leHRlcm5hbEF1ZGlvU3RyZWFtICE9IG51bGwpIHtcbiAgICAgICAgYXVkaW9TdHJlYW0gPSB0aGlzLmV4dGVybmFsQXVkaW9TdHJlYW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdWRpb1N0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXVkaW9TdHJlYW0gPSBhdWRpb1N0cmVhbTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYzEuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYzIuYWRkSWNlQ2FuZGlkYXRlKFxuICAgICAgICAgIGUuY2FuZGlkYXRlIGFzIFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGMyLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGMxLmFkZEljZUNhbmRpZGF0ZShcbiAgICAgICAgICBlLmNhbmRpZGF0ZSBhcyBSVENJY2VDYW5kaWRhdGVJbml0IHwgdW5kZWZpbmVkLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnBjMi5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIChlKSA9PiB7XG4gICAgICAgIGUuc3RyZWFtc1swXS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgIC8vIEluIFJOLCB0aGUgcmVtb3RlIHRyYWNrIGlzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGF1ZGlvIG91dHB1dCBkZXZpY2VcbiAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIG11dGUgaXQgdG8gYXZvaWQgaGVhcmluZyB0aGUgYXVkaW8gYmFja1xuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgX3NldFZvbHVtZSBpcyBhIHByaXZhdGUgbWV0aG9kIGluIHJlYWN0LW5hdGl2ZS13ZWJydGNcbiAgICAgICAgICB0cmFjay5fc2V0Vm9sdW1lKDApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBhdWRpb1N0cmVhbVxuICAgICAgICAuZ2V0VHJhY2tzKClcbiAgICAgICAgLmZvckVhY2goKHRyYWNrKSA9PiB0aGlzLnBjMS5hZGRUcmFjayh0cmFjaywgYXVkaW9TdHJlYW0pKTtcbiAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgdGhpcy5wYzEuY3JlYXRlT2ZmZXIoe30pO1xuICAgICAgYXdhaXQgdGhpcy5wYzIuc2V0UmVtb3RlRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgYXdhaXQgdGhpcy5wYzEuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjMi5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgIGF3YWl0IHRoaXMucGMxLnNldFJlbW90ZURlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICBhd2FpdCB0aGlzLnBjMi5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICBjb25zdCB1bnN1YiA9IHRoaXMub25TcGVha2luZ0RldGVjdGVkU3RhdGVDaGFuZ2UoXG4gICAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB1bnN1YigpO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ1JOU3BlZWNoRGV0ZWN0b3InXSk7XG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ2Vycm9yIGhhbmRsaW5nIHBlcm1pc3Npb25zOiAnLCBlcnJvcik7XG4gICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBzcGVlY2ggZGV0ZWN0aW9uIGFuZCByZWxlYXNlcyBhbGwgYWxsb2NhdGVkIHJlc291cmNlcy5cbiAgICovXG4gIHByaXZhdGUgc3RvcCgpIHtcbiAgICB0aGlzLnBjMS5jbG9zZSgpO1xuICAgIHRoaXMucGMyLmNsb3NlKCk7XG5cbiAgICBpZiAodGhpcy5leHRlcm5hbEF1ZGlvU3RyZWFtICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZXh0ZXJuYWxBdWRpb1N0cmVhbSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGVhbnVwQXVkaW9TdHJlYW0oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1ldGhvZCB0aGF0IGRldGVjdHMgdGhlIGF1ZGlvIGxldmVscyBhbmQgcmV0dXJucyB0aGUgc3RhdHVzLlxuICAgKi9cbiAgcHJpdmF0ZSBvblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZShcbiAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQ6IFNvdW5kU3RhdGVDaGFuZ2VIYW5kbGVyLFxuICApIHtcbiAgICBjb25zdCBpbml0aWFsQmFzZWxpbmVOb2lzZUxldmVsID0gMC4xMztcbiAgICBsZXQgYmFzZWxpbmVOb2lzZUxldmVsID0gaW5pdGlhbEJhc2VsaW5lTm9pc2VMZXZlbDtcbiAgICBsZXQgc3BlZWNoRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICBsZXQgc3BlZWNoVGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICAgIGxldCBzaWxlbmNlVGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IGF1ZGlvTGV2ZWxIaXN0b3J5OiBudW1iZXJbXSA9IFtdOyAvLyBTdG9yZSByZWNlbnQgYXVkaW8gbGV2ZWxzIGZvciBzbW9vdGhlciBkZXRlY3Rpb25cbiAgICBjb25zdCBoaXN0b3J5TGVuZ3RoID0gMTA7XG4gICAgY29uc3Qgc2lsZW5jZVRocmVzaG9sZCA9IDEuMTtcbiAgICBjb25zdCByZXNldFRocmVzaG9sZCA9IDAuOTtcbiAgICBjb25zdCBzcGVlY2hUaW1lb3V0ID0gNTAwOyAvLyBTcGVlY2ggaXMgc2V0IHRvIHRydWUgYWZ0ZXIgNTAwbXMgb2YgYXVkaW8gZGV0ZWN0aW9uXG4gICAgY29uc3Qgc2lsZW5jZVRpbWVvdXQgPSA1MDAwOyAvLyBSZXNldCBiYXNlbGluZSBhZnRlciA1IHNlY29uZHMgb2Ygc2lsZW5jZVxuXG4gICAgY29uc3QgY2hlY2tBdWRpb0xldmVsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSAoYXdhaXQgdGhpcy5wYzEuZ2V0U3RhdHMoKSkgYXMgUlRDU3RhdHNSZXBvcnQ7XG4gICAgICAgIGNvbnN0IHJlcG9ydCA9IGZsYXR0ZW4oc3RhdHMpO1xuICAgICAgICAvLyBBdWRpbyBsZXZlbHMgYXJlIHByZXNlbnQgaW5zaWRlIHN0YXRzIG9mIHR5cGUgYG1lZGlhLXNvdXJjZWAgYW5kIG9mIGtpbmQgYGF1ZGlvYFxuICAgICAgICBjb25zdCBhdWRpb01lZGlhU291cmNlU3RhdHMgPSByZXBvcnQuZmluZChcbiAgICAgICAgICAoc3RhdCkgPT5cbiAgICAgICAgICAgIHN0YXQudHlwZSA9PT0gJ21lZGlhLXNvdXJjZScgJiZcbiAgICAgICAgICAgIChzdGF0IGFzIFJUQ1J0cFN0cmVhbVN0YXRzKS5raW5kID09PSAnYXVkaW8nLFxuICAgICAgICApIGFzIEJhc2VTdGF0cztcbiAgICAgICAgaWYgKGF1ZGlvTWVkaWFTb3VyY2VTdGF0cykge1xuICAgICAgICAgIGNvbnN0IHsgYXVkaW9MZXZlbCB9ID0gYXVkaW9NZWRpYVNvdXJjZVN0YXRzO1xuICAgICAgICAgIGlmIChhdWRpb0xldmVsKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgYXVkaW8gbGV2ZWwgaGlzdG9yeSAod2l0aCBtYXggaGlzdG9yeUxlbmd0aCBzaXplZCBhcnJheSlcbiAgICAgICAgICAgIGF1ZGlvTGV2ZWxIaXN0b3J5LnB1c2goYXVkaW9MZXZlbCk7XG4gICAgICAgICAgICBpZiAoYXVkaW9MZXZlbEhpc3RvcnkubGVuZ3RoID4gaGlzdG9yeUxlbmd0aCkge1xuICAgICAgICAgICAgICBhdWRpb0xldmVsSGlzdG9yeS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBhdWRpbyBsZXZlbFxuICAgICAgICAgICAgY29uc3QgYXZnQXVkaW9MZXZlbCA9XG4gICAgICAgICAgICAgIGF1ZGlvTGV2ZWxIaXN0b3J5LnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC9cbiAgICAgICAgICAgICAgYXVkaW9MZXZlbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYmFzZWxpbmUgKGlmIG5lY2Vzc2FyeSkgYmFzZWQgb24gc2lsZW5jZSBkZXRlY3Rpb25cbiAgICAgICAgICAgIGlmIChhdmdBdWRpb0xldmVsIDwgYmFzZWxpbmVOb2lzZUxldmVsICogc2lsZW5jZVRocmVzaG9sZCkge1xuICAgICAgICAgICAgICBpZiAoIXNpbGVuY2VUaW1lcikge1xuICAgICAgICAgICAgICAgIHNpbGVuY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYmFzZWxpbmVOb2lzZUxldmVsID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIGF2Z0F1ZGlvTGV2ZWwgKiByZXNldFRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEJhc2VsaW5lTm9pc2VMZXZlbCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSwgc2lsZW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2lsZW5jZVRpbWVyKTtcbiAgICAgICAgICAgICAgc2lsZW5jZVRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTcGVlY2ggZGV0ZWN0aW9uIHdpdGggaHlzdGVyZXNpc1xuICAgICAgICAgICAgaWYgKGF2Z0F1ZGlvTGV2ZWwgPiBiYXNlbGluZU5vaXNlTGV2ZWwgKiAxLjUpIHtcbiAgICAgICAgICAgICAgaWYgKCFzcGVlY2hEZXRlY3RlZCkge1xuICAgICAgICAgICAgICAgIHNwZWVjaERldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoe1xuICAgICAgICAgICAgICAgICAgaXNTb3VuZERldGVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYXVkaW9MZXZlbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChzcGVlY2hUaW1lcik7XG5cbiAgICAgICAgICAgICAgc3BlZWNoVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzcGVlY2hEZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7XG4gICAgICAgICAgICAgICAgICBpc1NvdW5kRGV0ZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgYXVkaW9MZXZlbDogMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSwgc3BlZWNoVGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydSTlNwZWVjaERldGVjdG9yJ10pO1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ2Vycm9yIGNoZWNraW5nIGF1ZGlvIGxldmVsIGZyb20gc3RhdHMnLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIENhbGwgY2hlY2tBdWRpb0xldmVsIHBlcmlvZGljYWxseSAoZXZlcnkgMTAwbXMpXG4gICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGNoZWNrQXVkaW9MZXZlbCwgMTAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHNwZWVjaFRpbWVyKTtcbiAgICAgIGNsZWFyVGltZW91dChzaWxlbmNlVGltZXIpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNsZWFudXBBdWRpb1N0cmVhbSgpIHtcbiAgICBpZiAoIXRoaXMuYXVkaW9TdHJlYW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hdWRpb1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICBpZiAoXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlbGVhc2UoKSBpcyBwcmVzZW50IGluIHJlYWN0LW5hdGl2ZS13ZWJydGNcbiAgICAgIHR5cGVvZiB0aGlzLmF1ZGlvU3RyZWFtLnJlbGVhc2UgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2FsbGVkIHRvIGRpc3Bvc2UgdGhlIHN0cmVhbSBpbiBSTlxuICAgICAgdGhpcy5hdWRpb1N0cmVhbS5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgdHlwZSB7IElOb2lzZUNhbmNlbGxhdGlvbiB9IGZyb20gJ0BzdHJlYW0taW8vYXVkaW8tZmlsdGVycy13ZWInO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL01pY3JvcGhvbmVNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgVHJhY2tEaXNhYmxlTW9kZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBnZXRBdWRpb0RldmljZXMsIGdldEF1ZGlvU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBjcmVhdGVTb3VuZERldGVjdG9yIH0gZnJvbSAnLi4vaGVscGVycy9zb3VuZC1kZXRlY3Rvcic7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHtcbiAgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlLFxuICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0sXG4gIE93bkNhcGFiaWxpdHksXG59IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQge1xuICBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24sXG4gIGNyZWF0ZVN1YnNjcmlwdGlvbixcbn0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgeyBSTlNwZWVjaERldGVjdG9yIH0gZnJvbSAnLi4vaGVscGVycy9STlNwZWVjaERldGVjdG9yJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuXG5leHBvcnQgY2xhc3MgTWljcm9waG9uZU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxNaWNyb3Bob25lTWFuYWdlclN0YXRlPiB7XG4gIHByaXZhdGUgc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IHRydWU7XG4gIHByaXZhdGUgc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcnKTtcbiAgcHJpdmF0ZSBzb3VuZERldGVjdG9yQ2xlYW51cD86IEZ1bmN0aW9uO1xuICBwcml2YXRlIHJuU3BlZWNoRGV0ZWN0b3I6IFJOU3BlZWNoRGV0ZWN0b3IgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb246IElOb2lzZUNhbmNlbGxhdGlvbiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24/OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbj86ICgpID0+IFByb21pc2U8dm9pZD47XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCwgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnKSB7XG4gICAgc3VwZXIoY2FsbCwgbmV3IE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUoZGlzYWJsZU1vZGUpLCBUcmFja1R5cGUuQVVESU8pO1xuICB9XG5cbiAgb3ZlcnJpZGUgc2V0dXAoKTogdm9pZCB7XG4gICAgc3VwZXIuc2V0dXAoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbihcbiAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSQsXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLm93bkNhcGFiaWxpdGllcyQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMkLFxuICAgICAgICBdKSxcbiAgICAgICAgYXN5bmMgKFtjYWxsaW5nU3RhdGUsIG93bkNhcGFiaWxpdGllcywgZGV2aWNlSWQsIHN0YXR1c10pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAob3duQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTykpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oZGV2aWNlSWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NvdWxkIG5vdCBlbmFibGUgc3BlYWtpbmcgd2hpbGUgbXV0ZWQnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUkLCAoY2FsbGluZ1N0YXRlKSA9PiB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBub2lzZSBmaWx0ZXJpbmcgaXNuJ3QgdHVybmVkIG9uXG4gICAgICAgIGlmICghdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiB8fCAhdGhpcy5ub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYXV0b09uID1cbiAgICAgICAgICB0aGlzLmNhbGwuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbj8ubW9kZSA9PT1cbiAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uQVVUT19PTjtcblxuICAgICAgICBpZiAoYXV0b09uICYmIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmNhbkF1dG9FbmFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbi5jYW5BdXRvRW5hYmxlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGNhbkF1dG9FbmFibGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGNhbkF1dG9FbmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uPy5lbmFibGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBlbmFibGUgbm9pc2UgY2FuY2VsbGF0aW9uYCwgZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uPy5kaXNhYmxlKCkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gZGlzYWJsZSBub2lzZSBjYW5jZWxsYXRpb25gLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBub2lzZSBjYW5jZWxsYXRpb24gZm9yIHRoZSBtaWNyb3Bob25lLlxuICAgKlxuICAgKiBAcGFyYW0gbm9pc2VDYW5jZWxsYXRpb24gLSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBhc3luYyBlbmFibGVOb2lzZUNhbmNlbGxhdGlvbihub2lzZUNhbmNlbGxhdGlvbjogSU5vaXNlQ2FuY2VsbGF0aW9uKSB7XG4gICAgY29uc3QgeyBvd25DYXBhYmlsaXRpZXMsIHNldHRpbmdzIH0gPSB0aGlzLmNhbGwuc3RhdGU7XG4gICAgY29uc3QgaGFzTm9pc2VDYW5jZWxsYXRpb25DYXBhYmlsaXR5ID0gb3duQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKFxuICAgICAgT3duQ2FwYWJpbGl0eS5FTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OLFxuICAgICk7XG4gICAgaWYgKCFoYXNOb2lzZUNhbmNlbGxhdGlvbkNhcGFiaWxpdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm9pc2UgY2FuY2VsbGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgfVxuICAgIGNvbnN0IG5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MgPSBzZXR0aW5ncz8uYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uO1xuICAgIGlmIChcbiAgICAgICFub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzIHx8XG4gICAgICBub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzLm1vZGUgPT09XG4gICAgICAgIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bS5ESVNBQkxFRFxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgZGlzYWJsZWQgZm9yIHRoaXMgY2FsbCB0eXBlLicpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvbiA9IG5vaXNlQ2FuY2VsbGF0aW9uO1xuXG4gICAgICAvLyBsaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgYW5kIG5vdGlmeSB0aGUgU0ZVXG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uQ2hhbmdlVW5zdWJzY3JpYmUgPSB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uLm9uKFxuICAgICAgICAnY2hhbmdlJyxcbiAgICAgICAgKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICB0aGlzLmNhbGwudHJhY2VyLnRyYWNlKCdub2lzZUNhbmNlbGxhdGlvbi5lbmFibGVkJywgZW5hYmxlZCk7XG4gICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0IGZhaWxlZGAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wIGZhaWxlZGAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIC8vIG5vIGZpbHRlciByZWdpc3RyYXRpb24gaW4gUmVhY3QgTmF0aXZlLCBpdHMgZG9uZSBpbiB0aGUgbmF0aXZlIGNvZGUgb24gYXBwIGluaXRcbiAgICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gdGhpcy5yZWdpc3RlckZpbHRlcihcbiAgICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi50b0ZpbHRlcigpLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnJlZ2lzdGVyZWQ7XG4gICAgICAgIHRoaXMudW5yZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnVucmVnaXN0ZXI7XG4gICAgICAgIGF3YWl0IHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb247XG4gICAgICB9XG5cbiAgICAgIC8vIGhhbmRsZXMgYW4gZWRnZSBjYXNlIHdoZXJlIGEgbm9pc2UgY2FuY2VsbGF0aW9uIGlzIGVuYWJsZWQgYWZ0ZXJcbiAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBhcyBqb2luZWQgdGhlIGNhbGwgLT4gd2UgaW1tZWRpYXRlbHkgZW5hYmxlIE5DXG4gICAgICBpZiAoXG4gICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MubW9kZSA9PT1cbiAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uQVVUT19PTiAmJlxuICAgICAgICB0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEXG4gICAgICApIHtcbiAgICAgICAgbGV0IGNhbkF1dG9FbmFibGUgPSB0cnVlO1xuICAgICAgICBpZiAobm9pc2VDYW5jZWxsYXRpb24uY2FuQXV0b0VuYWJsZSkge1xuICAgICAgICAgIGNhbkF1dG9FbmFibGUgPSBhd2FpdCBub2lzZUNhbmNlbGxhdGlvbi5jYW5BdXRvRW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbkF1dG9FbmFibGUpIHtcbiAgICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBlbmFibGUgbm9pc2UgY2FuY2VsbGF0aW9uJywgZSk7XG4gICAgICBhd2FpdCB0aGlzLmRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIGRpc2FibGUgbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgbm9pc2UgY2FuY2VsbGF0aW9uIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpIHtcbiAgICBhd2FpdCAodGhpcy51bnJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24/LigpID8/IFByb21pc2UucmVzb2x2ZSgpKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbj8uZGlzYWJsZSgpKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlPy4oKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byB1bnJlZ2lzdGVyIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgICB9KTtcblxuICAgIHRoaXMuY2FsbC50cmFjZXIudHJhY2UoJ25vaXNlQ2FuY2VsbGF0aW9uLmRpc2FibGVkJywgdHJ1ZSk7XG4gICAgYXdhaXQgdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgc3BlYWtpbmcgd2hpbGUgbXV0ZWQgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgYXN5bmMgZW5hYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uKCkge1xuICAgIHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICBhd2FpdCB0aGlzLnN0YXJ0U3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBzcGVha2luZyB3aGlsZSBtdXRlZCBub3RpZmljYXRpb24uXG4gICAqL1xuICBhc3luYyBkaXNhYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uKCkge1xuICAgIHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGF1ZGlvIHNldHRpbmdzIHRvIHRoZSBtaWNyb3Bob25lLlxuICAgKiBAcGFyYW0gc2V0dGluZ3MgdGhlIGF1ZGlvIHNldHRpbmdzIHRvIGFwcGx5LlxuICAgKiBAcGFyYW0gcHVibGlzaCB3aGV0aGVyIHRvIHB1Ymxpc2ggdGhlIHN0cmVhbSBhZnRlciBhcHBseWluZyB0aGUgc2V0dGluZ3MuXG4gICAqL1xuICBhc3luYyBhcHBseShzZXR0aW5nczogQXVkaW9TZXR0aW5nc1Jlc3BvbnNlLCBwdWJsaXNoOiBib29sZWFuKSB7XG4gICAgaWYgKCFwdWJsaXNoKSByZXR1cm47XG5cbiAgICBjb25zdCBoYXNQdWJsaXNoZWRBdWRpbyA9ICEhdGhpcy5jYWxsLnN0YXRlLmxvY2FsUGFydGljaXBhbnQ/LmF1ZGlvU3RyZWFtO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB0aGlzLmNhbGwucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oXG4gICAgICBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8sXG4gICAgKTtcbiAgICBpZiAoaGFzUHVibGlzaGVkQXVkaW8gfHwgIWhhc1Blcm1pc3Npb24pIHJldHVybjtcblxuICAgIC8vIFdhaXQgZm9yIGFueSBpbiBwcm9ncmVzcyBtaWMgb3BlcmF0aW9uXG4gICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG5cbiAgICAvLyBQdWJsaXNoIG1lZGlhIHN0cmVhbSB0aGF0IHdhcyBzZXQgYmVmb3JlIHdlIGpvaW5lZFxuICAgIGNvbnN0IHsgbWVkaWFTdHJlYW0gfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiBtZWRpYVN0cmVhbSkge1xuICAgICAgLy8gVGhlIG1pYyBpcyBhbHJlYWR5IGVuYWJsZWQgKGUuZy4gbG9iYnkgc2NyZWVuKS4gUHVibGlzaCB0aGUgc3RyZWFtXG4gICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hTdHJlYW0obWVkaWFTdHJlYW0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy5taWNfZGVmYXVsdF9vbikge1xuICAgICAgLy8gU3RhcnQgbWljIGlmIGJhY2tlbmQgY29uZmlnIHNwZWNpZmllcywgYW5kIHRoZXJlIGlzIG5vIGxvY2FsIHNldHRpbmdcbiAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT4ge1xuICAgIHJldHVybiBnZXRBdWRpb0RldmljZXModGhpcy5jYWxsLnRyYWNlcik7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3RyZWFtKFxuICAgIGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4gICk6IFByb21pc2U8TWVkaWFTdHJlYW0+IHtcbiAgICByZXR1cm4gZ2V0QXVkaW9TdHJlYW0oY29uc3RyYWludHMsIHRoaXMuY2FsbC50cmFjZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbihkZXZpY2VJZD86IHN0cmluZykge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3RvciA9IG5ldyBSTlNwZWVjaERldGVjdG9yKCk7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gYXdhaXQgdGhpcy5yblNwZWVjaERldGVjdG9yLnN0YXJ0KChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGV2ZW50LmlzU291bmREZXRlY3RlZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgdGhpcy5yblNwZWVjaERldGVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTmVlZCB0byBzdGFydCBhIG5ldyBzdHJlYW0gdGhhdCdzIG5vdCBjb25uZWN0ZWQgdG8gcHVibGlzaGVyXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuZ2V0U3RyZWFtKHtcbiAgICAgICAgICBkZXZpY2VJZDogeyBleGFjdDogZGV2aWNlSWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc291bmREZXRlY3RvckNsZWFudXAgPSBjcmVhdGVTb3VuZERldGVjdG9yKHN0cmVhbSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZXRTcGVha2luZ1doaWxlTXV0ZWQoZXZlbnQuaXNTb3VuZERldGVjdGVkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKSB7XG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc291bmREZXRlY3RvckNsZWFudXApIHJldHVybjtcbiAgICAgIGNvbnN0IHNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cDtcbiAgICAgIHRoaXMuc291bmREZXRlY3RvckNsZWFudXAgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnN0YXRlLnNldFNwZWFraW5nV2hpbGVNdXRlZChmYWxzZSk7XG4gICAgICBhd2FpdCBzb3VuZERldGVjdG9yQ2xlYW51cCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBSeFV0aWxzIH0gZnJvbSAnLi4vc3RvcmUnO1xuXG5leHBvcnQgY2xhc3MgU2NyZWVuU2hhcmVTdGF0ZSBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGU8RGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucz4ge1xuICBwcml2YXRlIGF1ZGlvRW5hYmxlZFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KHRydWUpO1xuICBwcml2YXRlIHNldHRpbmdzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgYXVkaW8gc3RhdHVzLlxuICAgKi9cbiAgYXVkaW9FbmFibGVkJCA9IHRoaXMuYXVkaW9FbmFibGVkU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgc2V0dGluZ3MkID0gdGhpcy5zZXR0aW5nc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvdGVjdGVkIGdldERldmljZUlkRnJvbVN0cmVhbSA9IChcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtLFxuICApOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgcmV0dXJuIHRyYWNrPy5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY3JlZW4gc2hhcmUgYXVkaW8gc3RhdHVzLlxuICAgKi9cbiAgZ2V0IGF1ZGlvRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5hdWRpb0VuYWJsZWQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIHNldEF1ZGlvRW5hYmxlZChpc0VuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmF1ZGlvRW5hYmxlZFN1YmplY3QsIGlzRW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBzY3JlZW4gc2hhcmUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU3RhdGUgfSBmcm9tICcuL1NjcmVlblNoYXJlU3RhdGUnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGdldFNjcmVlblNoYXJlU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlblNoYXJlTWFuYWdlciBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPFxuICBTY3JlZW5TaGFyZVN0YXRlLFxuICBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zXG4+IHtcbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBTY3JlZW5TaGFyZVN0YXRlKCksIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuICB9XG5cbiAgb3ZlcnJpZGUgc2V0dXAoKTogdm9pZCB7XG4gICAgc3VwZXIuc2V0dXAoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLmNhbGwuc3RhdGUuc2V0dGluZ3MkLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgY29uc3QgbWF5YmVUYXJnZXRSZXNvbHV0aW9uID0gc2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcudGFyZ2V0X3Jlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG1heWJlVGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbnN0cmFpbnRzKHtcbiAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiBtYXliZVRhcmdldFJlc29sdXRpb24ud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogbWF5YmVUYXJnZXRSZXNvbHV0aW9uLmhlaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBlbmFibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICpcbiAgICogTm90ZTogZm9yIG9uZ29pbmcgc2NyZWVuIHNoYXJlLCBhdWRpbyB3b24ndCBiZSBlbmFibGVkIHVudGlsIHlvdVxuICAgKiByZS1wdWJsaXNoIHRoZSBzY3JlZW4gc2hhcmUgc3RyZWFtLlxuICAgKi9cbiAgZW5hYmxlU2NyZWVuU2hhcmVBdWRpbygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldEF1ZGlvRW5hYmxlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGRpc2FibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTY3JlZW5TaGFyZUF1ZGlvKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RhdGUuc2V0QXVkaW9FbmFibGVkKGZhbHNlKTtcbiAgICBpZiAodGhpcy5jYWxsLnB1Ymxpc2hlcj8uaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0U2V0dGluZ3MoKTogU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0dGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gb2YoW10pOyAvLyB0aGVyZSBhcmUgbm8gZGV2aWNlcyB0byBiZSBsaXN0ZWQgZm9yIFNjcmVlbiBTaGFyZVxuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hdWRpb0VuYWJsZWQpIHtcbiAgICAgIGNvbnN0cmFpbnRzLmF1ZGlvID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGdldFNjcmVlblNoYXJlU3RyZWFtKGNvbnN0cmFpbnRzLCB0aGlzLmNhbGwudHJhY2VyKTtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgY29uc3QgeyBjb250ZW50SGludCB9ID0gdGhpcy5zdGF0ZS5zZXR0aW5ncyB8fCB7fTtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnRIaW50ICE9PSAndW5kZWZpbmVkJyAmJiB0cmFjayAmJiAnY29udGVudEhpbnQnIGluIHRyYWNrKSB7XG4gICAgICB0aGlzLmNhbGwudHJhY2VyLnRyYWNlKFxuICAgICAgICAnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEuY29udGVudEhpbnQnLFxuICAgICAgICBjb250ZW50SGludCxcbiAgICAgICk7XG4gICAgICB0cmFjay5jb250ZW50SGludCA9IGNvbnRlbnRIaW50O1xuICAgIH1cbiAgICByZXR1cm4gc3RyZWFtO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGFzeW5jIHN0b3BQdWJsaXNoU3RyZWFtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goXG4gICAgICBUcmFja1R5cGUuU0NSRUVOX1NIQVJFLFxuICAgICAgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgc2VsZWN0YCBtZXRob2QgdG8gdGhyb3cgYW4gZXJyb3IuXG4gICAqL1xuICBvdmVycmlkZSBhc3luYyBzZWxlY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3Qgc3VwcG9ydGVkJyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4VXRpbHMgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi4vc3RhdHMnO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtlclN0YXRlIHtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG4gIHByb3RlY3RlZCB2b2x1bWVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDEpO1xuICAvKipcbiAgICogW1RlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvc2V0U2lua0lkKS5cbiAgICovXG4gIHJlYWRvbmx5IGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkID0gY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkKCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNlbGVjdGVkRGV2aWNlJDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICB2b2x1bWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgcHJpdmF0ZSB0cmFjZXI6IFRyYWNlcjtcblxuICBjb25zdHJ1Y3Rvcih0cmFjZXI6IFRyYWNlcikge1xuICAgIHRoaXMudHJhY2VyID0gdHJhY2VyO1xuICAgIHRoaXMuc2VsZWN0ZWREZXZpY2UkID0gdGhpcy5zZWxlY3RlZERldmljZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgdGhpcy52b2x1bWUkID0gdGhpcy52b2x1bWVTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkRGV2aWNlKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBnZXQgdm9sdW1lKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnZvbHVtZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZGV2aWNlSWRcbiAgICovXG4gIHNldERldmljZShkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZVN1YmplY3QsIGRldmljZUlkKTtcbiAgICB0aGlzLnRyYWNlci50cmFjZSgnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5zZXRTaW5rSWQnLCBkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB2b2x1bWVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMudm9sdW1lU3ViamVjdCwgdm9sdW1lKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgU3BlYWtlclN0YXRlIH0gZnJvbSAnLi9TcGVha2VyU3RhdGUnO1xuaW1wb3J0IHsgZGV2aWNlSWRzJCwgZ2V0QXVkaW9PdXRwdXREZXZpY2VzIH0gZnJvbSAnLi9kZXZpY2VzJztcblxuZXhwb3J0IGNsYXNzIFNwZWFrZXJNYW5hZ2VyIHtcbiAgcmVhZG9ubHkgc3RhdGU6IFNwZWFrZXJTdGF0ZTtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuICBwcml2YXRlIGFyZVN1YnNjcmlwdGlvbnNTZXRVcCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbGw6IENhbGw7XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBTcGVha2VyU3RhdGUoY2FsbC50cmFjZXIpO1xuICAgIHRoaXMuc2V0dXAoKTtcbiAgfVxuXG4gIHNldHVwKCkge1xuICAgIGlmICh0aGlzLmFyZVN1YnNjcmlwdGlvbnNTZXRVcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYXJlU3Vic2NyaXB0aW9uc1NldFVwID0gdHJ1ZTtcblxuICAgIGlmIChkZXZpY2VJZHMkICYmICFpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2VJZHMkISwgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSRdKS5zdWJzY3JpYmUoXG4gICAgICAgICAgKFtkZXZpY2VzLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgICAgICAgIGlmICghZGV2aWNlSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGV2aWNlID0gZGV2aWNlcy5maW5kKFxuICAgICAgICAgICAgICAoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQgJiYgZC5raW5kID09PSAnYXVkaW9vdXRwdXQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghZGV2aWNlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGF2YWlsYWJsZSBhdWRpbyBvdXRwdXQgZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEF1ZGlvT3V0cHV0RGV2aWNlcyh0aGlzLmNhbGwudHJhY2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgYSBkZXZpY2UuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqXG4gICAqIEBwYXJhbSBkZXZpY2VJZCBlbXB0eSBzdHJpbmcgbWVhbnMgdGhlIHN5c3RlbSBkZWZhdWx0XG4gICAqL1xuICBzZWxlY3QoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0RGV2aWNlKGRldmljZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGUgbWFuYWdlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzKSA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIHRoaXMuYXJlU3Vic2NyaXB0aW9uc1NldFVwID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdm9sdW1lIG9mIHRoZSBhdWRpbyBlbGVtZW50c1xuICAgKiBAcGFyYW0gdm9sdW1lIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh2b2x1bWUgJiYgKHZvbHVtZSA8IDAgfHwgdm9sdW1lID4gMSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVm9sdW1lIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxJyk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2b2x1bWUgb2YgYSBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHBhcnRpY2lwYW50J3Mgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHZvbHVtZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1c2UgdGhlIGRlZmF1bHQgdm9sdW1lLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRWb2x1bWUoc2Vzc2lvbklkOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZvbHVtZSAmJiAodm9sdW1lIDwgMCB8fCB2b2x1bWUgPiAxKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB0aGlzLmNhbGwuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7IGF1ZGlvVm9sdW1lOiB2b2x1bWUgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7XG4gIERpc3BhdGNoZXIsXG4gIGdldEdlbmVyaWNTZHAsXG4gIGlzQXVkaW9UcmFja1R5cGUsXG4gIGlzU2Z1RXZlbnQsXG4gIG11dGVUeXBlVG9UcmFja1R5cGUsXG4gIFB1Ymxpc2hlcixcbiAgU3Vic2NyaWJlcixcbiAgdG9SdGNDb25maWd1cmF0aW9uLFxuICB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5LFxufSBmcm9tICcuL3J0Yyc7XG5pbXBvcnQge1xuICByZWdpc3RlckV2ZW50SGFuZGxlcnMsXG4gIHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzLFxufSBmcm9tICcuL2V2ZW50cy9jYWxsRXZlbnRIYW5kbGVycyc7XG5pbXBvcnQge1xuICBDYWxsaW5nU3RhdGUsXG4gIENhbGxTdGF0ZSxcbiAgU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlLFxufSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7XG4gIGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbixcbiAgY3JlYXRlU3Vic2NyaXB0aW9uLFxuICBnZXRDdXJyZW50VmFsdWUsXG59IGZyb20gJy4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgdHlwZSB7XG4gIEFjY2VwdENhbGxSZXNwb25zZSxcbiAgQmxvY2tVc2VyUmVxdWVzdCxcbiAgQmxvY2tVc2VyUmVzcG9uc2UsXG4gIENhbGxSaW5nRXZlbnQsXG4gIENhbGxTZXR0aW5nc1Jlc3BvbnNlLFxuICBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdCxcbiAgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlLFxuICBDcmVkZW50aWFscyxcbiAgRGVsZXRlQ2FsbFJlcXVlc3QsXG4gIERlbGV0ZUNhbGxSZXNwb25zZSxcbiAgRW5kQ2FsbFJlc3BvbnNlLFxuICBHZXRDYWxsUmVwb3J0UmVzcG9uc2UsXG4gIEdldENhbGxSZXNwb25zZSxcbiAgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCxcbiAgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UsXG4gIEdvTGl2ZVJlcXVlc3QsXG4gIEdvTGl2ZVJlc3BvbnNlLFxuICBKb2luQ2FsbFJlcXVlc3QsXG4gIEpvaW5DYWxsUmVzcG9uc2UsXG4gIEtpY2tVc2VyUmVxdWVzdCxcbiAgS2lja1VzZXJSZXNwb25zZSxcbiAgTGlzdFJlY29yZGluZ3NSZXNwb25zZSxcbiAgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2UsXG4gIE11dGVVc2Vyc1JlcXVlc3QsXG4gIE11dGVVc2Vyc1Jlc3BvbnNlLFxuICBQaW5SZXF1ZXN0LFxuICBQaW5SZXNwb25zZSxcbiAgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3QsXG4gIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgUmVqZWN0Q2FsbFJlcXVlc3QsXG4gIFJlamVjdENhbGxSZXNwb25zZSxcbiAgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0LFxuICBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlLFxuICBTZW5kQ2FsbEV2ZW50UmVxdWVzdCxcbiAgU2VuZENhbGxFdmVudFJlc3BvbnNlLFxuICBTZW5kUmVhY3Rpb25SZXF1ZXN0LFxuICBTZW5kUmVhY3Rpb25SZXNwb25zZSxcbiAgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3QsXG4gIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZSxcbiAgU3RhcnRGcmFtZVJlY29yZGluZ1JlcXVlc3QsXG4gIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSxcbiAgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0LFxuICBTdGFydFJlY29yZGluZ1Jlc3BvbnNlLFxuICBTdGFydFJUTVBCcm9hZGNhc3RzUmVxdWVzdCxcbiAgU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlLFxuICBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0LFxuICBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZSxcbiAgU3RhdHNPcHRpb25zLFxuICBTdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZSxcbiAgU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdCxcbiAgU3RvcENsb3NlZENhcHRpb25zUmVzcG9uc2UsXG4gIFN0b3BGcmFtZVJlY29yZGluZ1Jlc3BvbnNlLFxuICBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2UsXG4gIFN0b3BMaXZlUmVxdWVzdCxcbiAgU3RvcExpdmVSZXNwb25zZSxcbiAgU3RvcFJlY29yZGluZ1Jlc3BvbnNlLFxuICBTdG9wUlRNUEJyb2FkY2FzdHNSZXNwb25zZSxcbiAgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZSxcbiAgVW5ibG9ja1VzZXJSZXF1ZXN0LFxuICBVbmJsb2NrVXNlclJlc3BvbnNlLFxuICBVbnBpblJlcXVlc3QsXG4gIFVucGluUmVzcG9uc2UsXG4gIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgVXBkYXRlQ2FsbFJlcXVlc3QsXG4gIFVwZGF0ZUNhbGxSZXNwb25zZSxcbiAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCxcbiAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UsXG59IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHkgfSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQge1xuICBBdWRpb1RyYWNrVHlwZSxcbiAgQ2FsbENvbnN0cnVjdG9yLFxuICBDYWxsTGVhdmVPcHRpb25zLFxuICBDbGllbnRQdWJsaXNoT3B0aW9ucyxcbiAgQ2xvc2VkQ2FwdGlvbnNTZXR0aW5ncyxcbiAgSm9pbkNhbGxEYXRhLFxuICBUcmFja011dGVUeXBlLFxuICBWaWRlb1RyYWNrVHlwZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QsIHRha2VXaGlsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUmVjb25uZWN0RGV0YWlscyB9IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHtcbiAgQ2xpZW50Q2FwYWJpbGl0eSxcbiAgQ2xpZW50RGV0YWlscyxcbiAgQ29kZWMsXG4gIFB1Ymxpc2hPcHRpb24sXG4gIFN1YnNjcmliZU9wdGlvbixcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0RpbWVuc2lvbixcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVN0YXRzUmVwb3J0ZXIsXG4gIGdldFNka1NpZ25hdHVyZSxcbiAgU2Z1U3RhdHNSZXBvcnRlcixcbiAgU3RhdHNSZXBvcnRlcixcbiAgVHJhY2VyLFxufSBmcm9tICcuL3N0YXRzJztcbmltcG9ydCB7IER5bmFzY2FsZU1hbmFnZXIgfSBmcm9tICcuL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlcic7XG5pbXBvcnQgeyBQZXJtaXNzaW9uc0NvbnRleHQgfSBmcm9tICcuL3Blcm1pc3Npb25zJztcbmltcG9ydCB7IENhbGxUeXBlcyB9IGZyb20gJy4vQ2FsbFR5cGUnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyByZXRyeUludGVydmFsLCBzbGVlcCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQge1xuICBBbGxDYWxsRXZlbnRzLFxuICBDYWxsRXZlbnRMaXN0ZW5lcixcbiAgRXJyb3JGcm9tUmVzcG9uc2UsXG4gIExvZ2dlcixcbiAgUmVqZWN0UmVhc29uLFxuICBTdHJlYW1DYWxsRXZlbnQsXG59IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRDbGllbnREZXRhaWxzIH0gZnJvbSAnLi9oZWxwZXJzL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7XG4gIENhbWVyYU1hbmFnZXIsXG4gIE1pY3JvcGhvbmVNYW5hZ2VyLFxuICBTY3JlZW5TaGFyZU1hbmFnZXIsXG4gIFNwZWFrZXJNYW5hZ2VyLFxufSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgaGFzUGVuZGluZywgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IGVuc3VyZUV4aGF1c3RlZCB9IGZyb20gJy4vaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQnO1xuaW1wb3J0IHsgcHVzaFRvSWZNaXNzaW5nIH0gZnJvbSAnLi9oZWxwZXJzL2FycmF5JztcbmltcG9ydCB7XG4gIG1ha2VTYWZlUHJvbWlzZSxcbiAgUHJvbWlzZVdpdGhSZXNvbHZlcnMsXG4gIHByb21pc2VXaXRoUmVzb2x2ZXJzLFxufSBmcm9tICcuL2hlbHBlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBHZXRDYWxsU3RhdHNSZXNwb25zZSB9IGZyb20gJy4vZ2VuL3NoaW1zJztcblxuLyoqXG4gKiBBbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBgQ2FsbGAuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGNhbGwuXG4gICAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBDSUQuXG4gICAqL1xuICByZWFkb25seSBjaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHN0YXRlID0gbmV3IENhbGxTdGF0ZSgpO1xuXG4gIC8qKlxuICAgKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGlzIGNhbGwgaXMgXCJ3YXRjaGVkXCIgYW5kIHJlY2VpdmVzXG4gICAqIHVwZGF0ZXMgZnJvbSB0aGUgYmFja2VuZC5cbiAgICovXG4gIHdhdGNoaW5nOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIGNhbWVyYVxuICAgKi9cbiAgcmVhZG9ubHkgY2FtZXJhOiBDYW1lcmFNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIG1pY3JvcGhvbmUuXG4gICAqL1xuICByZWFkb25seSBtaWNyb3Bob25lOiBNaWNyb3Bob25lTWFuYWdlcjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBzcGVha2VyLlxuICAgKi9cbiAgcmVhZG9ubHkgc3BlYWtlcjogU3BlYWtlck1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgc2NyZWVuLlxuICAgKi9cbiAgcmVhZG9ubHkgc2NyZWVuU2hhcmU6IFNjcmVlblNoYXJlTWFuYWdlcjtcblxuICAvKipcbiAgICogVGhlIER5bmFzY2FsZU1hbmFnZXIgaW5zdGFuY2UuXG4gICAqL1xuICByZWFkb25seSBkeW5hc2NhbGVNYW5hZ2VyOiBEeW5hc2NhbGVNYW5hZ2VyO1xuXG4gIHN1YnNjcmliZXI/OiBTdWJzY3JpYmVyO1xuICBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG5cbiAgLyoqXG4gICAqIEZsYWcgdGVsbGluZyB3aGV0aGVyIHRoaXMgY2FsbCBpcyBhIFwicmluZ2luZ1wiIGNhbGwuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHJpbmdpbmdTdWJqZWN0OiBTdWJqZWN0PGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBUaGUgcGVybWlzc2lvbnMgY29udGV4dCBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICByZWFkb25seSBwZXJtaXNzaW9uc0NvbnRleHQgPSBuZXcgUGVybWlzc2lvbnNDb250ZXh0KCk7XG4gIHJlYWRvbmx5IHRyYWNlciA9IG5ldyBUcmFjZXIobnVsbCk7XG4gIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBpbnN0YW5jZSBkZWRpY2F0ZWQgdG8gdGhpcyBDYWxsIGluc3RhbmNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKTtcblxuICBwcml2YXRlIGNsaWVudFB1Ymxpc2hPcHRpb25zPzogQ2xpZW50UHVibGlzaE9wdGlvbnM7XG4gIHByaXZhdGUgY3VycmVudFB1Ymxpc2hPcHRpb25zPzogUHVibGlzaE9wdGlvbltdO1xuICBwcml2YXRlIHN0YXRzUmVwb3J0aW5nSW50ZXJ2YWxJbk1zOiBudW1iZXIgPSAyMDAwO1xuICBwcml2YXRlIHN0YXRzUmVwb3J0ZXI/OiBTdGF0c1JlcG9ydGVyO1xuICBwcml2YXRlIHNmdVN0YXRzUmVwb3J0ZXI/OiBTZnVTdGF0c1JlcG9ydGVyO1xuICBwcml2YXRlIGRyb3BUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGNsaWVudFN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmU7XG4gIHB1YmxpYyByZWFkb25seSBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcbiAgcHJpdmF0ZSBzZnVDbGllbnQ/OiBTdHJlYW1TZnVDbGllbnQ7XG4gIHByaXZhdGUgc2Z1Q2xpZW50VGFnID0gMDtcbiAgcHJpdmF0ZSB1bmlmaWVkU2Vzc2lvbklkPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcmVjb25uZWN0Q29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ3JlY29ubmVjdENvbmN1cnJlbmN5VGFnJyk7XG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICBwcml2YXRlIHJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG4gIHByaXZhdGUgcmVjb25uZWN0UmVhc29uID0gJyc7XG4gIHByaXZhdGUgZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBkaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHM6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbGFzdE9mZmxpbmVUaW1lc3RhbXA6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbmV0d29ya0F2YWlsYWJsZVRhc2s6IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+IHwgdW5kZWZpbmVkO1xuICAvLyBtYWludGFpbiB0aGUgb3JkZXIgb2YgcHVibGlzaGluZyB0cmFja3MgdG8gcmVzdG9yZSB0aGVtIGFmdGVyIGEgcmVjb25uZWN0aW9uXG4gIC8vIGl0IHNob3VsZG4ndCBjb250YWluIGR1cGxpY2F0ZXNcbiAgcHJpdmF0ZSB0cmFja1B1Ymxpc2hPcmRlcjogVHJhY2tUeXBlW10gPSBbXTtcbiAgcHJpdmF0ZSBqb2luQ2FsbERhdGE/OiBKb2luQ2FsbERhdGE7XG4gIHByaXZhdGUgaGFzSm9pbmVkT25jZSA9IGZhbHNlO1xuICBwcml2YXRlIGRldmljZVNldHRpbmdzQXBwbGllZE9uY2UgPSBmYWxzZTtcbiAgcHJpdmF0ZSBjcmVkZW50aWFscz86IENyZWRlbnRpYWxzO1xuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBqb2luTGVhdmVDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgnam9pbkxlYXZlQ29uY3VycmVuY3lUYWcnKTtcblxuICAvKipcbiAgICogQSBsaXN0IGhvb2tzL2Z1bmN0aW9ucyB0byBpbnZva2Ugd2hlbiB0aGUgY2FsbCBpcyBsZWZ0LlxuICAgKiBBIHR5cGljYWwgdXNlIGNhc2UgaXMgdG8gY2xlYW4gdXAgc29tZSBnbG9iYWwgZXZlbnQgaGFuZGxlcnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGxlYXZlQ2FsbEhvb2tzOiBTZXQ8RnVuY3Rpb24+ID0gbmV3IFNldCgpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc3RyZWFtQ2xpZW50QmFzZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBzdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzID0gbmV3IE1hcDxGdW5jdGlvbiwgKCkgPT4gdm9pZD4oKTtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGNhcGFiaWxpdGllcyB0aGF0IHRoZSBjbGllbnQgc3VwcG9ydHMgYW5kIGFyZSBlbmFibGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBjbGllbnRDYXBhYmlsaXRpZXMgPSBuZXcgU2V0PENsaWVudENhcGFiaWxpdHk+KFtcbiAgICBDbGllbnRDYXBhYmlsaXR5LlNVQlNDUklCRVJfVklERU9fUEFVU0UsXG4gIF0pO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBDYWxsYCBpbnN0YW5jZS5cbiAgICpcbiAgICogTk9URTogRG9uJ3QgY2FsbCB0aGUgY29uc3RydWN0b3IgZGlyZWN0bHksIGluc3RlYWRcbiAgICogVXNlIHRoZSBbYFN0cmVhbVZpZGVvQ2xpZW50LmNhbGxgXSguL1N0cmVhbVZpZGVvQ2xpZW50Lm1kLyNjYWxsKVxuICAgKiBtZXRob2QgdG8gY29uc3RydWN0IGEgYENhbGxgIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHR5cGUsXG4gICAgaWQsXG4gICAgc3RyZWFtQ2xpZW50LFxuICAgIG1lbWJlcnMsXG4gICAgb3duQ2FwYWJpbGl0aWVzLFxuICAgIHNvcnRQYXJ0aWNpcGFudHNCeSxcbiAgICBjbGllbnRTdG9yZSxcbiAgICByaW5naW5nID0gZmFsc2UsXG4gICAgd2F0Y2hpbmcgPSBmYWxzZSxcbiAgfTogQ2FsbENvbnN0cnVjdG9yKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5jaWQgPSBgJHt0eXBlfToke2lkfWA7XG4gICAgdGhpcy5yaW5naW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3QocmluZ2luZyk7XG4gICAgdGhpcy53YXRjaGluZyA9IHdhdGNoaW5nO1xuICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gc3RyZWFtQ2xpZW50O1xuICAgIHRoaXMuY2xpZW50U3RvcmUgPSBjbGllbnRTdG9yZTtcbiAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoID0gYC9jYWxsLyR7dGhpcy50eXBlfS8ke3RoaXMuaWR9YDtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ0NhbGwnXSk7XG5cbiAgICBjb25zdCBjYWxsVHlwZUNvbmZpZyA9IENhbGxUeXBlcy5nZXQodHlwZSk7XG4gICAgY29uc3QgcGFydGljaXBhbnRTb3J0ZXIgPVxuICAgICAgc29ydFBhcnRpY2lwYW50c0J5IHx8IGNhbGxUeXBlQ29uZmlnLm9wdGlvbnMuc29ydFBhcnRpY2lwYW50c0J5O1xuICAgIGlmIChwYXJ0aWNpcGFudFNvcnRlcikge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTb3J0UGFydGljaXBhbnRzQnkocGFydGljaXBhbnRTb3J0ZXIpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhtZW1iZXJzIHx8IFtdKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhvd25DYXBhYmlsaXRpZXMgfHwgW10pO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKFxuICAgICAgcmluZ2luZyA/IENhbGxpbmdTdGF0ZS5SSU5HSU5HIDogQ2FsbGluZ1N0YXRlLklETEUsXG4gICAgKTtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5taWNyb3Bob25lID0gbmV3IE1pY3JvcGhvbmVNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc3BlYWtlciA9IG5ldyBTcGVha2VyTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLnNjcmVlblNoYXJlID0gbmV3IFNjcmVlblNoYXJlTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIgPSBuZXcgRHluYXNjYWxlTWFuYWdlcih0aGlzLnN0YXRlLCB0aGlzLnNwZWFrZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGNhbGwgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBpbnRlcm5hbCBhbiBpbnRlcm5hbCBtZXRob2QgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvdXRzaWRlIHRoZSBTREsuXG4gICAqL1xuICBzZXR1cCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5qb2luTGVhdmVDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAgIHRoaXMub24oJ2FsbCcsIChldmVudCkgPT4ge1xuICAgICAgICAgIC8vIHVwZGF0ZSBzdGF0ZSB3aXRoIHRoZSBsYXRlc3QgZXZlbnQgZGF0YVxuICAgICAgICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgICAgdGhpcy5vbignY2hhbmdlUHVibGlzaE9wdGlvbnMnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRQdWJsaXNoT3B0aW9ucyA9IGV2ZW50LnB1Ymxpc2hPcHRpb25zO1xuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHJlZ2lzdGVyRXZlbnRIYW5kbGVycyh0aGlzLCB0aGlzLmRpc3BhdGNoZXIpKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJFZmZlY3RzKCk7XG4gICAgICB0aGlzLnJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMoKTtcblxuICAgICAgdGhpcy5jYW1lcmEuc2V0dXAoKTtcbiAgICAgIHRoaXMubWljcm9waG9uZS5zZXR1cCgpO1xuICAgICAgdGhpcy5zY3JlZW5TaGFyZS5zZXR1cCgpO1xuICAgICAgdGhpcy5zcGVha2VyLnNldHVwKCk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLklETEUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHJlZ2lzdGVyRWZmZWN0cyA9ICgpID0+IHtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGhhbmRsZXMgdXBkYXRpbmcgdGhlIHBlcm1pc3Npb25zIGNvbnRleHQgd2hlbiB0aGUgc2V0dGluZ3MgY2hhbmdlLlxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuc3RhdGUuc2V0dGluZ3MkLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuO1xuICAgICAgICB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5zZXRDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZW4gdGhlIHVzZXIgcGVybWlzc2lvbnMgYXJlIG1vZGlmaWVkLlxuICAgICAgY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uKFxuICAgICAgICB0aGlzLnN0YXRlLm93bkNhcGFiaWxpdGllcyQsXG4gICAgICAgIHRoaXMuaGFuZGxlT3duQ2FwYWJpbGl0aWVzVXBkYXRlZCxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gaGFuZGxlcyB0aGUgY2FzZSB3aGVuIHRoZSB1c2VyIGlzIGJsb2NrZWQgYnkgdGhlIGNhbGwgb3duZXIuXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5ibG9ja2VkVXNlcklkcyQsIGFzeW5jIChibG9ja2VkVXNlcklkcykgPT4ge1xuICAgICAgICBpZiAoIWJsb2NrZWRVc2VySWRzIHx8IGJsb2NrZWRVc2VySWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gdGhpcy5jdXJyZW50VXNlcklkO1xuICAgICAgICBpZiAoY3VycmVudFVzZXJJZCAmJiBibG9ja2VkVXNlcklkcy5pbmNsdWRlcyhjdXJyZW50VXNlcklkKSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ0xlYXZpbmcgY2FsbCBiZWNhdXNlIG9mIGJlaW5nIGJsb2NrZWQnKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmxlYXZlKHsgbWVzc2FnZTogJ3VzZXIgYmxvY2tlZCcgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0Vycm9yIGxlYXZpbmcgY2FsbCBhZnRlciBiZWluZyBibG9ja2VkJywgZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnJpbmdpbmcpIHtcbiAgICAgIC8vIGlmIHRoZSBjYWxsIGlzIHJpbmdpbmcsIHdlIG5lZWQgdG8gcmVnaXN0ZXIgdGhlIHJpbmdpbmcgY2FsbCBlZmZlY3RzXG4gICAgICB0aGlzLmhhbmRsZVJpbmdpbmdDYWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZSBjYWxsIGlzIG5vdCByaW5naW5nLCB3ZSBuZWVkIHRvIHJlZ2lzdGVyIHRoZSByaW5naW5nIGNhbGwgc3Vic2NyaXB0aW9uc1xuICAgICAgLy8gdG8gaGFuZGxlIHRoZSBjYXNlIHdoZW4gdGhlIGNhbGwgZ2V0cyByaW5naW5nIGZsYWcgYWZ0ZXIgY3JlYXRpb24gZXZlbnRcbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgICAvLyBcInJpbmdpbmdcIiBtb2RlIGVmZmVjdHMgYW5kIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnJpbmdpbmdTdWJqZWN0LCAoaXNSaW5naW5nKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1JpbmdpbmcpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmhhbmRsZVJpbmdpbmdDYWxsKCk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGNhbmNlbCBhdXRvLWRyb3Agd2hlbiBjYWxsIGlzIGFjY2VwdGVkIG9yIHJlamVjdGVkXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXNzaW9uJCwgKHNlc3Npb24pID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnJpbmdpbmcpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZWNlaXZlcklkID0gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgICAgICAgaWYgKCFyZWNlaXZlcklkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBY2NlcHRlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LmFjY2VwdGVkX2J5W3JlY2VpdmVySWRdKTtcbiAgICAgICAgY29uc3QgaXNSZWplY3RlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LnJlamVjdGVkX2J5W3JlY2VpdmVySWRdKTtcblxuICAgICAgICBpZiAoaXNBY2NlcHRlZEJ5TWUgfHwgaXNSZWplY3RlZEJ5TWUpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbEF1dG9Ecm9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc0FjY2VwdGVkRWxzZXdoZXJlID1cbiAgICAgICAgICBpc0FjY2VwdGVkQnlNZSAmJiB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkc7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChpc0FjY2VwdGVkRWxzZXdoZXJlIHx8IGlzUmVqZWN0ZWRCeU1lKSAmJlxuICAgICAgICAgICFoYXNQZW5kaW5nKHRoaXMuam9pbkxlYXZlQ29uY3VycmVuY3lUYWcpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMubGVhdmUoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgJ0NvdWxkIG5vdCBsZWF2ZSBhIGNhbGwgdGhhdCB3YXMgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgZWxzZXdoZXJlJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVSaW5naW5nQ2FsbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsU2Vzc2lvbiA9IHRoaXMuc3RhdGUuc2Vzc2lvbjtcbiAgICBjb25zdCByZWNlaXZlcl9pZCA9IHRoaXMuY2xpZW50U3RvcmUuY29ubmVjdGVkVXNlcj8uaWQ7XG4gICAgY29uc3QgZW5kZWRfYXQgPSBjYWxsU2Vzc2lvbj8uZW5kZWRfYXQ7XG4gICAgY29uc3QgY3JlYXRlZF9ieV9pZCA9IHRoaXMuc3RhdGUuY3JlYXRlZEJ5Py5pZDtcbiAgICBjb25zdCByZWplY3RlZF9ieSA9IGNhbGxTZXNzaW9uPy5yZWplY3RlZF9ieTtcbiAgICBjb25zdCBhY2NlcHRlZF9ieSA9IGNhbGxTZXNzaW9uPy5hY2NlcHRlZF9ieTtcbiAgICBsZXQgbGVhdmVDYWxsSWRsZSA9IGZhbHNlO1xuICAgIGlmIChlbmRlZF9hdCkge1xuICAgICAgLy8gY2FsbCB3YXMgZW5kZWQgYmVmb3JlIGl0IHdhcyBhY2NlcHRlZCBvciByZWplY3RlZCBzbyB3ZSBzaG91bGQgbGVhdmUgaXQgdG8gaWRsZVxuICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChjcmVhdGVkX2J5X2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICBpZiAocmVqZWN0ZWRfYnlbY3JlYXRlZF9ieV9pZF0pIHtcbiAgICAgICAgLy8gY2FsbCB3YXMgY2FuY2VsbGVkIGJ5IHRoZSBjYWxsZXJcbiAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWNlaXZlcl9pZCAmJiByZWplY3RlZF9ieSkge1xuICAgICAgaWYgKHJlamVjdGVkX2J5W3JlY2VpdmVyX2lkXSkge1xuICAgICAgICAvLyBjYWxsIHdhcyByZWplY3RlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWNlaXZlcl9pZCAmJiBhY2NlcHRlZF9ieSkge1xuICAgICAgaWYgKGFjY2VwdGVkX2J5W3JlY2VpdmVyX2lkXSkge1xuICAgICAgICAvLyBjYWxsIHdhcyBhY2NlcHRlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsZWF2ZUNhbGxJZGxlKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5JRExFKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5JRExFKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSURMRSkge1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUklOR0lORyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjaGVkdWxlQXV0b0Ryb3AoKTtcbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVPd25DYXBhYmlsaXRpZXNVcGRhdGVkID0gYXN5bmMgKFxuICAgIG93bkNhcGFiaWxpdGllczogT3duQ2FwYWJpbGl0eVtdLFxuICApID0+IHtcbiAgICAvLyB1cGRhdGUgdGhlIHBlcm1pc3Npb24gY29udGV4dC5cbiAgICB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5zZXRQZXJtaXNzaW9ucyhvd25DYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgcmV0dXJuO1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIHVzZXIgc3RpbGwgaGFzIHB1Ymxpc2hpbmcgcGVybWlzc2lvbnMgYW5kIHN0b3AgcHVibGlzaGluZyBpZiBub3QuXG4gICAgY29uc3QgcGVybWlzc2lvblRvVHJhY2tUeXBlID0ge1xuICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9BVURJT106IFRyYWNrVHlwZS5BVURJTyxcbiAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dOiBUcmFja1R5cGUuVklERU8sXG4gICAgICBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV06IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IFtwZXJtaXNzaW9uLCB0cmFja1R5cGVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgcGVybWlzc2lvblRvVHJhY2tUeXBlLFxuICAgICkpIHtcbiAgICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKFxuICAgICAgICBwZXJtaXNzaW9uIGFzIE93bkNhcGFiaWxpdHksXG4gICAgICApO1xuICAgICAgaWYgKGhhc1Blcm1pc3Npb24pIGNvbnRpbnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICAgICAgICBjYXNlIFRyYWNrVHlwZS5BVURJTzpcbiAgICAgICAgICAgIGlmICh0aGlzLm1pY3JvcGhvbmUuZW5hYmxlZCkgYXdhaXQgdGhpcy5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLlZJREVPOlxuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhLmVuYWJsZWQpIGF3YWl0IHRoaXMuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRTpcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcmVlblNoYXJlLmVuYWJsZWQpIGF3YWl0IHRoaXMuc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgIGBDYW4ndCBkaXNhYmxlIG1pYy9jYW1lcmEvc2NyZWVuc2hhcmUgYWZ0ZXIgcmV2b2tlZCBwZXJtaXNzaW9uc2AsXG4gICAgICAgICAgZXJyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gV2ViU29ja2V0IGV2ZW50cyBwcm92aWRlZCBieSB0aGUgQVBJLiBUbyByZW1vdmUgYSBzdWJzY3JpcHRpb24sIGNhbGwgdGhlIGBvZmZgIG1ldGhvZC5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCBzdWJzY3JpYmluZyB0byBXZWJTb2NrZXQgZXZlbnRzIGlzIGFuIGFkdmFuY2VkIHVzZS1jYXNlLlxuICAgKiBGb3IgbW9zdCB1c2UtY2FzZXMsIGl0IHNob3VsZCBiZSBlbm91Z2ggdG8gd2F0Y2ggZm9yIHN0YXRlIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBmbiB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoaXNTZnVFdmVudChldmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZkhhbmRsZXIgPSB0aGlzLnN0cmVhbUNsaWVudC5vbihldmVudE5hbWUsIChlKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGUgYXMgU3RyZWFtQ2FsbEV2ZW50O1xuICAgICAgaWYgKGV2ZW50LmNhbGxfY2lkICYmIGV2ZW50LmNhbGxfY2lkID09PSB0aGlzLmNpZCkge1xuICAgICAgICBmbihldmVudCBhcyBBbGxDYWxsRXZlbnRzW0VdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGtlZXAgdGhlICdvZmYnIHJlZmVyZW5jZSByZXR1cm5lZCBieSB0aGUgc3RyZWFtIGNsaWVudFxuICAgIHRoaXMuc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycy5zZXQoZm4sIG9mZkhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3Vic2NyaXB0aW9uIGZvciBXZWJTb2NrZXQgZXZlbnRzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoZSBgb25gIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGZuIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoaXNTZnVFdmVudChldmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9XG5cbiAgICAvLyB1bnN1YnNjcmliZSBmcm9tIHRoZSBzdHJlYW0gY2xpZW50IGV2ZW50IGJ5IHVzaW5nIHRoZSAnb2ZmJyByZWZlcmVuY2VcbiAgICBjb25zdCByZWdpc3RlcmVkT2ZmSGFuZGxlciA9IHRoaXMuc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycy5nZXQoZm4pO1xuICAgIGlmIChyZWdpc3RlcmVkT2ZmSGFuZGxlcikge1xuICAgICAgcmVnaXN0ZXJlZE9mZkhhbmRsZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIExlYXZlIHRoZSBjYWxsIGFuZCBzdG9wIHRoZSBtZWRpYSBzdHJlYW1zIHRoYXQgd2VyZSBwdWJsaXNoZWQgYnkgdGhlIGNhbGwuXG4gICAqL1xuICBsZWF2ZSA9IGFzeW5jICh7IHJlamVjdCwgcmVhc29uLCBtZXNzYWdlIH06IENhbGxMZWF2ZU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGxlYXZlIGNhbGwgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGxlZnQuJyk7XG4gICAgfVxuXG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuam9pbkxlYXZlQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlO1xuXG4gICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lOSU5HKSB7XG4gICAgICAgIGNvbnN0IHdhaXRVbnRpbENhbGxKb2luZWQgPSAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSRcbiAgICAgICAgICAgICAgLnBpcGUodGFrZVdoaWxlKChzdGF0ZSkgPT4gc3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQsIHRydWUpKVxuICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHdhaXRVbnRpbENhbGxKb2luZWQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcgJiYgcmVqZWN0ICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAocmVqZWN0KSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWplY3QocmVhc29uID8/ICdkZWNsaW5lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgcmVqZWN0IHdhcyB1bmRlZmluZWQsIHdlIHN0aWxsIGhhdmUgdG8gY2FuY2VsIHRoZSBjYWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICAvLyB3aGVuIEkgYW0gdGhlIGNyZWF0b3IgYW5kIGV2ZXJ5b25lIGVsc2UgbGVmdCB0aGUgY2FsbFxuICAgICAgICAgIGNvbnN0IGhhc090aGVyUGFydGljaXBhbnRzID0gdGhpcy5zdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICBpZiAodGhpcy5pc0NyZWF0ZWRCeU1lICYmICFoYXNPdGhlclBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWplY3QoJ2NhbmNlbCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlciA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5mbHVzaCgpO1xuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuc3Vic2NyaWJlcj8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50Py5sZWF2ZUFuZENsb3NlKFxuICAgICAgICBtZXNzYWdlID8/IHJlYXNvbiA/PyAndXNlciBpcyBsZWF2aW5nIHRoZSBjYWxsJyxcbiAgICAgICk7XG4gICAgICB0aGlzLnNmdUNsaWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRTZnVDbGllbnQodW5kZWZpbmVkKTtcbiAgICAgIGF3YWl0IHRoaXMuZHluYXNjYWxlTWFuYWdlci5kaXNwb3NlKCk7XG5cbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5MRUZUKTtcbiAgICAgIHRoaXMuc3RhdGUuc2V0UGFydGljaXBhbnRzKFtdKTtcbiAgICAgIHRoaXMuc3RhdGUuZGlzcG9zZSgpO1xuXG4gICAgICAvLyBDYWxsIGFsbCBsZWF2ZSBjYWxsIGhvb2tzLCBlLmcuIHRvIGNsZWFuIHVwIGdsb2JhbCBldmVudCBoYW5kbGVyc1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5mb3JFYWNoKChob29rKSA9PiBob29rKCkpO1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgdGhpcy5oYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gICAgICB0aGlzLnVuaWZpZWRTZXNzaW9uSWQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQoZmFsc2UpO1xuICAgICAgdGhpcy5jYW5jZWxBdXRvRHJvcCgpO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS51bnJlZ2lzdGVyQ2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5jYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5taWNyb3Bob25lLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuc2NyZWVuU2hhcmUuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zcGVha2VyLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuZGV2aWNlU2V0dGluZ3NBcHBsaWVkT25jZSA9IGZhbHNlO1xuXG4gICAgICBjb25zdCBzdG9wT25MZWF2ZVByb21pc2VzOiBQcm9taXNlPHZvaWQ+W10gPSBbXTtcbiAgICAgIGlmICh0aGlzLmNhbWVyYS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5jYW1lcmEuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5taWNyb3Bob25lLnN0b3BPbkxlYXZlKSB7XG4gICAgICAgIHN0b3BPbkxlYXZlUHJvbWlzZXMucHVzaCh0aGlzLm1pY3JvcGhvbmUuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zY3JlZW5TaGFyZS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5zY3JlZW5TaGFyZS5kaXNhYmxlKHRydWUpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHN0b3BPbkxlYXZlUHJvbWlzZXMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjYWxsIGlzIFwicmluZ2luZ1wiIHR5cGUgb2YgY2FsbC5cbiAgICovXG4gIGdldCByaW5naW5nKCkge1xuICAgIHJldHVybiBnZXRDdXJyZW50VmFsdWUodGhpcy5yaW5naW5nU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHVzZXIgSUQuXG4gICAqL1xuICBnZXQgY3VycmVudFVzZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjYWxsIHdhcyBjcmVhdGVkIGJ5IHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBnZXQgaXNDcmVhdGVkQnlNZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jcmVhdGVkQnk/LmlkID09PSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGZyb20gdGhlIGNhbGwgcmVzcG9uc2UgZnJvbSB0aGUgXCJjYWxsLnJpbmdcIiBldmVudFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZUZyb21SaW5naW5nRXZlbnQgPSBhc3luYyAoZXZlbnQ6IENhbGxSaW5nRXZlbnQpID0+IHtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgLy8gY2FsbC5yaW5nIGV2ZW50IGV4Y2x1ZGVzIHRoZSBjYWxsIGNyZWF0b3IgaW4gdGhlIG1lbWJlcnMgbGlzdFxuICAgIC8vIGFzIHRoZSBjcmVhdG9yIGRvZXMgbm90IGdldCB0aGUgcmluZyBldmVudFxuICAgIC8vIHNvIHVwZGF0ZSB0aGUgbWVtYmVyIGxpc3QgYWNjb3JkaW5nbHlcbiAgICBjb25zdCB7IGNyZWF0ZWRfYnksIHNldHRpbmdzIH0gPSBldmVudC5jYWxsO1xuICAgIGNvbnN0IGNyZWF0b3IgPSB0aGlzLnN0YXRlLm1lbWJlcnMuZmluZCgobSkgPT4gbS51c2VyLmlkID09PSBjcmVhdGVkX2J5LmlkKTtcbiAgICBpZiAoIWNyZWF0b3IpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhldmVudC5tZW1iZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKFtjcmVhdG9yLCAuLi5ldmVudC5tZW1iZXJzXSk7XG4gICAgfVxuICAgIC8vIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBsYXRlc3QgZXZlbnQgZGF0YVxuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgLy8gd2UgcmVtb3ZlIHRoZSBpbnN0YW5jZSBmcm9tIHRoZSBjYWxscyBsaXN0IHRvIGVuYWJsZSB0aGUgZm9sbG93aW5nIGZpbHRlciBpbiB1c2VDYWxscyBob29rXG4gICAgLy8gY29uc3QgY2FsbHMgPSB1c2VDYWxscygpLmZpbHRlcigoYykgPT4gYy5yaW5naW5nKTtcbiAgICBjb25zdCBjYWxscyA9IHRoaXMuY2xpZW50U3RvcmUuY2FsbHMuZmlsdGVyKChjKSA9PiBjLmNpZCAhPT0gdGhpcy5jaWQpO1xuICAgIHRoaXMuY2xpZW50U3RvcmUuc2V0Q2FsbHMoW3RoaXMsIC4uLmNhbGxzXSk7XG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyhzZXR0aW5ncywgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMucmluZyBpZiBzZXQgdG8gdHJ1ZSwgYSBgY2FsbC5yaW5nYCBldmVudCB3aWxsIGJlIHNlbnQgdG8gdGhlIGNhbGwgbWVtYmVycy5cbiAgICogQHBhcmFtIHBhcmFtcy5ub3RpZnkgaWYgc2V0IHRvIHRydWUsIGEgYGNhbGwubm90aWZpY2F0aW9uYCBldmVudCB3aWxsIGJlIHNlbnQgdG8gdGhlIGNhbGwgbWVtYmVycy5cbiAgICogQHBhcmFtIHBhcmFtcy5tZW1iZXJzX2xpbWl0IHRoZSB0b3RhbCBudW1iZXIgb2YgbWVtYmVycyB0byByZXR1cm4gYXMgcGFydCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBnZXQgPSBhc3luYyAocGFyYW1zPzoge1xuICAgIHJpbmc/OiBib29sZWFuO1xuICAgIG5vdGlmeT86IGJvb2xlYW47XG4gICAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgfSkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LmdldDxHZXRDYWxsUmVzcG9uc2U+KFxuICAgICAgdGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aCxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuXG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKHJlc3BvbnNlLmNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhyZXNwb25zZS5tZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhyZXNwb25zZS5vd25fY2FwYWJpbGl0aWVzKTtcblxuICAgIGlmIChwYXJhbXM/LnJpbmcpIHtcbiAgICAgIHRoaXMucmluZ2luZ1N1YmplY3QubmV4dCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdHJlYW1DbGllbnQuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xpZW50U3RvcmUucmVnaXN0ZXJDYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuYXBwbHlEZXZpY2VDb25maWcocmVzcG9uc2UuY2FsbC5zZXR0aW5ncywgZmFsc2UpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNhbGwgYW5kIGNyZWF0ZXMgaXQgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGRhdGEgdG8gY3JlYXRlIHRoZSBjYWxsIHdpdGguXG4gICAqL1xuICBnZXRPckNyZWF0ZSA9IGFzeW5jIChkYXRhPzogR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZSxcbiAgICAgIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICA+KHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGgsIGRhdGEpO1xuXG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKHJlc3BvbnNlLmNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhyZXNwb25zZS5tZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhyZXNwb25zZS5vd25fY2FwYWJpbGl0aWVzKTtcblxuICAgIGlmIChkYXRhPy5yaW5nKSB7XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKHJlc3BvbnNlLmNhbGwuc2V0dGluZ3MsIGZhbHNlKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNhbGxcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGRhdGEgdG8gY3JlYXRlIHRoZSBjYWxsIHdpdGguXG4gICAqL1xuICBjcmVhdGUgPSBhc3luYyAoZGF0YT86IEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5nZXRPckNyZWF0ZShkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVsZXRlcyB0aGUgY2FsbC5cbiAgICovXG4gIGRlbGV0ZSA9IGFzeW5jIChcbiAgICBkYXRhOiBEZWxldGVDYWxsUmVxdWVzdCA9IHt9LFxuICApOiBQcm9taXNlPERlbGV0ZUNhbGxSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PERlbGV0ZUNhbGxSZXNwb25zZSwgRGVsZXRlQ2FsbFJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZGVsZXRlYCxcbiAgICAgIGRhdGEsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBzaG9ydGN1dCBmb3Ige0BsaW5rIENhbGwuZ2V0fSB3aXRoIGByaW5nYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYC5cbiAgICogV2lsbCBzZW5kIGEgYGNhbGwucmluZ2AgZXZlbnQgdG8gdGhlIGNhbGwgbWVtYmVycy5cbiAgICovXG4gIHJpbmcgPSBhc3luYyAoKTogUHJvbWlzZTxHZXRDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXQoeyByaW5nOiB0cnVlIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIHNob3J0Y3V0IGZvciB7QGxpbmsgQ2FsbC5nZXR9IHdpdGggYG5vdGlmeWAgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAuXG4gICAqIFdpbGwgc2VuZCBhIGBjYWxsLm5vdGlmaWNhdGlvbmAgZXZlbnQgdG8gdGhlIGNhbGwgbWVtYmVycy5cbiAgICovXG4gIG5vdGlmeSA9IGFzeW5jICgpOiBQcm9taXNlPEdldENhbGxSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldCh7IG5vdGlmeTogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIGluY29taW5nIGNhbGwgYXMgYWNjZXB0ZWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIG9ubHkgZm9yIFwicmluZ2luZ1wiIGNhbGwgZmxvd3MuXG4gICAqIHtAbGluayBDYWxsLmpvaW59IGludm9rZXMgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseSBmb3IgeW91IHdoZW4gam9pbmluZyBhIGNhbGwuXG4gICAqIFVubGVzcyB5b3UgYXJlIGltcGxlbWVudGluZyBhIGN1c3RvbSBcInJpbmdpbmdcIiBmbG93LCB5b3Ugc2hvdWxkIG5vdCB1c2UgdGhpcyBtZXRob2QuXG4gICAqL1xuICBhY2NlcHQgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8QWNjZXB0Q2FsbFJlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2FjY2VwdGAsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIGluY29taW5nIGNhbGwgYXMgcmVqZWN0ZWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIG9ubHkgZm9yIFwicmluZ2luZ1wiIGNhbGwgZmxvd3MuXG4gICAqIHtAbGluayBDYWxsLmxlYXZlfSBpbnZva2VzIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkgZm9yIHlvdSB3aGVuIHlvdSBsZWF2ZSBvciByZWplY3QgdGhpcyBjYWxsLlxuICAgKiBVbmxlc3MgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gXCJyaW5naW5nXCIgZmxvdywgeW91IHNob3VsZCBub3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWFzb24gZm9yIHJlamVjdGluZyB0aGUgY2FsbC5cbiAgICovXG4gIHJlamVjdCA9IGFzeW5jIChcbiAgICByZWFzb246IFJlamVjdFJlYXNvbiA9ICdkZWNsaW5lJyxcbiAgKTogUHJvbWlzZTxSZWplY3RDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxSZWplY3RDYWxsUmVzcG9uc2UsIFJlamVjdENhbGxSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlamVjdGAsXG4gICAgICB7IHJlYXNvbjogcmVhc29uIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBzdGFydCB0byB3YXRjaCBmb3IgY2FsbCByZWxhdGVkIFdlYlNvY2tldCBldmVudHMgYW5kIGluaXRpYXRlIGEgY2FsbCBzZXNzaW9uIHdpdGggdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uY2UgdGhlIGNhbGwgam9pbi1mbG93IGhhcyBmaW5pc2hlZC5cbiAgICovXG4gIGpvaW4gPSBhc3luYyAoe1xuICAgIG1heEpvaW5SZXRyaWVzID0gMyxcbiAgICAuLi5kYXRhXG4gIH06IEpvaW5DYWxsRGF0YSAmIHtcbiAgICBtYXhKb2luUmV0cmllcz86IG51bWJlcjtcbiAgfSA9IHt9KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlO1xuXG4gICAgaWYgKFtDYWxsaW5nU3RhdGUuSk9JTkVELCBDYWxsaW5nU3RhdGUuSk9JTklOR10uaW5jbHVkZXMoY2FsbGluZ1N0YXRlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbGxlZ2FsIFN0YXRlOiBjYWxsLmpvaW4oKSBzaGFsbCBiZSBjYWxsZWQgb25seSBvbmNlYCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkpPSU5JTkcpO1xuXG4gICAgLy8gd2Ugd2lsbCBjb3VudCB0aGUgbnVtYmVyIG9mIGpvaW4gZmFpbHVyZXMgcGVyIFNGVS5cbiAgICAvLyBvbmNlIHRoZSBudW1iZXIgb2YgZmFpbHVyZXMgcmVhY2hlcyAyLCB3ZSB3aWxsIHBpZ2d5YmFjayBvbiB0aGUgYG1pZ3JhdGluZ19mcm9tYFxuICAgIC8vIGZpZWxkIHRvIGZvcmNlIHRoZSBjb29yZGluYXRvciB0byBwcm92aWRlIHVzIGFub3RoZXIgU0ZVXG4gICAgY29uc3Qgc2Z1Sm9pbkZhaWx1cmVzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBjb25zdCBqb2luRGF0YTogSm9pbkNhbGxEYXRhID0gZGF0YTtcbiAgICBtYXhKb2luUmV0cmllcyA9IE1hdGgubWF4KG1heEpvaW5SZXRyaWVzLCAxKTtcbiAgICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IG1heEpvaW5SZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd0cmFjZScsIGBKb2luaW5nIGNhbGwgKCR7YXR0ZW1wdH0pYCwgdGhpcy5jaWQpO1xuICAgICAgICBhd2FpdCB0aGlzLmRvSm9pbihkYXRhKTtcbiAgICAgICAgZGVsZXRlIGpvaW5EYXRhLm1pZ3JhdGluZ19mcm9tO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gam9pbiBjYWxsICgke2F0dGVtcHR9KWAsIHRoaXMuY2lkKTtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yRnJvbVJlc3BvbnNlICYmIGVyci51bnJlY292ZXJhYmxlKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGVycm9yIGlzIHVucmVjb3ZlcmFibGUsIHdlIHNob3VsZCBub3QgcmV0cnkgYXMgdGhhdCBzaWduYWxzXG4gICAgICAgICAgLy8gdGhhdCBjb25uZWN0aXZpdHkgaXMgZ29vZCwgYnV0IHRoZSBjb29yZGluYXRvciBkb2Vzbid0IGFsbG93IHRoZSB1c2VyXG4gICAgICAgICAgLy8gdG8gam9pbiB0aGUgY2FsbCBkdWUgdG8gc29tZSByZWFzb24gKGUuZy4sIGVuZGVkIGNhbGwsIGV4cGlyZWQgdG9rZW4uLi4pXG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2Z1SWQgPSB0aGlzLmNyZWRlbnRpYWxzPy5zZXJ2ZXIuZWRnZV9uYW1lIHx8ICcnO1xuICAgICAgICBjb25zdCBmYWlsdXJlcyA9IChzZnVKb2luRmFpbHVyZXMuZ2V0KHNmdUlkKSB8fCAwKSArIDE7XG4gICAgICAgIHNmdUpvaW5GYWlsdXJlcy5zZXQoc2Z1SWQsIGZhaWx1cmVzKTtcbiAgICAgICAgaWYgKGZhaWx1cmVzID49IDIpIHtcbiAgICAgICAgICBqb2luRGF0YS5taWdyYXRpbmdfZnJvbSA9IHNmdUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dGVtcHQgPT09IG1heEpvaW5SZXRyaWVzIC0gMSkge1xuICAgICAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNhbGwgc3RhdGUgaWYgdGhlIGpvaW4tZmxvdyBmYWlsc1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKGNhbGxpbmdTdGF0ZSk7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNsZWVwKHJldHJ5SW50ZXJ2YWwoYXR0ZW1wdCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBtYWtlIGEgc2luZ2xlIGF0dGVtcHQgdG8gd2F0Y2ggZm9yIGNhbGwgcmVsYXRlZCBXZWJTb2NrZXQgZXZlbnRzXG4gICAqIGFuZCBpbml0aWF0ZSBhIGNhbGwgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBvbmNlIHRoZSBjYWxsIGpvaW4tZmxvdyBoYXMgZmluaXNoZWQuXG4gICAqL1xuICBwcml2YXRlIGRvSm9pbiA9IGFzeW5jIChkYXRhPzogSm9pbkNhbGxEYXRhKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgY29uc3QgY29ubmVjdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FsbGluZ1N0YXRlID0gdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGU7XG5cbiAgICB0aGlzLmpvaW5DYWxsRGF0YSA9IGRhdGE7XG5cbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU3RhcnRpbmcgam9pbiBmbG93Jyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkpPSU5JTkcpO1xuXG4gICAgY29uc3QgcGVyZm9ybWluZ01pZ3JhdGlvbiA9XG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFO1xuICAgIGNvbnN0IHBlcmZvcm1pbmdSZWpvaW4gPVxuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9PT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgIGNvbnN0IHBlcmZvcm1pbmdGYXN0UmVjb25uZWN0ID1cbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG5cbiAgICBsZXQgc3RhdHNPcHRpb25zID0gdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5vcHRpb25zO1xuICAgIGlmIChcbiAgICAgICF0aGlzLmNyZWRlbnRpYWxzIHx8XG4gICAgICAhc3RhdHNPcHRpb25zIHx8XG4gICAgICBwZXJmb3JtaW5nUmVqb2luIHx8XG4gICAgICBwZXJmb3JtaW5nTWlncmF0aW9uXG4gICAgKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBqb2luUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRvSm9pblJlcXVlc3QoZGF0YSk7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBqb2luUmVzcG9uc2UuY3JlZGVudGlhbHM7XG4gICAgICAgIHN0YXRzT3B0aW9ucyA9IGpvaW5SZXNwb25zZS5zdGF0c19vcHRpb25zO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gcHJldmVudCB0cmlnZ2VyaW5nIHJlY29ubmVjdCBmbG93IGlmIHRoZSBzdGF0ZSBpcyBPRkZMSU5FXG4gICAgICAgIGNvbnN0IGF2b2lkUmVzdG9yZVN0YXRlID1cbiAgICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLk9GRkxJTkU7XG5cbiAgICAgICAgaWYgKCFhdm9pZFJlc3RvcmVTdGF0ZSkge1xuICAgICAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNhbGwgc3RhdGUgaWYgdGhlIGpvaW4tZmxvdyBmYWlsc1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKGNhbGxpbmdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNTZnVDbGllbnQgPSB0aGlzLnNmdUNsaWVudDtcbiAgICBjb25zdCBwcmV2aW91c1Nlc3Npb25JZCA9IHByZXZpb3VzU2Z1Q2xpZW50Py5zZXNzaW9uSWQ7XG4gICAgY29uc3QgaXNXc0hlYWx0aHkgPSAhIXByZXZpb3VzU2Z1Q2xpZW50Py5pc0hlYWx0aHk7XG4gICAgY29uc3Qgc2Z1Q2xpZW50ID1cbiAgICAgIHBlcmZvcm1pbmdSZWpvaW4gfHwgcGVyZm9ybWluZ01pZ3JhdGlvbiB8fCAhaXNXc0hlYWx0aHlcbiAgICAgICAgPyBuZXcgU3RyZWFtU2Z1Q2xpZW50KHtcbiAgICAgICAgICAgIHRhZzogU3RyaW5nKHRoaXMuc2Z1Q2xpZW50VGFnKyspLFxuICAgICAgICAgICAgY2lkOiB0aGlzLmNpZCxcbiAgICAgICAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLmNyZWRlbnRpYWxzLFxuICAgICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICAgIGVuYWJsZVRyYWNpbmc6IHN0YXRzT3B0aW9ucy5lbmFibGVfcnRjX3N0YXRzLFxuICAgICAgICAgICAgLy8gYSBuZXcgc2Vzc2lvbl9pZCBpcyBuZWNlc3NhcnkgZm9yIHRoZSBSRUpPSU4gc3RyYXRlZ3kuXG4gICAgICAgICAgICAvLyB3ZSB1c2UgdGhlIHByZXZpb3VzIHNlc3Npb25faWQgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHBlcmZvcm1pbmdSZWpvaW4gPyB1bmRlZmluZWQgOiBwcmV2aW91c1Nlc3Npb25JZCxcbiAgICAgICAgICAgIG9uU2lnbmFsQ2xvc2U6IChyZWFzb24pID0+XG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Z1U2lnbmFsQ2xvc2Uoc2Z1Q2xpZW50LCByZWFzb24pLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogcHJldmlvdXNTZnVDbGllbnQ7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFNmdUNsaWVudChzZnVDbGllbnQpO1xuXG4gICAgY29uc3QgY2xpZW50RGV0YWlscyA9IGF3YWl0IGdldENsaWVudERldGFpbHMoKTtcbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHNlbmQgSm9pblJlcXVlc3QgaWYgd2UgYXJlIHJlLXVzaW5nIGFuIGV4aXN0aW5nIGhlYWx0aHkgU0ZVIGNsaWVudFxuICAgIGlmIChwcmV2aW91c1NmdUNsaWVudCAhPT0gc2Z1Q2xpZW50KSB7XG4gICAgICAvLyBwcmVwYXJlIGEgZ2VuZXJpYyBTRFAgYW5kIHNlbmQgaXQgdG8gdGhlIFNGVS5cbiAgICAgIC8vIHRoZXNlIGFyZSB0aHJvdy1hd2F5IFNEUHMgdGhhdCB0aGUgU0ZVIHdpbGwgdXNlIHRvIGRldGVybWluZVxuICAgICAgLy8gdGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY2xpZW50IChjb2RlYyBzdXBwb3J0LCBldGMuKVxuICAgICAgY29uc3QgW3N1YnNjcmliZXJTZHAsIHB1Ymxpc2hlclNkcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldEdlbmVyaWNTZHAoJ3JlY3Zvbmx5JyksXG4gICAgICAgIGdldEdlbmVyaWNTZHAoJ3NlbmRvbmx5JyksXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IGlzUmVjb25uZWN0aW5nID1cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG4gICAgICBjb25zdCByZWNvbm5lY3REZXRhaWxzID0gaXNSZWNvbm5lY3RpbmdcbiAgICAgICAgPyB0aGlzLmdldFJlY29ubmVjdERldGFpbHMoZGF0YT8ubWlncmF0aW5nX2Zyb20sIHByZXZpb3VzU2Vzc2lvbklkKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zID0gIWlzUmVjb25uZWN0aW5nXG4gICAgICAgID8gdGhpcy5nZXRQcmVmZXJyZWRQdWJsaXNoT3B0aW9ucygpXG4gICAgICAgIDogdGhpcy5jdXJyZW50UHVibGlzaE9wdGlvbnMgfHwgW107XG4gICAgICBjb25zdCBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zID0gIWlzUmVjb25uZWN0aW5nXG4gICAgICAgID8gdGhpcy5nZXRQcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zKClcbiAgICAgICAgOiBbXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBjYWxsU3RhdGUsIGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMsIHB1Ymxpc2hPcHRpb25zIH0gPVxuICAgICAgICAgIGF3YWl0IHNmdUNsaWVudC5qb2luKHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJTZHAsXG4gICAgICAgICAgICBwdWJsaXNoZXJTZHAsXG4gICAgICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICAgICAgZmFzdFJlY29ubmVjdDogcGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QsXG4gICAgICAgICAgICByZWNvbm5lY3REZXRhaWxzLFxuICAgICAgICAgICAgcHJlZmVycmVkUHVibGlzaE9wdGlvbnMsXG4gICAgICAgICAgICBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zLFxuICAgICAgICAgICAgY2FwYWJpbGl0aWVzOiBBcnJheS5mcm9tKHRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQdWJsaXNoT3B0aW9ucyA9IHB1Ymxpc2hPcHRpb25zO1xuICAgICAgICB0aGlzLmZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMgPSBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzO1xuICAgICAgICBpZiAoY2FsbFN0YXRlKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tU2Z1Q2FsbFN0YXRlKFxuICAgICAgICAgICAgY2FsbFN0YXRlLFxuICAgICAgICAgICAgc2Z1Q2xpZW50LnNlc3Npb25JZCxcbiAgICAgICAgICAgIHJlY29ubmVjdERldGFpbHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnSm9pbiBTRlUgcmVxdWVzdCBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgIHNmdUNsaWVudC5jbG9zZShcbiAgICAgICAgICBTdHJlYW1TZnVDbGllbnQuSk9JTl9GQUlMRUQsXG4gICAgICAgICAgJ0pvaW4gcmVxdWVzdCBmYWlsZWQsIGNvbm5lY3Rpb24gY29uc2lkZXJlZCB1bmhlYWx0aHknLFxuICAgICAgICApO1xuICAgICAgICAvLyByZXN0b3JlIHRoZSBwcmV2aW91cyBjYWxsIHN0YXRlIGlmIHRoZSBqb2luLWZsb3cgZmFpbHNcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoY2FsbGluZ1N0YXRlKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwZXJmb3JtaW5nTWlncmF0aW9uKSB7XG4gICAgICAvLyBpbiBNSUdSQVRJT04sIGBKT0lORURgIHN0YXRlIGlzIHNldCBpbiBgdGhpcy5yZWNvbm5lY3RNaWdyYXRlKClgXG4gICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuSk9JTkVEKTtcbiAgICB9XG4gICAgdGhpcy5oYXNKb2luZWRPbmNlID0gdHJ1ZTtcblxuICAgIC8vIHdoZW4gcGVyZm9ybWluZyBmYXN0IHJlY29ubmVjdCwgb3Igd2hlbiB3ZSByZXVzZSB0aGUgc2FtZSBTRlUgY2xpZW50LFxuICAgIC8vICh3cyByZW1haW5lZCBoZWFsdGh5KSwgd2UganVzdCBuZWVkIHRvIHJlc3RvcmUgdGhlIElDRSBjb25uZWN0aW9uXG4gICAgaWYgKHBlcmZvcm1pbmdGYXN0UmVjb25uZWN0KSB7XG4gICAgICAvLyB0aGUgU0ZVIGF1dG9tYXRpY2FsbHkgaXNzdWVzIGFuIElDRSByZXN0YXJ0IG9uIHRoZSBzdWJzY3JpYmVyXG4gICAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIGRvIGl0IG91cnNlbHZlc1xuICAgICAgYXdhaXQgdGhpcy5yZXN0b3JlSUNFKHNmdUNsaWVudCwgeyBpbmNsdWRlU3Vic2NyaWJlcjogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSB0b1J0Y0NvbmZpZ3VyYXRpb24odGhpcy5jcmVkZW50aWFscy5pY2Vfc2VydmVycyk7XG4gICAgICB0aGlzLmluaXRQdWJsaXNoZXJBbmRTdWJzY3JpYmVyKHtcbiAgICAgICAgc2Z1Q2xpZW50LFxuICAgICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICBzdGF0c09wdGlvbnMsXG4gICAgICAgIHB1Ymxpc2hPcHRpb25zOiB0aGlzLmN1cnJlbnRQdWJsaXNoT3B0aW9ucyB8fCBbXSxcbiAgICAgICAgY2xvc2VQcmV2aW91c0luc3RhbmNlczogIXBlcmZvcm1pbmdNaWdyYXRpb24sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgd2Ugb25seSB0cmFjayBjb25uZWN0aW9uIHRpbWluZyBpZiB3ZSBhcmUgbm90IGNhbGxpbmcgdGhpcyBtZXRob2QgYXMgcGFydCBvZiBhIHJlY29ubmVjdGlvbiBmbG93XG4gICAgaWYgKCFwZXJmb3JtaW5nUmVqb2luICYmICFwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCAmJiAhcGVyZm9ybWluZ01pZ3JhdGlvbikge1xuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zZW5kQ29ubmVjdGlvblRpbWUoXG4gICAgICAgIChEYXRlLm5vdygpIC0gY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocGVyZm9ybWluZ1Jlam9pbiAmJiBpc1dzSGVhbHRoeSkge1xuICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVt0aGlzLnJlY29ubmVjdFN0cmF0ZWd5XTtcbiAgICAgIGF3YWl0IHByZXZpb3VzU2Z1Q2xpZW50Py5sZWF2ZUFuZENsb3NlKFxuICAgICAgICBgQ2xvc2luZyBwcmV2aW91cyBXUyBhZnRlciByZWNvbm5lY3Qgd2l0aCBzdHJhdGVneTogJHtzdHJhdGVneX1gLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFpc1dzSGVhbHRoeSkge1xuICAgICAgcHJldmlvdXNTZnVDbGllbnQ/LmNsb3NlKFxuICAgICAgICBTdHJlYW1TZnVDbGllbnQuRElTUE9TRV9PTERfU09DS0VULFxuICAgICAgICAnQ2xvc2luZyB1bmhlYWx0aHkgV1MgYWZ0ZXIgcmVjb25uZWN0JyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gZGV2aWNlIHNldHRpbmdzIHNob3VsZCBiZSBhcHBsaWVkIG9ubHkgb25jZSwgd2UgZG9uJ3QgaGF2ZSB0b1xuICAgIC8vIHJlLWFwcGx5IHRoZW0gb24gbGF0ZXIgcmVjb25uZWN0aW9ucyBvciBzZXJ2ZXItc2lkZSBkYXRhIGZldGNoZXNcbiAgICBpZiAoIXRoaXMuZGV2aWNlU2V0dGluZ3NBcHBsaWVkT25jZSAmJiB0aGlzLnN0YXRlLnNldHRpbmdzKSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKHRoaXMuc3RhdGUuc2V0dGluZ3MsIHRydWUpO1xuICAgICAgdGhpcy5kZXZpY2VTZXR0aW5nc0FwcGxpZWRPbmNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZSBzaG91bGRuJ3QgcGVyc2lzdCB0aGUgYHJpbmdgIGFuZCBgbm90aWZ5YCBzdGF0ZSBhZnRlciBqb2luaW5nIHRoZSBjYWxsXG4gICAgLy8gYXMgaXQncyBhIG9uZS10aW1lIGV2ZW50IGFuZCBjbGFzaGVzIHdpdGggdGhlIHBvdGVudGlhbCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMuXG4gICAgLy8gV2hlbiByZWNvbm5lY3RpbmcsIGlmIHByb3ZpZGVkIHdpdGggYHJpbmc6IHRydWVgIG9yIGBub3RpZnk6IHRydWVgLFxuICAgIC8vIHdlIHdpbGwgc3BhbSB0aGUgb3RoZXIgcGFydGljaXBhbnRzIHdpdGggcHVzaCBub3RpZmljYXRpb25zIGFuZCBgY2FsbC5yaW5nYCBldmVudHMuXG4gICAgZGVsZXRlIHRoaXMuam9pbkNhbGxEYXRhPy5yaW5nO1xuICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubm90aWZ5O1xuICAgIC8vIHJlc2V0IHRoZSByZWNvbm5lY3Qgc3RyYXRlZ3kgdG8gdW5zcGVjaWZpZWQgYWZ0ZXIgYSBzdWNjZXNzZnVsIHJlY29ubmVjdGlvblxuICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRDtcbiAgICB0aGlzLnJlY29ubmVjdFJlYXNvbiA9ICcnO1xuXG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgSm9pbmVkIGNhbGwgJHt0aGlzLmNpZH1gKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJlcGFyZXMgUmVjb25uZWN0IERldGFpbHMgb2JqZWN0LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgZ2V0UmVjb25uZWN0RGV0YWlscyA9IChcbiAgICBtaWdyYXRpbmdGcm9tU2Z1SWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBwcmV2aW91c1Nlc3Npb25JZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApOiBSZWNvbm5lY3REZXRhaWxzID0+IHtcbiAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMucmVjb25uZWN0U3RyYXRlZ3k7XG4gICAgY29uc3QgcGVyZm9ybWluZ1Jlam9pbiA9IHN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgY29uc3QgYW5ub3VuY2VkVHJhY2tzID1cbiAgICAgIHRoaXMucHVibGlzaGVyPy5nZXRBbm5vdW5jZWRUcmFja3NGb3JSZWNvbm5lY3QoKSB8fCBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyYXRlZ3ksXG4gICAgICBhbm5vdW5jZWRUcmFja3MsXG4gICAgICBzdWJzY3JpcHRpb25zOiB0aGlzLmR5bmFzY2FsZU1hbmFnZXIudHJhY2tTdWJzY3JpcHRpb25zLFxuICAgICAgcmVjb25uZWN0QXR0ZW1wdDogdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyxcbiAgICAgIGZyb21TZnVJZDogbWlncmF0aW5nRnJvbVNmdUlkIHx8ICcnLFxuICAgICAgcHJldmlvdXNTZXNzaW9uSWQ6IHBlcmZvcm1pbmdSZWpvaW4gPyBwcmV2aW91c1Nlc3Npb25JZCB8fCAnJyA6ICcnLFxuICAgICAgcmVhc29uOiB0aGlzLnJlY29ubmVjdFJlYXNvbixcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyB0aGUgcHJlZmVycmVkIGNvZGVjIGZvciB0aGUgY2FsbC5cbiAgICogVGhpcyBpcyBhbiBleHBlcmltZW50YWwgY2xpZW50IGZlYXR1cmUgYW5kIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkUHVibGlzaE9wdGlvbnMgPSAoKTogUHVibGlzaE9wdGlvbltdID0+IHtcbiAgICBjb25zdCB7IHByZWZlcnJlZENvZGVjLCBmbXRwTGluZSwgcHJlZmVycmVkQml0cmF0ZSwgbWF4U2ltdWxjYXN0TGF5ZXJzIH0gPVxuICAgICAgdGhpcy5jbGllbnRQdWJsaXNoT3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIXByZWZlcnJlZENvZGVjICYmICFwcmVmZXJyZWRCaXRyYXRlICYmICFtYXhTaW11bGNhc3RMYXllcnMpIHJldHVybiBbXTtcblxuICAgIGNvbnN0IGNvZGVjID0gcHJlZmVycmVkQ29kZWNcbiAgICAgID8gQ29kZWMuY3JlYXRlKHsgbmFtZTogcHJlZmVycmVkQ29kZWMuc3BsaXQoJy8nKS5wb3AoKSwgZm10cDogZm10cExpbmUgfSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgcHJlZmVycmVkUHVibGlzaE9wdGlvbnMgPSBbXG4gICAgICBQdWJsaXNoT3B0aW9uLmNyZWF0ZSh7XG4gICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlZJREVPLFxuICAgICAgICBjb2RlYyxcbiAgICAgICAgYml0cmF0ZTogcHJlZmVycmVkQml0cmF0ZSxcbiAgICAgICAgbWF4U3BhdGlhbExheWVyczogbWF4U2ltdWxjYXN0TGF5ZXJzLFxuICAgICAgfSksXG4gICAgXTtcblxuICAgIGNvbnN0IHNjcmVlblNoYXJlU2V0dGluZ3MgPSB0aGlzLnNjcmVlblNoYXJlLmdldFNldHRpbmdzKCk7XG4gICAgaWYgKHNjcmVlblNoYXJlU2V0dGluZ3MpIHtcbiAgICAgIHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zLnB1c2goXG4gICAgICAgIFB1Ymxpc2hPcHRpb24uY3JlYXRlKHtcbiAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgICAgICAgZnBzOiBzY3JlZW5TaGFyZVNldHRpbmdzLm1heEZyYW1lcmF0ZSxcbiAgICAgICAgICBiaXRyYXRlOiBzY3JlZW5TaGFyZVNldHRpbmdzLm1heEJpdHJhdGUsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlZmVycmVkUHVibGlzaE9wdGlvbnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIHRoZSBwcmVmZXJyZWQgb3B0aW9ucyBmb3Igc3Vic2NyaWJpbmcgdG8gdHJhY2tzLlxuICAgKiBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBjbGllbnQgZmVhdHVyZSBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRQcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zID0gKCk6IFN1YnNjcmliZU9wdGlvbltdID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmliZXJDb2RlYywgc3Vic2NyaWJlckZtdHBMaW5lIH0gPVxuICAgICAgdGhpcy5jbGllbnRQdWJsaXNoT3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIXN1YnNjcmliZXJDb2RlYyB8fCAhc3Vic2NyaWJlckZtdHBMaW5lKSByZXR1cm4gW107XG4gICAgcmV0dXJuIFtcbiAgICAgIFN1YnNjcmliZU9wdGlvbi5jcmVhdGUoe1xuICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgICAgY29kZWNzOiBbXG4gICAgICAgICAgeyBuYW1lOiBzdWJzY3JpYmVyQ29kZWMuc3BsaXQoJy8nKS5wb3AoKSwgZm10cDogc3Vic2NyaWJlckZtdHBMaW5lIH0sXG4gICAgICAgIF0sXG4gICAgICB9KSxcbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBJQ0UgcmVzdGFydCBvbiBib3RoIHRoZSBQdWJsaXNoZXIgYW5kIFN1YnNjcmliZXIgUGVlciBDb25uZWN0aW9ucy5cbiAgICogVXNlcyB0aGUgcHJvdmlkZWQgU0ZVIGNsaWVudCB0byByZXN0b3JlIHRoZSBJQ0UgY29ubmVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIHRocm93IGFuIGVycm9yIGlmIHRoZSBJQ0UgcmVzdGFydCBmYWlscy5cbiAgICogVGhpcyBlcnJvciBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgcmVjb25uZWN0IGxvb3AsXG4gICAqIGFuZCBhIG5ldyByZWNvbm5lY3Rpb24gc2hhbGwgYmUgYXR0ZW1wdGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVzdG9yZUlDRSA9IGFzeW5jIChcbiAgICBuZXh0U2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQsXG4gICAgb3B0czogeyBpbmNsdWRlU3Vic2NyaWJlcj86IGJvb2xlYW47IGluY2x1ZGVQdWJsaXNoZXI/OiBib29sZWFuIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBpbmNsdWRlU3Vic2NyaWJlciA9IHRydWUsIGluY2x1ZGVQdWJsaXNoZXIgPSB0cnVlIH0gPSBvcHRzO1xuICAgIGlmICh0aGlzLnN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlci5zZXRTZnVDbGllbnQobmV4dFNmdUNsaWVudCk7XG4gICAgICBpZiAoaW5jbHVkZVN1YnNjcmliZXIpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnJlc3RhcnRJY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucHVibGlzaGVyKSB7XG4gICAgICB0aGlzLnB1Ymxpc2hlci5zZXRTZnVDbGllbnQobmV4dFNmdUNsaWVudCk7XG4gICAgICBpZiAoaW5jbHVkZVB1Ymxpc2hlciAmJiB0aGlzLnB1Ymxpc2hlci5pc1B1Ymxpc2hpbmcoKSkge1xuICAgICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5yZXN0YXJ0SWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIFBlZXIgQ29ubmVjdGlvbnMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBpbml0UHVibGlzaGVyQW5kU3Vic2NyaWJlciA9IChvcHRzOiB7XG4gICAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gICAgY29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbjtcbiAgICBzdGF0c09wdGlvbnM6IFN0YXRzT3B0aW9ucztcbiAgICBjbGllbnREZXRhaWxzOiBDbGllbnREZXRhaWxzO1xuICAgIHB1Ymxpc2hPcHRpb25zOiBQdWJsaXNoT3B0aW9uW107XG4gICAgY2xvc2VQcmV2aW91c0luc3RhbmNlczogYm9vbGVhbjtcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNmdUNsaWVudCxcbiAgICAgIGNvbm5lY3Rpb25Db25maWcsXG4gICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgc3RhdHNPcHRpb25zLFxuICAgICAgcHVibGlzaE9wdGlvbnMsXG4gICAgICBjbG9zZVByZXZpb3VzSW5zdGFuY2VzLFxuICAgIH0gPSBvcHRzO1xuICAgIGNvbnN0IHsgZW5hYmxlX3J0Y19zdGF0czogZW5hYmxlVHJhY2luZyB9ID0gc3RhdHNPcHRpb25zO1xuICAgIGlmIChjbG9zZVByZXZpb3VzSW5zdGFuY2VzICYmIHRoaXMuc3Vic2NyaWJlcikge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5zdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIoe1xuICAgICAgc2Z1Q2xpZW50LFxuICAgICAgZGlzcGF0Y2hlcjogdGhpcy5kaXNwYXRjaGVyLFxuICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgdGFnOiBzZnVDbGllbnQudGFnLFxuICAgICAgZW5hYmxlVHJhY2luZyxcbiAgICAgIG9uUmVjb25uZWN0aW9uTmVlZGVkOiAoa2luZCwgcmVhc29uKSA9PiB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KGtpbmQsIHJlYXNvbikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3Vic2NyaWJlciBlcnJvcjogJHtyZWFzb259YDtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIG1lc3NhZ2UsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIGFub255bW91cyB1c2VycyBjYW4ndCBwdWJsaXNoIGFueXRoaW5nIGhlbmNlLCB0aGVyZSBpcyBubyBuZWVkXG4gICAgLy8gdG8gY3JlYXRlIFB1Ymxpc2hlciBQZWVyIENvbm5lY3Rpb24gZm9yIHRoZW1cbiAgICBjb25zdCBpc0Fub255bW91cyA9IHRoaXMuc3RyZWFtQ2xpZW50LnVzZXI/LnR5cGUgPT09ICdhbm9ueW1vdXMnO1xuICAgIGlmICghaXNBbm9ueW1vdXMpIHtcbiAgICAgIGlmIChjbG9zZVByZXZpb3VzSW5zdGFuY2VzICYmIHRoaXMucHVibGlzaGVyKSB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHVibGlzaGVyID0gbmV3IFB1Ymxpc2hlcih7XG4gICAgICAgIHNmdUNsaWVudCxcbiAgICAgICAgZGlzcGF0Y2hlcjogdGhpcy5kaXNwYXRjaGVyLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgICAgcHVibGlzaE9wdGlvbnMsXG4gICAgICAgIHRhZzogc2Z1Q2xpZW50LnRhZyxcbiAgICAgICAgZW5hYmxlVHJhY2luZyxcbiAgICAgICAgb25SZWNvbm5lY3Rpb25OZWVkZWQ6IChraW5kLCByZWFzb24pID0+IHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdChraW5kLCByZWFzb24pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nIGFmdGVyIGEgcHVibGlzaGVyIGVycm9yOiAke3JlYXNvbn1gO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBtZXNzYWdlLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgaWYgKHRoaXMuc3RhdHNSZXBvcnRpbmdJbnRlcnZhbEluTXMgPiAwKSB7XG4gICAgICB0aGlzLnN0YXRzUmVwb3J0ZXIgPSBjcmVhdGVTdGF0c1JlcG9ydGVyKHtcbiAgICAgICAgc3Vic2NyaWJlcjogdGhpcy5zdWJzY3JpYmVyLFxuICAgICAgICBwdWJsaXNoZXI6IHRoaXMucHVibGlzaGVyLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgZGF0YWNlbnRlcjogc2Z1Q2xpZW50LmVkZ2VOYW1lLFxuICAgICAgICBwb2xsaW5nSW50ZXJ2YWxJbk1zOiB0aGlzLnN0YXRzUmVwb3J0aW5nSW50ZXJ2YWxJbk1zLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy50cmFjZXIuc2V0RW5hYmxlZChlbmFibGVUcmFjaW5nKTtcbiAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICBpZiAoc3RhdHNPcHRpb25zPy5yZXBvcnRpbmdfaW50ZXJ2YWxfbXMgPiAwKSB7XG4gICAgICB0aGlzLnVuaWZpZWRTZXNzaW9uSWQgPz89IHNmdUNsaWVudC5zZXNzaW9uSWQ7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSBuZXcgU2Z1U3RhdHNSZXBvcnRlcihzZnVDbGllbnQsIHtcbiAgICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgICAgb3B0aW9uczogc3RhdHNPcHRpb25zLFxuICAgICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICAgIG1pY3JvcGhvbmU6IHRoaXMubWljcm9waG9uZSxcbiAgICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYSxcbiAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgIHRyYWNlcjogdGhpcy50cmFjZXIsXG4gICAgICAgIHVuaWZpZWRTZXNzaW9uSWQ6IHRoaXMudW5pZmllZFNlc3Npb25JZCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyLnN0YXJ0KCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgY3JlZGVudGlhbHMgZm9yIGpvaW5pbmcgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgam9pbiBjYWxsIGRhdGEuXG4gICAqL1xuICBkb0pvaW5SZXF1ZXN0ID0gYXN5bmMgKGRhdGE/OiBKb2luQ2FsbERhdGEpOiBQcm9taXNlPEpvaW5DYWxsUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LmdldExvY2F0aW9uSGludCgpO1xuICAgIGNvbnN0IHJlcXVlc3Q6IEpvaW5DYWxsUmVxdWVzdCA9IHsgLi4uZGF0YSwgbG9jYXRpb24gfTtcbiAgICBjb25zdCBqb2luUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgSm9pbkNhbGxSZXNwb25zZSxcbiAgICAgIEpvaW5DYWxsUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vam9pbmAsIHJlcXVlc3QpO1xuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShqb2luUmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKGpvaW5SZXNwb25zZS5tZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhqb2luUmVzcG9uc2Uub3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAoZGF0YT8ucmluZykge1xuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzUmVjb25uZWN0aW5nID1cbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgIT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEO1xuXG4gICAgaWYgKCFpc1JlY29ubmVjdGluZyAmJiB0aGlzLnJpbmdpbmcgJiYgIXRoaXMuaXNDcmVhdGVkQnlNZSkge1xuICAgICAgLy8gc2lnbmFscyBvdGhlciB1c2VycyB0aGF0IEkgaGF2ZSBhY2NlcHRlZCB0aGUgaW5jb21pbmcgY2FsbC5cbiAgICAgIGF3YWl0IHRoaXMuYWNjZXB0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gam9pblJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjbG9zaW5nIG9mIHRoZSBTRlUgc2lnbmFsIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IGluc3RhbmNlIHRoYXQgd2FzIGNsb3NlZC5cbiAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVhc29uIGZvciB0aGUgY2xvc3VyZS5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlU2Z1U2lnbmFsQ2xvc2UgPSAoXG4gICAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQsXG4gICAgcmVhc29uOiBzdHJpbmcsXG4gICkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdbUmVjb25uZWN0XSBTRlUgc2lnbmFsIGNvbm5lY3Rpb24gY2xvc2VkJyk7XG4gICAgY29uc3QgeyBjYWxsaW5nU3RhdGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKFxuICAgICAgLy8gU0ZVIFdTIGNsb3NlZCBiZWZvcmUgd2UgZmluaXNoZWQgY3VycmVudCBqb2luLFxuICAgICAgLy8gbm8gbmVlZCB0byBzY2hlZHVsZSByZWNvbm5lY3RpbmdcbiAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5JTkcgfHxcbiAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IGluIHRoZSBwcm9jZXNzIG9mIHJlY29ubmVjdGluZyxcbiAgICAgIC8vIG5vIG5lZWQgdG8gc2NoZWR1bGUgYW5vdGhlciBvbmVcbiAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyB8fFxuICAgICAgLy8gU0ZVIFdTIGNsb3NlZCBhcyBhIHJlc3VsdCBvZiB1bnN1Y2Nlc3NmdWwgam9pbixcbiAgICAgIC8vIGFuZCBubyBmdXJ0aGVyIHJldHJpZXMgbmVlZCB0byBiZSBtYWRlXG4gICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5JRExFIHx8XG4gICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUXG4gICAgKVxuICAgICAgcmV0dXJuO1xuICAgIC8vIG5vcm1hbCBjbG9zZSwgbm8gbmVlZCB0byByZWNvbm5lY3RcbiAgICBpZiAoc2Z1Q2xpZW50LmlzTGVhdmluZyB8fCBzZnVDbGllbnQuaXNDbG9zaW5nQ2xlYW4pIHJldHVybjtcblxuICAgIGNvbnN0IHN0cmF0ZWd5ID1cbiAgICAgIHRoaXMucHVibGlzaGVyPy5pc0hlYWx0aHkoKSAmJiB0aGlzLnN1YnNjcmliZXI/LmlzSGVhbHRoeSgpXG4gICAgICAgID8gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVFxuICAgICAgICA6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICB0aGlzLnJlY29ubmVjdChzdHJhdGVneSwgcmVhc29uKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSByZWNvbm5lY3Rpb24gZmxvdy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzdHJhdGVneSB0aGUgcmVjb25uZWN0aW9uIHN0cmF0ZWd5IHRvIHVzZS5cbiAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVhc29uIGZvciB0aGUgcmVjb25uZWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSByZWNvbm5lY3QgPSBhc3luYyAoXG4gICAgc3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgIHJlYXNvbjogc3RyaW5nLFxuICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyB8fFxuICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5NSUdSQVRJTkcgfHxcbiAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRFxuICAgIClcbiAgICAgIHJldHVybjtcblxuICAgIHJldHVybiB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5yZWNvbm5lY3RDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICAgIHRoaXMucmVjb25uZWN0UmVhc29uID0gcmVhc29uO1xuXG4gICAgICBjb25zdCBtYXJrQXNSZWNvbm5lY3RpbmdGYWlsZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gYXR0ZW1wdCB0byBmZXRjaCB0aGUgY2FsbCBkYXRhIGZyb20gdGhlIHNlcnZlciwgYXMgdGhlIGNhbGxcbiAgICAgICAgICAvLyBzdGF0ZSBtaWdodCBoYXZlIGNoYW5nZWQgd2hpbGUgd2Ugd2VyZSByZWNvbm5lY3Rpbmcgb3Igd2VyZSBvZmZsaW5lXG4gICAgICAgICAgYXdhaXQgdGhpcy5nZXQoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGxldCBhdHRlbXB0ID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgcmVjb25uZWN0aW5nVGltZSA9IERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWU7XG4gICAgICAgIGNvbnN0IHNob3VsZEdpdmVVcFJlY29ubmVjdGluZyA9XG4gICAgICAgICAgdGhpcy5kaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHMgPiAwICYmXG4gICAgICAgICAgcmVjb25uZWN0aW5nVGltZSAvIDEwMDAgPiB0aGlzLmRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kcztcblxuICAgICAgICBpZiAoc2hvdWxkR2l2ZVVwUmVjb25uZWN0aW5nKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnW1JlY29ubmVjdF0gU3RvcHBpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRzIGFmdGVyIHJlYWNoaW5nIGRpc2Nvbm5lY3Rpb24gdGltZW91dCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCBtYXJrQXNSZWNvbm5lY3RpbmdGYWlsZWQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBkb24ndCBpbmNyZW1lbnQgcmVjb25uZWN0IGF0dGVtcHRzIGZvciB0aGUgRkFTVCBzdHJhdGVneS5cbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgIT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1QpIHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKys7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFN0cmF0ZWd5ID1cbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVt0aGlzLnJlY29ubmVjdFN0cmF0ZWd5XTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBuZXR3b3JrIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGF3YWl0IHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnByb21pc2U7XG5cbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICdpbmZvJyxcbiAgICAgICAgICAgIGBbUmVjb25uZWN0XSBSZWNvbm5lY3Rpbmcgd2l0aCBzdHJhdGVneSAke1dlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5W3RoaXMucmVjb25uZWN0U3RyYXRlZ3ldfWAsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHN3aXRjaCAodGhpcy5yZWNvbm5lY3RTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRDpcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgICAgICAgICBgW1JlY29ubmVjdF0gTm8tb3Agc3RyYXRlZ3kgJHtjdXJyZW50U3RyYXRlZ3l9YCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q6XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb25uZWN0RmFzdCgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOOlxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlY29ubmVjdFJlam9pbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTpcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWNvbm5lY3RNaWdyYXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgZW5zdXJlRXhoYXVzdGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgJ1Vua25vd24gcmVjb25uZWN0aW9uIHN0cmF0ZWd5JyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrOyAvLyBkby13aGlsZSBsb29wLCByZWNvbm5lY3Rpb24gd29ya2VkLCBleGl0IHRoZSBsb29wXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuT0ZGTElORSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAgIGBbUmVjb25uZWN0XSBDYW4ndCByZWNvbm5lY3Qgd2hpbGUgb2ZmbGluZSwgc3RvcHBpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRzYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gaGFuZGxlIHRoZSBlcnJvciBpZiB0aGUgY2FsbCBpcyBvZmZsaW5lXG4gICAgICAgICAgICAvLyBuZXR3b3JrIGNoYW5nZSBldmVudCB3aWxsIHRyaWdnZXIgdGhlIHJlY29ubmVjdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvckZyb21SZXNwb25zZSAmJiBlcnJvci51bnJlY292ZXJhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICBgW1JlY29ubmVjdF0gQ2FuJ3QgcmVjb25uZWN0IGR1ZSB0byBjb29yZGluYXRvciB1bnJlY292ZXJhYmxlIGVycm9yYCxcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgbWFya0FzUmVjb25uZWN0aW5nRmFpbGVkKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXdhaXQgc2xlZXAoNTAwKTtcblxuICAgICAgICAgIGNvbnN0IHdhc01pZ3JhdGluZyA9XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFO1xuICAgICAgICAgIGNvbnN0IG11c3RQZXJmb3JtUmVqb2luID1cbiAgICAgICAgICAgIChEYXRlLm5vdygpIC0gcmVjb25uZWN0U3RhcnRUaW1lKSAvIDEwMDAgPlxuICAgICAgICAgICAgdGhpcy5mYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzO1xuXG4gICAgICAgICAgLy8gZG9uJ3QgaW1tZWRpYXRlbHkgc3dpdGNoIHRvIHRoZSBSRUpPSU4gc3RyYXRlZ3ksIGJ1dCBpbnN0ZWFkIGF0dGVtcHRcbiAgICAgICAgICAvLyB0byByZWNvbm5lY3Qgd2l0aCB0aGUgRkFTVCBzdHJhdGVneSBmb3IgYSBmZXcgdGltZXMgYmVmb3JlIHN3aXRjaGluZy5cbiAgICAgICAgICAvLyBpbiBzb21lIGNhc2VzLCB3ZSBpbW1lZGlhdGVseSBzd2l0Y2ggdG8gdGhlIFJFSk9JTiBzdHJhdGVneS5cbiAgICAgICAgICBjb25zdCBzaG91bGRSZWpvaW4gPVxuICAgICAgICAgICAgbXVzdFBlcmZvcm1SZWpvaW4gfHwgLy8gaWYgd2UgYXJlIHBhc3QgdGhlIGZhc3QgcmVjb25uZWN0IGRlYWRsaW5lXG4gICAgICAgICAgICB3YXNNaWdyYXRpbmcgfHwgLy8gaWYgd2Ugd2VyZSBtaWdyYXRpbmcsIGJ1dCB0aGUgbWlncmF0aW9uIGZhaWxlZFxuICAgICAgICAgICAgYXR0ZW1wdCA+PSAzIHx8IC8vIGFmdGVyIDMgZmFpbGVkIGF0dGVtcHRzXG4gICAgICAgICAgICAhKHRoaXMucHVibGlzaGVyPy5pc0hlYWx0aHkoKSA/PyB0cnVlKSB8fCAvLyBpZiB0aGUgcHVibGlzaGVyIGlzIG5vdCBoZWFsdGh5XG4gICAgICAgICAgICAhKHRoaXMuc3Vic2NyaWJlcj8uaXNIZWFsdGh5KCkgPz8gdHJ1ZSk7IC8vIGlmIHRoZSBzdWJzY3JpYmVyIGlzIG5vdCBoZWFsdGh5XG5cbiAgICAgICAgICBhdHRlbXB0Kys7XG5cbiAgICAgICAgICBjb25zdCBuZXh0U3RyYXRlZ3kgPSBzaG91bGRSZWpvaW5cbiAgICAgICAgICAgID8gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOXG4gICAgICAgICAgICA6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG4gICAgICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IG5leHRTdHJhdGVneTtcblxuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgICAgYFtSZWNvbm5lY3RdICR7Y3VycmVudFN0cmF0ZWd5fSAoJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSkgZmFpbGVkLiBBdHRlbXB0aW5nIHdpdGggJHtXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVtuZXh0U3RyYXRlZ3ldfWAsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEICYmXG4gICAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuTEVGVFxuICAgICAgKTtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ1tSZWNvbm5lY3RdIFJlY29ubmVjdGlvbiBmbG93IGZpbmlzaGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cgd2l0aCB0aGUgXCJmYXN0XCIgc3RyYXRlZ3kuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZWNvbm5lY3RGYXN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlY29ubmVjdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyk7XG4gICAgYXdhaXQgdGhpcy5kb0pvaW4odGhpcy5qb2luQ2FsbERhdGEpO1xuICAgIGF3YWl0IHRoaXMuZ2V0KCk7IC8vIGZldGNoIHRoZSBsYXRlc3QgY2FsbCBzdGF0ZSwgYXMgaXQgbWlnaHQgaGF2ZSBjaGFuZ2VkXG4gICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zZW5kUmVjb25uZWN0aW9uVGltZShcbiAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1QsXG4gICAgICAoRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cgd2l0aCB0aGUgXCJyZWpvaW5cIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdFJlam9pbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZWNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyk7XG4gICAgYXdhaXQgdGhpcy5kb0pvaW4odGhpcy5qb2luQ2FsbERhdGEpO1xuICAgIGF3YWl0IHRoaXMucmVzdG9yZVB1Ymxpc2hlZFRyYWNrcygpO1xuICAgIHRoaXMucmVzdG9yZVN1YnNjcmliZWRUcmFja3MoKTtcbiAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnNlbmRSZWNvbm5lY3Rpb25UaW1lKFxuICAgICAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOLFxuICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93IHdpdGggdGhlIFwibWlncmF0ZVwiIHN0cmF0ZWd5LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVjb25uZWN0TWlncmF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZWNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGN1cnJlbnRTZnVDbGllbnQgPSB0aGlzLnNmdUNsaWVudDtcbiAgICBpZiAoIWN1cnJlbnRTZnVDbGllbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1pZ3JhdGUgd2l0aG91dCBhbiBhY3RpdmUgU0ZVIGNsaWVudCcpO1xuICAgIH1cblxuICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5NSUdSQVRJTkcpO1xuICAgIGNvbnN0IGN1cnJlbnRTdWJzY3JpYmVyID0gdGhpcy5zdWJzY3JpYmVyO1xuICAgIGNvbnN0IGN1cnJlbnRQdWJsaXNoZXIgPSB0aGlzLnB1Ymxpc2hlcjtcblxuICAgIGN1cnJlbnRTdWJzY3JpYmVyPy5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgY3VycmVudFB1Ymxpc2hlcj8uZGV0YWNoRXZlbnRIYW5kbGVycygpO1xuXG4gICAgY29uc3QgbWlncmF0aW9uVGFzayA9IG1ha2VTYWZlUHJvbWlzZShjdXJyZW50U2Z1Q2xpZW50LmVudGVyTWlncmF0aW9uKCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZnUgPSBjdXJyZW50U2Z1Q2xpZW50LmVkZ2VOYW1lO1xuICAgICAgYXdhaXQgdGhpcy5kb0pvaW4oeyAuLi50aGlzLmpvaW5DYWxsRGF0YSwgbWlncmF0aW5nX2Zyb206IGN1cnJlbnRTZnUgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGNsZWFudXAgdGhlIG1pZ3JhdGlvbl9mcm9tIGZpZWxkIGFmdGVyIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUgb3IgZmFpbGVkXG4gICAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXAgZGlydHkgZGF0YSBpbiB0aGUgam9pbiBjYWxsIGRhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubWlncmF0aW5nX2Zyb207XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBtaWdyYXRpb24gdG8gY29tcGxldGUsIHRoZW4gY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnRcbiAgICAgIC8vIGFuZCB0aGUgcGVlciBjb25uZWN0aW9uIGluc3RhbmNlcy4gSW4gY2FzZSBvZiBmYWlsdXJlLCB0aGUgbWlncmF0aW9uXG4gICAgICAvLyB0YXNrIHdvdWxkIHRocm93IGFuIGVycm9yIGFuZCBSRUpPSU4gd291bGQgYmUgYXR0ZW1wdGVkLlxuICAgICAgYXdhaXQgbWlncmF0aW9uVGFzaygpO1xuXG4gICAgICAvLyBpbiBNSUdSQVRFLCB3ZSBjYW4gY29uc2lkZXIgdGhlIGNhbGwgYXMgam9pbmVkIG9ubHkgYWZ0ZXJcbiAgICAgIC8vIGBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlYCBldmVudCBpcyByZWNlaXZlZCwgc2lnbmFsZWQgYnlcbiAgICAgIC8vIHRoZSBgbWlncmF0aW9uVGFza2BcbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lORUQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50U3Vic2NyaWJlcj8uZGlzcG9zZSgpO1xuICAgICAgY3VycmVudFB1Ymxpc2hlcj8uZGlzcG9zZSgpO1xuXG4gICAgICAvLyBhbmQgY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnQsIHdpdGhvdXQgc3BlY2lmeWluZyBjbG9zZSBjb2RlXG4gICAgICBjdXJyZW50U2Z1Q2xpZW50LmNsb3NlKFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSwgJ01pZ3JhdGluZyBhd2F5Jyk7XG4gICAgfVxuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFJlY29ubmVjdGlvblRpbWUoXG4gICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFLFxuICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIHZhcmlvdXMgZXZlbnQgaGFuZGxlcnMgZm9yIHJlY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgLy8gaGFuZGxlcyB0aGUgbGVnYWN5IFwiZ29Bd2F5XCIgZXZlbnRcbiAgICBjb25zdCB1bnJlZ2lzdGVyR29Bd2F5ID0gdGhpcy5vbignZ29Bd2F5JywgKCkgPT4ge1xuICAgICAgdGhpcy5yZWNvbm5lY3QoV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURSwgJ2dvQXdheScpLmNhdGNoKFxuICAgICAgICAoZXJyKSA9PiB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZXMgdGhlIFwiZXJyb3JcIiBldmVudCwgdGhyb3VnaCB3aGljaCB0aGUgU0ZVIGNhbiByZXF1ZXN0IGEgcmVjb25uZWN0XG4gICAgY29uc3QgdW5yZWdpc3Rlck9uRXJyb3IgPSB0aGlzLm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgICBjb25zdCB7IHJlY29ubmVjdFN0cmF0ZWd5OiBzdHJhdGVneSwgZXJyb3IgfSA9IGU7XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEKSByZXR1cm47XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkRJU0NPTk5FQ1QpIHtcbiAgICAgICAgdGhpcy5sZWF2ZSh7IG1lc3NhZ2U6ICdTRlUgaW5zdHJ1Y3RlZCB0byBkaXNjb25uZWN0JyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ2FuJ3QgbGVhdmUgY2FsbCBhZnRlciBkaXNjb25uZWN0IHJlcXVlc3RgLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KHN0cmF0ZWd5LCBlcnJvcj8ubWVzc2FnZSB8fCAnU0ZVIEVycm9yJykuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZycsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgdW5yZWdpc3Rlck5ldHdvcmtDaGFuZ2VkID0gdGhpcy5zdHJlYW1DbGllbnQub24oXG4gICAgICAnbmV0d29yay5jaGFuZ2VkJyxcbiAgICAgIChlKSA9PiB7XG4gICAgICAgIHRoaXMudHJhY2VyLnRyYWNlKCduZXR3b3JrLmNoYW5nZWQnLCBlKTtcbiAgICAgICAgaWYgKCFlLm9ubGluZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdbUmVjb25uZWN0XSBHb2luZyBvZmZsaW5lJyk7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhc0pvaW5lZE9uY2UpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGFzayB0aGF0IHdvdWxkIHJlc29sdmUgd2hlbiB0aGUgbmV0d29yayBpcyBhdmFpbGFibGVcbiAgICAgICAgICBjb25zdCBuZXR3b3JrQXZhaWxhYmxlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzKCk7XG4gICAgICAgICAgbmV0d29ya0F2YWlsYWJsZVRhc2sucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0T2ZmbGluZVRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBjb25zdCBvZmZsaW5lID0gKERhdGUubm93KCkgLSB0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wKSAvIDEwMDA7XG4gICAgICAgICAgICAgIGlmIChvZmZsaW5lID4gdGhpcy5mYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkbid0IGF0dGVtcHQgRkFTVCBpZiB3ZSBoYXZlIGV4Y2VlZGVkIHRoZSBkZWFkbGluZS5cbiAgICAgICAgICAgICAgICAvLyBUaGUgU0ZVIHdvdWxkIGhhdmUgYWxyZWFkeSB3aXBlZCBvdXQgdGhlIHNlc3Npb24uXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Qoc3RyYXRlZ3ksICdHb2luZyBvbmxpbmUnKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgICAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nIGFmdGVyIGdvaW5nIG9ubGluZScsXG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzayA9IG5ldHdvcmtBdmFpbGFibGVUYXNrO1xuICAgICAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5PRkZMSU5FKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnW1JlY29ubmVjdF0gR29pbmcgb25saW5lJyk7XG4gICAgICAgICAgdGhpcy5zZnVDbGllbnQ/LmNsb3NlKFxuICAgICAgICAgICAgU3RyZWFtU2Z1Q2xpZW50LkRJU1BPU0VfT0xEX1NPQ0tFVCxcbiAgICAgICAgICAgICdDbG9zaW5nIFdTIHRvIHJlY29ubmVjdCBhZnRlciBnb2luZyBvbmxpbmUnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gd2Ugd2VudCBvbmxpbmUsIHJlbGVhc2UgdGhlIHByZXZpb3VzIHdhaXRlcnMgYW5kIHJlc2V0IHRoZSBzdGF0ZVxuICAgICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnJlc29sdmUoKTtcbiAgICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rc1xuICAgICAgLmFkZCh1bnJlZ2lzdGVyR29Bd2F5KVxuICAgICAgLmFkZCh1bnJlZ2lzdGVyT25FcnJvcilcbiAgICAgIC5hZGQodW5yZWdpc3Rlck5ldHdvcmtDaGFuZ2VkKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzdG9yZXMgdGhlIHB1Ymxpc2hlZCB0cmFja3MgYWZ0ZXIgYSByZWNvbm5lY3Rpb24uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlUHVibGlzaGVkVHJhY2tzID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIHRoZSB0cmFja3MgbmVlZCB0byBiZSByZXN0b3JlZCBpbiB0aGVpciBvcmlnaW5hbCBvcmRlciBvZiBwdWJsaXNoaW5nXG4gICAgLy8gb3RoZXJ3aXNlLCB3ZSBtaWdodCBnZXQgYG0tbGluZXMgb3JkZXIgbWlzbWF0Y2hgIGVycm9yc1xuICAgIGZvciAoY29uc3QgdHJhY2tUeXBlIG9mIHRoaXMudHJhY2tQdWJsaXNoT3JkZXIpIHtcbiAgICAgIGxldCBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQ7XG4gICAgICBzd2l0Y2ggKHRyYWNrVHlwZSkge1xuICAgICAgICBjYXNlIFRyYWNrVHlwZS5BVURJTzpcbiAgICAgICAgICBtZWRpYVN0cmVhbSA9IHRoaXMubWljcm9waG9uZS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuVklERU86XG4gICAgICAgICAgbWVkaWFTdHJlYW0gPSB0aGlzLmNhbWVyYS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgICAgIG1lZGlhU3RyZWFtID0gdGhpcy5zY3JlZW5TaGFyZS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gc2NyZWVuIHNoYXJlIGF1ZGlvIGNhbid0IGV4aXN0IHdpdGhvdXQgYSBzY3JlZW4gc2hhcmUsIHNvIHdlIGhhbmRsZSBpdCB0aGVyZVxuICAgICAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU86XG4gICAgICAgIGNhc2UgVHJhY2tUeXBlLlVOU1BFQ0lGSUVEOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGVuc3VyZUV4aGF1c3RlZCh0cmFja1R5cGUsICdVbmtub3duIHRyYWNrIHR5cGUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhU3RyZWFtKSBhd2FpdCB0aGlzLnB1Ymxpc2gobWVkaWFTdHJlYW0sIHRyYWNrVHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgc3Vic2NyaWJlZCB0cmFja3MgYWZ0ZXIgYSByZWNvbm5lY3Rpb24uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlU3Vic2NyaWJlZFRyYWNrcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAocmVtb3RlUGFydGljaXBhbnRzLmxlbmd0aCA8PSAwKSByZXR1cm47XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB2aWRlbyBzdHJlYW0gdG8gdGhlIGNhbGwuXG4gICAqIEBkZXByZWNhdGVkIHVzZSBgY2FsbC5wdWJsaXNoKClgLlxuICAgKi9cbiAgcHVibGlzaFZpZGVvU3RyZWFtID0gYXN5bmMgKHZpZGVvU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGF3YWl0IHRoaXMucHVibGlzaCh2aWRlb1N0cmVhbSwgVHJhY2tUeXBlLlZJREVPKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIGF1ZGlvIHN0cmVhbSB0byB0aGUgY2FsbC5cbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBjYWxsLnB1Ymxpc2goKWBcbiAgICovXG4gIHB1Ymxpc2hBdWRpb1N0cmVhbSA9IGFzeW5jIChhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2goYXVkaW9TdHJlYW0sIFRyYWNrVHlwZS5BVURJTyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiBzY3JlZW4tc2hhcmUgc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGNhbGwucHVibGlzaCgpYFxuICAgKi9cbiAgcHVibGlzaFNjcmVlblNoYXJlU3RyZWFtID0gYXN5bmMgKHNjcmVlblNoYXJlU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGF3YWl0IHRoaXMucHVibGlzaChzY3JlZW5TaGFyZVN0cmVhbSwgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFB1Ymxpc2hlcyB0aGUgZ2l2ZW4gbWVkaWEgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0eXBlIG9mIHRoZSB0cmFjayB0byBhbm5vdW5jZS5cbiAgICovXG4gIHB1Ymxpc2ggPSBhc3luYyAobWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLCB0cmFja1R5cGU6IFRyYWNrVHlwZSkgPT4ge1xuICAgIGlmICghdGhpcy5zZnVDbGllbnQpIHRocm93IG5ldyBFcnJvcihgQ2FsbCBub3Qgam9pbmVkIHlldC5gKTtcbiAgICAvLyBqb2luaW5nIGlzIGluIHByb2dyZXNzLCBhbmQgd2Ugc2hvdWxkIHdhaXQgdW50aWwgdGhlIGNsaWVudCBpcyByZWFkeVxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LmpvaW5UYXNrO1xuXG4gICAgaWYgKCF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5jYW5QdWJsaXNoKHRyYWNrVHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcGVybWlzc2lvbiB0byBwdWJsaXNoICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19YCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgdGhyb3cgbmV3IEVycm9yKCdQdWJsaXNoZXIgaXMgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBjb25zdCBbdHJhY2tdID0gaXNBdWRpb1RyYWNrVHlwZSh0cmFja1R5cGUpXG4gICAgICA/IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClcbiAgICAgIDogbWVkaWFTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcblxuICAgIGlmICghdHJhY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoZXJlIGlzIG5vICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IHRyYWNrIGluIHRoZSBzdHJlYW1gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBwdWJsaXNoIGVuZGVkIHRyYWNrcy5gKTtcbiAgICB9XG5cbiAgICBwdXNoVG9JZk1pc3NpbmcodGhpcy50cmFja1B1Ymxpc2hPcmRlciwgdHJhY2tUeXBlKTtcbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKHRyYWNrLCB0cmFja1R5cGUpO1xuXG4gICAgY29uc3QgdHJhY2tUeXBlcyA9IFt0cmFja1R5cGVdO1xuICAgIGlmICh0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpIHtcbiAgICAgIGNvbnN0IFthdWRpb1RyYWNrXSA9IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgICBwdXNoVG9JZk1pc3NpbmcodGhpcy50cmFja1B1Ymxpc2hPcmRlciwgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2goYXVkaW9UcmFjaywgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgICAgIHRyYWNrVHlwZXMucHVzaChUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHJhY2sua2luZCA9PT0gJ3ZpZGVvJykge1xuICAgICAgLy8gc2NoZWR1bGVzIGNhbGlicmF0aW9uIHJlcG9ydCAtIHRoZSBTRlUgd2lsbCB1c2UgdGhlIHBlcmZvcm1hbmNlIHN0YXRzXG4gICAgICAvLyB0byBhZGp1c3QgdGhlIHF1YWxpdHkgdGhyZXNob2xkcyBhcyBlYXJseSBhcyBwb3NzaWJsZVxuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zY2hlZHVsZU9uZSgzMDAwKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2FsU3RyZWFtU3RhdGUobWVkaWFTdHJlYW0sIC4uLnRyYWNrVHlwZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB0cmFjayB0eXBlIHRvIHRoZSBjYWxsLCBpZiBpdCBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlcyB0aGUgdHJhY2sgdHlwZXMgdG8gc3RvcCBwdWJsaXNoaW5nLlxuICAgKi9cbiAgc3RvcFB1Ymxpc2ggPSBhc3luYyAoLi4udHJhY2tUeXBlczogVHJhY2tUeXBlW10pID0+IHtcbiAgICBpZiAoIXRoaXMuc2Z1Q2xpZW50IHx8ICF0aGlzLnB1Ymxpc2hlcikgcmV0dXJuO1xuICAgIHRoaXMucHVibGlzaGVyLnN0b3BUcmFja3MoLi4udHJhY2tUeXBlcyk7XG4gICAgYXdhaXQgdGhpcy51cGRhdGVMb2NhbFN0cmVhbVN0YXRlKHVuZGVmaW5lZCwgLi4udHJhY2tUeXBlcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgbmV3IHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIG1lZGlhU3RyZWFtIHRoZSBuZXcgc3RyZWFtIHRvIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB3aXRoLlxuICAgKiBJZiB1bmRlZmluZWQsIHRoZSBzdHJlYW0gd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGNhbGwgc3RhdGUuXG4gICAqIEBwYXJhbSB0cmFja1R5cGVzIHRoZSB0cmFjayB0eXBlcyB0byB1cGRhdGUgdGhlIGNhbGwgc3RhdGUgd2l0aC5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlTG9jYWxTdHJlYW1TdGF0ZSA9IGFzeW5jIChcbiAgICBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICAgLi4udHJhY2tUeXBlczogVHJhY2tUeXBlW11cbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLnNmdUNsaWVudCB8fCAhdGhpcy5zZnVDbGllbnQuc2Vzc2lvbklkKSByZXR1cm47XG4gICAgYXdhaXQgdGhpcy5ub3RpZnlUcmFja011dGVTdGF0ZSghbWVkaWFTdHJlYW0sIC4uLnRyYWNrVHlwZXMpO1xuXG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGZvciAoY29uc3QgdHJhY2tUeXBlIG9mIHRyYWNrVHlwZXMpIHtcbiAgICAgIGNvbnN0IHN0cmVhbVN0YXRlUHJvcCA9IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkodHJhY2tUeXBlKTtcbiAgICAgIGlmICghc3RyZWFtU3RhdGVQcm9wKSBjb250aW51ZTtcblxuICAgICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IG1lZGlhU3RyZWFtXG4gICAgICAgICAgPyBwdXNoVG9JZk1pc3NpbmcoWy4uLnAucHVibGlzaGVkVHJhY2tzXSwgdHJhY2tUeXBlKVxuICAgICAgICAgIDogcC5wdWJsaXNoZWRUcmFja3MuZmlsdGVyKCh0KSA9PiB0ICE9PSB0cmFja1R5cGUpLFxuICAgICAgICBbc3RyZWFtU3RhdGVQcm9wXTogbWVkaWFTdHJlYW0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwcmVmZXJyZWQgcHVibGlzaGluZyBvcHRpb25zXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyB0byB1c2UuXG4gICAqL1xuICB1cGRhdGVQdWJsaXNoT3B0aW9ucyA9IChvcHRpb25zOiBDbGllbnRQdWJsaXNoT3B0aW9ucykgPT4ge1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ3dhcm4nLFxuICAgICAgJ1tjYWxsLnVwZGF0ZVB1Ymxpc2hPcHRpb25zXTogWW91IGFyZSBtYW51YWxseSBvdmVycmlkaW5nIHRoZSBwdWJsaXNoIG9wdGlvbnMgZm9yIHRoaXMgY2FsbC4gJyArXG4gICAgICAgICdUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCwgYW5kIGl0IGNhbiBjYXVzZSBjYWxsIHN0YWJpbGl0eS9jb21wYXRpYmlsaXR5IGlzc3Vlcy4gVXNlIHdpdGggY2F1dGlvbi4nLFxuICAgICk7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnVXBkYXRpbmcgcHVibGlzaCBvcHRpb25zIGFmdGVyIGpvaW5pbmcgdGhlIGNhbGwgZG9lcyBub3QgaGF2ZSBhbiBlZmZlY3QnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnRQdWJsaXNoT3B0aW9ucyA9IHsgLi4udGhpcy5jbGllbnRQdWJsaXNoT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBOb3RpZmllcyB0aGUgU0ZVIHRoYXQgYSBub2lzZSBjYW5jZWxsYXRpb24gcHJvY2VzcyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNmdUNsaWVudD8uc3RhcnROb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBub3RpZnkgc3RhcnQgb2Ygbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogTm90aWZpZXMgdGhlIFNGVSB0aGF0IGEgbm9pc2UgY2FuY2VsbGF0aW9uIHByb2Nlc3MgaGFzIHN0b3BwZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNmdUNsaWVudD8uc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIG5vdGlmeSBzdG9wIG9mIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE5vdGlmaWVzIHRoZSBTRlUgYWJvdXQgdGhlIG11dGUgc3RhdGUgb2YgdGhlIGdpdmVuIHRyYWNrIHR5cGVzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeVRyYWNrTXV0ZVN0YXRlID0gYXN5bmMgKG11dGVkOiBib29sZWFuLCAuLi50cmFja1R5cGVzOiBUcmFja1R5cGVbXSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IGBtdXRlU3RhdGUuJHt0aGlzLmNpZH0uJHt0cmFja1R5cGVzLmpvaW4oJy0nKX1gO1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShrZXksIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zZnVDbGllbnQpIHJldHVybjtcbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgICAgIHRyYWNrVHlwZXMubWFwKCh0cmFja1R5cGUpID0+ICh7IHRyYWNrVHlwZSwgbXV0ZWQgfSkpLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBlbmhhbmNlIHRoZSByZXBvcnRlZCBzdGF0cyB3aXRoIGFkZGl0aW9uYWwgcGFydGljaXBhbnQtc3BlY2lmaWMgaW5mb3JtYXRpb24gKGBjYWxsU3RhdHNSZXBvcnQkYCBzdGF0ZSBbc3RvcmUgdmFyaWFibGVdKC4vU3RyZWFtVmlkZW9DbGllbnQubWQvI3JlYWRvbmx5c3RhdGVzdG9yZSkpLlxuICAgKiBUaGlzIGlzIHVzdWFsbHkgaGVscGZ1bCB3aGVuIGRldGFpbGVkIHN0YXRzIGZvciBhIHNwZWNpZmljIHBhcnRpY2lwYW50IGFyZSBuZWVkZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byBzdGFydCByZXBvcnRpbmcgZm9yLlxuICAgKi9cbiAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0YXJ0UmVwb3J0aW5nU3RhdHNGb3Ioc2Vzc2lvbklkKTtcbiAgfTtcblxuICAvKipcbiAgICogT3Bwb3NpdGUgb2YgYHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3JgLlxuICAgKiBXaWxsIHR1cm4gb2ZmIHN0YXRzIHJlcG9ydGluZyBmb3IgYSBzcGVjaWZpYyBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHN0b3AgcmVwb3J0aW5nIGZvci5cbiAgICovXG4gIHN0b3BSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3BSZXBvcnRpbmdTdGF0c0ZvcihzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBmcmVxdWVuY3kgb2YgdGhlIGNhbGwgc3RhdHMgcmVwb3J0aW5nLlxuICAgKlxuICAgKiBAcGFyYW0gaW50ZXJ2YWxJbk1zIHRoZSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgdG8gcmVwb3J0IHRoZSBzdGF0cy5cbiAgICovXG4gIHNldFN0YXRzUmVwb3J0aW5nSW50ZXJ2YWxJbk1zID0gKGludGVydmFsSW5NczogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5zdGF0c1JlcG9ydGluZ0ludGVydmFsSW5NcyA9IGludGVydmFsSW5NcztcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBsYXN0IHNlbnQgcmVhY3Rpb24gZm9yIHRoZSB1c2VyIGhvbGRpbmcgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLiBUaGlzIGlzIGEgbG9jYWwgYWN0aW9uLCBpdCB3b24ndCByZXNldCB0aGUgcmVhY3Rpb24gb24gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqL1xuICByZXNldFJlYWN0aW9uID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHJlYWN0aW9uOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICAgKlxuICAgKiBAcGFyYW0gY3JpdGVyaWEgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICAgKi9cbiAgc2V0U29ydFBhcnRpY2lwYW50c0J5OiBDYWxsU3RhdGVbJ3NldFNvcnRQYXJ0aWNpcGFudHNCeSddID0gKGNyaXRlcmlhKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNyaXRlcmlhKTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSByZWFjdGlvbiB0byB0aGUgb3RoZXIgY2FsbCBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSByZWFjdGlvbiB0aGUgcmVhY3Rpb24gdG8gc2VuZC5cbiAgICovXG4gIHNlbmRSZWFjdGlvbiA9IGFzeW5jIChcbiAgICByZWFjdGlvbjogU2VuZFJlYWN0aW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTZW5kUmVhY3Rpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFNlbmRSZWFjdGlvblJlc3BvbnNlLCBTZW5kUmVhY3Rpb25SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlYWN0aW9uYCxcbiAgICAgIHJlYWN0aW9uLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJsb2NrcyB0aGUgdXNlciB3aXRoIHRoZSBnaXZlbiBgdXNlcklkYC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gYmxvY2suXG4gICAqL1xuICBibG9ja1VzZXIgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxCbG9ja1VzZXJSZXNwb25zZSwgQmxvY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9ibG9ja2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5ibG9ja3MgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIHVuYmxvY2suXG4gICAqL1xuICB1bmJsb2NrVXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFVuYmxvY2tVc2VyUmVzcG9uc2UsIFVuYmxvY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91bmJsb2NrYCxcbiAgICAgIHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBLaWNrcyB0aGUgdXNlciB3aXRoIHRoZSBnaXZlbiBgdXNlcklkYC5cbiAgICogQHBhcmFtIGRhdGEgdGhlIGtpY2sgcmVxdWVzdC5cbiAgICovXG4gIGtpY2tVc2VyID0gYXN5bmMgKGRhdGE6IEtpY2tVc2VyUmVxdWVzdCk6IFByb21pc2U8S2lja1VzZXJSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEtpY2tVc2VyUmVzcG9uc2UsIEtpY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9raWNrYCxcbiAgICAgIGRhdGEsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgdGhlIGN1cnJlbnQgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZVNlbGYgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIGNvbnN0IG15VXNlcklkID0gdGhpcy5jdXJyZW50VXNlcklkO1xuICAgIGlmIChteVVzZXJJZCkge1xuICAgICAgcmV0dXJuIHRoaXMubXV0ZVVzZXIobXlVc2VySWQsIHR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgYWxsIHRoZSBvdGhlciBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVPdGhlcnMgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIGNvbnN0IHRyYWNrVHlwZSA9IG11dGVUeXBlVG9UcmFja1R5cGUodHlwZSk7XG4gICAgaWYgKCF0cmFja1R5cGUpIHJldHVybjtcbiAgICBjb25zdCB1c2VySWRzVG9NdXRlOiBzdHJpbmdbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgdGhpcy5zdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMpIHtcbiAgICAgIGlmIChwYXJ0aWNpcGFudC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKSkge1xuICAgICAgICB1c2VySWRzVG9NdXRlLnB1c2gocGFydGljaXBhbnQudXNlcklkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlcklkc1RvTXV0ZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdXRlVXNlcih1c2VySWRzVG9NdXRlLCB0eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE11dGVzIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGB1c2VySWRgLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBtdXRlLlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlVXNlciA9ICh1c2VySWQ6IHN0cmluZyB8IHN0cmluZ1tdLCB0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8TXV0ZVVzZXJzUmVzcG9uc2UsIE11dGVVc2Vyc1JlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbXV0ZV91c2Vyc2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWRzOiBBcnJheS5pc0FycmF5KHVzZXJJZCkgPyB1c2VySWQgOiBbdXNlcklkXSxcbiAgICAgICAgW3R5cGVdOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIG11dGUgYWxsIHVzZXJzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlQWxsVXNlcnMgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PE11dGVVc2Vyc1Jlc3BvbnNlLCBNdXRlVXNlcnNSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L211dGVfdXNlcnNgLFxuICAgICAge1xuICAgICAgICBtdXRlX2FsbF91c2VyczogdHJ1ZSxcbiAgICAgICAgW3R5cGVdOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcmVjb3JkaW5nIHRoZSBjYWxsXG4gICAqL1xuICBzdGFydFJlY29yZGluZyA9IGFzeW5jIChyZXF1ZXN0PzogU3RhcnRSZWNvcmRpbmdSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBTdGFydFJlY29yZGluZ1Jlc3BvbnNlLFxuICAgICAgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9yZWNvcmRpbmdgLCByZXF1ZXN0ID8gcmVxdWVzdCA6IHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgcmVjb3JkaW5nIHRoZSBjYWxsXG4gICAqL1xuICBzdG9wUmVjb3JkaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BSZWNvcmRpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX3JlY29yZGluZ2AsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHRyYW5zY3JpcHRpb24gb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IGRhdGEuXG4gICAqL1xuICBzdGFydFRyYW5zY3JpcHRpb24gPSBhc3luYyAoXG4gICAgcmVxdWVzdD86IFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3QsXG4gICk6IFByb21pc2U8U3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlLFxuICAgICAgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfdHJhbnNjcmlwdGlvbmAsIHJlcXVlc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgdHJhbnNjcmlwdGlvbiBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BUcmFuc2NyaXB0aW9uID0gYXN5bmMgKCk6IFByb21pc2U8U3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF90cmFuc2NyaXB0aW9uYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGNsb3NlZCBjYXB0aW9ucyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0YXJ0Q2xvc2VkQ2FwdGlvbnMgPSBhc3luYyAoXG4gICAgb3B0aW9ucz86IFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0LFxuICApOiBQcm9taXNlPFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHRyeCA9IHRoaXMuc3RhdGUuc2V0Q2FwdGlvbmluZyh0cnVlKTsgLy8gb3B0aW1pc3RpYyB1cGRhdGVcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICAgIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZSxcbiAgICAgICAgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAgICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfY2xvc2VkX2NhcHRpb25zYCwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0cngucm9sbGJhY2soKTsgLy8gcmV2ZXJ0IHRoZSBvcHRpbWlzdGljIHVwZGF0ZVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGNsb3NlZCBjYXB0aW9ucyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BDbG9zZWRDYXB0aW9ucyA9IGFzeW5jIChcbiAgICBvcHRpb25zPzogU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHRyeCA9IHRoaXMuc3RhdGUuc2V0Q2FwdGlvbmluZyhmYWxzZSk7IC8vIG9wdGltaXN0aWMgdXBkYXRlXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgICBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZSxcbiAgICAgICAgU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdFxuICAgICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2Nsb3NlZF9jYXB0aW9uc2AsIG9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdHJ4LnJvbGxiYWNrKCk7IC8vIHJldmVydCB0aGUgb3B0aW1pc3RpYyB1cGRhdGVcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNsb3NlZCBjYXB0aW9uIHNldHRpbmdzLlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIHRoZSBjbG9zZWQgY2FwdGlvbiBzZXR0aW5ncyB0byBhcHBseVxuICAgKi9cbiAgdXBkYXRlQ2xvc2VkQ2FwdGlvblNldHRpbmdzID0gKGNvbmZpZzogUGFydGlhbDxDbG9zZWRDYXB0aW9uc1NldHRpbmdzPikgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlQ2xvc2VkQ2FwdGlvblNldHRpbmdzKGNvbmZpZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgYGNhbGwucGVybWlzc2lvbl9yZXF1ZXN0YCBldmVudCB0byBhbGwgdXNlcnMgY29ubmVjdGVkIHRvIHRoZSBjYWxsLlxuICAgKiBUaGUgY2FsbCBzZXR0aW5ncyBvYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgd2hpY2ggcGVybWlzc2lvbnMgY2FuIGJlIHJlcXVlc3RlZCBkdXJpbmcgYSBjYWxsXG4gICAqIChmb3IgZXhhbXBsZSwgYSB1c2VyIG1pZ2h0IGJlIGFsbG93ZWQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggYXVkaW8sIGJ1dCBub3QgdmlkZW8pLlxuICAgKi9cbiAgcmVxdWVzdFBlcm1pc3Npb25zID0gYXN5bmMgKFxuICAgIGRhdGE6IFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gZGF0YTtcbiAgICBjb25zdCBjYW5SZXF1ZXN0UGVybWlzc2lvbnMgPSBwZXJtaXNzaW9ucy5ldmVyeSgocGVybWlzc2lvbikgPT5cbiAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QocGVybWlzc2lvbiBhcyBPd25DYXBhYmlsaXR5KSxcbiAgICApO1xuICAgIGlmICghY2FuUmVxdWVzdFBlcm1pc3Npb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHJlcXVlc3QgcGVybWlzc2lvbnM6ICR7cGVybWlzc2lvbnMuam9pbignLCAnKX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlLFxuICAgICAgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZXF1ZXN0X3Blcm1pc3Npb25gLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBncmFudCBjZXJ0YWluIHBlcm1pc3Npb25zIHRvIGEgdXNlciBpbiBhIGNhbGwuXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBhcmUgc3BlY2lmaWMgdG8gdGhlIGNhbGwgZXhwZXJpZW5jZSBhbmQgZG8gbm90IHN1cnZpdmUgdGhlIGNhbGwgaXRzZWxmLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgZ3JhbnRlZCBhcmU6XG4gICAqIC0gYHNlbmQtYXVkaW9gXG4gICAqIC0gYHNlbmQtdmlkZW9gXG4gICAqIC0gYHNjcmVlbnNoYXJlYFxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBncmFudCBwZXJtaXNzaW9ucyB0by5cbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBncmFudC5cbiAgICovXG4gIGdyYW50UGVybWlzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBlcm1pc3Npb25zOiBzdHJpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBncmFudF9wZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gcmV2b2tlIGNlcnRhaW4gcGVybWlzc2lvbnMgZnJvbSBhIHVzZXIgaW4gYSBjYWxsLlxuICAgKiBUaGUgcGVybWlzc2lvbnMgYXJlIHNwZWNpZmljIHRvIHRoZSBjYWxsIGV4cGVyaWVuY2UgYW5kIGRvIG5vdCBzdXJ2aXZlIHRoZSBjYWxsIGl0c2VsZi5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIHJldm9rZWQgYXJlOlxuICAgKiAtIGBzZW5kLWF1ZGlvYFxuICAgKiAtIGBzZW5kLXZpZGVvYFxuICAgKiAtIGBzY3JlZW5zaGFyZWBcbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gcmV2b2tlIHBlcm1pc3Npb25zIGZyb20uXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9ucyB0aGUgcGVybWlzc2lvbnMgdG8gcmV2b2tlLlxuICAgKi9cbiAgcmV2b2tlUGVybWlzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBlcm1pc3Npb25zOiBzdHJpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICByZXZva2VfcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGdyYW50IG9yIHJldm9rZSBhIHNwZWNpZmljIHBlcm1pc3Npb24gdG8gYSB1c2VyIGluIGEgY2FsbC4gVGhlIHBlcm1pc3Npb25zIGFyZSBzcGVjaWZpYyB0byB0aGUgY2FsbCBleHBlcmllbmNlIGFuZCBkbyBub3Qgc3Vydml2ZSB0aGUgY2FsbCBpdHNlbGYuXG4gICAqXG4gICAqIFdoZW4gcmV2b2tpbmcgYSBwZXJtaXNzaW9uLCB0aGlzIGVuZHBvaW50IHdpbGwgYWxzbyBtdXRlIHRoZSByZWxldmFudCB0cmFjayBmcm9tIHRoZSB1c2VyLiBUaGlzIGlzIHNpbWlsYXIgdG8gbXV0aW5nIGEgdXNlciB3aXRoIHRoZSBkaWZmZXJlbmNlIHRoYXQgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byB1bm11dGUgYWZ0ZXJ3YXJkcy5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIGdyYW50ZWQgb3IgcmV2b2tlZDogYHNlbmQtYXVkaW9gLCBgc2VuZC12aWRlb2AgYW5kIGBzY3JlZW5zaGFyZWAuXG4gICAqXG4gICAqIGBjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWRgIGV2ZW50IGlzIHNlbnQgdG8gYWxsIG1lbWJlcnMgb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqL1xuICB1cGRhdGVVc2VyUGVybWlzc2lvbnMgPSBhc3luYyAoZGF0YTogVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UsXG4gICAgICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91c2VyX3Blcm1pc3Npb25zYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgbGl2ZXN0cmVhbWluZyBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICogQHBhcmFtIHBhcmFtcyB0aGUgcmVxdWVzdCBwYXJhbXMuXG4gICAqL1xuICBnb0xpdmUgPSBhc3luYyAoZGF0YTogR29MaXZlUmVxdWVzdCA9IHt9LCBwYXJhbXM/OiB7IG5vdGlmeT86IGJvb2xlYW4gfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEdvTGl2ZVJlc3BvbnNlLCBHb0xpdmVSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2dvX2xpdmVgLFxuICAgICAgZGF0YSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgbGl2ZXN0cmVhbWluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BMaXZlID0gYXN5bmMgKGRhdGE6IFN0b3BMaXZlUmVxdWVzdCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcExpdmVSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2xpdmVgLFxuICAgICAgZGF0YSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0YXJ0SExTID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfYnJvYWRjYXN0aW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBicm9hZGNhc3Rpbmcgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBzdG9wSExTID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2Jyb2FkY2FzdGluZ2AsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIFJUTVAtb3V0IGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0YXJ0UlRNUEJyb2FkY2FzdHMgPSBhc3luYyAoXG4gICAgZGF0YTogU3RhcnRSVE1QQnJvYWRjYXN0c1JlcXVlc3QsXG4gICk6IFByb21pc2U8U3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBTdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UsXG4gICAgICBTdGFydFJUTVBCcm9hZGNhc3RzUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vcnRtcF9icm9hZGNhc3RzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFsbCBSVE1QLW91dCBicm9hZGNhc3Rpbmcgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBzdG9wQWxsUlRNUEJyb2FkY2FzdHMgPSBhc3luYyAoKTogUHJvbWlzZTxTdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BBbGxSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3J0bXBfYnJvYWRjYXN0cy9zdG9wYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgUlRNUC1vdXQgYnJvYWRjYXN0aW5nIG9mIHRoZSBjYWxsIHNwZWNpZmllZCBieSBpdCdzIG5hbWUuXG4gICAqL1xuICBzdG9wUlRNUEJyb2FkY2FzdCA9IGFzeW5jIChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICk6IFByb21pc2U8U3RvcFJUTVBCcm9hZGNhc3RzUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wUlRNUEJyb2FkY2FzdHNSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9ydG1wX2Jyb2FkY2FzdHMvJHtuYW1lfS9zdG9wYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgZnJhbWUgYnkgZnJhbWUgcmVjb3JkaW5nLlxuICAgKiBTZW5kcyBjYWxsLmZyYW1lX3JlY29yZGluZ19zdGFydGVkIGV2ZW50c1xuICAgKi9cbiAgc3RhcnRGcmFtZVJlY29yZGluZyA9IGFzeW5jIChcbiAgICBkYXRhOiBTdGFydEZyYW1lUmVjb3JkaW5nUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTdGFydEZyYW1lUmVjb3JkaW5nUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZSxcbiAgICAgIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9mcmFtZV9yZWNvcmRpbmdgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgZnJhbWUgcmVjb3JkaW5nLlxuICAgKi9cbiAgc3RvcEZyYW1lUmVjb3JkaW5nID0gYXN5bmMgKCk6IFByb21pc2U8U3RvcEZyYW1lUmVjb3JkaW5nUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wRnJhbWVSZWNvcmRpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2ZyYW1lX3JlY29yZGluZ2AsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzZXR0aW5ncyBvciBjdXN0b20gZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHVwZGF0ZXMgdGhlIHVwZGF0ZXMgdG8gYXBwbHkgdG8gdGhlIGNhbGwuXG4gICAqL1xuICB1cGRhdGUgPSBhc3luYyAodXBkYXRlczogVXBkYXRlQ2FsbFJlcXVlc3QpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBhdGNoPFxuICAgICAgVXBkYXRlQ2FsbFJlc3BvbnNlLFxuICAgICAgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9YCwgdXBkYXRlcyk7XG5cbiAgICBjb25zdCB7IGNhbGwsIG1lbWJlcnMsIG93bl9jYXBhYmlsaXRpZXMgfSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMobWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMob3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuZHMgdGhlIGNhbGwuIE9uY2UgdGhlIGNhbGwgaXMgZW5kZWQsIGl0IGNhbm5vdCBiZSByZS1qb2luZWQuXG4gICAqL1xuICBlbmRDYWxsID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEVuZENhbGxSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tYXJrX2VuZGVkYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQaW5zIHRoZSBnaXZlbiBzZXNzaW9uIHRvIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gcGluLlxuICAgKi9cbiAgcGluID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHBpbjoge1xuICAgICAgICBpc0xvY2FsUGluOiB0cnVlLFxuICAgICAgICBwaW5uZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gdW5waW4uXG4gICAqL1xuICB1bnBpbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7XG4gICAgICBwaW46IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogUGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiB0byB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdCBmb3IgZXZlcnlvbmVcbiAgICogaW4gdGhlIGNhbGwuXG4gICAqIFlvdSBjYW4gZXhlY3V0ZSB0aGlzIG1ldGhvZCBvbmx5IGlmIHlvdSBoYXZlIHRoZSBgcGluLWZvci1ldmVyeW9uZWAgY2FwYWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgcGluRm9yRXZlcnlvbmUgPSBhc3luYyAocmVxdWVzdDogUGluUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFBpblJlc3BvbnNlLCBQaW5SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3BpbmAsXG4gICAgICByZXF1ZXN0LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0IGZvciBldmVyeW9uZVxuICAgKiBpbiB0aGUgY2FsbC5cbiAgICogWW91IGNhbiBleGVjdXRlIHRoaXMgbWV0aG9kIG9ubHkgaWYgeW91IGhhdmUgdGhlIGBwaW4tZm9yLWV2ZXJ5b25lYCBjYXBhYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCB0aGUgcmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICB1bnBpbkZvckV2ZXJ5b25lID0gYXN5bmMgKHJlcXVlc3Q6IFVucGluUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFVucGluUmVzcG9uc2UsIFVucGluUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91bnBpbmAsXG4gICAgICByZXF1ZXN0LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFF1ZXJ5IGNhbGwgbWVtYmVycyB3aXRoIGZpbHRlciBxdWVyeS4gVGhlIHJlc3VsdCB3b24ndCBiZSBzdG9yZWQgaW4gY2FsbCBzdGF0ZS5cbiAgICogQHBhcmFtIHJlcXVlc3RcbiAgICogQHJldHVybnNcbiAgICovXG4gIHF1ZXJ5TWVtYmVycyA9IChyZXF1ZXN0PzogT21pdDxRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdCwgJ3R5cGUnIHwgJ2lkJz4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAgPignL2NhbGwvbWVtYmVycycsIHtcbiAgICAgIC4uLihyZXF1ZXN0IHx8IHt9KSxcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHVwZGF0ZSB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgcmVxdWVzdCBkYXRhLlxuICAgKi9cbiAgdXBkYXRlQ2FsbE1lbWJlcnMgPSBhc3luYyAoXG4gICAgZGF0YTogVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0LFxuICApOiBQcm9taXNlPFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gICAgICBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L21lbWJlcnNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogU2NoZWR1bGVzIGFuIGF1dG8tZHJvcCB0aW1lb3V0IGJhc2VkIG9uIHRoZSBjYWxsIHNldHRpbmdzLlxuICAgKiBBcHBsaWNhYmxlIG9ubHkgZm9yIHJpbmdpbmcgY2FsbHMuXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlQXV0b0Ryb3AgPSAoKSA9PiB7XG4gICAgdGhpcy5jYW5jZWxBdXRvRHJvcCgpO1xuXG4gICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnN0YXRlLnNldHRpbmdzO1xuICAgIGlmICghc2V0dGluZ3MpIHJldHVybjtcbiAgICAvLyBpZ25vcmUgaWYgdGhlIGNhbGwgaXMgbm90IHJpbmdpbmdcbiAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSByZXR1cm47XG5cbiAgICBjb25zdCB0aW1lb3V0SW5NcyA9IHRoaXMuaXNDcmVhdGVkQnlNZVxuICAgICAgPyBzZXR0aW5ncy5yaW5nLmF1dG9fY2FuY2VsX3RpbWVvdXRfbXNcbiAgICAgIDogc2V0dGluZ3MucmluZy5pbmNvbWluZ19jYWxsX3RpbWVvdXRfbXM7XG5cbiAgICAvLyAwIG1lYW5zIG5vIGF1dG8tZHJvcFxuICAgIGlmICh0aW1lb3V0SW5NcyA8PSAwKSByZXR1cm47XG4gICAgdGhpcy5kcm9wVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gdGhlIGNhbGwgbWlnaHQgaGF2ZSBzdG9wcGVkIHJpbmdpbmcgYnkgdGhpcyBwb2ludCxcbiAgICAgIC8vIGUuZy4gaXQgd2FzIGFscmVhZHkgYWNjZXB0ZWQgYW5kIGpvaW5lZFxuICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuUklOR0lORykgcmV0dXJuO1xuICAgICAgdGhpcy5sZWF2ZSh7XG4gICAgICAgIHJlamVjdDogdHJ1ZSxcbiAgICAgICAgcmVhc29uOiAndGltZW91dCcsXG4gICAgICAgIG1lc3NhZ2U6IGByaW5naW5nIHRpbWVvdXQgLSAke3RoaXMuaXNDcmVhdGVkQnlNZSA/ICdubyBvbmUgYWNjZXB0ZWQnIDogYHVzZXIgZGlkbid0IGludGVyYWN0IHdpdGggaW5jb21pbmcgY2FsbCBzY3JlZW5gfWAsXG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gZHJvcCBjYWxsJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0sIHRpbWVvdXRJbk1zKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FuY2VscyBhIHNjaGVkdWxlZCBhdXRvLWRyb3AgdGltZW91dC5cbiAgICovXG4gIHByaXZhdGUgY2FuY2VsQXV0b0Ryb3AgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZHJvcFRpbWVvdXQpO1xuICAgIHRoaXMuZHJvcFRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiByZWNvcmRpbmdzIGZvciB0aGUgY3VycmVudCBjYWxsIG9yIGNhbGwgc2Vzc2lvbi5cbiAgICpcbiAgICogSWYgYGNhbGxTZXNzaW9uSWRgIGlzIHByb3ZpZGVkLCBpdCB3aWxsIHJldHVybiB0aGUgcmVjb3JkaW5ncyBmb3IgdGhhdCBjYWxsIHNlc3Npb24uXG4gICAqIE90aGVyd2lzZSwgYWxsIHJlY29yZGluZ3MgZm9yIHRoZSBjdXJyZW50IGNhbGwgd2lsbCBiZSByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxTZXNzaW9uSWQgdGhlIGNhbGwgc2Vzc2lvbiBpZCB0byByZXRyaWV2ZSByZWNvcmRpbmdzIGZvci5cbiAgICovXG4gIHF1ZXJ5UmVjb3JkaW5ncyA9IGFzeW5jIChcbiAgICBjYWxsU2Vzc2lvbklkPzogc3RyaW5nLFxuICApOiBQcm9taXNlPExpc3RSZWNvcmRpbmdzUmVzcG9uc2U+ID0+IHtcbiAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoO1xuICAgIGlmIChjYWxsU2Vzc2lvbklkKSB7XG4gICAgICBlbmRwb2ludCA9IGAke2VuZHBvaW50fS8ke2NhbGxTZXNzaW9uSWR9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlPihcbiAgICAgIGAke2VuZHBvaW50fS9yZWNvcmRpbmdzYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgdHJhbnNjcmlwdGlvbnMgZm9yIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEByZXR1cm5zIHRoZSBsaXN0IG9mIHRyYW5zY3JpcHRpb25zLlxuICAgKi9cbiAgcXVlcnlUcmFuc2NyaXB0aW9ucyA9IGFzeW5jICgpOiBQcm9taXNlPExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS90cmFuc2NyaXB0aW9uc2AsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmUgY2FsbCBzdGF0aXN0aWNzIGZvciBhIHBhcnRpY3VsYXIgY2FsbCBzZXNzaW9uIChoaXN0b3JpY2FsKS5cbiAgICogSGVyZSBgY2FsbFNlc3Npb25JRGAgaXMgbWFuZGF0b3J5LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFNlc3Npb25JRCB0aGUgY2FsbCBzZXNzaW9uIElEIHRvIHJldHJpZXZlIHN0YXRpc3RpY3MgZm9yLlxuICAgKiBAcmV0dXJucyBUaGUgY2FsbCBzdGF0cy5cbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBjYWxsLmdldENhbGxSZXBvcnRgIGluc3RlYWQuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0Q2FsbFN0YXRzID0gYXN5bmMgKGNhbGxTZXNzaW9uSUQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhdHMvJHtjYWxsU2Vzc2lvbklEfWA7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxHZXRDYWxsU3RhdHNSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBjYWxsIHJlcG9ydC4gSWYgdGhlIGBjYWxsU2Vzc2lvbklEYCBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIHRoZVxuICAgKiByZXBvcnQgZm9yIHRoZSBsYXRlc3QgY2FsbCBzZXNzaW9uIGlzIHJldHJpZXZlZC4gSWYgaXQgaXMgc3BlY2lmaWVkLCB0aGVuXG4gICAqIHRoZSByZXBvcnQgZm9yIHRoYXQgcGFydGljdWxhciBzZXNzaW9uIGlzIHJldHJpZXZlZCBpZiBpdCBleGlzdHMuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU2Vzc2lvbklEIHRoZSBvcHRpb25hbCBjYWxsIHNlc3Npb24gSUQgdG8gcmV0cmlldmUgc3RhdGlzdGljcyBmb3JcbiAgICogQHJldHVybnMgdGhlIGNhbGwgcmVwb3J0XG4gICAqL1xuICBnZXRDYWxsUmVwb3J0ID0gYXN5bmMgKGNhbGxTZXNzaW9uSUQ6IHN0cmluZyA9ICcnKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZXBvcnRgO1xuICAgIGNvbnN0IHBhcmFtcyA9IGNhbGxTZXNzaW9uSUQgIT09ICcnID8geyBzZXNzaW9uX2lkOiBjYWxsU2Vzc2lvbklEIH0gOiB7fTtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxSZXBvcnRSZXNwb25zZT4oZW5kcG9pbnQsIHBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCB1c2VyIGZlZWRiYWNrIGZvciB0aGUgY2FsbFxuICAgKlxuICAgKiBAcGFyYW0gcmF0aW5nIFJhdGluZyBiZXR3ZWVuIDEgYW5kIDUgZGVub3RpbmcgdGhlIGV4cGVyaWVuY2Ugb2YgdGhlIHVzZXIgaW4gdGhlIGNhbGxcbiAgICogQHBhcmFtIHJlYXNvbiBUaGUgcmVhc29uL2Rlc2NyaXB0aW9uIGZvciB0aGUgcmF0aW5nXG4gICAqIEBwYXJhbSBjdXN0b20gQ3VzdG9tIGRhdGFcbiAgICovXG4gIHN1Ym1pdEZlZWRiYWNrID0gYXN5bmMgKFxuICAgIHJhdGluZzogbnVtYmVyLFxuICAgIHtcbiAgICAgIHJlYXNvbixcbiAgICAgIGN1c3RvbSxcbiAgICB9OiBQaWNrPENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0LCAncmVhc29uJyB8ICdjdXN0b20nPiA9IHt9LFxuICApOiBQcm9taXNlPENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHsgc2RrTmFtZSwgc2RrVmVyc2lvbiwgLi4ucGxhdGZvcm0gfSA9IGdldFNka1NpZ25hdHVyZShcbiAgICAgIGF3YWl0IGdldENsaWVudERldGFpbHMoKSxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlLFxuICAgICAgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2ZlZWRiYWNrYCwge1xuICAgICAgcmF0aW5nLFxuICAgICAgcmVhc29uLFxuICAgICAgdXNlcl9zZXNzaW9uX2lkOiB0aGlzLnNmdUNsaWVudD8uc2Vzc2lvbklkLFxuICAgICAgc2RrOiBzZGtOYW1lLFxuICAgICAgc2RrX3ZlcnNpb246IHNka1ZlcnNpb24sXG4gICAgICBjdXN0b206IHtcbiAgICAgICAgLi4uY3VzdG9tLFxuICAgICAgICAneC1zdHJlYW0tcGxhdGZvcm0tZGF0YSc6IHBsYXRmb3JtLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSBjdXN0b20gZXZlbnQgdG8gYWxsIGNhbGwgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gcGF5bG9hZCB0aGUgcGF5bG9hZCB0byBzZW5kLlxuICAgKi9cbiAgc2VuZEN1c3RvbUV2ZW50ID0gYXN5bmMgKHBheWxvYWQ6IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTZW5kQ2FsbEV2ZW50UmVzcG9uc2UsIFNlbmRDYWxsRXZlbnRSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2V2ZW50YCxcbiAgICAgIHsgY3VzdG9tOiBwYXlsb2FkIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZGV2aWNlIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgYmFja2VuZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhcHBseURldmljZUNvbmZpZyA9IGFzeW5jIChcbiAgICBzZXR0aW5nczogQ2FsbFNldHRpbmdzUmVzcG9uc2UsXG4gICAgcHVibGlzaDogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5jYW1lcmEuYXBwbHkoc2V0dGluZ3MudmlkZW8sIHB1Ymxpc2gpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NhbWVyYSBpbml0IGZhaWxlZCcsIGVycik7XG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLmFwcGx5KHNldHRpbmdzLmF1ZGlvLCBwdWJsaXNoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdNaWMgaW5pdCBmYWlsZWQnLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIGJlZ2luIHRyYWNraW5nIHRoZSBnaXZlbiBlbGVtZW50IGZvciB2aXNpYmlsaXR5IGNoYW5nZXMgd2l0aGluIHRoZVxuICAgKiBjb25maWd1cmVkIHZpZXdwb3J0IGVsZW1lbnQgKGBjYWxsLnNldFZpZXdwb3J0YCkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHRyYWNrLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB2aWRlbyBtb2RlLlxuICAgKi9cbiAgdHJhY2tFbGVtZW50VmlzaWJpbGl0eSA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICAgIGVsZW1lbnQ6IFQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZHluYXNjYWxlTWFuYWdlci50cmFja0VsZW1lbnRWaXNpYmlsaXR5KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIHRyYWNrIGJvdW5kIHZpZGVvIGVsZW1lbnRzIGZvciB2aXNpYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgdmlld3BvcnQgZWxlbWVudC5cbiAgICovXG4gIHNldFZpZXdwb3J0ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oZWxlbWVudDogVCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuc2V0Vmlld3BvcnQoZWxlbWVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDx2aWRlbz4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICogVGhpcyBtZXRob2Qgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgdmlkZW8gZWxlbWVudCB3aWxsIHBsYXlcbiAgICogdGhlIGNvcnJlY3QgdmlkZW8gc3RyZWFtIGZvciB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogVW5kZXIgdGhlIGhvb2QsIGl0IHdvdWxkIGFsc28ga2VlcCB0cmFjayBvZiB0aGUgdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zXG4gICAqIGFuZCB1cGRhdGUgdGhlIHN1YnNjcmlwdGlvbiBhY2NvcmRpbmdseSBpbiBvcmRlciB0byBvcHRpbWl6ZSB0aGUgYmFuZHdpZHRoLlxuICAgKlxuICAgKiBJZiBhIFwidmlld3BvcnRcIiBpcyBjb25maWd1cmVkLCB0aGUgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICogdHJhY2tlZCBmb3IgdmlzaWJpbGl0eSBhbmQgdGhlIHN1YnNjcmlwdGlvbiB3aWxsIGJlIHVwZGF0ZWQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwYXJhbSB2aWRlb0VsZW1lbnQgdGhlIHZpZGVvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiB2aWRlby5cbiAgICovXG4gIGJpbmRWaWRlb0VsZW1lbnQgPSAoXG4gICAgdmlkZW9FbGVtZW50OiBIVE1MVmlkZW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IHVuYmluZCA9IHRoaXMuZHluYXNjYWxlTWFuYWdlci5iaW5kVmlkZW9FbGVtZW50KFxuICAgICAgdmlkZW9FbGVtZW50LFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHJhY2tUeXBlLFxuICAgICk7XG5cbiAgICBpZiAoIXVuYmluZCkgcmV0dXJuO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVuYmluZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuZGVsZXRlKHVuYmluZCk7XG4gICAgICB1bmJpbmQoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8YXVkaW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIGF1ZGlvIGVsZW1lbnQgd2lsbFxuICAgKiBwbGF5IHRoZSBjb3JyZWN0IGF1ZGlvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSBhdWRpb0VsZW1lbnQgdGhlIGF1ZGlvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBhdWRpby5cbiAgICovXG4gIGJpbmRBdWRpb0VsZW1lbnQgPSAoXG4gICAgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogQXVkaW9UcmFja1R5cGUgPSAnYXVkaW9UcmFjaycsXG4gICkgPT4ge1xuICAgIGNvbnN0IHVuYmluZCA9IHRoaXMuZHluYXNjYWxlTWFuYWdlci5iaW5kQXVkaW9FbGVtZW50KFxuICAgICAgYXVkaW9FbGVtZW50LFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHJhY2tUeXBlLFxuICAgICk7XG5cbiAgICBpZiAoIXVuYmluZCkgcmV0dXJuO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVuYmluZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuZGVsZXRlKHVuYmluZCk7XG4gICAgICB1bmJpbmQoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8aW1nPiBlbGVtZW50IHRvIHRoaXMgY2FsbCdzIHRodW1ibmFpbCAoaWYgZW5hYmxlZCBpbiBzZXR0aW5ncykuXG4gICAqXG4gICAqIEBwYXJhbSBpbWFnZUVsZW1lbnQgdGhlIGltYWdlIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIG9wdHMgb3B0aW9ucyBmb3IgdGhlIGJpbmRpbmcuXG4gICAqL1xuICBiaW5kQ2FsbFRodW1ibmFpbEVsZW1lbnQgPSAoXG4gICAgaW1hZ2VFbGVtZW50OiBIVE1MSW1hZ2VFbGVtZW50LFxuICAgIG9wdHM6IHtcbiAgICAgIGZhbGxiYWNrSW1hZ2VTb3VyY2U/OiBzdHJpbmc7XG4gICAgfSA9IHt9LFxuICApID0+IHtcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9ICgpID0+IHtcbiAgICAgIGltYWdlRWxlbWVudC5zcmMgPVxuICAgICAgICBvcHRzLmZhbGxiYWNrSW1hZ2VTb3VyY2UgfHxcbiAgICAgICAgJ2h0dHBzOi8vZ2V0c3RyZWFtLmlvL3JhbmRvbV9zdmcvP25hbWU9eCZpZD14JztcbiAgICB9O1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICB0aGlzLnN0YXRlLnRodW1ibmFpbHMkLFxuICAgICAgKHRodW1ibmFpbHMpID0+IHtcbiAgICAgICAgaWYgKCF0aHVtYm5haWxzKSByZXR1cm47XG4gICAgICAgIGltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcblxuICAgICAgICBjb25zdCB0aHVtYm5haWxVcmwgPSBuZXcgVVJMKHRodW1ibmFpbHMuaW1hZ2VfdXJsKTtcbiAgICAgICAgdGh1bWJuYWlsVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3cnLCBTdHJpbmcoaW1hZ2VFbGVtZW50LmNsaWVudFdpZHRoKSk7XG4gICAgICAgIHRodW1ibmFpbFVybC5zZWFyY2hQYXJhbXMuc2V0KCdoJywgU3RyaW5nKGltYWdlRWxlbWVudC5jbGllbnRIZWlnaHQpKTtcblxuICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gdGh1bWJuYWlsVXJsLnRvU3RyaW5nKCk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGltYWdlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHByZWZlcmVuY2UgZm9yIGluY29taW5nIHZpZGVvIHJlc29sdXRpb24uIFRoZSBwcmVmZXJlbmNlIHdpbGxcbiAgICogYmUgbWF0Y2hlZCBhcyBjbG9zZSBhcyBwb3NzaWJsZSwgYnV0IGFjdHVhbCByZXNvbHV0aW9uIHdpbGwgZGVwZW5kXG4gICAqIG9uIHRoZSB2aWRlbyBzb3VyY2UgcXVhbGl0eSBhbmQgY2xpZW50IG5ldHdvcmsgY29uZGl0aW9ucy4gV2lsbCBlbmFibGVcbiAgICogaW5jb21pbmcgdmlkZW8sIGlmIHByZXZpb3VzbHkgZGlzYWJsZWQuXG4gICAqXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uIHByZWZlcnJlZCByZXNvbHV0aW9uLCBvciBgdW5kZWZpbmVkYCB0byBjbGVhciBwcmVmZXJlbmNlXG4gICAqIEBwYXJhbSBzZXNzaW9uSWRzIG9wdGlvbmFsbHkgc3BlY2lmeSBzZXNzaW9uIGlkcyBvZiB0aGUgcGFydGljaXBhbnRzIHRoaXNcbiAgICogcHJlZmVyZW5jZSBoYXMgZWZmZWN0IG9uLiBBZmZlY3RzIGFsbCBwYXJ0aWNpcGFudHMgYnkgZGVmYXVsdC5cbiAgICovXG4gIHNldFByZWZlcnJlZEluY29taW5nVmlkZW9SZXNvbHV0aW9uID0gKFxuICAgIHJlc29sdXRpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkLFxuICAgIHNlc3Npb25JZHM/OiBzdHJpbmdbXSxcbiAgKSA9PiB7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoXG4gICAgICByZXNvbHV0aW9uXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc2Vzc2lvbklkcyxcbiAgICApO1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIGluY29taW5nIHZpZGVvIGZyb20gYWxsIHJlbW90ZSBjYWxsIHBhcnRpY2lwYW50cyxcbiAgICogYW5kIHJlbW92ZXMgYW55IHByZWZlcmVuY2UgZm9yIHByZWZlcnJlZCByZXNvbHV0aW9uLlxuICAgKi9cbiAgc2V0SW5jb21pbmdWaWRlb0VuYWJsZWQgPSAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzKFxuICAgICAgZW5hYmxlZCA/IHVuZGVmaW5lZCA6IHsgZW5hYmxlZDogZmFsc2UgfSxcbiAgICApO1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIGEgdXNlciBjYW4gcmVtYWluIHdhaXRpbmcgZm9yIGEgcmVjb25uZWN0XG4gICAqIGFmdGVyIGEgbmV0d29yayBkaXNydXB0aW9uXG4gICAqIEBwYXJhbSB0aW1lb3V0U2Vjb25kcyBUaW1lb3V0IGluIHNlY29uZHMsIG9yIDAgdG8ga2VlcCByZWNvbm5lY3RpbmcgaW5kZWZpbmV0ZWx5XG4gICAqL1xuICBzZXREaXNjb25uZWN0aW9uVGltZW91dCA9ICh0aW1lb3V0U2Vjb25kczogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5kaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHMgPSB0aW1lb3V0U2Vjb25kcztcbiAgfTtcblxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgcHJvdmlkZWQgY2xpZW50IGNhcGFiaWxpdGllcy5cbiAgICovXG4gIGVuYWJsZUNsaWVudENhcGFiaWxpdGllcyA9ICguLi5jYXBhYmlsaXRpZXM6IENsaWVudENhcGFiaWxpdHlbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgY2FwYWJpbGl0eSBvZiBjYXBhYmlsaXRpZXMpIHtcbiAgICAgIHRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzLmFkZChjYXBhYmlsaXR5KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBwcm92aWRlZCBjbGllbnQgY2FwYWJpbGl0aWVzLlxuICAgKi9cbiAgZGlzYWJsZUNsaWVudENhcGFiaWxpdGllcyA9ICguLi5jYXBhYmlsaXRpZXM6IENsaWVudENhcGFiaWxpdHlbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgY2FwYWJpbGl0eSBvZiBjYXBhYmlsaXRpZXMpIHtcbiAgICAgIHRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzLmRlbGV0ZShjYXBhYmlsaXR5KTtcbiAgICB9XG4gIH07XG59XG4iLCJleHBvcnQgY29uc3QgQVBJRXJyb3JDb2RlczogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcbiAgWy0xXTogJ0ludGVybmFsU3lzdGVtRXJyb3InLFxuICAyOiAnQWNjZXNzS2V5RXJyb3InLFxuICAzOiAnQXV0aGVudGljYXRpb25GYWlsZWRFcnJvcicsXG4gIDQ6ICdJbnB1dEVycm9yJyxcbiAgNTogJ0F1dGhlbnRpY2F0aW9uRXJyb3InLFxuICA2OiAnRHVwbGljYXRlVXNlcm5hbWVFcnJvcicsXG4gIDk6ICdSYXRlTGltaXRFcnJvcicsXG4gIDE2OiAnRG9lc05vdEV4aXN0RXJyb3InLFxuICAxNzogJ05vdEFsbG93ZWRFcnJvcicsXG4gIDE4OiAnRXZlbnROb3RTdXBwb3J0ZWRFcnJvcicsXG4gIDE5OiAnQ2hhbm5lbEZlYXR1cmVOb3RTdXBwb3J0ZWRFcnJvcicsXG4gIDIwOiAnTWVzc2FnZVRvb0xvbmdFcnJvcicsXG4gIDIxOiAnTXVsdGlwbGVOZXN0aW5nTGV2ZWxFcnJvcicsXG4gIDIyOiAnUGF5bG9hZFRvb0JpZ0Vycm9yJyxcbiAgMjM6ICdSZXF1ZXN0VGltZW91dEVycm9yJyxcbiAgMjQ6ICdNYXhIZWFkZXJTaXplRXhjZWVkZWRFcnJvcicsXG4gIDQwOiAnQXV0aEVycm9yVG9rZW5FeHBpcmVkJyxcbiAgNDE6ICdBdXRoRXJyb3JUb2tlbk5vdFZhbGlkWWV0JyxcbiAgNDI6ICdBdXRoRXJyb3JUb2tlblVzZWRCZWZvcmVJc3N1ZWRBdCcsXG4gIDQzOiAnQXV0aEVycm9yVG9rZW5TaWduYXR1cmVJbnZhbGlkJyxcbiAgNDQ6ICdDdXN0b21Db21tYW5kRW5kcG9pbnRNaXNzaW5nRXJyb3InLFxuICA0NTogJ0N1c3RvbUNvbW1hbmRFbmRwb2ludENhbGxFcnJvcicsXG4gIDQ2OiAnQ29ubmVjdGlvbklETm90Rm91bmRFcnJvcicsXG4gIDYwOiAnQ29vbERvd25FcnJvcicsXG4gIDY5OiAnRXJyV3JvbmdSZWdpb24nLFxuICA3MDogJ0VyclF1ZXJ5Q2hhbm5lbFBlcm1pc3Npb25zJyxcbiAgNzE6ICdFcnJUb29NYW55Q29ubmVjdGlvbnMnLFxuICA3MzogJ01lc3NhZ2VNb2RlcmF0aW9uRmFpbGVkRXJyb3InLFxuICA5OTogJ0FwcFN1c3BlbmRlZEVycm9yJyxcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQge1xuICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIGlzQ2xvc2VFdmVudCxcbiAgS25vd25Db2RlcyxcbiAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICByZXRyeUludGVydmFsLFxuICBzbGVlcCxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IExvZ0xldmVsLCBTdHJlYW1WaWRlb0V2ZW50LCBVUiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0ZWRFdmVudCxcbiAgQ29ubmVjdGlvbkVycm9yRXZlbnQsXG4gIFdTQXV0aE1lc3NhZ2UsXG59IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBtYWtlU2FmZVByb21pc2UsIHR5cGUgU2FmZVByb21pc2UgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3Byb21pc2UnO1xuaW1wb3J0IHsgZ2V0VGltZXJzIH0gZnJvbSAnLi4vLi4vdGltZXJzJztcbmltcG9ydCB7IEFQSUVycm9yQ29kZXMgfSBmcm9tICcuL2Vycm9ycyc7XG5cbi8qKlxuICogU3RhYmxlV1NDb25uZWN0aW9uIC0gQSBXUyBjb25uZWN0aW9uIHRoYXQgcmVjb25uZWN0cyB1cG9uIGZhaWx1cmUuXG4gKiAtIHRoZSBicm93c2VyIHdpbGwgc29tZXRpbWVzIHJlcG9ydCB0aGF0IHlvdSdyZSBvbmxpbmUgb3Igb2ZmbGluZVxuICogLSB0aGUgV1MgY29ubmVjdGlvbiBjYW4gYnJlYWsgYW5kIGZhaWwgKHRoZXJlIGlzIGEgMzBzIGhlYWx0aCBjaGVjaylcbiAqIC0gc29tZXRpbWVzIHlvdXIgV1MgY29ubmVjdGlvbiB3aWxsIHNlZW0gdG8gd29yayB3aGlsZSB0aGUgdXNlciBpcyBpbiBmYWN0IG9mZmxpbmVcbiAqIC0gdG8gc3BlZWQgdXAgb25saW5lL29mZmxpbmUgZGV0ZWN0aW9uIHlvdSBjYW4gdXNlIHRoZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScpO1xuICpcbiAqIFRoZXJlIGFyZSA0IHdheXMgaW4gd2hpY2ggYSBjb25uZWN0aW9uIGNhbiBiZWNvbWUgdW5oZWFsdGh5OlxuICogLSB3ZWJzb2NrZXQub25lcnJvciBpcyBjYWxsZWRcbiAqIC0gd2Vic29ja2V0Lm9uY2xvc2UgaXMgY2FsbGVkXG4gKiAtIHRoZSBoZWFsdGggY2hlY2sgZmFpbHMgYW5kIG5vIGV2ZW50IGlzIHJlY2VpdmVkIGZvciB+NDAgc2Vjb25kc1xuICogLSB0aGUgYnJvd3NlciBpbmRpY2F0ZXMgdGhlIGNvbm5lY3Rpb24gaXMgbm93IG9mZmxpbmVcbiAqXG4gKiBUaGVyZSBhcmUgMiBhc3N1bXB0aW9ucyB3ZSBtYWtlIGFib3V0IHRoZSBzZXJ2ZXI6XG4gKiAtIHN0YXRlIGNhbiBiZSByZWNvdmVyZWQgYnkgcXVlcnlpbmcgdGhlIGNoYW5uZWwgYWdhaW5cbiAqIC0gaWYgdGhlIHNlcnZlcnMgZmFpbHMgdG8gcHVibGlzaCBhIG1lc3NhZ2UgdG8gdGhlIGNsaWVudCwgdGhlIFdTIGNvbm5lY3Rpb24gaXMgZGVzdHJveWVkXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFibGVXU0Nvbm5lY3Rpb24ge1xuICAvLyBsb2NhbCB2YXJzXG4gIGNvbm5lY3Rpb25JRD86IHN0cmluZztcbiAgcHJpdmF0ZSBjb25uZWN0aW9uT3BlblNhZmU/OiBTYWZlUHJvbWlzZTxDb25uZWN0ZWRFdmVudD47XG4gIGNvbnNlY3V0aXZlRmFpbHVyZXM6IG51bWJlcjtcbiAgcGluZ0ludGVydmFsOiBudW1iZXI7XG4gIGhlYWx0aENoZWNrVGltZW91dFJlZj86IG51bWJlcjtcbiAgaXNDb25uZWN0aW5nOiBib29sZWFuO1xuICBpc0Rpc2Nvbm5lY3RlZDogYm9vbGVhbjtcbiAgaXNIZWFsdGh5OiBib29sZWFuO1xuICBpc0Nvbm5lY3Rpb25PcGVuUmVzb2x2ZWQ/OiBib29sZWFuO1xuICBsYXN0RXZlbnQ6IERhdGUgfCBudWxsO1xuICBjb25uZWN0aW9uQ2hlY2tUaW1lb3V0OiBudW1iZXI7XG4gIGNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWY/OiBOb2RlSlMuVGltZW91dDtcbiAgcmVqZWN0Q29ubmVjdGlvbk9wZW4/OiAoXG4gICAgcmVhc29uPzogRXJyb3IgJiB7XG4gICAgICBjb2RlPzogc3RyaW5nIHwgbnVtYmVyO1xuICAgICAgaXNXU0ZhaWx1cmU/OiBib29sZWFuO1xuICAgICAgU3RhdHVzQ29kZT86IHN0cmluZyB8IG51bWJlcjtcbiAgICB9LFxuICApID0+IHZvaWQ7XG4gIHJlc29sdmVDb25uZWN0aW9uT3Blbj86ICh2YWx1ZTogQ29ubmVjdGVkRXZlbnQpID0+IHZvaWQ7XG4gIHRvdGFsRmFpbHVyZXM6IG51bWJlcjtcbiAgd3M/OiBXZWJTb2NrZXQ7XG4gIHdzSUQ6IG51bWJlcjtcblxuICBjbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICBjb25zdHJ1Y3RvcihjbGllbnQ6IFN0cmVhbUNsaWVudCkge1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIC8qKiBjb25zZWN1dGl2ZSBmYWlsdXJlcyBpbmZsdWVuY2UgdGhlIGR1cmF0aW9uIG9mIHRoZSB0aW1lb3V0ICovXG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAvKioga2VlcCB0cmFjayBvZiB0aGUgdG90YWwgbnVtYmVyIG9mIGZhaWx1cmVzICovXG4gICAgdGhpcy50b3RhbEZhaWx1cmVzID0gMDtcbiAgICAvKiogV2Ugb25seSBtYWtlIDEgYXR0ZW1wdCB0byByZWNvbm5lY3QgYXQgdGhlIHNhbWUgdGltZS4uICovXG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAvKiogVG8gYXZvaWQgcmVjb25uZWN0IGlmIGNsaWVudCBpcyBkaXNjb25uZWN0ZWQgKi9cbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGNvbm5lY3Rpb24gcHJvbWlzZSBpcyByZXNvbHZlZCAqL1xuICAgIHRoaXMuaXNDb25uZWN0aW9uT3BlblJlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgd2UgaGF2ZSBhIHdvcmtpbmcgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyICovXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAvKiogSW5jcmVtZW50ZWQgd2hlbiBhIG5ldyBXUyBjb25uZWN0aW9uIGlzIG1hZGUgKi9cbiAgICB0aGlzLndzSUQgPSAxO1xuICAgIC8qKiBTdG9yZSB0aGUgbGFzdCBldmVudCB0aW1lIGZvciBoZWFsdGggY2hlY2tzICovXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBudWxsO1xuICAgIC8qKiBTZW5kIGEgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgZXZlcnkgMjUgc2Vjb25kcyAqL1xuICAgIHRoaXMucGluZ0ludGVydmFsID0gMjUgKiAxMDAwO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCA9IHRoaXMucGluZ0ludGVydmFsICsgMTAgKiAxMDAwO1xuXG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gIH1cblxuICBfbG9nID0gKG1zZzogc3RyaW5nLCBleHRyYTogVVIgPSB7fSwgbGV2ZWw6IExvZ0xldmVsID0gJ2luZm8nKSA9PiB7XG4gICAgdGhpcy5jbGllbnQubG9nZ2VyKGxldmVsLCBgY29ubmVjdGlvbjoke21zZ31gLCBleHRyYSk7XG4gIH07XG5cbiAgc2V0Q2xpZW50ID0gKGNsaWVudDogU3RyZWFtQ2xpZW50KSA9PiB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNvbm5lY3QgLSBDb25uZWN0IHRvIHRoZSBXUyBVUkxcbiAgICogdGhlIGRlZmF1bHQgMTVzIHRpbWVvdXQgYWxsb3dzIGJldHdlZW4gMn4zIHRyaWVzXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZTxDb25uZWN0ZWRFdmVudD59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICovXG4gIGFzeW5jIGNvbm5lY3QodGltZW91dCA9IDE1MDAwKSB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFlvdSd2ZSBjYWxsZWQgY29ubmVjdCB0d2ljZSwgY2FuIG9ubHkgYXR0ZW1wdCAxIGNvbm5lY3Rpb24gYXQgdGhlIHRpbWVgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVhbHRoQ2hlY2sgPSBhd2FpdCB0aGlzLl9jb25uZWN0KCk7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBjb25uZWN0KCkgLSBFc3RhYmxpc2hlZCB3cyBjb25uZWN0aW9uIHdpdGggaGVhbHRoY2hlY2s6ICR7aGVhbHRoQ2hlY2t9YCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgaWYgKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgICAgZXJyb3IuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICAgIGlmICghZXJyb3IuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgICAvLyBBUEkgcmVqZWN0ZWQgdGhlIGNvbm5lY3Rpb24gYW5kIHdlIHNob3VsZCBub3QgcmV0cnlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZSBpc3N1ZVxuICAgICAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgICAgICAgICAgU3RhdHVzQ29kZTogZXJyb3IuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZSBpc3N1ZVxuICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogZXJyb3IuaXNXU0ZhaWx1cmUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3dhaXRGb3JIZWFsdGh5KHRpbWVvdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIF93YWl0Rm9ySGVhbHRoeSBwb2xscyB0aGUgcHJvbWlzZSBjb25uZWN0aW9uIHRvIHNlZSBpZiBpdHMgcmVzb2x2ZWQgdW50aWwgaXQgdGltZXMgb3V0XG4gICAqIHRoZSBkZWZhdWx0IDE1cyB0aW1lb3V0IGFsbG93cyBiZXR3ZWVuIDJ+MyB0cmllc1xuICAgKiBAcGFyYW0gdGltZW91dCBkdXJhdGlvbihtcylcbiAgICovXG4gIGFzeW5jIF93YWl0Rm9ySGVhbHRoeSh0aW1lb3V0ID0gMTUwMDApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gNTA7IC8vIG1zXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRpbWVvdXQ7IGkgKz0gaW50ZXJ2YWwpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdGlvbk9wZW47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgaWYgKGkgPT09IHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICAgICAgICBTdGF0dXNDb2RlOiBlcnJvci5TdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiBlcnJvci5pc1dTRmFpbHVyZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKGludGVydmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzbGVlcCh0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNvZGU6ICcnLFxuICAgICAgICAgICAgU3RhdHVzQ29kZTogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnaW5pdGlhbCBXUyBjb25uZWN0aW9uIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCcsXG4gICAgICAgICAgICBpc1dTRmFpbHVyZTogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH0pKCksXG4gICAgXSk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGFuZCByZXR1cm5zIHRoZSB1cmwgZm9yIHdlYnNvY2tldC5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMgdXJsIHN0cmluZ1xuICAgKi9cbiAgX2J1aWxkVXJsID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBwYXJhbXMuc2V0KCdhcGlfa2V5JywgdGhpcy5jbGllbnQua2V5KTtcbiAgICBwYXJhbXMuc2V0KCdzdHJlYW0tYXV0aC10eXBlJywgdGhpcy5jbGllbnQuZ2V0QXV0aFR5cGUoKSk7XG4gICAgcGFyYW1zLnNldCgnWC1TdHJlYW0tQ2xpZW50JywgdGhpcy5jbGllbnQuZ2V0VXNlckFnZW50KCkpO1xuXG4gICAgcmV0dXJuIGAke3RoaXMuY2xpZW50LndzQmFzZVVSTH0vY29ubmVjdD8ke3BhcmFtcy50b1N0cmluZygpfWA7XG4gIH07XG5cbiAgLyoqXG4gICAqIGRpc2Nvbm5lY3QgLSBEaXNjb25uZWN0IHRoZSBjb25uZWN0aW9uIGFuZCBkb2Vzbid0IHJlY292ZXIuLi5cbiAgICpcbiAgICovXG4gIGRpc2Nvbm5lY3QodGltZW91dD86IG51bWJlcikge1xuICAgIHRoaXMuX2xvZyhcbiAgICAgIGBkaXNjb25uZWN0KCkgLSBDbG9zaW5nIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBmb3Igd3NJRCAke3RoaXMud3NJRH1gLFxuICAgICk7XG5cbiAgICB0aGlzLndzSUQgKz0gMTtcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaXNEaXNjb25uZWN0ZWQgPSB0cnVlO1xuXG4gICAgLy8gc3RhcnQgYnkgcmVtb3ZpbmcgYWxsIHRoZSBsaXN0ZW5lcnNcbiAgICBpZiAodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIGdldFRpbWVycygpLmNsZWFySW50ZXJ2YWwodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG5cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuXG4gICAgbGV0IGlzQ2xvc2VkUHJvbWlzZTogUHJvbWlzZTx2b2lkPjtcbiAgICAvLyBhbmQgZmluYWxseSBjbG9zZS4uLlxuICAgIC8vIEFzc2lnbmluZyB0byBsb2NhbCBoZXJlIGJlY2F1c2Ugd2Ugd2lsbCByZW1vdmUgaXQgZnJvbSB0aGlzIGJlZm9yZSB0aGVcbiAgICAvLyBwcm9taXNlIHJlc29sdmVzLlxuICAgIGNvbnN0IHsgd3MgfSA9IHRoaXM7XG4gICAgaWYgKHdzICYmIHdzLmNsb3NlICYmIHdzLnJlYWR5U3RhdGUgPT09IHdzLk9QRU4pIHtcbiAgICAgIGlzQ2xvc2VkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9uY2xvc2UgPSAoZXZlbnQ6IENsb3NlRXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLl9sb2coXG4gICAgICAgICAgICBgZGlzY29ubmVjdCgpIC0gcmVzb2x2aW5nIGlzQ2xvc2VkUHJvbWlzZSAke1xuICAgICAgICAgICAgICBldmVudCA/ICd3aXRoJyA6ICd3aXRob3V0J1xuICAgICAgICAgICAgfSBjbG9zZSBmcmFtZWAsXG4gICAgICAgICAgICB7IGV2ZW50IH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd3Mub25jbG9zZSA9IG9uY2xvc2U7XG4gICAgICAgIC8vIEluIGNhc2Ugd2UgZG9uJ3QgcmVjZWl2ZSBjbG9zZSBmcmFtZSB3ZWJzb2NrZXQgc2VydmVyIGluIHRpbWUsXG4gICAgICAgIC8vIGxldHMgbm90IHdhaXQgZm9yIG1vcmUgdGhhbiAxIHNlY29uZC5cbiAgICAgICAgc2V0VGltZW91dChvbmNsb3NlLCB0aW1lb3V0ICE9IG51bGwgPyB0aW1lb3V0IDogMTAwMCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICBgZGlzY29ubmVjdCgpIC0gTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpYCxcbiAgICAgICk7XG5cbiAgICAgIHdzLmNsb3NlKFxuICAgICAgICBLbm93bkNvZGVzLldTX0NMT1NFRF9TVUNDRVNTLFxuICAgICAgICAnTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYGRpc2Nvbm5lY3QoKSAtIHdzIGNvbm5lY3Rpb24gZG9lc24ndCBleGlzdCBvciBpdCBpcyBhbHJlYWR5IGNsb3NlZC5gLFxuICAgICAgKTtcbiAgICAgIGlzQ2xvc2VkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLndzO1xuXG4gICAgcmV0dXJuIGlzQ2xvc2VkUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBfY29ubmVjdCAtIENvbm5lY3QgdG8gdGhlIFdTIGVuZHBvaW50XG4gICAqXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZTxDb25uZWN0ZWRFdmVudD59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICovXG4gIGFzeW5jIF9jb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGluZykgcmV0dXJuOyAvLyBpZ25vcmUgX2Nvbm5lY3QgaWYgaXQncyBjdXJyZW50bHkgdHJ5aW5nIHRvIGNvbm5lY3RcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IHRydWU7XG4gICAgbGV0IGlzVG9rZW5SZWFkeSA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSB3YWl0aW5nIGZvciB0b2tlbmApO1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKTtcbiAgICAgIGlzVG9rZW5SZWFkeSA9IHRydWU7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyB0b2tlbiBwcm92aWRlciBoYXMgZmFpbGVkIGJlZm9yZSwgc28gdHJ5IGFnYWluXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICghaXNUb2tlblJlYWR5KSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICBgX2Nvbm5lY3QoKSAtIHRva2VuUHJvdmlkZXIgZmFpbGVkIGJlZm9yZSwgc28gZ29pbmcgdG8gcmV0cnlgLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5jbGllbnQuaXNDb25uZWN0aW9uSXNQcm9taXNlUGVuZGluZykge1xuICAgICAgICB0aGlzLmNsaWVudC5fc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlKCk7XG4gICAgICBjb25zdCB3c1VSTCA9IHRoaXMuX2J1aWxkVXJsKCk7XG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSBDb25uZWN0aW5nIHRvICR7d3NVUkx9YCk7XG4gICAgICBjb25zdCBXUyA9IHRoaXMuY2xpZW50Lm9wdGlvbnMuV2ViU29ja2V0SW1wbCA/PyBXZWJTb2NrZXQ7XG4gICAgICB0aGlzLndzID0gbmV3IFdTKHdzVVJMKTtcbiAgICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5vbm9wZW4uYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgdGhpcy53cy5vbmNsb3NlID0gdGhpcy5vbmNsb3NlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMub25lcnJvci5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uT3BlbjtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25JRCA9IHJlc3BvbnNlLmNvbm5lY3Rpb25faWQ7XG4gICAgICAgIHRoaXMuY2xpZW50LnJlc29sdmVDb25uZWN0aW9uSWQ/Lih0aGlzLmNvbm5lY3Rpb25JRCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuY2xpZW50Ll9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgIHRoaXMuX2xvZyhgX2Nvbm5lY3QoKSAtIEVycm9yIC0gYCwgZXJyKTtcbiAgICAgIHRoaXMuY2xpZW50LnJlamVjdENvbm5lY3Rpb25JZD8uKGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9yZWNvbm5lY3QgLSBSZXRyeSB0aGUgY29ubmVjdGlvbiB0byBXUyBlbmRwb2ludFxuICAgKlxuICAgKiBAcGFyYW0ge3sgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfX0gb3B0aW9ucyBGb2xsb3dpbmcgb3B0aW9ucyBhcmUgYXZhaWxhYmxlXG4gICAqXG4gICAqIC0gYGludGVydmFsYFx0e2ludH1cdFx0XHRudW1iZXIgb2YgbXMgdGhhdCBmdW5jdGlvbiBzaG91bGQgd2FpdCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAqIC0gYHJlZnJlc2hUb2tlbmAge2Jvb2xlYW59XHRyZWxvYWQvcmVmcmVzaCB1c2VyIHRva2VuIGJlIHJlZnJlc2hlZCBiZWZvcmUgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uXG4gICAqL1xuICBhc3luYyBfcmVjb25uZWN0KFxuICAgIG9wdGlvbnM6IHsgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfSA9IHt9LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEluaXRpYXRpbmcgdGhlIHJlY29ubmVjdCcpO1xuXG4gICAgLy8gb25seSBhbGxvdyAxIGNvbm5lY3Rpb24gYXQgdGhlIHRpbWVcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gQWJvcnQgKDEpIHNpbmNlIGFscmVhZHkgY29ubmVjdGluZyBvciBoZWFsdGh5Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVjb25uZWN0IGluIGNhc2Ugb2Ygb24gZXJyb3Igb3Igb24gY2xvc2VcbiAgICAvLyBhbHNvIHJlY29ubmVjdCBpZiB0aGUgaGVhbHRoIGNoZWNrIGN5Y2xlIGZhaWxzXG4gICAgbGV0IGludGVydmFsID0gb3B0aW9ucy5pbnRlcnZhbDtcbiAgICBpZiAoIWludGVydmFsKSB7XG4gICAgICBpbnRlcnZhbCA9IHJldHJ5SW50ZXJ2YWwodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKTtcbiAgICB9XG4gICAgLy8gcmVjb25uZWN0LCBvciB0cnkgYWdhaW4gYWZ0ZXIgYSBsaXR0bGUgd2hpbGUuLi5cbiAgICBhd2FpdCBzbGVlcChpbnRlcnZhbCk7XG5cbiAgICAvLyBDaGVjayBvbmNlIGFnYWluIGlmIGJ5IHNvbWUgb3RoZXIgY2FsbCB0byBfcmVjb25uZWN0IGlzIGFjdGl2ZSBvciBjb25uZWN0aW9uIGlzXG4gICAgLy8gYWxyZWFkeSByZXN0b3JlZCwgdGhlbiBubyBuZWVkIHRvIHByb2NlZWQuXG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nIHx8IHRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgyKSBzaW5jZSBhbHJlYWR5IGNvbm5lY3Rpbmcgb3IgaGVhbHRoeScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRGlzY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgzKSBzaW5jZSBkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBEZXN0cm95aW5nIGN1cnJlbnQgV1MgY29ubmVjdGlvbicpO1xuXG4gICAgLy8gY2xlYW51cCB0aGUgb2xkIGNvbm5lY3Rpb25cbiAgICB0aGlzLl9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpO1xuXG4gICAgaWYgKG9wdGlvbnMucmVmcmVzaFRva2VuKSB7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuX2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gV2FpdGluZyBmb3IgcmVjb3ZlckNhbGxCYWNrJyk7XG4gICAgICAvLyBhd2FpdCB0aGlzLmNsaWVudC5yZWNvdmVyU3RhdGUoKTtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRmluaXNoZWQgcmVjb3ZlckNhbGxCYWNrJyk7XG5cbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKFxuICAgICAgICBlcnJvci5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlY29ubmVjdCBvbiBXUyBmYWlsdXJlcywgZG9uJ3QgcmVjb25uZWN0IGlmIHRoZXJlIGlzIGEgY29kZSBidWdcbiAgICAgIGlmIChlcnJvci5pc1dTRmFpbHVyZSkge1xuICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdTIGZhaWx1cmUsIHNvIGdvaW5nIHRvIHRyeSB0byByZWNvbm5lY3QnKTtcblxuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSA9PSBFTkQgPT0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBvbmxpbmVTdGF0dXNDaGFuZ2VkIC0gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgYnJvd3NlciBjb25uZWN0cyBvciBkaXNjb25uZWN0cyBmcm9tIHRoZSBpbnRlcm5ldC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgd2l0aCB0eXBlIG9ubGluZSBvciBvZmZsaW5lXG4gICAqXG4gICAqL1xuICBvbmxpbmVTdGF0dXNDaGFuZ2VkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnb2ZmbGluZScpIHtcbiAgICAgIC8vIG1hcmsgdGhlIGNvbm5lY3Rpb24gYXMgZG93blxuICAgICAgdGhpcy5fbG9nKCdvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb2ZmbGluZScpO1xuICAgICAgLy8gd2Uga25vdyB0aGF0IHRoZSBhcHAgaXMgb2ZmbGluZSBzbyBkaXNwYXRjaCB0aGUgdW5oZWFsdGh5IGNvbm5lY3Rpb24gZXZlbnQgaW1tZWRpYXRlbHlcbiAgICAgIHRoaXMuX3NldEhlYWx0aChmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgLy8gcmV0cnkgcmlnaHQgbm93Li4uXG4gICAgICAvLyBXZSBjaGVjayB0aGlzLmlzSGVhbHRoeSwgbm90IHN1cmUgaWYgaXQncyBhbHdheXNcbiAgICAgIC8vIHNtYXJ0IHRvIGNyZWF0ZSBhIG5ldyBXUyBjb25uZWN0aW9uIGlmIHRoZSBvbGQgb25lIGlzIHN0aWxsIHVwIGFuZCBydW5uaW5nLlxuICAgICAgLy8gaXQncyBwb3NzaWJsZSB3ZSBkaWRuJ3QgbWlzcyBhbnkgbWVzc2FnZXMsIHNvIHRoaXMgcHJvY2VzcyBpcyBqdXN0IGV4cGVuc2l2ZSBhbmQgbm90IG5lZWRlZC5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYG9ubGluZVN0YXR1c0NoYW5nZWQoKSAtIFN0YXR1cyBjaGFuZ2luZyB0byBvbmxpbmUuIGlzSGVhbHRoeTogJHt0aGlzLmlzSGVhbHRoeX1gLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgaW50ZXJ2YWw6IDEwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBvbm9wZW4gPSAod3NJRDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlciA9IHRoaXMuY2xpZW50LnVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIoJ2Vycm9yJywgYFVzZXIgbm90IHNldCwgY2FuJ3QgY29ubmVjdCB0byBXU2ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5jbGllbnQuX2dldFRva2VuKCk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKCdlcnJvcicsIGBUb2tlbiBub3Qgc2V0LCBjYW4ndCBjb25uZWN0IGF1dGhlbnRpY2F0ZWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF1dGhNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdG9rZW4sXG4gICAgICB1c2VyX2RldGFpbHM6IHtcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgIGN1c3RvbTogdXNlci5jdXN0b20sXG4gICAgICB9LFxuICAgIH0gYXMgV1NBdXRoTWVzc2FnZSk7XG5cbiAgICB0aGlzLl9sb2coYG9ub3BlbigpIC0gU2VuZGluZyBhdXRoIG1lc3NhZ2UgJHthdXRoTWVzc2FnZX1gLCB7fSwgJ3RyYWNlJyk7XG5cbiAgICB0aGlzLndzPy5zZW5kKGF1dGhNZXNzYWdlKTtcbiAgICB0aGlzLl9sb2coJ29ub3BlbigpIC0gb25vcGVuIGNhbGxiYWNrJywgeyB3c0lEIH0pO1xuICB9O1xuXG4gIG9ubWVzc2FnZSA9ICh3c0lEOiBudW1iZXIsIGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICBjb25zdCBkYXRhID1cbiAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSAnc3RyaW5nJ1xuICAgICAgICA/IChKU09OLnBhcnNlKGV2ZW50LmRhdGEpIGFzIFN0cmVhbVZpZGVvRXZlbnQpXG4gICAgICAgIDogbnVsbDtcblxuICAgIC8vIHdlIHdhaXQgdGlsbCB0aGUgZmlyc3QgbWVzc2FnZSBiZWZvcmUgd2UgY29uc2lkZXIgdGhlIGNvbm5lY3Rpb24gb3Blbi5cbiAgICAvLyB0aGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgYXV0aCBlcnJvcnMgYW5kIHNpbWlsYXIgZXJyb3JzIHRyaWdnZXIgYSB3cy5vbm9wZW4gYW5kIGltbWVkaWF0ZWx5XG4gICAgLy8gYWZ0ZXIgdGhhdCBhIHdzLm9uY2xvc2UuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuaXNDb25uZWN0aW9uT3BlblJlc29sdmVkICYmXG4gICAgICBkYXRhICYmXG4gICAgICBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLmVycm9yJ1xuICAgICkge1xuICAgICAgdGhpcy5pc0Nvbm5lY3Rpb25PcGVuUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uT3Blbj8uKHRoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZGF0YSwgZmFsc2UpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRyaWdnZXIgdGhlIGV2ZW50Li5cbiAgICB0aGlzLmxhc3RFdmVudCA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAoXG4gICAgICBkYXRhICYmXG4gICAgICAoZGF0YS50eXBlID09PSAnaGVhbHRoLmNoZWNrJyB8fCBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLm9rJylcbiAgICApIHtcbiAgICAgIC8vIHRoZSBpbml0aWFsIGhlYWx0aC1jaGVjayBzaG91bGQgY29tZSBmcm9tIHRoZSBjbGllbnRcbiAgICAgIHRoaXMuc2NoZWR1bGVOZXh0UGluZygpO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24ub2snKSB7XG4gICAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uT3Blbj8uKGRhdGEpO1xuICAgICAgdGhpcy5fc2V0SGVhbHRoKHRydWUpO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24uZXJyb3InICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgIGNvbnN0IHsgY29kZSB9ID0gZGF0YS5lcnJvcjtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICBpZiAoXG4gICAgICAgIGNvZGUgPT09IEtub3duQ29kZXMuVE9LRU5fRVhQSVJFRCAmJlxuICAgICAgICAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGRhdGEucmVjZWl2ZWRfYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChkYXRhKTtcbiAgICB9XG4gICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICB9O1xuXG4gIG9uY2xvc2UgPSAod3NJRDogbnVtYmVyLCBldmVudDogQ2xvc2VFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIHRoaXMuX2xvZygnb25jbG9zZSgpIC0gb25jbG9zZSBjYWxsYmFjayAtICcgKyBldmVudC5jb2RlLCB7IGV2ZW50LCB3c0lEIH0pO1xuXG4gICAgaWYgKGV2ZW50LmNvZGUgPT09IEtub3duQ29kZXMuV1NfQ0xPU0VEX1NVQ0NFU1MpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBwZXJtYW5lbnQgZXJyb3IgcmFpc2VkIGJ5IHN0cmVhbS4uXG4gICAgICAvLyB1c3VhbGx5IGNhdXNlZCBieSBpbnZhbGlkIGF1dGggZGV0YWlsc1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBXUyBjb25uZWN0aW9uIHJlamVjdCB3aXRoIGVycm9yICR7ZXZlbnQucmVhc29ufWAsXG4gICAgICApO1xuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgIGVycm9yLnJlYXNvbiA9IGV2ZW50LnJlYXNvbjtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZSBpc3N1ZVxuICAgICAgZXJyb3IuY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgIGVycm9yLndhc0NsZWFuID0gZXZlbnQud2FzQ2xlYW47XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgIGVycm9yLnRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uT3Blbj8uKGVycm9yKTtcbiAgICAgIHRoaXMuX2xvZyhgb25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciAke2V2ZW50LnJlYXNvbn1gLCB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgdGhpcy50b3RhbEZhaWx1cmVzICs9IDE7XG4gICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uT3Blbj8uKHRoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZXZlbnQpKTtcblxuICAgICAgdGhpcy5fbG9nKGBvbmNsb3NlKCkgLSBXUyBjb25uZWN0aW9uIGNsb3NlZC4gQ2FsbGluZyByZWNvbm5lY3QgLi4uYCwge1xuICAgICAgICBldmVudCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZWNvbm5lY3QgaWYgaXRzIGFuIGFibm9ybWFsIGZhaWx1cmVcbiAgICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBvbmVycm9yID0gKHdzSUQ6IG51bWJlciwgZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgdGhpcy50b3RhbEZhaWx1cmVzICs9IDE7XG4gICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2xvZyhgb25lcnJvcigpIC0gV1MgY29ubmVjdGlvbiByZXN1bHRlZCBpbnRvIGVycm9yYCwgeyBldmVudCB9KTtcblxuICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBfc2V0SGVhbHRoIC0gU2V0cyB0aGUgY29ubmVjdGlvbiB0byBoZWFsdGh5IG9yIHVuaGVhbHRoeS5cbiAgICogQnJvYWRjYXN0cyBhbiBldmVudCBpbiBjYXNlIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhlYWx0aHkgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGhlYWx0aHkgb3Igbm90XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzcGF0Y2hJbW1lZGlhdGVseSBib29sZWFuIGluZGljYXRpbmcgdG8gZGlzcGF0Y2ggZXZlbnQgaW1tZWRpYXRlbHkgZXZlbiBpZiB0aGUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHlcbiAgICovXG4gIF9zZXRIZWFsdGggPSAoaGVhbHRoeTogYm9vbGVhbiwgZGlzcGF0Y2hJbW1lZGlhdGVseSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGhlYWx0aHkgPT09IHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG5cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGhlYWx0aHk7XG5cbiAgICBpZiAodGhpcy5pc0hlYWx0aHkgfHwgZGlzcGF0Y2hJbW1lZGlhdGVseSkge1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICBvbmxpbmU6IHRoaXMuaXNIZWFsdGh5LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UncmUgb2ZmbGluZSwgd2FpdCBmZXcgc2Vjb25kcyBhbmQgZmlyZSBhbmQgZXZlbnQgaWYgc3RpbGwgb2ZmbGluZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgIG9ubGluZTogdGhpcy5pc0hlYWx0aHksXG4gICAgICB9KTtcbiAgICB9LCA1MDAwKTtcbiAgfTtcblxuICAvKipcbiAgICogX2Vycm9yRnJvbVdTRXZlbnQgLSBDcmVhdGVzIGFuIGVycm9yIG9iamVjdCBmb3IgdGhlIFdTIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIF9lcnJvckZyb21XU0V2ZW50ID0gKFxuICAgIGV2ZW50OiBDbG9zZUV2ZW50IHwgQ29ubmVjdGlvbkVycm9yRXZlbnQsXG4gICAgaXNXU0ZhaWx1cmUgPSB0cnVlLFxuICApID0+IHtcbiAgICBsZXQgY29kZTogbnVtYmVyO1xuICAgIGxldCBzdGF0dXNDb2RlOiBudW1iZXI7XG4gICAgbGV0IG1lc3NhZ2U6IHN0cmluZztcbiAgICBpZiAoaXNDbG9zZUV2ZW50KGV2ZW50KSkge1xuICAgICAgY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICBtZXNzYWdlID0gZXZlbnQucmVhc29uO1xuICAgICAgc3RhdHVzQ29kZSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGV2ZW50O1xuICAgICAgY29kZSA9IGVycm9yLmNvZGU7XG4gICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIHN0YXR1c0NvZGUgPSBlcnJvci5TdGF0dXNDb2RlO1xuICAgIH1cblxuICAgIGNvbnN0IG1zZyA9IGBXUyBmYWlsZWQgd2l0aCBjb2RlOiAke2NvZGV9OiAke0FQSUVycm9yQ29kZXNbY29kZV0gfHwgY29kZX0gYW5kIHJlYXNvbjogJHttZXNzYWdlfWA7XG4gICAgdGhpcy5fbG9nKG1zZywgeyBldmVudCB9LCAnd2FybicpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1zZykgYXMgRXJyb3IgJiB7XG4gICAgICBjb2RlPzogbnVtYmVyO1xuICAgICAgaXNXU0ZhaWx1cmU/OiBib29sZWFuO1xuICAgICAgU3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICB9O1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIC8qKlxuICAgICAqIFN0YXR1c0NvZGUgZG9lcyBub3QgZXhpc3Qgb24gYW55IGV2ZW50IHR5cGVzIGJ1dCBoYXMgYmVlbiBsZWZ0XG4gICAgICogYXMgaXMgdG8gcHJlc2VydmUgSlMgZnVuY3Rpb25hbGl0eSBkdXJpbmcgdGhlIFRTIGltcGxlbWVudGF0aW9uXG4gICAgICovXG4gICAgZXJyb3IuU3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgZXJyb3IuaXNXU0ZhaWx1cmUgPSBpc1dTRmFpbHVyZTtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbiAtIFJlbW92ZXMgdGhlIGN1cnJlbnQgV1MgY29ubmVjdGlvblxuICAgKlxuICAgKi9cbiAgX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCkge1xuICAgIC8vIGluY3JlbWVudCB0aGUgSUQsIG1lYW5pbmcgd2Ugd2lsbCBpZ25vcmUgYWxsIG1lc3NhZ2VzIGZyb20gdGhlIG9sZFxuICAgIC8vIHdzIGNvbm5lY3Rpb24gZnJvbSBub3cgb24uXG4gICAgdGhpcy53c0lEICs9IDE7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcz8ud3M/LmNsb3NlKCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyB3ZSBkb24ndCBjYXJlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9zZXR1cFByb21pc2UgLSBzZXRzIHVwIHRoZSB0aGlzLmNvbm5lY3RPcGVuIHByb21pc2VcbiAgICovXG4gIF9zZXR1cENvbm5lY3Rpb25Qcm9taXNlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNDb25uZWN0aW9uT3BlblJlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIG9uY2Ugd3Mub3BlbiBpcyBjYWxsZWQgKi9cbiAgICB0aGlzLmNvbm5lY3Rpb25PcGVuU2FmZSA9IG1ha2VTYWZlUHJvbWlzZShcbiAgICAgIG5ldyBQcm9taXNlPENvbm5lY3RlZEV2ZW50PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbm5lY3Rpb25PcGVuID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uT3BlbiA9IHJlamVjdDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgZ2V0IGNvbm5lY3Rpb25PcGVuKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25PcGVuU2FmZT8uKCk7XG4gIH1cblxuICAvKipcbiAgICogU2NoZWR1bGVzIGEgbmV4dCBoZWFsdGggY2hlY2sgcGluZyBmb3Igd2Vic29ja2V0LlxuICAgKi9cbiAgc2NoZWR1bGVOZXh0UGluZyA9ICgpID0+IHtcbiAgICBjb25zdCB0aW1lcnMgPSBnZXRUaW1lcnMoKTtcbiAgICBpZiAodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIHRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIC8vIDMwIHNlY29uZHMgaXMgdGhlIHJlY29tbWVuZGVkIGludGVydmFsIChtZXNzZW5nZXIgdXNlcyB0aGlzKVxuICAgIHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmID0gdGltZXJzLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gc2VuZCB0aGUgaGVhbHRoY2hlY2suLi4sIHNlcnZlciByZXBsaWVzIHdpdGggYSBoZWFsdGggY2hlY2sgZXZlbnRcbiAgICAgIGNvbnN0IGRhdGEgPSBbeyB0eXBlOiAnaGVhbHRoLmNoZWNrJywgY2xpZW50X2lkOiB0aGlzLmNsaWVudC5jbGllbnRJRCB9XTtcbiAgICAgIC8vIHRyeSB0byBzZW5kIG9uIHRoZSBjb25uZWN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLndzPy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBlcnJvciB3aWxsIGFscmVhZHkgYmUgZGV0ZWN0ZWQgZWxzZXdoZXJlXG4gICAgICB9XG4gICAgfSwgdGhpcy5waW5nSW50ZXJ2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIHNjaGVkdWxlcyBhIGNoZWNrIGZvciB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBsYXN0IHJlY2VpdmVkIGV2ZW50IGFuZCBub3cuXG4gICAqIElmIHRoZSBkaWZmZXJlbmNlIGlzIG1vcmUgdGhhbiAzNSBzZWNvbmRzLCBpdCBtZWFucyBvdXIgaGVhbHRoIGNoZWNrIGxvZ2ljIGhhcyBmYWlsZWQgYW5kIHdlYnNvY2tldCBuZWVkc1xuICAgKiB0byBiZSByZWNvbm5lY3RlZC5cbiAgICovXG4gIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgJiZcbiAgICAgICAgbm93LmdldFRpbWUoKSAtIHRoaXMubGFzdEV2ZW50LmdldFRpbWUoKSA+IHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZygnc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgLSBnb2luZyB0byByZWNvbm5lY3QnKTtcbiAgICAgICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRnJvbVRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgZnJhZ21lbnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgaWYgKGZyYWdtZW50cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3QgYjY0UGF5bG9hZCA9IGZyYWdtZW50c1sxXTtcbiAgY29uc3QgcGF5bG9hZCA9IGRlY29kZUJhc2U2NChiNjRQYXlsb2FkKTtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG4gIHJldHVybiBkYXRhLnVzZXJfaWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG4vLyBiYXNlLTY0IGRlY29kZXIgdGhyb3dzIGV4Y2VwdGlvbiBpZiBlbmNvZGVkIHN0cmluZyBpcyBub3QgcGFkZGVkIGJ5ICc9JyB0byBtYWtlIHN0cmluZyBsZW5ndGhcbi8vIGluIG11bHRpcGxlcyBvZiA0LiBTbyBnb25uYSB1c2Ugb3VyIG93biBtZXRob2QgZm9yIHRoaXMgcHVycG9zZSB0byBrZWVwIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDI2XG5jb25zdCBkZWNvZGVCYXNlNjQgPSAoczogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZSA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0sXG4gICAgdyA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgTCA9IHMubGVuZ3RoO1xuICBsZXQgaSxcbiAgICBiID0gMCxcbiAgICBjLFxuICAgIHgsXG4gICAgbCA9IDAsXG4gICAgYSxcbiAgICByID0gJyc7XG4gIGNvbnN0IEEgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgZVtBLmNoYXJBdChpKV0gPSBpO1xuICB9XG4gIGZvciAoeCA9IDA7IHggPCBMOyB4KyspIHtcbiAgICBjID0gZVtzLmNoYXJBdCh4KV07XG4gICAgYiA9IChiIDw8IDYpICsgYztcbiAgICBsICs9IDY7XG4gICAgd2hpbGUgKGwgPj0gOCkge1xuICAgICAgaWYgKChhID0gKGIgPj4+IChsIC09IDgpKSAmIDB4ZmYpIHx8IHggPCBMIC0gMikgciArPSB3KGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn07XG4iLCJpbXBvcnQgeyBnZXRVc2VyRnJvbVRva2VuIH0gZnJvbSAnLi9zaWduaW5nJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgVG9rZW5PclByb3ZpZGVyLCBVc2VyV2l0aElkIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVG9rZW5NYW5hZ2VyXG4gKlxuICogSGFuZGxlcyBhbGwgdGhlIG9wZXJhdGlvbnMgYXJvdW5kIHVzZXIgdG9rZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2tlbk1hbmFnZXIge1xuICBwcml2YXRlIGxvYWRUb2tlblByb21pc2U6IFByb21pc2U8c3RyaW5nPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHR5cGU6ICdzdGF0aWMnIHwgJ3Byb3ZpZGVyJyA9ICdzdGF0aWMnO1xuICBwcml2YXRlIHJlYWRvbmx5IHNlY3JldD86IHN0cmluZztcbiAgcHJpdmF0ZSB0b2tlbj86IHN0cmluZztcbiAgcHJpdmF0ZSB0b2tlblByb3ZpZGVyPzogVG9rZW5PclByb3ZpZGVyO1xuICBwcml2YXRlIHVzZXI/OiBVc2VyV2l0aElkO1xuICBwcml2YXRlIGlzQW5vbnltb3VzPzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihzZWNyZXQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRpYyBzdHJpbmcgdG9rZW4gb3IgdG9rZW4gcHJvdmlkZXIuXG4gICAqIFRva2VuIHByb3ZpZGVyIHNob3VsZCByZXR1cm4gYSB0b2tlbiBzdHJpbmcgb3IgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIHN0cmluZyB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHtUb2tlbk9yUHJvdmlkZXJ9IHRva2VuT3JQcm92aWRlciAtIHRoZSB0b2tlbiBvciB0b2tlbiBwcm92aWRlci5cbiAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2V9IHVzZXIgLSB0aGUgdXNlciBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBbm9ueW1vdXMgLSB3aGV0aGVyIHRoZSB1c2VyIGlzIGFub255bW91cyBvciBub3QuXG4gICAqL1xuICBzZXRUb2tlbk9yUHJvdmlkZXIgPSBhc3luYyAoXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICBpc0Fub255bW91czogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLmlzQW5vbnltb3VzID0gaXNBbm9ueW1vdXM7XG4gICAgdGhpcy52YWxpZGF0ZVRva2VuKHRva2VuT3JQcm92aWRlcik7XG5cbiAgICBpZiAoaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICB0aGlzLnRva2VuUHJvdmlkZXIgPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICB0aGlzLnR5cGUgPSAncHJvdmlkZXInO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy50b2tlbiA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubG9hZFRva2VuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgdG9rZW4gbWFuYWdlci5cbiAgICogVXNlZnVsIGZvciBjbGllbnQgZGlzY29ubmVjdGlvbiBvciBzd2l0Y2hpbmcgdXNlci5cbiAgICovXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50b2tlblByb3ZpZGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIHRoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuICB9O1xuXG4gIC8vIFZhbGlkYXRlcyB0aGUgdXNlciB0b2tlbi5cbiAgdmFsaWRhdGVUb2tlbiA9ICh0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcikgPT4ge1xuICAgIC8vIGFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9uIHVzZXJcbiAgICBpZiAodGhpcy51c2VyICYmIHRoaXMuaXNBbm9ueW1vdXMgJiYgIXRva2VuT3JQcm92aWRlcikgcmV0dXJuO1xuXG4gICAgLy8gRG9uJ3QgYWxsb3cgZW1wdHkgdG9rZW4gZm9yIG5vbi1zZXJ2ZXIgc2lkZSBjbGllbnQuXG4gICAgaWYgKCF0aGlzLnNlY3JldCAmJiAhdG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgdG9rZW4gY2FuIG5vdCBiZSBlbXB0eScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJiAhaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgdG9rZW4gc2hvdWxkIGVpdGhlciBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0b2tlbk9yUHJvdmlkZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBBbGxvdyBlbXB0eSB0b2tlbiBmb3IgYW5vbnltb3VzIHVzZXJzXG4gICAgICBpZiAodGhpcy5pc0Fub255bW91cyAmJiB0b2tlbk9yUHJvdmlkZXIgPT09ICcnKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHRva2VuVXNlcklkID0gZ2V0VXNlckZyb21Ub2tlbih0b2tlbk9yUHJvdmlkZXIpO1xuICAgICAgaWYgKFxuICAgICAgICB0b2tlbk9yUHJvdmlkZXIgIT0gbnVsbCAmJlxuICAgICAgICAodG9rZW5Vc2VySWQgPT0gbnVsbCB8fFxuICAgICAgICAgIHRva2VuVXNlcklkID09PSAnJyB8fFxuICAgICAgICAgICghdGhpcy5pc0Fub255bW91cyAmJiB0b2tlblVzZXJJZCAhPT0gdGhpcy51c2VyIS5pZCkpXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1c2VyVG9rZW4gZG9lcyBub3QgaGF2ZSBhIHVzZXJfaWQgb3IgaXMgbm90IG1hdGNoaW5nIHdpdGggdXNlci5pZCcsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc29sdmVzIHdoZW4gdG9rZW4gaXMgcmVhZHkuIFRoaXMgZnVuY3Rpb24gaXMgc2ltcGx5IHRvIGNoZWNrIGlmIGxvYWRUb2tlbiBpcyBpbiBwcm9ncmVzcywgaW4gd2hpY2hcbiAgLy8gY2FzZSBhIGZ1bmN0aW9uIHNob3VsZCB3YWl0LlxuICB0b2tlblJlYWR5ID0gKCkgPT4gdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuXG4gIC8vIEZldGNoZXMgYSB0b2tlbiBmcm9tIHRva2VuUHJvdmlkZXIgZnVuY3Rpb24gYW5kIHNldHMgaW4gdG9rZW5NYW5hZ2VyLlxuICAvLyBJbiBjYXNlIG9mIHN0YXRpYyB0b2tlbiwgaXQgd2lsbCBzaW1wbHkgcmVzb2x2ZSB0byBzdGF0aWMgdG9rZW4uXG4gIGxvYWRUb2tlbiA9ICgpID0+IHtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnc3RhdGljJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLnRva2VuIGFzIHN0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRva2VuUHJvdmlkZXIgJiYgdHlwZW9mIHRoaXMudG9rZW5Qcm92aWRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMudG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgIHRoaXMudmFsaWRhdGVUb2tlbih0b2tlbik7XG4gICAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBFcnJvcihgQ2FsbCB0byB0b2tlblByb3ZpZGVyIGZhaWxlZCB3aXRoIG1lc3NhZ2U6ICR7ZX1gLCB7XG4gICAgICAgICAgICAgIGNhdXNlOiBlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHRoaXMudG9rZW4pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgY3VycmVudCB0b2tlblxuICBnZXRUb2tlbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlciAmJiAhdGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFVzZXIgdG9rZW4gaXMgbm90IHNldC4gRWl0aGVyIGNsaWVudC5jb25uZWN0VXNlciB3YXNuJ3QgY2FsbGVkIG9yIGNsaWVudC5kaXNjb25uZWN0IHdhcyBjYWxsZWRgLFxuICAgICk7XG4gIH07XG5cbiAgaXNTdGF0aWMgPSAoKSA9PiB0aGlzLnR5cGUgPT09ICdzdGF0aWMnO1xufVxuIiwiaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IGdldExvY2F0aW9uSGludCA9IGFzeW5jIChcbiAgaGludFVybCA9IGBodHRwczovL2hpbnQuc3RyZWFtLWlvLXZpZGVvLmNvbS9gLFxuICB0aW1lb3V0ID0gMjAwMCxcbiAgbWF4QXR0ZW1wdHMgPSAzLFxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnbG9jYXRpb24taGludCddKTtcblxuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCBsb2NhdGlvbkhpbnQgPSAnRVJSJztcbiAgZG8ge1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChoaW50VXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGF3c1BvcCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFtei1jZi1wb3AnKSB8fCAnRVJSJztcbiAgICAgIGxvZ2dlcignZGVidWcnLCBgTG9jYXRpb24gaGVhZGVyOiAke2F3c1BvcH1gKTtcbiAgICAgIGxvY2F0aW9uSGludCA9IGF3c1BvcC5zdWJzdHJpbmcoMCwgMyk7IC8vIEFNUzEtUDIgLT4gQU1TXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBnZXQgbG9jYXRpb24gaGludCBmcm9tICR7aGludFVybH1gLCBlKTtcbiAgICAgIGxvY2F0aW9uSGludCA9ICdFUlInO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG4gIH0gd2hpbGUgKGxvY2F0aW9uSGludCA9PT0gJ0VSUicgJiYgKythdHRlbXB0IDwgbWF4QXR0ZW1wdHMpO1xuXG4gIHJldHVybiBsb2NhdGlvbkhpbnQ7XG59O1xuIiwiaW1wb3J0IGF4aW9zLCB7XG4gIEF4aW9zRXJyb3IsXG4gIEF4aW9zSW5zdGFuY2UsXG4gIEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgQXhpb3NSZXNwb25zZSxcbn0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCB7IFN0YWJsZVdTQ29ubmVjdGlvbiB9IGZyb20gJy4vY29ubmVjdGlvbic7XG5pbXBvcnQgeyBUb2tlbk1hbmFnZXIgfSBmcm9tICcuL3Rva2VuX21hbmFnZXInO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICBnZW5lcmF0ZVVVSUR2NCxcbiAgaXNFcnJvclJlc3BvbnNlLFxuICBpc0Z1bmN0aW9uLFxuICBLbm93bkNvZGVzLFxuICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIHJldHJ5SW50ZXJ2YWwsXG4gIHNsZWVwLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7XG4gIEFsbENsaWVudEV2ZW50cyxcbiAgQWxsQ2xpZW50RXZlbnRUeXBlcyxcbiAgQVBJRXJyb3JSZXNwb25zZSxcbiAgQ2xpZW50RXZlbnRMaXN0ZW5lcixcbiAgQ29ubmVjdEFQSVJlc3BvbnNlLFxuICBFcnJvckZyb21SZXNwb25zZSxcbiAgTG9nZ2VyLFxuICBTdHJlYW1DbGllbnRPcHRpb25zLFxuICBTdHJlYW1WaWRlb0V2ZW50LFxuICBUb2tlbk9yUHJvdmlkZXIsXG4gIFVzZXIsXG4gIFVzZXJXaXRoSWQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TG9jYXRpb25IaW50IH0gZnJvbSAnLi9sb2NhdGlvbic7XG5pbXBvcnQge1xuICBDb25uZWN0ZWRFdmVudCxcbiAgQ3JlYXRlR3Vlc3RSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxufSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgbWFrZVNhZmVQcm9taXNlLCB0eXBlIFNhZmVQcm9taXNlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9wcm9taXNlJztcbmltcG9ydCB7IGdldExvZ0xldmVsIH0gZnJvbSAnLi4vLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbUNsaWVudCB7XG4gIF91c2VyPzogVXNlcldpdGhJZDtcbiAgYW5vbnltb3VzOiBib29sZWFuO1xuICBwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU/OiBib29sZWFuO1xuICBheGlvc0luc3RhbmNlOiBBeGlvc0luc3RhbmNlO1xuICBiYXNlVVJMPzogc3RyaW5nO1xuICBicm93c2VyOiBib29sZWFuO1xuICBjbGllbnRJRD86IHN0cmluZztcbiAga2V5OiBzdHJpbmc7XG4gIGxpc3RlbmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8QWxsQ2xpZW50RXZlbnRUeXBlcywgQ2xpZW50RXZlbnRMaXN0ZW5lcjxhbnk+W10gfCB1bmRlZmluZWQ+XG4gID4gPSB7fTtcbiAgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJpdmF0ZSBsb2NhdGlvbkhpbnQ6IFByb21pc2U8c3RyaW5nPiB8IHVuZGVmaW5lZDtcblxuICBub2RlOiBib29sZWFuO1xuICBvcHRpb25zOiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIGNvbm5lY3RVc2VyVGFzazogQ29ubmVjdEFQSVJlc3BvbnNlIHwgbnVsbDtcbiAgdG9rZW5NYW5hZ2VyOiBUb2tlbk1hbmFnZXI7XG4gIHVzZXI/OiBVc2VyV2l0aElkO1xuICBwcml2YXRlIGNhY2hlZFVzZXJBZ2VudD86IHN0cmluZztcbiAgdXNlcklEPzogc3RyaW5nO1xuICB3c0Jhc2VVUkw/OiBzdHJpbmc7XG4gIHdzQ29ubmVjdGlvbjogU3RhYmxlV1NDb25uZWN0aW9uIHwgbnVsbDtcbiAgcHJpdmF0ZSB3c1Byb21pc2VTYWZlOiBTYWZlUHJvbWlzZTxDb25uZWN0ZWRFdmVudCB8IHVuZGVmaW5lZD4gfCBudWxsO1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIGRlZmF1bHRXU1RpbWVvdXQ6IG51bWJlcjtcbiAgcmVzb2x2ZUNvbm5lY3Rpb25JZD86IEZ1bmN0aW9uO1xuICByZWplY3RDb25uZWN0aW9uSWQ/OiBGdW5jdGlvbjtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uSWRQcm9taXNlU2FmZT86IFNhZmVQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGd1ZXN0VXNlckNyZWF0ZVByb21pc2U/OiBQcm9taXNlPENyZWF0ZUd1ZXN0UmVzcG9uc2U+O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGFwaSBrZXlcbiAgICogQHBhcmFtIHtTdHJlYW1DbGllbnRPcHRpb25zfSBbb3B0aW9uc10gLSBhZGRpdGlvbmFsIG9wdGlvbnMsIGhlcmUgeW91IGNhbiBwYXNzIGN1c3RvbSBvcHRpb25zIHRvIGF4aW9zIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zZWNyZXRdIC0gdGhlIGFwaSBzZWNyZXRcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5icm93c2VyXSAtIGVuZm9yY2UgdGhlIGNsaWVudCB0byBiZSBpbiBicm93c2VyIG1vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YXJtVXBdIC0gZGVmYXVsdCB0byBmYWxzZSwgaWYgdHJ1ZSwgY2xpZW50IHdpbGwgb3BlbiBhIGNvbm5lY3Rpb24gYXMgc29vbiBhcyBwb3NzaWJsZSB0byBzcGVlZCB1cCBmb2xsb3dpbmcgcmVxdWVzdHNcbiAgICogQHBhcmFtIHtMb2dnZXJ9IFtvcHRpb25zLkxvZ2dlcl0gLSBjdXN0b20gbG9nZ2VyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0XSAtIGRlZmF1bHQgdG8gMzAwMFxuICAgKiBAcGFyYW0ge2h0dHBzQWdlbnR9IFtvcHRpb25zLmh0dHBzQWdlbnRdIC0gY3VzdG9tIGh0dHBzQWdlbnQsIGluIG5vZGUgaXQncyBkZWZhdWx0IHRvIGh0dHBzLmFnZW50KClcbiAgICovXG4gIGNvbnN0cnVjdG9yKGtleTogc3RyaW5nLCBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucykge1xuICAgIC8vIHNldCB0aGUga2V5XG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICAvLyBzZXQgdGhlIHNlY3JldFxuICAgIHRoaXMuc2VjcmV0ID0gb3B0aW9ucz8uc2VjcmV0O1xuXG4gICAgLy8gc2V0IHRoZSBvcHRpb25zLi4uIGFuZCBmaWd1cmUgb3V0IGRlZmF1bHRzLi4uXG4gICAgY29uc3QgaW5wdXRPcHRpb25zID0gb3B0aW9uc1xuICAgICAgPyBvcHRpb25zXG4gICAgICA6ICh7XG4gICAgICAgICAgYnJvd3NlcjogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICAgIH0gYXMgUGFydGlhbDxTdHJlYW1DbGllbnRPcHRpb25zPik7XG5cbiAgICB0aGlzLmJyb3dzZXIgPSBpbnB1dE9wdGlvbnMuYnJvd3NlciB8fCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgICB0aGlzLm5vZGUgPSAhdGhpcy5icm93c2VyO1xuXG4gICAgaWYgKHRoaXMuYnJvd3Nlcikge1xuICAgICAgdGhpcy5sb2NhdGlvbkhpbnQgPSBnZXRMb2NhdGlvbkhpbnQoXG4gICAgICAgIG9wdGlvbnM/LmxvY2F0aW9uSGludFVybCxcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50VGltZW91dCxcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50TWF4QXR0ZW1wdHMsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLCAvLyBtYWtpbmcgc3VyZSBjb29raWVzIGFyZSBub3Qgc2VudFxuICAgICAgLi4uaW5wdXRPcHRpb25zLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5ub2RlICYmICF0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCkge1xuICAgICAgdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoe1xuICAgICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgICAgIGtlZXBBbGl2ZU1zZWNzOiAzMDAwLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRCYXNlVVJMKFxuICAgICAgdGhpcy5vcHRpb25zLmJhc2VVUkwgfHwgJ2h0dHBzOi8vdmlkZW8uc3RyZWFtLWlvLWFwaS5jb20vdmlkZW8nLFxuICAgICk7XG5cbiAgICB0aGlzLmF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgYmFzZVVSTDogdGhpcy5iYXNlVVJMLFxuICAgIH0pO1xuXG4gICAgLy8gV1MgY29ubmVjdGlvbiBpcyBpbml0aWFsaXplZCB3aGVuIHNldFVzZXIgaXMgY2FsbGVkXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIHRoaXMud3NQcm9taXNlU2FmZSA9IG51bGw7XG4gICAgdGhpcy5jb25uZWN0VXNlclRhc2sgPSBudWxsO1xuXG4gICAgLy8gbWFwcGluZyBiZXR3ZWVuIGNoYW5uZWwgZ3JvdXBzIGFuZCBjb25maWdzXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICB0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSA9XG4gICAgICB0aGlzLm9wdGlvbnM/LnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTtcblxuICAgIC8vIElmIGl0IGlzIGEgc2VydmVyLXNpZGUgY2xpZW50LCB0aGVuIGxldHMgaW5pdGlhbGl6ZSB0aGUgdG9rZW5NYW5hZ2VyLCBzaW5jZSB0b2tlbiB3aWxsIGJlXG4gICAgLy8gZ2VuZXJhdGVkIGZyb20gc2VjcmV0LlxuICAgIHRoaXMudG9rZW5NYW5hZ2VyID0gbmV3IFRva2VuTWFuYWdlcih0aGlzLnNlY3JldCk7XG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcblxuICAgIHRoaXMuZGVmYXVsdFdTVGltZW91dCA9IHRoaXMub3B0aW9ucy5kZWZhdWx0V3NUaW1lb3V0ID8/IDE1MDAwO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBpc0Z1bmN0aW9uKGlucHV0T3B0aW9ucy5sb2dnZXIpXG4gICAgICA/IGlucHV0T3B0aW9ucy5sb2dnZXJcbiAgICAgIDogKCkgPT4gbnVsbDtcbiAgfVxuXG4gIGdldEF1dGhUeXBlID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmFub255bW91cyA/ICdhbm9ueW1vdXMnIDogJ2p3dCc7XG4gIH07XG5cbiAgc2V0QmFzZVVSTCA9IChiYXNlVVJMOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMud3NCYXNlVVJMID0gdGhpcy5iYXNlVVJMXG4gICAgICAucmVwbGFjZSgnaHR0cCcsICd3cycpXG4gICAgICAucmVwbGFjZSgnOjMwMzAnLCAnOjg4MDAnKTtcbiAgfTtcblxuICBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gICAgaGludFVybD86IHN0cmluZyxcbiAgICB0aW1lb3V0PzogbnVtYmVyLFxuICApOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IGhpbnQgPSBhd2FpdCB0aGlzLmxvY2F0aW9uSGludDtcbiAgICBpZiAoIWhpbnQgfHwgaGludCA9PT0gJ0VSUicpIHtcbiAgICAgIHRoaXMubG9jYXRpb25IaW50ID0gZ2V0TG9jYXRpb25IaW50KFxuICAgICAgICBoaW50VXJsID8/IHRoaXMub3B0aW9ucy5sb2NhdGlvbkhpbnRVcmwsXG4gICAgICAgIHRpbWVvdXQgPz8gdGhpcy5vcHRpb25zLmxvY2F0aW9uSGludFRpbWVvdXQsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25IaW50O1xuICAgIH1cbiAgICByZXR1cm4gaGludDtcbiAgfTtcblxuICBfZ2V0Q29ubmVjdGlvbklEID0gKCkgPT4gdGhpcy53c0Nvbm5lY3Rpb24/LmNvbm5lY3Rpb25JRDtcblxuICBfaGFzQ29ubmVjdGlvbklEID0gKCkgPT4gQm9vbGVhbih0aGlzLl9nZXRDb25uZWN0aW9uSUQoKSk7XG5cbiAgLyoqXG4gICAqIGNvbm5lY3RVc2VyIC0gU2V0IHRoZSBjdXJyZW50IHVzZXIgYW5kIG9wZW4gYSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gdXNlciBEYXRhIGFib3V0IHRoaXMgdXNlci4gSUUge25hbWU6IFwiam9oblwifVxuICAgKiBAcGFyYW0ge1Rva2VuT3JQcm92aWRlcn0gdG9rZW5PclByb3ZpZGVyIFRva2VuIG9yIHByb3ZpZGVyXG4gICAqXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIHNldHVwXG4gICAqL1xuICBjb25uZWN0VXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICApOiBDb25uZWN0QVBJUmVzcG9uc2UgPT4ge1xuICAgIGlmICghdXNlci5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJpZFwiIGZpZWxkIG9uIHRoZSB1c2VyIGlzIG1pc3NpbmcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsaW5nIGNvbm5lY3RVc2VyIG11bHRpcGxlIHRpbWVzIGlzIHBvdGVudGlhbGx5IHRoZSByZXN1bHQgb2YgYSAgYmFkIGludGVncmF0aW9uLCBob3dldmVyLFxuICAgICAqIElmIHRoZSB1c2VyIGlkIHJlbWFpbnMgdGhlIHNhbWUgd2UgZG9uJ3QgdGhyb3cgZXJyb3JcbiAgICAgKi9cbiAgICBpZiAodGhpcy51c2VySUQgPT09IHVzZXIuaWQgJiYgdGhpcy5jb25uZWN0VXNlclRhc2spIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdDb25zZWN1dGl2ZSBjYWxscyB0byBjb25uZWN0VXNlciBpcyBkZXRlY3RlZCwgaWRlYWxseSB5b3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgaW4geW91ciBhcHAuJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0VXNlclRhc2s7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlcklEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVc2UgY2xpZW50LmRpc2Nvbm5lY3QoKSBiZWZvcmUgdHJ5aW5nIHRvIGNvbm5lY3QgYXMgYSBkaWZmZXJlbnQgdXNlci4gY29ubmVjdFVzZXIgd2FzIGNhbGxlZCB0d2ljZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuc2VjcmV0IHx8IHRoaXMubm9kZSkgJiYgIXRoaXMub3B0aW9ucy5hbGxvd1NlcnZlclNpZGVDb25uZWN0KSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnUGxlYXNlIGRvIG5vdCB1c2UgY29ubmVjdFVzZXIgc2VydmVyIHNpZGUuIFVzZSBvdXIgQHN0cmVhbS1pby9ub2RlLXNkayBpbnN0ZWFkOiBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL2FwaS8nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyB3ZSBnZW5lcmF0ZSB0aGUgY2xpZW50IGlkIGNsaWVudCBzaWRlXG4gICAgdGhpcy51c2VySUQgPSB1c2VyLmlkO1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy50b2tlbk1hbmFnZXIuc2V0VG9rZW5PclByb3ZpZGVyKHRva2VuT3JQcm92aWRlciwgdXNlciwgZmFsc2UpO1xuICAgIHRoaXMuX3NldFVzZXIodXNlcik7XG5cbiAgICB0aGlzLmNvbm5lY3RVc2VyVGFzayA9IHRoaXMub3BlbkNvbm5lY3Rpb24oKTtcblxuICAgIHRyeSB7XG4gICAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy51cGRhdGVOZXR3b3JrQ29ubmVjdGlvblN0YXR1cyk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0VXNlclRhc2s7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAodGhpcy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUpIHtcbiAgICAgICAgLy8gY2xlYW51cCBjbGllbnQgdG8gYWxsb3cgdGhlIHVzZXIgdG8gcmV0cnkgY29ubmVjdFVzZXIgYWdhaW5cbiAgICAgICAgYXdhaXQgdGhpcy5jbG9zZUNvbm5lY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdFVzZXIoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgX3NldFVzZXIgPSAodXNlcjogVXNlcldpdGhJZCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgb25lIGlzIHVzZWQgYnkgdGhlIGZyb250ZW5kLiBUaGlzIGlzIGEgY29weSBvZiB0aGUgY3VycmVudCB1c2VyIG9iamVjdCBzdG9yZWQgb24gYmFja2VuZC5cbiAgICAgKiBJdCBjb250YWlucyByZXNlcnZlZCBwcm9wZXJ0aWVzIGFuZCBvd24gdXNlciBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJlc2VudCBpbiBgdGhpcy5fdXNlcmAuXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgLy8gdGhpcyBvbmUgaXMgYWN0dWFsbHkgdXNlZCBmb3IgcmVxdWVzdHMuIFRoaXMgaXMgYSBjb3B5IG9mIGN1cnJlbnQgdXNlciBwcm92aWRlZCB0byBgY29ubmVjdFVzZXJgIGZ1bmN0aW9uLlxuICAgIHRoaXMuX3VzZXIgPSB7IC4uLnVzZXIgfTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLCB3aXRob3V0IHJlbW92aW5nIHRoZSB1c2VyIHNldCBvbiBjbGllbnQuXG4gICAqIGNsaWVudC5jbG9zZUNvbm5lY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBkZWZhdWx0IGF1dG8tcmV0cnkgbWVjaGFuaXNtIGZvciByZWNvbm5lY3Rpb24uIFlvdSBuZWVkXG4gICAqIHRvIGNhbGwgY2xpZW50Lm9wZW5Db25uZWN0aW9uIHRvIHJlY29ubmVjdCB0byB3ZWJzb2NrZXQuXG4gICAqXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBvbiBtb2JpbGUgc2lkZS4gWW91IGNhbiBvbmx5IHJlY2VpdmUgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIGlmIHlvdSBkb24ndCBoYXZlIGFjdGl2ZSB3ZWJzb2NrZXQgY29ubmVjdGlvbi5cbiAgICogU28gd2hlbiB5b3VyIGFwcCBnb2VzIHRvIGJhY2tncm91bmQsIHlvdSBjYW4gY2FsbCBgY2xpZW50LmNsb3NlQ29ubmVjdGlvbmAuXG4gICAqIEFuZCB3aGVuIGFwcCBjb21lcyBiYWNrIHRvIGZvcmVncm91bmQsIGNhbGwgYGNsaWVudC5vcGVuQ29ubmVjdGlvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2VzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBjbG9zZUNvbm5lY3Rpb24gPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uPy5kaXNjb25uZWN0KHRpbWVvdXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIHdpdGggdGhlIGN1cnJlbnQgdXNlci4gUmV0dXJucyBlbXB0eSBwcm9taXNlLCBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgY29ubmVjdGlvblxuICAgKi9cbiAgb3BlbkNvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnVzZXJJRCkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdVc2VyV2l0aElkIGlzIG5vdCBzZXQgb24gY2xpZW50LCB1c2UgY2xpZW50LmNvbm5lY3RVc2VyIG9yIGNsaWVudC5jb25uZWN0QW5vbnltb3VzVXNlciBpbnN0ZWFkJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgd3NQcm9taXNlID0gdGhpcy53c1Byb21pc2VTYWZlPy4oKTtcbiAgICBpZiAodGhpcy53c0Nvbm5lY3Rpb24/LmlzQ29ubmVjdGluZyAmJiB3c1Byb21pc2UpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcycsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGF3YWl0IHdzUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53c0Nvbm5lY3Rpb24/LmlzSGVhbHRoeSAmJiB0aGlzLl9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgJ2NsaWVudDpvcGVuQ29ubmVjdGlvbigpIC0gb3BlbkNvbm5lY3Rpb24gY2FsbGVkIHR3aWNlLCBoZWFsdGh5IGNvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMnLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuXG4gICAgdGhpcy5jbGllbnRJRCA9IGAke3RoaXMudXNlcklEfS0tJHtnZW5lcmF0ZVVVSUR2NCgpfWA7XG4gICAgY29uc3QgbmV3V3NQcm9taXNlID0gdGhpcy5jb25uZWN0KCk7XG4gICAgdGhpcy53c1Byb21pc2VTYWZlID0gbWFrZVNhZmVQcm9taXNlKG5ld1dzUHJvbWlzZSk7XG4gICAgcmV0dXJuIGF3YWl0IG5ld1dzUHJvbWlzZTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBhbmQgcmVtb3ZlcyB0aGUgdXNlciBmcm9tIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBkaXNjb25uZWN0VXNlciA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50OmRpc2Nvbm5lY3QoKSAtIERpc2Nvbm5lY3RpbmcgdGhlIGNsaWVudCcpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSB1c2VyIHNwZWNpZmljIGZpZWxkc1xuICAgIGRlbGV0ZSB0aGlzLnVzZXI7XG4gICAgZGVsZXRlIHRoaXMuX3VzZXI7XG4gICAgZGVsZXRlIHRoaXMudXNlcklEO1xuXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcblxuICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9uKHRpbWVvdXQpO1xuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcblxuICAgIHRoaXMudG9rZW5NYW5hZ2VyLnJlc2V0KCk7XG5cbiAgICB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVqZWN0Q29ubmVjdGlvbklkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVzb2x2ZUNvbm5lY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICBjb25uZWN0R3Vlc3RVc2VyID0gYXN5bmMgKHVzZXI6IFVzZXIgJiB7IHR5cGU6ICdndWVzdCcgfSkgPT4ge1xuICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSA9IHRoaXMuZG9BeGlvc1JlcXVlc3Q8XG4gICAgICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxuICAgICAgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAgPigncG9zdCcsICcvZ3Vlc3QnLCB7IHVzZXIgfSwgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlO1xuICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZS5maW5hbGx5KFxuICAgICAgKCkgPT4gKHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSA9IHVuZGVmaW5lZCksXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmNvbm5lY3RVc2VyKHJlc3BvbnNlLnVzZXIsIHJlc3BvbnNlLmFjY2Vzc190b2tlbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNvbm5lY3RBbm9ueW1vdXNVc2VyIC0gU2V0IGFuIGFub255bW91cyB1c2VyIGFuZCBvcGVuIGEgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICovXG4gIGNvbm5lY3RBbm9ueW1vdXNVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICkgPT4ge1xuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcbiAgICB0aGlzLl9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcblxuICAgIHRoaXMuYW5vbnltb3VzID0gdHJ1ZTtcbiAgICBhd2FpdCB0aGlzLnRva2VuTWFuYWdlci5zZXRUb2tlbk9yUHJvdmlkZXIodG9rZW5PclByb3ZpZGVyLCB1c2VyLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldFVzZXIodXNlcik7XG4gICAgLy8gc29tZSBlbmRwb2ludHMgcmVxdWlyZSBhIGNvbm5lY3Rpb25faWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgLy8gYXMgYW5vbnltb3VzIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG9wZW4gV1MgY29ubmVjdGlvbnMsIHdlIGp1c3RcbiAgICAvLyByZXNvbHZlIHRoZSBjb25uZWN0aW9uX2lkIGhlcmUuXG4gICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkPy4oKTtcbiAgfTtcblxuICAvKipcbiAgICogb24gLSBMaXN0ZW4gdG8gZXZlbnRzIG9uIGFsbCBjaGFubmVscyBhbmQgdXNlcnMgeW91ciB3YXRjaGluZ1xuICAgKlxuICAgKiBjbGllbnQub24oJ21lc3NhZ2UubmV3JywgZXZlbnQgPT4ge2NvbnNvbGUubG9nKFwibXkgbmV3IG1lc3NhZ2VcIiwgZXZlbnQsIGNoYW5uZWwuc3RhdGUubWVzc2FnZXMpfSlcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIChvcHRpb25hbClcbiAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsXG4gICAqXG4gICAqIEByZXR1cm4gIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHVuc3Vic2NyaWJlcyB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEFkZGluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXT8ucHVzaChjYWxsYmFjayBhcyBDbGllbnRFdmVudExpc3RlbmVyPGFueT4pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBvZmYgLSBSZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBSZW1vdmluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0/LmZpbHRlcihcbiAgICAgICh2YWx1ZSkgPT4gdmFsdWUgIT09IGNhbGxiYWNrLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNldHMgdXAgdGhlIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVxuICAgKi9cbiAgX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSA9ICgpID0+IHtcbiAgICAvKiogYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSBjb25uZWN0aW9uIGlkIGlzIHNldCAqL1xuICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVNhZmUgPSBtYWtlU2FmZVByb21pc2UoXG4gICAgICBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uSWQgPSByZWplY3Q7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIGdldCBjb25uZWN0aW9uSWRQcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlPy4oKTtcbiAgfVxuXG4gIGdldCBpc0Nvbm5lY3Rpb25Jc1Byb21pc2VQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlPy5jaGVja1BlbmRpbmcoKSA/PyBmYWxzZTtcbiAgfVxuXG4gIGdldCB3c1Byb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMud3NQcm9taXNlU2FmZT8uKCk7XG4gIH1cblxuICBfbG9nQXBpUmVxdWVzdCA9IChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogdW5rbm93bixcbiAgICBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgIH0sXG4gICkgPT4ge1xuICAgIGlmIChnZXRMb2dMZXZlbCgpICE9PSAndHJhY2UnKSByZXR1cm47XG4gICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgYGNsaWVudDogJHt0eXBlfSAtIFJlcXVlc3QgLSAke3VybH1gLCB7XG4gICAgICBwYXlsb2FkOiBkYXRhLFxuICAgICAgY29uZmlnLFxuICAgIH0pO1xuICB9O1xuXG4gIF9sb2dBcGlSZXNwb25zZSA9IDxUPihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD4sXG4gICkgPT4ge1xuICAgIGlmIChnZXRMb2dMZXZlbCgpICE9PSAndHJhY2UnKSByZXR1cm47XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAndHJhY2UnLFxuICAgICAgYGNsaWVudDoke3R5cGV9IC0gUmVzcG9uc2UgLSB1cmw6ICR7dXJsfSA+IHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gLFxuICAgICAge1xuICAgICAgICByZXNwb25zZSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBkb0F4aW9zUmVxdWVzdCA9IGFzeW5jIDxULCBEID0gdW5rbm93bj4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIG9wdGlvbnM6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgICAgcHVibGljRW5kcG9pbnQ/OiBib29sZWFuO1xuICAgIH0gPSB7fSxcbiAgKTogUHJvbWlzZTxUPiA9PiB7XG4gICAgaWYgKCFvcHRpb25zLnB1YmxpY0VuZHBvaW50KSB7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKSxcbiAgICAgICAgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlLFxuICAgICAgXSk7XG4gICAgICAvLyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHByZXNlbmNlIG9mIGNvbm5lY3Rpb24gaWQgYmVmb3JlIG1ha2luZyByZXF1ZXN0c1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uSWRQcm9taXNlO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIGluIGNhc2UgY29ubmVjdGlvbiBpZCB3YXMgcmVqZWN0ZWRcbiAgICAgICAgLy8gcmVjb25uZWN0aW9uIG1heWJlIGluIHByb2dyZXNzXG4gICAgICAgIC8vIHdlIGNhbiB3YWl0IGZvciBoZWFsdGh5IGNvbm5lY3Rpb24gdG8gcmVzb2x2ZSwgd2hpY2ggcmVqZWN0cyB3aGVuIDE1cyB0aW1lb3V0IGlzIHJlYWNoZWRcbiAgICAgICAgYXdhaXQgdGhpcy53c0Nvbm5lY3Rpb24/Ll93YWl0Rm9ySGVhbHRoeSgpO1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RDb25maWcgPSB0aGlzLl9lbnJpY2hBeGlvc09wdGlvbnMob3B0aW9ucyk7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPjtcbiAgICAgIHRoaXMuX2xvZ0FwaVJlcXVlc3QodHlwZSwgdXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdnZXQnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLmdldCh1cmwsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLmRlbGV0ZSh1cmwsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwb3N0JzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5wb3N0KHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3B1dCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UucHV0KHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BhdGNoJzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5wYXRjaCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvcHRpb25zJzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5vcHRpb25zKHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlcXVlc3QgdHlwZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbG9nQXBpUmVzcG9uc2U8VD4odHlwZSwgdXJsLCByZXNwb25zZSk7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZTogYW55IC8qKlRPRE86IGdlbmVyYWxpemUgZXJyb3IgdHlwZXMgICovKSB7XG4gICAgICBlLmNsaWVudF9yZXF1ZXN0X2lkID0gcmVxdWVzdENvbmZpZy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXTtcblxuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBlO1xuICAgICAgaWYgKCFyZXNwb25zZSB8fCAhaXNFcnJvclJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgY2xpZW50OiR7dHlwZX0gdXJsOiAke3VybH1gLCBlKTtcbiAgICAgICAgdGhyb3cgZSBhcyBBeGlvc0Vycm9yPEFQSUVycm9yUmVzcG9uc2U+O1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGRhdGE6IHJlc3BvbnNlRGF0YSwgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICAgIGNvbnN0IGlzVG9rZW5FeHBpcmVkID0gcmVzcG9uc2VEYXRhLmNvZGUgPT09IEtub3duQ29kZXMuVE9LRU5fRVhQSVJFRDtcbiAgICAgIGlmIChpc1Rva2VuRXhwaXJlZCAmJiAhdGhpcy50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKSkge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBjbGllbnQ6JHt0eXBlfTogdXJsOiAke3VybH1gLCByZXNwb25zZSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPiAxKSB7XG4gICAgICAgICAgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWZyZXNoIGFuZCByZXRyeSB0aGUgcmVxdWVzdFxuICAgICAgICBhd2FpdCB0aGlzLnRva2VuTWFuYWdlci5sb2FkVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4odHlwZSwgdXJsLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBjbGllbnQ6JHt0eXBlfSB1cmw6ICR7dXJsfWAsIHJlc3BvbnNlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yRnJvbVJlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+KHtcbiAgICAgICAgICBtZXNzYWdlOiBgU3RyZWFtIGVycm9yIGNvZGUgJHtyZXNwb25zZURhdGEuY29kZX06ICR7cmVzcG9uc2VEYXRhLm1lc3NhZ2V9YCxcbiAgICAgICAgICBjb2RlOiByZXNwb25zZURhdGEuY29kZSA/PyBudWxsLFxuICAgICAgICAgIHVucmVjb3ZlcmFibGU6IHJlc3BvbnNlRGF0YS51bnJlY292ZXJhYmxlID8/IG51bGwsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZ2V0ID0gPFQ+KHVybDogc3RyaW5nLCBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgdW5rbm93bj4oJ2dldCcsIHVybCwgbnVsbCwge1xuICAgICAgcGFyYW1zLFxuICAgIH0pO1xuICB9O1xuXG4gIHB1dCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3B1dCcsIHVybCwgZGF0YSwgeyBwYXJhbXMgfSk7XG4gIH07XG5cbiAgcG9zdCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3Bvc3QnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIHBhdGNoID0gPFQsIEQgPSB1bmtub3duPihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCBEPigncGF0Y2gnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIGRlbGV0ZSA9IDxUPih1cmw6IHN0cmluZywgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIHVua25vd24+KCdkZWxldGUnLCB1cmwsIG51bGwsIHtcbiAgICAgIHBhcmFtcyxcbiAgICB9KTtcbiAgfTtcblxuICBkaXNwYXRjaEV2ZW50ID0gKGV2ZW50OiBTdHJlYW1WaWRlb0V2ZW50KSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYERpc3BhdGNoaW5nIGV2ZW50OiAke2V2ZW50LnR5cGV9YCwgZXZlbnQpO1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMpIHJldHVybjtcblxuICAgIC8vIGNhbGwgZ2VuZXJpYyBsaXN0ZW5lcnNcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzLmFsbCB8fCBbXSkge1xuICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIGNhbGwgdHlwZSBzcGVjaWZpYyBsaXN0ZW5lcnNcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdIHx8IFtdKSB7XG4gICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXRoaXMudXNlcklEIHx8ICF0aGlzLl91c2VyKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgJ0NhbGwgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgYmVmb3JlIHN0YXJ0aW5nIHRoZSBjb25uZWN0aW9uJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghdGhpcy53c0Jhc2VVUkwpIHRocm93IEVycm9yKCdXZWJzb2NrZXQgYmFzZSB1cmwgbm90IHNldCcpO1xuICAgIGlmICghdGhpcy5jbGllbnRJRCkgdGhyb3cgRXJyb3IoJ2NsaWVudElEIGlzIG5vdCBzZXQnKTtcblxuICAgIC8vIFRoZSBTdGFibGVXU0Nvbm5lY3Rpb24gaGFuZGxlcyBhbGwgdGhlIHJlY29ubmVjdGlvbiBsb2dpYy5cbiAgICB0aGlzLndzQ29ubmVjdGlvbiA9IG5ldyBTdGFibGVXU0Nvbm5lY3Rpb24odGhpcyk7XG5cbiAgICB0aGlzLmxvZ2dlcignaW5mbycsICdTdHJlYW1DbGllbnQuY29ubmVjdDogdGhpcy53c0Nvbm5lY3Rpb24uY29ubmVjdCgpJyk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QodGhpcy5kZWZhdWx0V1NUaW1lb3V0KTtcbiAgfTtcblxuICBnZXRVc2VyQWdlbnQgPSAoKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIXRoaXMuY2FjaGVkVXNlckFnZW50KSB7XG4gICAgICBjb25zdCB7IGNsaWVudEFwcElkZW50aWZpZXIgPSB7fSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgY29uc3Qge1xuICAgICAgICBzZGtOYW1lID0gJ2pzJyxcbiAgICAgICAgc2RrVmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMCcsXG4gICAgICAgIC4uLmV4dHJhc1xuICAgICAgfSA9IGNsaWVudEFwcElkZW50aWZpZXI7XG5cbiAgICAgIHRoaXMuY2FjaGVkVXNlckFnZW50ID0gW1xuICAgICAgICBgc3RyZWFtLXZpZGVvLSR7c2RrTmFtZX0tdiR7c2RrVmVyc2lvbn1gLFxuICAgICAgICAuLi5PYmplY3QuZW50cmllcyhleHRyYXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9PSR7dmFsdWV9YCksXG4gICAgICAgIGBjbGllbnRfYnVuZGxlPSR7cHJvY2Vzcy5lbnYuQ0xJRU5UX0JVTkRMRSB8fCAodGhpcy5ub2RlID8gJ25vZGUnIDogJ2Jyb3dzZXInKX1gLFxuICAgICAgXS5qb2luKCd8Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVkVXNlckFnZW50O1xuICB9O1xuXG4gIF9lbnJpY2hBeGlvc09wdGlvbnMgPSAoXG4gICAgb3B0aW9uczogQXhpb3NSZXF1ZXN0Q29uZmlnICYgeyBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcgfSAmIHtcbiAgICAgIHB1YmxpY0VuZHBvaW50PzogYm9vbGVhbjtcbiAgICB9ID0ge1xuICAgICAgcGFyYW1zOiB7fSxcbiAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgY29uZmlnOiB7fSxcbiAgICB9LFxuICApOiBBeGlvc1JlcXVlc3RDb25maWcgPT4ge1xuICAgIGNvbnN0IHRva2VuID1cbiAgICAgIG9wdGlvbnMucHVibGljRW5kcG9pbnQgJiYgIXRoaXMudXNlciA/IHVuZGVmaW5lZCA6IHRoaXMuX2dldFRva2VuKCk7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHRva2VuID8geyBBdXRob3JpemF0aW9uOiB0b2tlbiB9IDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnM/LlsneC1jbGllbnQtcmVxdWVzdC1pZCddKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiBnZW5lcmF0ZVVVSUR2NCgpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcklELFxuICAgICAgICBjb25uZWN0aW9uX2lkOiB0aGlzLl9nZXRDb25uZWN0aW9uSUQoKSxcbiAgICAgICAgYXBpX2tleTogdGhpcy5rZXksXG4gICAgICAgIC4uLm9wdGlvbnMucGFyYW1zLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uYXV0aG9yaXphdGlvbixcbiAgICAgICAgJ3N0cmVhbS1hdXRoLXR5cGUnOlxuICAgICAgICAgIG9wdGlvbnMucHVibGljRW5kcG9pbnQgJiYgIXRoaXMudXNlclxuICAgICAgICAgICAgPyAnYW5vbnltb3VzJ1xuICAgICAgICAgICAgOiB0aGlzLmdldEF1dGhUeXBlKCksXG4gICAgICAgICdYLVN0cmVhbS1DbGllbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucy5jb25maWcsXG4gICAgICAuLi50aGlzLm9wdGlvbnMuYXhpb3NSZXF1ZXN0Q29uZmlnLFxuICAgIH07XG4gIH07XG5cbiAgX2dldFRva2VuID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy50b2tlbk1hbmFnZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXMudG9rZW5NYW5hZ2VyLmdldFRva2VuKCk7XG4gIH07XG5cbiAgdXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMgPSAoXG4gICAgZXZlbnQ6IHsgdHlwZTogJ29ubGluZScgfCAnb2ZmbGluZScgfSB8IEV2ZW50LFxuICApID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnZGV2aWNlIHdlbnQgb2ZmbGluZScpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCcsIG9ubGluZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ2RldmljZSB3ZW50IG9ubGluZScpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCcsIG9ubGluZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgdHlwZSB7XG4gIENsaWVudEFwcElkZW50aWZpZXIsXG4gIFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gIFRva2VuT3JQcm92aWRlcixcbiAgVXNlcixcbn0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHsgZ2V0U2RrSW5mbyB9IGZyb20gJy4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgU2RrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVZpZGVvQ2xpZW50T3B0aW9ucyB9IGZyb20gJy4uL1N0cmVhbVZpZGVvQ2xpZW50JztcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Uga2V5LlxuICovXG5leHBvcnQgY29uc3QgZ2V0SW5zdGFuY2VLZXkgPSAoYXBpS2V5OiBzdHJpbmcsIHVzZXI6IFVzZXIpID0+IHtcbiAgcmV0dXJuIGAke2FwaUtleX0vJHt1c2VyLmlkfWA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb25jdXJyZW5jeSB0YWcgZm9yIGNhbGwgaW5pdGlhbGl6YXRpb24uXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAcGFyYW0gY2lkIHRoZSBjYWxsIGNpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENhbGxJbml0Q29uY3VycmVuY3lUYWcgPSAoY2lkOiBzdHJpbmcpID0+IGBjYWxsLmluaXQtJHtjaWR9YDtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpZW50IGFwcCBpZGVudGlmaWVyLlxuICovXG5jb25zdCBnZXRDbGllbnRBcHBJZGVudGlmaWVyID0gKFxuICBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucyxcbik6IENsaWVudEFwcElkZW50aWZpZXIgPT4ge1xuICBjb25zdCBhcHBJZCA9IG9wdGlvbnM/LmNsaWVudEFwcElkZW50aWZpZXIgfHwge307XG4gIGNvbnN0IHNka0luZm8gPSBnZXRTZGtJbmZvKCk7XG4gIGlmIChzZGtJbmZvKSB7XG4gICAgLy8gZW5zdXJlIHRoZSBzZGsgbmFtZSBhbmQgdmVyc2lvbiBhcmUgc2V0IGNvcnJlY3RseSxcbiAgICAvLyBvdmVycmlkaW5nIGFueSB1c2VyLXByb3ZpZGVkIHZhbHVlc1xuICAgIGFwcElkLnNka05hbWUgPSBTZGtUeXBlW3Nka0luZm8udHlwZV0udG9Mb3dlckNhc2UoKTtcbiAgICBhcHBJZC5zZGtWZXJzaW9uID0gYCR7c2RrSW5mby5tYWpvcn0uJHtzZGtJbmZvLm1pbm9yfS4ke3Nka0luZm8ucGF0Y2h9YDtcbiAgfVxuICByZXR1cm4gYXBwSWQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb29yZGluYXRvciBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVDb29yZGluYXRvckNsaWVudCA9IChcbiAgYXBpS2V5OiBzdHJpbmcsXG4gIG9wdGlvbnM6IFN0cmVhbUNsaWVudE9wdGlvbnMgfCB1bmRlZmluZWQsXG4pID0+IHtcbiAgY29uc3QgY2xpZW50QXBwSWRlbnRpZmllciA9IGdldENsaWVudEFwcElkZW50aWZpZXIob3B0aW9ucyk7XG4gIGNvbnN0IGNvb3JkaW5hdG9yTG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY29vcmRpbmF0b3InXSk7XG4gIHJldHVybiBuZXcgU3RyZWFtQ2xpZW50KGFwaUtleSwge1xuICAgIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTogdHJ1ZSxcbiAgICAuLi5vcHRpb25zLFxuICAgIGNsaWVudEFwcElkZW50aWZpZXIsXG4gICAgbG9nZ2VyOiBjb29yZGluYXRvckxvZ2dlcixcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0b2tlbiBwcm92aWRlciBhbmQgYWxsb3dzIGludGVncmF0b3JzIHRvIHByb3ZpZGVcbiAqIGEgc3RhdGljIHRva2VuIGFuZCBhIHRva2VuIHByb3ZpZGVyIGF0IHRoZSBzYW1lIHRpbWUuXG4gKlxuICogV2hlbiBib3RoIG9mIHRoZW0gYXJlIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGFuIGludGVybmFsXG4gKiB0b2tlbiBwcm92aWRlciB0aGF0IHdpbGwgdXNlIHRoZSBzdGF0aWMgdG9rZW4gb24gdGhlIGZpcnN0IGludm9jYXRpb25cbiAqIGFuZCB0aGUgdG9rZW4gcHJvdmlkZXIgb24gdGhlIGxhdGVyIGludm9jYXRpb25zLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlVG9rZW5PclByb3ZpZGVyID0gKFxuICBvcHRpb25zOiBTdHJlYW1WaWRlb0NsaWVudE9wdGlvbnMsXG4pOiBUb2tlbk9yUHJvdmlkZXIgPT4ge1xuICBjb25zdCB7IHRva2VuLCB0b2tlblByb3ZpZGVyIH0gPSBvcHRpb25zO1xuICBpZiAodG9rZW4gJiYgdG9rZW5Qcm92aWRlcikge1xuICAgIGxldCBpbml0aWFsVG9rZW5Vc2VkID0gZmFsc2U7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHdyYXBwZWRUb2tlblByb3ZpZGVyKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICBpZiAoIWluaXRpYWxUb2tlblVzZWQpIHtcbiAgICAgICAgaW5pdGlhbFRva2VuVXNlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblByb3ZpZGVyKCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdG9rZW4gfHwgdG9rZW5Qcm92aWRlcjtcbn07XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi9DYWxsJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUsXG4gIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSxcbn0gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7XG4gIENhbGxDcmVhdGVkRXZlbnQsXG4gIENhbGxSaW5nRXZlbnQsXG4gIENvbm5lY3RlZEV2ZW50LFxuICBDcmVhdGVEZXZpY2VSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlcXVlc3QsXG4gIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gIEdldEVkZ2VzUmVzcG9uc2UsXG4gIExpc3REZXZpY2VzUmVzcG9uc2UsXG4gIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdCxcbiAgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSxcbiAgUXVlcnlDYWxsc1JlcXVlc3QsXG4gIFF1ZXJ5Q2FsbHNSZXNwb25zZSxcbiAgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0LFxuICBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQge1xuICBBbGxDbGllbnRFdmVudHMsXG4gIENsaWVudEV2ZW50TGlzdGVuZXIsXG4gIExvZ2dlcixcbiAgU3RyZWFtQ2xpZW50T3B0aW9ucyxcbiAgVG9rZW5PclByb3ZpZGVyLFxuICBUb2tlblByb3ZpZGVyLFxuICBVc2VyLFxuICBVc2VyV2l0aElkLFxufSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgc2xlZXAgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdXRpbHMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlQ29vcmRpbmF0b3JDbGllbnQsXG4gIGNyZWF0ZVRva2VuT3JQcm92aWRlcixcbiAgZ2V0Q2FsbEluaXRDb25jdXJyZW5jeVRhZyxcbiAgZ2V0SW5zdGFuY2VLZXksXG59IGZyb20gJy4vaGVscGVycy9jbGllbnRVdGlscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGxvZ1RvQ29uc29sZSwgc2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IGVuYWJsZVRpbWVyV29ya2VyIH0gZnJvbSAnLi90aW1lcnMnO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb0NsaWVudE9wdGlvbnMgPSB7XG4gIGFwaUtleTogc3RyaW5nO1xuICBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucztcbiAgdXNlcj86IFVzZXI7XG4gIHRva2VuPzogc3RyaW5nO1xuICB0b2tlblByb3ZpZGVyPzogVG9rZW5Qcm92aWRlcjtcbn07XG5cbi8qKlxuICogQSBgU3RyZWFtVmlkZW9DbGllbnRgIGluc3RhbmNlIGxldHMgeW91IGNvbW11bmljYXRlIHdpdGggb3VyIEFQSSwgYW5kIGF1dGhlbnRpY2F0ZSB1c2Vycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvQ2xpZW50IHtcbiAgLyoqXG4gICAqIEEgcmVhY3RpdmUgc3RvcmUgdGhhdCBleHBvc2VzIGFsbCB0aGUgc3RhdGUgdmFyaWFibGVzIHJlYWN0aXZlbHkuXG4gICAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGNoYW5nZXMgb2YgdGhlIGRpZmZlcmVudCBzdGF0ZSB2YXJpYWJsZXMuXG4gICAqIE91ciBsaWJyYXJ5IGlzIGJ1aWx0IGluIGEgd2F5IHRoYXQgYWxsIHN0YXRlIGNoYW5nZXMgYXJlIGV4cG9zZWQgaW4gdGhpcyBzdG9yZSxcbiAgICogbyBhbGwgVUkgY2hhbmdlcyBpbiB5b3VyIGFwcGxpY2F0aW9uIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHN1YnNjcmliaW5nIHRvIHRoZXNlIHZhcmlhYmxlcy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBgY2xpZW50LnN0YXRlYCBnZXR0ZXIuXG4gICAqL1xuICByZWFkb25seSByZWFkT25seVN0YXRlU3RvcmU6IFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlO1xuICByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgd3JpdGVhYmxlU3RhdGVTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICBwcml2YXRlIGVmZmVjdHNSZWdpc3RlcmVkID0gZmFsc2U7XG4gIHByaXZhdGUgZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3RlcjogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aW9uQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woXG4gICAgJ2Nvbm5lY3Rpb25Db25jdXJyZW5jeVRhZycsXG4gICk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlcyA9IG5ldyBNYXA8c3RyaW5nLCBTdHJlYW1WaWRlb0NsaWVudD4oKTtcblxuICAvKipcbiAgICogWW91IHNob3VsZCBjcmVhdGUgb25seSBvbmUgaW5zdGFuY2Ugb2YgYFN0cmVhbVZpZGVvQ2xpZW50YC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nLCBvcHRzPzogU3RyZWFtQ2xpZW50T3B0aW9ucyk7XG4gIGNvbnN0cnVjdG9yKGFyZ3M6IFN0cmVhbVZpZGVvQ2xpZW50T3B0aW9ucyk7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwaUtleU9yQXJnczogc3RyaW5nIHwgU3RyZWFtVmlkZW9DbGllbnRPcHRpb25zLFxuICAgIG9wdHM/OiBTdHJlYW1DbGllbnRPcHRpb25zLFxuICApIHtcbiAgICBjb25zdCBhcGlLZXkgPVxuICAgICAgdHlwZW9mIGFwaUtleU9yQXJncyA9PT0gJ3N0cmluZycgPyBhcGlLZXlPckFyZ3MgOiBhcGlLZXlPckFyZ3MuYXBpS2V5O1xuICAgIGNvbnN0IGNsaWVudE9wdGlvbnMgPVxuICAgICAgdHlwZW9mIGFwaUtleU9yQXJncyA9PT0gJ3N0cmluZycgPyBvcHRzIDogYXBpS2V5T3JBcmdzLm9wdGlvbnM7XG5cbiAgICBpZiAoY2xpZW50T3B0aW9ucz8uZW5hYmxlVGltZXJXb3JrZXIpIGVuYWJsZVRpbWVyV29ya2VyKCk7XG5cbiAgICBjb25zdCByb290TG9nZ2VyID0gY2xpZW50T3B0aW9ucz8ubG9nZ2VyIHx8IGxvZ1RvQ29uc29sZTtcbiAgICBzZXRMb2dnZXIocm9vdExvZ2dlciwgY2xpZW50T3B0aW9ucz8ubG9nTGV2ZWwgfHwgJ3dhcm4nKTtcblxuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY2xpZW50J10pO1xuXG4gICAgdGhpcy5zdHJlYW1DbGllbnQgPSBjcmVhdGVDb29yZGluYXRvckNsaWVudChhcGlLZXksIGNsaWVudE9wdGlvbnMpO1xuXG4gICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSgpO1xuICAgIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlKFxuICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICk7XG5cbiAgICBpZiAodHlwZW9mIGFwaUtleU9yQXJncyAhPT0gJ3N0cmluZycgJiYgYXBpS2V5T3JBcmdzLnVzZXIpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhcGlLZXlPckFyZ3MudXNlcjtcbiAgICAgIGlmICh1c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB1c2VyLmlkID0gJyFhbm9uJztcbiAgICAgIGlmICh1c2VyLmlkKSB0aGlzLnJlZ2lzdGVyQ2xpZW50SW5zdGFuY2UoYXBpS2V5LCB1c2VyKTtcblxuICAgICAgY29uc3QgdG9rZW5PclByb3ZpZGVyID0gY3JlYXRlVG9rZW5PclByb3ZpZGVyKGFwaUtleU9yQXJncyk7XG4gICAgICB0aGlzLmNvbm5lY3RVc2VyKHVzZXIsIHRva2VuT3JQcm92aWRlcikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGNvbm5lY3QnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb3IgY3JlYXRlcyBhIFN0cmVhbVZpZGVvQ2xpZW50IGluc3RhbmNlIGJhc2VkIG9uIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UoXG4gICAgYXJnczogU3RyZWFtVmlkZW9DbGllbnRPcHRpb25zICYgeyB1c2VyOiBVc2VyIH0sXG4gICk6IFN0cmVhbVZpZGVvQ2xpZW50IHtcbiAgICBjb25zdCB7IGFwaUtleSwgdXNlciwgdG9rZW4sIHRva2VuUHJvdmlkZXIgfSA9IGFyZ3M7XG4gICAgaWYgKCF1c2VyLmlkICYmIHVzZXIudHlwZSAhPT0gJ2Fub255bW91cycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlci5pZCBpcyByZXF1aXJlZCBmb3IgYSBub24tYW5vbnltb3VzIHVzZXInKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdG9rZW4gJiZcbiAgICAgICF0b2tlblByb3ZpZGVyICYmXG4gICAgICB1c2VyLnR5cGUgIT09ICdhbm9ueW1vdXMnICYmXG4gICAgICB1c2VyLnR5cGUgIT09ICdndWVzdCdcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3Rva2VuUHJvdmlkZXIgb3IgdG9rZW4gaXMgcmVxdWlyZWQgZm9yIGEgYXV0aGVudGljYXRlZCB1c2VycycsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICBTdHJlYW1WaWRlb0NsaWVudC5faW5zdGFuY2VzLmdldChnZXRJbnN0YW5jZUtleShhcGlLZXksIHVzZXIpKSB8fFxuICAgICAgbmV3IFN0cmVhbVZpZGVvQ2xpZW50KGFyZ3MpXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJDbGllbnRJbnN0YW5jZSA9IChhcGlLZXk6IHN0cmluZywgdXNlcjogVXNlcikgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlS2V5ID0gZ2V0SW5zdGFuY2VLZXkoYXBpS2V5LCB1c2VyKTtcbiAgICBpZiAoU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlcy5oYXMoaW5zdGFuY2VLZXkpKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICBgQSBTdHJlYW1WaWRlb0NsaWVudCBhbHJlYWR5IGV4aXN0cyBmb3IgJHt1c2VyLmlkfTsgUHJlZmVyIHVzaW5nIGdldE9yQ3JlYXRlSW5zdGFuY2UgbWV0aG9kYCxcbiAgICAgICk7XG4gICAgfVxuICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZXMuc2V0KGluc3RhbmNlS2V5LCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSByZWFjdGl2ZSBzdGF0ZSBzdG9yZSwgdXNlIHRoaXMgaWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyB0byB0aGUgY2xpZW50IHN0YXRlXG4gICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlckVmZmVjdHMgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuZWZmZWN0c1JlZ2lzdGVyZWQpIHJldHVybjtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5jcmVhdGVkJywgKGV2ZW50KSA9PiB0aGlzLmluaXRDYWxsRnJvbUV2ZW50KGV2ZW50KSksXG4gICAgICB0aGlzLm9uKCdjYWxsLnJpbmcnLCAoZXZlbnQpID0+IHRoaXMuaW5pdENhbGxGcm9tRXZlbnQoZXZlbnQpKSxcbiAgICAgIHRoaXMub24oJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50Lm9ubGluZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNhbGxzVG9SZVdhdGNoID0gdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLmNhbGxzXG4gICAgICAgICAgLmZpbHRlcigoY2FsbCkgPT4gY2FsbC53YXRjaGluZylcbiAgICAgICAgICAubWFwKChjYWxsKSA9PiBjYWxsLmNpZCk7XG4gICAgICAgIGlmIChjYWxsc1RvUmVXYXRjaC5sZW5ndGggPD0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFJld2F0Y2hpbmcgY2FsbHMgJHtjYWxsc1RvUmVXYXRjaC5qb2luKCcsICcpfWApO1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FsbHMoe1xuICAgICAgICAgIHdhdGNoOiB0cnVlLFxuICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiB7IGNpZDogeyAkaW46IGNhbGxzVG9SZVdhdGNoIH0gfSxcbiAgICAgICAgICBzb3J0OiBbeyBmaWVsZDogJ2NpZCcsIGRpcmVjdGlvbjogMSB9XSxcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gcmUtd2F0Y2ggY2FsbHMnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmVmZmVjdHNSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgYSBjYWxsIGZyb20gYSBjYWxsIGNyZWF0ZWQgb3IgcmluZ2luZyBldmVudC5cbiAgICogQHBhcmFtIGUgdGhlIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBpbml0Q2FsbEZyb21FdmVudCA9IGFzeW5jIChlOiBDYWxsQ3JlYXRlZEV2ZW50IHwgQ2FsbFJpbmdFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbm5lY3RlZFVzZXI/LmlkID09PSBlLmNhbGwuY3JlYXRlZF9ieS5pZCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElnbm9yaW5nICR7ZS50eXBlfSBldmVudCBzZW50IGJ5IHRoZSBjdXJyZW50IHVzZXJgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uY3VycmVuY3lUYWcgPSBnZXRDYWxsSW5pdENvbmN1cnJlbmN5VGFnKGUuY2FsbF9jaWQpO1xuICAgICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KGNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJpbmdpbmcgPSBlLnR5cGUgPT09ICdjYWxsLnJpbmcnO1xuICAgICAgICBsZXQgY2FsbCA9IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5maW5kQ2FsbChlLmNhbGwudHlwZSwgZS5jYWxsLmlkKTtcbiAgICAgICAgaWYgKGNhbGwpIHtcbiAgICAgICAgICBpZiAocmluZ2luZykge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC51cGRhdGVGcm9tUmluZ2luZ0V2ZW50KGUgYXMgQ2FsbFJpbmdFdmVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGwuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsID0gbmV3IENhbGwoe1xuICAgICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgICAgdHlwZTogZS5jYWxsLnR5cGUsXG4gICAgICAgICAgaWQ6IGUuY2FsbC5pZCxcbiAgICAgICAgICBtZW1iZXJzOiBlLm1lbWJlcnMsXG4gICAgICAgICAgY2xpZW50U3RvcmU6IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZSxcbiAgICAgICAgICByaW5naW5nLFxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbC5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG5cbiAgICAgICAgaWYgKHJpbmdpbmcpIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLmdldCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5yZWdpc3RlckNhbGwoY2FsbCk7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgTmV3IGNhbGwgY3JlYXRlZCBhbmQgcmVnaXN0ZXJlZDogJHtjYWxsLmNpZH1gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgRmFpbGVkIHRvIGluaXQgY2FsbCBmcm9tIGV2ZW50ICR7ZS50eXBlfWAsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgZ2l2ZW4gdXNlciB0byB0aGUgY2xpZW50LlxuICAgKiBPbmx5IG9uZSB1c2VyIGNhbiBjb25uZWN0IGF0IGEgdGltZSwgaWYgeW91IHdhbnQgdG8gY2hhbmdlIHVzZXJzLCBjYWxsIGBkaXNjb25uZWN0VXNlcmAgYmVmb3JlIGNvbm5lY3RpbmcgYSBuZXcgdXNlci5cbiAgICogSWYgdGhlIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlIGNvbm5lY3RlZCB1c2VyIFtzdGF0ZSB2YXJpYWJsZV0oI3JlYWRvbmx5c3RhdGVzdG9yZSkgd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBjb25uZWN0LlxuICAgKiBAcGFyYW0gdG9rZW5PclByb3ZpZGVyIGEgdG9rZW4gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0b2tlbi5cbiAgICovXG4gIGNvbm5lY3RVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXIsXG4gICAgdG9rZW5PclByb3ZpZGVyPzogVG9rZW5PclByb3ZpZGVyLFxuICApOiBQcm9taXNlPHZvaWQgfCBDb25uZWN0ZWRFdmVudD4gPT4ge1xuICAgIGlmICh1c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB7XG4gICAgICB1c2VyLmlkID0gJyFhbm9uJztcbiAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RBbm9ueW1vdXNVc2VyKHVzZXIgYXMgVXNlcldpdGhJZCwgdG9rZW5PclByb3ZpZGVyKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb25uZWN0VXNlclJlc3BvbnNlID0gYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KFxuICAgICAgdGhpcy5jb25uZWN0aW9uQ29uY3VycmVuY3lUYWcsXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuc3RyZWFtQ2xpZW50O1xuICAgICAgICBjb25zdCB7IG9uQ29ubmVjdFVzZXJFcnJvciwgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlIH0gPVxuICAgICAgICAgIGNsaWVudC5vcHRpb25zO1xuICAgICAgICBsZXQgeyBtYXhDb25uZWN0VXNlclJldHJpZXMgPSA1IH0gPSBjbGllbnQub3B0aW9ucztcbiAgICAgICAgbWF4Q29ubmVjdFVzZXJSZXRyaWVzID0gTWF0aC5tYXgobWF4Q29ubmVjdFVzZXJSZXRyaWVzLCAxKTtcblxuICAgICAgICBjb25zdCBlcnJvclF1ZXVlOiBFcnJvcltdID0gW107XG4gICAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4Q29ubmVjdFVzZXJSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgYENvbm5lY3RpbmcgdXNlciAoJHthdHRlbXB0fSlgLCB1c2VyKTtcbiAgICAgICAgICAgIHJldHVybiB1c2VyLnR5cGUgPT09ICdndWVzdCdcbiAgICAgICAgICAgICAgPyBhd2FpdCBjbGllbnQuY29ubmVjdEd1ZXN0VXNlcih1c2VyKVxuICAgICAgICAgICAgICA6IGF3YWl0IGNsaWVudC5jb25uZWN0VXNlcih1c2VyLCB0b2tlbk9yUHJvdmlkZXIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGNvbm5lY3QgYSB1c2VyICgke2F0dGVtcHR9KWAsIGVycik7XG4gICAgICAgICAgICBlcnJvclF1ZXVlLnB1c2goZXJyIGFzIEVycm9yKTtcbiAgICAgICAgICAgIGlmIChhdHRlbXB0ID09PSBtYXhDb25uZWN0VXNlclJldHJpZXMgLSAxKSB7XG4gICAgICAgICAgICAgIG9uQ29ubmVjdFVzZXJFcnJvcj8uKGVyciBhcyBFcnJvciwgZXJyb3JRdWV1ZSk7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBmb3JjZSB0byBkaXNjb25uZWN0IHRoZSB1c2VyIGlmIHRoZSBjbGllbnQgaXNcbiAgICAgICAgICAgIC8vIGNvbmZpZ3VyZWQgdG8gcGVyc2lzdCB0aGUgdXNlciBvbiBjb25uZWN0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgIGlmIChwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LmRpc2Nvbm5lY3RVc2VyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKHJldHJ5SW50ZXJ2YWwoYXR0ZW1wdCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgLy8gY29ubmVjdFVzZXJSZXNwb25zZSB3aWxsIGJlIHZvaWQgaWYgY29ubmVjdFVzZXIgY2FsbGVkIHR3aWNlIGZvciB0aGUgc2FtZSB1c2VyXG4gICAgaWYgKGNvbm5lY3RVc2VyUmVzcG9uc2U/Lm1lKSB7XG4gICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuc2V0Q29ubmVjdGVkVXNlcihjb25uZWN0VXNlclJlc3BvbnNlLm1lKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlZ2lzdGVyRWZmZWN0cygpO1xuXG4gICAgcmV0dXJuIGNvbm5lY3RVc2VyUmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3RzIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHVzZXIgZnJvbSB0aGUgY2xpZW50LlxuICAgKlxuICAgKiBJZiB0aGUgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsbHkgZGlzY29ubmVjdGVkLCB0aGUgY29ubmVjdGVkIHVzZXIgW3N0YXRlIHZhcmlhYmxlXSgjcmVhZG9ubHlzdGF0ZXN0b3JlKSB3aWxsIGJlIHVwZGF0ZWQgYWNjb3JkaW5nbHlcbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBkaXNjb25uZWN0VXNlciA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHVzZXIsIGtleSB9ID0gdGhpcy5zdHJlYW1DbGllbnQ7XG4gICAgICBpZiAoIXVzZXIpIHJldHVybjtcblxuICAgICAgYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZGlzY29ubmVjdFVzZXIodGltZW91dCk7XG5cbiAgICAgIGlmICh1c2VyLmlkKSB7XG4gICAgICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZXMuZGVsZXRlKGdldEluc3RhbmNlS2V5KGtleSwgdXNlcikpO1xuICAgICAgfVxuICAgICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyLmZvckVhY2goKHVucmVnaXN0ZXIpID0+IHVucmVnaXN0ZXIoKSk7XG4gICAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIgPSBbXTtcbiAgICAgIHRoaXMuZWZmZWN0c1JlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5zZXRDb25uZWN0ZWRVc2VyKHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIFdlYlNvY2tldCBldmVudHMgcHJvdmlkZWQgYnkgdGhlIEFQSS5cbiAgICogVG8gcmVtb3ZlIGEgc3Vic2NyaXB0aW9uLCBjYWxsIHRoZSBgb2ZmYCBtZXRob2Qgb3IsIGV4ZWN1dGUgdGhlIHJldHVybmVkIHVuc3Vic2NyaWJlIGZ1bmN0aW9uLlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHN1YnNjcmliaW5nIHRvIFdlYlNvY2tldCBldmVudHMgaXMgYW4gYWR2YW5jZWQgdXNlLWNhc2UsIGZvciBtb3N0IHVzZS1jYXNlcyBpdCBzaG91bGQgYmUgZW5vdWdoIHRvIHdhdGNoIGZvciBjaGFuZ2VzIGluIHRoZSByZWFjdGl2ZSBbc3RhdGUgc3RvcmVdKCNyZWFkb25seXN0YXRlc3RvcmUpLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIG9yICdhbGwnLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAqIEByZXR1cm5zIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uLlxuICAgKi9cbiAgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGNhbGxiYWNrOiBDbGllbnRFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQub24oZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBzdWJzY3JpcHRpb24gZm9yIFdlYlNvY2tldCBldmVudHMgdGhhdCB3ZXJlIGNyZWF0ZWQgYnkgdGhlIGBvbmAgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHdoaWNoIHdhcyBwYXNzZWQgdG8gdGhlIGBvbmAgbWV0aG9kLlxuICAgKi9cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50Lm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgY2FsbC5cbiAgICogQHBhcmFtIGlkIHRoZSBpZCBvZiB0aGUgY2FsbC5cbiAgICogQHBhcmFtIG9wdGlvbnMgYWRkaXRpb25hbCBvcHRpb25zIGZvciBjYWxsIGNyZWF0aW9uLlxuICAgKi9cbiAgY2FsbCA9IChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgaWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiB7IHJldXNlSW5zdGFuY2U/OiBib29sZWFuIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IG9wdGlvbnMucmV1c2VJbnN0YW5jZVxuICAgICAgPyB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuZmluZENhbGwodHlwZSwgaWQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gKFxuICAgICAgY2FsbCA/P1xuICAgICAgbmV3IENhbGwoe1xuICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICBpZDogaWQsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZ3Vlc3QgdXNlciB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSBmb3IgdGhlIGd1ZXN0IHVzZXIuXG4gICAqL1xuICBjcmVhdGVHdWVzdFVzZXIgPSBhc3luYyAoZGF0YTogQ3JlYXRlR3Vlc3RSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmRvQXhpb3NSZXF1ZXN0PFxuICAgICAgQ3JlYXRlR3Vlc3RSZXNwb25zZSxcbiAgICAgIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICAgID4oJ3Bvc3QnLCAnL2d1ZXN0JywgZGF0YSwgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBxdWVyeSB0aGUgQVBJIGZvciBjYWxscyBtYXRjaGluZyB0aGUgZ2l2ZW4gZmlsdGVycy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHF1ZXJ5IGRhdGEuXG4gICAqL1xuICBxdWVyeUNhbGxzID0gYXN5bmMgKGRhdGE6IFF1ZXJ5Q2FsbHNSZXF1ZXN0ID0ge30pID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBRdWVyeUNhbGxzUmVzcG9uc2UsXG4gICAgICBRdWVyeUNhbGxzUmVxdWVzdFxuICAgID4oJy9jYWxscycsIGRhdGEpO1xuICAgIGNvbnN0IGNhbGxzID0gW107XG4gICAgZm9yIChjb25zdCBjIG9mIHJlc3BvbnNlLmNhbGxzKSB7XG4gICAgICBjb25zdCBjYWxsID0gbmV3IENhbGwoe1xuICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICBpZDogYy5jYWxsLmlkLFxuICAgICAgICB0eXBlOiBjLmNhbGwudHlwZSxcbiAgICAgICAgbWVtYmVyczogYy5tZW1iZXJzLFxuICAgICAgICBvd25DYXBhYmlsaXRpZXM6IGMub3duX2NhcGFiaWxpdGllcyxcbiAgICAgICAgd2F0Y2hpbmc6IGRhdGEud2F0Y2gsXG4gICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICB9KTtcbiAgICAgIGNhbGwuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjLmNhbGwpO1xuICAgICAgYXdhaXQgY2FsbC5hcHBseURldmljZUNvbmZpZyhjLmNhbGwuc2V0dGluZ3MsIGZhbHNlKTtcbiAgICAgIGlmIChkYXRhLndhdGNoKSB7XG4gICAgICAgIGF3YWl0IGNhbGwuc2V0dXAoKTtcbiAgICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLnJlZ2lzdGVyQ2FsbChjYWxsKTtcbiAgICAgIH1cbiAgICAgIGNhbGxzLnB1c2goY2FsbCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXNwb25zZSxcbiAgICAgIGNhbGxzOiBjYWxscyxcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgY2FsbCBzdGF0aXN0aWNzIHJlcG9ydHMgbWF0Y2hpbmcgYSBwYXJ0aWN1bGFyIGNvbmRpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgRmlsdGVyIGFuZCBzb3J0IGNvbmRpdGlvbnMgZm9yIHJldHJpZXZpbmcgYXZhaWxhYmxlIGNhbGwgcmVwb3J0IHN1bW1hcmllcy5cbiAgICogQHJldHVybnMgTGlzdCB3aXRoIHN1bW1hcnkgb2YgYXZhaWxhYmxlIGNhbGwgcmVwb3J0cyBtYXRjaGluZyB0aGUgY29uZGl0aW9uLlxuICAgKi9cbiAgcXVlcnlDYWxsU3RhdHMgPSBhc3luYyAoZGF0YTogUXVlcnlDYWxsU3RhdHNSZXF1ZXN0ID0ge30pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2UsXG4gICAgICBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICA+KGAvY2FsbC9zdGF0c2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgcmVwb3J0cyBhZ2dyZWdhdGVkIGZyb20gdGhlIGNhbGwgc3RhdHMuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIFNwZWNpZnkgZmlsdGVyIGNvbmRpdGlvbnMgbGlrZSBmcm9tIGFuZCB0byAod2l0aGluIGxhc3QgMzAgZGF5cykgYW5kIHRoZSByZXBvcnQgdHlwZXNcbiAgICogQHJldHVybnMgUmVxdWVzdGVkIHJlcG9ydHMgd2l0aCAobW9zdGx5KSByYXcgZGFpbHkgZGF0YSBmb3IgZWFjaCByZXBvcnQgdHlwZSByZXF1ZXN0ZWRcbiAgICovXG4gIHF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzID0gYXN5bmMgKFxuICAgIGRhdGE6IFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdCA9IHt9LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2UsXG4gICAgICBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICA+KGAvc3RhdHNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXZhaWxhYmxlIGRhdGEgY2VudGVycyBhdmFpbGFibGUgZm9yIGhvc3RpbmcgY2FsbHMuXG4gICAqL1xuICBlZGdlcyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldEVkZ2VzUmVzcG9uc2U+KGAvZWRnZXNgKTtcbiAgfTtcblxuICAvKipcbiAgICogYWRkRGV2aWNlIC0gQWRkcyBhIHB1c2ggZGV2aWNlIGZvciBhIHVzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCB0aGUgZGV2aWNlIGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyIG5hbWUgKGVnLiBhcG4sIGZpcmViYXNlKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlcl9uYW1lIHVzZXIgcHJvdmlkZWQgcHVzaCBwcm92aWRlciBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSB0aGUgdXNlciBpZCAoZGVmYXVsdHMgdG8gY3VycmVudCB1c2VyKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt2b2lwX3Rva2VuXSBlbmFibGVzIHVzZSBvZiBWb0lQIHRva2VuIGZvciBwdXNoIG5vdGlmaWNhdGlvbnMgb24gaU9TIHBsYXRmb3JtXG4gICAqL1xuICBhZGREZXZpY2UgPSBhc3luYyAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nLFxuICAgIHVzZXJJRD86IHN0cmluZyxcbiAgICB2b2lwX3Rva2VuPzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8Q3JlYXRlRGV2aWNlUmVxdWVzdD4oJy9kZXZpY2VzJywge1xuICAgICAgaWQsXG4gICAgICBwdXNoX3Byb3ZpZGVyLFxuICAgICAgdm9pcF90b2tlbixcbiAgICAgIC4uLih1c2VySUQgIT0gbnVsbCA/IHsgdXNlcl9pZDogdXNlcklEIH0gOiB7fSksXG4gICAgICAuLi4ocHVzaF9wcm92aWRlcl9uYW1lICE9IG51bGwgPyB7IHB1c2hfcHJvdmlkZXJfbmFtZSB9IDoge30pLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGREZXZpY2UgLSBBZGRzIGEgcHVzaCBkZXZpY2UgZm9yIGEgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXIgdGhlIHB1c2ggcHJvdmlkZXIgbmFtZSAoZWcuIGFwbiwgZmlyZWJhc2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyX25hbWUgdXNlciBwcm92aWRlZCBwdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAqL1xuICBhZGRWb2lwRGV2aWNlID0gYXN5bmMgKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcjogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogc3RyaW5nLFxuICAgIHVzZXJJRD86IHN0cmluZyxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuYWRkRGV2aWNlKFxuICAgICAgaWQsXG4gICAgICBwdXNoX3Byb3ZpZGVyLFxuICAgICAgcHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgdXNlcklELFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBnZXREZXZpY2VzIC0gUmV0dXJucyB0aGUgZGV2aWNlcyBhc3NvY2lhdGVkIHdpdGggYSBjdXJyZW50IHVzZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFVzZXIgSUQuIE9ubHkgd29ya3Mgb24gc2VydmVyc2lkZVxuICAgKi9cbiAgZ2V0RGV2aWNlcyA9IGFzeW5jICh1c2VySUQ/OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZ2V0PExpc3REZXZpY2VzUmVzcG9uc2U+KFxuICAgICAgJy9kZXZpY2VzJyxcbiAgICAgIHVzZXJJRCA/IHsgdXNlcl9pZDogdXNlcklEIH0gOiB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiByZW1vdmVEZXZpY2UgLSBSZW1vdmVzIHRoZSBkZXZpY2Ugd2l0aCB0aGUgZ2l2ZW4gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgZGV2aWNlIGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBUaGUgdXNlciBpZC4gT25seSBzcGVjaWZ5IHRoaXMgZm9yIHNlcnZlcnNpZGUgcmVxdWVzdHNcbiAgICovXG4gIHJlbW92ZURldmljZSA9IGFzeW5jIChpZDogc3RyaW5nLCB1c2VySUQ/OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZGVsZXRlKCcvZGV2aWNlcycsIHtcbiAgICAgIGlkLFxuICAgICAgLi4uKHVzZXJJRCA/IHsgdXNlcl9pZDogdXNlcklEIH0gOiB7fSksXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgY2FsbGJhY2sgdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgcmluZ2luZyBjYWxscyBmcm9tIHB1c2ggbm90aWZpY2F0aW9ucy4gSWYgdGhlIGNhbGwgYWxyZWFkeSBleGlzdHMsIGl0IHdpbGwgZG8gbm90aGluZy5cbiAgICogQHBhcmFtIGNhbGxfY2lkXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBvblJpbmdpbmdDYWxsID0gYXN5bmMgKGNhbGxfY2lkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gd2l0aG91dENvbmN1cnJlbmN5KGdldENhbGxJbml0Q29uY3VycmVuY3lUYWcoY2FsbF9jaWQpLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBpZiB3ZSBmaW5kIHRoZSBjYWxsIGFuZCBpcyBhbHJlYWR5IHJpbmdpbmcsIHdlIGRvbid0IG5lZWQgdG8gY3JlYXRlIGEgbmV3IGNhbGxcbiAgICAgIC8vIGFzIGNsaWVudCB3b3VsZCBoYXZlIHJlY2VpdmVkIHRoZSBjYWxsLnJpbmcgc3RhdGUgYmVjYXVzZSB0aGUgYXBwIGhhZCBXUyBhbGl2ZSB3aGVuIHJlY2VpdmluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICAgIGxldCBjYWxsID0gdGhpcy5zdGF0ZS5jYWxscy5maW5kKChjKSA9PiBjLmNpZCA9PT0gY2FsbF9jaWQgJiYgYy5yaW5naW5nKTtcbiAgICAgIGlmICghY2FsbCkge1xuICAgICAgICAvLyBpZiBub3QgaXQgbWVhbnMgdGhhdCBXUyBpcyBub3QgYWxpdmUgd2hlbiByZWNlaXZpbmcgdGhlIHB1c2ggbm90aWZpY2F0aW9ucyBhbmQgd2UgbmVlZCB0byBmZXRjaCB0aGUgY2FsbFxuICAgICAgICBjb25zdCBbY2FsbFR5cGUsIGNhbGxJZF0gPSBjYWxsX2NpZC5zcGxpdCgnOicpO1xuICAgICAgICBjYWxsID0gbmV3IENhbGwoe1xuICAgICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgICAgdHlwZTogY2FsbFR5cGUsXG4gICAgICAgICAgaWQ6IGNhbGxJZCxcbiAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICAgIHJpbmdpbmc6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBjYWxsLmdldCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbm5lY3RzIHRoZSBnaXZlbiBhbm9ueW1vdXMgdXNlciB0byB0aGUgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBjb25uZWN0LlxuICAgKiBAcGFyYW0gdG9rZW5PclByb3ZpZGVyIGEgdG9rZW4gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0b2tlbi5cbiAgICovXG4gIHByaXZhdGUgY29ubmVjdEFub255bW91c1VzZXIgPSBhc3luYyAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmNvbm5lY3Rpb25Db25jdXJyZW5jeVRhZywgKCkgPT5cbiAgICAgIHRoaXMuc3RyZWFtQ2xpZW50LmNvbm5lY3RBbm9ueW1vdXNVc2VyKHVzZXIsIHRva2VuT3JQcm92aWRlciksXG4gICAgKTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJDYWxsU3RhdGUiLCJJQ0VUcmlja2xlIiwiSUNFVHJpY2tsZSRUeXBlIiwiRXJyb3IiLCJFcnJvciRUeXBlIiwiQ2FsbCIsIklDRVRyaWNrbGUkIiwiRXJyb3IkIiwiUnhVdGlscy5zZXRDdXJyZW50VmFsdWUiLCJSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSIsIlJ4VXRpbHMudXBkYXRlVmFsdWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stream-io/video-filters-web/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentationLevel: () => (/* binding */ SegmentationLevel),\n/* harmony export */   createRenderer: () => (/* binding */ createRenderer),\n/* harmony export */   isPlatformSupported: () => (/* binding */ isPlatformSupported),\n/* harmony export */   loadTFLite: () => (/* binding */ loadTFLite)\n/* harmony export */ });\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-feature-detect */ \"(ssr)/./node_modules/wasm-feature-detect/dist/esm/index.js\");\n\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nconst isPlatformSupported = async () => typeof document !== 'undefined' &&\n    typeof window !== 'undefined' &&\n    typeof navigator !== 'undefined' &&\n    !isMobile() && // we don't support mobile devices yet due to performance issues\n    typeof WebAssembly !== 'undefined' &&\n    !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n    !!document.createElement('canvas').getContext('webgl2') &&\n    (await (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__.simd)()); // SIMD is required for the wasm module\n\n/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nconst glsl = String.raw;\nfunction createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer) {\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    return program;\n}\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        throw new Error(`Could not link WebGL program: ${gl.getProgramInfoLog(program)}`);\n    }\n    return program;\n}\nfunction compileShader(gl, shaderType, shaderSource) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\nfunction createTexture(gl, internalformat, width, height, minFilter = gl.NEAREST, magFilter = gl.NEAREST) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n    gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n    return texture;\n}\nasync function readPixelsAsync(gl, x, y, width, height, format, type, dest) {\n    const buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, width, height, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n    gl.deleteBuffer(buf);\n    return dest;\n}\nasync function getBufferSubDataAsync(gl, target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n    const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    gl.flush();\n    if (!sync)\n        return;\n    const res = await clientWaitAsync(gl, sync);\n    gl.deleteSync(sync);\n    if (res !== gl.WAIT_FAILED) {\n        gl.bindBuffer(target, buffer);\n        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n        gl.bindBuffer(target, null);\n    }\n}\nfunction clientWaitAsync(gl, sync) {\n    return new Promise((resolve) => {\n        function test() {\n            const res = gl.clientWaitSync(sync, 0, 0);\n            if (res === gl.WAIT_FAILED) {\n                resolve(res);\n                return;\n            }\n            if (res === gl.TIMEOUT_EXPIRED) {\n                setTimeout(test);\n                return;\n            }\n            resolve(res);\n        }\n        setTimeout(test);\n    });\n}\n\nfunction buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const blurPass = buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel);\n    const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n    function render() {\n        blurPass.render();\n        blendPass.render();\n    }\n    function updateCoverage(coverage) {\n        blendPass.updateCoverage(coverage);\n    }\n    function cleanUp() {\n        blendPass.cleanUp();\n        blurPass.cleanUp();\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\nfunction buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const sigma = typeof blurLevel === 'number'\n        ? blurLevel\n        : blurLevel === 'low'\n            ? 2\n            : blurLevel === 'medium'\n                ? 4\n                : 6;\n    const windowSize = Math.max(1, Math.floor(sigma * 3));\n    const offset = new Array(windowSize).fill(0).map((v, index) => index);\n    const variance = sigma ** 2;\n    const weights = offset.map((x) => {\n        const m = sigma * Math.sqrt(2 * Math.PI);\n        const e = Math.exp(-(x ** 2) / (2 * variance));\n        return e / m;\n    });\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[${windowSize}] = float[](${offset.map((i) => i.toFixed(10)).join(', ')});\n    const float weight[${windowSize}] = float[](${weights.map((i) => i.toFixed(10)).join(', ')});\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < ${windowSize}; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n    const scale = 0.5;\n    const outputWidth = canvas.width * scale;\n    const outputHeight = canvas.height * scale;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const texture1 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const texture2 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const frameBuffer1 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture1, 0);\n    const frameBuffer2 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture2, 0);\n    gl.useProgram(program);\n    gl.uniform1i(personMaskLocation, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.uniform1i(inputFrameLocation, 0);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        for (let i = 0; i < 3; i++) {\n            gl.uniform2f(texelSizeLocation, 0, texelHeight);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, texture1);\n            gl.uniform1i(inputFrameLocation, 2);\n            gl.uniform2f(texelSizeLocation, texelWidth, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.bindTexture(gl.TEXTURE_2D, texture2);\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer2);\n        gl.deleteFramebuffer(frameBuffer1);\n        gl.deleteTexture(texture2);\n        gl.deleteTexture(texture1);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return {\n        render,\n        cleanUp,\n    };\n}\nfunction buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const blurredInputFrame = gl.getUniformLocation(program, 'u_blurredInputFrame');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform1i(blurredInputFrame, 2);\n    gl.uniform2f(coverageLocation, 0, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function cleanUp() {\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\n\nfunction buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const outputRatio = outputWidth / outputHeight;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const backgroundScaleLocation = gl.getUniformLocation(program, 'u_backgroundScale');\n    const backgroundOffsetLocation = gl.getUniformLocation(program, 'u_backgroundOffset');\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    const lightWrappingLocation = gl.getUniformLocation(program, 'u_lightWrapping');\n    const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n    gl.useProgram(program);\n    gl.uniform2f(backgroundScaleLocation, 1, 1);\n    gl.uniform2f(backgroundOffsetLocation, 0, 0);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform2f(coverageLocation, 0, 1);\n    gl.uniform1f(lightWrappingLocation, 0);\n    gl.uniform1f(blendModeLocation, 0);\n    let backgroundTexture = null;\n    // TODO Find a better to handle background being loaded\n    if (backgroundImage?.complete) {\n        updateBackgroundImage(backgroundImage);\n    }\n    else if (backgroundImage) {\n        backgroundImage.onload = () => {\n            updateBackgroundImage(backgroundImage);\n        };\n    }\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        if (backgroundTexture !== null) {\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n            // TODO Handle correctly the background not loaded yet\n            gl.uniform1i(backgroundLocation, 2);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateBackgroundImage(bgImage) {\n        backgroundTexture = createTexture(gl, gl.RGBA8, bgImage.naturalWidth, bgImage.naturalHeight, \n        // @ts-expect-error types are incomplete\n        gl.LINEAR, gl.LINEAR);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, bgImage.naturalWidth, bgImage.naturalHeight, gl.RGBA, gl.UNSIGNED_BYTE, bgImage);\n        let xOffset = 0;\n        let yOffset = 0;\n        let backgroundWidth = bgImage.naturalWidth;\n        let backgroundHeight = bgImage.naturalHeight;\n        const backgroundRatio = backgroundWidth / backgroundHeight;\n        if (backgroundRatio < outputRatio) {\n            backgroundHeight = backgroundWidth / outputRatio;\n            yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n        }\n        else {\n            backgroundWidth = backgroundHeight * outputRatio;\n            xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n        }\n        const xScale = backgroundWidth / bgImage.naturalWidth;\n        const yScale = backgroundHeight / bgImage.naturalHeight;\n        xOffset /= bgImage.naturalWidth;\n        yOffset /= bgImage.naturalHeight;\n        gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n        gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function updateLightWrapping(lightWrapping) {\n        gl.useProgram(program);\n        gl.uniform1f(lightWrappingLocation, lightWrapping);\n    }\n    function updateBlendMode(blendMode) {\n        gl.useProgram(program);\n        gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n    }\n    function cleanUp() {\n        gl.deleteTexture(backgroundTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        updateLightWrapping,\n        updateBlendMode,\n        cleanUp,\n    };\n}\n\nfunction buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, inputTexture, outputTexture, canvas, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const segmentationMaskLocation = gl.getUniformLocation(program, 'u_segmentationMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const stepLocation = gl.getUniformLocation(program, 'u_step');\n    const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n    const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n    const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(segmentationMaskLocation, 1);\n    gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n    // Ensures default values are configured to prevent infinite\n    // loop in fragment shader\n    updateSigmaSpace(0);\n    updateSigmaColor(0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateSigmaSpace(sigmaSpace) {\n        sigmaSpace *= Math.max(outputWidth / segmentationWidth, outputHeight / segmentationHeight);\n        const kSparsityFactor = 0.66; // Higher is sparser.\n        const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n        const radius = sigmaSpace;\n        const offset = step > 1 ? step * 0.5 : 0;\n        const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n        gl.useProgram(program);\n        gl.uniform1f(stepLocation, step);\n        gl.uniform1f(radiusLocation, radius);\n        gl.uniform1f(offsetLocation, offset);\n        gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n    }\n    function updateSigmaColor(sigmaColor) {\n        gl.useProgram(program);\n        gl.uniform1f(sigmaColorLocation, sigmaColor);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n\nfunction buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig, onError) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n    const { width: outputWidth, height: outputHeight } = segmentationConfig;\n    const outputPixelCount = outputWidth * outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    const outputPixels = new Uint8Array(outputPixelCount * 4);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        // Downloads pixels asynchronously from GPU while rendering the current frame.\n        // The pixels will be available in the next frame render which results\n        // in offsets in the segmentation output but increases the frame rate.\n        readPixelsAsync(gl, 0, 0, outputWidth, outputHeight, gl.RGBA, gl.UNSIGNED_BYTE, outputPixels).catch((error) => {\n        });\n        for (let i = 0; i < outputPixelCount; i++) {\n            const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n            const outputIndex = i * 4;\n            tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n            tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n            tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(outputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, outputTexture, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n    const inputTexture = createTexture(gl, gl.RG32F, segmentationWidth, segmentationHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputLocation, 1);\n    function render() {\n        gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, segmentationWidth, segmentationHeight, gl.RG, gl.FLOAT, tflite.HEAPF32, tfliteOutputMemoryOffset);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(inputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildWebGL2Pipeline(videoSource, backgroundImage, blurLevel, backgroundFilter, canvas, tflite, segmentationConfig, onError) {\n    const gl = canvas.getContext('webgl2');\n    if (!gl)\n        throw new Error('WebGL2 is not supported');\n    if (gl.isContextLost())\n        throw new Error('WebGL2 context was lost');\n    const { width: frameWidth, height: frameHeight } = videoSource;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const vertexArray = gl.createVertexArray();\n    gl.bindVertexArray(vertexArray);\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1.0, -1, -1, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    // We don't use texStorage2D here because texImage2D seems faster\n    // to upload video texture than texSubImage2D even though the latter\n    // is supposed to be the recommended way:\n    // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n    const inputFrameTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    // TODO Rename segmentation and person mask to be more specific\n    const segmentationTexture = createTexture(gl, gl.RGBA8, segmentationWidth, segmentationHeight);\n    const personMaskTexture = createTexture(gl, gl.RGBA8, frameWidth, frameHeight);\n    const resizingStage = buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig);\n    const loadSegmentationStage = buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationTexture, segmentationConfig);\n    const jointBilateralFilterStage = buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, segmentationTexture, personMaskTexture, canvas, segmentationConfig);\n    const backgroundStage = backgroundFilter === 'blur'\n        ? buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel || 'high')\n        : buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas);\n    function render() {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n        // texImage2D seems faster than texSubImage2D to upload\n        // video texture\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, videoSource);\n        gl.bindVertexArray(vertexArray);\n        resizingStage.render();\n        tflite._runInference();\n        loadSegmentationStage.render();\n        jointBilateralFilterStage.render();\n        backgroundStage.render();\n    }\n    function updatePostProcessingConfig() {\n        jointBilateralFilterStage.updateSigmaSpace(1);\n        jointBilateralFilterStage.updateSigmaColor(0.1);\n        if (backgroundFilter === 'image') {\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0.5, 0.75]);\n            backgroundImageStage.updateLightWrapping(0.3);\n            backgroundImageStage.updateBlendMode('screen');\n        }\n        else if (backgroundFilter === 'blur') {\n            const backgroundBlurStage = backgroundStage;\n            backgroundBlurStage.updateCoverage([0.5, 0.75]);\n        }\n        else {\n            // TODO Handle no background in a separate pipeline path\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0, 0.9999]);\n            backgroundImageStage.updateLightWrapping(0);\n        }\n    }\n    function cleanUp() {\n        backgroundStage.cleanUp();\n        jointBilateralFilterStage.cleanUp();\n        loadSegmentationStage.cleanUp();\n        resizingStage.cleanUp();\n        gl.deleteTexture(personMaskTexture);\n        gl.deleteTexture(segmentationTexture);\n        gl.deleteTexture(inputFrameTexture);\n        gl.deleteBuffer(texCoordBuffer);\n        gl.deleteBuffer(positionBuffer);\n        gl.deleteVertexArray(vertexArray);\n        gl.deleteShader(vertexShader);\n    }\n    return { render, updatePostProcessingConfig, cleanUp };\n}\n\nvar SegmentationLevel;\n(function (SegmentationLevel) {\n    SegmentationLevel[\"LOW\"] = \"low\";\n    SegmentationLevel[\"HIGH\"] = \"high\";\n})(SegmentationLevel || (SegmentationLevel = {}));\nconst getSegmentationParams = (level) => {\n    if (level === SegmentationLevel.HIGH) {\n        return { width: 256, height: 144 };\n    }\n    return { width: 160, height: 96 };\n};\n\nfunction createRenderer(tflite, videoSource, targetCanvas, options, onError) {\n    const { backgroundFilter, backgroundImage, backgroundBlurLevel, segmentationLevel = SegmentationLevel.HIGH, fps = 30, } = options;\n    if (backgroundFilter === 'image' && !backgroundImage) {\n        throw new Error(`backgroundImage element is required when backgroundFilter is image`);\n    }\n    const pipeline = buildWebGL2Pipeline(videoSource, backgroundImage, backgroundBlurLevel, backgroundFilter, targetCanvas, tflite, getSegmentationParams(segmentationLevel));\n    const id = setInterval(() => {\n        try {\n            pipeline.render();\n            if (backgroundFilter === 'image') {\n                pipeline.updatePostProcessingConfig();\n            }\n        }\n        catch (error) {\n            onError?.(error);\n        }\n    }, 1000 / (fps <= 0 ? 30 : fps));\n    return {\n        dispose: () => {\n            pipeline.cleanUp();\n            clearInterval(id);\n        },\n    };\n}\n\nconst createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var readBinary;\n  {\n    if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAPU32;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = new Int16Array(buf);\n    Module['HEAP32'] = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = new Float32Array(buf);\n    Module['HEAPF64'] = new Float64Array(buf);\n  }\n\n  Module['INITIAL_MEMORY'] || 16777216;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) ;\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB)) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency();\n    }\n\n    addRunDependency();\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  createWasm();\n  (Module['___wasm_call_ctors'] = function () {\n    return (Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  (Module['_getInputMemoryOffset'] = function () {\n    return (Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getInputHeight'] = function () {\n    return (Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  (Module['_getInputWidth'] = function () {\n    return (Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  (Module['_getInputChannelCount'] = function () {\n    return (Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  (Module['_getOutputMemoryOffset'] = function () {\n    return (Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getOutputHeight'] = function () {\n    return (Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  (Module['_getOutputWidth'] = function () {\n    return (Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  (Module['_getOutputChannelCount'] = function () {\n    return (Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  (Module['_loadModel'] = function () {\n    return (Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  (Module['_runInference'] = function () {\n    return (Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  (Module['_malloc'] = function () {\n    return (Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['___errno_location'] = function () {\n    return (Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  (Module['___dl_seterr'] = function () {\n    return (Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  (Module['stackSave'] = function () {\n    return (Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['stackRestore'] = function () {\n    return (Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  (Module['stackAlloc'] = function () {\n    return (Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  (Module['dynCall_jjj'] = function () {\n    return (Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  (Module['dynCall_jiii'] = function () {\n    return (Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  (Module['dynCall_iiiijj'] = function () {\n    return (Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viijj'] = function () {\n    return (Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viiijjj'] = function () {\n    return (Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  (Module['dynCall_iijjiiii'] = function () {\n    return (Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  (Module['dynCall_jiji'] = function () {\n    return (Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n\nconst version = \"0.2.1\";\nconst packageName = \"@stream-io/video-filters-web\";\n\n// @ts-expect-error - module is not declared\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule;\nconst loadTFLite = async (options = {}) => {\n    const { basePath = `https://unpkg.com/${packageName}@${version}/tf`, tfFilePath = `${basePath}/tflite/tflite-simd.wasm`, modelFilePath = `${basePath}/models/segm_full_v679.tflite`, } = options;\n    const [tfLite, model] = await Promise.all([\n        createTFLite({ locateFile: () => tfFilePath }),\n        fetchModel(modelFilePath),\n    ]);\n    const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n    tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n    tfLite._loadModel(model.byteLength);\n    return tfLite;\n};\nlet lastModelFilePath = '';\nlet modelFileCache;\nconst fetchModel = async (modelFilePath) => {\n    const model = modelFilePath === lastModelFilePath && modelFileCache\n        ? modelFileCache\n        : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n    // Cache the model file for future use.\n    modelFileCache = model;\n    lastModelFilePath = modelFilePath;\n    return model;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFJLEtBQUs7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELDhCQUE4QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5QkFBeUIsV0FBVyxjQUFjLDRDQUE0QztBQUM5Rix5QkFBeUIsV0FBVyxjQUFjLDZDQUE2Qzs7QUFFL0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBLHNCQUFzQixNQUFNLGFBQWE7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlDQUF5QztBQUNyRCxZQUFZLHVEQUF1RDtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsWUFBWSxnSEFBZ0g7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFEQUFxRDs7QUFFckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRCQUE0QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsWUFBWSxnQ0FBZ0MsWUFBWSxHQUFHLFFBQVEsc0JBQXNCLFNBQVMsOENBQThDLFNBQVMsa0NBQWtDO0FBQzNMO0FBQ0EsdUJBQXVCLDhCQUE4QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThFO0FBQzlFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGhwXFxEb3dubG9hZHNcXHJlbW90ZS1pbnRlcnZpZXctcGxhdGZvcm1cXG5vZGVfbW9kdWxlc1xcQHN0cmVhbS1pb1xcdmlkZW8tZmlsdGVycy13ZWJcXGRpc3RcXGluZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpbWQgfSBmcm9tICd3YXNtLWZlYXR1cmUtZGV0ZWN0JztcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgYSBtb2JpbGUgZGV2aWNlLlxuICpcbiAqIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQnJvd3Nlcl9kZXRlY3Rpb25fdXNpbmdfdGhlX3VzZXJfYWdlbnRcbiAqL1xuY29uc3QgaXNNb2JpbGUgPSAoKSA9PiAvTW9iaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4vKipcbiAqIFJ1bnMgYSBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gc3VwcG9ydHNcbiAqIHRoZSBuZWNlc3NhcnkgQVBJcyByZXF1aXJlZCBmb3IgdGhlIHZpZGVvIGZpbHRlcnMuXG4gKi9cbmNvbnN0IGlzUGxhdGZvcm1TdXBwb3J0ZWQgPSBhc3luYyAoKSA9PiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICFpc01vYmlsZSgpICYmIC8vIHdlIGRvbid0IHN1cHBvcnQgbW9iaWxlIGRldmljZXMgeWV0IGR1ZSB0byBwZXJmb3JtYW5jZSBpc3N1ZXNcbiAgICB0eXBlb2YgV2ViQXNzZW1ibHkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgISF3aW5kb3cuV2ViR0wyUmVuZGVyaW5nQ29udGV4dCAmJiAvLyBXZWJHTDIgaXMgcmVxdWlyZWQgZm9yIHRoZSB2aWRlbyBmaWx0ZXJzXG4gICAgISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCd3ZWJnbDInKSAmJlxuICAgIChhd2FpdCBzaW1kKCkpOyAvLyBTSU1EIGlzIHJlcXVpcmVkIGZvciB0aGUgd2FzbSBtb2R1bGVcblxuLyoqXG4gKiBVc2UgaXQgYWxvbmcgd2l0aCBib3lzd2FuLmdsc2wtbGl0ZXJhbCBWU0NvZGUgZXh0ZW5zaW9uXG4gKiB0byBnZXQgR0xTTCBzeW50YXggaGlnaGxpZ2h0aW5nLlxuICogaHR0cHM6Ly9tYXJrZXRwbGFjZS52aXN1YWxzdHVkaW8uY29tL2l0ZW1zP2l0ZW1OYW1lPWJveXN3YW4uZ2xzbC1saXRlcmFsXG4gKlxuICogT24gVlNDb2RlIE9TUywgYm95c3dhbi5nbHNsLWxpdGVyYWwgcmVxdWlyZXMgc2xldmVzcXVlLnNoYWRlciBleHRlbnNpb25cbiAqIHRvIGJlIGluc3RhbGxlZCBhcyB3ZWxsLlxuICogaHR0cHM6Ly9tYXJrZXRwbGFjZS52aXN1YWxzdHVkaW8uY29tL2l0ZW1zP2l0ZW1OYW1lPXNsZXZlc3F1ZS5zaGFkZXJcbiAqL1xuY29uc3QgZ2xzbCA9IFN0cmluZy5yYXc7XG5mdW5jdGlvbiBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKSB7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYV9wb3NpdGlvbicpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGNvbnN0IHRleENvb3JkQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYV90ZXhDb29yZCcpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRleENvb3JkQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0ZXhDb29yZEF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIHJldHVybiBwcm9ncmFtO1xufVxuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcikge1xuICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGxpbmsgV2ViR0wgcHJvZ3JhbTogJHtnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCBzaGFkZXJUeXBlLCBzaGFkZXJTb3VyY2UpIHtcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29tcGlsZSBzaGFkZXI6ICR7Z2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpfWApO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShnbCwgaW50ZXJuYWxmb3JtYXQsIHdpZHRoLCBoZWlnaHQsIG1pbkZpbHRlciA9IGdsLk5FQVJFU1QsIG1hZ0ZpbHRlciA9IGdsLk5FQVJFU1QpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBtaW5GaWx0ZXIpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBtYWdGaWx0ZXIpO1xuICAgIGdsLnRleFN0b3JhZ2UyRChnbC5URVhUVVJFXzJELCAxLCBpbnRlcm5hbGZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XG4gICAgcmV0dXJuIHRleHR1cmU7XG59XG5hc3luYyBmdW5jdGlvbiByZWFkUGl4ZWxzQXN5bmMoZ2wsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgZGVzdCkge1xuICAgIGNvbnN0IGJ1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuUElYRUxfUEFDS19CVUZGRVIsIGJ1Zik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5QSVhFTF9QQUNLX0JVRkZFUiwgZGVzdC5ieXRlTGVuZ3RoLCBnbC5TVFJFQU1fUkVBRCk7XG4gICAgZ2wucmVhZFBpeGVscyh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIHR5cGUsIDApO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuUElYRUxfUEFDS19CVUZGRVIsIG51bGwpO1xuICAgIGF3YWl0IGdldEJ1ZmZlclN1YkRhdGFBc3luYyhnbCwgZ2wuUElYRUxfUEFDS19CVUZGRVIsIGJ1ZiwgMCwgZGVzdCk7XG4gICAgZ2wuZGVsZXRlQnVmZmVyKGJ1Zik7XG4gICAgcmV0dXJuIGRlc3Q7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRCdWZmZXJTdWJEYXRhQXN5bmMoZ2wsIHRhcmdldCwgYnVmZmVyLCBzcmNCeXRlT2Zmc2V0LCBkc3RCdWZmZXIsIGRzdE9mZnNldCwgbGVuZ3RoKSB7XG4gICAgY29uc3Qgc3luYyA9IGdsLmZlbmNlU3luYyhnbC5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwgMCk7XG4gICAgZ2wuZmx1c2goKTtcbiAgICBpZiAoIXN5bmMpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnRXYWl0QXN5bmMoZ2wsIHN5bmMpO1xuICAgIGdsLmRlbGV0ZVN5bmMoc3luYyk7XG4gICAgaWYgKHJlcyAhPT0gZ2wuV0FJVF9GQUlMRUQpIHtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcih0YXJnZXQsIGJ1ZmZlcik7XG4gICAgICAgIGdsLmdldEJ1ZmZlclN1YkRhdGEodGFyZ2V0LCBzcmNCeXRlT2Zmc2V0LCBkc3RCdWZmZXIsIGRzdE9mZnNldCwgbGVuZ3RoKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcih0YXJnZXQsIG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsaWVudFdhaXRBc3luYyhnbCwgc3luYykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gZ2wuY2xpZW50V2FpdFN5bmMoc3luYywgMCwgMCk7XG4gICAgICAgICAgICBpZiAocmVzID09PSBnbC5XQUlUX0ZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzID09PSBnbC5USU1FT1VUX0VYUElSRUQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRlc3QpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KHRlc3QpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEJhY2tncm91bmRCbHVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwpIHtcbiAgICBjb25zdCBibHVyUGFzcyA9IGJ1aWxkQmx1clBhc3MoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwpO1xuICAgIGNvbnN0IGJsZW5kUGFzcyA9IGJ1aWxkQmxlbmRQYXNzKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIGNhbnZhcyk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBibHVyUGFzcy5yZW5kZXIoKTtcbiAgICAgICAgYmxlbmRQYXNzLnJlbmRlcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb3ZlcmFnZShjb3ZlcmFnZSkge1xuICAgICAgICBibGVuZFBhc3MudXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBibGVuZFBhc3MuY2xlYW5VcCgpO1xuICAgICAgICBibHVyUGFzcy5jbGVhblVwKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgdXBkYXRlQ292ZXJhZ2UsXG4gICAgICAgIGNsZWFuVXAsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQmx1clBhc3MoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwpIHtcbiAgICBjb25zdCBzaWdtYSA9IHR5cGVvZiBibHVyTGV2ZWwgPT09ICdudW1iZXInXG4gICAgICAgID8gYmx1ckxldmVsXG4gICAgICAgIDogYmx1ckxldmVsID09PSAnbG93J1xuICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICA6IGJsdXJMZXZlbCA9PT0gJ21lZGl1bSdcbiAgICAgICAgICAgICAgICA/IDRcbiAgICAgICAgICAgICAgICA6IDY7XG4gICAgY29uc3Qgd2luZG93U2l6ZSA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3Ioc2lnbWEgKiAzKSk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbmV3IEFycmF5KHdpbmRvd1NpemUpLmZpbGwoMCkubWFwKCh2LCBpbmRleCkgPT4gaW5kZXgpO1xuICAgIGNvbnN0IHZhcmlhbmNlID0gc2lnbWEgKiogMjtcbiAgICBjb25zdCB3ZWlnaHRzID0gb2Zmc2V0Lm1hcCgoeCkgPT4ge1xuICAgICAgICBjb25zdCBtID0gc2lnbWEgKiBNYXRoLnNxcnQoMiAqIE1hdGguUEkpO1xuICAgICAgICBjb25zdCBlID0gTWF0aC5leHAoLSh4ICoqIDIpIC8gKDIgKiB2YXJpYW5jZSkpO1xuICAgICAgICByZXR1cm4gZSAvIG07XG4gICAgfSk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSB2ZWMyIHVfdGV4ZWxTaXplO1xuXG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgY29uc3QgZmxvYXQgb2Zmc2V0WyR7d2luZG93U2l6ZX1dID0gZmxvYXRbXSgke29mZnNldC5tYXAoKGkpID0+IGkudG9GaXhlZCgxMCkpLmpvaW4oJywgJyl9KTtcbiAgICBjb25zdCBmbG9hdCB3ZWlnaHRbJHt3aW5kb3dTaXplfV0gPSBmbG9hdFtdKCR7d2VpZ2h0cy5tYXAoKGkpID0+IGkudG9GaXhlZCgxMCkpLmpvaW4oJywgJyl9KTtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzQgY2VudGVyQ29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCk7XG4gICAgICBmbG9hdCBwZXJzb25NYXNrID0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHZfdGV4Q29vcmQpLmE7XG5cbiAgICAgIHZlYzQgZnJhbWVDb2xvciA9IGNlbnRlckNvbG9yICogd2VpZ2h0WzBdICogKDEuMCAtIHBlcnNvbk1hc2spO1xuXG4gICAgICBmb3IgKGludCBpID0gMTsgaSA8ICR7d2luZG93U2l6ZX07IGkrKykge1xuICAgICAgICB2ZWMyIG9mZnNldCA9IHZlYzIob2Zmc2V0W2ldKSAqIHVfdGV4ZWxTaXplO1xuXG4gICAgICAgIHZlYzIgdGV4Q29vcmQgPSB2X3RleENvb3JkICsgb2Zmc2V0O1xuICAgICAgICBmcmFtZUNvbG9yICs9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB0ZXhDb29yZClcbiAgICAgICAgICAgKiB3ZWlnaHRbaV1cbiAgICAgICAgICAgKiAoMS4wIC0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHRleENvb3JkKS5hKTtcblxuICAgICAgICB0ZXhDb29yZCA9IHZfdGV4Q29vcmQgLSBvZmZzZXQ7XG4gICAgICAgIGZyYW1lQ29sb3IgKz0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHRleENvb3JkKVxuICAgICAgICAgICogd2VpZ2h0W2ldXG4gICAgICAgICAgKiAoMS4wIC0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHRleENvb3JkKS5hKTtcbiAgICAgIH1cbiAgICAgIG91dENvbG9yID0gdmVjNChmcmFtZUNvbG9yLnJnYiArICgxLjAgLSBmcmFtZUNvbG9yLmEpICogY2VudGVyQ29sb3IucmdiLCAxLjApO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCBzY2FsZSA9IDAuNTtcbiAgICBjb25zdCBvdXRwdXRXaWR0aCA9IGNhbnZhcy53aWR0aCAqIHNjYWxlO1xuICAgIGNvbnN0IG91dHB1dEhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiBzY2FsZTtcbiAgICBjb25zdCB0ZXhlbFdpZHRoID0gMSAvIG91dHB1dFdpZHRoO1xuICAgIGNvbnN0IHRleGVsSGVpZ2h0ID0gMSAvIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHBlcnNvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9wZXJzb25NYXNrJyk7XG4gICAgY29uc3QgdGV4ZWxTaXplTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfdGV4ZWxTaXplJyk7XG4gICAgY29uc3QgdGV4dHVyZTEgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgZ2wuTkVBUkVTVCwgXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlcyBhcmUgaW5jb21wbGV0ZVxuICAgIGdsLkxJTkVBUik7XG4gICAgY29uc3QgdGV4dHVyZTIgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgZ2wuTkVBUkVTVCwgXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlcyBhcmUgaW5jb21wbGV0ZVxuICAgIGdsLkxJTkVBUik7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIxID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMSk7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlMSwgMCk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMik7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlMiwgMCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZih0ZXhlbFNpemVMb2NhdGlvbiwgMCwgdGV4ZWxIZWlnaHQpO1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjEpO1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUxKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDIpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHRleGVsU2l6ZUxvY2F0aW9uLCB0ZXhlbFdpZHRoLCAwKTtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIyKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyMik7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyMSk7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZTIpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUxKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZEJsZW5kUGFzcyhnbCwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBjYW52YXMpIHtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjMiB2X3RleENvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgLy8gRmxpcHBpbmcgWSBpcyByZXF1aXJlZCB3aGVuIHJlbmRlcmluZyB0byBjYW52YXNcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uICogdmVjMigxLjAsIC0xLjApLCAwLjAsIDEuMCk7XG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9ibHVycmVkSW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHZlYzIgdV9jb3ZlcmFnZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcblxuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMyBjb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKS5yZ2I7XG4gICAgICB2ZWMzIGJsdXJyZWRDb2xvciA9IHRleHR1cmUodV9ibHVycmVkSW5wdXRGcmFtZSwgdl90ZXhDb29yZCkucmdiO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuICAgICAgcGVyc29uTWFzayA9IHNtb290aHN0ZXAodV9jb3ZlcmFnZS54LCB1X2NvdmVyYWdlLnksIHBlcnNvbk1hc2spO1xuICAgICAgb3V0Q29sb3IgPSB2ZWM0KG1peChibHVycmVkQ29sb3IsIGNvbG9yLCBwZXJzb25NYXNrKSwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHBlcnNvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9wZXJzb25NYXNrJyk7XG4gICAgY29uc3QgYmx1cnJlZElucHV0RnJhbWUgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmx1cnJlZElucHV0RnJhbWUnKTtcbiAgICBjb25zdCBjb3ZlcmFnZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2NvdmVyYWdlJyk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMWkoYmx1cnJlZElucHV0RnJhbWUsIDIpO1xuICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCAwLCAxKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGNvdmVyYWdlTG9jYXRpb24sIGNvdmVyYWdlWzBdLCBjb3ZlcmFnZVsxXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIHVwZGF0ZUNvdmVyYWdlLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQmFja2dyb3VuZEltYWdlU3RhZ2UoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGJhY2tncm91bmRJbWFnZSwgY2FudmFzKSB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICB1bmlmb3JtIHZlYzIgdV9iYWNrZ3JvdW5kU2NhbGU7XG4gICAgdW5pZm9ybSB2ZWMyIHVfYmFja2dyb3VuZE9mZnNldDtcblxuICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWMyIHZfYmFja2dyb3VuZENvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgLy8gRmxpcHBpbmcgWSBpcyByZXF1aXJlZCB3aGVuIHJlbmRlcmluZyB0byBjYW52YXNcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uICogdmVjMigxLjAsIC0xLjApLCAwLjAsIDEuMCk7XG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcbiAgICAgIHZfYmFja2dyb3VuZENvb3JkID0gYV90ZXhDb29yZCAqIHVfYmFja2dyb3VuZFNjYWxlICsgdV9iYWNrZ3JvdW5kT2Zmc2V0O1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfcGVyc29uTWFzaztcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2JhY2tncm91bmQ7XG4gICAgdW5pZm9ybSB2ZWMyIHVfY292ZXJhZ2U7XG4gICAgdW5pZm9ybSBmbG9hdCB1X2xpZ2h0V3JhcHBpbmc7XG4gICAgdW5pZm9ybSBmbG9hdCB1X2JsZW5kTW9kZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBpbiB2ZWMyIHZfYmFja2dyb3VuZENvb3JkO1xuXG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICB2ZWMzIHNjcmVlbih2ZWMzIGEsIHZlYzMgYikge1xuICAgICAgcmV0dXJuIDEuMCAtICgxLjAgLSBhKSAqICgxLjAgLSBiKTtcbiAgICB9XG5cbiAgICB2ZWMzIGxpbmVhckRvZGdlKHZlYzMgYSwgdmVjMyBiKSB7XG4gICAgICByZXR1cm4gYSArIGI7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMyBmcmFtZUNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpLnJnYjtcbiAgICAgIHZlYzMgYmFja2dyb3VuZENvbG9yID0gdGV4dHVyZSh1X2JhY2tncm91bmQsIHZfYmFja2dyb3VuZENvb3JkKS5yZ2I7XG4gICAgICBmbG9hdCBwZXJzb25NYXNrID0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHZfdGV4Q29vcmQpLmE7XG4gICAgICBmbG9hdCBsaWdodFdyYXBNYXNrID0gMS4wIC0gbWF4KDAuMCwgcGVyc29uTWFzayAtIHVfY292ZXJhZ2UueSkgLyAoMS4wIC0gdV9jb3ZlcmFnZS55KTtcbiAgICAgIHZlYzMgbGlnaHRXcmFwID0gdV9saWdodFdyYXBwaW5nICogbGlnaHRXcmFwTWFzayAqIGJhY2tncm91bmRDb2xvcjtcblxuICAgICAgZnJhbWVDb2xvciA9IHVfYmxlbmRNb2RlICogbGluZWFyRG9kZ2UoZnJhbWVDb2xvciwgbGlnaHRXcmFwKVxuICAgICAgICArICgxLjAgLSB1X2JsZW5kTW9kZSkgKiBzY3JlZW4oZnJhbWVDb2xvciwgbGlnaHRXcmFwKTtcbiAgICAgIHBlcnNvbk1hc2sgPSBzbW9vdGhzdGVwKHVfY292ZXJhZ2UueCwgdV9jb3ZlcmFnZS55LCBwZXJzb25NYXNrKTtcbiAgICAgIG91dENvbG9yID0gdmVjNChmcmFtZUNvbG9yICogcGVyc29uTWFzayArIGJhY2tncm91bmRDb2xvciAqICgxLjAgLSBwZXJzb25NYXNrKSwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3Qgb3V0cHV0UmF0aW8gPSBvdXRwdXRXaWR0aCAvIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGJhY2tncm91bmRTY2FsZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JhY2tncm91bmRTY2FsZScpO1xuICAgIGNvbnN0IGJhY2tncm91bmRPZmZzZXRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kT2Zmc2V0Jyk7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IGJhY2tncm91bmRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kJyk7XG4gICAgY29uc3QgY292ZXJhZ2VMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jb3ZlcmFnZScpO1xuICAgIGNvbnN0IGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9saWdodFdyYXBwaW5nJyk7XG4gICAgY29uc3QgYmxlbmRNb2RlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmxlbmRNb2RlJyk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZFNjYWxlTG9jYXRpb24sIDEsIDEpO1xuICAgIGdsLnVuaWZvcm0yZihiYWNrZ3JvdW5kT2Zmc2V0TG9jYXRpb24sIDAsIDApO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGdsLnVuaWZvcm0xaShwZXJzb25NYXNrTG9jYXRpb24sIDEpO1xuICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCAwLCAxKTtcbiAgICBnbC51bmlmb3JtMWYobGlnaHRXcmFwcGluZ0xvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWYoYmxlbmRNb2RlTG9jYXRpb24sIDApO1xuICAgIGxldCBiYWNrZ3JvdW5kVGV4dHVyZSA9IG51bGw7XG4gICAgLy8gVE9ETyBGaW5kIGEgYmV0dGVyIHRvIGhhbmRsZSBiYWNrZ3JvdW5kIGJlaW5nIGxvYWRlZFxuICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2U/LmNvbXBsZXRlKSB7XG4gICAgICAgIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiYWNrZ3JvdW5kSW1hZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChiYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiYWNrZ3JvdW5kSW1hZ2UpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcGVyc29uTWFza1RleHR1cmUpO1xuICAgICAgICBpZiAoYmFja2dyb3VuZFRleHR1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTIpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgYmFja2dyb3VuZFRleHR1cmUpO1xuICAgICAgICAgICAgLy8gVE9ETyBIYW5kbGUgY29ycmVjdGx5IHRoZSBiYWNrZ3JvdW5kIG5vdCBsb2FkZWQgeWV0XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkoYmFja2dyb3VuZExvY2F0aW9uLCAyKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQmFja2dyb3VuZEltYWdlKGJnSW1hZ2UpIHtcbiAgICAgICAgYmFja2dyb3VuZFRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgYmdJbWFnZS5uYXR1cmFsV2lkdGgsIGJnSW1hZ2UubmF0dXJhbEhlaWdodCwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICAgICAgZ2wuTElORUFSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJnSW1hZ2UubmF0dXJhbFdpZHRoLCBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGJnSW1hZ2UpO1xuICAgICAgICBsZXQgeE9mZnNldCA9IDA7XG4gICAgICAgIGxldCB5T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGJhY2tncm91bmRXaWR0aCA9IGJnSW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBsZXQgYmFja2dyb3VuZEhlaWdodCA9IGJnSW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZFJhdGlvID0gYmFja2dyb3VuZFdpZHRoIC8gYmFja2dyb3VuZEhlaWdodDtcbiAgICAgICAgaWYgKGJhY2tncm91bmRSYXRpbyA8IG91dHB1dFJhdGlvKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSGVpZ2h0ID0gYmFja2dyb3VuZFdpZHRoIC8gb3V0cHV0UmF0aW87XG4gICAgICAgICAgICB5T2Zmc2V0ID0gKGJnSW1hZ2UubmF0dXJhbEhlaWdodCAtIGJhY2tncm91bmRIZWlnaHQpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRXaWR0aCA9IGJhY2tncm91bmRIZWlnaHQgKiBvdXRwdXRSYXRpbztcbiAgICAgICAgICAgIHhPZmZzZXQgPSAoYmdJbWFnZS5uYXR1cmFsV2lkdGggLSBiYWNrZ3JvdW5kV2lkdGgpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB4U2NhbGUgPSBiYWNrZ3JvdW5kV2lkdGggLyBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgY29uc3QgeVNjYWxlID0gYmFja2dyb3VuZEhlaWdodCAvIGJnSW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgeE9mZnNldCAvPSBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgeU9mZnNldCAvPSBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGdsLnVuaWZvcm0yZihiYWNrZ3JvdW5kU2NhbGVMb2NhdGlvbiwgeFNjYWxlLCB5U2NhbGUpO1xuICAgICAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZE9mZnNldExvY2F0aW9uLCB4T2Zmc2V0LCB5T2Zmc2V0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGNvdmVyYWdlTG9jYXRpb24sIGNvdmVyYWdlWzBdLCBjb3ZlcmFnZVsxXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxpZ2h0V3JhcHBpbmcobGlnaHRXcmFwcGluZykge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYobGlnaHRXcmFwcGluZ0xvY2F0aW9uLCBsaWdodFdyYXBwaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYoYmxlbmRNb2RlTG9jYXRpb24sIGJsZW5kTW9kZSA9PT0gJ3NjcmVlbicgPyAwIDogMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUoYmFja2dyb3VuZFRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgdXBkYXRlTGlnaHRXcmFwcGluZyxcbiAgICAgICAgdXBkYXRlQmxlbmRNb2RlLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkSm9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIGlucHV0VGV4dHVyZSwgb3V0cHV0VGV4dHVyZSwgY2FudmFzLCBzZWdtZW50YXRpb25Db25maWcpIHtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfc2VnbWVudGF0aW9uTWFzaztcbiAgICB1bmlmb3JtIHZlYzIgdV90ZXhlbFNpemU7XG4gICAgdW5pZm9ybSBmbG9hdCB1X3N0ZXA7XG4gICAgdW5pZm9ybSBmbG9hdCB1X3JhZGl1cztcbiAgICB1bmlmb3JtIGZsb2F0IHVfb2Zmc2V0O1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zaWdtYVRleGVsO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zaWdtYUNvbG9yO1xuXG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgZmxvYXQgZ2F1c3NpYW4oZmxvYXQgeCwgZmxvYXQgc2lnbWEpIHtcbiAgICAgIGZsb2F0IGNvZWZmID0gLTAuNSAvIChzaWdtYSAqIHNpZ21hICogNC4wICsgMS4wZS02KTtcbiAgICAgIHJldHVybiBleHAoKHggKiB4KSAqIGNvZWZmKTtcbiAgICB9XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWMyIGNlbnRlckNvb3JkID0gdl90ZXhDb29yZDtcbiAgICAgIHZlYzMgY2VudGVyQ29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgY2VudGVyQ29vcmQpLnJnYjtcbiAgICAgIGZsb2F0IG5ld1ZhbCA9IDAuMDtcblxuICAgICAgZmxvYXQgc3BhY2VXZWlnaHQgPSAwLjA7XG4gICAgICBmbG9hdCBjb2xvcldlaWdodCA9IDAuMDtcbiAgICAgIGZsb2F0IHRvdGFsV2VpZ2h0ID0gMC4wO1xuXG4gICAgICAvLyBTdWJzYW1wbGUga2VybmVsIHNwYWNlLlxuICAgICAgZm9yIChmbG9hdCBpID0gLXVfcmFkaXVzICsgdV9vZmZzZXQ7IGkgPD0gdV9yYWRpdXM7IGkgKz0gdV9zdGVwKSB7XG4gICAgICAgIGZvciAoZmxvYXQgaiA9IC11X3JhZGl1cyArIHVfb2Zmc2V0OyBqIDw9IHVfcmFkaXVzOyBqICs9IHVfc3RlcCkge1xuICAgICAgICAgIHZlYzIgc2hpZnQgPSB2ZWMyKGosIGkpICogdV90ZXhlbFNpemU7XG4gICAgICAgICAgdmVjMiBjb29yZCA9IHZlYzIoY2VudGVyQ29vcmQgKyBzaGlmdCk7XG4gICAgICAgICAgdmVjMyBmcmFtZUNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIGNvb3JkKS5yZ2I7XG4gICAgICAgICAgZmxvYXQgb3V0VmFsID0gdGV4dHVyZSh1X3NlZ21lbnRhdGlvbk1hc2ssIGNvb3JkKS5hO1xuXG4gICAgICAgICAgc3BhY2VXZWlnaHQgPSBnYXVzc2lhbihkaXN0YW5jZShjZW50ZXJDb29yZCwgY29vcmQpLCB1X3NpZ21hVGV4ZWwpO1xuICAgICAgICAgIGNvbG9yV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29sb3IsIGZyYW1lQ29sb3IpLCB1X3NpZ21hQ29sb3IpO1xuICAgICAgICAgIHRvdGFsV2VpZ2h0ICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQ7XG5cbiAgICAgICAgICBuZXdWYWwgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodCAqIG91dFZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3VmFsIC89IHRvdGFsV2VpZ2h0O1xuXG4gICAgICBvdXRDb2xvciA9IHZlYzQodmVjMygwLjApLCBuZXdWYWwpO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCB7IHdpZHRoOiBzZWdtZW50YXRpb25XaWR0aCwgaGVpZ2h0OiBzZWdtZW50YXRpb25IZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IGNhbnZhcztcbiAgICBjb25zdCB0ZXhlbFdpZHRoID0gMSAvIG91dHB1dFdpZHRoO1xuICAgIGNvbnN0IHRleGVsSGVpZ2h0ID0gMSAvIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHNlZ21lbnRhdGlvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zZWdtZW50YXRpb25NYXNrJyk7XG4gICAgY29uc3QgdGV4ZWxTaXplTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfdGV4ZWxTaXplJyk7XG4gICAgY29uc3Qgc3RlcExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3N0ZXAnKTtcbiAgICBjb25zdCByYWRpdXNMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9yYWRpdXMnKTtcbiAgICBjb25zdCBvZmZzZXRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9vZmZzZXQnKTtcbiAgICBjb25zdCBzaWdtYVRleGVsTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2lnbWFUZXhlbCcpO1xuICAgIGNvbnN0IHNpZ21hQ29sb3JMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zaWdtYUNvbG9yJyk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgb3V0cHV0VGV4dHVyZSwgMCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkoc2VnbWVudGF0aW9uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMmYodGV4ZWxTaXplTG9jYXRpb24sIHRleGVsV2lkdGgsIHRleGVsSGVpZ2h0KTtcbiAgICAvLyBFbnN1cmVzIGRlZmF1bHQgdmFsdWVzIGFyZSBjb25maWd1cmVkIHRvIHByZXZlbnQgaW5maW5pdGVcbiAgICAvLyBsb29wIGluIGZyYWdtZW50IHNoYWRlclxuICAgIHVwZGF0ZVNpZ21hU3BhY2UoMCk7XG4gICAgdXBkYXRlU2lnbWFDb2xvcigwKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTaWdtYVNwYWNlKHNpZ21hU3BhY2UpIHtcbiAgICAgICAgc2lnbWFTcGFjZSAqPSBNYXRoLm1heChvdXRwdXRXaWR0aCAvIHNlZ21lbnRhdGlvbldpZHRoLCBvdXRwdXRIZWlnaHQgLyBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgICAgICBjb25zdCBrU3BhcnNpdHlGYWN0b3IgPSAwLjY2OyAvLyBIaWdoZXIgaXMgc3BhcnNlci5cbiAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgubWF4KDEsIE1hdGguc3FydChzaWdtYVNwYWNlKSAqIGtTcGFyc2l0eUZhY3Rvcik7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHNpZ21hU3BhY2U7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHN0ZXAgPiAxID8gc3RlcCAqIDAuNSA6IDA7XG4gICAgICAgIGNvbnN0IHNpZ21hVGV4ZWwgPSBNYXRoLm1heCh0ZXhlbFdpZHRoLCB0ZXhlbEhlaWdodCkgKiBzaWdtYVNwYWNlO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYoc3RlcExvY2F0aW9uLCBzdGVwKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHJhZGl1c0xvY2F0aW9uLCByYWRpdXMpO1xuICAgICAgICBnbC51bmlmb3JtMWYob2Zmc2V0TG9jYXRpb24sIG9mZnNldCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihzaWdtYVRleGVsTG9jYXRpb24sIHNpZ21hVGV4ZWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTaWdtYUNvbG9yKHNpZ21hQ29sb3IpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHNpZ21hQ29sb3JMb2NhdGlvbiwgc2lnbWFDb2xvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCB1cGRhdGVTaWdtYVNwYWNlLCB1cGRhdGVTaWdtYUNvbG9yLCBjbGVhblVwIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVzaXppbmdTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgc2VnbWVudGF0aW9uQ29uZmlnLCBvbkVycm9yKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCk7XG4gICAgfVxuICBgO1xuICAgIC8vIFRGTGl0ZSBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCBhcyBmbG9hdDMyXG4gICAgY29uc3QgdGZsaXRlSW5wdXRNZW1vcnlPZmZzZXQgPSB0ZmxpdGUuX2dldElucHV0TWVtb3J5T2Zmc2V0KCkgLyA0O1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IG91dHB1dFBpeGVsQ291bnQgPSBvdXRwdXRXaWR0aCAqIG91dHB1dEhlaWdodDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IG91dHB1dFRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgb3V0cHV0VGV4dHVyZSwgMCk7XG4gICAgY29uc3Qgb3V0cHV0UGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkob3V0cHV0UGl4ZWxDb3VudCAqIDQpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAvLyBEb3dubG9hZHMgcGl4ZWxzIGFzeW5jaHJvbm91c2x5IGZyb20gR1BVIHdoaWxlIHJlbmRlcmluZyB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgLy8gVGhlIHBpeGVscyB3aWxsIGJlIGF2YWlsYWJsZSBpbiB0aGUgbmV4dCBmcmFtZSByZW5kZXIgd2hpY2ggcmVzdWx0c1xuICAgICAgICAvLyBpbiBvZmZzZXRzIGluIHRoZSBzZWdtZW50YXRpb24gb3V0cHV0IGJ1dCBpbmNyZWFzZXMgdGhlIGZyYW1lIHJhdGUuXG4gICAgICAgIHJlYWRQaXhlbHNBc3luYyhnbCwgMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgb3V0cHV0UGl4ZWxzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0UGl4ZWxDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0ZmxpdGVJbmRleCA9IHRmbGl0ZUlucHV0TWVtb3J5T2Zmc2V0ICsgaSAqIDM7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRJbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgdGZsaXRlLkhFQVBGMzJbdGZsaXRlSW5kZXhdID0gb3V0cHV0UGl4ZWxzW291dHB1dEluZGV4XSAvIDI1NTtcbiAgICAgICAgICAgIHRmbGl0ZS5IRUFQRjMyW3RmbGl0ZUluZGV4ICsgMV0gPSBvdXRwdXRQaXhlbHNbb3V0cHV0SW5kZXggKyAxXSAvIDI1NTtcbiAgICAgICAgICAgIHRmbGl0ZS5IRUFQRjMyW3RmbGl0ZUluZGV4ICsgMl0gPSBvdXRwdXRQaXhlbHNbb3V0cHV0SW5kZXggKyAyXSAvIDI1NTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUob3V0cHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFNvZnRtYXhTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgb3V0cHV0VGV4dHVyZSwgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRTZWdtZW50YXRpb247XG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMiBzZWdtZW50YXRpb24gPSB0ZXh0dXJlKHVfaW5wdXRTZWdtZW50YXRpb24sIHZfdGV4Q29vcmQpLnJnO1xuICAgICAgZmxvYXQgc2hpZnQgPSBtYXgoc2VnbWVudGF0aW9uLnIsIHNlZ21lbnRhdGlvbi5nKTtcbiAgICAgIGZsb2F0IGJhY2tncm91bmRFeHAgPSBleHAoc2VnbWVudGF0aW9uLnIgLSBzaGlmdCk7XG4gICAgICBmbG9hdCBwZXJzb25FeHAgPSBleHAoc2VnbWVudGF0aW9uLmcgLSBzaGlmdCk7XG4gICAgICBvdXRDb2xvciA9IHZlYzQodmVjMygwLjApLCBwZXJzb25FeHAgLyAoYmFja2dyb3VuZEV4cCArIHBlcnNvbkV4cCkpO1xuICAgIH1cbiAgYDtcbiAgICAvLyBURkxpdGUgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQgYXMgZmxvYXQzMlxuICAgIGNvbnN0IHRmbGl0ZU91dHB1dE1lbW9yeU9mZnNldCA9IHRmbGl0ZS5fZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0KCkgLyA0O1xuICAgIGNvbnN0IHsgd2lkdGg6IHNlZ21lbnRhdGlvbldpZHRoLCBoZWlnaHQ6IHNlZ21lbnRhdGlvbkhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGlucHV0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRTZWdtZW50YXRpb24nKTtcbiAgICBjb25zdCBpbnB1dFRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SRzMyRiwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgb3V0cHV0VGV4dHVyZSwgMCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRMb2NhdGlvbiwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCwgZ2wuUkcsIGdsLkZMT0FULCB0ZmxpdGUuSEVBUEYzMiwgdGZsaXRlT3V0cHV0TWVtb3J5T2Zmc2V0KTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUoaW5wdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCBjbGVhblVwIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkV2ViR0wyUGlwZWxpbmUodmlkZW9Tb3VyY2UsIGJhY2tncm91bmRJbWFnZSwgYmx1ckxldmVsLCBiYWNrZ3JvdW5kRmlsdGVyLCBjYW52YXMsIHRmbGl0ZSwgc2VnbWVudGF0aW9uQ29uZmlnLCBvbkVycm9yKSB7XG4gICAgY29uc3QgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJyk7XG4gICAgaWYgKCFnbClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTDIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wyIGNvbnRleHQgd2FzIGxvc3QnKTtcbiAgICBjb25zdCB7IHdpZHRoOiBmcmFtZVdpZHRoLCBoZWlnaHQ6IGZyYW1lSGVpZ2h0IH0gPSB2aWRlb1NvdXJjZTtcbiAgICBjb25zdCB7IHdpZHRoOiBzZWdtZW50YXRpb25XaWR0aCwgaGVpZ2h0OiBzZWdtZW50YXRpb25IZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uLCAwLjAsIDEuMCk7XG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCB2ZXJ0ZXhBcnJheSA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgZ2wuYmluZFZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICBjb25zdCBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMS4wLCAtMSwgLTEsIDEuMCwgMS4wLCAxLjBdKSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGNvbnN0IHRleENvb3JkQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDEuMCwgMS4wLCAxLjBdKSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIC8vIFdlIGRvbid0IHVzZSB0ZXhTdG9yYWdlMkQgaGVyZSBiZWNhdXNlIHRleEltYWdlMkQgc2VlbXMgZmFzdGVyXG4gICAgLy8gdG8gdXBsb2FkIHZpZGVvIHRleHR1cmUgdGhhbiB0ZXhTdWJJbWFnZTJEIGV2ZW4gdGhvdWdoIHRoZSBsYXR0ZXJcbiAgICAvLyBpcyBzdXBwb3NlZCB0byBiZSB0aGUgcmVjb21tZW5kZWQgd2F5OlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTF9BUEkvV2ViR0xfYmVzdF9wcmFjdGljZXMjdXNlX3RleHN0b3JhZ2VfdG9fY3JlYXRlX3RleHR1cmVzXG4gICAgY29uc3QgaW5wdXRGcmFtZVRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRGcmFtZVRleHR1cmUpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgLy8gVE9ETyBSZW5hbWUgc2VnbWVudGF0aW9uIGFuZCBwZXJzb24gbWFzayB0byBiZSBtb3JlIHNwZWNpZmljXG4gICAgY29uc3Qgc2VnbWVudGF0aW9uVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICBjb25zdCBwZXJzb25NYXNrVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodCk7XG4gICAgY29uc3QgcmVzaXppbmdTdGFnZSA9IGJ1aWxkUmVzaXppbmdTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgc2VnbWVudGF0aW9uQ29uZmlnKTtcbiAgICBjb25zdCBsb2FkU2VnbWVudGF0aW9uU3RhZ2UgPSBidWlsZFNvZnRtYXhTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgc2VnbWVudGF0aW9uVGV4dHVyZSwgc2VnbWVudGF0aW9uQ29uZmlnKTtcbiAgICBjb25zdCBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlID0gYnVpbGRKb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgc2VnbWVudGF0aW9uVGV4dHVyZSwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgc2VnbWVudGF0aW9uQ29uZmlnKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kU3RhZ2UgPSBiYWNrZ3JvdW5kRmlsdGVyID09PSAnYmx1cidcbiAgICAgICAgPyBidWlsZEJhY2tncm91bmRCbHVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwgfHwgJ2hpZ2gnKVxuICAgICAgICA6IGJ1aWxkQmFja2dyb3VuZEltYWdlU3RhZ2UoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGJhY2tncm91bmRJbWFnZSwgY2FudmFzKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dEZyYW1lVGV4dHVyZSk7XG4gICAgICAgIC8vIHRleEltYWdlMkQgc2VlbXMgZmFzdGVyIHRoYW4gdGV4U3ViSW1hZ2UyRCB0byB1cGxvYWRcbiAgICAgICAgLy8gdmlkZW8gdGV4dHVyZVxuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHZpZGVvU291cmNlKTtcbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICAgICAgcmVzaXppbmdTdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgdGZsaXRlLl9ydW5JbmZlcmVuY2UoKTtcbiAgICAgICAgbG9hZFNlZ21lbnRhdGlvblN0YWdlLnJlbmRlcigpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnJlbmRlcigpO1xuICAgICAgICBiYWNrZ3JvdW5kU3RhZ2UucmVuZGVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVBvc3RQcm9jZXNzaW5nQ29uZmlnKCkge1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnVwZGF0ZVNpZ21hU3BhY2UoMSk7XG4gICAgICAgIGpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UudXBkYXRlU2lnbWFDb2xvcigwLjEpO1xuICAgICAgICBpZiAoYmFja2dyb3VuZEZpbHRlciA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlU3RhZ2UgPSBiYWNrZ3JvdW5kU3RhZ2U7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVDb3ZlcmFnZShbMC41LCAwLjc1XSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVMaWdodFdyYXBwaW5nKDAuMyk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVCbGVuZE1vZGUoJ3NjcmVlbicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdibHVyJykge1xuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEJsdXJTdGFnZSA9IGJhY2tncm91bmRTdGFnZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRCbHVyU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAuNSwgMC43NV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyBIYW5kbGUgbm8gYmFja2dyb3VuZCBpbiBhIHNlcGFyYXRlIHBpcGVsaW5lIHBhdGhcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVN0YWdlID0gYmFja2dyb3VuZFN0YWdlO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAsIDAuOTk5OV0pO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlTGlnaHRXcmFwcGluZygwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBiYWNrZ3JvdW5kU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgbG9hZFNlZ21lbnRhdGlvblN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgcmVzaXppbmdTdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGVyc29uTWFza1RleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHNlZ21lbnRhdGlvblRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGlucHV0RnJhbWVUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRleENvb3JkQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHBvc2l0aW9uQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCB1cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZywgY2xlYW5VcCB9O1xufVxuXG52YXIgU2VnbWVudGF0aW9uTGV2ZWw7XG4oZnVuY3Rpb24gKFNlZ21lbnRhdGlvbkxldmVsKSB7XG4gICAgU2VnbWVudGF0aW9uTGV2ZWxbXCJMT1dcIl0gPSBcImxvd1wiO1xuICAgIFNlZ21lbnRhdGlvbkxldmVsW1wiSElHSFwiXSA9IFwiaGlnaFwiO1xufSkoU2VnbWVudGF0aW9uTGV2ZWwgfHwgKFNlZ21lbnRhdGlvbkxldmVsID0ge30pKTtcbmNvbnN0IGdldFNlZ21lbnRhdGlvblBhcmFtcyA9IChsZXZlbCkgPT4ge1xuICAgIGlmIChsZXZlbCA9PT0gU2VnbWVudGF0aW9uTGV2ZWwuSElHSCkge1xuICAgICAgICByZXR1cm4geyB3aWR0aDogMjU2LCBoZWlnaHQ6IDE0NCB9O1xuICAgIH1cbiAgICByZXR1cm4geyB3aWR0aDogMTYwLCBoZWlnaHQ6IDk2IH07XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcih0ZmxpdGUsIHZpZGVvU291cmNlLCB0YXJnZXRDYW52YXMsIG9wdGlvbnMsIG9uRXJyb3IpIHtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZEJsdXJMZXZlbCwgc2VnbWVudGF0aW9uTGV2ZWwgPSBTZWdtZW50YXRpb25MZXZlbC5ISUdILCBmcHMgPSAzMCwgfSA9IG9wdGlvbnM7XG4gICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScgJiYgIWJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGJhY2tncm91bmRJbWFnZSBlbGVtZW50IGlzIHJlcXVpcmVkIHdoZW4gYmFja2dyb3VuZEZpbHRlciBpcyBpbWFnZWApO1xuICAgIH1cbiAgICBjb25zdCBwaXBlbGluZSA9IGJ1aWxkV2ViR0wyUGlwZWxpbmUodmlkZW9Tb3VyY2UsIGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZEJsdXJMZXZlbCwgYmFja2dyb3VuZEZpbHRlciwgdGFyZ2V0Q2FudmFzLCB0ZmxpdGUsIGdldFNlZ21lbnRhdGlvblBhcmFtcyhzZWdtZW50YXRpb25MZXZlbCkpO1xuICAgIGNvbnN0IGlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGlwZWxpbmUucmVuZGVyKCk7XG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZEZpbHRlciA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgIHBpcGVsaW5lLnVwZGF0ZVBvc3RQcm9jZXNzaW5nQ29uZmlnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSwgMTAwMCAvIChmcHMgPD0gMCA/IDMwIDogZnBzKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgcGlwZWxpbmUuY2xlYW5VcCgpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuY29uc3QgY3JlYXRlVEZMaXRlU0lNRE1vZHVsZSA9IChfX01vZHVsZSkgPT4ge1xuICBfX01vZHVsZSA9IF9fTW9kdWxlIHx8IHt9O1xuXG4gIHZhciBfc2NyaXB0RGlyID1cbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHRcbiAgICAgID8gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBNb2R1bGUgPSB0eXBlb2YgX19Nb2R1bGUgIT0gJ3VuZGVmaW5lZCcgPyBfX01vZHVsZSA6IHt9O1xuICB2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSwgcmVhZHlQcm9taXNlUmVqZWN0O1xuICBNb2R1bGVbJ3JlYWR5J10gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVhZHlQcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgcmVhZHlQcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbiAgdmFyIG1vZHVsZU92ZXJyaWRlcyA9IE9iamVjdC5hc3NpZ24oe30sIE1vZHVsZSk7XG4gIHZhciB0aGlzUHJvZ3JhbSA9ICcuL3RoaXMucHJvZ3JhbSc7XG4gIHZhciBxdWl0XyA9IChzdGF0dXMsIHRvVGhyb3cpID0+IHtcbiAgICB0aHJvdyB0b1Rocm93O1xuICB9O1xuICB2YXIgRU5WSVJPTk1FTlRfSVNfV0VCID0gdHJ1ZTtcbiAgdmFyIHNjcmlwdERpcmVjdG9yeSA9ICcnO1xuXG4gIGZ1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCkge1xuICAgIGlmIChNb2R1bGVbJ2xvY2F0ZUZpbGUnXSkge1xuICAgICAgcmV0dXJuIE1vZHVsZVsnbG9jYXRlRmlsZSddKHBhdGgsIHNjcmlwdERpcmVjdG9yeSk7XG4gICAgfVxuICAgIHJldHVybiBzY3JpcHREaXJlY3RvcnkgKyBwYXRoO1xuICB9XG5cbiAgdmFyIHJlYWRCaW5hcnk7XG4gIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuICAgIH1cbiAgICBpZiAoX3NjcmlwdERpcikge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gX3NjcmlwdERpcjtcbiAgICB9XG4gICAgaWYgKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCdibG9iOicpICE9PSAwKSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSBzY3JpcHREaXJlY3Rvcnkuc3Vic3RyKFxuICAgICAgICAwLFxuICAgICAgICBzY3JpcHREaXJlY3RvcnkucmVwbGFjZSgvWz8jXS4qLywgJycpLmxhc3RJbmRleE9mKCcvJykgKyAxLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gJyc7XG4gICAgfVxuICB9XG4gIHZhciBvdXQgPSBNb2R1bGVbJ3ByaW50J10gfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgdmFyIGVyciA9IE1vZHVsZVsncHJpbnRFcnInXSB8fCBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtcbiAgT2JqZWN0LmFzc2lnbihNb2R1bGUsIG1vZHVsZU92ZXJyaWRlcyk7XG4gIG1vZHVsZU92ZXJyaWRlcyA9IG51bGw7XG4gIGlmIChNb2R1bGVbJ2FyZ3VtZW50cyddKSBNb2R1bGVbJ2FyZ3VtZW50cyddO1xuICBpZiAoTW9kdWxlWyd0aGlzUHJvZ3JhbSddKSB0aGlzUHJvZ3JhbSA9IE1vZHVsZVsndGhpc1Byb2dyYW0nXTtcbiAgaWYgKE1vZHVsZVsncXVpdCddKSBxdWl0XyA9IE1vZHVsZVsncXVpdCddO1xuICB2YXIgd2FzbUJpbmFyeTtcbiAgaWYgKE1vZHVsZVsnd2FzbUJpbmFyeSddKSB3YXNtQmluYXJ5ID0gTW9kdWxlWyd3YXNtQmluYXJ5J107XG4gIE1vZHVsZVsnbm9FeGl0UnVudGltZSddIHx8IHRydWU7XG4gIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgIT0gJ29iamVjdCcpIHtcbiAgICBhYm9ydCgnbm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCcpO1xuICB9XG4gIHZhciB3YXNtTWVtb3J5O1xuICB2YXIgQUJPUlQgPSBmYWxzZTtcblxuICB2YXIgVVRGOERlY29kZXIgPVxuICAgIHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyA/IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpIDogdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIFVURjhBcnJheVRvU3RyaW5nKGhlYXBPckFycmF5LCBpZHgsIG1heEJ5dGVzVG9SZWFkKSB7XG4gICAgdmFyIGVuZElkeCA9IGlkeCArIG1heEJ5dGVzVG9SZWFkO1xuICAgIHZhciBlbmRQdHIgPSBpZHg7XG4gICAgd2hpbGUgKGhlYXBPckFycmF5W2VuZFB0cl0gJiYgIShlbmRQdHIgPj0gZW5kSWR4KSkgKytlbmRQdHI7XG4gICAgaWYgKGVuZFB0ciAtIGlkeCA+IDE2ICYmIGhlYXBPckFycmF5LmJ1ZmZlciAmJiBVVEY4RGVjb2Rlcikge1xuICAgICAgcmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwT3JBcnJheS5zdWJhcnJheShpZHgsIGVuZFB0cikpO1xuICAgIH1cbiAgICB2YXIgc3RyID0gJyc7XG4gICAgd2hpbGUgKGlkeCA8IGVuZFB0cikge1xuICAgICAgdmFyIHUwID0gaGVhcE9yQXJyYXlbaWR4KytdO1xuICAgICAgaWYgKCEodTAgJiAxMjgpKSB7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgdTEgPSBoZWFwT3JBcnJheVtpZHgrK10gJiA2MztcbiAgICAgIGlmICgodTAgJiAyMjQpID09IDE5Mikge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKHUwICYgMzEpIDw8IDYpIHwgdTEpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciB1MiA9IGhlYXBPckFycmF5W2lkeCsrXSAmIDYzO1xuICAgICAgaWYgKCh1MCAmIDI0MCkgPT0gMjI0KSB7XG4gICAgICAgIHUwID0gKCh1MCAmIDE1KSA8PCAxMikgfCAodTEgPDwgNikgfCB1MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHUwID1cbiAgICAgICAgICAoKHUwICYgNykgPDwgMTgpIHwgKHUxIDw8IDEyKSB8ICh1MiA8PCA2KSB8IChoZWFwT3JBcnJheVtpZHgrK10gJiA2Myk7XG4gICAgICB9XG4gICAgICBpZiAodTAgPCA2NTUzNikge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2ggPSB1MCAtIDY1NTM2O1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IChjaCA+PiAxMCksIDU2MzIwIHwgKGNoICYgMTAyMykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgdmFyIGJ1ZmZlciwgSEVBUDgsIEhFQVBVOCwgSEVBUFUzMjtcblxuICBmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpIHtcbiAgICBidWZmZXIgPSBidWY7XG4gICAgTW9kdWxlWydIRUFQOCddID0gSEVBUDggPSBuZXcgSW50OEFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQMTYnXSA9IG5ldyBJbnQxNkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQMzInXSA9IG5ldyBJbnQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTgnXSA9IEhFQVBVOCA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTE2J10gPSBuZXcgVWludDE2QXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBVMzInXSA9IEhFQVBVMzIgPSBuZXcgVWludDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBGMzInXSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBGNjQnXSA9IG5ldyBGbG9hdDY0QXJyYXkoYnVmKTtcbiAgfVxuXG4gIE1vZHVsZVsnSU5JVElBTF9NRU1PUlknXSB8fCAxNjc3NzIxNjtcbiAgdmFyIF9fQVRQUkVSVU5fXyA9IFtdO1xuICB2YXIgX19BVElOSVRfXyA9IFtdO1xuICB2YXIgX19BVFBPU1RSVU5fXyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHByZVJ1bigpIHtcbiAgICBpZiAoTW9kdWxlWydwcmVSdW4nXSkge1xuICAgICAgaWYgKHR5cGVvZiBNb2R1bGVbJ3ByZVJ1biddID09ICdmdW5jdGlvbicpXG4gICAgICAgIE1vZHVsZVsncHJlUnVuJ10gPSBbTW9kdWxlWydwcmVSdW4nXV07XG4gICAgICB3aGlsZSAoTW9kdWxlWydwcmVSdW4nXS5sZW5ndGgpIHtcbiAgICAgICAgYWRkT25QcmVSdW4oTW9kdWxlWydwcmVSdW4nXS5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRSdW50aW1lKCkge1xuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRJTklUX18pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdFJ1bigpIHtcbiAgICBpZiAoTW9kdWxlWydwb3N0UnVuJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgTW9kdWxlWydwb3N0UnVuJ10gPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgTW9kdWxlWydwb3N0UnVuJ10gPSBbTW9kdWxlWydwb3N0UnVuJ11dO1xuICAgICAgd2hpbGUgKE1vZHVsZVsncG9zdFJ1biddLmxlbmd0aCkge1xuICAgICAgICBhZGRPblBvc3RSdW4oTW9kdWxlWydwb3N0UnVuJ10uc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25QcmVSdW4oY2IpIHtcbiAgICBfX0FUUFJFUlVOX18udW5zaGlmdChjYik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbkluaXQoY2IpIHtcbiAgICBfX0FUSU5JVF9fLnVuc2hpZnQoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKSB7XG4gICAgX19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKTtcbiAgfVxuXG4gIHZhciBydW5EZXBlbmRlbmNpZXMgPSAwO1xuICB2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gbnVsbDtcblxuICBmdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKSB7XG4gICAgcnVuRGVwZW5kZW5jaWVzKys7XG4gICAgaWYgKE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKSB7XG4gICAgICBNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXShydW5EZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpIHtcbiAgICBydW5EZXBlbmRlbmNpZXMtLTtcbiAgICBpZiAoTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10pIHtcbiAgICAgIE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKHJ1bkRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPT0gMCkge1xuICAgICAgaWYgKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ7XG4gICAgICAgIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IG51bGw7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJvcnQod2hhdCkge1xuICAgIHtcbiAgICAgIGlmIChNb2R1bGVbJ29uQWJvcnQnXSkge1xuICAgICAgICBNb2R1bGVbJ29uQWJvcnQnXSh3aGF0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2hhdCA9ICdBYm9ydGVkKCcgKyB3aGF0ICsgJyknO1xuICAgIGVycih3aGF0KTtcbiAgICBBQk9SVCA9IHRydWU7XG4gICAgd2hhdCArPSAnLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLic7XG4gICAgdmFyIGUgPSBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHdoYXQpO1xuICAgIHJlYWR5UHJvbWlzZVJlamVjdChlKTtcbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgdmFyIGRhdGFVUklQcmVmaXggPSAnZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCc7XG5cbiAgZnVuY3Rpb24gaXNEYXRhVVJJKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGZpbGVuYW1lLnN0YXJ0c1dpdGgoZGF0YVVSSVByZWZpeCk7XG4gIH1cblxuICB2YXIgd2FzbUJpbmFyeUZpbGU7XG4gIHdhc21CaW5hcnlGaWxlID0gJ3RmbGl0ZS1zaW1kLndhc20nO1xuICBpZiAoIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkpIHtcbiAgICB3YXNtQmluYXJ5RmlsZSA9IGxvY2F0ZUZpbGUod2FzbUJpbmFyeUZpbGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmluYXJ5KGZpbGUpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGZpbGUgPT0gd2FzbUJpbmFyeUZpbGUgJiYgd2FzbUJpbmFyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbUJpbmFyeSk7XG4gICAgICB9XG4gICAgICBpZiAocmVhZEJpbmFyeSkgO1xuICAgICAgdGhyb3cgJ2JvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkJztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhYm9ydChlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJpbmFyeVByb21pc2UoKSB7XG4gICAgaWYgKCF3YXNtQmluYXJ5ICYmIChFTlZJUk9OTUVOVF9JU19XRUIpKSB7XG4gICAgICBpZiAodHlwZW9mIGZldGNoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlWydvayddKSB7XG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICBcImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJ1wiICsgd2FzbUJpbmFyeUZpbGUgKyBcIidcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlWydhcnJheUJ1ZmZlciddKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJpbmFyeSh3YXNtQmluYXJ5RmlsZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlV2FzbSgpIHtcbiAgICB2YXIgaW5mbyA9IHtcbiAgICAgIGVudjogYXNtTGlicmFyeUFyZyxcbiAgICAgIHdhc2lfc25hcHNob3RfcHJldmlldzE6IGFzbUxpYnJhcnlBcmcsXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlY2VpdmVJbnN0YW5jZShpbnN0YW5jZSwgbW9kdWxlKSB7XG4gICAgICB2YXIgZXhwb3J0cyA9IGluc3RhbmNlLmV4cG9ydHM7XG4gICAgICBNb2R1bGVbJ2FzbSddID0gZXhwb3J0cztcbiAgICAgIHdhc21NZW1vcnkgPSBNb2R1bGVbJ2FzbSddWydtZW1vcnknXTtcbiAgICAgIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTtcbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUnXTtcbiAgICAgIGFkZE9uSW5pdChNb2R1bGVbJ2FzbSddWydfX3dhc21fY2FsbF9jdG9ycyddKTtcbiAgICAgIHJlbW92ZVJ1bkRlcGVuZGVuY3koKTtcbiAgICB9XG5cbiAgICBhZGRSdW5EZXBlbmRlbmN5KCk7XG5cbiAgICBmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdChyZXN1bHQpIHtcbiAgICAgIHJlY2VpdmVJbnN0YW5jZShyZXN1bHRbJ2luc3RhbmNlJ10pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBnZXRCaW5hcnlQcm9taXNlKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpbmFyeSkge1xuICAgICAgICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksIGluZm8pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlY2VpdmVyLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgZXJyKCdmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAnICsgcmVhc29uKTtcbiAgICAgICAgICBhYm9ydChyZWFzb24pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKCkge1xuICAgICAgaWYgKFxuICAgICAgICAhd2FzbUJpbmFyeSAmJlxuICAgICAgICB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAhaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSAmJlxuICAgICAgICB0eXBlb2YgZmV0Y2ggPT0gJ2Z1bmN0aW9uJ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSwgeyBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyB9KS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlc3BvbnNlLCBpbmZvKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICBlcnIoJ3dhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAnICsgcmVhc29uKTtcbiAgICAgICAgICAgICAgZXJyKCdmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbicpO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChNb2R1bGVbJ2luc3RhbnRpYXRlV2FzbSddKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZXhwb3J0cyA9IE1vZHVsZVsnaW5zdGFudGlhdGVXYXNtJ10oaW5mbywgcmVjZWl2ZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycignTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJyArIGUpO1xuICAgICAgICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbnRpYXRlQXN5bmMoKS5jYXRjaChyZWFkeVByb21pc2VSZWplY3QpO1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEV4aXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgdGhpcy5uYW1lID0gJ0V4aXRTdGF0dXMnO1xuICAgIHRoaXMubWVzc2FnZSA9ICdQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCcgKyBzdGF0dXMgKyAnKSc7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3MpIHtcbiAgICB3aGlsZSAoY2FsbGJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbGxiYWNrcy5zaGlmdCgpKE1vZHVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX19kbGluaXQobWFpbl9kc29faGFuZGxlKSB7fVxuXG4gIHZhciBkbG9wZW5NaXNzaW5nRXJyb3IgPVxuICAgICdUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyc7XG5cbiAgZnVuY3Rpb24gX19kbG9wZW5fanMoZmlsZW5hbWUsIGZsYWcpIHtcbiAgICBhYm9ydChkbG9wZW5NaXNzaW5nRXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gX19kbHN5bV9qcyhoYW5kbGUsIHN5bWJvbCkge1xuICAgIGFib3J0KGRsb3Blbk1pc3NpbmdFcnJvcik7XG4gIH1cblxuICB2YXIgbm93SXNNb25vdG9uaWMgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYygpIHtcbiAgICByZXR1cm4gbm93SXNNb25vdG9uaWM7XG4gIH1cblxuICBmdW5jdGlvbiBfX21tYXBfanMobGVuLCBwcm90LCBmbGFncywgZmQsIG9mZiwgYWxsb2NhdGVkKSB7XG4gICAgcmV0dXJuIC01MjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fbXVubWFwX2pzKGFkZHIsIGxlbiwgcHJvdCwgZmxhZ3MsIGZkLCBvZmZzZXQpIHt9XG5cbiAgZnVuY3Rpb24gX2Fib3J0KCkge1xuICAgIGFib3J0KCcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2RhdGVfbm93KCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SGVhcE1heCgpIHtcbiAgICByZXR1cm4gMjE0NzQ4MzY0ODtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2dldF9oZWFwX21heCgpIHtcbiAgICByZXR1cm4gZ2V0SGVhcE1heCgpO1xuICB9XG5cbiAgdmFyIF9lbXNjcmlwdGVuX2dldF9ub3c7XG4gIF9lbXNjcmlwdGVuX2dldF9ub3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKGRlc3QsIHNyYywgbnVtKSB7XG4gICAgSEVBUFU4LmNvcHlXaXRoaW4oZGVzdCwgc3JjLCBzcmMgKyBudW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihzaXplKSB7XG4gICAgdHJ5IHtcbiAgICAgIHdhc21NZW1vcnkuZ3Jvdygoc2l6ZSAtIGJ1ZmZlci5ieXRlTGVuZ3RoICsgNjU1MzUpID4+PiAxNik7XG4gICAgICB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAocmVxdWVzdGVkU2l6ZSkge1xuICAgIHZhciBvbGRTaXplID0gSEVBUFU4Lmxlbmd0aDtcbiAgICByZXF1ZXN0ZWRTaXplID0gcmVxdWVzdGVkU2l6ZSA+Pj4gMDtcbiAgICB2YXIgbWF4SGVhcFNpemUgPSBnZXRIZWFwTWF4KCk7XG4gICAgaWYgKHJlcXVlc3RlZFNpemUgPiBtYXhIZWFwU2l6ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgYWxpZ25VcCA9ICh4LCBtdWx0aXBsZSkgPT4geCArICgobXVsdGlwbGUgLSAoeCAlIG11bHRpcGxlKSkgJSBtdWx0aXBsZSk7XG4gICAgZm9yICh2YXIgY3V0RG93biA9IDE7IGN1dERvd24gPD0gNDsgY3V0RG93biAqPSAyKSB7XG4gICAgICB2YXIgb3Zlckdyb3duSGVhcFNpemUgPSBvbGRTaXplICogKDEgKyAwLjIgLyBjdXREb3duKTtcbiAgICAgIG92ZXJHcm93bkhlYXBTaXplID0gTWF0aC5taW4oXG4gICAgICAgIG92ZXJHcm93bkhlYXBTaXplLFxuICAgICAgICByZXF1ZXN0ZWRTaXplICsgMTAwNjYzMjk2LFxuICAgICAgKTtcbiAgICAgIHZhciBuZXdTaXplID0gTWF0aC5taW4oXG4gICAgICAgIG1heEhlYXBTaXplLFxuICAgICAgICBhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsIG92ZXJHcm93bkhlYXBTaXplKSwgNjU1MzYpLFxuICAgICAgKTtcbiAgICAgIHZhciByZXBsYWNlbWVudCA9IGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIobmV3U2l6ZSk7XG4gICAgICBpZiAocmVwbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBFTlYgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRFeGVjdXRhYmxlTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpc1Byb2dyYW0gfHwgJy4vdGhpcy5wcm9ncmFtJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVudlN0cmluZ3MoKSB7XG4gICAgaWYgKCFnZXRFbnZTdHJpbmdzLnN0cmluZ3MpIHtcbiAgICAgIHZhciBsYW5nID1cbiAgICAgICAgKFxuICAgICAgICAgICh0eXBlb2YgbmF2aWdhdG9yID09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmXG4gICAgICAgICAgICBuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdKSB8fFxuICAgICAgICAgICdDJ1xuICAgICAgICApLnJlcGxhY2UoJy0nLCAnXycpICsgJy5VVEYtOCc7XG4gICAgICB2YXIgZW52ID0ge1xuICAgICAgICBVU0VSOiAnd2ViX3VzZXInLFxuICAgICAgICBMT0dOQU1FOiAnd2ViX3VzZXInLFxuICAgICAgICBQQVRIOiAnLycsXG4gICAgICAgIFBXRDogJy8nLFxuICAgICAgICBIT01FOiAnL2hvbWUvd2ViX3VzZXInLFxuICAgICAgICBMQU5HOiBsYW5nLFxuICAgICAgICBfOiBnZXRFeGVjdXRhYmxlTmFtZSgpLFxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIHggaW4gRU5WKSB7XG4gICAgICAgIGlmIChFTlZbeF0gPT09IHVuZGVmaW5lZCkgZGVsZXRlIGVudlt4XTtcbiAgICAgICAgZWxzZSBlbnZbeF0gPSBFTlZbeF07XG4gICAgICB9XG4gICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgZm9yICh2YXIgeCBpbiBlbnYpIHtcbiAgICAgICAgc3RyaW5ncy5wdXNoKHggKyAnPScgKyBlbnZbeF0pO1xuICAgICAgfVxuICAgICAgZ2V0RW52U3RyaW5ncy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9XG4gICAgcmV0dXJuIGdldEVudlN0cmluZ3Muc3RyaW5ncztcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gIGZ1bmN0aW9uIHdyaXRlQXNjaWlUb01lbW9yeShzdHIsIGJ1ZmZlciwgZG9udEFkZE51bGwpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgSEVBUDhbYnVmZmVyKysgPj4gMF0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgSEVBUDhbYnVmZmVyID4+IDBdID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbnZpcm9uX2dldChfX2Vudmlyb24sIGVudmlyb25fYnVmKSB7XG4gICAgdmFyIGJ1ZlNpemUgPSAwO1xuICAgIGdldEVudlN0cmluZ3MoKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHJpbmcsIGkpIHtcbiAgICAgIHZhciBwdHIgPSBlbnZpcm9uX2J1ZiArIGJ1ZlNpemU7XG4gICAgICBIRUFQVTMyWyhfX2Vudmlyb24gKyBpICogNCkgPj4gMl0gPSBwdHI7XG4gICAgICB3cml0ZUFzY2lpVG9NZW1vcnkoc3RyaW5nLCBwdHIpO1xuICAgICAgYnVmU2l6ZSArPSBzdHJpbmcubGVuZ3RoICsgMTtcbiAgICB9KTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbnZpcm9uX3NpemVzX2dldChwZW52aXJvbl9jb3VudCwgcGVudmlyb25fYnVmX3NpemUpIHtcbiAgICB2YXIgc3RyaW5ncyA9IGdldEVudlN0cmluZ3MoKTtcbiAgICBIRUFQVTMyW3BlbnZpcm9uX2NvdW50ID4+IDJdID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgdmFyIGJ1ZlNpemUgPSAwO1xuICAgIHN0cmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICBidWZTaXplICs9IHN0cmluZy5sZW5ndGggKyAxO1xuICAgIH0pO1xuICAgIEhFQVBVMzJbcGVudmlyb25fYnVmX3NpemUgPj4gMl0gPSBidWZTaXplO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Byb2NfZXhpdChjb2RlKSB7XG4gICAgcXVpdF8oY29kZSwgbmV3IEV4aXRTdGF0dXMoY29kZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhpdEpTKHN0YXR1cywgaW1wbGljaXQpIHtcbiAgICBfcHJvY19leGl0KHN0YXR1cyk7XG4gIH1cblxuICB2YXIgX2V4aXQgPSBleGl0SlM7XG5cbiAgZnVuY3Rpb24gX2ZkX2Nsb3NlKGZkKSB7XG4gICAgcmV0dXJuIDUyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2ZkX3NlZWsoZmQsIG9mZnNldF9sb3csIG9mZnNldF9oaWdoLCB3aGVuY2UsIG5ld09mZnNldCkge1xuICAgIHJldHVybiA3MDtcbiAgfVxuXG4gIHZhciBwcmludENoYXJCdWZmZXJzID0gW251bGwsIFtdLCBbXV07XG5cbiAgZnVuY3Rpb24gcHJpbnRDaGFyKHN0cmVhbSwgY3Vycikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgdmFyIGJ1ZmZlciA9IHByaW50Q2hhckJ1ZmZlcnNbc3RyZWFtXTtcbiAgICBpZiAoY3VyciA9PT0gMCB8fCBjdXJyID09PSAxMCkge1xuICAgICAgKHN0cmVhbSA9PT0gMSA/IG91dCA6IGVycikoVVRGOEFycmF5VG9TdHJpbmcoYnVmZmVyLCAwKSk7XG4gICAgICBidWZmZXIubGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmZmVyLnB1c2goY3Vycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2ZkX3dyaXRlKGZkLCBpb3YsIGlvdmNudCwgcG51bSkge1xuICAgIHZhciBudW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW92Y250OyBpKyspIHtcbiAgICAgIHZhciBwdHIgPSBIRUFQVTMyW2lvdiA+PiAyXTtcbiAgICAgIHZhciBsZW4gPSBIRUFQVTMyWyhpb3YgKyA0KSA+PiAyXTtcbiAgICAgIGlvdiArPSA4O1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgICBwcmludENoYXIoZmQsIEhFQVBVOFtwdHIgKyBqXSk7XG4gICAgICB9XG4gICAgICBudW0gKz0gbGVuO1xuICAgIH1cbiAgICBIRUFQVTMyW3BudW0gPj4gMl0gPSBudW07XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSYW5kb21EZXZpY2UoKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNyeXB0byA9PSAnb2JqZWN0JyAmJlxuICAgICAgdHlwZW9mIGNyeXB0b1snZ2V0UmFuZG9tVmFsdWVzJ10gPT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgdmFyIHJhbmRvbUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyYW5kb21CdWZmZXIpO1xuICAgICAgICByZXR1cm4gcmFuZG9tQnVmZmVyWzBdO1xuICAgICAgfTtcbiAgICB9IGVsc2UgcmV0dXJuICgpID0+IGFib3J0KCdyYW5kb21EZXZpY2UnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gIGZ1bmN0aW9uIF9nZXRlbnRyb3B5KGJ1ZmZlciwgc2l6ZSkge1xuICAgIGlmICghX2dldGVudHJvcHkucmFuZG9tRGV2aWNlKSB7XG4gICAgICBfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2UgPSBnZXRSYW5kb21EZXZpY2UoKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIEhFQVA4WyhidWZmZXIgKyBpKSA+PiAwXSA9IF9nZXRlbnRyb3B5LnJhbmRvbURldmljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBhc21MaWJyYXJ5QXJnID0ge1xuICAgIF9kbGluaXQ6IF9fZGxpbml0LFxuICAgIF9kbG9wZW5fanM6IF9fZGxvcGVuX2pzLFxuICAgIF9kbHN5bV9qczogX19kbHN5bV9qcyxcbiAgICBfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYzogX19lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljLFxuICAgIF9tbWFwX2pzOiBfX21tYXBfanMsXG4gICAgX211bm1hcF9qczogX19tdW5tYXBfanMsXG4gICAgYWJvcnQ6IF9hYm9ydCxcbiAgICBlbXNjcmlwdGVuX2RhdGVfbm93OiBfZW1zY3JpcHRlbl9kYXRlX25vdyxcbiAgICBlbXNjcmlwdGVuX2dldF9oZWFwX21heDogX2Vtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4LFxuICAgIGVtc2NyaXB0ZW5fZ2V0X25vdzogX2Vtc2NyaXB0ZW5fZ2V0X25vdyxcbiAgICBlbXNjcmlwdGVuX21lbWNweV9iaWc6IF9lbXNjcmlwdGVuX21lbWNweV9iaWcsXG4gICAgZW1zY3JpcHRlbl9yZXNpemVfaGVhcDogX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAsXG4gICAgZW52aXJvbl9nZXQ6IF9lbnZpcm9uX2dldCxcbiAgICBlbnZpcm9uX3NpemVzX2dldDogX2Vudmlyb25fc2l6ZXNfZ2V0LFxuICAgIGV4aXQ6IF9leGl0LFxuICAgIGZkX2Nsb3NlOiBfZmRfY2xvc2UsXG4gICAgZmRfc2VlazogX2ZkX3NlZWssXG4gICAgZmRfd3JpdGU6IF9mZF93cml0ZSxcbiAgICBnZXRlbnRyb3B5OiBfZ2V0ZW50cm9weSxcbiAgfTtcbiAgY3JlYXRlV2FzbSgpO1xuICAoTW9kdWxlWydfX193YXNtX2NhbGxfY3RvcnMnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX19fd2FzbV9jYWxsX2N0b3JzJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX193YXNtX2NhbGxfY3RvcnMnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCddID1cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKE1vZHVsZVtcbiAgICAgICAgJ19nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCdcbiAgICAgIF0gPVxuICAgICAgICBNb2R1bGVbJ2FzbSddWydnZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRNZW1vcnlPZmZzZXQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0TWVtb3J5T2Zmc2V0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dEhlaWdodCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0SW5wdXRIZWlnaHQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRJbnB1dEhlaWdodCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0V2lkdGgnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0V2lkdGgnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRJbnB1dFdpZHRoJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRDaGFubmVsQ291bnQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0Q2hhbm5lbENvdW50J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRDaGFubmVsQ291bnQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dE1lbW9yeU9mZnNldCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dE1lbW9yeU9mZnNldCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dEhlaWdodCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0T3V0cHV0SGVpZ2h0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0T3V0cHV0SGVpZ2h0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0V2lkdGgnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dFdpZHRoJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0T3V0cHV0V2lkdGgnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRDaGFubmVsQ291bnQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dENoYW5uZWxDb3VudCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dENoYW5uZWxDb3VudCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2xvYWRNb2RlbCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfbG9hZE1vZGVsJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnbG9hZE1vZGVsJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfcnVuSW5mZXJlbmNlJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19ydW5JbmZlcmVuY2UnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydydW5JbmZlcmVuY2UnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19tYWxsb2MnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX21hbGxvYyddID0gTW9kdWxlWydhc20nXVsnbWFsbG9jJ10pLmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIGFyZ3VtZW50cyxcbiAgICApO1xuICB9KTtcbiAgKE1vZHVsZVsnX19fZXJybm9fbG9jYXRpb24nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX19fZXJybm9fbG9jYXRpb24nXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydfX2Vycm5vX2xvY2F0aW9uJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfX19kbF9zZXRlcnInXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX19fZGxfc2V0ZXJyJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX19kbF9zZXRlcnInXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ3N0YWNrU2F2ZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydzdGFja1NhdmUnXSA9IE1vZHVsZVsnYXNtJ11bJ3N0YWNrU2F2ZSddKS5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBhcmd1bWVudHMsXG4gICAgKTtcbiAgfSk7XG4gIChNb2R1bGVbJ3N0YWNrUmVzdG9yZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydzdGFja1Jlc3RvcmUnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydzdGFja1Jlc3RvcmUnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ3N0YWNrQWxsb2MnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tBbGxvYyddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ3N0YWNrQWxsb2MnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfampqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfampqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfamlpaSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2ppaWknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2ppaWknXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfaWlpaWpqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfaWlpaWpqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9paWlpamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfdmlpamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF92aWlqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfdmlpamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfdmlpaWpqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX3ZpaWlqamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX3ZpaWlqamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfaWlqamlpaWknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9paWpqaWlpaSddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfaWlqamlpaWknXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfamlqaSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2ppamknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2ppamknXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIHZhciBjYWxsZWRSdW47XG4gIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uIHJ1bkNhbGxlcigpIHtcbiAgICBpZiAoIWNhbGxlZFJ1bikgcnVuKCk7XG4gICAgaWYgKCFjYWxsZWRSdW4pIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IHJ1bkNhbGxlcjtcbiAgfTtcblxuICBmdW5jdGlvbiBydW4oYXJncykge1xuICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZVJ1bigpO1xuICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9SdW4oKSB7XG4gICAgICBpZiAoY2FsbGVkUnVuKSByZXR1cm47XG4gICAgICBjYWxsZWRSdW4gPSB0cnVlO1xuICAgICAgTW9kdWxlWydjYWxsZWRSdW4nXSA9IHRydWU7XG4gICAgICBpZiAoQUJPUlQpIHJldHVybjtcbiAgICAgIGluaXRSdW50aW1lKCk7XG4gICAgICByZWFkeVByb21pc2VSZXNvbHZlKE1vZHVsZSk7XG4gICAgICBpZiAoTW9kdWxlWydvblJ1bnRpbWVJbml0aWFsaXplZCddKSBNb2R1bGVbJ29uUnVudGltZUluaXRpYWxpemVkJ10oKTtcbiAgICAgIHBvc3RSdW4oKTtcbiAgICB9XG5cbiAgICBpZiAoTW9kdWxlWydzZXRTdGF0dXMnXSkge1xuICAgICAgTW9kdWxlWydzZXRTdGF0dXMnXSgnUnVubmluZy4uLicpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIE1vZHVsZVsnc2V0U3RhdHVzJ10oJycpO1xuICAgICAgICB9LCAxKTtcbiAgICAgICAgZG9SdW4oKTtcbiAgICAgIH0sIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb1J1bigpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChNb2R1bGVbJ3ByZUluaXQnXSkge1xuICAgIGlmICh0eXBlb2YgTW9kdWxlWydwcmVJbml0J10gPT0gJ2Z1bmN0aW9uJylcbiAgICAgIE1vZHVsZVsncHJlSW5pdCddID0gW01vZHVsZVsncHJlSW5pdCddXTtcbiAgICB3aGlsZSAoTW9kdWxlWydwcmVJbml0J10ubGVuZ3RoID4gMCkge1xuICAgICAgTW9kdWxlWydwcmVJbml0J10ucG9wKCkoKTtcbiAgICB9XG4gIH1cbiAgcnVuKCk7XG5cbiAgcmV0dXJuIF9fTW9kdWxlLnJlYWR5O1xufTtcblxuY29uc3QgdmVyc2lvbiA9IFwiMC4yLjFcIjtcbmNvbnN0IHBhY2thZ2VOYW1lID0gXCJAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViXCI7XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBtb2R1bGUgaXMgbm90IGRlY2xhcmVkXG4vLyBUaGlzIGlzIGEgV2ViQXNzZW1ibHkgbW9kdWxlIGNvbXBpbGVkIGZyb20gdGhlIFRlbnNvckZsb3cgTGl0ZSBDKysgbGlicmFyeS5cbmNvbnN0IGNyZWF0ZVRGTGl0ZSA9IGNyZWF0ZVRGTGl0ZVNJTURNb2R1bGU7XG5jb25zdCBsb2FkVEZMaXRlID0gYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgYmFzZVBhdGggPSBgaHR0cHM6Ly91bnBrZy5jb20vJHtwYWNrYWdlTmFtZX1AJHt2ZXJzaW9ufS90ZmAsIHRmRmlsZVBhdGggPSBgJHtiYXNlUGF0aH0vdGZsaXRlL3RmbGl0ZS1zaW1kLndhc21gLCBtb2RlbEZpbGVQYXRoID0gYCR7YmFzZVBhdGh9L21vZGVscy9zZWdtX2Z1bGxfdjY3OS50ZmxpdGVgLCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBbdGZMaXRlLCBtb2RlbF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGNyZWF0ZVRGTGl0ZSh7IGxvY2F0ZUZpbGU6ICgpID0+IHRmRmlsZVBhdGggfSksXG4gICAgICAgIGZldGNoTW9kZWwobW9kZWxGaWxlUGF0aCksXG4gICAgXSk7XG4gICAgY29uc3QgbW9kZWxCdWZmZXJPZmZzZXQgPSB0ZkxpdGUuX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0KCk7XG4gICAgdGZMaXRlLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkobW9kZWwpLCBtb2RlbEJ1ZmZlck9mZnNldCk7XG4gICAgdGZMaXRlLl9sb2FkTW9kZWwobW9kZWwuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHRmTGl0ZTtcbn07XG5sZXQgbGFzdE1vZGVsRmlsZVBhdGggPSAnJztcbmxldCBtb2RlbEZpbGVDYWNoZTtcbmNvbnN0IGZldGNoTW9kZWwgPSBhc3luYyAobW9kZWxGaWxlUGF0aCkgPT4ge1xuICAgIGNvbnN0IG1vZGVsID0gbW9kZWxGaWxlUGF0aCA9PT0gbGFzdE1vZGVsRmlsZVBhdGggJiYgbW9kZWxGaWxlQ2FjaGVcbiAgICAgICAgPyBtb2RlbEZpbGVDYWNoZVxuICAgICAgICA6IGF3YWl0IGZldGNoKG1vZGVsRmlsZVBhdGgpLnRoZW4oKHIpID0+IHIuYXJyYXlCdWZmZXIoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIG1vZGVsIGZpbGUgZm9yIGZ1dHVyZSB1c2UuXG4gICAgbW9kZWxGaWxlQ2FjaGUgPSBtb2RlbDtcbiAgICBsYXN0TW9kZWxGaWxlUGF0aCA9IG1vZGVsRmlsZVBhdGg7XG4gICAgcmV0dXJuIG1vZGVsO1xufTtcblxuZXhwb3J0IHsgU2VnbWVudGF0aW9uTGV2ZWwsIGNyZWF0ZVJlbmRlcmVyLCBpc1BsYXRmb3JtU3VwcG9ydGVkLCBsb2FkVEZMaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-bindings/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Restricted: () => (/* binding */ Restricted),\n/* harmony export */   StreamCallProvider: () => (/* binding */ StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* binding */ StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* binding */ StreamI18nProvider),\n/* harmony export */   StreamVideoProvider: () => (/* binding */ StreamVideoProvider),\n/* harmony export */   defaultTranslationFunction: () => (/* binding */ defaultTranslationFunction),\n/* harmony export */   useCall: () => (/* binding */ useCall),\n/* harmony export */   useCallStateHooks: () => (/* binding */ useCallStateHooks),\n/* harmony export */   useCalls: () => (/* binding */ useCalls),\n/* harmony export */   useConnectedUser: () => (/* binding */ useConnectedUser),\n/* harmony export */   useI18n: () => (/* binding */ useI18n),\n/* harmony export */   useObservableValue: () => (/* binding */ useObservableValue),\n/* harmony export */   useStore: () => (/* binding */ useStore),\n/* harmony export */   useStreamVideoClient: () => (/* binding */ useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* binding */ useToggleCallRecording)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ \"(ssr)/./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/cjs/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nconst StreamCallContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * A provider for the call object.\n */\nconst StreamCallProvider = (props) => {\n    const { call, children } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamCallContext.Provider, { value: call, children: children }));\n};\n/**\n * A hook to get the call object from the closest provider.\n */\nconst useCall = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamCallContext);\n};\n\nconst mapToRegistry = (translationsMap, namespace) => Object.entries(translationsMap).reduce((acc, [lng, translations]) => {\n    acc[lng] = { [namespace]: translations };\n    return acc;\n}, {});\nconst defaultTranslationFunction = (key) => key;\nclass StreamI18n {\n    constructor({ debug = false, currentLanguage = 'en', fallbackLanguage, translationsOverrides = { en: {} }, } = {}) {\n        /** Translator function that converts the provided string into its equivalent in the current language. */\n        this.t = defaultTranslationFunction;\n        this.init = async () => {\n            this.t = await this.i18nInstance.init();\n            return this.t;\n        };\n        this.changeLanguage = async (language) => {\n            this.t = await this.i18nInstance.changeLanguage(language);\n            return this.t;\n        };\n        const ns = 'stream-video';\n        this.i18nInstance = i18next__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createInstance({\n            debug,\n            defaultNS: ns,\n            fallbackLng: fallbackLanguage,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: defaultTranslationFunction,\n            resources: mapToRegistry(translationsOverrides, ns),\n        });\n    }\n    get currentLanguage() {\n        return this.i18nInstance.language;\n    }\n    get isInitialized() {\n        return this.i18nInstance.isInitialized;\n    }\n}\n\nconst StreamI18nContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    t: defaultTranslationFunction,\n});\nconst StreamI18nProvider = ({ children, ...createI18nParams }) => {\n    const api = useCreateI18n(createI18nParams);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nContext.Provider, { value: api, children: children }));\n};\nconst useCreateI18n = ({ i18nInstance, language, fallbackLanguage, translationsOverrides, }) => {\n    const [i18n] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18nInstance ||\n        new StreamI18n({\n            currentLanguage: language,\n            fallbackLanguage,\n            translationsOverrides,\n        }));\n    const [t, setTranslationFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18n.t);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (!i18n.isInitialized) {\n            i18n.init().then(() => setTranslationFn(() => i18n.t));\n        }\n        else if (i18n.currentLanguage !== language) {\n            i18n.changeLanguage(language).then(() => setTranslationFn(() => i18n.t));\n        }\n    }, [i18n, language]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ i18n, t }), [i18n, t]);\n};\n/**\n * A hook to get the i18n instance and translation function from the closest provider.\n *\n * Example usage:\n * const { t, i18n } = useI18n();\n * const message = t('hello_world');\n * console.log(message);\n */\nconst useI18n = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamI18nContext);\n\nconst StreamVideoContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * StreamVideo is a provider component which should be used to wrap the entire application.\n * It provides the client object to all children components and initializes the i18n instance.\n */\nconst StreamVideoProvider = ({ children, client, i18nInstance, language, translationsOverrides, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamVideoContext.Provider, { value: client, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nProvider, { i18nInstance: i18nInstance, language: language, translationsOverrides: translationsOverrides, children: children }) }));\n};\n/**\n * Hook to access the nearest StreamVideo client instance.\n */\nconst useStreamVideoClient = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamVideoContext);\n};\n\n/**\n * Checks whether we are using React Native\n */\nconst isReactNative = () => {\n    if (typeof navigator === 'undefined')\n        return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n\n/**\n * Utility hook which provides the current value of the given observable.\n *\n * @param observable$ the observable to read data from.\n * @param defaultValue a default value. Used when the observable data can't be read or emits an error.\n */\nconst useObservableValue = (observable$, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        try {\n            return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.getCurrentValue(observable$);\n        }\n        catch (err) {\n            if (typeof defaultValue === 'undefined')\n                throw err;\n            return defaultValue;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.createSubscription(observable$, setValue, (err) => {\n            console.log('An error occurred while reading an observable', err);\n            if (defaultValue)\n                setValue(defaultValue);\n        });\n    }, [defaultValue, observable$]);\n    return value;\n};\n\n// kind-of memoized, used as a default value\nconst EMPTY_DEVICES_ARRAY = Object.freeze([]);\n/**\n * Utility hook, which provides the current call's state.\n */\nconst useCallState = () => {\n    const call = useCall();\n    // return an empty and unlinked CallState object if there is no call in the provider\n    // this ensures that the hooks always return a value and many null checks can be avoided\n    if (!call) {\n        const message = 'You are using useCallState() outside a Call context. ' +\n            'Please wrap your component in <StreamCall /> and provide a \"call\" instance.';\n        console.warn(message);\n        return new _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.CallState();\n    }\n    return call.state;\n};\n/**\n * Utility hook which provides information whether the current call is being recorded. It will return `true` if the call is being recorded.\n */\nconst useIsCallRecordingInProgress = () => {\n    const { recording$ } = useCallState();\n    return useObservableValue(recording$);\n};\n/**\n * Utility hook which provides information whether the current call is broadcasting.\n */\nconst useIsCallHLSBroadcastingInProgress = () => {\n    const { egress$ } = useCallState();\n    const egress = useObservableValue(egress$);\n    if (!egress)\n        return false;\n    return egress.broadcasting;\n};\n/**\n * Utility hook which provides information whether the current call is live.\n */\nconst useIsCallLive = () => {\n    const { backstage$ } = useCallState();\n    const isBackstageOn = useObservableValue(backstage$);\n    return !isBackstageOn;\n};\n/**\n * Returns the list of blocked users in the current call.\n */\nconst useCallBlockedUserIds = () => {\n    const { blockedUserIds$ } = useCallState();\n    return useObservableValue(blockedUserIds$);\n};\n/**\n * Returns the timestamp when this call was created.\n */\nconst useCallCreatedAt = () => {\n    const { createdAt$ } = useCallState();\n    return useObservableValue(createdAt$);\n};\n/**\n * Returns the timestamp when this call was ended.\n */\nconst useCallEndedAt = () => {\n    const { endedAt$ } = useCallState();\n    return useObservableValue(endedAt$);\n};\n/**\n * Returns the timestamp telling when the call is scheduled to start.\n */\nconst useCallStartsAt = () => {\n    const { startsAt$ } = useCallState();\n    return useObservableValue(startsAt$);\n};\n/**\n * Returns the timestamp when this call was updated.\n */\nconst useCallUpdatedAt = () => {\n    const { updatedAt$ } = useCallState();\n    return useObservableValue(updatedAt$);\n};\n/**\n * Returns the information about the call's creator.\n */\nconst useCallCreatedBy = () => {\n    const { createdBy$ } = useCallState();\n    return useObservableValue(createdBy$);\n};\n/**\n * Returns the call's custom data.\n */\nconst useCallCustomData = () => {\n    const { custom$ } = useCallState();\n    return useObservableValue(custom$);\n};\n/**\n * Returns the call's Egress information.\n */\nconst useCallEgress = () => {\n    const { egress$ } = useCallState();\n    return useObservableValue(egress$);\n};\n/**\n * Returns the call's Ingress information.\n */\nconst useCallIngress = () => {\n    const { ingress$ } = useCallState();\n    return useObservableValue(ingress$);\n};\n/**\n * Returns the data for the current call session.\n */\nconst useCallSession = () => {\n    const { session$ } = useCallState();\n    return useObservableValue(session$);\n};\n/**\n * Returns the call's settings.\n */\nconst useCallSettings = () => {\n    const { settings$ } = useCallState();\n    return useObservableValue(settings$);\n};\n/**\n * Returns whether the call has transcribing enabled.\n */\nconst useIsCallTranscribingInProgress = () => {\n    const { transcribing$ } = useCallState();\n    return useObservableValue(transcribing$);\n};\n/**\n * Returns information about the user who has marked this call as ended.\n */\nconst useCallEndedBy = () => {\n    const { endedBy$ } = useCallState();\n    return useObservableValue(endedBy$);\n};\n/**\n * Utility hook which provides a boolean indicating whether there is\n * a participant in the current call which shares their screen.\n */\nconst useHasOngoingScreenShare = () => {\n    const { hasOngoingScreenShare$ } = useCallState();\n    return useObservableValue(hasOngoingScreenShare$);\n};\n/**\n * Utility hook which provides the latest stats report of the current call.\n *\n * The latest stats report of the current call.\n * When stats gathering is enabled, this observable will emit a new value\n * at a regular (configurable) interval.\n *\n * Consumers of this observable can implement their own batching logic\n * in case they want to show historical stats data.\n */\nconst useCallStatsReport = () => {\n    const { callStatsReport$ } = useCallState();\n    return useObservableValue(callStatsReport$);\n};\n/**\n * Utility hook which provides the dominant speaker of the current call.\n */\nconst useDominantSpeaker = () => {\n    const { dominantSpeaker$ } = useCallState();\n    return useObservableValue(dominantSpeaker$);\n};\n/**\n * Utility hook which provides a list of call members.\n */\nconst useCallMembers = () => {\n    const { members$ } = useCallState();\n    return useObservableValue(members$);\n};\n/**\n * Utility hook providing the current calling state of the call. For example, `RINGING` or `JOINED`.\n */\nconst useCallCallingState = () => {\n    const { callingState$ } = useCallState();\n    return useObservableValue(callingState$);\n};\n/**\n * Utility hook providing the actual start time of the current session.\n * Useful for calculating the call duration.\n */\nconst useCallStartedAt = () => {\n    const { startedAt$ } = useCallState();\n    return useObservableValue(startedAt$);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n *\n * @param options.sortBy - A comparator function to sort the participants by.\n * Make sure to memoize output of the `combineComparators` function\n * (or keep it out of component's scope if possible) before passing it down to this property.\n */\nconst useParticipants = ({ sortBy, } = {}) => {\n    const { participants$ } = useCallState();\n    const participants = useObservableValue(participants$);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (sortBy) {\n            return [...participants].sort(sortBy);\n        }\n        return participants;\n    }, [participants, sortBy]);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n * Unlike `useParticipants`, it returns a more stable reference that is not affected\n * by participant sort settings.\n *\n * @category Call State\n */\nconst useRawParticipants = () => {\n    const { rawParticipants$ } = useCallState();\n    return useObservableValue(rawParticipants$);\n};\n/**\n * A hook which provides a StreamVideoLocalParticipant object.\n * It signals that I have joined a call.\n */\nconst useLocalParticipant = () => {\n    const { localParticipant$ } = useCallState();\n    return useObservableValue(localParticipant$);\n};\n/**\n * A hook which provides a list of all other participants than me that have joined an active call.\n */\nconst useRemoteParticipants = () => {\n    const { remoteParticipants$ } = useCallState();\n    return useObservableValue(remoteParticipants$);\n};\n/**\n * Returns the approximate participant count of the active call.\n * This includes the anonymous users as well, and it is computed on the server.\n */\nconst useParticipantCount = () => {\n    const { participantCount$ } = useCallState();\n    return useObservableValue(participantCount$);\n};\n/**\n * Returns the approximate anonymous participant count of the active call.\n * The regular participants are not included in this count. It is computed on the server.\n */\nconst useAnonymousParticipantCount = () => {\n    const { anonymousParticipantCount$ } = useCallState();\n    return useObservableValue(anonymousParticipantCount$);\n};\n/**\n * Returns the generated thumbnail of the current call, if enabled in settings.\n */\nconst useCallThumbnail = () => {\n    const { thumbnails$ } = useCallState();\n    return useObservableValue(thumbnails$);\n};\n/**\n * A hook which returns the local participant's own capabilities.\n */\nconst useOwnCapabilities = () => {\n    const { ownCapabilities$ } = useCallState();\n    return useObservableValue(ownCapabilities$);\n};\n/**\n * Hook that returns true if the local participant has all the given permissions.\n *\n * @param permissions the permissions to check.\n */\nconst useHasPermissions = (...permissions) => {\n    const capabilities = useOwnCapabilities();\n    return permissions.every((permission) => capabilities?.includes(permission));\n};\n/**\n * Returns the camera state of the current call.\n */\nconst useCameraState = () => {\n    const call = useCall();\n    const { camera } = call;\n    const { state } = camera;\n    const direction = useObservableValue(state.direction$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const { getDevices } = useLazyDeviceList(camera);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isPromptingPermission = useObservableValue(state.isPromptingPermission$);\n    return {\n        camera,\n        direction,\n        mediaStream,\n        get devices() {\n            return getDevices();\n        },\n        hasBrowserPermission,\n        isPromptingPermission,\n        selectedDevice,\n        ...getComputedStatus(useObservableValue(state.status$), useObservableValue(state.optimisticStatus$)),\n    };\n};\n/**\n * Returns the microphone state of the current call.\n */\nconst useMicrophoneState = () => {\n    const call = useCall();\n    const { microphone } = call;\n    const { state } = microphone;\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const { getDevices } = useLazyDeviceList(microphone);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isPromptingPermission = useObservableValue(state.isPromptingPermission$);\n    const isSpeakingWhileMuted = useObservableValue(state.speakingWhileMuted$);\n    return {\n        microphone,\n        mediaStream,\n        get devices() {\n            return getDevices();\n        },\n        selectedDevice,\n        hasBrowserPermission,\n        isPromptingPermission,\n        isSpeakingWhileMuted,\n        ...getComputedStatus(useObservableValue(state.status$), useObservableValue(state.optimisticStatus$)),\n    };\n};\n/**\n * Returns the speaker state of the current call.\n *\n * Note: This hook is not supported in React Native\n */\nconst useSpeakerState = () => {\n    if (isReactNative()) {\n        throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n    }\n    const call = useCall();\n    const { speaker } = call;\n    const { getDevices } = useLazyDeviceList(speaker);\n    const selectedDevice = useObservableValue(speaker.state.selectedDevice$);\n    return {\n        speaker,\n        get devices() {\n            return getDevices();\n        },\n        selectedDevice,\n        isDeviceSelectionSupported: speaker.state.isDeviceSelectionSupported,\n    };\n};\n/**\n * Returns the Screen Share state of the current call.\n */\nconst useScreenShareState = () => {\n    const call = useCall();\n    const { screenShare } = call;\n    return {\n        screenShare,\n        mediaStream: useObservableValue(screenShare.state.mediaStream$),\n        ...getComputedStatus(useObservableValue(screenShare.state.status$), useObservableValue(screenShare.state.optimisticStatus$)),\n    };\n};\n/**\n * Returns incoming video settings for the current call, including\n * global and per-participant manual video quality overrides.\n */\nconst useIncomingVideoSettings = () => {\n    const call = useCall();\n    const settings = useObservableValue(call.dynascaleManager.incomingVideoSettings$);\n    return settings;\n};\n/**\n * Returns the current call's closed captions queue.\n */\nconst useCallClosedCaptions = () => {\n    const { closedCaptions$ } = useCallState();\n    return useObservableValue(closedCaptions$);\n};\n/**\n * Returns the current call's closed captions queue.\n */\nconst useIsCallCaptioningInProgress = () => {\n    const { captioning$ } = useCallState();\n    return useObservableValue(captioning$);\n};\nfunction getComputedStatus(status, pendingStatus) {\n    const optimisticStatus = pendingStatus ?? status;\n    return {\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        isMute: status !== 'enabled',\n        optimisticIsMute: optimisticStatus !== 'enabled',\n        isTogglePending: optimisticStatus !== status,\n    };\n}\nfunction useLazyDeviceList(manager) {\n    const placeholderDevices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(EMPTY_DEVICES_ARRAY), []);\n    const [devices$, setDevices$] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(placeholderDevices$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const getDevices = () => {\n        if (devices$ === placeholderDevices$) {\n            setDevices$(manager.listDevices());\n        }\n        return devices;\n    };\n    return { getDevices };\n}\n\nvar CallStateHooks = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    useAnonymousParticipantCount: useAnonymousParticipantCount,\n    useCallBlockedUserIds: useCallBlockedUserIds,\n    useCallCallingState: useCallCallingState,\n    useCallClosedCaptions: useCallClosedCaptions,\n    useCallCreatedAt: useCallCreatedAt,\n    useCallCreatedBy: useCallCreatedBy,\n    useCallCustomData: useCallCustomData,\n    useCallEgress: useCallEgress,\n    useCallEndedAt: useCallEndedAt,\n    useCallEndedBy: useCallEndedBy,\n    useCallIngress: useCallIngress,\n    useCallMembers: useCallMembers,\n    useCallSession: useCallSession,\n    useCallSettings: useCallSettings,\n    useCallStartedAt: useCallStartedAt,\n    useCallStartsAt: useCallStartsAt,\n    useCallState: useCallState,\n    useCallStatsReport: useCallStatsReport,\n    useCallThumbnail: useCallThumbnail,\n    useCallUpdatedAt: useCallUpdatedAt,\n    useCameraState: useCameraState,\n    useDominantSpeaker: useDominantSpeaker,\n    useHasOngoingScreenShare: useHasOngoingScreenShare,\n    useHasPermissions: useHasPermissions,\n    useIncomingVideoSettings: useIncomingVideoSettings,\n    useIsCallCaptioningInProgress: useIsCallCaptioningInProgress,\n    useIsCallHLSBroadcastingInProgress: useIsCallHLSBroadcastingInProgress,\n    useIsCallLive: useIsCallLive,\n    useIsCallRecordingInProgress: useIsCallRecordingInProgress,\n    useIsCallTranscribingInProgress: useIsCallTranscribingInProgress,\n    useLocalParticipant: useLocalParticipant,\n    useMicrophoneState: useMicrophoneState,\n    useOwnCapabilities: useOwnCapabilities,\n    useParticipantCount: useParticipantCount,\n    useParticipants: useParticipants,\n    useRawParticipants: useRawParticipants,\n    useRemoteParticipants: useRemoteParticipants,\n    useScreenShareState: useScreenShareState,\n    useSpeakerState: useSpeakerState\n});\n\n/**\n * Utility hook which provides access to client's state store.\n */\nconst useStore = () => {\n    const client = useStreamVideoClient();\n    if (!client) {\n        throw new Error(`StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.`);\n    }\n    return client.state;\n};\n/**\n * Utility hook which provides a list of all notifications about created calls.\n * In the ring call settings, these calls can be outgoing (I have called somebody)\n * or incoming (somebody has called me).\n */\nconst useCalls = () => {\n    const { calls$ } = useStore();\n    return useObservableValue(calls$);\n};\n/**\n * Returns the current connected user.\n */\nconst useConnectedUser = () => {\n    const { connectedUser$ } = useStore();\n    return useObservableValue(connectedUser$);\n};\n\n/**\n * Custom hook for toggling call recording in a video call.\n *\n * This hook provides functionality to start and stop call recording,\n * along with state management for tracking the recording status\n * and the loading indicator while awaiting a response.\n */\nconst useToggleCallRecording = () => {\n    const call = useCall();\n    const isCallRecordingInProgress = useIsCallRecordingInProgress();\n    const [isAwaitingResponse, setIsAwaitingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // TODO: add permissions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // we wait until call.recording_started/stopped event to flips the\n        // `isCallRecordingInProgress` state variable.\n        // Once the flip happens, we remove the loading indicator\n        setIsAwaitingResponse((isAwaiting) => {\n            if (isAwaiting)\n                return false;\n            return isAwaiting;\n        });\n    }, [isCallRecordingInProgress]);\n    const toggleCallRecording = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n        try {\n            setIsAwaitingResponse(true);\n            if (isCallRecordingInProgress) {\n                await call?.stopRecording();\n            }\n            else {\n                await call?.startRecording();\n            }\n        }\n        catch (e) {\n            console.error(`Failed start recording`, e);\n            throw e;\n        }\n    }, [call, isCallRecordingInProgress]);\n    return { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress };\n};\n\n/**\n * A hook-alike function that exposes all call state hooks.\n */\nconst useCallStateHooks = () => CallStateHooks;\n\nconst Restricted = ({ canRequestOnly, hasPermissionsOnly, requiredGrants, requireAll = true, children, }) => {\n    const call = useCall();\n    const { useCallSettings, useOwnCapabilities } = useCallStateHooks();\n    const ownCapabilities = useOwnCapabilities();\n    const settings = useCallSettings();\n    const hasPermissions = requiredGrants[requireAll ? 'every' : 'some']((capability) => ownCapabilities?.includes(capability));\n    if (hasPermissionsOnly)\n        return hasPermissions ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    const canRequest = requiredGrants.some((capability) => call?.permissionsContext.canRequest(capability, settings));\n    if (canRequestOnly)\n        return canRequest ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    if (hasPermissions || canRequest)\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    return null;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQzJDO0FBQy9EO0FBQytCO0FBQ25DOztBQUUxQiwwQkFBMEIsb0RBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QixZQUFZLHNEQUFHLCtCQUErQixpQ0FBaUM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVU7QUFDckI7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxDQUFDLElBQUk7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLG1GQUFtRixRQUFRLElBQUksSUFBSTtBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhEQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsb0RBQWE7QUFDdkM7QUFDQSxDQUFDO0FBQ0QsOEJBQThCLCtCQUErQjtBQUM3RDtBQUNBLFlBQVksc0RBQUcsK0JBQStCLGdDQUFnQztBQUM5RTtBQUNBLHlCQUF5QixrRUFBa0U7QUFDM0YsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGtDQUFrQywrQ0FBUTtBQUMxQyxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsOENBQU8sVUFBVSxTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNC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Q0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixrRkFBa0Y7QUFDeEc7QUFDQSxZQUFZLHNDQUFzQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBRyxDQUFDLHVEQUFRLElBQUksb0JBQW9CO0FBQ3BFO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQUcsQ0FBQyx1REFBUSxJQUFJLG9CQUFvQjtBQUNoRTtBQUNBLGVBQWUsc0RBQUcsQ0FBQyx1REFBUSxJQUFJLG9CQUFvQjtBQUNuRDtBQUNBOztBQUV3UTtBQUN4USIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxocFxcRG93bmxvYWRzXFxyZW1vdGUtaW50ZXJ2aWV3LXBsYXRmb3JtXFxub2RlX21vZHVsZXNcXEBzdHJlYW0taW9cXHZpZGVvLXJlYWN0LWJpbmRpbmdzXFxkaXN0XFxpbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaTE4bmV4dCBmcm9tICdpMThuZXh0JztcbmltcG9ydCB7IFJ4VXRpbHMsIENhbGxTdGF0ZSB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7XG5cbmNvbnN0IFN0cmVhbUNhbGxDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBBIHByb3ZpZGVyIGZvciB0aGUgY2FsbCBvYmplY3QuXG4gKi9cbmNvbnN0IFN0cmVhbUNhbGxQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbCwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFN0cmVhbUNhbGxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjYWxsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbi8qKlxuICogQSBob29rIHRvIGdldCB0aGUgY2FsbCBvYmplY3QgZnJvbSB0aGUgY2xvc2VzdCBwcm92aWRlci5cbiAqL1xuY29uc3QgdXNlQ2FsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChTdHJlYW1DYWxsQ29udGV4dCk7XG59O1xuXG5jb25zdCBtYXBUb1JlZ2lzdHJ5ID0gKHRyYW5zbGF0aW9uc01hcCwgbmFtZXNwYWNlKSA9PiBPYmplY3QuZW50cmllcyh0cmFuc2xhdGlvbnNNYXApLnJlZHVjZSgoYWNjLCBbbG5nLCB0cmFuc2xhdGlvbnNdKSA9PiB7XG4gICAgYWNjW2xuZ10gPSB7IFtuYW1lc3BhY2VdOiB0cmFuc2xhdGlvbnMgfTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuY29uc3QgZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24gPSAoa2V5KSA9PiBrZXk7XG5jbGFzcyBTdHJlYW1JMThuIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGRlYnVnID0gZmFsc2UsIGN1cnJlbnRMYW5ndWFnZSA9ICdlbicsIGZhbGxiYWNrTGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcyA9IHsgZW46IHt9IH0sIH0gPSB7fSkge1xuICAgICAgICAvKiogVHJhbnNsYXRvciBmdW5jdGlvbiB0aGF0IGNvbnZlcnRzIHRoZSBwcm92aWRlZCBzdHJpbmcgaW50byBpdHMgZXF1aXZhbGVudCBpbiB0aGUgY3VycmVudCBsYW5ndWFnZS4gKi9cbiAgICAgICAgdGhpcy50ID0gZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb247XG4gICAgICAgIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudCA9IGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmluaXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UgPSBhc3luYyAobGFuZ3VhZ2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMudCA9IGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5zID0gJ3N0cmVhbS12aWRlbyc7XG4gICAgICAgIHRoaXMuaTE4bkluc3RhbmNlID0gaTE4bmV4dC5jcmVhdGVJbnN0YW5jZSh7XG4gICAgICAgICAgICBkZWJ1ZyxcbiAgICAgICAgICAgIGRlZmF1bHROUzogbnMsXG4gICAgICAgICAgICBmYWxsYmFja0xuZzogZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb246IHsgZXNjYXBlVmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICBrZXlTZXBhcmF0b3I6IGZhbHNlLFxuICAgICAgICAgICAgbG5nOiBjdXJyZW50TGFuZ3VhZ2UsXG4gICAgICAgICAgICBuc1NlcGFyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyOiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbixcbiAgICAgICAgICAgIHJlc291cmNlczogbWFwVG9SZWdpc3RyeSh0cmFuc2xhdGlvbnNPdmVycmlkZXMsIG5zKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBjdXJyZW50TGFuZ3VhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5sYW5ndWFnZTtcbiAgICB9XG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkO1xuICAgIH1cbn1cblxuY29uc3QgU3RyZWFtSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICB0OiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbixcbn0pO1xuY29uc3QgU3RyZWFtSTE4blByb3ZpZGVyID0gKHsgY2hpbGRyZW4sIC4uLmNyZWF0ZUkxOG5QYXJhbXMgfSkgPT4ge1xuICAgIGNvbnN0IGFwaSA9IHVzZUNyZWF0ZUkxOG4oY3JlYXRlSTE4blBhcmFtcyk7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtSTE4bkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGFwaSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5jb25zdCB1c2VDcmVhdGVJMThuID0gKHsgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgZmFsbGJhY2tMYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCB9KSA9PiB7XG4gICAgY29uc3QgW2kxOG5dID0gdXNlU3RhdGUoKCkgPT4gaTE4bkluc3RhbmNlIHx8XG4gICAgICAgIG5ldyBTdHJlYW1JMThuKHtcbiAgICAgICAgICAgIGN1cnJlbnRMYW5ndWFnZTogbGFuZ3VhZ2UsXG4gICAgICAgICAgICBmYWxsYmFja0xhbmd1YWdlLFxuICAgICAgICAgICAgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLFxuICAgICAgICB9KSk7XG4gICAgY29uc3QgW3QsIHNldFRyYW5zbGF0aW9uRm5dID0gdXNlU3RhdGUoKCkgPT4gaTE4bi50KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWkxOG4uaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgaTE4bi5pbml0KCkudGhlbigoKSA9PiBzZXRUcmFuc2xhdGlvbkZuKCgpID0+IGkxOG4udCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGkxOG4uY3VycmVudExhbmd1YWdlICE9PSBsYW5ndWFnZSkge1xuICAgICAgICAgICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSkudGhlbigoKSA9PiBzZXRUcmFuc2xhdGlvbkZuKCgpID0+IGkxOG4udCkpO1xuICAgICAgICB9XG4gICAgfSwgW2kxOG4sIGxhbmd1YWdlXSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHsgaTE4biwgdCB9KSwgW2kxOG4sIHRdKTtcbn07XG4vKipcbiAqIEEgaG9vayB0byBnZXQgdGhlIGkxOG4gaW5zdGFuY2UgYW5kIHRyYW5zbGF0aW9uIGZ1bmN0aW9uIGZyb20gdGhlIGNsb3Nlc3QgcHJvdmlkZXIuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGNvbnN0IHsgdCwgaTE4biB9ID0gdXNlSTE4bigpO1xuICogY29uc3QgbWVzc2FnZSA9IHQoJ2hlbGxvX3dvcmxkJyk7XG4gKiBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAqL1xuY29uc3QgdXNlSTE4biA9ICgpID0+IHVzZUNvbnRleHQoU3RyZWFtSTE4bkNvbnRleHQpO1xuXG5jb25zdCBTdHJlYW1WaWRlb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG4vKipcbiAqIFN0cmVhbVZpZGVvIGlzIGEgcHJvdmlkZXIgY29tcG9uZW50IHdoaWNoIHNob3VsZCBiZSB1c2VkIHRvIHdyYXAgdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cbiAqIEl0IHByb3ZpZGVzIHRoZSBjbGllbnQgb2JqZWN0IHRvIGFsbCBjaGlsZHJlbiBjb21wb25lbnRzIGFuZCBpbml0aWFsaXplcyB0aGUgaTE4biBpbnN0YW5jZS5cbiAqL1xuY29uc3QgU3RyZWFtVmlkZW9Qcm92aWRlciA9ICh7IGNoaWxkcmVuLCBjbGllbnQsIGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFN0cmVhbVZpZGVvQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY2xpZW50LCBjaGlsZHJlbjoganN4KFN0cmVhbUkxOG5Qcm92aWRlciwgeyBpMThuSW5zdGFuY2U6IGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2U6IGxhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXM6IHRyYW5zbGF0aW9uc092ZXJyaWRlcywgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG4vKipcbiAqIEhvb2sgdG8gYWNjZXNzIHRoZSBuZWFyZXN0IFN0cmVhbVZpZGVvIGNsaWVudCBpbnN0YW5jZS5cbiAqL1xuY29uc3QgdXNlU3RyZWFtVmlkZW9DbGllbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoU3RyZWFtVmlkZW9Db250ZXh0KTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgd2UgYXJlIHVzaW5nIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCBpc1JlYWN0TmF0aXZlID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBuYXZpZ2F0b3IucHJvZHVjdD8udG9Mb3dlckNhc2UoKSA9PT0gJ3JlYWN0bmF0aXZlJztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBnaXZlbiBvYnNlcnZhYmxlLlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byByZWFkIGRhdGEgZnJvbS5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgYSBkZWZhdWx0IHZhbHVlLiBVc2VkIHdoZW4gdGhlIG9ic2VydmFibGUgZGF0YSBjYW4ndCBiZSByZWFkIG9yIGVtaXRzIGFuIGVycm9yLlxuICovXG5jb25zdCB1c2VPYnNlcnZhYmxlVmFsdWUgPSAob2JzZXJ2YWJsZSQsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKG9ic2VydmFibGUkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBSeFV0aWxzLmNyZWF0ZVN1YnNjcmlwdGlvbihvYnNlcnZhYmxlJCwgc2V0VmFsdWUsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWFkaW5nIGFuIG9ic2VydmFibGUnLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9LCBbZGVmYXVsdFZhbHVlLCBvYnNlcnZhYmxlJF0pO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8vIGtpbmQtb2YgbWVtb2l6ZWQsIHVzZWQgYXMgYSBkZWZhdWx0IHZhbHVlXG5jb25zdCBFTVBUWV9ERVZJQ0VTX0FSUkFZID0gT2JqZWN0LmZyZWV6ZShbXSk7XG4vKipcbiAqIFV0aWxpdHkgaG9vaywgd2hpY2ggcHJvdmlkZXMgdGhlIGN1cnJlbnQgY2FsbCdzIHN0YXRlLlxuICovXG5jb25zdCB1c2VDYWxsU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICAvLyByZXR1cm4gYW4gZW1wdHkgYW5kIHVubGlua2VkIENhbGxTdGF0ZSBvYmplY3QgaWYgdGhlcmUgaXMgbm8gY2FsbCBpbiB0aGUgcHJvdmlkZXJcbiAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgaG9va3MgYWx3YXlzIHJldHVybiBhIHZhbHVlIGFuZCBtYW55IG51bGwgY2hlY2tzIGNhbiBiZSBhdm9pZGVkXG4gICAgaWYgKCFjYWxsKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnWW91IGFyZSB1c2luZyB1c2VDYWxsU3RhdGUoKSBvdXRzaWRlIGEgQ2FsbCBjb250ZXh0LiAnICtcbiAgICAgICAgICAgICdQbGVhc2Ugd3JhcCB5b3VyIGNvbXBvbmVudCBpbiA8U3RyZWFtQ2FsbCAvPiBhbmQgcHJvdmlkZSBhIFwiY2FsbFwiIGluc3RhbmNlLic7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsU3RhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGwuc3RhdGU7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgaW5mb3JtYXRpb24gd2hldGhlciB0aGUgY3VycmVudCBjYWxsIGlzIGJlaW5nIHJlY29yZGVkLiBJdCB3aWxsIHJldHVybiBgdHJ1ZWAgaWYgdGhlIGNhbGwgaXMgYmVpbmcgcmVjb3JkZWQuXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZWNvcmRpbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJlY29yZGluZyQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBicm9hZGNhc3RpbmcuXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbEhMU0Jyb2FkY2FzdGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBlZ3Jlc3MgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZWdyZXNzJCk7XG4gICAgaWYgKCFlZ3Jlc3MpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gZWdyZXNzLmJyb2FkY2FzdGluZztcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIHRoZSBjdXJyZW50IGNhbGwgaXMgbGl2ZS5cbiAqL1xuY29uc3QgdXNlSXNDYWxsTGl2ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGJhY2tzdGFnZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIGNvbnN0IGlzQmFja3N0YWdlT24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoYmFja3N0YWdlJCk7XG4gICAgcmV0dXJuICFpc0JhY2tzdGFnZU9uO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgbGlzdCBvZiBibG9ja2VkIHVzZXJzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZUNhbGxCbG9ja2VkVXNlcklkcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGJsb2NrZWRVc2VySWRzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShibG9ja2VkVXNlcklkcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyBjcmVhdGVkLlxuICovXG5jb25zdCB1c2VDYWxsQ3JlYXRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3JlYXRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjcmVhdGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgZW5kZWQuXG4gKi9cbmNvbnN0IHVzZUNhbGxFbmRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZW5kZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZW5kZWRBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHRlbGxpbmcgd2hlbiB0aGUgY2FsbCBpcyBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGFydHNBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXJ0c0F0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzdGFydHNBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyB1cGRhdGVkLlxuICovXG5jb25zdCB1c2VDYWxsVXBkYXRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXBkYXRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh1cGRhdGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsJ3MgY3JlYXRvci5cbiAqL1xuY29uc3QgdXNlQ2FsbENyZWF0ZWRCeSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNyZWF0ZWRCeSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3JlYXRlZEJ5JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3MgY3VzdG9tIGRhdGEuXG4gKi9cbmNvbnN0IHVzZUNhbGxDdXN0b21EYXRhID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VzdG9tJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjdXN0b20kKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBFZ3Jlc3MgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxFZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVncmVzcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIEluZ3Jlc3MgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxJbmdyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaW5ncmVzcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoaW5ncmVzcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgZGF0YSBmb3IgdGhlIGN1cnJlbnQgY2FsbCBzZXNzaW9uLlxuICovXG5jb25zdCB1c2VDYWxsU2Vzc2lvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNlc3Npb24kIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHNlc3Npb24kKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBzZXR0aW5ncy5cbiAqL1xuY29uc3QgdXNlQ2FsbFNldHRpbmdzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2V0dGluZ3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHNldHRpbmdzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGNhbGwgaGFzIHRyYW5zY3JpYmluZyBlbmFibGVkLlxuICovXG5jb25zdCB1c2VJc0NhbGxUcmFuc2NyaWJpbmdJblByb2dyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdHJhbnNjcmliaW5nJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh0cmFuc2NyaWJpbmckKTtcbn07XG4vKipcbiAqIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgd2hvIGhhcyBtYXJrZWQgdGhpcyBjYWxsIGFzIGVuZGVkLlxuICovXG5jb25zdCB1c2VDYWxsRW5kZWRCeSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVuZGVkQnkkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVuZGVkQnkkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZXJlIGlzXG4gKiBhIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwgd2hpY2ggc2hhcmVzIHRoZWlyIHNjcmVlbi5cbiAqL1xuY29uc3QgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaGFzT25nb2luZ1NjcmVlblNoYXJlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShoYXNPbmdvaW5nU2NyZWVuU2hhcmUkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgbGF0ZXN0IHN0YXRzIHJlcG9ydCBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKiBXaGVuIHN0YXRzIGdhdGhlcmluZyBpcyBlbmFibGVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGEgbmV3IHZhbHVlXG4gKiBhdCBhIHJlZ3VsYXIgKGNvbmZpZ3VyYWJsZSkgaW50ZXJ2YWwuXG4gKlxuICogQ29uc3VtZXJzIG9mIHRoaXMgb2JzZXJ2YWJsZSBjYW4gaW1wbGVtZW50IHRoZWlyIG93biBiYXRjaGluZyBsb2dpY1xuICogaW4gY2FzZSB0aGV5IHdhbnQgdG8gc2hvdyBoaXN0b3JpY2FsIHN0YXRzIGRhdGEuXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGF0c1JlcG9ydCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxTdGF0c1JlcG9ydCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbFN0YXRzUmVwb3J0JCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgdGhlIGRvbWluYW50IHNwZWFrZXIgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlRG9taW5hbnRTcGVha2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZG9taW5hbnRTcGVha2VyJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShkb21pbmFudFNwZWFrZXIkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgY2FsbCBtZW1iZXJzLlxuICovXG5jb25zdCB1c2VDYWxsTWVtYmVycyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG1lbWJlcnMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKG1lbWJlcnMkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayBwcm92aWRpbmcgdGhlIGN1cnJlbnQgY2FsbGluZyBzdGF0ZSBvZiB0aGUgY2FsbC4gRm9yIGV4YW1wbGUsIGBSSU5HSU5HYCBvciBgSk9JTkVEYC5cbiAqL1xuY29uc3QgdXNlQ2FsbENhbGxpbmdTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbGluZ1N0YXRlJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgcHJvdmlkaW5nIHRoZSBhY3R1YWwgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBzZXNzaW9uLlxuICogVXNlZnVsIGZvciBjYWxjdWxhdGluZyB0aGUgY2FsbCBkdXJhdGlvbi5cbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXJ0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXJ0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhcnRlZEF0JCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYXJ0aWNpcGFudHMgdGhhdCBoYXZlIGpvaW5lZCBhbiBhY3RpdmUgY2FsbC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucy5zb3J0QnkgLSBBIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICogTWFrZSBzdXJlIHRvIG1lbW9pemUgb3V0cHV0IG9mIHRoZSBgY29tYmluZUNvbXBhcmF0b3JzYCBmdW5jdGlvblxuICogKG9yIGtlZXAgaXQgb3V0IG9mIGNvbXBvbmVudCdzIHNjb3BlIGlmIHBvc3NpYmxlKSBiZWZvcmUgcGFzc2luZyBpdCBkb3duIHRvIHRoaXMgcHJvcGVydHkuXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50cyA9ICh7IHNvcnRCeSwgfSA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VPYnNlcnZhYmxlVmFsdWUocGFydGljaXBhbnRzJCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoc29ydEJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhcnRpY2lwYW50c10uc29ydChzb3J0QnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XG4gICAgfSwgW3BhcnRpY2lwYW50cywgc29ydEJ5XSk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYXJ0aWNpcGFudHMgdGhhdCBoYXZlIGpvaW5lZCBhbiBhY3RpdmUgY2FsbC5cbiAqIFVubGlrZSBgdXNlUGFydGljaXBhbnRzYCwgaXQgcmV0dXJucyBhIG1vcmUgc3RhYmxlIHJlZmVyZW5jZSB0aGF0IGlzIG5vdCBhZmZlY3RlZFxuICogYnkgcGFydGljaXBhbnQgc29ydCBzZXR0aW5ncy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VSYXdQYXJ0aWNpcGFudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByYXdQYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJhd1BhcnRpY2lwYW50cyQpO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHByb3ZpZGVzIGEgU3RyZWFtVmlkZW9Mb2NhbFBhcnRpY2lwYW50IG9iamVjdC5cbiAqIEl0IHNpZ25hbHMgdGhhdCBJIGhhdmUgam9pbmVkIGEgY2FsbC5cbiAqL1xuY29uc3QgdXNlTG9jYWxQYXJ0aWNpcGFudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGxvY2FsUGFydGljaXBhbnQkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgYWxsIG90aGVyIHBhcnRpY2lwYW50cyB0aGFuIG1lIHRoYXQgaGF2ZSBqb2luZWQgYW4gYWN0aXZlIGNhbGwuXG4gKi9cbmNvbnN0IHVzZVJlbW90ZVBhcnRpY2lwYW50cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUocmVtb3RlUGFydGljaXBhbnRzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBwYXJ0aWNpcGFudCBjb3VudCBvZiB0aGUgYWN0aXZlIGNhbGwuXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgdXNlcnMgYXMgd2VsbCwgYW5kIGl0IGlzIGNvbXB1dGVkIG9uIHRoZSBzZXJ2ZXIuXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50Q291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudENvdW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShwYXJ0aWNpcGFudENvdW50JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBhbm9ueW1vdXMgcGFydGljaXBhbnQgY291bnQgb2YgdGhlIGFjdGl2ZSBjYWxsLlxuICogVGhlIHJlZ3VsYXIgcGFydGljaXBhbnRzIGFyZSBub3QgaW5jbHVkZWQgaW4gdGhpcyBjb3VudC4gSXQgaXMgY29tcHV0ZWQgb24gdGhlIHNlcnZlci5cbiAqL1xuY29uc3QgdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGFub255bW91c1BhcnRpY2lwYW50Q291bnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCB0aHVtYm5haWwgb2YgdGhlIGN1cnJlbnQgY2FsbCwgaWYgZW5hYmxlZCBpbiBzZXR0aW5ncy5cbiAqL1xuY29uc3QgdXNlQ2FsbFRodW1ibmFpbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHRodW1ibmFpbHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHRodW1ibmFpbHMkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCByZXR1cm5zIHRoZSBsb2NhbCBwYXJ0aWNpcGFudCdzIG93biBjYXBhYmlsaXRpZXMuXG4gKi9cbmNvbnN0IHVzZU93bkNhcGFiaWxpdGllcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG93bkNhcGFiaWxpdGllcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUob3duQ2FwYWJpbGl0aWVzJCk7XG59O1xuLyoqXG4gKiBIb29rIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBsb2NhbCBwYXJ0aWNpcGFudCBoYXMgYWxsIHRoZSBnaXZlbiBwZXJtaXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIGNoZWNrLlxuICovXG5jb25zdCB1c2VIYXNQZXJtaXNzaW9ucyA9ICguLi5wZXJtaXNzaW9ucykgPT4ge1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHVzZU93bkNhcGFiaWxpdGllcygpO1xuICAgIHJldHVybiBwZXJtaXNzaW9ucy5ldmVyeSgocGVybWlzc2lvbikgPT4gY2FwYWJpbGl0aWVzPy5pbmNsdWRlcyhwZXJtaXNzaW9uKSk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYW1lcmEgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlQ2FtZXJhU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNhbWVyYSB9ID0gY2FsbDtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBjYW1lcmE7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmRpcmVjdGlvbiQpO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCB7IGdldERldmljZXMgfSA9IHVzZUxhenlEZXZpY2VMaXN0KGNhbWVyYSk7XG4gICAgY29uc3QgaGFzQnJvd3NlclBlcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaGFzQnJvd3NlclBlcm1pc3Npb24kKTtcbiAgICBjb25zdCBpc1Byb21wdGluZ1Blcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaXNQcm9tcHRpbmdQZXJtaXNzaW9uJCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FtZXJhLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBnZXQgZGV2aWNlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXREZXZpY2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLFxuICAgICAgICBpc1Byb21wdGluZ1Blcm1pc3Npb24sXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICAuLi5nZXRDb21wdXRlZFN0YXR1cyh1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc3RhdHVzJCksIHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5vcHRpbWlzdGljU3RhdHVzJCkpLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaWNyb3Bob25lIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZU1pY3JvcGhvbmVTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSB9ID0gY2FsbDtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBtaWNyb3Bob25lO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCB7IGdldERldmljZXMgfSA9IHVzZUxhenlEZXZpY2VMaXN0KG1pY3JvcGhvbmUpO1xuICAgIGNvbnN0IGhhc0Jyb3dzZXJQZXJtaXNzaW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmhhc0Jyb3dzZXJQZXJtaXNzaW9uJCk7XG4gICAgY29uc3QgaXNQcm9tcHRpbmdQZXJtaXNzaW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmlzUHJvbXB0aW5nUGVybWlzc2lvbiQpO1xuICAgIGNvbnN0IGlzU3BlYWtpbmdXaGlsZU11dGVkID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnNwZWFraW5nV2hpbGVNdXRlZCQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pY3JvcGhvbmUsXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBnZXQgZGV2aWNlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXREZXZpY2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBoYXNCcm93c2VyUGVybWlzc2lvbixcbiAgICAgICAgaXNQcm9tcHRpbmdQZXJtaXNzaW9uLFxuICAgICAgICBpc1NwZWFraW5nV2hpbGVNdXRlZCxcbiAgICAgICAgLi4uZ2V0Q29tcHV0ZWRTdGF0dXModXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnN0YXR1cyQpLCB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpKSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3BlYWtlciBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIE5vdGU6IFRoaXMgaG9vayBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCB1c2VTcGVha2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyk7XG4gICAgfVxuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBzcGVha2VyIH0gPSBjYWxsO1xuICAgIGNvbnN0IHsgZ2V0RGV2aWNlcyB9ID0gdXNlTGF6eURldmljZUxpc3Qoc3BlYWtlcik7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3BlYWtlci5zdGF0ZS5zZWxlY3RlZERldmljZSQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNwZWFrZXIsXG4gICAgICAgIGdldCBkZXZpY2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldERldmljZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkOiBzcGVha2VyLnN0YXRlLmlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBTY3JlZW4gU2hhcmUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlU2NyZWVuU2hhcmVTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgc2NyZWVuU2hhcmUgfSA9IGNhbGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NyZWVuU2hhcmUsXG4gICAgICAgIG1lZGlhU3RyZWFtOiB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUubWVkaWFTdHJlYW0kKSxcbiAgICAgICAgLi4uZ2V0Q29tcHV0ZWRTdGF0dXModXNlT2JzZXJ2YWJsZVZhbHVlKHNjcmVlblNoYXJlLnN0YXRlLnN0YXR1cyQpLCB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpKSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyBpbmNvbWluZyB2aWRlbyBzZXR0aW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCwgaW5jbHVkaW5nXG4gKiBnbG9iYWwgYW5kIHBlci1wYXJ0aWNpcGFudCBtYW51YWwgdmlkZW8gcXVhbGl0eSBvdmVycmlkZXMuXG4gKi9cbmNvbnN0IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhbGwuZHluYXNjYWxlTWFuYWdlci5pbmNvbWluZ1ZpZGVvU2V0dGluZ3MkKTtcbiAgICByZXR1cm4gc2V0dGluZ3M7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNhbGwncyBjbG9zZWQgY2FwdGlvbnMgcXVldWUuXG4gKi9cbmNvbnN0IHVzZUNhbGxDbG9zZWRDYXB0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNsb3NlZENhcHRpb25zJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjbG9zZWRDYXB0aW9ucyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBjYWxsJ3MgY2xvc2VkIGNhcHRpb25zIHF1ZXVlLlxuICovXG5jb25zdCB1c2VJc0NhbGxDYXB0aW9uaW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb25pbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhcHRpb25pbmckKTtcbn07XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0YXR1cyhzdGF0dXMsIHBlbmRpbmdTdGF0dXMpIHtcbiAgICBjb25zdCBvcHRpbWlzdGljU3RhdHVzID0gcGVuZGluZ1N0YXR1cyA/PyBzdGF0dXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvcHRpbWlzdGljU3RhdHVzLFxuICAgICAgICBpc0VuYWJsZWQ6IHN0YXR1cyA9PT0gJ2VuYWJsZWQnLFxuICAgICAgICBpc011dGU6IHN0YXR1cyAhPT0gJ2VuYWJsZWQnLFxuICAgICAgICBvcHRpbWlzdGljSXNNdXRlOiBvcHRpbWlzdGljU3RhdHVzICE9PSAnZW5hYmxlZCcsXG4gICAgICAgIGlzVG9nZ2xlUGVuZGluZzogb3B0aW1pc3RpY1N0YXR1cyAhPT0gc3RhdHVzLFxuICAgIH07XG59XG5mdW5jdGlvbiB1c2VMYXp5RGV2aWNlTGlzdChtYW5hZ2VyKSB7XG4gICAgY29uc3QgcGxhY2Vob2xkZXJEZXZpY2VzJCA9IHVzZU1lbW8oKCkgPT4gb2YoRU1QVFlfREVWSUNFU19BUlJBWSksIFtdKTtcbiAgICBjb25zdCBbZGV2aWNlcyQsIHNldERldmljZXMkXSA9IHVzZVN0YXRlKHBsYWNlaG9sZGVyRGV2aWNlcyQpO1xuICAgIGNvbnN0IGRldmljZXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZGV2aWNlcyQsIEVNUFRZX0RFVklDRVNfQVJSQVkpO1xuICAgIGNvbnN0IGdldERldmljZXMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXZpY2VzJCA9PT0gcGxhY2Vob2xkZXJEZXZpY2VzJCkge1xuICAgICAgICAgICAgc2V0RGV2aWNlcyQobWFuYWdlci5saXN0RGV2aWNlcygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGV2aWNlcztcbiAgICB9O1xuICAgIHJldHVybiB7IGdldERldmljZXMgfTtcbn1cblxudmFyIENhbGxTdGF0ZUhvb2tzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50OiB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50LFxuICAgIHVzZUNhbGxCbG9ja2VkVXNlcklkczogdXNlQ2FsbEJsb2NrZWRVc2VySWRzLFxuICAgIHVzZUNhbGxDYWxsaW5nU3RhdGU6IHVzZUNhbGxDYWxsaW5nU3RhdGUsXG4gICAgdXNlQ2FsbENsb3NlZENhcHRpb25zOiB1c2VDYWxsQ2xvc2VkQ2FwdGlvbnMsXG4gICAgdXNlQ2FsbENyZWF0ZWRBdDogdXNlQ2FsbENyZWF0ZWRBdCxcbiAgICB1c2VDYWxsQ3JlYXRlZEJ5OiB1c2VDYWxsQ3JlYXRlZEJ5LFxuICAgIHVzZUNhbGxDdXN0b21EYXRhOiB1c2VDYWxsQ3VzdG9tRGF0YSxcbiAgICB1c2VDYWxsRWdyZXNzOiB1c2VDYWxsRWdyZXNzLFxuICAgIHVzZUNhbGxFbmRlZEF0OiB1c2VDYWxsRW5kZWRBdCxcbiAgICB1c2VDYWxsRW5kZWRCeTogdXNlQ2FsbEVuZGVkQnksXG4gICAgdXNlQ2FsbEluZ3Jlc3M6IHVzZUNhbGxJbmdyZXNzLFxuICAgIHVzZUNhbGxNZW1iZXJzOiB1c2VDYWxsTWVtYmVycyxcbiAgICB1c2VDYWxsU2Vzc2lvbjogdXNlQ2FsbFNlc3Npb24sXG4gICAgdXNlQ2FsbFNldHRpbmdzOiB1c2VDYWxsU2V0dGluZ3MsXG4gICAgdXNlQ2FsbFN0YXJ0ZWRBdDogdXNlQ2FsbFN0YXJ0ZWRBdCxcbiAgICB1c2VDYWxsU3RhcnRzQXQ6IHVzZUNhbGxTdGFydHNBdCxcbiAgICB1c2VDYWxsU3RhdGU6IHVzZUNhbGxTdGF0ZSxcbiAgICB1c2VDYWxsU3RhdHNSZXBvcnQ6IHVzZUNhbGxTdGF0c1JlcG9ydCxcbiAgICB1c2VDYWxsVGh1bWJuYWlsOiB1c2VDYWxsVGh1bWJuYWlsLFxuICAgIHVzZUNhbGxVcGRhdGVkQXQ6IHVzZUNhbGxVcGRhdGVkQXQsXG4gICAgdXNlQ2FtZXJhU3RhdGU6IHVzZUNhbWVyYVN0YXRlLFxuICAgIHVzZURvbWluYW50U3BlYWtlcjogdXNlRG9taW5hbnRTcGVha2VyLFxuICAgIHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZTogdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlLFxuICAgIHVzZUhhc1Blcm1pc3Npb25zOiB1c2VIYXNQZXJtaXNzaW9ucyxcbiAgICB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3M6IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyxcbiAgICB1c2VJc0NhbGxDYXB0aW9uaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsQ2FwdGlvbmluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VJc0NhbGxMaXZlOiB1c2VJc0NhbGxMaXZlLFxuICAgIHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3M6IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VMb2NhbFBhcnRpY2lwYW50OiB1c2VMb2NhbFBhcnRpY2lwYW50LFxuICAgIHVzZU1pY3JvcGhvbmVTdGF0ZTogdXNlTWljcm9waG9uZVN0YXRlLFxuICAgIHVzZU93bkNhcGFiaWxpdGllczogdXNlT3duQ2FwYWJpbGl0aWVzLFxuICAgIHVzZVBhcnRpY2lwYW50Q291bnQ6IHVzZVBhcnRpY2lwYW50Q291bnQsXG4gICAgdXNlUGFydGljaXBhbnRzOiB1c2VQYXJ0aWNpcGFudHMsXG4gICAgdXNlUmF3UGFydGljaXBhbnRzOiB1c2VSYXdQYXJ0aWNpcGFudHMsXG4gICAgdXNlUmVtb3RlUGFydGljaXBhbnRzOiB1c2VSZW1vdGVQYXJ0aWNpcGFudHMsXG4gICAgdXNlU2NyZWVuU2hhcmVTdGF0ZTogdXNlU2NyZWVuU2hhcmVTdGF0ZSxcbiAgICB1c2VTcGVha2VyU3RhdGU6IHVzZVNwZWFrZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGFjY2VzcyB0byBjbGllbnQncyBzdGF0ZSBzdG9yZS5cbiAqL1xuY29uc3QgdXNlU3RvcmUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gdXNlU3RyZWFtVmlkZW9DbGllbnQoKTtcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbVZpZGVvQ2xpZW50IGlzbid0IGluaXRpYWxpemVkIG9yIHRoaXMgaG9vayBpcyBjYWxsZWQgb3V0c2lkZSBvZiA8U3RyZWFtVmlkZW8+IGNvbnRleHQuYCk7XG4gICAgfVxuICAgIHJldHVybiBjbGllbnQuc3RhdGU7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBub3RpZmljYXRpb25zIGFib3V0IGNyZWF0ZWQgY2FsbHMuXG4gKiBJbiB0aGUgcmluZyBjYWxsIHNldHRpbmdzLCB0aGVzZSBjYWxscyBjYW4gYmUgb3V0Z29pbmcgKEkgaGF2ZSBjYWxsZWQgc29tZWJvZHkpXG4gKiBvciBpbmNvbWluZyAoc29tZWJvZHkgaGFzIGNhbGxlZCBtZSkuXG4gKi9cbmNvbnN0IHVzZUNhbGxzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbHMkIH0gPSB1c2VTdG9yZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbHMkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgY29ubmVjdGVkIHVzZXIuXG4gKi9cbmNvbnN0IHVzZUNvbm5lY3RlZFVzZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0ZWRVc2VyJCB9ID0gdXNlU3RvcmUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNvbm5lY3RlZFVzZXIkKTtcbn07XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIHRvZ2dsaW5nIGNhbGwgcmVjb3JkaW5nIGluIGEgdmlkZW8gY2FsbC5cbiAqXG4gKiBUaGlzIGhvb2sgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzdGFydCBhbmQgc3RvcCBjYWxsIHJlY29yZGluZyxcbiAqIGFsb25nIHdpdGggc3RhdGUgbWFuYWdlbWVudCBmb3IgdHJhY2tpbmcgdGhlIHJlY29yZGluZyBzdGF0dXNcbiAqIGFuZCB0aGUgbG9hZGluZyBpbmRpY2F0b3Igd2hpbGUgYXdhaXRpbmcgYSByZXNwb25zZS5cbiAqL1xuY29uc3QgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSB1c2VJc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKCk7XG4gICAgY29uc3QgW2lzQXdhaXRpbmdSZXNwb25zZSwgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAvLyBUT0RPOiBhZGQgcGVybWlzc2lvbnNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyB3ZSB3YWl0IHVudGlsIGNhbGwucmVjb3JkaW5nX3N0YXJ0ZWQvc3RvcHBlZCBldmVudCB0byBmbGlwcyB0aGVcbiAgICAgICAgLy8gYGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NgIHN0YXRlIHZhcmlhYmxlLlxuICAgICAgICAvLyBPbmNlIHRoZSBmbGlwIGhhcHBlbnMsIHdlIHJlbW92ZSB0aGUgbG9hZGluZyBpbmRpY2F0b3JcbiAgICAgICAgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlKChpc0F3YWl0aW5nKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBd2FpdGluZylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gaXNBd2FpdGluZztcbiAgICAgICAgfSk7XG4gICAgfSwgW2lzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NdKTtcbiAgICBjb25zdCB0b2dnbGVDYWxsUmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlKHRydWUpO1xuICAgICAgICAgICAgaWYgKGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgc3RhcnQgcmVjb3JkaW5nYCwgZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfSwgW2NhbGwsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NdKTtcbiAgICByZXR1cm4geyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfTtcbn07XG5cbi8qKlxuICogQSBob29rLWFsaWtlIGZ1bmN0aW9uIHRoYXQgZXhwb3NlcyBhbGwgY2FsbCBzdGF0ZSBob29rcy5cbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRlSG9va3MgPSAoKSA9PiBDYWxsU3RhdGVIb29rcztcblxuY29uc3QgUmVzdHJpY3RlZCA9ICh7IGNhblJlcXVlc3RPbmx5LCBoYXNQZXJtaXNzaW9uc09ubHksIHJlcXVpcmVkR3JhbnRzLCByZXF1aXJlQWxsID0gdHJ1ZSwgY2hpbGRyZW4sIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFNldHRpbmdzLCB1c2VPd25DYXBhYmlsaXRpZXMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgb3duQ2FwYWJpbGl0aWVzID0gdXNlT3duQ2FwYWJpbGl0aWVzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9ucyA9IHJlcXVpcmVkR3JhbnRzW3JlcXVpcmVBbGwgPyAnZXZlcnknIDogJ3NvbWUnXSgoY2FwYWJpbGl0eSkgPT4gb3duQ2FwYWJpbGl0aWVzPy5pbmNsdWRlcyhjYXBhYmlsaXR5KSk7XG4gICAgaWYgKGhhc1Blcm1pc3Npb25zT25seSlcbiAgICAgICAgcmV0dXJuIGhhc1Blcm1pc3Npb25zID8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSA6IG51bGw7XG4gICAgY29uc3QgY2FuUmVxdWVzdCA9IHJlcXVpcmVkR3JhbnRzLnNvbWUoKGNhcGFiaWxpdHkpID0+IGNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KGNhcGFiaWxpdHksIHNldHRpbmdzKSk7XG4gICAgaWYgKGNhblJlcXVlc3RPbmx5KVxuICAgICAgICByZXR1cm4gY2FuUmVxdWVzdCA/IGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkgOiBudWxsO1xuICAgIGlmIChoYXNQZXJtaXNzaW9ucyB8fCBjYW5SZXF1ZXN0KVxuICAgICAgICByZXR1cm4ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KTtcbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB7IFJlc3RyaWN0ZWQsIFN0cmVhbUNhbGxQcm92aWRlciwgU3RyZWFtSTE4biwgU3RyZWFtSTE4blByb3ZpZGVyLCBTdHJlYW1WaWRlb1Byb3ZpZGVyLCBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbiwgdXNlQ2FsbCwgdXNlQ2FsbFN0YXRlSG9va3MsIHVzZUNhbGxzLCB1c2VDb25uZWN0ZWRVc2VyLCB1c2VJMThuLCB1c2VPYnNlcnZhYmxlVmFsdWUsIHVzZVN0b3JlLCB1c2VTdHJlYW1WaWRlb0NsaWVudCwgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcceptCallButton: () => (/* binding */ AcceptCallButton),\n/* harmony export */   Audio: () => (/* binding */ Audio),\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarFallback: () => (/* binding */ AvatarFallback),\n/* harmony export */   AxiosError: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AxiosError),\n/* harmony export */   BackgroundFiltersProvider: () => (/* binding */ BackgroundFiltersProvider),\n/* harmony export */   BackstageLayout: () => (/* binding */ BackstageLayout),\n/* harmony export */   BaseVideo: () => (/* binding */ BaseVideo),\n/* harmony export */   Browsers: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers),\n/* harmony export */   Call: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Call),\n/* harmony export */   CallControls: () => (/* binding */ CallControls),\n/* harmony export */   CallParticipantListing: () => (/* binding */ CallParticipantListing),\n/* harmony export */   CallParticipantListingItem: () => (/* binding */ CallParticipantListingItem),\n/* harmony export */   CallParticipantsList: () => (/* binding */ CallParticipantsList),\n/* harmony export */   CallPreview: () => (/* binding */ CallPreview),\n/* harmony export */   CallRecordingList: () => (/* binding */ CallRecordingList),\n/* harmony export */   CallRecordingListHeader: () => (/* binding */ CallRecordingListHeader),\n/* harmony export */   CallRecordingListItem: () => (/* binding */ CallRecordingListItem),\n/* harmony export */   CallState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallState),\n/* harmony export */   CallStats: () => (/* binding */ CallStats),\n/* harmony export */   CallStatsButton: () => (/* binding */ CallStatsButton),\n/* harmony export */   CallType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallType),\n/* harmony export */   CallTypes: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes),\n/* harmony export */   CallingState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState),\n/* harmony export */   CameraManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManager),\n/* harmony export */   CameraManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManagerState),\n/* harmony export */   CancelCallButton: () => (/* binding */ CancelCallButton),\n/* harmony export */   CancelCallConfirmButton: () => (/* binding */ CancelCallConfirmButton),\n/* harmony export */   CompositeButton: () => (/* binding */ CompositeButton),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DebounceType),\n/* harmony export */   DefaultParticipantViewUI: () => (/* binding */ DefaultParticipantViewUI),\n/* harmony export */   DefaultReactionsMenu: () => (/* binding */ DefaultReactionsMenu),\n/* harmony export */   DefaultScreenShareOverlay: () => (/* binding */ DefaultScreenShareOverlay),\n/* harmony export */   DefaultVideoPlaceholder: () => (/* binding */ DefaultVideoPlaceholder),\n/* harmony export */   DeviceSelector: () => (/* binding */ DeviceSelector),\n/* harmony export */   DeviceSelectorAudioInput: () => (/* binding */ DeviceSelectorAudioInput),\n/* harmony export */   DeviceSelectorAudioOutput: () => (/* binding */ DeviceSelectorAudioOutput),\n/* harmony export */   DeviceSelectorVideo: () => (/* binding */ DeviceSelectorVideo),\n/* harmony export */   DeviceSettings: () => (/* binding */ DeviceSettings),\n/* harmony export */   DropDownSelect: () => (/* binding */ DropDownSelect),\n/* harmony export */   DropDownSelectOption: () => (/* binding */ DropDownSelectOption),\n/* harmony export */   DynascaleManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DynascaleManager),\n/* harmony export */   EmptyCallRecordingListing: () => (/* binding */ EmptyCallRecordingListing),\n/* harmony export */   ErrorFromResponse: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ErrorFromResponse),\n/* harmony export */   FrameRecordingSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.FrameRecordingSettingsRequestModeEnum),\n/* harmony export */   FrameRecordingSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.FrameRecordingSettingsRequestQualityEnum),\n/* harmony export */   FrameRecordingSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.FrameRecordingSettingsResponseModeEnum),\n/* harmony export */   GenericMenu: () => (/* binding */ GenericMenu),\n/* harmony export */   GenericMenuButtonItem: () => (/* binding */ GenericMenuButtonItem),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   IngressAudioEncodingOptionsRequestChannelsEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingOptionsRequestChannelsEnum),\n/* harmony export */   IngressVideoLayerRequestCodecEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.IngressVideoLayerRequestCodecEnum),\n/* harmony export */   InputMediaDeviceManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManagerState),\n/* harmony export */   LayoutSettingsRequestNameEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.LayoutSettingsRequestNameEnum),\n/* harmony export */   LivestreamLayout: () => (/* binding */ LivestreamLayout),\n/* harmony export */   LivestreamPlayer: () => (/* binding */ LivestreamPlayer),\n/* harmony export */   LoadingCallRecordingListing: () => (/* binding */ LoadingCallRecordingListing),\n/* harmony export */   LoadingIndicator: () => (/* binding */ LoadingIndicator),\n/* harmony export */   MenuToggle: () => (/* binding */ MenuToggle),\n/* harmony export */   MenuVisualType: () => (/* binding */ MenuVisualType),\n/* harmony export */   MicrophoneManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManagerState),\n/* harmony export */   NoiseCancellationProvider: () => (/* binding */ NoiseCancellationProvider),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum),\n/* harmony export */   Notification: () => (/* binding */ Notification),\n/* harmony export */   OwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability),\n/* harmony export */   PaginatedGridLayout: () => (/* binding */ PaginatedGridLayout),\n/* harmony export */   ParticipantActionsContextMenu: () => (/* binding */ ParticipantActionsContextMenu),\n/* harmony export */   ParticipantDetails: () => (/* binding */ ParticipantDetails),\n/* harmony export */   ParticipantView: () => (/* binding */ ParticipantView),\n/* harmony export */   ParticipantViewContext: () => (/* binding */ ParticipantViewContext),\n/* harmony export */   ParticipantsAudio: () => (/* binding */ ParticipantsAudio),\n/* harmony export */   PermissionNotification: () => (/* binding */ PermissionNotification),\n/* harmony export */   PermissionRequestList: () => (/* binding */ PermissionRequestList),\n/* harmony export */   PermissionRequests: () => (/* binding */ PermissionRequests),\n/* harmony export */   PipLayout: () => (/* binding */ PipLayout),\n/* harmony export */   RNSpeechDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RNSpeechDetector),\n/* harmony export */   RTMPBroadcastRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RTMPBroadcastRequestQualityEnum),\n/* harmony export */   RTMPSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RTMPSettingsRequestQualityEnum),\n/* harmony export */   Reaction: () => (/* binding */ Reaction),\n/* harmony export */   ReactionsButton: () => (/* binding */ ReactionsButton),\n/* harmony export */   RecordCallButton: () => (/* binding */ RecordCallButton),\n/* harmony export */   RecordCallConfirmationButton: () => (/* binding */ RecordCallConfirmationButton),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestQualityEnum),\n/* harmony export */   RecordingInProgressNotification: () => (/* binding */ RecordingInProgressNotification),\n/* harmony export */   Restricted: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted),\n/* harmony export */   RingingCall: () => (/* binding */ RingingCall),\n/* harmony export */   RingingCallControls: () => (/* binding */ RingingCallControls),\n/* harmony export */   RxUtils: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RxUtils),\n/* harmony export */   ScreenShareButton: () => (/* binding */ ScreenShareButton),\n/* harmony export */   ScreenShareManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareState),\n/* harmony export */   SearchInput: () => (/* binding */ SearchInput),\n/* harmony export */   SearchResults: () => (/* binding */ SearchResults),\n/* harmony export */   SfuEvents: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuEvents),\n/* harmony export */   SfuModels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels),\n/* harmony export */   SpeakerLayout: () => (/* binding */ SpeakerLayout),\n/* harmony export */   SpeakerManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerState),\n/* harmony export */   SpeakingWhileMutedNotification: () => (/* binding */ SpeakingWhileMutedNotification),\n/* harmony export */   SpeechIndicator: () => (/* binding */ SpeechIndicator),\n/* harmony export */   StartClosedCaptionsRequestLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StartClosedCaptionsRequestLanguageEnum),\n/* harmony export */   StartTranscriptionRequestLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StartTranscriptionRequestLanguageEnum),\n/* harmony export */   StatCard: () => (/* binding */ StatCard),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamCallProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18nProvider),\n/* harmony export */   StreamSfuClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamSfuClient),\n/* harmony export */   StreamTheme: () => (/* binding */ StreamTheme),\n/* harmony export */   StreamVideo: () => (/* binding */ StreamVideo),\n/* harmony export */   StreamVideoClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoClient),\n/* harmony export */   StreamVideoProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoWriteableStateStore),\n/* harmony export */   TextButton: () => (/* binding */ TextButton),\n/* harmony export */   ToggleAudioOutputButton: () => (/* binding */ ToggleAudioOutputButton),\n/* harmony export */   ToggleAudioPreviewButton: () => (/* binding */ ToggleAudioPreviewButton),\n/* harmony export */   ToggleAudioPublishingButton: () => (/* binding */ ToggleAudioPublishingButton),\n/* harmony export */   ToggleVideoPreviewButton: () => (/* binding */ ToggleVideoPreviewButton),\n/* harmony export */   ToggleVideoPublishingButton: () => (/* binding */ ToggleVideoPublishingButton),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TranscriptionSettingsRequestClosedCaptionModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsRequestLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestLanguageEnum),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseClosedCaptionModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsResponseLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseLanguageEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseModeEnum),\n/* harmony export */   Video: () => (/* binding */ Video$1),\n/* harmony export */   VideoPreview: () => (/* binding */ VideoPreview),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState),\n/* harmony export */   WithTooltip: () => (/* binding */ WithTooltip),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators),\n/* harmony export */   conditional: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.conditional),\n/* harmony export */   createSoundDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.createSoundDetector),\n/* harmony export */   defaultEmojiReactionMap: () => (/* binding */ defaultEmojiReactionMap),\n/* harmony export */   defaultReactions: () => (/* binding */ defaultReactions),\n/* harmony export */   defaultSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset),\n/* harmony export */   defaultTranslationFunction: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.defaultTranslationFunction),\n/* harmony export */   descending: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.descending),\n/* harmony export */   deviceIds$: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioStream),\n/* harmony export */   getClientDetails: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getClientDetails),\n/* harmony export */   getDeviceState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceState),\n/* harmony export */   getLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogLevel),\n/* harmony export */   getLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger),\n/* harmony export */   getScreenShareStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio),\n/* harmony export */   hasPausedTrack: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasPausedTrack),\n/* harmony export */   hasScreenShare: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo),\n/* harmony export */   isPinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logLevels),\n/* harmony export */   logToConsole: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logToConsole),\n/* harmony export */   name: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name),\n/* harmony export */   noopComparator: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.pinned),\n/* harmony export */   publishingAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingAudio),\n/* harmony export */   publishingVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingVideo),\n/* harmony export */   reactionType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.reactionType),\n/* harmony export */   resolveDeviceId: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.resolveDeviceId),\n/* harmony export */   role: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.role),\n/* harmony export */   screenSharing: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel),\n/* harmony export */   setLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogger),\n/* harmony export */   setOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setOSInfo),\n/* harmony export */   setPowerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setPowerState),\n/* harmony export */   setSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo),\n/* harmony export */   setThermalState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speaking),\n/* harmony export */   translations: () => (/* binding */ translations),\n/* harmony export */   useBackgroundFilters: () => (/* binding */ useBackgroundFilters),\n/* harmony export */   useCall: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall),\n/* harmony export */   useCallStateHooks: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks),\n/* harmony export */   useCalls: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCalls),\n/* harmony export */   useConnectedUser: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser),\n/* harmony export */   useDeviceList: () => (/* binding */ useDeviceList),\n/* harmony export */   useFilteredParticipants: () => (/* binding */ useFilteredParticipants),\n/* harmony export */   useHorizontalScrollPosition: () => (/* binding */ useHorizontalScrollPosition),\n/* harmony export */   useI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n),\n/* harmony export */   useMenuContext: () => (/* binding */ useMenuContext),\n/* harmony export */   useNoiseCancellation: () => (/* binding */ useNoiseCancellation),\n/* harmony export */   useObservableValue: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useObservableValue),\n/* harmony export */   useParticipantViewContext: () => (/* binding */ useParticipantViewContext),\n/* harmony export */   usePersistedDevicePreferences: () => (/* binding */ usePersistedDevicePreferences),\n/* harmony export */   useRequestPermission: () => (/* binding */ useRequestPermission),\n/* harmony export */   useStore: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStore),\n/* harmony export */   useStreamVideoClient: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording),\n/* harmony export */   useTrackElementVisibility: () => (/* binding */ useTrackElementVisibility),\n/* harmony export */   useVerticalScrollPosition: () => (/* binding */ useVerticalScrollPosition)\n/* harmony export */ });\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stream-io/video-react-bindings */ \"(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stream-io/video-filters-web */ \"(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = ({ participant, trackType = 'audioTrack', ...rest }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [audioElement, setAudioElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { userId, sessionId } = participant;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !audioElement)\n            return;\n        const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, sessionId, audioElement, trackType]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"audio\", { autoPlay: true, ...rest, ref: setAudioElement, \"data-user-id\": userId, \"data-session-id\": sessionId, \"data-track-type\": trackType }));\n};\nAudio.displayName = 'Audio';\n\nconst ParticipantsAudio = (props) => {\n    const { participants, audioProps } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: participants.map((participant) => {\n            if (participant.isLocalParticipant)\n                return null;\n            const { audioStream, screenShareAudioStream, sessionId } = participant;\n            const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n            const audioTrackElement = hasAudioTrack && audioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"audioTrack\", participant: participant }));\n            const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n            const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n                screenShareAudioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"screenShareAudioTrack\", participant: participant }));\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [audioTrackElement, screenShareAudioTrackElement] }, sessionId));\n        }) }));\n};\nParticipantsAudio.displayName = 'ParticipantsAudio';\n\nconst ParticipantViewContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\nconst useParticipantViewContext = () => (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ParticipantViewContext);\n\nconst useFloatingUIPreset = ({ middleware = [], placement, strategy, offset: offsetInPx = 10, }) => {\n    const { refs, x, y, update, elements: { domReference, floating }, context, } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement,\n        strategy,\n        middleware: [\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.offset)(offsetInPx),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.shift)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.size)({\n                padding: 10,\n                apply: ({ availableHeight, elements }) => {\n                    Object.assign(elements.floating.style, {\n                        maxHeight: `${availableHeight}px`,\n                    });\n                },\n            }),\n            ...middleware,\n        ],\n    });\n    // handle window resizing\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!domReference || !floating)\n            return;\n        const cleanup = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate)(domReference, floating, update);\n        return () => cleanup();\n    }, [domReference, floating, update]);\n    return { refs, x, y, domReference, floating, strategy, context };\n};\n\nconst defaultDevice = 'default';\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistedDevicePreferences = (key = '@stream-io/device-preferences') => {\n    const { useCallSettings, useCallCallingState, useMicrophoneState, useCameraState, useSpeakerState, } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const callingState = useCallCallingState();\n    const microphoneState = useMicrophoneState();\n    const cameraState = useCameraState();\n    const speakerState = useSpeakerState();\n    const [applyingState, setApplyingState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('idle');\n    // when the camera is disabled on call type level, we should discard\n    // any stored camera preferences.\n    const cameraDevices = settings?.video?.enabled ? cameraState.devices : false;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function apply() {\n        if (callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT ||\n            microphoneState.devices.length === 0 ||\n            (Array.isArray(cameraDevices) && cameraDevices.length === 0) ||\n            speakerState.devices.length === 0 ||\n            !settings ||\n            applyingState !== 'idle') {\n            return;\n        }\n        setApplyingState('applying');\n        (async () => {\n            const { audio, video } = settings;\n            for (const [deviceKey, state, defaultMuted, enabledInCallType] of [\n                ['microphone', microphoneState, !audio.mic_default_on, true],\n                ['camera', cameraState, !video.camera_default_on, video.enabled],\n                ['speaker', speakerState, false, true],\n            ]) {\n                const preferences = parseLocalDevicePreferences(key);\n                const preference = preferences[deviceKey];\n                const manager = state[deviceKey];\n                const applyPromise = preference\n                    ? applyLocalDevicePreference(manager, [preference].flat(), deviceKey === 'camera' ? cameraDevices || [] : state.devices, enabledInCallType)\n                    : applyMutedState(manager, defaultMuted, enabledInCallType);\n                await applyPromise.catch((err) => {\n                    console.warn(`Failed to apply ${deviceKey} device preferences`, err);\n                });\n            }\n        })().finally(() => setApplyingState((state) => (state === 'applying' ? 'applied' : state)));\n    }, [\n        applyingState,\n        callingState,\n        cameraState,\n        cameraDevices,\n        key,\n        microphoneState,\n        microphoneState.devices,\n        settings,\n        speakerState,\n        speakerState.devices,\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function persist() {\n        if (callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT || applyingState !== 'applied') {\n            return;\n        }\n        for (const [deviceKey, devices, selectedDevice, isMute] of [\n            [\n                'camera',\n                cameraDevices || [],\n                cameraState.selectedDevice,\n                cameraState.isMute,\n            ],\n            [\n                'microphone',\n                microphoneState.devices,\n                microphoneState.selectedDevice,\n                microphoneState.isMute,\n            ],\n            [\n                'speaker',\n                speakerState.devices,\n                speakerState.selectedDevice,\n                speakerState.isMute,\n            ],\n        ]) {\n            try {\n                patchLocalDevicePreference(key, deviceKey, {\n                    devices,\n                    selectedDevice,\n                    isMute,\n                });\n            }\n            catch (err) {\n                console.warn(`Failed to save ${deviceKey} device preferences`, err);\n            }\n        }\n    }, [\n        applyingState,\n        callingState,\n        cameraDevices,\n        cameraState.isMute,\n        cameraState.selectedDevice,\n        key,\n        microphoneState.devices,\n        microphoneState.isMute,\n        microphoneState.selectedDevice,\n        speakerState.devices,\n        speakerState.isMute,\n        speakerState.selectedDevice,\n    ]);\n};\n// const usePersistedDevicePreference = <K extends DeviceKey>(\n//   key: string,\n//   deviceKey: K,\n//   state: DeviceState<K>,\n//   defaultMuted?: boolean,\n// ): void => {\n//   const { useCallCallingState } = useCallStateHooks();\n//   const callingState = useCallCallingState();\n//   const [applyingState, setApplyingState] = useState<\n//     'idle' | 'applying' | 'applied'\n//   >('idle');\n//   const manager = state[deviceKey];\n//   useEffect(\n//     function apply() {\n//       if (\n//         callingState === CallingState.LEFT ||\n//         !state.devices?.length ||\n//         typeof defaultMuted !== 'boolean' ||\n//         applyingState !== 'idle'\n//       ) {\n//         return;\n//       }\n//       const preferences = parseLocalDevicePreferences(key);\n//       const preference = preferences[deviceKey];\n//       setApplyingState('applying');\n//       if (!manager.state.selectedDevice) {\n//         const applyPromise = preference\n//           ? applyLocalDevicePreference(\n//               manager,\n//               [preference].flat(),\n//               state.devices,\n//             )\n//           : applyMutedState(manager, defaultMuted);\n//         applyPromise\n//           .catch((err) => {\n//             console.warn(\n//               `Failed to apply ${deviceKey} device preferences`,\n//               err,\n//             );\n//           })\n//           .finally(() => setApplyingState('applied'));\n//       } else {\n//         setApplyingState('applied');\n//       }\n//     },\n//     [\n//       applyingState,\n//       callingState,\n//       defaultMuted,\n//       deviceKey,\n//       key,\n//       manager,\n//       state.devices,\n//     ],\n//   );\n//   useEffect(\n//     function persist() {\n//       if (\n//         callingState === CallingState.LEFT ||\n//         !state.devices?.length ||\n//         applyingState !== 'applied'\n//       ) {\n//         return;\n//       }\n//       try {\n//         patchLocalDevicePreference(key, deviceKey, {\n//           devices: state.devices,\n//           selectedDevice: state.selectedDevice,\n//           isMute: state.isMute,\n//         });\n//       } catch (err) {\n//         console.warn(`Failed to save ${deviceKey} device preferences`, err);\n//       }\n//     },\n//     [\n//       applyingState,\n//       callingState,\n//       deviceKey,\n//       key,\n//       state.devices,\n//       state.isMute,\n//       state.selectedDevice,\n//     ],\n//   );\n// };\nconst parseLocalDevicePreferences = (key) => {\n    const preferencesStr = window.localStorage.getItem(key);\n    let preferences = {};\n    if (preferencesStr) {\n        try {\n            preferences = JSON.parse(preferencesStr);\n            if (Object.hasOwn(preferences, 'mic')) {\n                // for backwards compatibility\n                preferences.microphone = preferences.mic;\n            }\n        }\n        catch {\n            /* assume preferences are empty */\n        }\n    }\n    return preferences;\n};\nconst patchLocalDevicePreference = (key, deviceKey, state) => {\n    const preferences = parseLocalDevicePreferences(key);\n    const nextPreference = getSelectedDevicePreference(state.devices, state.selectedDevice);\n    const preferenceHistory = [preferences[deviceKey] ?? []]\n        .flat()\n        .filter((p) => p.selectedDeviceId !== nextPreference.selectedDeviceId &&\n        (p.selectedDeviceLabel === '' ||\n            p.selectedDeviceLabel !== nextPreference.selectedDeviceLabel));\n    window.localStorage.setItem(key, JSON.stringify({\n        ...preferences,\n        mic: undefined, // for backwards compatibility\n        [deviceKey]: [\n            {\n                ...nextPreference,\n                muted: state.isMute,\n            },\n            ...preferenceHistory,\n        ].slice(0, 3),\n    }));\n};\nconst applyLocalDevicePreference = async (manager, preference, devices, enabledInCallType) => {\n    let muted;\n    for (const p of preference) {\n        muted ?? (muted = p.muted);\n        if (p.selectedDeviceId === defaultDevice) {\n            break;\n        }\n        const device = devices.find((d) => d.deviceId === p.selectedDeviceId) ??\n            devices.find((d) => d.label === p.selectedDeviceLabel);\n        if (device) {\n            if (!manager.state.selectedDevice) {\n                await manager.select(device.deviceId);\n            }\n            muted = p.muted;\n            break;\n        }\n    }\n    if (typeof muted === 'boolean') {\n        await applyMutedState(manager, muted, enabledInCallType);\n    }\n};\nconst applyMutedState = async (manager, muted, enabledInCallType) => {\n    if (enabledInCallType && !manager.state.status) {\n        await manager[muted ? 'disable' : 'enable']?.();\n    }\n};\nconst getSelectedDevicePreference = (devices, selectedDevice) => ({\n    selectedDeviceId: selectedDevice || defaultDevice,\n    selectedDeviceLabel: devices?.find((d) => d.deviceId === selectedDevice)?.label ?? '',\n});\n\nconst SCROLL_THRESHOLD = 10;\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nconst useVerticalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n            if (!hasVerticalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheTop = element.scrollTop <= threshold;\n            if (isAtTheTop)\n                return setScrollPosition('top');\n            const isAtTheBottom = Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) <= threshold;\n            if (isAtTheBottom)\n                return setScrollPosition('bottom');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\nconst useHorizontalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n            if (!hasHorizontalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheStart = element.scrollLeft <= threshold;\n            if (isAtTheStart)\n                return setScrollPosition('start');\n            const isAtTheEnd = Math.abs(element.scrollWidth - element.scrollLeft - element.clientWidth) <= threshold;\n            if (isAtTheEnd)\n                return setScrollPosition('end');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\n\nconst useRequestPermission = (permission) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const [isAwaitingPermission, setIsAwaitingPermission] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false); // TODO: load with possibly pending state\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const reset = () => setIsAwaitingPermission(false);\n        if (hasPermission)\n            reset();\n    }, [hasPermission]);\n    const requestPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        if (hasPermission)\n            return true;\n        const canRequestPermission = !!call?.permissionsContext.canRequest(permission);\n        if (isAwaitingPermission || !canRequestPermission)\n            return false;\n        setIsAwaitingPermission(true);\n        try {\n            await call?.requestPermissions({\n                permissions: [permission],\n            });\n        }\n        catch (error) {\n            setIsAwaitingPermission(false);\n            throw new Error(`requestPermission failed: ${error}`);\n        }\n        return false;\n    }, [call, hasPermission, isAwaitingPermission, permission]);\n    return {\n        requestPermission,\n        hasPermission,\n        canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n        isAwaitingPermission,\n    };\n};\n\n/**\n * Utility hook that helps render a list of devices or implement a device selector.\n * Compared to someting like `useCameraState().devices`, it has some handy features:\n * 1. Adds the \"Default\" device to the list if applicable (either the user did not\n * select a device, or a previously selected device is no longer available).\n * 2. Maps the device list to a format more suitable for rendering.\n */\nfunction useDeviceList(devices, selectedDeviceId) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        let selectedDeviceInfo = null;\n        let selectedIndex = null;\n        const deviceList = devices.map((d, i) => {\n            const isSelected = d.deviceId === selectedDeviceId;\n            const device = { deviceId: d.deviceId, label: d.label, isSelected };\n            if (isSelected) {\n                selectedDeviceInfo = device;\n                selectedIndex = i;\n            }\n            return device;\n        });\n        if (selectedDeviceInfo === null || selectedIndex === null) {\n            const defaultDevice = {\n                deviceId: 'default',\n                label: t('Default'),\n                isSelected: true,\n            };\n            selectedDeviceInfo = defaultDevice;\n            selectedIndex = 0;\n            deviceList.unshift(defaultDevice);\n        }\n        return { deviceList, selectedDeviceInfo, selectedIndex };\n    }, [devices, selectedDeviceId, t]);\n}\n\nvar MenuVisualType;\n(function (MenuVisualType) {\n    MenuVisualType[\"PORTAL\"] = \"portal\";\n    MenuVisualType[\"MENU\"] = \"menu\";\n})(MenuVisualType || (MenuVisualType = {}));\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n/**\n * Access to the closes MenuContext.\n */\nconst useMenuContext = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(MenuContext);\n};\nconst MenuPortal = ({ children, refs, }) => {\n    const portalId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`, []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { id: portalId, className: \"str-video__portal\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingOverlay, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingPortal, { id: portalId, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__portal-content\", ref: refs.setFloating, children: children }) }) })] }));\n};\nconst MenuToggle = ({ ToggleButton, placement = 'top-start', strategy = 'absolute', offset, visualType = MenuVisualType.MENU, children, onToggle, }) => {\n    const [menuShown, setMenuShown] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const toggleHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onToggle);\n    toggleHandler.current = onToggle;\n    const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n        placement,\n        strategy,\n        offset,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const parentDocument = domReference?.ownerDocument;\n        const handleClick = (event) => {\n            if (!floating && domReference?.contains(event.target)) {\n                setMenuShown(true);\n                toggleHandler.current?.(true);\n            }\n            else if (floating && !floating?.contains(event.target)) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        const handleKeyDown = (event) => {\n            if (event.key && // key can be undefined in some browsers\n                event.key.toLowerCase() === 'escape' &&\n                !event.altKey &&\n                !event.ctrlKey) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        parentDocument?.addEventListener('click', handleClick, { capture: true });\n        parentDocument?.addEventListener('keydown', handleKeyDown);\n        return () => {\n            parentDocument?.removeEventListener('click', handleClick, {\n                capture: true,\n            });\n            parentDocument?.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [floating, domReference]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [menuShown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuContext.Provider, { value: { close: () => setMenuShown(false) }, children: visualType === MenuVisualType.PORTAL ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuPortal, { refs: refs, children: children })) : visualType === MenuVisualType.MENU ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__menu-container\", ref: refs.setFloating, style: {\n                        position: strategy,\n                        top: y ?? 0,\n                        left: x ?? 0,\n                        overflowY: 'auto',\n                    }, role: \"menu\", children: children })) : null })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleButton, { menuShown: menuShown, ref: refs.setReference })] }));\n};\n\nconst GenericMenu = ({ children, onItemClick, }) => {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__generic-menu\", ref: ref, onClick: (e) => {\n            if (onItemClick &&\n                e.target !== ref.current &&\n                ref.current?.contains(e.target)) {\n                onItemClick(e);\n            }\n        }, children: children }));\n};\nconst GenericMenuButtonItem = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"li\", { className: \"str-video__generic-menu--item\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, children: children }) }));\n};\n\nconst Icon = ({ className, icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__icon', icon && `str-video__icon--${icon}`, className) }));\n\nfunction usePictureInPictureState(videoElement) {\n    const [isPiP, setIsPiP] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(document.pictureInPictureElement === videoElement);\n    if (!videoElement && isPiP)\n        setIsPiP(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement)\n            return;\n        const handlePiP = () => {\n            setIsPiP(document.pictureInPictureElement === videoElement);\n        };\n        videoElement.addEventListener('enterpictureinpicture', handlePiP);\n        videoElement.addEventListener('leavepictureinpicture', handlePiP);\n        return () => {\n            videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n            videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n        };\n    }, [videoElement]);\n    return isPiP;\n}\n\nconst ParticipantActionsContextMenu = () => {\n    const { participant, participantViewElement, videoElement } = useParticipantViewContext();\n    const [fullscreenModeOn, setFullscreenModeOn] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!document.fullscreenElement);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { pin, sessionId, userId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const blockUser = () => call?.blockUser(userId);\n    const kickUser = () => call?.kickUser({ user_id: userId });\n    const muteAudio = () => call?.muteUser(userId, 'audio');\n    const muteVideo = () => call?.muteUser(userId, 'video');\n    const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n    const muteScreenShareAudio = () => call?.muteUser(userId, 'screenshare_audio');\n    const grantPermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            grant_permissions: [permission],\n        });\n    };\n    const revokePermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            revoke_permissions: [permission],\n        });\n    };\n    const toggleParticipantPin = () => {\n        if (pin) {\n            call?.unpin(sessionId);\n        }\n        else {\n            call?.pin(sessionId);\n        }\n    };\n    const pinForEveryone = () => {\n        call\n            ?.pinForEveryone({ user_id: userId, session_id: sessionId })\n            .catch((err) => {\n            console.error(`Failed to pin participant ${userId}`, err);\n        });\n    };\n    const unpinForEveryone = () => {\n        call\n            ?.unpinForEveryone({ user_id: userId, session_id: sessionId })\n            .catch((err) => {\n            console.error(`Failed to unpin participant ${userId}`, err);\n        });\n    };\n    const toggleFullscreenMode = () => {\n        if (!fullscreenModeOn) {\n            return participantViewElement?.requestFullscreen().catch(console.error);\n        }\n        return document.exitFullscreen().catch(console.error);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // handles the case when fullscreen mode is toggled externally,\n        // e.g., by pressing ESC key or some other keyboard shortcut\n        const handleFullscreenChange = () => {\n            setFullscreenModeOn(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        return () => {\n            document.removeEventListener('fullscreenchange', handleFullscreenChange);\n        };\n    }, []);\n    const togglePictureInPicture = () => {\n        if (videoElement && !isPiP) {\n            return videoElement\n                .requestPictureInPicture()\n                .catch(console.error);\n        }\n        return document.exitPictureInPicture().catch(console.error);\n    };\n    const { close } = useMenuContext() || {};\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenu, { onItemClick: close, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: toggleParticipantPin, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), pin ? t('Unpin') : t('Pin')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.PIN_FOR_EVERYONE], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: pinForEveryone, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Pin for everyone')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: unpinForEveryone, disabled: !pin || pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Unpin for everyone')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: blockUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"not-allowed\" }), t('Block')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.KICK_USER], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: kickUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"kick-user\" }), t('Kick')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], children: [hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteVideo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"camera-off-outline\" }), t('Turn off video')] })), hasScreenShareTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShare, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), t('Turn off screen share')] })), hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute audio')] })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShareAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute screen share audio')] }))] }), participantViewElement &&\n                typeof participantViewElement.requestFullscreen !== 'undefined' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: toggleFullscreenMode, children: t('{{ direction }} fullscreen', {\n                    direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n                }) })), videoElement && document.pictureInPictureEnabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: togglePictureInPicture, children: t('{{ direction }} picture-in-picture', {\n                    direction: isPiP ? t('Leave') : t('Enter'),\n                }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Allow audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Allow video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Allow screen sharing') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Disable audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Disable video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Disable screen sharing') })] })] }));\n};\n\nconst isComponentType = (elementOrComponent) => {\n    return elementOrComponent === null\n        ? false\n        : !(0,react__WEBPACK_IMPORTED_MODULE_3__.isValidElement)(elementOrComponent);\n};\n\nconst chunk = (array, size) => {\n    const chunkCount = Math.ceil(array.length / size);\n    return Array.from({ length: chunkCount }, (_, index) => array.slice(size * index, size * index + size));\n};\n\nconst applyElementToRef = (ref, element) => {\n    if (!ref)\n        return;\n    if (typeof ref === 'function')\n        return ref(element);\n    ref.current = element;\n};\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nconst BaseVideo = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement || !stream)\n            return;\n        if (stream === videoElement.srcObject)\n            return;\n        videoElement.srcObject = stream;\n        if (_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isSafari() || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isFirefox()) {\n            // Firefox and Safari have some timing issue\n            setTimeout(() => {\n                videoElement.srcObject = stream;\n                videoElement.play().catch((e) => {\n                    console.error(`Failed to play stream`, e);\n                });\n            }, 0);\n        }\n        return () => {\n            videoElement.pause();\n            videoElement.srcObject = null;\n        };\n    }, [stream, videoElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { autoPlay: true, playsInline: true, ...rest, ref: (element) => {\n            applyElementToRef(ref, element);\n            setVideoElement(element);\n        } }));\n});\n\nconst BaseVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder({ participant, style, children }, ref) {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const name = participant.name || participant.userId;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__video-placeholder\", style: style, ref: ref, children: [(!participant.image || error) &&\n                (name ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InitialsFallback, { name: name })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__no-video-label\", children: children }))), participant.image && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: name, className: \"str-video__video-placeholder__avatar\", src: participant.image }))] }));\n});\nconst InitialsFallback = (props) => {\n    const { name } = props;\n    const initials = name\n        .split(' ')\n        .slice(0, 2)\n        .map((n) => n[0])\n        .join('');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__initials-fallback\", children: initials }));\n};\n\nconst DefaultVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is disabled') }));\n});\n\nconst DefaultPictureInPicturePlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultPictureInPicturePlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is playing in a popup') }));\n});\n\nconst Video$1 = ({ enabled = true, mirror, trackType, participant, className, VideoPlaceholder = DefaultVideoPlaceholder, PictureInPicturePlaceholder = DefaultPictureInPicturePlaceholder, refs, ...rest }) => {\n    const { sessionId, videoStream, screenShareStream, viewportVisibilityState, isLocalParticipant, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // start with true, will flip once the video starts playing\n    const [isVideoPaused, setIsVideoPaused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const [isWideMode, setIsWideMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const stream = trackType === 'videoTrack'\n        ? videoStream\n        : trackType === 'screenShareTrack'\n            ? screenShareStream\n            : undefined;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        if (!call || !videoElement || trackType === 'none')\n            return;\n        const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, trackType, sessionId, videoElement]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!stream || !videoElement)\n            return;\n        const [track] = stream.getVideoTracks();\n        if (!track)\n            return;\n        const handlePlayPause = () => {\n            setIsVideoPaused(videoElement.paused);\n            const { width = 0, height = 0 } = track.getSettings();\n            setIsWideMode(width >= height);\n        };\n        // playback may have started before we had a chance to\n        // attach the 'play/pause' event listener, so we set the state\n        // here to make sure it's in sync\n        setIsVideoPaused(videoElement.paused);\n        videoElement.addEventListener('play', handlePlayPause);\n        videoElement.addEventListener('pause', handlePlayPause);\n        track.addEventListener('unmute', handlePlayPause);\n        return () => {\n            videoElement.removeEventListener('play', handlePlayPause);\n            videoElement.removeEventListener('pause', handlePlayPause);\n            track.removeEventListener('unmute', handlePlayPause);\n            // reset the 'pause' state once we unmount the video element\n            setIsVideoPaused(true);\n        };\n    }, [stream, videoElement]);\n    if (!call)\n        return null;\n    const isPublishingTrack = trackType === 'videoTrack'\n        ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant)\n        : trackType === 'screenShareTrack'\n            ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant)\n            : false;\n    const isInvisible = trackType === 'none' ||\n        viewportVisibilityState?.[trackType] === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState.INVISIBLE;\n    const hasNoVideoOrInvisible = !enabled ||\n        !isPublishingTrack ||\n        isInvisible ||\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasPausedTrack)(participant, trackType);\n    const mirrorVideo = mirror === undefined\n        ? isLocalParticipant && trackType === 'videoTrack'\n        : mirror;\n    const isScreenShareTrack = trackType === 'screenShareTrack';\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [!hasNoVideoOrInvisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { ...rest, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video', className, {\n                    'str-video__video--not-playing': isVideoPaused,\n                    'str-video__video--tall': !isWideMode,\n                    'str-video__video--mirror': mirrorVideo,\n                    'str-video__video--screen-share': isScreenShareTrack,\n                }), \"data-user-id\": userId, \"data-session-id\": sessionId, ref: (element) => {\n                    setVideoElement(element);\n                    refs?.setVideoElement?.(element);\n                } })), isPiP && PictureInPicturePlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PictureInPicturePlaceholder, { style: { position: 'absolute' }, participant: participant })), (hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VideoPlaceholder, { style: { position: 'absolute' }, participant: participant, ref: refs?.setVideoPlaceholderElement }))] }));\n};\nVideo$1.displayName = 'Video';\n\nconst useTrackElementVisibility = ({ trackedElement, dynascaleManager: propsDynascaleManager, sessionId, trackType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const manager = propsDynascaleManager ?? call?.dynascaleManager;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!trackedElement || !manager || !call || trackType === 'none')\n            return;\n        const unobserve = manager.trackElementVisibility(trackedElement, sessionId, trackType);\n        return () => {\n            unobserve();\n        };\n    }, [trackedElement, manager, call, sessionId, trackType]);\n};\n\nconst Avatar = ({ imageSrc, name, style, className, ...rest }) => {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(!imageSrc || error) && name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, { className: className, style: style, names: [name] })), imageSrc && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"avatar\", className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar', className), src: imageSrc, style: style, ...rest }))] }));\n};\nconst AvatarFallback = ({ className, names, style, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar--initials-fallback', className), style: style, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [names[0][0], names[1]?.[0]] }) }));\n};\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\n/**\n * A hook to access the background filters context API.\n */\nconst useBackgroundFilters = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(BackgroundFiltersContext);\n    if (!context) {\n        throw new Error('useBackgroundFilters must be used within a BackgroundFiltersProvider');\n    }\n    return context;\n};\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nconst BackgroundFiltersProvider = (props) => {\n    const { children, backgroundImages = [], backgroundFilter: bgFilterFromProps = undefined, backgroundImage: bgImageFromProps = undefined, backgroundBlurLevel: bgBlurLevelFromProps = undefined, tfFilePath, modelFilePath, basePath, onError, } = props;\n    const [backgroundFilter, setBackgroundFilter] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgFilterFromProps);\n    const [backgroundImage, setBackgroundImage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgImageFromProps);\n    const [backgroundBlurLevel, setBackgroundBlurLevel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgBlurLevelFromProps);\n    const applyBackgroundImageFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((imageUrl) => {\n        setBackgroundFilter('image');\n        setBackgroundImage(imageUrl);\n    }, []);\n    const applyBackgroundBlurFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((blurLevel = 'high') => {\n        setBackgroundFilter('blur');\n        setBackgroundBlurLevel(blurLevel);\n    }, []);\n    const disableBackgroundFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        setBackgroundFilter(undefined);\n        setBackgroundImage(undefined);\n        setBackgroundBlurLevel(undefined);\n    }, []);\n    const [isSupported, setIsSupported] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.isPlatformSupported)().then(setIsSupported);\n    }, []);\n    const [tfLite, setTfLite] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // don't try to load TFLite if the platform is not supported\n        if (!isSupported)\n            return;\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.loadTFLite)({ basePath, modelFilePath, tfFilePath })\n            .then(setTfLite)\n            .catch((err) => console.error('Failed to load TFLite', err));\n    }, [basePath, isSupported, modelFilePath, tfFilePath]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((error) => {\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['filters'])('warn', 'Filter encountered an error and will be disabled');\n        disableBackgroundFilter();\n        onError?.(error);\n    }, [disableBackgroundFilter, onError]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BackgroundFiltersContext.Provider, { value: {\n            isSupported,\n            isReady: !!tfLite,\n            backgroundImage,\n            backgroundBlurLevel,\n            backgroundFilter,\n            disableBackgroundFilter,\n            applyBackgroundBlurFilter,\n            applyBackgroundImageFilter,\n            backgroundImages,\n            tfFilePath,\n            modelFilePath,\n            basePath,\n            onError: handleError,\n        }, children: [children, tfLite && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackgroundFilters, { tfLite: tfLite })] }));\n};\nconst BackgroundFilters = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { children, start } = useRenderer(props.tfLite, call);\n    const { backgroundFilter, onError } = useBackgroundFilters();\n    const handleErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    handleErrorRef.current = onError;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !backgroundFilter)\n            return;\n        const { unregister } = call.camera.registerFilter((ms) => start(ms, (error) => handleErrorRef.current?.(error)));\n        return () => {\n            unregister().catch((err) => console.warn(`Can't unregister filter`, err));\n        };\n    }, [backgroundFilter, call, start]);\n    return children;\n};\nconst useRenderer = (tfLite, call) => {\n    const { backgroundFilter, backgroundBlurLevel, backgroundImage } = useBackgroundFilters();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const bgImageRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        width: 1920,\n        height: 1080,\n    });\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((ms, onError) => {\n        let outputStream;\n        let renderer;\n        const output = new Promise((resolve, reject) => {\n            if (!backgroundFilter) {\n                reject(new Error('No filter specified'));\n                return;\n            }\n            const videoEl = videoRef.current;\n            const canvasEl = canvasRef.current;\n            const bgImageEl = bgImageRef.current;\n            if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n                // You should start renderer in effect or event handlers\n                reject(new Error('Renderer started before elements are ready'));\n                return;\n            }\n            videoEl.srcObject = ms;\n            videoEl.play().then(() => {\n                const [track] = ms.getVideoTracks();\n                if (!track) {\n                    reject(new Error('No video tracks in input media stream'));\n                    return;\n                }\n                const trackSettings = track.getSettings();\n                (0,react_dom__WEBPACK_IMPORTED_MODULE_5__.flushSync)(() => setVideoSize({\n                    width: trackSettings.width ?? 0,\n                    height: trackSettings.height ?? 0,\n                }));\n                call?.tracer.trace('backgroundFilters.enable', {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage,\n                });\n                renderer = (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.createRenderer)(tfLite, videoEl, canvasEl, {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage: bgImageEl ?? undefined,\n                }, onError);\n                outputStream = canvasEl.captureStream();\n                resolve(outputStream);\n            }, () => {\n                reject(new Error('Could not play the source video stream'));\n            });\n        });\n        return {\n            output,\n            stop: () => {\n                call?.tracer.trace('backgroundFilters.disable', null);\n                renderer?.dispose();\n                if (videoRef.current)\n                    videoRef.current.srcObject = null;\n                if (outputStream)\n                    (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream)(outputStream);\n            },\n        };\n    }, [\n        backgroundBlurLevel,\n        backgroundFilter,\n        backgroundImage,\n        call?.tracer,\n        tfLite,\n    ]);\n    const children = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__background-filters\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__background-filters__video', videoSize.height > videoSize.width &&\n                    'str-video__background-filters__video--tall'), ref: videoRef, playsInline: true, muted: true, controls: false, ...videoSize }), backgroundImage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: \"str-video__background-filters__background-image\", alt: \"Background\", ref: bgImageRef, crossOrigin: \"anonymous\", src: backgroundImage, ...videoSize })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", { className: \"str-video__background-filters__target-canvas\", ...videoSize, ref: canvasRef })] }));\n    return {\n        start,\n        children,\n    };\n};\n\nconst IconButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function IconButton(props, ref) {\n    const { icon, enabled, variant, onClick, className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-controls__button', className, {\n            [`str-video__call-controls__button--variant-${variant}`]: variant,\n            'str-video__call-controls__button--enabled': enabled,\n        }), onClick: (e) => {\n            e.preventDefault();\n            onClick?.(e);\n        }, ref: ref, ...rest, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: icon }) }));\n});\n\nconst CompositeButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CompositeButton({ disabled, caption, children, className, active, Menu, menuPlacement, menuOffset, title, ToggleMenuButton = DefaultToggleMenuButton, variant, onClick, onMenuToggle, ...restButtonProps }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button', className, {\n            'str-video__composite-button--caption': caption,\n            'str-video__composite-button--menu': Menu,\n        }), title: title, ref: ref, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button__button-group', {\n                    'str-video__composite-button__button-group--active': active,\n                    'str-video__composite-button__button-group--active-primary': active && variant === 'primary',\n                    'str-video__composite-button__button-group--active-secondary': active && variant === 'secondary',\n                    'str-video__composite-button__button-group--disabled': disabled,\n                }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__composite-button__button\", onClick: (e) => {\n                            e.preventDefault();\n                            onClick?.(e);\n                        }, disabled: disabled, ...restButtonProps, children: children }), Menu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { offset: menuOffset, placement: menuPlacement, ToggleButton: ToggleMenuButton, onToggle: onMenuToggle, children: isComponentType(Menu) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) : Menu }))] }), caption && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__composite-button__caption\", children: caption }))] }));\n});\nconst DefaultToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultToggleMenuButton({ menuShown }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__menu-toggle-button', {\n            'str-video__menu-toggle-button--active': menuShown,\n        }), icon: menuShown ? 'caret-down' : 'caret-up', ref: ref }));\n});\n\nconst TextButton = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, className: \"str-video__text-button\", children: children }));\n};\n\nconst AcceptCallButton = ({ disabled, onAccept, onClick, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.join();\n            onAccept?.();\n        }\n    }, [onClick, onAccept, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-accept\", variant: \"success\", \"data-testid\": \"accept-call-button\", onClick: handleClick }));\n};\n\nconst Notification = (props) => {\n    const { isVisible, message, children, visibilityTimeout, resetIsVisible, placement = 'top', iconClassName = 'str-video__notification__icon', close, } = props;\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement,\n        strategy: 'absolute',\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isVisible || !visibilityTimeout || !resetIsVisible)\n            return;\n        const timeout = setTimeout(() => {\n            resetIsVisible();\n        }, visibilityTimeout);\n        return () => clearTimeout(timeout);\n    }, [isVisible, resetIsVisible, visibilityTimeout]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: refs.setReference, children: [isVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__notification\", ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, children: [iconClassName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: iconClassName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__notification__message\", children: message }), close ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: \"str-video__icon str-video__icon--close str-video__notification__close\", onClick: close })) : null] })), children] }));\n};\n\nconst PermissionNotification = (props) => {\n    const { permission, isAwaitingApproval, messageApproved, messageAwaitingApproval, messageRevoked, visibilityTimeout = 3500, children, } = props;\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const prevHasPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(hasPermission);\n    const [showNotification, setShowNotification] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (hasPermission && !prevHasPermission.current) {\n            setShowNotification('granted');\n            prevHasPermission.current = true;\n        }\n        else if (!hasPermission && prevHasPermission.current) {\n            setShowNotification('revoked');\n            prevHasPermission.current = false;\n        }\n    }, [hasPermission]);\n    const resetIsVisible = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setShowNotification(undefined), []);\n    if (isAwaitingApproval) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isAwaitingApproval && !hasPermission, message: messageAwaitingApproval, children: children }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: !!showNotification, visibilityTimeout: visibilityTimeout, resetIsVisible: resetIsVisible, message: showNotification === 'granted' ? messageApproved : messageRevoked, children: children }));\n};\n\nconst SpeakingWhileMutedNotification = ({ children, text, placement, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isSpeakingWhileMuted } = useMicrophoneState();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const message = text ?? t('You are muted. Unmute to speak.');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, isVisible: isSpeakingWhileMuted, placement: placement || 'top-start', children: children }));\n};\n\nconst RecordingInProgressNotification = ({ children, text, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const [isVisible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const message = text ?? t('Recording in progress...');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (isCallRecordingInProgress) {\n            setVisible(true);\n        }\n        else {\n            setVisible(false);\n        }\n    }, [isCallRecordingInProgress]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, iconClassName: \"str-video__icon str-video__icon--recording-on\", isVisible: isVisible, placement: \"top-start\", close: () => setVisible(false), children: children }));\n};\n\nconst LoadingIndicator = ({ className, type = 'spinner', text, tooltip, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator', className), title: tooltip, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator__icon', type) }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__loading-indicator-text\", children: text })] }));\n};\n\nconst Tooltip = ({ children, referenceElement, tooltipClassName, tooltipPlacement = 'top', visible = false, }) => {\n    const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { refs, x, y, strategy, context } = useFloatingUIPreset({\n        placement: tooltipPlacement,\n        strategy: 'absolute',\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.arrow)({ element: arrowRef })],\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        refs.setReference(referenceElement);\n    }, [referenceElement, refs]);\n    if (!visible)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__tooltip', tooltipClassName), ref: refs.setFloating, style: {\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingArrow, { ref: arrowRef, context: context, fill: \"var(--str-video__tooltip--background-color)\" }), children] }));\n};\n\nconst useEnterLeaveHandlers = ({ onMouseEnter, onMouseLeave, } = {}) => {\n    const [tooltipVisible, setTooltipVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(true);\n        onMouseEnter?.(e);\n    }, [onMouseEnter]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(false);\n        onMouseLeave?.(e);\n    }, [onMouseLeave]);\n    return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nconst WithTooltip = ({ title, tooltipClassName, tooltipPlacement, tooltipDisabled, ...props }) => {\n    const { handleMouseEnter, handleMouseLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [tooltipAnchor, setTooltipAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const tooltipActuallyVisible = !tooltipDisabled && Boolean(title) && tooltipVisible;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tooltip, { referenceElement: tooltipAnchor, visible: tooltipActuallyVisible, tooltipClassName: tooltipClassName, tooltipPlacement: tooltipPlacement, children: title || '' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ref: setTooltipAnchor, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...props })] }));\n};\n\nconst RecordEndConfirmation = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-on\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"h2\", { className: \"str-video__end-recording__heading\", children: t('End recording') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__end-recording__description\", children: t('Are you sure you want end the recording?') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__actions\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"secondary\", onClick: close, children: t('Cancel') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"primary\", onClick: toggleCallRecording, children: isAwaitingResponse ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {}) : t('End recording') })] })] }));\n};\nconst ToggleEndRecordingMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleEndRecordingMenuButton(props, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: true, variant: \"secondary\", \"data-testid\": \"recording-stop-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" }) }));\n});\nconst RecordCallConfirmationButton = ({ caption, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    if (isCallRecordingInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { ToggleButton: ToggleEndRecordingMenuButton, visualType: MenuVisualType.PORTAL, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordEndConfirmation, {}) }) }));\n    }\n    const title = isAwaitingResponse\n        ? t('Waiting for recording to start...')\n        : (caption ?? t('Record call'));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: title, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": \"recording-start-button\", onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" })) }) }) }));\n};\nconst RecordCallButton = ({ caption }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    let title = caption ?? t('Record call');\n    if (isAwaitingResponse) {\n        title = isCallRecordingInProgress\n            ? t('Waiting for recording to stop...')\n            : t('Waiting for recording to start...');\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": isCallRecordingInProgress\n                ? 'recording-stop-button'\n                : 'recording-start-button', title: title, onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isCallRecordingInProgress ? 'recording-on' : 'recording-off' })) }) }));\n};\n\nconst defaultEmojiReactionMap = {\n    ':like:': '👍',\n    ':raise-hand:': '✋',\n    ':fireworks:': '🎉',\n    ':dislike:': '👎',\n    ':heart:': '❤️',\n    ':smile:': '😀',\n};\nconst Reaction = ({ participant: { reaction, sessionId }, hideAfterTimeoutInMs = 5500, emojiReactionMap = defaultEmojiReactionMap, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !reaction)\n            return;\n        const timeoutId = setTimeout(() => {\n            call.resetReaction(sessionId);\n        }, hideAfterTimeoutInMs);\n        return () => {\n            clearTimeout(timeoutId);\n        };\n    }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n    if (!reaction)\n        return null;\n    const { emoji_code: emojiCode } = reaction;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__reaction\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__reaction__emoji\", children: emojiCode && emojiReactionMap[emojiCode] }) }));\n};\n\nconst defaultReactions = [\n    {\n        type: 'reaction',\n        emoji_code: ':like:',\n    },\n    {\n        // TODO OL: use `prompt` type?\n        type: 'raised-hand',\n        emoji_code: ':raise-hand:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':fireworks:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':dislike:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':heart:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':smile:',\n    },\n];\nconst ReactionsButton = ({ reactions = defaultReactions, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top\", ToggleButton: ToggleReactionsMenuButton, visualType: MenuVisualType.MENU, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultReactionsMenu, { reactions: reactions }) }) }));\n};\nconst ToggleReactionsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleReactionsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Reactions'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, variant: \"primary\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"reactions\" }) }) }));\n});\nconst DefaultReactionsMenu = ({ reactions, layout = 'horizontal', }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__reactions-menu', {\n            'str-video__reactions-menu--horizontal': layout === 'horizontal',\n            'str-video__reactions-menu--vertical': layout === 'vertical',\n        }), children: reactions.map((reaction) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__reactions-menu__button\", onClick: () => {\n                call?.sendReaction(reaction);\n                close?.();\n            }, children: reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code] }, reaction.emoji_code))) }));\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nconst createCallControlHandler = (props, handler) => {\n    const logger = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['react-sdk']);\n    return async () => {\n        try {\n            await handler();\n        }\n        catch (error) {\n            if (props.onError) {\n                props.onError(error);\n                return;\n            }\n            if (!isNotAllowedError(error)) {\n                logger('error', 'Call control handler failed', error);\n            }\n        }\n    };\n};\nfunction isNotAllowedError(error) {\n    return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n\nconst ScreenShareButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption } = props;\n    const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isSomeoneScreenSharing = useHasOngoingScreenShare();\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE);\n    const callSettings = useCallSettings();\n    const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n    const { screenShare, optimisticIsMute } = useScreenShareState();\n    const amIScreenSharing = !optimisticIsMute;\n    const disableScreenShareButton = !amIScreenSharing &&\n        (isSomeoneScreenSharing || isScreenSharingAllowed === false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await screenShare.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your screen.'), messageAwaitingApproval: t('Awaiting for an approval to share screen.'), messageRevoked: t('You can no longer share your screen.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption ?? t('Share screen'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isSomeoneScreenSharing || amIScreenSharing, caption: caption, variant: \"primary\", \"data-testid\": isSomeoneScreenSharing\n                        ? 'screen-share-stop-button'\n                        : 'screen-share-start-button', disabled: disableScreenShareButton, onClick: handleClick, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off' }) }) }) }) }));\n};\n\nconst SelectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\nconst Select = (props) => {\n    const { children, icon, defaultSelectedLabel, defaultSelectedIndex, handleSelect: handleSelectProp, } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedIndex);\n    const [selectedLabel, setSelectedLabel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedLabel);\n    const { refs, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement: 'bottom-start',\n        open: isOpen,\n        onOpenChange: setIsOpen,\n        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate,\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)()],\n    });\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const labelsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        setSelectedIndex(index);\n        handleSelectProp(index || 0);\n        setIsOpen(false);\n        if (index !== null) {\n            setSelectedLabel(labelsRef.current[index]);\n        }\n    }, [handleSelectProp]);\n    const handleTypeaheadMatch = (index) => {\n        if (isOpen) {\n            setActiveIndex(index);\n        }\n        else {\n            handleSelect(index);\n        }\n    };\n    const listNav = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListNavigation)(context, {\n        listRef: elementsRef,\n        activeIndex,\n        selectedIndex,\n        onNavigate: setActiveIndex,\n    });\n    const typeahead = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useTypeahead)(context, {\n        listRef: labelsRef,\n        activeIndex,\n        selectedIndex,\n        onMatch: handleTypeaheadMatch,\n    });\n    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useClick)(context);\n    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useDismiss)(context);\n    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useRole)(context, { role: 'listbox' });\n    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([listNav, typeahead, click, dismiss, role]);\n    const selectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        activeIndex,\n        selectedIndex,\n        getItemProps,\n        handleSelect,\n    }), [activeIndex, selectedIndex, getItemProps, handleSelect]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown-selected\", ref: refs.setReference, tabIndex: 0, ...getReferenceProps(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: \"str-video__dropdown-selected__label\", children: [icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__icon\", icon: icon })), selectedLabel] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__chevron\", icon: isOpen ? 'chevron-up' : 'chevron-down' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider, { value: selectContext, children: isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingFocusManager, { context: context, modal: false, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__dropdown-list\", ref: refs.setFloating, ...getFloatingProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingList, { elementsRef: elementsRef, labelsRef: labelsRef, children: children }) }) })) })] }));\n};\nconst DropDownSelectOption = (props) => {\n    const { selected, label, icon } = props;\n    const { getItemProps, handleSelect } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectContext);\n    const { ref, index } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListItem)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__dropdown-option', {\n            'str-video__dropdown-option--selected': selected,\n        }), ref: ref, ...getItemProps({\n            onClick: () => handleSelect(index),\n        }), children: [icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-icon\", icon: icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__dropdown-label\", children: label })] }));\n};\nconst DropDownSelect = (props) => {\n    const { children, icon, handleSelect, defaultSelectedLabel, defaultSelectedIndex, } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Select, { icon: icon, handleSelect: handleSelect, defaultSelectedIndex: defaultSelectedIndex, defaultSelectedLabel: defaultSelectedLabel, children: children }));\n};\n\nconst DeviceSelectorOption = ({ disabled, id, label, onChange, name, selected, defaultChecked, value, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__option', {\n            'str-video__device-settings__option--selected': selected,\n            'str-video__device-settings__option--disabled': disabled,\n        }), htmlFor: id, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { type: \"radio\", name: name, onChange: onChange, value: value, id: id, checked: selected, defaultChecked: defaultChecked, disabled: disabled }), label] }));\n};\nconst DeviceSelectorList = (props) => {\n    const { devices = [], selectedDeviceId, title, type, onChange } = props;\n    const { close } = useMenuContext();\n    const { deviceList } = useDeviceList(devices, selectedDeviceId);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [title && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title })), deviceList.map((device) => {\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--${device.deviceId}`, value: device.deviceId, label: device.label, onChange: (e) => {\n                        const deviceId = e.target.value;\n                        if (deviceId !== 'default') {\n                            onChange?.(deviceId);\n                        }\n                        close?.();\n                    }, name: type, selected: device.isSelected }, device.deviceId));\n            })] }));\n};\nconst DeviceSelectorDropdown = (props) => {\n    const { devices = [], selectedDeviceId, title, onChange, icon } = props;\n    const { deviceList, selectedDeviceInfo, selectedIndex } = useDeviceList(devices, selectedDeviceId);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        const deviceId = deviceList[index].deviceId;\n        if (deviceId !== 'default') {\n            onChange?.(deviceId);\n        }\n    }, [deviceList, onChange]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelect, { icon: icon, defaultSelectedIndex: selectedIndex, defaultSelectedLabel: selectedDeviceInfo.label, handleSelect: handleSelect, children: deviceList.map((device) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: device.label, selected: device.isSelected }, device.deviceId))) })] }));\n};\nconst DeviceSelector = (props) => {\n    const { visualType = 'list', icon, ...rest } = props;\n    if (visualType === 'list') {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorList, { ...rest });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorDropdown, { ...rest, icon: icon });\n};\n\nconst DeviceSelectorAudioInput = ({ title, visualType, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, selectedDevice, devices } = useMicrophoneState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], selectedDeviceId: selectedDevice, type: \"audioinput\", onChange: async (deviceId) => {\n            await microphone.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"mic\" }));\n};\nconst DeviceSelectorAudioOutput = ({ title, visualType, }) => {\n    const { useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { speaker, selectedDevice, devices, isDeviceSelectionSupported } = useSpeakerState();\n    if (!isDeviceSelectionSupported)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices, type: \"audiooutput\", selectedDeviceId: selectedDevice, onChange: (deviceId) => {\n            speaker.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"speaker\" }));\n};\n\nconst DeviceSelectorVideo = ({ title, visualType, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, devices, selectedDevice } = useCameraState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], type: \"videoinput\", selectedDeviceId: selectedDevice, onChange: async (deviceId) => {\n            await camera.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"camera\" }));\n};\n\nconst DeviceSettings = ({ visualType = MenuVisualType.MENU, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleDeviceSettingsMenuButton, visualType: visualType, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) }));\n};\nconst Menu = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { title: t('Select a Camera') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { title: t('Select a Mic') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioOutput, { title: t('Select Speakers') })] }));\n};\nconst ToggleDeviceSettingsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__button', {\n            'str-video__device-settings__button--active': menuShown,\n        }), title: t('Toggle device menu'), icon: \"device-settings\", ref: ref }));\n});\n\nconst ToggleAudioPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorAudioInput, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => microphone.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser audio permissions')\n            : (caption ?? t('Mic')), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", disabled: !hasBrowserPermission, \"data-testid\": optimisticIsMute\n                ? 'preview-audio-unmute-button'\n                : 'preview-audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'mic' : 'mic-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser audio permissions'), children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }));\n};\nconst ToggleAudioPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO);\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await microphone.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now speak.'), messageAwaitingApproval: t('Awaiting for an approval to speak.'), messageRevoked: t('You can no longer speak.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your audio')\n                    : !hasBrowserPermission\n                        ? t('Check your browser mic permissions')\n                        : (caption ?? t('Mic')), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission || !hasPermission, \"data-testid\": optimisticIsMute ? 'audio-unmute-button' : 'audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'mic-off' : 'mic' }), (!hasBrowserPermission || !hasPermission) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }) }) }));\n};\n\nconst ToggleVideoPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorVideo, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useCameraState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => camera.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser video permissions')\n            : (caption ?? t('Video')), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", \"data-testid\": optimisticIsMute\n                ? 'preview-video-unmute-button'\n                : 'preview-video-mute-button', onClick: handleClick, disabled: !hasBrowserPermission, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'camera' : 'camera-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser video permissions'), children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }));\n};\nconst ToggleVideoPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO);\n    const { useCameraState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useCameraState();\n    const callSettings = useCallSettings();\n    const isPublishingVideoAllowed = callSettings?.video.enabled;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await camera.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your video.'), messageAwaitingApproval: t('Awaiting for an approval to share your video.'), messageRevoked: t('You can no longer share your video.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your video')\n                    : !hasBrowserPermission\n                        ? t('Check your browser video permissions')\n                        : !isPublishingVideoAllowed\n                            ? t('Video publishing is disabled by the system')\n                            : caption || t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission ||\n                        !hasPermission ||\n                        !isPublishingVideoAllowed, \"data-testid\": optimisticIsMute ? 'video-unmute-button' : 'video-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'camera-off' : 'camera' }), (!hasBrowserPermission ||\n                            !hasPermission ||\n                            !isPublishingVideoAllowed) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }) }) }));\n};\n\nconst EndCallMenu = (props) => {\n    const { onLeave, onEnd } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-call__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__leave\", type: \"button\", \"data-testid\": \"leave-call-button\", onClick: onLeave, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__leave-icon\", icon: \"logout\" }), t('Leave call')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.END_CALL], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__end\", type: \"button\", \"data-testid\": \"end-call-for-all-button\", onClick: onEnd, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__end-icon\", icon: \"call-end\" }), t('End call for all')] }) })] }));\n};\nconst CancelCallToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CancelCallToggleMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Leave call'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: menuShown ? 'close' : 'call-end', variant: menuShown ? 'active' : 'danger', \"data-testid\": \"leave-call-button\", ref: ref }) }));\n});\nconst CancelCallConfirmButton = ({ onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    const handleEndCall = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.endCall();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-start\", ToggleButton: CancelCallToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EndCallMenu, { onEnd: handleEndCall, onLeave: handleLeave }) }));\n};\nconst CancelCallButton = ({ disabled, caption, onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-end\", variant: \"danger\", title: caption ?? t('Leave call'), \"data-testid\": \"cancel-call-button\", onClick: handleClick }));\n};\n\nconst CallControls = ({ onLeave }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-controls\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeakingWhileMutedNotification, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleAudioPublishingButton, {}) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleVideoPublishingButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ReactionsButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ScreenShareButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordCallButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onLeave: onLeave })] }));\n\nconst CallStatsLatencyChart = (0,react__WEBPACK_IMPORTED_MODULE_3__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stream-io\"), __webpack_require__.e(\"vendor-chunks/chart.js\"), __webpack_require__.e(\"vendor-chunks/react-chartjs-2\"), __webpack_require__.e(\"vendor-chunks/@kurkle\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./latency-chart-Bj5OSYzg.es.js */ \"(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\")));\nvar Status;\n(function (Status) {\n    Status[\"GOOD\"] = \"Good\";\n    Status[\"OK\"] = \"Ok\";\n    Status[\"BAD\"] = \"Bad\";\n})(Status || (Status = {}));\nconst CallStats = (props) => {\n    const { latencyLowBound = 75, latencyHighBound = 400, showCodecInfo = false, LatencyChartSuspenseFallback = null, } = props;\n    const [latencyBuffer, setLatencyBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        const now = Date.now();\n        return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n    });\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [publishBitrate, setPublishBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const [subscribeBitrate, setSubscribeBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const previousStats = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    const { useCallStatsReport } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callStatsReport = useCallStatsReport();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!callStatsReport)\n            return;\n        if (!previousStats.current) {\n            previousStats.current = callStatsReport;\n            return;\n        }\n        const previousCallStatsReport = previousStats.current;\n        setPublishBitrate(() => {\n            return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setSubscribeBitrate(() => {\n            return calculateSubscribeBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setLatencyBuffer((latencyBuf) => {\n            const newLatencyBuffer = latencyBuf.slice(-19);\n            newLatencyBuffer.push({\n                x: callStatsReport.timestamp,\n                y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n            });\n            return newLatencyBuffer;\n        });\n        previousStats.current = callStatsReport;\n    }, [callStatsReport]);\n    const latencyComparison = {\n        lowBound: latencyLowBound,\n        highBound: latencyHighBound,\n        value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats\", children: callStatsReport && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"call-latency\" }), t('Call Latency')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__latencychart\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Suspense, { fallback: LatencyChartSuspenseFallback, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStatsLatencyChart, { values: latencyBuffer }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"network-quality\" }), t('Call performance')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Review the key data points below to assess call performance') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-container\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Region'), value: callStatsReport.datacenter }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Latency'), value: `${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`, comparison: latencyComparison }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive jitter'), value: `${callStatsReport.subscriberStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.subscriberStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish jitter'), value: `${callStatsReport.publisherStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.publisherStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: `${t('Publish resolution')}${showCodecInfo ? formatCodec(callStatsReport) : ''}`, value: toFrameSize(callStatsReport.publisherStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish quality drop reason'), value: callStatsReport.publisherStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving resolution'), value: toFrameSize(callStatsReport.subscriberStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive quality drop reason'), value: callStatsReport.subscriberStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish bitrate'), value: publishBitrate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving bitrate'), value: subscribeBitrate })] })] })) }));\n};\nconst StatCardExplanation = (props) => {\n    const { description } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        open: isOpen,\n        onOpenChange: setIsOpen,\n    });\n    const hover = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useHover)(context);\n    const { getReferenceProps, getFloatingProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([hover]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation\", ref: refs.setReference, ...getReferenceProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-explanation__icon\", icon: \"info\" }) }), isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation__description\", ref: refs.setFloating, style: floatingStyles, ...getFloatingProps(), children: description }))] }));\n};\nconst StatsTag = (props) => {\n    const { children, status } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-stats__tag', {\n            'str-video__call-stats__tag--good': status === Status.GOOD,\n            'str-video__call-stats__tag--ok': status === Status.OK,\n            'str-video__call-stats__tag--bad': status === Status.BAD,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__tag__text\", children: children }) }));\n};\nconst StatCard = (props) => {\n    const { label, value, description, comparison } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const status = comparison ? toStatus(comparison) : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-content\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-label\", children: [label, description && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCardExplanation, { description: description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__card-value\", children: value })] }), status && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatsTag, { status: status, children: t(status) })] }));\n};\nconst toStatus = (config) => {\n    const { value, lowBound, highBound } = config;\n    if (value <= lowBound)\n        return Status.GOOD;\n    if (value >= lowBound && value <= highBound)\n        return Status.OK;\n    if (value >= highBound)\n        return Status.BAD;\n    return Status.GOOD;\n};\nconst toFrameSize = (stats) => {\n    const { highestFrameWidth: w, highestFrameHeight: h, highestFramesPerSecond: fps, } = stats;\n    let size = `-`;\n    if (w && h) {\n        size = `${w}x${h}`;\n        if (fps) {\n            size += `@${fps}fps.`;\n        }\n    }\n    return size;\n};\nconst formatCodec = (callStatsReport) => {\n    const { codecPerTrackType } = callStatsReport.publisherStats;\n    if (!codecPerTrackType || !codecPerTrackType[_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.TrackType.VIDEO]) {\n        return '';\n    }\n    const [, name] = codecPerTrackType[_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.TrackType.VIDEO].split('/');\n    return name ? ` (${name})` : '';\n};\nconst calculatePublishBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { publisherStats: { totalBytesSent: previousTotalBytesSent, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { publisherStats: { totalBytesSent, timestamp }, } = callStatsReport;\n    const bytesSent = totalBytesSent - previousTotalBytesSent;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\nconst calculateSubscribeBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { subscriberStats: { totalBytesReceived: previousTotalBytesReceived, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { subscriberStats: { totalBytesReceived, timestamp }, } = callStatsReport;\n    const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst CallStatsButton = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-end\", ToggleButton: ToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStats, {}) }));\nconst ToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleMenuButton(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, menuShown } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, caption: caption, title: caption || t('Statistics'), \"data-testid\": \"stats-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"stats\" }) }));\n});\n\nconst ToggleAudioOutputButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = DeviceSelectorAudioOutput, menuPlacement = 'top', onMenuToggle, } = props;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption || t('Speakers'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { Menu: Menu, menuPlacement: menuPlacement, caption: caption, \"data-testid\": \"audio-output-button\", onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"speaker\" }) }) }));\n};\n\nconst BlockedUserListing = ({ data }) => {\n    if (!data.length)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((userId) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUserListingItem, { userId: userId }, userId))) }) }));\n};\nconst BlockedUserListingItem = ({ userId }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const unblockUserClickHandler = () => {\n        if (userId)\n            call?.unblockUser(userId);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing-item__display-name\", children: userId }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: unblockUserClickHandler, children: \"Unblock\" }) })] }));\n};\n\nconst CallParticipantListHeader = ({ onClose, }) => {\n    const { useParticipants, useAnonymousParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const anonymousParticipantCount = useAnonymousParticipantCount();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header__title\", children: [t('Participants'), ' ', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-list-header__title-count\", children: [\"[\", participants.length, \"]\"] }), anonymousParticipantCount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-list-header__title-anonymous\", children: t('Anonymous', { count: anonymousParticipantCount }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: onClose, className: \"str-video__participant-list-header__close-button\", icon: \"close\" })] }));\n};\n\nconst CallParticipantListingItem = ({ participant, DisplayName = DefaultDisplayName, }) => {\n    const isAudioOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const isVideoOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const isPinnedOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: participant.name, imageSrc: participant.image }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisplayName, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item__media-indicator-group\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isAudioOn ? t('Microphone on') : t('Microphone off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isAudioOn ? 'mic' : 'mic-off'}`) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isVideoOn ? t('Camera on') : t('Camera off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isVideoOn ? 'camera' : 'camera-off'}`) }), isPinnedOn && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: t('Pinned'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', 'str-video__participant-listing-item__icon-pinned') })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$2, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewContext.Provider, { value: { participant, trackType: 'none' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu, {}) }) })] })] }));\n};\nconst MediaIndicator = (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { ...props }));\nconst DefaultDisplayName = ({ participant }) => {\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n    const nameOrId = participant.name || participant.userId || t('Unknown');\n    let displayName;\n    if (!participant.name) {\n        displayName = meFlag || nameOrId || t('Unknown');\n    }\n    else if (meFlag) {\n        displayName = `${nameOrId} (${meFlag})`;\n    }\n    else {\n        displayName = nameOrId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { className: \"str-video__participant-listing-item__display-name\", title: displayName, children: displayName }));\n};\nconst ToggleButton$2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\n\nconst CallParticipantListing = ({ data, }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListingItem, { participant: participant }, participant.sessionId))) }));\n\nconst EmptyParticipantSearchList = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list--empty\", children: t('No participants found') }));\n};\n\nconst SearchInput = ({ exitSearch, isActive, ...rest }) => {\n    const [inputElement, setInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!inputElement)\n            return;\n        const handleKeyDown = (e) => {\n            if (e.key.toLowerCase() === 'escape')\n                exitSearch();\n        };\n        inputElement.addEventListener('keydown', handleKeyDown);\n        return () => {\n            inputElement.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [exitSearch, inputElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__search-input__container', {\n            'str-video__search-input__container--active': isActive,\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { placeholder: \"Search\", ...rest, ref: setInputElement }), isActive ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: \"str-video__search-input__clear-btn\", onClick: exitSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon--active\" }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon\" }))] }));\n};\n\nfunction SearchResults({ EmptySearchResultComponent, LoadingIndicator: LoadingIndicator$1 = LoadingIndicator, searchQueryInProgress, searchResults, SearchResultList, }) {\n    if (searchQueryInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__search-results--loading\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator$1, {}) }));\n    }\n    if (!searchResults.length) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptySearchResultComponent, {});\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResultList, { data: searchResults });\n}\n\nconst useSearch = ({ debounceInterval = 200, searchFn, searchQuery = '', }) => {\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [searchQueryInProgress, setSearchQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const searchFnRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(searchFn);\n    searchFnRef.current = searchFn;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!searchQuery.length) {\n            setSearchQueryInProgress(false);\n            setSearchResults([]);\n            return;\n        }\n        setSearchQueryInProgress(true);\n        const timeout = setTimeout(async () => {\n            try {\n                const results = await searchFnRef.current(searchQuery);\n                setSearchResults(results);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            finally {\n                setSearchQueryInProgress(false);\n            }\n        }, debounceInterval);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [debounceInterval, searchQuery]);\n    return {\n        searchQueryInProgress,\n        searchResults,\n    };\n};\n\nconst UserListTypes = {\n    active: 'Active users',\n    blocked: 'Blocked users',\n};\nconst CallParticipantsList = ({ onClose, activeUsersSearchFn, blockedUsersSearchFn, debounceSearchInterval, }) => {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');\n    const [userListType, setUserListType] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('active');\n    const exitSearch = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setSearchQuery(''), []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListHeader, { onClose: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchInput, { value: searchQuery, onChange: ({ currentTarget }) => setSearchQuery(currentTarget.value), exitSearch: exitSearch, isActive: !!searchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListContentHeader, { userListType: userListType, setUserListType: setUserListType }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content\", children: [userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveUsersSearchResults, { searchQuery: searchQuery, activeUsersSearchFn: activeUsersSearchFn, debounceSearchInterval: debounceSearchInterval })), userListType === 'blocked' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUsersSearchResults, { searchQuery: searchQuery, blockedUsersSearchFn: blockedUsersSearchFn, debounceSearchInterval: debounceSearchInterval }))] })] }));\n};\nconst CallParticipantListContentHeader = ({ userListType, setUserListType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const muteAll = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        call?.muteAllUsers('audio');\n    }, [call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list__content-header-title\", children: userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], hasPermissionsOnly: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: muteAll, children: \"Mute all\" }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$1, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenu, { children: Object.keys(UserListTypes).map((lt) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { \"aria-selected\": lt === userListType, onClick: () => setUserListType(lt), children: UserListTypes[lt] }, lt))) }) })] }));\n};\nconst ActiveUsersSearchResults = ({ searchQuery, activeUsersSearchFn: activeUsersSearchFnFromProps, debounceSearchInterval, }) => {\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants({ sortBy: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name });\n    const activeUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return participants.filter((p) => p.name.match(queryRegExp));\n    }, [participants]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : participants, SearchResultList: CallParticipantListing }));\n};\nconst BlockedUsersSearchResults = ({ blockedUsersSearchFn: blockedUsersSearchFnFromProps, debounceSearchInterval, searchQuery, }) => {\n    const { useCallBlockedUserIds } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const blockedUsers = useCallBlockedUserIds();\n    const blockedUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return blockedUsers.filter((userId) => userId.match(queryRegExp));\n    }, [blockedUsers]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : blockedUsers, SearchResultList: BlockedUserListing }));\n};\nconst ToggleButton$1 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"filter\", ref: ref });\n});\n\nconst CallPreview = (props) => {\n    const { className, style } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallThumbnail } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const thumbnail = useCallThumbnail();\n    const [imageRef, setImageRef] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!imageRef || !call)\n            return;\n        const cleanup = call.bindCallThumbnailElement(imageRef);\n        return () => cleanup();\n    }, [imageRef, call]);\n    if (!thumbnail)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-preview', className), style: style, alt: \"Call Preview Thumbnail\", ref: setImageRef }));\n};\n\nconst CallRecordingListHeader = ({ callRecordings, onRefresh, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__title\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: t('Call Recordings') }), callRecordings.length ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\"(\", callRecordings.length, \")\"] }) : null] }), onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"refresh\", title: t('Refresh'), onClick: onRefresh }))] }));\n};\n\nconst dateFormat = (date) => {\n    const format = new Date(date);\n    return format.toTimeString().split(' ')[0];\n};\nconst CallRecordingListItem = ({ recording, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\", children: recording.filename }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.start_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.end_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__download\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-recording-list-item__action-button', 'str-video__call-recording-list-item__action-button--download'), role: \"button\", href: recording.url, download: recording.filename, title: \"Download the recording\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"download\" }) }) })] }));\n};\n\nconst EmptyCallRecordingListing = () => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing--icon-empty\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-recording-list__listing--text-empty\", children: \"No recordings available\" })] }));\n};\n\nconst LoadingCallRecordingListing = ({ callRecordings, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem, { recording: recording }, recording.filename))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, { text: \"Recording getting ready\" })] }));\n};\n\nconst CallRecordingList = ({ callRecordings, CallRecordingListHeader: CallRecordingListHeader$1 = CallRecordingListHeader, CallRecordingListItem: CallRecordingListItem$1 = CallRecordingListItem, EmptyCallRecordingList = EmptyCallRecordingListing, loading, LoadingCallRecordingList = LoadingCallRecordingListing, onRefresh, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListHeader$1, { callRecordings: callRecordings, onRefresh: onRefresh }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing\", children: loading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingCallRecordingList, { callRecordings: callRecordings })) : callRecordings.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__filename\", children: \"Name\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"Start time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"End time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__download\" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem$1, { recording: recording }, recording.filename))) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyCallRecordingList, {})) })] }));\n};\n\nconst NoiseCancellationContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nconst useNoiseCancellation = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NoiseCancellationContext);\n    if (!context) {\n        throw new Error('useNoiseCancellation must be used within a NoiseCancellationProvider');\n    }\n    return context;\n};\nconst NoiseCancellationProvider = (props) => {\n    const { children, noiseCancellation } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallSettings, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const noiseCancellationAllowed = !!(settings &&\n        settings.audio.noise_cancellation &&\n        settings.audio.noise_cancellation.mode !==\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum.DISABLED);\n    const hasCapability = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.ENABLE_NOISE_CANCELLATION);\n    const [isSupportedByBrowser, setIsSupportedByBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const result = noiseCancellation.isSupported();\n        if (typeof result === 'boolean') {\n            setIsSupportedByBrowser(result);\n        }\n        else {\n            result\n                .then((s) => setIsSupportedByBrowser(s))\n                .catch((err) => console.error(`Can't determine if noise cancellation is supported`, err));\n        }\n    }, [noiseCancellation]);\n    const isSupported = isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const deinit = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !isSupported)\n            return;\n        noiseCancellation.isEnabled().then((e) => setIsEnabled(e));\n        const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n        const init = (deinit.current || Promise.resolve())\n            .then(() => noiseCancellation.init({ tracer: call.tracer }))\n            .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n            .catch((e) => console.error(`Can't initialize noise cancellation`, e));\n        return () => {\n            deinit.current = init\n                .then(() => call.microphone.disableNoiseCancellation())\n                .then(() => noiseCancellation.dispose())\n                .then(() => unsubscribe());\n        };\n    }, [call, isSupported, noiseCancellation]);\n    const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        isSupported,\n        isEnabled,\n        setSuppressionLevel: (level) => {\n            if (!noiseCancellation)\n                return;\n            noiseCancellation.setSuppressionLevel(level);\n        },\n        setEnabled: (enabledOrSetter) => {\n            if (!noiseCancellation)\n                return;\n            const enable = typeof enabledOrSetter === 'function'\n                ? enabledOrSetter(isEnabled)\n                : enabledOrSetter;\n            if (enable) {\n                noiseCancellation.enable();\n            }\n            else {\n                noiseCancellation.disable();\n            }\n        },\n    }), [isEnabled, isSupported, noiseCancellation]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoiseCancellationContext.Provider, { value: contextValue, children: children }));\n};\n\nconst RingingCallControls = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallCallingState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callCallingState = useCallCallingState();\n    if (!call)\n        return null;\n    const buttonsDisabled = callCallingState !== _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__pending-call-controls\", children: call.isCreatedByMe ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { disabled: buttonsDisabled })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AcceptCallButton, { disabled: buttonsDisabled }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onClick: () => {\n                        const reason = call.isCreatedByMe ? 'cancel' : 'decline';\n                        call.leave({ reject: true, reason });\n                    }, disabled: buttonsDisabled })] })) }));\n};\n\nconst CALLING_STATE_TO_LABEL = {\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING]: 'Joining',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING]: 'Ringing',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.MIGRATING]: 'Migrating',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING]: 'Re-connecting',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING_FAILED]: 'Failed',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.OFFLINE]: 'No internet connection',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.UNKNOWN]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINED]: 'Joined',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT]: 'Left call',\n};\nconst RingingCall = (props) => {\n    const { includeSelf = false, totalMembersToShow = 3 } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCallCallingState, useCallMembers } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callingState = useCallCallingState();\n    const members = useCallMembers();\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    if (!call)\n        return null;\n    // take the first N members to show their avatars\n    const membersToShow = (members || [])\n        .slice(0, totalMembersToShow)\n        .map(({ user }) => user)\n        .filter((user) => user.id !== connectedUser?.id || includeSelf);\n    if (includeSelf &&\n        !membersToShow.find((user) => user.id === connectedUser?.id)) {\n        // if the current user is not in the initial batch of members,\n        // replace the first item in membersToShow array with the current user\n        const self = members.find(({ user }) => user.id === connectedUser?.id);\n        if (self) {\n            membersToShow.splice(0, 1, self.user);\n        }\n    }\n    const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel str-video__call-panel--ringing\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__members-list\", children: membersToShow.map((user) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel__member-box\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: user.name, imageSrc: user.image }), user.name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__member_details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__member_name\", children: user.name }) }))] }, user.id))) }), callingStateLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__calling-state-label\", children: t(callingStateLabel) })), [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING, _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING].includes(callingState) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RingingCallControls, {}))] }));\n};\n\nconst byNameOrId = (a, b) => {\n    if (a.name && b.name && a.name < b.name)\n        return -1;\n    if (a.name && b.name && a.name > b.name)\n        return 1;\n    if (a.id < b.id)\n        return -1;\n    if (a.id > b.id)\n        return 1;\n    return 0;\n};\nconst PermissionRequests = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useLocalParticipant, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const localParticipant = useLocalParticipant();\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [permissionRequests, setPermissionRequests] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const canUpdateCallPermissions = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS);\n    const localUserId = localParticipant?.userId;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !canUpdateCallPermissions)\n            return;\n        return call.on('call.permission_request', (event) => {\n            if (event.user.id !== localUserId) {\n                setPermissionRequests((requests) => [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)));\n            }\n        });\n    }, [call, canUpdateCallPermissions, localUserId]);\n    const handleUpdatePermission = (request, type) => {\n        return async () => {\n            const { user, permissions } = request;\n            switch (type) {\n                case 'grant':\n                    await call?.grantPermissions(user.id, permissions);\n                    break;\n                case 'revoke':\n                    await call?.revokePermissions(user.id, permissions);\n                    break;\n            }\n            setPermissionRequests((requests) => requests.filter((r) => r !== request));\n        };\n    };\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement: 'bottom',\n        strategy: 'absolute',\n    });\n    // don't render anything if there are no permission requests\n    if (permissionRequests.length === 0)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests\", ref: refs.setReference, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests__notification\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__permission-requests__notification__message\", children: [permissionRequests.length, \" pending permission requests\"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { type: \"button\", onClick: () => {\n                            setExpanded((e) => !e);\n                        }, children: expanded ? 'Hide requests' : 'Show requests' })] }), expanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionRequestList, { ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, permissionRequests: permissionRequests, handleUpdatePermission: handleUpdatePermission }))] }));\n};\nconst PermissionRequestList = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function PermissionRequestList(props, ref) {\n    const { permissionRequests, handleUpdatePermission, ...rest } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-requests-list\", ref: ref, ...rest, children: permissionRequests.map((request, reqIndex) => {\n            const { user, permissions } = request;\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: permissions.map((permission) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-request\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-request__message\", children: messageForPermission(user.name || user.id, permission, t) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--allow\", type: \"button\", onClick: handleUpdatePermission(request, 'grant'), children: t('Allow') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'revoke'), children: t('Revoke') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'dismiss'), children: t('Dismiss') })] }, permission))) }, `${user.id}/${reqIndex}`));\n        }) }));\n});\nconst Button = (props) => {\n    const { className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__permission-request__button', className), ...rest }));\n};\nconst messageForPermission = (userName, permission, t) => {\n    switch (permission) {\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO:\n            return t('{{ userName }} is requesting to speak', { userName });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO:\n            return t('{{ userName }} is requesting to share their camera', {\n                userName,\n            });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE:\n            return t('{{ userName }} is requesting to present their screen', {\n                userName,\n            });\n        default:\n            return t('{{ userName }} is requesting permission: {{ permission }}', {\n                userName,\n                permission,\n            });\n    }\n};\n\nconst StreamTheme = ({ as: Component = 'div', className, children, ...props }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, { ...props, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video', className), children: children }));\n};\n\nconst DefaultDisabledVideoPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__disabled-video-preview\", children: t('Video is disabled') }));\n};\nconst DefaultNoCameraPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__no-camera-preview\", children: t('No camera found') }));\n};\nconst VideoPreview = ({ className, mirror = true, DisabledVideoPreview = DefaultDisabledVideoPreview, NoCameraPreview = DefaultNoCameraPreview, StartingCameraPreview = LoadingIndicator, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { devices, status, isMute, mediaStream } = useCameraState();\n    let contents;\n    if (isMute && devices?.length === 0) {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoCameraPreview, {});\n    }\n    else if (status === 'enabled') {\n        const loading = !mediaStream;\n        contents = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [mediaStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideo, { stream: mediaStream, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview', {\n                        'str-video__video-preview--mirror': mirror,\n                        'str-video__video-preview--loading': loading,\n                    }) })), loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StartingCameraPreview, {})] }));\n    }\n    else {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisabledVideoPreview, {});\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview-container', className), children: contents }));\n};\n\nconst ToggleButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\nconst DefaultScreenShareOverlay = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const stopScreenShare = () => {\n        call?.screenShare.disable().catch((err) => {\n            console.error('Failed to stop screen sharing:', err);\n        });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__screen-share-overlay\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__screen-share-overlay__title\", children: t('You are presenting your screen') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { onClick: stopScreenShare, type: \"button\", className: \"str-video__screen-share-overlay__button\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"close\" }), \" \", t('Stop Screen Sharing')] })] }));\n};\nconst DefaultParticipantViewUI = ({ indicatorsVisible = true, menuPlacement = 'bottom-start', showMenuButton = true, ParticipantActionsContextMenu: ParticipantActionsContextMenu$1 = ParticipantActionsContextMenu, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const isScreenSharing = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    if (participant.isLocalParticipant &&\n        isScreenSharing &&\n        trackType === 'screenShareTrack') {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultScreenShareOverlay, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [showMenuButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { strategy: \"fixed\", placement: menuPlacement, ToggleButton: ToggleButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu$1, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Reaction, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n};\nconst ParticipantDetails = ({ indicatorsVisible = true, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const { isLocalParticipant, connectionQuality, pin, sessionId, name, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const connectionQualityAsString = !!connectionQuality &&\n        _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const canUnpin = !!pin && pin.isLocalPin;\n    const isTrackPaused = trackType !== 'none' ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasPausedTrack)(participant, trackType) : false;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-details__name\", children: [name || userId, indicatorsVisible && !hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--audio-muted\" })), indicatorsVisible && !hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--video-muted\" })), indicatorsVisible && isTrackPaused && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Video paused due to insufficient bandwidth'), className: \"str-video__participant-details__name--track-paused\" })), indicatorsVisible && canUnpin && (\n                        // TODO: remove this monstrosity once we have a proper design\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Unpin'), onClick: () => call?.unpin(sessionId), className: \"str-video__participant-details__name--pinned\" })), indicatorsVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeechIndicator, {})] }) }), indicatorsVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isLocalParticipant &&\n                    connectionQuality === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality.POOR, message: t('Poor connection quality'), children: connectionQualityAsString && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-details__connection-quality', `str-video__participant-details__connection-quality--${connectionQualityAsString}`), title: connectionQualityAsString })) }))] }));\n};\nconst SpeechIndicator = () => {\n    const { participant } = useParticipantViewContext();\n    const { isSpeaking, isDominantSpeaker } = participant;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speech-indicator', isSpeaking && 'str-video__speech-indicator--speaking', isDominantSpeaker && 'str-video__speech-indicator--dominant'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" })] }));\n};\n\nconst ParticipantView = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ParticipantView({ participant, trackType = 'videoTrack', mirror, muteAudio, refs: { setVideoElement, setVideoPlaceholderElement } = {}, className, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI = DefaultParticipantViewUI, }, ref) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const [trackedElement, setTrackedElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoElement, setContextVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n        sessionId,\n        trackedElement,\n        trackType,\n    });\n    const { useIncomingVideoSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isParticipantVideoEnabled } = useIncomingVideoSettings();\n    const participantViewContextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n    }), [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n    ]);\n    const videoRefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        setVideoElement: (element) => {\n            setVideoElement?.(element);\n            setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n            setVideoPlaceholderElement?.(element);\n            setContextVideoPlaceholderElement(element);\n        },\n    }), [setVideoElement, setVideoPlaceholderElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { \"data-testid\": \"participant-view\", ref: (element) => {\n            applyElementToRef(ref, element);\n            setTrackedElement(element);\n        }, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-view', isDominantSpeaker && 'str-video__participant-view--dominant-speaker', isSpeaking && 'str-video__participant-view--speaking', !hasVideoTrack && 'str-video__participant-view--no-video', !hasAudioTrack && 'str-video__participant-view--no-audio', className), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ParticipantViewContext.Provider, { value: participantViewContextValue, children: [!isLocalParticipant && !muteAudio && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"audioTrack\" })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"screenShareAudioTrack\" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Video$1, { VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, participant: participant, trackType: trackType, refs: videoRefs, enabled: isLocalParticipant ||\n                        trackType !== 'videoTrack' ||\n                        isParticipantVideoEnabled(participant.sessionId), mirror: mirror, autoPlay: true }), isComponentType(ParticipantViewUI) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewUI, {})) : (ParticipantViewUI)] }) }));\n});\nParticipantView.displayName = 'ParticipantView';\n\n// re-exporting the StreamCallProvider as StreamCall\nconst StreamCall = _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider;\nStreamCall.displayName = 'StreamCall';\n\nvar Joining = \"Joining\";\nvar Mic = \"Mic\";\nvar Ringing = \"Ringing\";\nvar Speakers = \"Speakers\";\nvar Video = \"Video\";\nvar Live = \"Live\";\nvar Reactions = \"Reactions\";\nvar Statistics = \"Statistics\";\nvar Invite = \"Invite\";\nvar Join = \"Join\";\nvar You = \"You\";\nvar Me = \"Me\";\nvar Unknown = \"Unknown\";\nvar Default = \"Default\";\nvar Refresh = \"Refresh\";\nvar Allow = \"Allow\";\nvar Revoke = \"Revoke\";\nvar Dismiss = \"Dismiss\";\nvar Pinned = \"Pinned\";\nvar Unpin = \"Unpin\";\nvar Pin = \"Pin\";\nvar Block = \"Block\";\nvar Kick = \"Kick\";\nvar Enter = \"Enter\";\nvar Leave = \"Leave\";\nvar Participants = \"Participants\";\nvar Anonymous = \", and ({{ count }}) anonymous\";\nvar en = {\n\tJoining: Joining,\n\tMic: Mic,\n\t\"No internet connection\": \"No internet connection\",\n\t\"Re-connecting\": \"Re-connecting\",\n\tRinging: Ringing,\n\t\"Screen Share\": \"Screen Share\",\n\t\"Select a Camera\": \"Select a Camera\",\n\t\"Select a Mic\": \"Select a Mic\",\n\t\"Select Speakers\": \"Select Speakers\",\n\tSpeakers: Speakers,\n\tVideo: Video,\n\t\"You are muted. Unmute to speak.\": \"You are muted. Unmute to speak.\",\n\tLive: Live,\n\t\"Livestream starts soon\": \"Livestream starts soon\",\n\t\"Livestream starts at {{ startsAt }}\": \"Livestream starts at {{ startsAt, datetime }}\",\n\t\"{{ count }} participants joined early_one\": \"{{ count }} participant joined early\",\n\t\"{{ count }} participants joined early_other\": \"{{ count }} participants joined early\",\n\t\"You can now speak.\": \"You can now speak.\",\n\t\"Awaiting for an approval to speak.\": \"Awaiting for an approval to speak.\",\n\t\"You can no longer speak.\": \"You can no longer speak.\",\n\t\"You can now share your video.\": \"You can now share your video.\",\n\t\"Awaiting for an approval to share your video.\": \"Awaiting for an approval to share your video.\",\n\t\"You can no longer share your video.\": \"You can no longer share your video.\",\n\t\"Waiting for recording to stop...\": \"Waiting for recording to stop...\",\n\t\"Waiting for recording to start...\": \"Waiting for recording to start...\",\n\t\"Record call\": \"Record call\",\n\tReactions: Reactions,\n\tStatistics: Statistics,\n\t\"You can now share your screen.\": \"You can now share your screen.\",\n\t\"Awaiting for an approval to share screen.\": \"Awaiting for an approval to share screen.\",\n\t\"You can no longer share your screen.\": \"You can no longer share your screen.\",\n\t\"Share screen\": \"Share screen\",\n\t\"Incoming Call...\": \"Incoming Call...\",\n\t\"Calling...\": \"Calling...\",\n\t\"Mute All\": \"Mute All\",\n\tInvite: Invite,\n\tJoin: Join,\n\tYou: You,\n\tMe: Me,\n\tUnknown: Unknown,\n\t\"Toggle device menu\": \"Toggle device menu\",\n\tDefault: Default,\n\t\"Call Recordings\": \"Call Recordings\",\n\tRefresh: Refresh,\n\t\"Check your browser video permissions\": \"Check your browser video permissions\",\n\t\"Video publishing is disabled by the system\": \"Video publishing is disabled by the system\",\n\t\"You have no permission to share your video\": \"You have no permission to share your video\",\n\t\"You have no permission to share your audio\": \"You have no permission to share your audio\",\n\t\"You are presenting your screen\": \"You are presenting your screen\",\n\t\"Stop Screen Sharing\": \"Stop Screen Sharing\",\n\tAllow: Allow,\n\tRevoke: Revoke,\n\tDismiss: Dismiss,\n\t\"Microphone on\": \"Microphone on\",\n\t\"Microphone off\": \"Microphone off\",\n\t\"Camera on\": \"Camera on\",\n\t\"Camera off\": \"Camera off\",\n\t\"No camera found\": \"No camera found\",\n\t\"Video is disabled\": \"Video is disabled\",\n\tPinned: Pinned,\n\tUnpin: Unpin,\n\tPin: Pin,\n\t\"Pin for everyone\": \"Pin for everyone\",\n\t\"Unpin for everyone\": \"Unpin for everyone\",\n\tBlock: Block,\n\tKick: Kick,\n\t\"Turn off video\": \"Turn off video\",\n\t\"Turn off screen share\": \"Turn off screen share\",\n\t\"Mute audio\": \"Mute audio\",\n\t\"Mute screen share audio\": \"Mute screen share audio\",\n\t\"Allow audio\": \"Allow audio\",\n\t\"Allow video\": \"Allow video\",\n\t\"Allow screen sharing\": \"Allow screen sharing\",\n\t\"Disable audio\": \"Disable audio\",\n\t\"Disable video\": \"Disable video\",\n\t\"Disable screen sharing\": \"Disable screen sharing\",\n\tEnter: Enter,\n\tLeave: Leave,\n\t\"Leave call\": \"Leave call\",\n\t\"End call for all\": \"End call for all\",\n\t\"{{ direction }} fullscreen\": \"{{ direction }} fullscreen\",\n\t\"{{ direction }} picture-in-picture\": \"{{ direction }} picture-in-picture\",\n\t\"Dominant Speaker\": \"Dominant Speaker\",\n\t\"Poor connection quality\": \"Poor connection quality. Please check your internet connection.\",\n\t\"Video paused due to insufficient bandwidth\": \"Video paused due to insufficient bandwidth\",\n\tParticipants: Participants,\n\tAnonymous: Anonymous,\n\t\"No participants found\": \"No participants found\",\n\t\"Participants ({{ numberOfParticipants }})\": \"Participants ({{ numberOfParticipants }})\",\n\t\"{{ userName }} is sharing their screen\": \"{{ userName }} is sharing their screen\",\n\t\"{{ userName }} is requesting to speak\": \"{{ userName }} is requesting to speak\",\n\t\"{{ userName }} is requesting to share their camera\": \"{{ userName }} is requesting to share their camera\",\n\t\"{{ userName }} is requesting to present their screen\": \"{{ userName }} is requesting to present their screen\",\n\t\"{{ userName }} is requesting permission: {{ permission }}\": \"{{ userName }} is requesting permission: {{ permission }}\"\n};\n\nconst translations = { en };\n\nconst StreamVideo = (props) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider, { translationsOverrides: translations, ...props }));\n};\nStreamVideo.displayName = 'StreamVideo';\n\nfunction applyFilter(obj, filter) {\n    if ('$and' in filter) {\n        return filter.$and.every((f) => applyFilter(obj, f));\n    }\n    if ('$or' in filter) {\n        return filter.$or.some((f) => applyFilter(obj, f));\n    }\n    if ('$not' in filter) {\n        return !applyFilter(obj, filter.$not);\n    }\n    return checkConditions(obj, filter);\n}\nfunction checkConditions(obj, conditions) {\n    let match = true;\n    for (const key of Object.keys(conditions)) {\n        const operator = conditions[key];\n        const maybeOperator = operator && typeof operator === 'object';\n        const value = obj[key];\n        if (maybeOperator && '$eq' in operator) {\n            const eqOperator = operator;\n            match && (match = eqOperator.$eq === value);\n        }\n        else if (maybeOperator && '$neq' in operator) {\n            const neqOperator = operator;\n            match && (match = neqOperator.$neq !== value);\n        }\n        else if (maybeOperator && '$in' in operator) {\n            const inOperator = operator;\n            match && (match = inOperator.$in.includes(value));\n        }\n        else if (maybeOperator && '$contains' in operator) {\n            if (Array.isArray(value)) {\n                const containsOperator = operator;\n                match && (match = value.includes(containsOperator.$contains));\n            }\n            else {\n                match = false;\n            }\n        }\n        else {\n            const eqValue = operator;\n            match && (match = eqValue === value);\n        }\n        if (!match) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst useFilteredParticipants = ({ excludeLocalParticipant = false, filterParticipants, }) => {\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        const unfilteredParticipants = excludeLocalParticipant\n            ? remoteParticipants\n            : allParticipants;\n        return filterParticipants\n            ? applyParticipantsFilter(unfilteredParticipants, filterParticipants)\n            : unfilteredParticipants;\n    }, [\n        allParticipants,\n        remoteParticipants,\n        excludeLocalParticipant,\n        filterParticipants,\n    ]);\n};\nconst applyParticipantsFilter = (participants, filter) => {\n    const filterCallback = typeof filter === 'function'\n        ? filter\n        : (participant) => applyFilter({\n            userId: participant.userId,\n            isSpeaking: participant.isSpeaking,\n            isDominantSpeaker: participant.isDominantSpeaker,\n            name: participant.name,\n            roles: participant.roles,\n            isPinned: (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant),\n            hasVideo: (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant),\n            hasAudio: (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant),\n        }, filter);\n    return participants.filter(filterCallback);\n};\nconst usePaginatedLayoutSortPreset = (call) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset);\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call]);\n};\nconst useSpeakerLayoutSortPreset = (call, isOneOnOneCall) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        // always show the remote participant in the spotlight\n        if (isOneOnOneCall) {\n            call.setSortParticipantsBy((0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators)(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing, loggedIn));\n        }\n        else {\n            call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset);\n        }\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call, isOneOnOneCall]);\n};\nconst useRawRemoteParticipants = () => {\n    const { useRawParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const rawParicipants = useRawParticipants();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => rawParicipants.filter((p) => !p.isLocalParticipant), [rawParicipants]);\n};\nconst resetSortPreset = (call) => {\n    // reset the sorting to the default for the call type\n    const callConfig = _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes.get(call.type);\n    call.setSortParticipantsBy(callConfig.options.sortParticipantsBy || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset);\n};\nconst loggedIn = (a, b) => {\n    if (a.isLocalParticipant)\n        return 1;\n    if (b.isLocalParticipant)\n        return -1;\n    return 0;\n};\n\nconst LivestreamLayout = (props) => {\n    const { useParticipants, useHasOngoingScreenShare } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useParticipants();\n    const [currentSpeaker] = participants;\n    const remoteParticipants = useRawRemoteParticipants();\n    const hasOngoingScreenShare = useHasOngoingScreenShare();\n    const presenter = hasOngoingScreenShare\n        ? participants.find(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)\n        : undefined;\n    usePaginatedLayoutSortPreset(call);\n    const overlay = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay, { showParticipantCount: props.showParticipantCount, showDuration: props.showDuration, showLiveBadge: props.showLiveBadge, showSpeakerName: props.showSpeakerName }));\n    const { floatingParticipantProps, muted } = props;\n    const floatingParticipantOverlay = hasOngoingScreenShare && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay\n    // these elements aren't needed for the video feed\n    , { \n        // these elements aren't needed for the video feed\n        showParticipantCount: floatingParticipantProps?.showParticipantCount ?? false, showDuration: floatingParticipantProps?.showDuration ?? false, showLiveBadge: floatingParticipantProps?.showLiveBadge ?? false, showSpeakerName: floatingParticipantProps?.showSpeakerName ?? true }));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: [!muted && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), hasOngoingScreenShare && presenter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: \"str-video__livestream-layout__screen-share\", participant: presenter, ParticipantViewUI: overlay, trackType: \"screenShareTrack\", muteAudio // audio is rendered by ParticipantsAudio\n                : true })), currentSpeaker && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hasOngoingScreenShare &&\n                    (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__livestream-layout__floating-participant', `str-video__livestream-layout__floating-participant--${floatingParticipantProps?.position ?? 'top-right'}`)), participant: currentSpeaker, ParticipantViewUI: floatingParticipantOverlay || overlay, mirror: props.mirrorLocalParticipantVideo !== false ? undefined : false, muteAudio // audio is rendered by ParticipantsAudio\n                : true }))] }));\n};\nLivestreamLayout.displayName = 'LivestreamLayout';\nconst BackstageLayout = (props) => {\n    const { showEarlyParticipantCount = true } = props;\n    const { useParticipantCount, useCallStartsAt } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const startsAt = useCallStartsAt();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__backstage\", children: [startsAt && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__starts-at\", children: startsAt.getTime() < Date.now()\n                        ? t('Livestream starts soon')\n                        : t('Livestream starts at {{ startsAt }}', { startsAt }) })), showEarlyParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__early-viewers-count\", children: t('{{ count }} participants joined early', {\n                        count: participantCount,\n                    }) }))] }) }));\n};\nBackstageLayout.displayName = 'BackstageLayout';\nconst ParticipantOverlay = (props) => {\n    const { enableFullScreen = true, showParticipantCount = true, showDuration = true, showLiveBadge = true, showSpeakerName = false, } = props;\n    const { participant } = useParticipantViewContext();\n    const { useParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const duration = useUpdateCallDuration();\n    const toggleFullScreen = useToggleFullScreen();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__overlay\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__overlay__bar\", children: [showLiveBadge && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__live-badge\", children: t('Live') })), showParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__viewers-count\", children: participantCount })), showSpeakerName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__speaker-name\", title: participant.name || participant.userId || '', children: participant.name || participant.userId || '' })), showDuration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__duration\", children: formatDuration(duration) })), enableFullScreen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__go-fullscreen\", onClick: toggleFullScreen }))] }) }));\n};\nconst useUpdateCallDuration = () => {\n    const { useIsCallLive, useCallSession } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallLive = useIsCallLive();\n    const session = useCallSession();\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        if (!session || !session.live_started_at)\n            return 0;\n        const liveStartTime = new Date(session.live_started_at);\n        const now = new Date();\n        return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isCallLive)\n            return;\n        const interval = setInterval(() => {\n            setDuration((d) => d + 1);\n        }, 1000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isCallLive]);\n    return duration;\n};\nconst useToggleFullScreen = () => {\n    const { participantViewElement } = useParticipantViewContext();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        if (isFullscreen) {\n            document.exitFullscreen().then(() => {\n                setIsFullscreen(false);\n            });\n        }\n        else {\n            participantViewElement?.requestFullscreen().then(() => {\n                setIsFullscreen(true);\n            });\n        }\n    }, [isFullscreen, participantViewElement]);\n};\nconst formatDuration = (durationInMs) => {\n    const days = Math.floor(durationInMs / 86400);\n    const hours = Math.floor(durationInMs / 3600);\n    const minutes = Math.floor((durationInMs % 3600) / 60);\n    const seconds = durationInMs % 60;\n    return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nconst GROUP_SIZE = 16;\nconst PaginatedGridLayoutGroup = ({ group, mirror, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__paginated-grid-layout__group', {\n            'str-video__paginated-grid-layout--one': group.length === 1,\n            'str-video__paginated-grid-layout--two-four': group.length >= 2 && group.length <= 4,\n            'str-video__paginated-grid-layout--five-nine': group.length >= 5 && group.length <= 9,\n        }), children: group.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, mirror: mirror, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId))) }));\n};\nconst PaginatedGridLayout = (props) => {\n    const { groupSize = (props.groupSize || 0) > 0\n        ? props.groupSize || GROUP_SIZE\n        : GROUP_SIZE, excludeLocalParticipant = false, filterParticipants, mirrorLocalParticipantVideo = true, pageArrowsVisible = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, PictureInPicturePlaceholder, muted, } = props;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [paginatedGridLayoutWrapperElement, setPaginatedGridLayoutWrapperElement,] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const remoteParticipants = useRawRemoteParticipants();\n    const participants = useFilteredParticipants({\n        excludeLocalParticipant,\n        filterParticipants,\n    });\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!paginatedGridLayoutWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n        return () => cleanup();\n    }, [paginatedGridLayoutWrapperElement, call]);\n    // only used to render video elements\n    const participantGroups = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => chunk(participants, groupSize), [participants, groupSize]);\n    const pageCount = participantGroups.length;\n    // update page when page count is reduced and selected page no longer exists\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (page > pageCount - 1) {\n            setPage(Math.max(0, pageCount - 1));\n        }\n    }, [page, pageCount]);\n    const selectedGroup = participantGroups[page];\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout__wrapper\", ref: setPaginatedGridLayoutWrapperElement, children: [!muted && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout\", children: [pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"caret-left\", disabled: page === 0, onClick: () => setPage((currentPage) => Math.max(0, currentPage - 1)) })), selectedGroup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PaginatedGridLayoutGroup, { group: selectedGroup, mirror: mirror, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI, PictureInPicturePlaceholder: PictureInPicturePlaceholder })), pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: page === pageCount - 1, icon: \"caret-right\", onClick: () => setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1)) }))] })] }));\n};\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n\nconst useCalculateHardLimit = (\n/**\n * Element that stretches to 100% of the whole layout component\n */\nwrapperElement, \n/**\n * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n */\nhostElement, limit) => {\n    const [calculatedLimit, setCalculatedLimit] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        vertical: typeof limit === 'number' ? limit : null,\n        horizontal: typeof limit === 'number' ? limit : null,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!hostElement ||\n            !wrapperElement ||\n            typeof limit === 'number' ||\n            typeof limit === 'undefined')\n            return;\n        let childWidth = null;\n        let childHeight = null;\n        const resizeObserver = new ResizeObserver((entries, observer) => {\n            // this part should ideally run as little times as possible\n            // get child measurements and disconnect\n            // does not consider dynamically sized children\n            // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n            if (entries.length > 1) {\n                const child = hostElement.firstChild;\n                if (child) {\n                    childHeight = child.clientHeight;\n                    childWidth = child.clientWidth;\n                    observer.unobserve(hostElement);\n                }\n            }\n            // keep the state at { vertical: 1, horizontal: 1 }\n            // until we get the proper child measurements\n            if (childHeight === null || childWidth === null)\n                return;\n            const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n            const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n            setCalculatedLimit((pv) => {\n                if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n                    return { vertical, horizontal };\n                return pv;\n            });\n        });\n        resizeObserver.observe(wrapperElement);\n        resizeObserver.observe(hostElement);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [hostElement, limit, wrapperElement]);\n    return calculatedLimit;\n};\n\nconst DefaultParticipantViewUIBar = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, { menuPlacement: \"top-end\" }));\nconst SpeakerLayout = ({ ParticipantViewUIBar = DefaultParticipantViewUIBar, ParticipantViewUISpotlight = DefaultParticipantViewUI, VideoPlaceholder, PictureInPicturePlaceholder, participantsBarPosition = 'bottom', participantsBarLimit, mirrorLocalParticipantVideo = true, excludeLocalParticipant = false, filterParticipants, pageArrowsVisible = true, muted, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRawRemoteParticipants();\n    const [participantInSpotlight, ...otherParticipants] = useFilteredParticipants({ excludeLocalParticipant, filterParticipants });\n    const [participantsBarWrapperElement, setParticipantsBarWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [participantsBarElement, setParticipantsBarElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [buttonsWrapperElement, setButtonsWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const isSpeakerScreenSharing = participantInSpotlight && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participantInSpotlight);\n    const hardLimit = useCalculateHardLimit(buttonsWrapperElement, participantsBarElement, participantsBarLimit);\n    const isVertical = participantsBarPosition === 'left' || participantsBarPosition === 'right';\n    const isHorizontal = participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!participantsBarWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(participantsBarWrapperElement);\n        return () => cleanup();\n    }, [participantsBarWrapperElement, call]);\n    const isOneOnOneCall = allParticipants.length === 2;\n    useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n    let participantsWithAppliedLimit = otherParticipants;\n    const hardLimitToApply = isVertical\n        ? hardLimit.vertical\n        : hardLimit.horizontal;\n    if (typeof participantsBarLimit !== 'undefined' &&\n        hardLimitToApply !== null) {\n        participantsWithAppliedLimit = otherParticipants.slice(0, \n        // subtract 1 if speaker is sharing screen as\n        // that one is rendered independently from otherParticipants array\n        hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0));\n    }\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    const renderParticipantsBar = participantsBarPosition &&\n        (participantsWithAppliedLimit.length > 0 || isSpeakerScreenSharing);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__speaker-layout__wrapper\", children: [!muted && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speaker-layout', participantsBarPosition &&\n                    `str-video__speaker-layout--variant-${participantsBarPosition}`), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__spotlight\", children: participantInSpotlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, muteAudio: true, mirror: mirror, trackType: isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack', ParticipantViewUI: ParticipantViewUISpotlight, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder })) }), renderParticipantsBar && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setButtonsWrapperElement, className: \"str-video__speaker-layout__participants-bar-buttons-wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participants-bar-wrapper\", ref: setParticipantsBarWrapperElement, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setParticipantsBarElement, className: \"str-video__speaker-layout__participants-bar\", children: [isSpeakerScreenSharing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participantInSpotlight.sessionId)), participantsWithAppliedLimit.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participant.sessionId)))] }) }), pageArrowsVisible && isVertical && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VerticalScrollButtons, { scrollWrapper: participantsBarWrapperElement })), pageArrowsVisible && isHorizontal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(HorizontalScrollButtons, { scrollWrapper: participantsBarWrapperElement }))] }))] })] }));\n};\nSpeakerLayout.displayName = 'SpeakerLayout';\nconst HorizontalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n    const scrollStartClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n    };\n    const scrollEndClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'start' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollStartClickHandler, icon: \"caret-left\", className: \"str-video__speaker-layout__participants-bar--button-left\" })), scrollPosition && scrollPosition !== 'end' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollEndClickHandler, icon: \"caret-right\", className: \"str-video__speaker-layout__participants-bar--button-right\" }))] }));\n};\nconst VerticalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n    const scrollTopClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n    };\n    const scrollBottomClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollTopClickHandler, icon: \"caret-up\", className: \"str-video__speaker-layout__participants-bar--button-top\" })), scrollPosition && scrollPosition !== 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollBottomClickHandler, icon: \"caret-down\", className: \"str-video__speaker-layout__participants-bar--button-bottom\" }))] }));\n};\n\nconst Pip = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { excludeLocalParticipant = false, filterParticipants, mirrorLocalParticipantVideo = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, } = props;\n    const [layoutWrapperElement, setLayoutWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useFilteredParticipants({\n        excludeLocalParticipant,\n        filterParticipants,\n    });\n    const screenSharingParticipant = participants.find((p) => (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(p));\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!layoutWrapperElement || !call)\n            return;\n        return call.setViewport(layoutWrapperElement);\n    }, [layoutWrapperElement, call]);\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__pip-layout\", ref: setLayoutWrapperElement, children: [screenSharingParticipant &&\n                (screenSharingParticipant.isLocalParticipant ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__pip-screen-share-local\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pip-screen-share-local__title\", children: t('You are presenting your screen') })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: screenSharingParticipant, trackType: \"screenShareTrack\", muteAudio: true, mirror: false, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI }))), participants.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, mirror: mirror, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId)))] }));\n};\nPip.displayName = 'PipLayout.Pip';\nconst Host = () => {\n    const remoteParticipants = useRawRemoteParticipants();\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants });\n};\nHost.displayName = 'PipLayout.Host';\nconst PipLayout = { Pip, Host };\n\nfunction useEffectEvent(cb) {\n    const cbRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        cbRef.current = cb;\n    }, [cb]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args) => {\n        const callback = cbRef.current;\n        callback?.(...args);\n    }, []);\n}\n\nconst LivestreamPlayer = (props) => {\n    const { callType, callId, ...restProps } = props;\n    const client = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient)();\n    const [call, setCall] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    const onError = useEffectEvent(props.onError);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!client)\n            return;\n        const myCall = client.call(callType, callId);\n        setCall(myCall);\n        myCall.get().catch((e) => {\n            console.error('Failed to fetch call', e);\n            onError(e);\n        });\n        return () => {\n            myCall.leave().catch((e) => {\n                console.error('Failed to leave call', e);\n            });\n            setCall(undefined);\n        };\n    }, [callId, callType, client, onError]);\n    if (!call) {\n        return null;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StreamCall, { call: call, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamCall, { ...restProps }) }));\n};\nconst LivestreamCall = (props) => {\n    const call = useLivestreamCall(props);\n    const { useIsCallLive } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isLive = useIsCallLive();\n    if (!call)\n        return null;\n    if (isLive) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamLayout, { ...props.layoutProps });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackstageLayout, { ...props.backstageProps });\n};\nconst useLivestreamCall = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useIsCallLive, useOwnCapabilities } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const canJoinLive = useIsCallLive();\n    const canJoinEarly = useCanJoinEarly();\n    const canJoinBackstage = useOwnCapabilities()?.includes('join-backstage') ?? false;\n    const canJoinAsap = canJoinLive || canJoinEarly || canJoinBackstage;\n    const joinBehavior = props.joinBehavior ?? 'asap';\n    const canJoin = (joinBehavior === 'asap' && canJoinAsap) ||\n        (joinBehavior === 'live' && canJoinLive);\n    const onError = useEffectEvent(props.onError);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (call && call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE && canJoin) {\n            call.join().catch((e) => {\n                console.error('Failed to join call', e);\n                onError(e);\n            });\n        }\n    }, [call, canJoin, onError]);\n    return call;\n};\nconst useCanJoinEarly = () => {\n    const { useCallStartsAt, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const startsAt = useCallStartsAt();\n    const settings = useCallSettings();\n    const joinAheadTimeSeconds = settings?.backstage.join_ahead_time_seconds;\n    const [canJoinEarly, setCanJoinEarly] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => checkCanJoinEarly(startsAt, joinAheadTimeSeconds));\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!canJoinEarly) {\n            const handle = setInterval(() => {\n                setCanJoinEarly(checkCanJoinEarly(startsAt, joinAheadTimeSeconds));\n            }, 1000);\n            return () => clearInterval(handle);\n        }\n    }, [canJoinEarly, startsAt, joinAheadTimeSeconds]);\n    return canJoinEarly;\n};\nconst checkCanJoinEarly = (startsAt, joinAheadTimeSeconds) => {\n    if (!startsAt) {\n        return false;\n    }\n    return Date.now() >= +startsAt - (joinAheadTimeSeconds ?? 0) * 1000;\n};\n\nconst [major, minor, patch] = (\"1.20.1\").split('.');\n(0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo)({\n    type: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.SdkType.REACT,\n    major,\n    minor,\n    patch,\n});\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwWTtBQUNsVztBQUNtSztBQUMzSjtBQUNRO0FBQ2tJO0FBQ2lHO0FBQ25RO0FBQ2M7QUFDeUQ7O0FBRS9GLGlCQUFpQixnREFBZ0Q7QUFDakUsaUJBQWlCLHdFQUFPO0FBQ3hCLDRDQUE0QywrQ0FBUTtBQUNwRCxZQUFZLG9CQUFvQjtBQUNoQyxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsWUFBWSxtSUFBbUk7QUFDOUo7QUFDQTs7QUFFQTtBQUNBLFlBQVksMkJBQTJCO0FBQ3ZDLFlBQVksc0RBQUcsQ0FBQyx1REFBUSxJQUFJO0FBQzVCO0FBQ0E7QUFDQSxvQkFBb0IsaURBQWlEO0FBQ3JFLGtDQUFrQyxpRUFBUTtBQUMxQyx1RUFBdUUsc0RBQUcsVUFBVSxrRUFBa0U7QUFDdEosNkNBQTZDLDRFQUFtQjtBQUNoRTtBQUNBLDJDQUEyQyxzREFBRyxVQUFVLDZFQUE2RTtBQUNySSxvQkFBb0IsdURBQUksQ0FBQywyQ0FBVSxJQUFJLDZEQUE2RDtBQUNwRyxTQUFTLEdBQUc7QUFDWjtBQUNBOztBQUVBLCtCQUErQixvREFBYTtBQUM1Qyx3Q0FBd0MsaURBQVU7O0FBRWxELCtCQUErQixnRUFBZ0U7QUFDL0YsWUFBWSxnQ0FBZ0Msd0JBQXdCLGFBQWEsRUFBRSwrREFBVztBQUM5RjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBEQUFNO0FBQ2xCLFlBQVkseURBQUs7QUFDakIsWUFBWSx3REFBSTtBQUNoQixZQUFZLHdEQUFJO0FBQ2hCO0FBQ0EsMEJBQTBCLDJCQUEyQjtBQUNyRDtBQUNBLHNDQUFzQyxnQkFBZ0I7QUFDdEQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0Esd0JBQXdCLDhEQUFVO0FBQ2xDO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkZBQTZGLEVBQUUsa0ZBQWlCO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsK0NBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnREFBUztBQUNiLDZCQUE2QixpRUFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsV0FBVztBQUMvRCxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2IsNkJBQTZCLGlFQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsK0NBQStDLFdBQVc7QUFDMUQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxXQUFXO0FBQy9DO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osV0FBVztBQUNYLDBDQUEwQyxXQUFXO0FBQ3JEO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDN0Q7QUFDQSxXQUFXLHNEQUFHLG9CQUFvQix5QkFBeUI7QUFDM0Q7QUFDQTtBQUNBLGlCQUFpQix3RUFBTztBQUN4QixZQUFZLG9DQUFvQyxFQUFFLGtGQUFpQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnREFBUztBQUNiLGdEQUFnRCxpRUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtQ0FBbUMsRUFBRSxrRkFBaUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtDQUFRO0FBQ3BELElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUVBQVU7QUFDVixVQUFVLDhEQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRXMxRDtBQUN2MUQiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaHBcXERvd25sb2Fkc1xccmVtb3RlLWludGVydmlldy1wbGF0Zm9ybVxcbm9kZV9tb2R1bGVzXFxAc3RyZWFtLWlvXFx2aWRlby1yZWFjdC1zZGtcXGRpc3RcXGluZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc0F1ZGlvLCBoYXNTY3JlZW5TaGFyZUF1ZGlvLCBDYWxsaW5nU3RhdGUsIGhhc1ZpZGVvLCBoYXNTY3JlZW5TaGFyZSwgT3duQ2FwYWJpbGl0eSwgQnJvd3NlcnMsIFZpc2liaWxpdHlTdGF0ZSwgaGFzUGF1c2VkVHJhY2ssIGdldExvZ2dlciwgZGlzcG9zZU9mTWVkaWFTdHJlYW0sIFNmdU1vZGVscywgaXNQaW5uZWQsIG5hbWUsIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSwgcGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCwgY29tYmluZUNvbXBhcmF0b3JzLCBzY3JlZW5TaGFyaW5nLCBzcGVha2VyTGF5b3V0U29ydFByZXNldCwgQ2FsbFR5cGVzLCBkZWZhdWx0U29ydFByZXNldCwgc2V0U2RrSW5mbyB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcbmV4cG9ydCAqIGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcbmltcG9ydCB7IHVzZUNhbGwsIHVzZUNhbGxTdGF0ZUhvb2tzLCB1c2VJMThuLCBSZXN0cmljdGVkLCB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nLCB1c2VDb25uZWN0ZWRVc2VyLCBTdHJlYW1DYWxsUHJvdmlkZXIsIFN0cmVhbVZpZGVvUHJvdmlkZXIsIHVzZVN0cmVhbVZpZGVvQ2xpZW50IH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncyc7XG5leHBvcnQgKiBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzJztcbmltcG9ydCB7IGpzeCwgRnJhZ21lbnQsIGpzeHMgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBGcmFnbWVudCBhcyBGcmFnbWVudCQxLCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmLCBpc1ZhbGlkRWxlbWVudCwgZm9yd2FyZFJlZiwgdXNlTGF5b3V0RWZmZWN0LCBsYXp5LCBTdXNwZW5zZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUZsb2F0aW5nLCBvZmZzZXQsIHNoaWZ0LCBmbGlwLCBzaXplLCBhdXRvVXBkYXRlLCBGbG9hdGluZ092ZXJsYXksIEZsb2F0aW5nUG9ydGFsLCBhcnJvdywgRmxvYXRpbmdBcnJvdywgdXNlTGlzdEl0ZW0sIHVzZUxpc3ROYXZpZ2F0aW9uLCB1c2VUeXBlYWhlYWQsIHVzZUNsaWNrLCB1c2VEaXNtaXNzLCB1c2VSb2xlLCB1c2VJbnRlcmFjdGlvbnMsIEZsb2F0aW5nRm9jdXNNYW5hZ2VyLCBGbG9hdGluZ0xpc3QsIHVzZUhvdmVyIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3JlYWN0JztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgZmx1c2hTeW5jIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGlzUGxhdGZvcm1TdXBwb3J0ZWQsIGxvYWRURkxpdGUsIGNyZWF0ZVJlbmRlcmVyIH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYic7XG5cbmNvbnN0IEF1ZGlvID0gKHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZSA9ICdhdWRpb1RyYWNrJywgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBbYXVkaW9FbGVtZW50LCBzZXRBdWRpb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgeyB1c2VySWQsIHNlc3Npb25JZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFhdWRpb0VsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLmJpbmRBdWRpb0VsZW1lbnQoYXVkaW9FbGVtZW50LCBzZXNzaW9uSWQsIHRyYWNrVHlwZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwPy4oKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgc2Vzc2lvbklkLCBhdWRpb0VsZW1lbnQsIHRyYWNrVHlwZV0pO1xuICAgIHJldHVybiAoanN4KFwiYXVkaW9cIiwgeyBhdXRvUGxheTogdHJ1ZSwgLi4ucmVzdCwgcmVmOiBzZXRBdWRpb0VsZW1lbnQsIFwiZGF0YS11c2VyLWlkXCI6IHVzZXJJZCwgXCJkYXRhLXNlc3Npb24taWRcIjogc2Vzc2lvbklkLCBcImRhdGEtdHJhY2stdHlwZVwiOiB0cmFja1R5cGUgfSkpO1xufTtcbkF1ZGlvLmRpc3BsYXlOYW1lID0gJ0F1ZGlvJztcblxuY29uc3QgUGFydGljaXBhbnRzQXVkaW8gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgYXVkaW9Qcm9wcyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgeyBhdWRpb1N0cmVhbSwgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0F1ZGlvVHJhY2sgPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICBjb25zdCBhdWRpb1RyYWNrRWxlbWVudCA9IGhhc0F1ZGlvVHJhY2sgJiYgYXVkaW9TdHJlYW0gJiYgKGpzeChBdWRpbywgeyAuLi5hdWRpb1Byb3BzLCB0cmFja1R5cGU6IFwiYXVkaW9UcmFja1wiLCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSkpO1xuICAgICAgICAgICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5TaGFyZUF1ZGlvVHJhY2tFbGVtZW50ID0gaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmXG4gICAgICAgICAgICAgICAgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSAmJiAoanN4KEF1ZGlvLCB7IC4uLmF1ZGlvUHJvcHMsIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZUF1ZGlvVHJhY2tcIiwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pKTtcbiAgICAgICAgICAgIHJldHVybiAoanN4cyhGcmFnbWVudCQxLCB7IGNoaWxkcmVuOiBbYXVkaW9UcmFja0VsZW1lbnQsIHNjcmVlblNoYXJlQXVkaW9UcmFja0VsZW1lbnRdIH0sIHNlc3Npb25JZCkpO1xuICAgICAgICB9KSB9KSk7XG59O1xuUGFydGljaXBhbnRzQXVkaW8uZGlzcGxheU5hbWUgPSAnUGFydGljaXBhbnRzQXVkaW8nO1xuXG5jb25zdCBQYXJ0aWNpcGFudFZpZXdDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuY29uc3QgdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCA9ICgpID0+IHVzZUNvbnRleHQoUGFydGljaXBhbnRWaWV3Q29udGV4dCk7XG5cbmNvbnN0IHVzZUZsb2F0aW5nVUlQcmVzZXQgPSAoeyBtaWRkbGV3YXJlID0gW10sIHBsYWNlbWVudCwgc3RyYXRlZ3ksIG9mZnNldDogb2Zmc2V0SW5QeCA9IDEwLCB9KSA9PiB7XG4gICAgY29uc3QgeyByZWZzLCB4LCB5LCB1cGRhdGUsIGVsZW1lbnRzOiB7IGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcgfSwgY29udGV4dCwgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICAgICAgb2Zmc2V0KG9mZnNldEluUHgpLFxuICAgICAgICAgICAgc2hpZnQoKSxcbiAgICAgICAgICAgIGZsaXAoKSxcbiAgICAgICAgICAgIHNpemUoe1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgIGFwcGx5OiAoeyBhdmFpbGFibGVIZWlnaHQsIGVsZW1lbnRzIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50cy5mbG9hdGluZy5zdHlsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBgJHthdmFpbGFibGVIZWlnaHR9cHhgLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAuLi5taWRkbGV3YXJlLFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIC8vIGhhbmRsZSB3aW5kb3cgcmVzaXppbmdcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRvbVJlZmVyZW5jZSB8fCAhZmxvYXRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBhdXRvVXBkYXRlKGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW2RvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZV0pO1xuICAgIHJldHVybiB7IHJlZnMsIHgsIHksIGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHN0cmF0ZWd5LCBjb250ZXh0IH07XG59O1xuXG5jb25zdCBkZWZhdWx0RGV2aWNlID0gJ2RlZmF1bHQnO1xuLyoqXG4gKiBUaGlzIGhvb2sgd2lsbCBhcHBseSBhbmQgcGVyc2lzdCB0aGUgZGV2aWNlIHByZWZlcmVuY2VzIGZyb20gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gdXNlIGZvciBsb2NhbCBzdG9yYWdlLlxuICovXG5jb25zdCB1c2VQZXJzaXN0ZWREZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkgPSAnQHN0cmVhbS1pby9kZXZpY2UtcHJlZmVyZW5jZXMnKSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYWxsU2V0dGluZ3MsIHVzZUNhbGxDYWxsaW5nU3RhdGUsIHVzZU1pY3JvcGhvbmVTdGF0ZSwgdXNlQ2FtZXJhU3RhdGUsIHVzZVNwZWFrZXJTdGF0ZSwgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgY29uc3QgbWljcm9waG9uZVN0YXRlID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgY2FtZXJhU3RhdGUgPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIGNvbnN0IHNwZWFrZXJTdGF0ZSA9IHVzZVNwZWFrZXJTdGF0ZSgpO1xuICAgIGNvbnN0IFthcHBseWluZ1N0YXRlLCBzZXRBcHBseWluZ1N0YXRlXSA9IHVzZVN0YXRlKCdpZGxlJyk7XG4gICAgLy8gd2hlbiB0aGUgY2FtZXJhIGlzIGRpc2FibGVkIG9uIGNhbGwgdHlwZSBsZXZlbCwgd2Ugc2hvdWxkIGRpc2NhcmRcbiAgICAvLyBhbnkgc3RvcmVkIGNhbWVyYSBwcmVmZXJlbmNlcy5cbiAgICBjb25zdCBjYW1lcmFEZXZpY2VzID0gc2V0dGluZ3M/LnZpZGVvPy5lbmFibGVkID8gY2FtZXJhU3RhdGUuZGV2aWNlcyA6IGZhbHNlO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiBhcHBseSgpIHtcbiAgICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQgfHxcbiAgICAgICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5kZXZpY2VzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkoY2FtZXJhRGV2aWNlcykgJiYgY2FtZXJhRGV2aWNlcy5sZW5ndGggPT09IDApIHx8XG4gICAgICAgICAgICBzcGVha2VyU3RhdGUuZGV2aWNlcy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgICFzZXR0aW5ncyB8fFxuICAgICAgICAgICAgYXBwbHlpbmdTdGF0ZSAhPT0gJ2lkbGUnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0QXBwbHlpbmdTdGF0ZSgnYXBwbHlpbmcnKTtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXVkaW8sIHZpZGVvIH0gPSBzZXR0aW5ncztcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2RldmljZUtleSwgc3RhdGUsIGRlZmF1bHRNdXRlZCwgZW5hYmxlZEluQ2FsbFR5cGVdIG9mIFtcbiAgICAgICAgICAgICAgICBbJ21pY3JvcGhvbmUnLCBtaWNyb3Bob25lU3RhdGUsICFhdWRpby5taWNfZGVmYXVsdF9vbiwgdHJ1ZV0sXG4gICAgICAgICAgICAgICAgWydjYW1lcmEnLCBjYW1lcmFTdGF0ZSwgIXZpZGVvLmNhbWVyYV9kZWZhdWx0X29uLCB2aWRlby5lbmFibGVkXSxcbiAgICAgICAgICAgICAgICBbJ3NwZWFrZXInLCBzcGVha2VyU3RhdGUsIGZhbHNlLCB0cnVlXSxcbiAgICAgICAgICAgIF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlcyA9IHBhcnNlTG9jYWxEZXZpY2VQcmVmZXJlbmNlcyhrZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZWZlcmVuY2UgPSBwcmVmZXJlbmNlc1tkZXZpY2VLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmFnZXIgPSBzdGF0ZVtkZXZpY2VLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcGx5UHJvbWlzZSA9IHByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgPyBhcHBseUxvY2FsRGV2aWNlUHJlZmVyZW5jZShtYW5hZ2VyLCBbcHJlZmVyZW5jZV0uZmxhdCgpLCBkZXZpY2VLZXkgPT09ICdjYW1lcmEnID8gY2FtZXJhRGV2aWNlcyB8fCBbXSA6IHN0YXRlLmRldmljZXMsIGVuYWJsZWRJbkNhbGxUeXBlKVxuICAgICAgICAgICAgICAgICAgICA6IGFwcGx5TXV0ZWRTdGF0ZShtYW5hZ2VyLCBkZWZhdWx0TXV0ZWQsIGVuYWJsZWRJbkNhbGxUeXBlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBhcHBseVByb21pc2UuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBhcHBseSAke2RldmljZUtleX0gZGV2aWNlIHByZWZlcmVuY2VzYCwgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKS5maW5hbGx5KCgpID0+IHNldEFwcGx5aW5nU3RhdGUoKHN0YXRlKSA9PiAoc3RhdGUgPT09ICdhcHBseWluZycgPyAnYXBwbGllZCcgOiBzdGF0ZSkpKTtcbiAgICB9LCBbXG4gICAgICAgIGFwcGx5aW5nU3RhdGUsXG4gICAgICAgIGNhbGxpbmdTdGF0ZSxcbiAgICAgICAgY2FtZXJhU3RhdGUsXG4gICAgICAgIGNhbWVyYURldmljZXMsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWljcm9waG9uZVN0YXRlLFxuICAgICAgICBtaWNyb3Bob25lU3RhdGUuZGV2aWNlcyxcbiAgICAgICAgc2V0dGluZ3MsXG4gICAgICAgIHNwZWFrZXJTdGF0ZSxcbiAgICAgICAgc3BlYWtlclN0YXRlLmRldmljZXMsXG4gICAgXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uIHBlcnNpc3QoKSB7XG4gICAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUIHx8IGFwcGx5aW5nU3RhdGUgIT09ICdhcHBsaWVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2RldmljZUtleSwgZGV2aWNlcywgc2VsZWN0ZWREZXZpY2UsIGlzTXV0ZV0gb2YgW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdjYW1lcmEnLFxuICAgICAgICAgICAgICAgIGNhbWVyYURldmljZXMgfHwgW10sXG4gICAgICAgICAgICAgICAgY2FtZXJhU3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgICAgICAgICAgY2FtZXJhU3RhdGUuaXNNdXRlLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnbWljcm9waG9uZScsXG4gICAgICAgICAgICAgICAgbWljcm9waG9uZVN0YXRlLmRldmljZXMsXG4gICAgICAgICAgICAgICAgbWljcm9waG9uZVN0YXRlLnNlbGVjdGVkRGV2aWNlLFxuICAgICAgICAgICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5pc011dGUsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdzcGVha2VyJyxcbiAgICAgICAgICAgICAgICBzcGVha2VyU3RhdGUuZGV2aWNlcyxcbiAgICAgICAgICAgICAgICBzcGVha2VyU3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgICAgICAgICAgc3BlYWtlclN0YXRlLmlzTXV0ZSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIF0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF0Y2hMb2NhbERldmljZVByZWZlcmVuY2Uoa2V5LCBkZXZpY2VLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIGlzTXV0ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBzYXZlICR7ZGV2aWNlS2V5fSBkZXZpY2UgcHJlZmVyZW5jZXNgLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBhcHBseWluZ1N0YXRlLFxuICAgICAgICBjYWxsaW5nU3RhdGUsXG4gICAgICAgIGNhbWVyYURldmljZXMsXG4gICAgICAgIGNhbWVyYVN0YXRlLmlzTXV0ZSxcbiAgICAgICAgY2FtZXJhU3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWljcm9waG9uZVN0YXRlLmRldmljZXMsXG4gICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5pc011dGUsXG4gICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5zZWxlY3RlZERldmljZSxcbiAgICAgICAgc3BlYWtlclN0YXRlLmRldmljZXMsXG4gICAgICAgIHNwZWFrZXJTdGF0ZS5pc011dGUsXG4gICAgICAgIHNwZWFrZXJTdGF0ZS5zZWxlY3RlZERldmljZSxcbiAgICBdKTtcbn07XG4vLyBjb25zdCB1c2VQZXJzaXN0ZWREZXZpY2VQcmVmZXJlbmNlID0gPEsgZXh0ZW5kcyBEZXZpY2VLZXk+KFxuLy8gICBrZXk6IHN0cmluZyxcbi8vICAgZGV2aWNlS2V5OiBLLFxuLy8gICBzdGF0ZTogRGV2aWNlU3RhdGU8Sz4sXG4vLyAgIGRlZmF1bHRNdXRlZD86IGJvb2xlYW4sXG4vLyApOiB2b2lkID0+IHtcbi8vICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuLy8gICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4vLyAgIGNvbnN0IFthcHBseWluZ1N0YXRlLCBzZXRBcHBseWluZ1N0YXRlXSA9IHVzZVN0YXRlPFxuLy8gICAgICdpZGxlJyB8ICdhcHBseWluZycgfCAnYXBwbGllZCdcbi8vICAgPignaWRsZScpO1xuLy8gICBjb25zdCBtYW5hZ2VyID0gc3RhdGVbZGV2aWNlS2V5XTtcbi8vICAgdXNlRWZmZWN0KFxuLy8gICAgIGZ1bmN0aW9uIGFwcGx5KCkge1xuLy8gICAgICAgaWYgKFxuLy8gICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUIHx8XG4vLyAgICAgICAgICFzdGF0ZS5kZXZpY2VzPy5sZW5ndGggfHxcbi8vICAgICAgICAgdHlwZW9mIGRlZmF1bHRNdXRlZCAhPT0gJ2Jvb2xlYW4nIHx8XG4vLyAgICAgICAgIGFwcGx5aW5nU3RhdGUgIT09ICdpZGxlJ1xuLy8gICAgICAgKSB7XG4vLyAgICAgICAgIHJldHVybjtcbi8vICAgICAgIH1cbi8vICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gcGFyc2VMb2NhbERldmljZVByZWZlcmVuY2VzKGtleSk7XG4vLyAgICAgICBjb25zdCBwcmVmZXJlbmNlID0gcHJlZmVyZW5jZXNbZGV2aWNlS2V5XTtcbi8vICAgICAgIHNldEFwcGx5aW5nU3RhdGUoJ2FwcGx5aW5nJyk7XG4vLyAgICAgICBpZiAoIW1hbmFnZXIuc3RhdGUuc2VsZWN0ZWREZXZpY2UpIHtcbi8vICAgICAgICAgY29uc3QgYXBwbHlQcm9taXNlID0gcHJlZmVyZW5jZVxuLy8gICAgICAgICAgID8gYXBwbHlMb2NhbERldmljZVByZWZlcmVuY2UoXG4vLyAgICAgICAgICAgICAgIG1hbmFnZXIsXG4vLyAgICAgICAgICAgICAgIFtwcmVmZXJlbmNlXS5mbGF0KCksXG4vLyAgICAgICAgICAgICAgIHN0YXRlLmRldmljZXMsXG4vLyAgICAgICAgICAgICApXG4vLyAgICAgICAgICAgOiBhcHBseU11dGVkU3RhdGUobWFuYWdlciwgZGVmYXVsdE11dGVkKTtcbi8vICAgICAgICAgYXBwbHlQcm9taXNlXG4vLyAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbi8vICAgICAgICAgICAgIGNvbnNvbGUud2Fybihcbi8vICAgICAgICAgICAgICAgYEZhaWxlZCB0byBhcHBseSAke2RldmljZUtleX0gZGV2aWNlIHByZWZlcmVuY2VzYCxcbi8vICAgICAgICAgICAgICAgZXJyLFxuLy8gICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICB9KVxuLy8gICAgICAgICAgIC5maW5hbGx5KCgpID0+IHNldEFwcGx5aW5nU3RhdGUoJ2FwcGxpZWQnKSk7XG4vLyAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBzZXRBcHBseWluZ1N0YXRlKCdhcHBsaWVkJyk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICBbXG4vLyAgICAgICBhcHBseWluZ1N0YXRlLFxuLy8gICAgICAgY2FsbGluZ1N0YXRlLFxuLy8gICAgICAgZGVmYXVsdE11dGVkLFxuLy8gICAgICAgZGV2aWNlS2V5LFxuLy8gICAgICAga2V5LFxuLy8gICAgICAgbWFuYWdlcixcbi8vICAgICAgIHN0YXRlLmRldmljZXMsXG4vLyAgICAgXSxcbi8vICAgKTtcbi8vICAgdXNlRWZmZWN0KFxuLy8gICAgIGZ1bmN0aW9uIHBlcnNpc3QoKSB7XG4vLyAgICAgICBpZiAoXG4vLyAgICAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQgfHxcbi8vICAgICAgICAgIXN0YXRlLmRldmljZXM/Lmxlbmd0aCB8fFxuLy8gICAgICAgICBhcHBseWluZ1N0YXRlICE9PSAnYXBwbGllZCdcbi8vICAgICAgICkge1xuLy8gICAgICAgICByZXR1cm47XG4vLyAgICAgICB9XG4vLyAgICAgICB0cnkge1xuLy8gICAgICAgICBwYXRjaExvY2FsRGV2aWNlUHJlZmVyZW5jZShrZXksIGRldmljZUtleSwge1xuLy8gICAgICAgICAgIGRldmljZXM6IHN0YXRlLmRldmljZXMsXG4vLyAgICAgICAgICAgc2VsZWN0ZWREZXZpY2U6IHN0YXRlLnNlbGVjdGVkRGV2aWNlLFxuLy8gICAgICAgICAgIGlzTXV0ZTogc3RhdGUuaXNNdXRlLFxuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0gY2F0Y2ggKGVycikge1xuLy8gICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBzYXZlICR7ZGV2aWNlS2V5fSBkZXZpY2UgcHJlZmVyZW5jZXNgLCBlcnIpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAgW1xuLy8gICAgICAgYXBwbHlpbmdTdGF0ZSxcbi8vICAgICAgIGNhbGxpbmdTdGF0ZSxcbi8vICAgICAgIGRldmljZUtleSxcbi8vICAgICAgIGtleSxcbi8vICAgICAgIHN0YXRlLmRldmljZXMsXG4vLyAgICAgICBzdGF0ZS5pc011dGUsXG4vLyAgICAgICBzdGF0ZS5zZWxlY3RlZERldmljZSxcbi8vICAgICBdLFxuLy8gICApO1xuLy8gfTtcbmNvbnN0IHBhcnNlTG9jYWxEZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkpID0+IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlc1N0ciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGxldCBwcmVmZXJlbmNlcyA9IHt9O1xuICAgIGlmIChwcmVmZXJlbmNlc1N0cikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcHJlZmVyZW5jZXMgPSBKU09OLnBhcnNlKHByZWZlcmVuY2VzU3RyKTtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duKHByZWZlcmVuY2VzLCAnbWljJykpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcy5taWNyb3Bob25lID0gcHJlZmVyZW5jZXMubWljO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIGFzc3VtZSBwcmVmZXJlbmNlcyBhcmUgZW1wdHkgKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJlZmVyZW5jZXM7XG59O1xuY29uc3QgcGF0Y2hMb2NhbERldmljZVByZWZlcmVuY2UgPSAoa2V5LCBkZXZpY2VLZXksIHN0YXRlKSA9PiB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBwYXJzZUxvY2FsRGV2aWNlUHJlZmVyZW5jZXMoa2V5KTtcbiAgICBjb25zdCBuZXh0UHJlZmVyZW5jZSA9IGdldFNlbGVjdGVkRGV2aWNlUHJlZmVyZW5jZShzdGF0ZS5kZXZpY2VzLCBzdGF0ZS5zZWxlY3RlZERldmljZSk7XG4gICAgY29uc3QgcHJlZmVyZW5jZUhpc3RvcnkgPSBbcHJlZmVyZW5jZXNbZGV2aWNlS2V5XSA/PyBbXV1cbiAgICAgICAgLmZsYXQoKVxuICAgICAgICAuZmlsdGVyKChwKSA9PiBwLnNlbGVjdGVkRGV2aWNlSWQgIT09IG5leHRQcmVmZXJlbmNlLnNlbGVjdGVkRGV2aWNlSWQgJiZcbiAgICAgICAgKHAuc2VsZWN0ZWREZXZpY2VMYWJlbCA9PT0gJycgfHxcbiAgICAgICAgICAgIHAuc2VsZWN0ZWREZXZpY2VMYWJlbCAhPT0gbmV4dFByZWZlcmVuY2Uuc2VsZWN0ZWREZXZpY2VMYWJlbCkpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4ucHJlZmVyZW5jZXMsXG4gICAgICAgIG1pYzogdW5kZWZpbmVkLCAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgW2RldmljZUtleV06IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5uZXh0UHJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBtdXRlZDogc3RhdGUuaXNNdXRlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLnByZWZlcmVuY2VIaXN0b3J5LFxuICAgICAgICBdLnNsaWNlKDAsIDMpLFxuICAgIH0pKTtcbn07XG5jb25zdCBhcHBseUxvY2FsRGV2aWNlUHJlZmVyZW5jZSA9IGFzeW5jIChtYW5hZ2VyLCBwcmVmZXJlbmNlLCBkZXZpY2VzLCBlbmFibGVkSW5DYWxsVHlwZSkgPT4ge1xuICAgIGxldCBtdXRlZDtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcHJlZmVyZW5jZSkge1xuICAgICAgICBtdXRlZCA/PyAobXV0ZWQgPSBwLm11dGVkKTtcbiAgICAgICAgaWYgKHAuc2VsZWN0ZWREZXZpY2VJZCA9PT0gZGVmYXVsdERldmljZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGV2aWNlID0gZGV2aWNlcy5maW5kKChkKSA9PiBkLmRldmljZUlkID09PSBwLnNlbGVjdGVkRGV2aWNlSWQpID8/XG4gICAgICAgICAgICBkZXZpY2VzLmZpbmQoKGQpID0+IGQubGFiZWwgPT09IHAuc2VsZWN0ZWREZXZpY2VMYWJlbCk7XG4gICAgICAgIGlmIChkZXZpY2UpIHtcbiAgICAgICAgICAgIGlmICghbWFuYWdlci5zdGF0ZS5zZWxlY3RlZERldmljZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IG1hbmFnZXIuc2VsZWN0KGRldmljZS5kZXZpY2VJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtdXRlZCA9IHAubXV0ZWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG11dGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgYXdhaXQgYXBwbHlNdXRlZFN0YXRlKG1hbmFnZXIsIG11dGVkLCBlbmFibGVkSW5DYWxsVHlwZSk7XG4gICAgfVxufTtcbmNvbnN0IGFwcGx5TXV0ZWRTdGF0ZSA9IGFzeW5jIChtYW5hZ2VyLCBtdXRlZCwgZW5hYmxlZEluQ2FsbFR5cGUpID0+IHtcbiAgICBpZiAoZW5hYmxlZEluQ2FsbFR5cGUgJiYgIW1hbmFnZXIuc3RhdGUuc3RhdHVzKSB7XG4gICAgICAgIGF3YWl0IG1hbmFnZXJbbXV0ZWQgPyAnZGlzYWJsZScgOiAnZW5hYmxlJ10/LigpO1xuICAgIH1cbn07XG5jb25zdCBnZXRTZWxlY3RlZERldmljZVByZWZlcmVuY2UgPSAoZGV2aWNlcywgc2VsZWN0ZWREZXZpY2UpID0+ICh7XG4gICAgc2VsZWN0ZWREZXZpY2VJZDogc2VsZWN0ZWREZXZpY2UgfHwgZGVmYXVsdERldmljZSxcbiAgICBzZWxlY3RlZERldmljZUxhYmVsOiBkZXZpY2VzPy5maW5kKChkKSA9PiBkLmRldmljZUlkID09PSBzZWxlY3RlZERldmljZSk/LmxhYmVsID8/ICcnLFxufSk7XG5cbmNvbnN0IFNDUk9MTF9USFJFU0hPTEQgPSAxMDtcbi8qKlxuICogSG9vayB3aGljaCBvYnNlcnZlcyBlbGVtZW50J3Mgc2Nyb2xsIHBvc2l0aW9uIGFuZCByZXR1cm5zIHRleHQgdmFsdWUgYmFzZWQgb24gdGhlXG4gKiBwb3NpdGlvbiBvZiB0aGUgc2Nyb2xsYmFyIChgdG9wYCwgYGJvdHRvbWAsIGBiZXR3ZWVuYCBhbmQgYG51bGxgIGlmIG5vIHNjcm9sbGJhciBpcyBhdmFpbGFibGUpXG4gKi9cbmNvbnN0IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24gPSAoc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkID0gU0NST0xMX1RIUkVTSE9MRCkgPT4ge1xuICAgIGNvbnN0IFtzY3JvbGxQb3NpdGlvbiwgc2V0U2Nyb2xsUG9zaXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzY3JvbGxFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzY3JvbGxIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjcm9sbEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBoYXNWZXJ0aWNhbFNjcm9sbGJhciA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIWhhc1ZlcnRpY2FsU2Nyb2xsYmFyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZVRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ3RvcCcpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZUJvdHRvbSA9IE1hdGguYWJzKGVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZWxlbWVudC5zY3JvbGxUb3AgLSBlbGVtZW50LmNsaWVudEhlaWdodCkgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVCb3R0b20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCdib3R0b20nKTtcbiAgICAgICAgICAgIHNldFNjcm9sbFBvc2l0aW9uKCdiZXR3ZWVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgICBzY3JvbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2Nyb2xsRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkXSk7XG4gICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uO1xufTtcbmNvbnN0IHVzZUhvcml6b250YWxTY3JvbGxQb3NpdGlvbiA9IChzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGQgPSBTQ1JPTExfVEhSRVNIT0xEKSA9PiB7XG4gICAgY29uc3QgW3Njcm9sbFBvc2l0aW9uLCBzZXRTY3JvbGxQb3NpdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNjcm9sbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0hvcml6b250YWxTY3JvbGxiYXIgPSBlbGVtZW50LnNjcm9sbFdpZHRoID4gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIGlmICghaGFzSG9yaXpvbnRhbFNjcm9sbGJhcilcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlU3RhcnQgPSBlbGVtZW50LnNjcm9sbExlZnQgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVTdGFydClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ3N0YXJ0Jyk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlRW5kID0gTWF0aC5hYnMoZWxlbWVudC5zY3JvbGxXaWR0aCAtIGVsZW1lbnQuc2Nyb2xsTGVmdCAtIGVsZW1lbnQuY2xpZW50V2lkdGgpIDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlRW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbignZW5kJyk7XG4gICAgICAgICAgICBzZXRTY3JvbGxQb3NpdGlvbignYmV0d2VlbicpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgc2Nyb2xsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNjcm9sbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3Njcm9sbEVsZW1lbnQsIHRocmVzaG9sZF0pO1xuICAgIHJldHVybiBzY3JvbGxQb3NpdGlvbjtcbn07XG5cbmNvbnN0IHVzZVJlcXVlc3RQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlSGFzUGVybWlzc2lvbnMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaGFzUGVybWlzc2lvbiA9IHVzZUhhc1Blcm1pc3Npb25zKHBlcm1pc3Npb24pO1xuICAgIGNvbnN0IFtpc0F3YWl0aW5nUGVybWlzc2lvbiwgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb25dID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUT0RPOiBsb2FkIHdpdGggcG9zc2libHkgcGVuZGluZyBzdGF0ZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4gc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbilcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgfSwgW2hhc1Blcm1pc3Npb25dKTtcbiAgICBjb25zdCByZXF1ZXN0UGVybWlzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgY2FuUmVxdWVzdFBlcm1pc3Npb24gPSAhIWNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KHBlcm1pc3Npb24pO1xuICAgICAgICBpZiAoaXNBd2FpdGluZ1Blcm1pc3Npb24gfHwgIWNhblJlcXVlc3RQZXJtaXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzZXRJc0F3YWl0aW5nUGVybWlzc2lvbih0cnVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGw/LnJlcXVlc3RQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IFtwZXJtaXNzaW9uXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZXF1ZXN0UGVybWlzc2lvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sIFtjYWxsLCBoYXNQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiwgcGVybWlzc2lvbl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uLFxuICAgICAgICBoYXNQZXJtaXNzaW9uLFxuICAgICAgICBjYW5SZXF1ZXN0UGVybWlzc2lvbjogISFjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uKSxcbiAgICAgICAgaXNBd2FpdGluZ1Blcm1pc3Npb24sXG4gICAgfTtcbn07XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHRoYXQgaGVscHMgcmVuZGVyIGEgbGlzdCBvZiBkZXZpY2VzIG9yIGltcGxlbWVudCBhIGRldmljZSBzZWxlY3Rvci5cbiAqIENvbXBhcmVkIHRvIHNvbWV0aW5nIGxpa2UgYHVzZUNhbWVyYVN0YXRlKCkuZGV2aWNlc2AsIGl0IGhhcyBzb21lIGhhbmR5IGZlYXR1cmVzOlxuICogMS4gQWRkcyB0aGUgXCJEZWZhdWx0XCIgZGV2aWNlIHRvIHRoZSBsaXN0IGlmIGFwcGxpY2FibGUgKGVpdGhlciB0aGUgdXNlciBkaWQgbm90XG4gKiBzZWxlY3QgYSBkZXZpY2UsIG9yIGEgcHJldmlvdXNseSBzZWxlY3RlZCBkZXZpY2UgaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZSkuXG4gKiAyLiBNYXBzIHRoZSBkZXZpY2UgbGlzdCB0byBhIGZvcm1hdCBtb3JlIHN1aXRhYmxlIGZvciByZW5kZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHVzZURldmljZUxpc3QoZGV2aWNlcywgc2VsZWN0ZWREZXZpY2VJZCkge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgbGV0IHNlbGVjdGVkRGV2aWNlSW5mbyA9IG51bGw7XG4gICAgICAgIGxldCBzZWxlY3RlZEluZGV4ID0gbnVsbDtcbiAgICAgICAgY29uc3QgZGV2aWNlTGlzdCA9IGRldmljZXMubWFwKChkLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gZC5kZXZpY2VJZCA9PT0gc2VsZWN0ZWREZXZpY2VJZDtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZSA9IHsgZGV2aWNlSWQ6IGQuZGV2aWNlSWQsIGxhYmVsOiBkLmxhYmVsLCBpc1NlbGVjdGVkIH07XG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGV2aWNlSW5mbyA9IGRldmljZTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2VsZWN0ZWREZXZpY2VJbmZvID09PSBudWxsIHx8IHNlbGVjdGVkSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHREZXZpY2UgPSB7XG4gICAgICAgICAgICAgICAgZGV2aWNlSWQ6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogdCgnRGVmYXVsdCcpLFxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJbmZvID0gZGVmYXVsdERldmljZTtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgZGV2aWNlTGlzdC51bnNoaWZ0KGRlZmF1bHREZXZpY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRldmljZUxpc3QsIHNlbGVjdGVkRGV2aWNlSW5mbywgc2VsZWN0ZWRJbmRleCB9O1xuICAgIH0sIFtkZXZpY2VzLCBzZWxlY3RlZERldmljZUlkLCB0XSk7XG59XG5cbnZhciBNZW51VmlzdWFsVHlwZTtcbihmdW5jdGlvbiAoTWVudVZpc3VhbFR5cGUpIHtcbiAgICBNZW51VmlzdWFsVHlwZVtcIlBPUlRBTFwiXSA9IFwicG9ydGFsXCI7XG4gICAgTWVudVZpc3VhbFR5cGVbXCJNRU5VXCJdID0gXCJtZW51XCI7XG59KShNZW51VmlzdWFsVHlwZSB8fCAoTWVudVZpc3VhbFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBVc2VkIHRvIHByb3ZpZGUgdXRpbGl0eSBBUElzIHRvIHRoZSBjb21wb25lbnRzIHJlbmRlcmVkIGluc2lkZSB0aGUgcG9ydGFsLlxuICovXG5jb25zdCBNZW51Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuLyoqXG4gKiBBY2Nlc3MgdG8gdGhlIGNsb3NlcyBNZW51Q29udGV4dC5cbiAqL1xuY29uc3QgdXNlTWVudUNvbnRleHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoTWVudUNvbnRleHQpO1xufTtcbmNvbnN0IE1lbnVQb3J0YWwgPSAoeyBjaGlsZHJlbiwgcmVmcywgfSkgPT4ge1xuICAgIGNvbnN0IHBvcnRhbElkID0gdXNlTWVtbygoKSA9PiBgc3RyLXZpZGVvLXBvcnRhbC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gLCBbXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgaWQ6IHBvcnRhbElkLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wb3J0YWxcIiB9KSwganN4KEZsb2F0aW5nT3ZlcmxheSwgeyBjaGlsZHJlbjoganN4KEZsb2F0aW5nUG9ydGFsLCB7IGlkOiBwb3J0YWxJZCwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BvcnRhbC1jb250ZW50XCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgTWVudVRvZ2dsZSA9ICh7IFRvZ2dsZUJ1dHRvbiwgcGxhY2VtZW50ID0gJ3RvcC1zdGFydCcsIHN0cmF0ZWd5ID0gJ2Fic29sdXRlJywgb2Zmc2V0LCB2aXN1YWxUeXBlID0gTWVudVZpc3VhbFR5cGUuTUVOVSwgY2hpbGRyZW4sIG9uVG9nZ2xlLCB9KSA9PiB7XG4gICAgY29uc3QgW21lbnVTaG93biwgc2V0TWVudVNob3duXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB0b2dnbGVIYW5kbGVyID0gdXNlUmVmKG9uVG9nZ2xlKTtcbiAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQgPSBvblRvZ2dsZTtcbiAgICBjb25zdCB7IGZsb2F0aW5nLCBkb21SZWZlcmVuY2UsIHJlZnMsIHgsIHkgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICBvZmZzZXQsXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcGFyZW50RG9jdW1lbnQgPSBkb21SZWZlcmVuY2U/Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZsb2F0aW5nICYmIGRvbVJlZmVyZW5jZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bih0cnVlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQ/Lih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsb2F0aW5nICYmICFmbG9hdGluZz8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50Py4oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ICYmIC8vIGtleSBjYW4gYmUgdW5kZWZpbmVkIGluIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VzY2FwZScgJiZcbiAgICAgICAgICAgICAgICAhZXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICAgICAgICAgIWV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZW51U2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudD8uKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50RG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgcGFyZW50RG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHBhcmVudERvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrLCB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFyZW50RG9jdW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZmxvYXRpbmcsIGRvbVJlZmVyZW5jZV0pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW21lbnVTaG93biAmJiAoanN4KE1lbnVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsb3NlOiAoKSA9PiBzZXRNZW51U2hvd24oZmFsc2UpIH0sIGNoaWxkcmVuOiB2aXN1YWxUeXBlID09PSBNZW51VmlzdWFsVHlwZS5QT1JUQUwgPyAoanN4KE1lbnVQb3J0YWwsIHsgcmVmczogcmVmcywgY2hpbGRyZW46IGNoaWxkcmVuIH0pKSA6IHZpc3VhbFR5cGUgPT09IE1lbnVWaXN1YWxUeXBlLk1FTlUgPyAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVudS1jb250YWluZXJcIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB4ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgcm9sZTogXCJtZW51XCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkgOiBudWxsIH0pKSwganN4KFRvZ2dsZUJ1dHRvbiwgeyBtZW51U2hvd246IG1lbnVTaG93biwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSB9KV0gfSkpO1xufTtcblxuY29uc3QgR2VuZXJpY01lbnUgPSAoeyBjaGlsZHJlbiwgb25JdGVtQ2xpY2ssIH0pID0+IHtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgcmV0dXJuIChqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2dlbmVyaWMtbWVudVwiLCByZWY6IHJlZiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChvbkl0ZW1DbGljayAmJlxuICAgICAgICAgICAgICAgIGUudGFyZ2V0ICE9PSByZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIHJlZi5jdXJyZW50Py5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBvbkl0ZW1DbGljayhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5jb25zdCBHZW5lcmljTWVudUJ1dHRvbkl0ZW0gPSAoeyBjaGlsZHJlbiwgLi4ucmVzdCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2dlbmVyaWMtbWVudS0taXRlbVwiLCBjaGlsZHJlbjoganN4KFwiYnV0dG9uXCIsIHsgLi4ucmVzdCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG5cbmNvbnN0IEljb24gPSAoeyBjbGFzc05hbWUsIGljb24gfSkgPT4gKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19faWNvbicsIGljb24gJiYgYHN0ci12aWRlb19faWNvbi0tJHtpY29ufWAsIGNsYXNzTmFtZSkgfSkpO1xuXG5mdW5jdGlvbiB1c2VQaWN0dXJlSW5QaWN0dXJlU3RhdGUodmlkZW9FbGVtZW50KSB7XG4gICAgY29uc3QgW2lzUGlQLCBzZXRJc1BpUF0gPSB1c2VTdGF0ZShkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50KTtcbiAgICBpZiAoIXZpZGVvRWxlbWVudCAmJiBpc1BpUClcbiAgICAgICAgc2V0SXNQaVAoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVQaVAgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc1BpUChkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsZWF2ZXBpY3R1cmVpbnBpY3R1cmUnLCBoYW5kbGVQaVApO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbGVhdmVwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgfTtcbiAgICB9LCBbdmlkZW9FbGVtZW50XSk7XG4gICAgcmV0dXJuIGlzUGlQO1xufVxuXG5jb25zdCBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50LCB2aWRlb0VsZW1lbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBbZnVsbHNjcmVlbk1vZGVPbiwgc2V0RnVsbHNjcmVlbk1vZGVPbl0gPSB1c2VTdGF0ZSghIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGlzUGlQID0gdXNlUGljdHVyZUluUGljdHVyZVN0YXRlKHZpZGVvRWxlbWVudCA/PyB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgcGluLCBzZXNzaW9uSWQsIHVzZXJJZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlVHJhY2sgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgYmxvY2tVc2VyID0gKCkgPT4gY2FsbD8uYmxvY2tVc2VyKHVzZXJJZCk7XG4gICAgY29uc3Qga2lja1VzZXIgPSAoKSA9PiBjYWxsPy5raWNrVXNlcih7IHVzZXJfaWQ6IHVzZXJJZCB9KTtcbiAgICBjb25zdCBtdXRlQXVkaW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICdhdWRpbycpO1xuICAgIGNvbnN0IG11dGVWaWRlbyA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3ZpZGVvJyk7XG4gICAgY29uc3QgbXV0ZVNjcmVlblNoYXJlID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAnc2NyZWVuc2hhcmUnKTtcbiAgICBjb25zdCBtdXRlU2NyZWVuU2hhcmVBdWRpbyA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3NjcmVlbnNoYXJlX2F1ZGlvJyk7XG4gICAgY29uc3QgZ3JhbnRQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+ICgpID0+IHtcbiAgICAgICAgY2FsbD8udXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIGdyYW50X3Blcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmV2b2tlUGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICByZXZva2VfcGVybWlzc2lvbnM6IFtwZXJtaXNzaW9uXSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVQYXJ0aWNpcGFudFBpbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKHBpbikge1xuICAgICAgICAgICAgY2FsbD8udW5waW4oc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGw/LnBpbihzZXNzaW9uSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwaW5Gb3JFdmVyeW9uZSA9ICgpID0+IHtcbiAgICAgICAgY2FsbFxuICAgICAgICAgICAgPy5waW5Gb3JFdmVyeW9uZSh7IHVzZXJfaWQ6IHVzZXJJZCwgc2Vzc2lvbl9pZDogc2Vzc2lvbklkIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBpbiBwYXJ0aWNpcGFudCAke3VzZXJJZH1gLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHVucGluRm9yRXZlcnlvbmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGxcbiAgICAgICAgICAgID8udW5waW5Gb3JFdmVyeW9uZSh7IHVzZXJfaWQ6IHVzZXJJZCwgc2Vzc2lvbl9pZDogc2Vzc2lvbklkIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHVucGluIHBhcnRpY2lwYW50ICR7dXNlcklkfWAsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlRnVsbHNjcmVlbk1vZGUgPSAoKSA9PiB7XG4gICAgICAgIGlmICghZnVsbHNjcmVlbk1vZGVPbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQ/LnJlcXVlc3RGdWxsc2NyZWVuKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gZnVsbHNjcmVlbiBtb2RlIGlzIHRvZ2dsZWQgZXh0ZXJuYWxseSxcbiAgICAgICAgLy8gZS5nLiwgYnkgcHJlc3NpbmcgRVNDIGtleSBvciBzb21lIG90aGVyIGtleWJvYXJkIHNob3J0Y3V0XG4gICAgICAgIGNvbnN0IGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRGdWxsc2NyZWVuTW9kZU9uKCEhZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUgPSAoKSA9PiB7XG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnQgJiYgIWlzUGlQKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlkZW9FbGVtZW50XG4gICAgICAgICAgICAgICAgLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpIHx8IHt9O1xuICAgIHJldHVybiAoanN4cyhHZW5lcmljTWVudSwgeyBvbkl0ZW1DbGljazogY2xvc2UsIGNoaWxkcmVuOiBbanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlUGFydGljaXBhbnRQaW4sIGRpc2FibGVkOiBwaW4gJiYgIXBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHBpbiA/IHQoJ1VucGluJykgOiB0KCdQaW4nKV0gfSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuUElOX0ZPUl9FVkVSWU9ORV0sIGNoaWxkcmVuOiBbanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcGluRm9yRXZlcnlvbmUsIGRpc2FibGVkOiBwaW4gJiYgIXBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHQoJ1BpbiBmb3IgZXZlcnlvbmUnKV0gfSksIGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHVucGluRm9yRXZlcnlvbmUsIGRpc2FibGVkOiAhcGluIHx8IHBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHQoJ1VucGluIGZvciBldmVyeW9uZScpXSB9KV0gfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5CTE9DS19VU0VSU10sIGNoaWxkcmVuOiBqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBibG9ja1VzZXIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJub3QtYWxsb3dlZFwiIH0pLCB0KCdCbG9jaycpXSB9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LktJQ0tfVVNFUl0sIGNoaWxkcmVuOiBqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBraWNrVXNlciwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcImtpY2stdXNlclwiIH0pLCB0KCdLaWNrJyldIH0pIH0pLCBqc3hzKFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5Lk1VVEVfVVNFUlNdLCBjaGlsZHJlbjogW2hhc1ZpZGVvVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVWaWRlbywgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcImNhbWVyYS1vZmYtb3V0bGluZVwiIH0pLCB0KCdUdXJuIG9mZiB2aWRlbycpXSB9KSksIGhhc1NjcmVlblNoYXJlVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVTY3JlZW5TaGFyZSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInNjcmVlbi1zaGFyZS1vZmZcIiB9KSwgdCgnVHVybiBvZmYgc2NyZWVuIHNoYXJlJyldIH0pKSwgaGFzQXVkaW9UcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZUF1ZGlvLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwibm8tYXVkaW9cIiB9KSwgdCgnTXV0ZSBhdWRpbycpXSB9KSksIGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZVNjcmVlblNoYXJlQXVkaW8sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJuby1hdWRpb1wiIH0pLCB0KCdNdXRlIHNjcmVlbiBzaGFyZSBhdWRpbycpXSB9KSldIH0pLCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4gIT09ICd1bmRlZmluZWQnICYmIChqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZUZ1bGxzY3JlZW5Nb2RlLCBjaGlsZHJlbjogdCgne3sgZGlyZWN0aW9uIH19IGZ1bGxzY3JlZW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZnVsbHNjcmVlbk1vZGVPbiA/IHQoJ0xlYXZlJykgOiB0KCdFbnRlcicpLFxuICAgICAgICAgICAgICAgIH0pIH0pKSwgdmlkZW9FbGVtZW50ICYmIGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkICYmIChqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUsIGNoaWxkcmVuOiB0KCd7eyBkaXJlY3Rpb24gfX0gcGljdHVyZS1pbi1waWN0dXJlJywge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGlzUGlQID8gdCgnTGVhdmUnKSA6IHQoJ0VudGVyJyksXG4gICAgICAgICAgICAgICAgfSkgfSkpLCBqc3hzKFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlVQREFURV9DQUxMX1BFUk1JU1NJT05TXSwgY2hpbGRyZW46IFtqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGdyYW50UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pLCBjaGlsZHJlbjogdCgnQWxsb3cgYXVkaW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBncmFudFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKSwgY2hpbGRyZW46IHQoJ0FsbG93IHZpZGVvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogZ3JhbnRQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpLCBjaGlsZHJlbjogdCgnQWxsb3cgc2NyZWVuIHNoYXJpbmcnKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiByZXZva2VQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyksIGNoaWxkcmVuOiB0KCdEaXNhYmxlIGF1ZGlvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcmV2b2tlUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pLCBjaGlsZHJlbjogdCgnRGlzYWJsZSB2aWRlbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHJldm9rZVBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSksIGNoaWxkcmVuOiB0KCdEaXNhYmxlIHNjcmVlbiBzaGFyaW5nJykgfSldIH0pXSB9KSk7XG59O1xuXG5jb25zdCBpc0NvbXBvbmVudFR5cGUgPSAoZWxlbWVudE9yQ29tcG9uZW50KSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnRPckNvbXBvbmVudCA9PT0gbnVsbFxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogIWlzVmFsaWRFbGVtZW50KGVsZW1lbnRPckNvbXBvbmVudCk7XG59O1xuXG5jb25zdCBjaHVuayA9IChhcnJheSwgc2l6ZSkgPT4ge1xuICAgIGNvbnN0IGNodW5rQ291bnQgPSBNYXRoLmNlaWwoYXJyYXkubGVuZ3RoIC8gc2l6ZSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGNodW5rQ291bnQgfSwgKF8sIGluZGV4KSA9PiBhcnJheS5zbGljZShzaXplICogaW5kZXgsIHNpemUgKiBpbmRleCArIHNpemUpKTtcbn07XG5cbmNvbnN0IGFwcGx5RWxlbWVudFRvUmVmID0gKHJlZiwgZWxlbWVudCkgPT4ge1xuICAgIGlmICghcmVmKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiByZWYoZWxlbWVudCk7XG4gICAgcmVmLmN1cnJlbnQgPSBlbGVtZW50O1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gRXh0ZW5kcyB2aWRlbyBlbGVtZW50IHdpdGggYHN0cmVhbWAgcHJvcGVydHlcbiAqIChgc3JjT2JqZWN0YCkgdG8gcmVhY3RpdmVseSBoYW5kbGUgc3RyZWFtIGNoYW5nZXNcbiAqL1xuY29uc3QgQmFzZVZpZGVvID0gZm9yd2FyZFJlZihmdW5jdGlvbiBCYXNlVmlkZW8oeyBzdHJlYW0sIC4uLnJlc3QgfSwgcmVmKSB7XG4gICAgY29uc3QgW3ZpZGVvRWxlbWVudCwgc2V0VmlkZW9FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW9FbGVtZW50IHx8ICFzdHJlYW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChzdHJlYW0gPT09IHZpZGVvRWxlbWVudC5zcmNPYmplY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIGlmIChCcm93c2Vycy5pc1NhZmFyaSgpIHx8IEJyb3dzZXJzLmlzRmlyZWZveCgpKSB7XG4gICAgICAgICAgICAvLyBGaXJlZm94IGFuZCBTYWZhcmkgaGF2ZSBzb21lIHRpbWluZyBpc3N1ZVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwbGF5IHN0cmVhbWAsIGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfSwgW3N0cmVhbSwgdmlkZW9FbGVtZW50XSk7XG4gICAgcmV0dXJuIChqc3goXCJ2aWRlb1wiLCB7IGF1dG9QbGF5OiB0cnVlLCBwbGF5c0lubGluZTogdHJ1ZSwgLi4ucmVzdCwgcmVmOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgYXBwbHlFbGVtZW50VG9SZWYocmVmLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHNldFZpZGVvRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSB9KSk7XG59KTtcblxuY29uc3QgQmFzZVZpZGVvUGxhY2Vob2xkZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyKHsgcGFydGljaXBhbnQsIHN0eWxlLCBjaGlsZHJlbiB9LCByZWYpIHtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBuYW1lID0gcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQ7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJcIiwgc3R5bGU6IHN0eWxlLCByZWY6IHJlZiwgY2hpbGRyZW46IFsoIXBhcnRpY2lwYW50LmltYWdlIHx8IGVycm9yKSAmJlxuICAgICAgICAgICAgICAgIChuYW1lID8gKGpzeChJbml0aWFsc0ZhbGxiYWNrLCB7IG5hbWU6IG5hbWUgfSkpIDogKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyX19uby12aWRlby1sYWJlbFwiLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpKSwgcGFydGljaXBhbnQuaW1hZ2UgJiYgIWVycm9yICYmIChqc3goXCJpbWdcIiwgeyBvbkVycm9yOiAoKSA9PiBzZXRFcnJvcih0cnVlKSwgYWx0OiBuYW1lLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9fYXZhdGFyXCIsIHNyYzogcGFydGljaXBhbnQuaW1hZ2UgfSkpXSB9KSk7XG59KTtcbmNvbnN0IEluaXRpYWxzRmFsbGJhY2sgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGluaXRpYWxzID0gbmFtZVxuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAuc2xpY2UoMCwgMilcbiAgICAgICAgLm1hcCgobikgPT4gblswXSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJfX2luaXRpYWxzLWZhbGxiYWNrXCIsIGNoaWxkcmVuOiBpbml0aWFscyB9KSk7XG59O1xuXG5jb25zdCBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KEJhc2VWaWRlb1BsYWNlaG9sZGVyLCB7IHJlZjogcmVmLCAuLi5wcm9wcywgY2hpbGRyZW46IHQoJ1ZpZGVvIGlzIGRpc2FibGVkJykgfSkpO1xufSk7XG5cbmNvbnN0IERlZmF1bHRQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIERlZmF1bHRQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KEJhc2VWaWRlb1BsYWNlaG9sZGVyLCB7IHJlZjogcmVmLCAuLi5wcm9wcywgY2hpbGRyZW46IHQoJ1ZpZGVvIGlzIHBsYXlpbmcgaW4gYSBwb3B1cCcpIH0pKTtcbn0pO1xuXG5jb25zdCBWaWRlbyQxID0gKHsgZW5hYmxlZCA9IHRydWUsIG1pcnJvciwgdHJhY2tUeXBlLCBwYXJ0aWNpcGFudCwgY2xhc3NOYW1lLCBWaWRlb1BsYWNlaG9sZGVyID0gRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciA9IERlZmF1bHRQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIHJlZnMsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IHsgc2Vzc2lvbklkLCB2aWRlb1N0cmVhbSwgc2NyZWVuU2hhcmVTdHJlYW0sIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlLCBpc0xvY2FsUGFydGljaXBhbnQsIHVzZXJJZCwgfSA9IHBhcnRpY2lwYW50O1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgW3ZpZGVvRWxlbWVudCwgc2V0VmlkZW9FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIC8vIHN0YXJ0IHdpdGggdHJ1ZSwgd2lsbCBmbGlwIG9uY2UgdGhlIHZpZGVvIHN0YXJ0cyBwbGF5aW5nXG4gICAgY29uc3QgW2lzVmlkZW9QYXVzZWQsIHNldElzVmlkZW9QYXVzZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2lzV2lkZU1vZGUsIHNldElzV2lkZU1vZGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgaXNQaVAgPSB1c2VQaWN0dXJlSW5QaWN0dXJlU3RhdGUodmlkZW9FbGVtZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgY29uc3Qgc3RyZWFtID0gdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgPyB2aWRlb1N0cmVhbVxuICAgICAgICA6IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snXG4gICAgICAgICAgICA/IHNjcmVlblNoYXJlU3RyZWFtXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIXZpZGVvRWxlbWVudCB8fCB0cmFja1R5cGUgPT09ICdub25lJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuYmluZFZpZGVvRWxlbWVudCh2aWRlb0VsZW1lbnQsIHNlc3Npb25JZCwgdHJhY2tUeXBlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFudXA/LigpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCB0cmFja1R5cGUsIHNlc3Npb25JZCwgdmlkZW9FbGVtZW50XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzdHJlYW0gfHwgIXZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgW3RyYWNrXSA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgICBpZiAoIXRyYWNrKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVQbGF5UGF1c2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc1ZpZGVvUGF1c2VkKHZpZGVvRWxlbWVudC5wYXVzZWQpO1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHRyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICBzZXRJc1dpZGVNb2RlKHdpZHRoID49IGhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHBsYXliYWNrIG1heSBoYXZlIHN0YXJ0ZWQgYmVmb3JlIHdlIGhhZCBhIGNoYW5jZSB0b1xuICAgICAgICAvLyBhdHRhY2ggdGhlICdwbGF5L3BhdXNlJyBldmVudCBsaXN0ZW5lciwgc28gd2Ugc2V0IHRoZSBzdGF0ZVxuICAgICAgICAvLyBoZXJlIHRvIG1ha2Ugc3VyZSBpdCdzIGluIHN5bmNcbiAgICAgICAgc2V0SXNWaWRlb1BhdXNlZCh2aWRlb0VsZW1lbnQucGF1c2VkKTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCd1bm11dGUnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXknLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgICAgICAvLyByZXNldCB0aGUgJ3BhdXNlJyBzdGF0ZSBvbmNlIHdlIHVubW91bnQgdGhlIHZpZGVvIGVsZW1lbnRcbiAgICAgICAgICAgIHNldElzVmlkZW9QYXVzZWQodHJ1ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW3N0cmVhbSwgdmlkZW9FbGVtZW50XSk7XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpc1B1Ymxpc2hpbmdUcmFjayA9IHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICAgID8gaGFzVmlkZW8ocGFydGljaXBhbnQpXG4gICAgICAgIDogdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaydcbiAgICAgICAgICAgID8gaGFzU2NyZWVuU2hhcmUocGFydGljaXBhbnQpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIGNvbnN0IGlzSW52aXNpYmxlID0gdHJhY2tUeXBlID09PSAnbm9uZScgfHxcbiAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/Llt0cmFja1R5cGVdID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFO1xuICAgIGNvbnN0IGhhc05vVmlkZW9PckludmlzaWJsZSA9ICFlbmFibGVkIHx8XG4gICAgICAgICFpc1B1Ymxpc2hpbmdUcmFjayB8fFxuICAgICAgICBpc0ludmlzaWJsZSB8fFxuICAgICAgICBoYXNQYXVzZWRUcmFjayhwYXJ0aWNpcGFudCwgdHJhY2tUeXBlKTtcbiAgICBjb25zdCBtaXJyb3JWaWRlbyA9IG1pcnJvciA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gaXNMb2NhbFBhcnRpY2lwYW50ICYmIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICAgIDogbWlycm9yO1xuICAgIGNvbnN0IGlzU2NyZWVuU2hhcmVUcmFjayA9IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyFoYXNOb1ZpZGVvT3JJbnZpc2libGUgJiYgKGpzeChcInZpZGVvXCIsIHsgLi4ucmVzdCwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3ZpZGVvJywgY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS1ub3QtcGxheWluZyc6IGlzVmlkZW9QYXVzZWQsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS10YWxsJzogIWlzV2lkZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS1taXJyb3InOiBtaXJyb3JWaWRlbyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLXNjcmVlbi1zaGFyZSc6IGlzU2NyZWVuU2hhcmVUcmFjayxcbiAgICAgICAgICAgICAgICB9KSwgXCJkYXRhLXVzZXItaWRcIjogdXNlcklkLCBcImRhdGEtc2Vzc2lvbi1pZFwiOiBzZXNzaW9uSWQsIHJlZjogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmlkZW9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZWZzPy5zZXRWaWRlb0VsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9IH0pKSwgaXNQaVAgJiYgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyICYmIChqc3goUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCB7IHN0eWxlOiB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0sIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSksIChoYXNOb1ZpZGVvT3JJbnZpc2libGUgfHwgaXNWaWRlb1BhdXNlZCkgJiYgVmlkZW9QbGFjZWhvbGRlciAmJiAoanN4KFZpZGVvUGxhY2Vob2xkZXIsIHsgc3R5bGU6IHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCByZWY6IHJlZnM/LnNldFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50IH0pKV0gfSkpO1xufTtcblZpZGVvJDEuZGlzcGxheU5hbWUgPSAnVmlkZW8nO1xuXG5jb25zdCB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5ID0gKHsgdHJhY2tlZEVsZW1lbnQsIGR5bmFzY2FsZU1hbmFnZXI6IHByb3BzRHluYXNjYWxlTWFuYWdlciwgc2Vzc2lvbklkLCB0cmFja1R5cGUsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IG1hbmFnZXIgPSBwcm9wc0R5bmFzY2FsZU1hbmFnZXIgPz8gY2FsbD8uZHluYXNjYWxlTWFuYWdlcjtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXRyYWNrZWRFbGVtZW50IHx8ICFtYW5hZ2VyIHx8ICFjYWxsIHx8IHRyYWNrVHlwZSA9PT0gJ25vbmUnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB1bm9ic2VydmUgPSBtYW5hZ2VyLnRyYWNrRWxlbWVudFZpc2liaWxpdHkodHJhY2tlZEVsZW1lbnQsIHNlc3Npb25JZCwgdHJhY2tUeXBlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFt0cmFja2VkRWxlbWVudCwgbWFuYWdlciwgY2FsbCwgc2Vzc2lvbklkLCB0cmFja1R5cGVdKTtcbn07XG5cbmNvbnN0IEF2YXRhciA9ICh7IGltYWdlU3JjLCBuYW1lLCBzdHlsZSwgY2xhc3NOYW1lLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFsoIWltYWdlU3JjIHx8IGVycm9yKSAmJiBuYW1lICYmIChqc3goQXZhdGFyRmFsbGJhY2ssIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBzdHlsZSwgbmFtZXM6IFtuYW1lXSB9KSksIGltYWdlU3JjICYmICFlcnJvciAmJiAoanN4KFwiaW1nXCIsIHsgb25FcnJvcjogKCkgPT4gc2V0RXJyb3IodHJ1ZSksIGFsdDogXCJhdmF0YXJcIiwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2F2YXRhcicsIGNsYXNzTmFtZSksIHNyYzogaW1hZ2VTcmMsIHN0eWxlOiBzdHlsZSwgLi4ucmVzdCB9KSldIH0pKTtcbn07XG5jb25zdCBBdmF0YXJGYWxsYmFjayA9ICh7IGNsYXNzTmFtZSwgbmFtZXMsIHN0eWxlLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fYXZhdGFyLS1pbml0aWFscy1mYWxsYmFjaycsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSwgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW25hbWVzWzBdWzBdLCBuYW1lc1sxXT8uWzBdXSB9KSB9KSk7XG59O1xuXG4vKipcbiAqIFRoZSBjb250ZXh0IGZvciB0aGUgYmFja2dyb3VuZCBmaWx0ZXJzLlxuICovXG5jb25zdCBCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG4vKipcbiAqIEEgaG9vayB0byBhY2Nlc3MgdGhlIGJhY2tncm91bmQgZmlsdGVycyBjb250ZXh0IEFQSS5cbiAqL1xuY29uc3QgdXNlQmFja2dyb3VuZEZpbHRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQmFja2dyb3VuZEZpbHRlcnNDb250ZXh0KTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VCYWNrZ3JvdW5kRmlsdGVycyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQmFja2dyb3VuZEZpbHRlcnNQcm92aWRlcicpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn07XG4vKipcbiAqIEEgcHJvdmlkZXIgY29tcG9uZW50IHRoYXQgZW5hYmxlcyB0aGUgdXNlIG9mIGJhY2tncm91bmQgZmlsdGVycyBpbiB5b3VyIGFwcC5cbiAqXG4gKiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIHRoZSBgQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYmAgcGFja2FnZSBpbnN0YWxsZWRcbiAqIGluIHlvdXIgcHJvamVjdCBiZWZvcmUgdXNpbmcgdGhpcyBjb21wb25lbnQuXG4gKi9cbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzUHJvdmlkZXIgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBiYWNrZ3JvdW5kSW1hZ2VzID0gW10sIGJhY2tncm91bmRGaWx0ZXI6IGJnRmlsdGVyRnJvbVByb3BzID0gdW5kZWZpbmVkLCBiYWNrZ3JvdW5kSW1hZ2U6IGJnSW1hZ2VGcm9tUHJvcHMgPSB1bmRlZmluZWQsIGJhY2tncm91bmRCbHVyTGV2ZWw6IGJnQmx1ckxldmVsRnJvbVByb3BzID0gdW5kZWZpbmVkLCB0ZkZpbGVQYXRoLCBtb2RlbEZpbGVQYXRoLCBiYXNlUGF0aCwgb25FcnJvciwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtiYWNrZ3JvdW5kRmlsdGVyLCBzZXRCYWNrZ3JvdW5kRmlsdGVyXSA9IHVzZVN0YXRlKGJnRmlsdGVyRnJvbVByb3BzKTtcbiAgICBjb25zdCBbYmFja2dyb3VuZEltYWdlLCBzZXRCYWNrZ3JvdW5kSW1hZ2VdID0gdXNlU3RhdGUoYmdJbWFnZUZyb21Qcm9wcyk7XG4gICAgY29uc3QgW2JhY2tncm91bmRCbHVyTGV2ZWwsIHNldEJhY2tncm91bmRCbHVyTGV2ZWxdID0gdXNlU3RhdGUoYmdCbHVyTGV2ZWxGcm9tUHJvcHMpO1xuICAgIGNvbnN0IGFwcGx5QmFja2dyb3VuZEltYWdlRmlsdGVyID0gdXNlQ2FsbGJhY2soKGltYWdlVXJsKSA9PiB7XG4gICAgICAgIHNldEJhY2tncm91bmRGaWx0ZXIoJ2ltYWdlJyk7XG4gICAgICAgIHNldEJhY2tncm91bmRJbWFnZShpbWFnZVVybCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGFwcGx5QmFja2dyb3VuZEJsdXJGaWx0ZXIgPSB1c2VDYWxsYmFjaygoYmx1ckxldmVsID0gJ2hpZ2gnKSA9PiB7XG4gICAgICAgIHNldEJhY2tncm91bmRGaWx0ZXIoJ2JsdXInKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEJsdXJMZXZlbChibHVyTGV2ZWwpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBkaXNhYmxlQmFja2dyb3VuZEZpbHRlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcih1bmRlZmluZWQpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kSW1hZ2UodW5kZWZpbmVkKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEJsdXJMZXZlbCh1bmRlZmluZWQpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbaXNTdXBwb3J0ZWQsIHNldElzU3VwcG9ydGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpc1BsYXRmb3JtU3VwcG9ydGVkKCkudGhlbihzZXRJc1N1cHBvcnRlZCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IFt0ZkxpdGUsIHNldFRmTGl0ZV0gPSB1c2VTdGF0ZSgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIGRvbid0IHRyeSB0byBsb2FkIFRGTGl0ZSBpZiB0aGUgcGxhdGZvcm0gaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsb2FkVEZMaXRlKHsgYmFzZVBhdGgsIG1vZGVsRmlsZVBhdGgsIHRmRmlsZVBhdGggfSlcbiAgICAgICAgICAgIC50aGVuKHNldFRmTGl0ZSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBURkxpdGUnLCBlcnIpKTtcbiAgICB9LCBbYmFzZVBhdGgsIGlzU3VwcG9ydGVkLCBtb2RlbEZpbGVQYXRoLCB0ZkZpbGVQYXRoXSk7XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSB1c2VDYWxsYmFjaygoZXJyb3IpID0+IHtcbiAgICAgICAgZ2V0TG9nZ2VyKFsnZmlsdGVycyddKSgnd2FybicsICdGaWx0ZXIgZW5jb3VudGVyZWQgYW4gZXJyb3IgYW5kIHdpbGwgYmUgZGlzYWJsZWQnKTtcbiAgICAgICAgZGlzYWJsZUJhY2tncm91bmRGaWx0ZXIoKTtcbiAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICB9LCBbZGlzYWJsZUJhY2tncm91bmRGaWx0ZXIsIG9uRXJyb3JdKTtcbiAgICByZXR1cm4gKGpzeHMoQmFja2dyb3VuZEZpbHRlcnNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7XG4gICAgICAgICAgICBpc1N1cHBvcnRlZCxcbiAgICAgICAgICAgIGlzUmVhZHk6ICEhdGZMaXRlLFxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlLFxuICAgICAgICAgICAgYmFja2dyb3VuZEJsdXJMZXZlbCxcbiAgICAgICAgICAgIGJhY2tncm91bmRGaWx0ZXIsXG4gICAgICAgICAgICBkaXNhYmxlQmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgIGFwcGx5QmFja2dyb3VuZEJsdXJGaWx0ZXIsXG4gICAgICAgICAgICBhcHBseUJhY2tncm91bmRJbWFnZUZpbHRlcixcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXMsXG4gICAgICAgICAgICB0ZkZpbGVQYXRoLFxuICAgICAgICAgICAgbW9kZWxGaWxlUGF0aCxcbiAgICAgICAgICAgIGJhc2VQYXRoLFxuICAgICAgICAgICAgb25FcnJvcjogaGFuZGxlRXJyb3IsXG4gICAgICAgIH0sIGNoaWxkcmVuOiBbY2hpbGRyZW4sIHRmTGl0ZSAmJiBqc3goQmFja2dyb3VuZEZpbHRlcnMsIHsgdGZMaXRlOiB0ZkxpdGUgfSldIH0pKTtcbn07XG5jb25zdCBCYWNrZ3JvdW5kRmlsdGVycyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgc3RhcnQgfSA9IHVzZVJlbmRlcmVyKHByb3BzLnRmTGl0ZSwgY2FsbCk7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kRmlsdGVyLCBvbkVycm9yIH0gPSB1c2VCYWNrZ3JvdW5kRmlsdGVycygpO1xuICAgIGNvbnN0IGhhbmRsZUVycm9yUmVmID0gdXNlUmVmKHVuZGVmaW5lZCk7XG4gICAgaGFuZGxlRXJyb3JSZWYuY3VycmVudCA9IG9uRXJyb3I7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFiYWNrZ3JvdW5kRmlsdGVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHVucmVnaXN0ZXIgfSA9IGNhbGwuY2FtZXJhLnJlZ2lzdGVyRmlsdGVyKChtcykgPT4gc3RhcnQobXMsIChlcnJvcikgPT4gaGFuZGxlRXJyb3JSZWYuY3VycmVudD8uKGVycm9yKSkpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdW5yZWdpc3RlcigpLmNhdGNoKChlcnIpID0+IGNvbnNvbGUud2FybihgQ2FuJ3QgdW5yZWdpc3RlciBmaWx0ZXJgLCBlcnIpKTtcbiAgICAgICAgfTtcbiAgICB9LCBbYmFja2dyb3VuZEZpbHRlciwgY2FsbCwgc3RhcnRdKTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG59O1xuY29uc3QgdXNlUmVuZGVyZXIgPSAodGZMaXRlLCBjYWxsKSA9PiB7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kRmlsdGVyLCBiYWNrZ3JvdW5kQmx1ckxldmVsLCBiYWNrZ3JvdW5kSW1hZ2UgfSA9IHVzZUJhY2tncm91bmRGaWx0ZXJzKCk7XG4gICAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGJnSW1hZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW3ZpZGVvU2l6ZSwgc2V0VmlkZW9TaXplXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgd2lkdGg6IDE5MjAsXG4gICAgICAgIGhlaWdodDogMTA4MCxcbiAgICB9KTtcbiAgICBjb25zdCBzdGFydCA9IHVzZUNhbGxiYWNrKChtcywgb25FcnJvcikgPT4ge1xuICAgICAgICBsZXQgb3V0cHV0U3RyZWFtO1xuICAgICAgICBsZXQgcmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghYmFja2dyb3VuZEZpbHRlcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIGZpbHRlciBzcGVjaWZpZWQnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmlkZW9FbCA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNFbCA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgYmdJbWFnZUVsID0gYmdJbWFnZVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCF2aWRlb0VsIHx8ICFjYW52YXNFbCB8fCAoYmFja2dyb3VuZEltYWdlICYmICFiZ0ltYWdlRWwpKSB7XG4gICAgICAgICAgICAgICAgLy8gWW91IHNob3VsZCBzdGFydCByZW5kZXJlciBpbiBlZmZlY3Qgb3IgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZW5kZXJlciBzdGFydGVkIGJlZm9yZSBlbGVtZW50cyBhcmUgcmVhZHknKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlkZW9FbC5zcmNPYmplY3QgPSBtcztcbiAgICAgICAgICAgIHZpZGVvRWwucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt0cmFja10gPSBtcy5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgICAgICAgICAgIGlmICghdHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm8gdmlkZW8gdHJhY2tzIGluIGlucHV0IG1lZGlhIHN0cmVhbScpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja1NldHRpbmdzID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4gc2V0VmlkZW9TaXplKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRyYWNrU2V0dGluZ3Mud2lkdGggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0cmFja1NldHRpbmdzLmhlaWdodCA/PyAwLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBjYWxsPy50cmFjZXIudHJhY2UoJ2JhY2tncm91bmRGaWx0ZXJzLmVuYWJsZScsIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEJsdXJMZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIodGZMaXRlLCB2aWRlb0VsLCBjYW52YXNFbCwge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGJnSW1hZ2VFbCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSwgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgb3V0cHV0U3RyZWFtID0gY2FudmFzRWwuY2FwdHVyZVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb3VsZCBub3QgcGxheSB0aGUgc291cmNlIHZpZGVvIHN0cmVhbScpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgIHN0b3A6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsPy50cmFjZXIudHJhY2UoJ2JhY2tncm91bmRGaWx0ZXJzLmRpc2FibGUnLCBudWxsKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlcj8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dFN0cmVhbSlcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZU9mTWVkaWFTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICBiYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgIGNhbGw/LnRyYWNlcixcbiAgICAgICAgdGZMaXRlLFxuICAgIF0pO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNcIiwgY2hpbGRyZW46IFtqc3goXCJ2aWRlb1wiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX3ZpZGVvJywgdmlkZW9TaXplLmhlaWdodCA+IHZpZGVvU2l6ZS53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX3ZpZGVvLS10YWxsJyksIHJlZjogdmlkZW9SZWYsIHBsYXlzSW5saW5lOiB0cnVlLCBtdXRlZDogdHJ1ZSwgY29udHJvbHM6IGZhbHNlLCAuLi52aWRlb1NpemUgfSksIGJhY2tncm91bmRJbWFnZSAmJiAoanN4KFwiaW1nXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX19iYWNrZ3JvdW5kLWltYWdlXCIsIGFsdDogXCJCYWNrZ3JvdW5kXCIsIHJlZjogYmdJbWFnZVJlZiwgY3Jvc3NPcmlnaW46IFwiYW5vbnltb3VzXCIsIHNyYzogYmFja2dyb3VuZEltYWdlLCAuLi52aWRlb1NpemUgfSkpLCBqc3goXCJjYW52YXNcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX3RhcmdldC1jYW52YXNcIiwgLi4udmlkZW9TaXplLCByZWY6IGNhbnZhc1JlZiB9KV0gfSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBjaGlsZHJlbixcbiAgICB9O1xufTtcblxuY29uc3QgSWNvbkJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gSWNvbkJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyBpY29uLCBlbmFibGVkLCB2YXJpYW50LCBvbkNsaWNrLCBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtY29udHJvbHNfX2J1dHRvbicsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgW2BzdHItdmlkZW9fX2NhbGwtY29udHJvbHNfX2J1dHRvbi0tdmFyaWFudC0ke3ZhcmlhbnR9YF06IHZhcmlhbnQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24tLWVuYWJsZWQnOiBlbmFibGVkLFxuICAgICAgICB9KSwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG9uQ2xpY2s/LihlKTtcbiAgICAgICAgfSwgcmVmOiByZWYsIC4uLnJlc3QsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBpY29uIH0pIH0pKTtcbn0pO1xuXG5jb25zdCBDb21wb3NpdGVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIENvbXBvc2l0ZUJ1dHRvbih7IGRpc2FibGVkLCBjYXB0aW9uLCBjaGlsZHJlbiwgY2xhc3NOYW1lLCBhY3RpdmUsIE1lbnUsIG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQsIHRpdGxlLCBUb2dnbGVNZW51QnV0dG9uID0gRGVmYXVsdFRvZ2dsZU1lbnVCdXR0b24sIHZhcmlhbnQsIG9uQ2xpY2ssIG9uTWVudVRvZ2dsZSwgLi4ucmVzdEJ1dHRvblByb3BzIH0sIHJlZikge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uJywgY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uLS1jYXB0aW9uJzogY2FwdGlvbixcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b24tLW1lbnUnOiBNZW51LFxuICAgICAgICB9KSwgdGl0bGU6IHRpdGxlLCByZWY6IHJlZiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cCcsIHtcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uLWdyb3VwLS1hY3RpdmUnOiBhY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tYWN0aXZlLXByaW1hcnknOiBhY3RpdmUgJiYgdmFyaWFudCA9PT0gJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWFjdGl2ZS1zZWNvbmRhcnknOiBhY3RpdmUgJiYgdmFyaWFudCA9PT0gJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICB9KSwgY2hpbGRyZW46IFtqc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b25cIiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz8uKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZGlzYWJsZWQ6IGRpc2FibGVkLCAuLi5yZXN0QnV0dG9uUHJvcHMsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSwgTWVudSAmJiAoanN4KE1lbnVUb2dnbGUsIHsgb2Zmc2V0OiBtZW51T2Zmc2V0LCBwbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlTWVudUJ1dHRvbiwgb25Ub2dnbGU6IG9uTWVudVRvZ2dsZSwgY2hpbGRyZW46IGlzQ29tcG9uZW50VHlwZShNZW51KSA/IGpzeChNZW51LCB7fSkgOiBNZW51IH0pKV0gfSksIGNhcHRpb24gJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2NhcHRpb25cIiwgY2hpbGRyZW46IGNhcHRpb24gfSkpXSB9KSk7XG59KTtcbmNvbnN0IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0VG9nZ2xlTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19tZW51LXRvZ2dsZS1idXR0b24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19tZW51LXRvZ2dsZS1idXR0b24tLWFjdGl2ZSc6IG1lbnVTaG93bixcbiAgICAgICAgfSksIGljb246IG1lbnVTaG93biA/ICdjYXJldC1kb3duJyA6ICdjYXJldC11cCcsIHJlZjogcmVmIH0pKTtcbn0pO1xuXG5jb25zdCBUZXh0QnV0dG9uID0gKHsgY2hpbGRyZW4sIC4uLnJlc3QgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgLi4ucmVzdCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdGV4dC1idXR0b25cIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IEFjY2VwdENhbGxCdXR0b24gPSAoeyBkaXNhYmxlZCwgb25BY2NlcHQsIG9uQ2xpY2ssIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbCkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC5qb2luKCk7XG4gICAgICAgICAgICBvbkFjY2VwdD8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25BY2NlcHQsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWFjY2VwdFwiLCB2YXJpYW50OiBcInN1Y2Nlc3NcIiwgXCJkYXRhLXRlc3RpZFwiOiBcImFjY2VwdC1jYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVDbGljayB9KSk7XG59O1xuXG5jb25zdCBOb3RpZmljYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGlzVmlzaWJsZSwgbWVzc2FnZSwgY2hpbGRyZW4sIHZpc2liaWxpdHlUaW1lb3V0LCByZXNldElzVmlzaWJsZSwgcGxhY2VtZW50ID0gJ3RvcCcsIGljb25DbGFzc05hbWUgPSAnc3RyLXZpZGVvX19ub3RpZmljYXRpb25fX2ljb24nLCBjbG9zZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3kgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNWaXNpYmxlIHx8ICF2aXNpYmlsaXR5VGltZW91dCB8fCAhcmVzZXRJc1Zpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0SXNWaXNpYmxlKCk7XG4gICAgICAgIH0sIHZpc2liaWxpdHlUaW1lb3V0KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9LCBbaXNWaXNpYmxlLCByZXNldElzVmlzaWJsZSwgdmlzaWJpbGl0eVRpbWVvdXRdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCBjaGlsZHJlbjogW2lzVmlzaWJsZSAmJiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vdGlmaWNhdGlvblwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtpY29uQ2xhc3NOYW1lICYmIGpzeChcImlcIiwgeyBjbGFzc05hbWU6IGljb25DbGFzc05hbWUgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IG1lc3NhZ2UgfSksIGNsb3NlID8gKGpzeChcImlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19pY29uIHN0ci12aWRlb19faWNvbi0tY2xvc2Ugc3RyLXZpZGVvX19ub3RpZmljYXRpb25fX2Nsb3NlXCIsIG9uQ2xpY2s6IGNsb3NlIH0pKSA6IG51bGxdIH0pKSwgY2hpbGRyZW5dIH0pKTtcbn07XG5cbmNvbnN0IFBlcm1pc3Npb25Ob3RpZmljYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHBlcm1pc3Npb24sIGlzQXdhaXRpbmdBcHByb3ZhbCwgbWVzc2FnZUFwcHJvdmVkLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbCwgbWVzc2FnZVJldm9rZWQsIHZpc2liaWxpdHlUaW1lb3V0ID0gMzUwMCwgY2hpbGRyZW4sIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB1c2VIYXNQZXJtaXNzaW9ucyhwZXJtaXNzaW9uKTtcbiAgICBjb25zdCBwcmV2SGFzUGVybWlzc2lvbiA9IHVzZVJlZihoYXNQZXJtaXNzaW9uKTtcbiAgICBjb25zdCBbc2hvd05vdGlmaWNhdGlvbiwgc2V0U2hvd05vdGlmaWNhdGlvbl0gPSB1c2VTdGF0ZSgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uICYmICFwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRTaG93Tm90aWZpY2F0aW9uKCdncmFudGVkJyk7XG4gICAgICAgICAgICBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaGFzUGVybWlzc2lvbiAmJiBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRTaG93Tm90aWZpY2F0aW9uKCdyZXZva2VkJyk7XG4gICAgICAgICAgICBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCBbaGFzUGVybWlzc2lvbl0pO1xuICAgIGNvbnN0IHJlc2V0SXNWaXNpYmxlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2hvd05vdGlmaWNhdGlvbih1bmRlZmluZWQpLCBbXSk7XG4gICAgaWYgKGlzQXdhaXRpbmdBcHByb3ZhbCkge1xuICAgICAgICByZXR1cm4gKGpzeChOb3RpZmljYXRpb24sIHsgaXNWaXNpYmxlOiBpc0F3YWl0aW5nQXBwcm92YWwgJiYgIWhhc1Blcm1pc3Npb24sIG1lc3NhZ2U6IG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChOb3RpZmljYXRpb24sIHsgaXNWaXNpYmxlOiAhIXNob3dOb3RpZmljYXRpb24sIHZpc2liaWxpdHlUaW1lb3V0OiB2aXNpYmlsaXR5VGltZW91dCwgcmVzZXRJc1Zpc2libGU6IHJlc2V0SXNWaXNpYmxlLCBtZXNzYWdlOiBzaG93Tm90aWZpY2F0aW9uID09PSAnZ3JhbnRlZCcgPyBtZXNzYWdlQXBwcm92ZWQgOiBtZXNzYWdlUmV2b2tlZCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiA9ICh7IGNoaWxkcmVuLCB0ZXh0LCBwbGFjZW1lbnQsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmdXaGlsZU11dGVkIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBtZXNzYWdlID0gdGV4dCA/PyB0KCdZb3UgYXJlIG11dGVkLiBVbm11dGUgdG8gc3BlYWsuJyk7XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IG1lc3NhZ2U6IG1lc3NhZ2UsIGlzVmlzaWJsZTogaXNTcGVha2luZ1doaWxlTXV0ZWQsIHBsYWNlbWVudDogcGxhY2VtZW50IHx8ICd0b3Atc3RhcnQnLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgUmVjb3JkaW5nSW5Qcm9ncmVzc05vdGlmaWNhdGlvbiA9ICh7IGNoaWxkcmVuLCB0ZXh0LCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgY29uc3QgW2lzVmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQgPz8gdCgnUmVjb3JkaW5nIGluIHByb2dyZXNzLi4uJyk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXSk7XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IG1lc3NhZ2U6IG1lc3NhZ2UsIGljb25DbGFzc05hbWU6IFwic3RyLXZpZGVvX19pY29uIHN0ci12aWRlb19faWNvbi0tcmVjb3JkaW5nLW9uXCIsIGlzVmlzaWJsZTogaXNWaXNpYmxlLCBwbGFjZW1lbnQ6IFwidG9wLXN0YXJ0XCIsIGNsb3NlOiAoKSA9PiBzZXRWaXNpYmxlKGZhbHNlKSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSAoeyBjbGFzc05hbWUsIHR5cGUgPSAnc3Bpbm5lcicsIHRleHQsIHRvb2x0aXAsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3InLCBjbGFzc05hbWUpLCB0aXRsZTogdG9vbHRpcCwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3JfX2ljb24nLCB0eXBlKSB9KSwgdGV4dCAmJiBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3ItdGV4dFwiLCBjaGlsZHJlbjogdGV4dCB9KV0gfSkpO1xufTtcblxuY29uc3QgVG9vbHRpcCA9ICh7IGNoaWxkcmVuLCByZWZlcmVuY2VFbGVtZW50LCB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50ID0gJ3RvcCcsIHZpc2libGUgPSBmYWxzZSwgfSkgPT4ge1xuICAgIGNvbnN0IGFycm93UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3ksIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQ6IHRvb2x0aXBQbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgICAgICBtaWRkbGV3YXJlOiBbYXJyb3coeyBlbGVtZW50OiBhcnJvd1JlZiB9KV0sXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmVmcy5zZXRSZWZlcmVuY2UocmVmZXJlbmNlRWxlbWVudCk7XG4gICAgfSwgW3JlZmVyZW5jZUVsZW1lbnQsIHJlZnNdKTtcbiAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX190b29sdGlwJywgdG9vbHRpcENsYXNzTmFtZSksIHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgbGVmdDogeCA/PyAwLFxuICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChGbG9hdGluZ0Fycm93LCB7IHJlZjogYXJyb3dSZWYsIGNvbnRleHQ6IGNvbnRleHQsIGZpbGw6IFwidmFyKC0tc3RyLXZpZGVvX190b29sdGlwLS1iYWNrZ3JvdW5kLWNvbG9yKVwiIH0pLCBjaGlsZHJlbl0gfSkpO1xufTtcblxuY29uc3QgdXNlRW50ZXJMZWF2ZUhhbmRsZXJzID0gKHsgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUsIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IFt0b29sdGlwVmlzaWJsZSwgc2V0VG9vbHRpcFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgb25Nb3VzZUVudGVyPy4oZSk7XG4gICAgfSwgW29uTW91c2VFbnRlcl0pO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIG9uTW91c2VMZWF2ZT8uKGUpO1xuICAgIH0sIFtvbk1vdXNlTGVhdmVdKTtcbiAgICByZXR1cm4geyBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZUxlYXZlLCB0b29sdGlwVmlzaWJsZSB9O1xufTtcblxuLy8gdG9kbzogZHVwbGljYXRlIG9mIENhbGxQYXJ0aWNpcGFudExpc3QudHN4I01lZGlhSW5kaWNhdG9yIC0gcmVmYWN0b3IgdG8gYSBzaW5nbGUgY29tcG9uZW50XG5jb25zdCBXaXRoVG9vbHRpcCA9ICh7IHRpdGxlLCB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50LCB0b29sdGlwRGlzYWJsZWQsIC4uLnByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGhhbmRsZU1vdXNlRW50ZXIsIGhhbmRsZU1vdXNlTGVhdmUsIHRvb2x0aXBWaXNpYmxlIH0gPSB1c2VFbnRlckxlYXZlSGFuZGxlcnMoKTtcbiAgICBjb25zdCBbdG9vbHRpcEFuY2hvciwgc2V0VG9vbHRpcEFuY2hvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB0b29sdGlwQWN0dWFsbHlWaXNpYmxlID0gIXRvb2x0aXBEaXNhYmxlZCAmJiBCb29sZWFuKHRpdGxlKSAmJiB0b29sdGlwVmlzaWJsZTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goVG9vbHRpcCwgeyByZWZlcmVuY2VFbGVtZW50OiB0b29sdGlwQW5jaG9yLCB2aXNpYmxlOiB0b29sdGlwQWN0dWFsbHlWaXNpYmxlLCB0b29sdGlwQ2xhc3NOYW1lOiB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50OiB0b29sdGlwUGxhY2VtZW50LCBjaGlsZHJlbjogdGl0bGUgfHwgJycgfSksIGpzeChcImRpdlwiLCB7IHJlZjogc2V0VG9vbHRpcEFuY2hvciwgb25Nb3VzZUVudGVyOiBoYW5kbGVNb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsIC4uLnByb3BzIH0pXSB9KSk7XG59O1xuXG5jb25zdCBSZWNvcmRFbmRDb25maXJtYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vblwiIH0pLCBqc3goXCJoMlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2hlYWRpbmdcIiwgY2hpbGRyZW46IHQoJ0VuZCByZWNvcmRpbmcnKSB9KV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IGVuZCB0aGUgcmVjb3JkaW5nPycpIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19fYWN0aW9uc1wiLCBjaGlsZHJlbjogW2pzeChDb21wb3NpdGVCdXR0b24sIHsgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgb25DbGljazogY2xvc2UsIGNoaWxkcmVuOiB0KCdDYW5jZWwnKSB9KSwganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyB2YXJpYW50OiBcInByaW1hcnlcIiwgb25DbGljazogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkgOiB0KCdFbmQgcmVjb3JkaW5nJykgfSldIH0pXSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlRW5kUmVjb3JkaW5nTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlRW5kUmVjb3JkaW5nTWVudUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIChqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IHRydWUsIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogXCJyZWNvcmRpbmctc3RvcC1idXR0b25cIiwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwicmVjb3JkaW5nLW9mZlwiIH0pIH0pKTtcbn0pO1xuY29uc3QgUmVjb3JkQ2FsbENvbmZpcm1hdGlvbkJ1dHRvbiA9ICh7IGNhcHRpb24sIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIF0sIGNoaWxkcmVuOiBqc3goTWVudVRvZ2dsZSwgeyBUb2dnbGVCdXR0b246IFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24sIHZpc3VhbFR5cGU6IE1lbnVWaXN1YWxUeXBlLlBPUlRBTCwgY2hpbGRyZW46IGpzeChSZWNvcmRFbmRDb25maXJtYXRpb24sIHt9KSB9KSB9KSk7XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlID0gaXNBd2FpdGluZ1Jlc3BvbnNlXG4gICAgICAgID8gdCgnV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0YXJ0Li4uJylcbiAgICAgICAgOiAoY2FwdGlvbiA/PyB0KCdSZWNvcmQgY2FsbCcpKTtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVE9QX1JFQ09SRF9DQUxMLFxuICAgICAgICBdLCBjaGlsZHJlbjoganN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0aXRsZSwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IFwicmVjb3JkaW5nLXN0YXJ0LWJ1dHRvblwiLCBvbkNsaWNrOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyB1bmRlZmluZWQgOiB0b2dnbGVDYWxsUmVjb3JkaW5nLCBjaGlsZHJlbjogaXNBd2FpdGluZ1Jlc3BvbnNlID8gKGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkpIDogKGpzeChJY29uLCB7IGljb246IFwicmVjb3JkaW5nLW9mZlwiIH0pKSB9KSB9KSB9KSk7XG59O1xuY29uc3QgUmVjb3JkQ2FsbEJ1dHRvbiA9ICh7IGNhcHRpb24gfSkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgdG9nZ2xlQ2FsbFJlY29yZGluZywgaXNBd2FpdGluZ1Jlc3BvbnNlLCBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgbGV0IHRpdGxlID0gY2FwdGlvbiA/PyB0KCdSZWNvcmQgY2FsbCcpO1xuICAgIGlmIChpc0F3YWl0aW5nUmVzcG9uc2UpIHtcbiAgICAgICAgdGl0bGUgPSBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXG4gICAgICAgICAgICA/IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdG9wLi4uJylcbiAgICAgICAgICAgIDogdCgnV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0YXJ0Li4uJyk7XG4gICAgfVxuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RBUlRfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgIF0sIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcywgY2FwdGlvbjogY2FwdGlvbiwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgPyAncmVjb3JkaW5nLXN0b3AtYnV0dG9uJ1xuICAgICAgICAgICAgICAgIDogJ3JlY29yZGluZy1zdGFydC1idXR0b24nLCB0aXRsZTogdGl0bGUsIG9uQ2xpY2s6IGlzQXdhaXRpbmdSZXNwb25zZSA/IHVuZGVmaW5lZCA6IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGNoaWxkcmVuOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyAoanN4KExvYWRpbmdJbmRpY2F0b3IsIHt9KSkgOiAoanN4KEljb24sIHsgaWNvbjogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyA/ICdyZWNvcmRpbmctb24nIDogJ3JlY29yZGluZy1vZmYnIH0pKSB9KSB9KSk7XG59O1xuXG5jb25zdCBkZWZhdWx0RW1vamlSZWFjdGlvbk1hcCA9IHtcbiAgICAnOmxpa2U6JzogJ/CfkY0nLFxuICAgICc6cmFpc2UtaGFuZDonOiAn4pyLJyxcbiAgICAnOmZpcmV3b3JrczonOiAn8J+OiScsXG4gICAgJzpkaXNsaWtlOic6ICfwn5GOJyxcbiAgICAnOmhlYXJ0Oic6ICfinaTvuI8nLFxuICAgICc6c21pbGU6JzogJ/CfmIAnLFxufTtcbmNvbnN0IFJlYWN0aW9uID0gKHsgcGFydGljaXBhbnQ6IHsgcmVhY3Rpb24sIHNlc3Npb25JZCB9LCBoaWRlQWZ0ZXJUaW1lb3V0SW5NcyA9IDU1MDAsIGVtb2ppUmVhY3Rpb25NYXAgPSBkZWZhdWx0RW1vamlSZWFjdGlvbk1hcCwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFyZWFjdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYWxsLnJlc2V0UmVhY3Rpb24oc2Vzc2lvbklkKTtcbiAgICAgICAgfSwgaGlkZUFmdGVyVGltZW91dEluTXMpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGhpZGVBZnRlclRpbWVvdXRJbk1zLCByZWFjdGlvbiwgc2Vzc2lvbklkXSk7XG4gICAgaWYgKCFyZWFjdGlvbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgeyBlbW9qaV9jb2RlOiBlbW9qaUNvZGUgfSA9IHJlYWN0aW9uO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcmVhY3Rpb25cIiwgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19yZWFjdGlvbl9fZW1vamlcIiwgY2hpbGRyZW46IGVtb2ppQ29kZSAmJiBlbW9qaVJlYWN0aW9uTWFwW2Vtb2ppQ29kZV0gfSkgfSkpO1xufTtcblxuY29uc3QgZGVmYXVsdFJlYWN0aW9ucyA9IFtcbiAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFjdGlvbicsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6bGlrZTonLFxuICAgIH0sXG4gICAge1xuICAgICAgICAvLyBUT0RPIE9MOiB1c2UgYHByb21wdGAgdHlwZT9cbiAgICAgICAgdHlwZTogJ3JhaXNlZC1oYW5kJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpyYWlzZS1oYW5kOicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFjdGlvbicsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6ZmlyZXdvcmtzOicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFjdGlvbicsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6ZGlzbGlrZTonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmhlYXJ0OicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFjdGlvbicsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6c21pbGU6JyxcbiAgICB9LFxuXTtcbmNvbnN0IFJlYWN0aW9uc0J1dHRvbiA9ICh7IHJlYWN0aW9ucyA9IGRlZmF1bHRSZWFjdGlvbnMsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5DUkVBVEVfUkVBQ1RJT05dLCBjaGlsZHJlbjoganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZVJlYWN0aW9uc01lbnVCdXR0b24sIHZpc3VhbFR5cGU6IE1lbnVWaXN1YWxUeXBlLk1FTlUsIGNoaWxkcmVuOiBqc3goRGVmYXVsdFJlYWN0aW9uc01lbnUsIHsgcmVhY3Rpb25zOiByZWFjdGlvbnMgfSkgfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZVJlYWN0aW9uc01lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZVJlYWN0aW9uc01lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IHQoJ1JlYWN0aW9ucycpLCB0b29sdGlwRGlzYWJsZWQ6IG1lbnVTaG93biwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgcmVmOiByZWYsIGFjdGl2ZTogbWVudVNob3duLCB2YXJpYW50OiBcInByaW1hcnlcIiwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwicmVhY3Rpb25zXCIgfSkgfSkgfSkpO1xufSk7XG5jb25zdCBEZWZhdWx0UmVhY3Rpb25zTWVudSA9ICh7IHJlYWN0aW9ucywgbGF5b3V0ID0gJ2hvcml6b250YWwnLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3JlYWN0aW9ucy1tZW51Jywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fcmVhY3Rpb25zLW1lbnUtLWhvcml6b250YWwnOiBsYXlvdXQgPT09ICdob3Jpem9udGFsJyxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3JlYWN0aW9ucy1tZW51LS12ZXJ0aWNhbCc6IGxheW91dCA9PT0gJ3ZlcnRpY2FsJyxcbiAgICAgICAgfSksIGNoaWxkcmVuOiByZWFjdGlvbnMubWFwKChyZWFjdGlvbikgPT4gKGpzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3JlYWN0aW9ucy1tZW51X19idXR0b25cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGw/LnNlbmRSZWFjdGlvbihyZWFjdGlvbik7XG4gICAgICAgICAgICAgICAgY2xvc2U/LigpO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IHJlYWN0aW9uLmVtb2ppX2NvZGUgJiYgZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXBbcmVhY3Rpb24uZW1vamlfY29kZV0gfSwgcmVhY3Rpb24uZW1vamlfY29kZSkpKSB9KSk7XG59O1xuXG4vKipcbiAqIFdyYXBzIGFuIGV2ZW50IGhhbmRsZXIsIHNpbGVuY2luZyBhbmQgbG9nZ2luZyBleGNlcHRpb25zIChleGNsdWRpbmcgdGhlIE5vdEFsbG93ZWRFcnJvclxuICogRE9NRXhjZXB0aW9uLCB3aGljaCBpcyBhIG5vcm1hbCBzaXR1YXRpb24gaGFuZGxlZCBieSB0aGUgU0RLKVxuICpcbiAqIEBwYXJhbSBwcm9wcyBjb21wb25lbnQgcHJvcHMsIGluY2x1ZGluZyB0aGUgb25FcnJvciBjYWxsYmFja1xuICogQHBhcmFtIGhhbmRsZXIgZXZlbnQgaGFuZGxlciB0byB3cmFwXG4gKi9cbmNvbnN0IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlciA9IChwcm9wcywgaGFuZGxlcikgPT4ge1xuICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ3JlYWN0LXNkayddKTtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHByb3BzLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzTm90QWxsb3dlZEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnQ2FsbCBjb250cm9sIGhhbmRsZXIgZmFpbGVkJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG5mdW5jdGlvbiBpc05vdEFsbG93ZWRFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiBlcnJvci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJztcbn1cblxuY29uc3QgU2NyZWVuU2hhcmVCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlLCB1c2VTY3JlZW5TaGFyZVN0YXRlLCB1c2VDYWxsU2V0dGluZ3MgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaXNTb21lb25lU2NyZWVuU2hhcmluZyA9IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSgpO1xuICAgIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgcmVxdWVzdFBlcm1pc3Npb24sIGlzQXdhaXRpbmdQZXJtaXNzaW9uIH0gPSB1c2VSZXF1ZXN0UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKTtcbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBpc1NjcmVlblNoYXJpbmdBbGxvd2VkID0gY2FsbFNldHRpbmdzPy5zY3JlZW5zaGFyaW5nLmVuYWJsZWQ7XG4gICAgY29uc3QgeyBzY3JlZW5TaGFyZSwgb3B0aW1pc3RpY0lzTXV0ZSB9ID0gdXNlU2NyZWVuU2hhcmVTdGF0ZSgpO1xuICAgIGNvbnN0IGFtSVNjcmVlblNoYXJpbmcgPSAhb3B0aW1pc3RpY0lzTXV0ZTtcbiAgICBjb25zdCBkaXNhYmxlU2NyZWVuU2hhcmVCdXR0b24gPSAhYW1JU2NyZWVuU2hhcmluZyAmJlxuICAgICAgICAoaXNTb21lb25lU2NyZWVuU2hhcmluZyB8fCBpc1NjcmVlblNoYXJpbmdBbGxvd2VkID09PSBmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIocHJvcHMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgc2NyZWVuU2hhcmUudG9nZ2xlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV0sIGNoaWxkcmVuOiBqc3goUGVybWlzc2lvbk5vdGlmaWNhdGlvbiwgeyBwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNoYXJlIHlvdXIgc2NyZWVuLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHNjcmVlbi4nKSwgbWVzc2FnZVJldm9rZWQ6IHQoJ1lvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLicpLCBjaGlsZHJlbjoganN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiBjYXB0aW9uID8/IHQoJ1NoYXJlIHNjcmVlbicpLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgfHwgYW1JU2NyZWVuU2hhcmluZywgY2FwdGlvbjogY2FwdGlvbiwgdmFyaWFudDogXCJwcmltYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogaXNTb21lb25lU2NyZWVuU2hhcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnc2NyZWVuLXNoYXJlLXN0b3AtYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnc2NyZWVuLXNoYXJlLXN0YXJ0LWJ1dHRvbicsIGRpc2FibGVkOiBkaXNhYmxlU2NyZWVuU2hhcmVCdXR0b24sIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogaXNTb21lb25lU2NyZWVuU2hhcmluZyA/ICdzY3JlZW4tc2hhcmUtb24nIDogJ3NjcmVlbi1zaGFyZS1vZmYnIH0pIH0pIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IFNlbGVjdENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcbmNvbnN0IFNlbGVjdCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGljb24sIGRlZmF1bHRTZWxlY3RlZExhYmVsLCBkZWZhdWx0U2VsZWN0ZWRJbmRleCwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3RQcm9wLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbYWN0aXZlSW5kZXgsIHNldEFjdGl2ZUluZGV4XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtzZWxlY3RlZEluZGV4LCBzZXRTZWxlY3RlZEluZGV4XSA9IHVzZVN0YXRlKGRlZmF1bHRTZWxlY3RlZEluZGV4KTtcbiAgICBjb25zdCBbc2VsZWN0ZWRMYWJlbCwgc2V0U2VsZWN0ZWRMYWJlbF0gPSB1c2VTdGF0ZShkZWZhdWx0U2VsZWN0ZWRMYWJlbCk7XG4gICAgY29uc3QgeyByZWZzLCBjb250ZXh0IH0gPSB1c2VGbG9hdGluZyh7XG4gICAgICAgIHBsYWNlbWVudDogJ2JvdHRvbS1zdGFydCcsXG4gICAgICAgIG9wZW46IGlzT3BlbixcbiAgICAgICAgb25PcGVuQ2hhbmdlOiBzZXRJc09wZW4sXG4gICAgICAgIHdoaWxlRWxlbWVudHNNb3VudGVkOiBhdXRvVXBkYXRlLFxuICAgICAgICBtaWRkbGV3YXJlOiBbZmxpcCgpXSxcbiAgICB9KTtcbiAgICBjb25zdCBlbGVtZW50c1JlZiA9IHVzZVJlZihbXSk7XG4gICAgY29uc3QgbGFiZWxzUmVmID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSB1c2VDYWxsYmFjaygoaW5kZXgpID0+IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gICAgICAgIGhhbmRsZVNlbGVjdFByb3AoaW5kZXggfHwgMCk7XG4gICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRMYWJlbChsYWJlbHNSZWYuY3VycmVudFtpbmRleF0pO1xuICAgICAgICB9XG4gICAgfSwgW2hhbmRsZVNlbGVjdFByb3BdKTtcbiAgICBjb25zdCBoYW5kbGVUeXBlYWhlYWRNYXRjaCA9IChpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVJbmRleChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoaW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsaXN0TmF2ID0gdXNlTGlzdE5hdmlnYXRpb24oY29udGV4dCwge1xuICAgICAgICBsaXN0UmVmOiBlbGVtZW50c1JlZixcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgICAgIG9uTmF2aWdhdGU6IHNldEFjdGl2ZUluZGV4LFxuICAgIH0pO1xuICAgIGNvbnN0IHR5cGVhaGVhZCA9IHVzZVR5cGVhaGVhZChjb250ZXh0LCB7XG4gICAgICAgIGxpc3RSZWY6IGxhYmVsc1JlZixcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgICAgIG9uTWF0Y2g6IGhhbmRsZVR5cGVhaGVhZE1hdGNoLFxuICAgIH0pO1xuICAgIGNvbnN0IGNsaWNrID0gdXNlQ2xpY2soY29udGV4dCk7XG4gICAgY29uc3QgZGlzbWlzcyA9IHVzZURpc21pc3MoY29udGV4dCk7XG4gICAgY29uc3Qgcm9sZSA9IHVzZVJvbGUoY29udGV4dCwgeyByb2xlOiAnbGlzdGJveCcgfSk7XG4gICAgY29uc3QgeyBnZXRSZWZlcmVuY2VQcm9wcywgZ2V0RmxvYXRpbmdQcm9wcywgZ2V0SXRlbVByb3BzIH0gPSB1c2VJbnRlcmFjdGlvbnMoW2xpc3ROYXYsIHR5cGVhaGVhZCwgY2xpY2ssIGRpc21pc3MsIHJvbGVdKTtcbiAgICBjb25zdCBzZWxlY3RDb250ZXh0ID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBhY3RpdmVJbmRleCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgZ2V0SXRlbVByb3BzLFxuICAgICAgICBoYW5kbGVTZWxlY3QsXG4gICAgfSksIFthY3RpdmVJbmRleCwgc2VsZWN0ZWRJbmRleCwgZ2V0SXRlbVByb3BzLCBoYW5kbGVTZWxlY3RdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93blwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1zZWxlY3RlZFwiLCByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCB0YWJJbmRleDogMCwgLi4uZ2V0UmVmZXJlbmNlUHJvcHMoKSwgY2hpbGRyZW46IFtqc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1zZWxlY3RlZF9fbGFiZWxcIiwgY2hpbGRyZW46IFtpY29uICYmIChqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1zZWxlY3RlZF9faWNvblwiLCBpY29uOiBpY29uIH0pKSwgc2VsZWN0ZWRMYWJlbF0gfSksIGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkX19jaGV2cm9uXCIsIGljb246IGlzT3BlbiA/ICdjaGV2cm9uLXVwJyA6ICdjaGV2cm9uLWRvd24nIH0pXSB9KSwganN4KFNlbGVjdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHNlbGVjdENvbnRleHQsIGNoaWxkcmVuOiBpc09wZW4gJiYgKGpzeChGbG9hdGluZ0ZvY3VzTWFuYWdlciwgeyBjb250ZXh0OiBjb250ZXh0LCBtb2RhbDogZmFsc2UsIGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1saXN0XCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgLi4uZ2V0RmxvYXRpbmdQcm9wcygpLCBjaGlsZHJlbjoganN4KEZsb2F0aW5nTGlzdCwgeyBlbGVtZW50c1JlZjogZWxlbWVudHNSZWYsIGxhYmVsc1JlZjogbGFiZWxzUmVmLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkgfSkpIH0pXSB9KSk7XG59O1xuY29uc3QgRHJvcERvd25TZWxlY3RPcHRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGVkLCBsYWJlbCwgaWNvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBnZXRJdGVtUHJvcHMsIGhhbmRsZVNlbGVjdCB9ID0gdXNlQ29udGV4dChTZWxlY3RDb250ZXh0KTtcbiAgICBjb25zdCB7IHJlZiwgaW5kZXggfSA9IHVzZUxpc3RJdGVtKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2Ryb3Bkb3duLW9wdGlvbicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2Ryb3Bkb3duLW9wdGlvbi0tc2VsZWN0ZWQnOiBzZWxlY3RlZCxcbiAgICAgICAgfSksIHJlZjogcmVmLCAuLi5nZXRJdGVtUHJvcHMoe1xuICAgICAgICAgICAgb25DbGljazogKCkgPT4gaGFuZGxlU2VsZWN0KGluZGV4KSxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBbaWNvbiAmJiBqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1pY29uXCIsIGljb246IGljb24gfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1sYWJlbFwiLCBjaGlsZHJlbjogbGFiZWwgfSldIH0pKTtcbn07XG5jb25zdCBEcm9wRG93blNlbGVjdCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGljb24sIGhhbmRsZVNlbGVjdCwgZGVmYXVsdFNlbGVjdGVkTGFiZWwsIGRlZmF1bHRTZWxlY3RlZEluZGV4LCB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goU2VsZWN0LCB7IGljb246IGljb24sIGhhbmRsZVNlbGVjdDogaGFuZGxlU2VsZWN0LCBkZWZhdWx0U2VsZWN0ZWRJbmRleDogZGVmYXVsdFNlbGVjdGVkSW5kZXgsIGRlZmF1bHRTZWxlY3RlZExhYmVsOiBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IERldmljZVNlbGVjdG9yT3B0aW9uID0gKHsgZGlzYWJsZWQsIGlkLCBsYWJlbCwgb25DaGFuZ2UsIG5hbWUsIHNlbGVjdGVkLCBkZWZhdWx0Q2hlY2tlZCwgdmFsdWUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX29wdGlvbicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fb3B0aW9uLS1zZWxlY3RlZCc6IHNlbGVjdGVkLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19vcHRpb24tLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgIH0pLCBodG1sRm9yOiBpZCwgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwicmFkaW9cIiwgbmFtZTogbmFtZSwgb25DaGFuZ2U6IG9uQ2hhbmdlLCB2YWx1ZTogdmFsdWUsIGlkOiBpZCwgY2hlY2tlZDogc2VsZWN0ZWQsIGRlZmF1bHRDaGVja2VkOiBkZWZhdWx0Q2hlY2tlZCwgZGlzYWJsZWQ6IGRpc2FibGVkIH0pLCBsYWJlbF0gfSkpO1xufTtcbmNvbnN0IERldmljZVNlbGVjdG9yTGlzdCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZGV2aWNlcyA9IFtdLCBzZWxlY3RlZERldmljZUlkLCB0aXRsZSwgdHlwZSwgb25DaGFuZ2UgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgY2xvc2UgfSA9IHVzZU1lbnVDb250ZXh0KCk7XG4gICAgY29uc3QgeyBkZXZpY2VMaXN0IH0gPSB1c2VEZXZpY2VMaXN0KGRldmljZXMsIHNlbGVjdGVkRGV2aWNlSWQpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLWtpbmRcIiwgY2hpbGRyZW46IFt0aXRsZSAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pKSwgZGV2aWNlTGlzdC5tYXAoKGRldmljZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yT3B0aW9uLCB7IGlkOiBgJHt0eXBlfS0tJHtkZXZpY2UuZGV2aWNlSWR9YCwgdmFsdWU6IGRldmljZS5kZXZpY2VJZCwgbGFiZWw6IGRldmljZS5sYWJlbCwgb25DaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXZpY2VJZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldmljZUlkICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT8uKGRldmljZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgbmFtZTogdHlwZSwgc2VsZWN0ZWQ6IGRldmljZS5pc1NlbGVjdGVkIH0sIGRldmljZS5kZXZpY2VJZCkpO1xuICAgICAgICAgICAgfSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckRyb3Bkb3duID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQsIHRpdGxlLCBvbkNoYW5nZSwgaWNvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBkZXZpY2VMaXN0LCBzZWxlY3RlZERldmljZUluZm8sIHNlbGVjdGVkSW5kZXggfSA9IHVzZURldmljZUxpc3QoZGV2aWNlcywgc2VsZWN0ZWREZXZpY2VJZCk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGRldmljZUlkID0gZGV2aWNlTGlzdFtpbmRleF0uZGV2aWNlSWQ7XG4gICAgICAgIGlmIChkZXZpY2VJZCAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICBvbkNoYW5nZT8uKGRldmljZUlkKTtcbiAgICAgICAgfVxuICAgIH0sIFtkZXZpY2VMaXN0LCBvbkNoYW5nZV0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLWtpbmRcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1zZWxlY3Rvci10aXRsZVwiLCBjaGlsZHJlbjogdGl0bGUgfSksIGpzeChEcm9wRG93blNlbGVjdCwgeyBpY29uOiBpY29uLCBkZWZhdWx0U2VsZWN0ZWRJbmRleDogc2VsZWN0ZWRJbmRleCwgZGVmYXVsdFNlbGVjdGVkTGFiZWw6IHNlbGVjdGVkRGV2aWNlSW5mby5sYWJlbCwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGNoaWxkcmVuOiBkZXZpY2VMaXN0Lm1hcCgoZGV2aWNlKSA9PiAoanN4KERyb3BEb3duU2VsZWN0T3B0aW9uLCB7IGljb246IGljb24sIGxhYmVsOiBkZXZpY2UubGFiZWwsIHNlbGVjdGVkOiBkZXZpY2UuaXNTZWxlY3RlZCB9LCBkZXZpY2UuZGV2aWNlSWQpKSkgfSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdmlzdWFsVHlwZSA9ICdsaXN0JywgaWNvbiwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gICAgaWYgKHZpc3VhbFR5cGUgPT09ICdsaXN0Jykge1xuICAgICAgICByZXR1cm4ganN4KERldmljZVNlbGVjdG9yTGlzdCwgeyAuLi5yZXN0IH0pO1xuICAgIH1cbiAgICByZXR1cm4ganN4KERldmljZVNlbGVjdG9yRHJvcGRvd24sIHsgLi4ucmVzdCwgaWNvbjogaWNvbiB9KTtcbn07XG5cbmNvbnN0IERldmljZVNlbGVjdG9yQXVkaW9JbnB1dCA9ICh7IHRpdGxlLCB2aXN1YWxUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBzZWxlY3RlZERldmljZSwgZGV2aWNlcyB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3IsIHsgZGV2aWNlczogZGV2aWNlcyB8fCBbXSwgc2VsZWN0ZWREZXZpY2VJZDogc2VsZWN0ZWREZXZpY2UsIHR5cGU6IFwiYXVkaW9pbnB1dFwiLCBvbkNoYW5nZTogYXN5bmMgKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBtaWNyb3Bob25lLnNlbGVjdChkZXZpY2VJZCk7XG4gICAgICAgIH0sIHRpdGxlOiB0aXRsZSwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgaWNvbjogXCJtaWNcIiB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCA9ICh7IHRpdGxlLCB2aXN1YWxUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VTcGVha2VyU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBzcGVha2VyLCBzZWxlY3RlZERldmljZSwgZGV2aWNlcywgaXNEZXZpY2VTZWxlY3Rpb25TdXBwb3J0ZWQgfSA9IHVzZVNwZWFrZXJTdGF0ZSgpO1xuICAgIGlmICghaXNEZXZpY2VTZWxlY3Rpb25TdXBwb3J0ZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yLCB7IGRldmljZXM6IGRldmljZXMsIHR5cGU6IFwiYXVkaW9vdXRwdXRcIiwgc2VsZWN0ZWREZXZpY2VJZDogc2VsZWN0ZWREZXZpY2UsIG9uQ2hhbmdlOiAoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICAgIHNwZWFrZXIuc2VsZWN0KGRldmljZUlkKTtcbiAgICAgICAgfSwgdGl0bGU6IHRpdGxlLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBpY29uOiBcInNwZWFrZXJcIiB9KSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZWxlY3RvclZpZGVvID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZUNhbWVyYVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBkZXZpY2VzLCBzZWxlY3RlZERldmljZSB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3RvciwgeyBkZXZpY2VzOiBkZXZpY2VzIHx8IFtdLCB0eXBlOiBcInZpZGVvaW5wdXRcIiwgc2VsZWN0ZWREZXZpY2VJZDogc2VsZWN0ZWREZXZpY2UsIG9uQ2hhbmdlOiBhc3luYyAoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNhbWVyYS5zZWxlY3QoZGV2aWNlSWQpO1xuICAgICAgICB9LCB0aXRsZTogdGl0bGUsIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGljb246IFwiY2FtZXJhXCIgfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2V0dGluZ3MgPSAoeyB2aXN1YWxUeXBlID0gTWVudVZpc3VhbFR5cGUuTUVOVSwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVEZXZpY2VTZXR0aW5nc01lbnVCdXR0b24sIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGNoaWxkcmVuOiBqc3goTWVudSwge30pIH0pKTtcbn07XG5jb25zdCBNZW51ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc1wiLCBjaGlsZHJlbjogW2pzeChEZXZpY2VTZWxlY3RvclZpZGVvLCB7IHRpdGxlOiB0KCdTZWxlY3QgYSBDYW1lcmEnKSB9KSwganN4KERldmljZVNlbGVjdG9yQXVkaW9JbnB1dCwgeyB0aXRsZTogdCgnU2VsZWN0IGEgTWljJykgfSksIGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0LCB7IHRpdGxlOiB0KCdTZWxlY3QgU3BlYWtlcnMnKSB9KV0gfSkpO1xufTtcbmNvbnN0IFRvZ2dsZURldmljZVNldHRpbmdzTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlRGV2aWNlU2V0dGluZ3NNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KEljb25CdXR0b24sIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fYnV0dG9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19idXR0b24tLWFjdGl2ZSc6IG1lbnVTaG93bixcbiAgICAgICAgfSksIHRpdGxlOiB0KCdUb2dnbGUgZGV2aWNlIG1lbnUnKSwgaWNvbjogXCJkZXZpY2Utc2V0dGluZ3NcIiwgcmVmOiByZWYgfSkpO1xufSk7XG5cbmNvbnN0IFRvZ2dsZUF1ZGlvUHJldmlld0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IERldmljZVNlbGVjdG9yQXVkaW9JbnB1dCwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiwgaXNQcm9tcHRpbmdQZXJtaXNzaW9uLCB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gbWljcm9waG9uZS50b2dnbGUoKSk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNCcm93c2VyUGVybWlzc2lvblxuICAgICAgICAgICAgPyB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKVxuICAgICAgICAgICAgOiAoY2FwdGlvbiA/PyB0KCdNaWMnKSksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCBjbGFzc05hbWU6IGNsc3goIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmICdzdHItdmlkZW9fX2RldmljZS11bmF2YWlsYWJsZScpLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGVcbiAgICAgICAgICAgICAgICA/ICdwcmV2aWV3LWF1ZGlvLXVubXV0ZS1idXR0b24nXG4gICAgICAgICAgICAgICAgOiAncHJldmlldy1hdWRpby1tdXRlLWJ1dHRvbicsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246ICFvcHRpbWlzdGljSXNNdXRlID8gJ21pYycgOiAnbWljLW9mZicgfSksICFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgdGl0bGU6IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciBhdWRpbyBwZXJtaXNzaW9ucycpLCBjaGlsZHJlbjogXCIhXCIgfSkpLCBpc1Byb21wdGluZ1Blcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZW5kaW5nLXBlcm1pc3Npb25cIiwgdGl0bGU6IHQoJ1dhaXRpbmcgZm9yIHBlcm1pc3Npb24nKSwgY2hpbGRyZW46IFwiP1wiIH0pKV0gfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIHsgdmlzdWFsVHlwZTogXCJsaXN0XCIgfSksIG1lbnVQbGFjZW1lbnQgPSAndG9wJywgb25NZW51VG9nZ2xlLCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgcmVxdWVzdFBlcm1pc3Npb24sIGlzQXdhaXRpbmdQZXJtaXNzaW9uIH0gPSB1c2VSZXF1ZXN0UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pO1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24sIGlzUHJvbXB0aW5nUGVybWlzc2lvbiwgfSA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIGNvbnN0IFt0b29sdGlwRGlzYWJsZWQsIHNldFRvb2x0aXBEaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIocHJvcHMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgbWljcm9waG9uZS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNwZWFrLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLicpLCBtZXNzYWdlUmV2b2tlZDogdCgnWW91IGNhbiBubyBsb25nZXIgc3BlYWsuJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8gdCgnWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIGF1ZGlvJylcbiAgICAgICAgICAgICAgICAgICAgOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIG1pYyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChjYXB0aW9uID8/IHQoJ01pYycpKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24gfHwgIWhhc1Blcm1pc3Npb24sIFwiZGF0YS10ZXN0aWRcIjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdhdWRpby11bm11dGUtYnV0dG9uJyA6ICdhdWRpby1tdXRlLWJ1dHRvbicsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBtZW51T2Zmc2V0OiAxNiwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBvcHRpbWlzdGljSXNNdXRlID8gJ21pYy1vZmYnIDogJ21pYycgfSksICghaGFzQnJvd3NlclBlcm1pc3Npb24gfHwgIWhhc1Blcm1pc3Npb24pICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm8tbWVkaWEtcGVybWlzc2lvblwiLCBjaGlsZHJlbjogXCIhXCIgfSkpLCBpc1Byb21wdGluZ1Blcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZW5kaW5nLXBlcm1pc3Npb25cIiwgdGl0bGU6IHQoJ1dhaXRpbmcgZm9yIHBlcm1pc3Npb24nKSwgY2hpbGRyZW46IFwiP1wiIH0pKV0gfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlVmlkZW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JWaWRlbywgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGNhbWVyYSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24sIGlzUHJvbXB0aW5nUGVybWlzc2lvbiwgfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gY2FtZXJhLnRvZ2dsZSgpKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICA6IChjYXB0aW9uID8/IHQoJ1ZpZGVvJykpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeHMoQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogb3B0aW1pc3RpY0lzTXV0ZSwgY2FwdGlvbjogY2FwdGlvbiwgY2xhc3NOYW1lOiBjbHN4KCFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAnc3RyLXZpZGVvX19kZXZpY2UtdW5hdmFpbGFibGUnKSwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlXG4gICAgICAgICAgICAgICAgPyAncHJldmlldy12aWRlby11bm11dGUtYnV0dG9uJ1xuICAgICAgICAgICAgICAgIDogJ3ByZXZpZXctdmlkZW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgZGlzYWJsZWQ6ICFoYXNCcm93c2VyUGVybWlzc2lvbiwgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiAhb3B0aW1pc3RpY0lzTXV0ZSA/ICdjYW1lcmEnIDogJ2NhbWVyYS1vZmYnIH0pLCAhaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdDaGVjayB5b3VyIGJyb3dzZXIgdmlkZW8gcGVybWlzc2lvbnMnKSwgY2hpbGRyZW46IFwiIVwiIH0pKSwgaXNQcm9tcHRpbmdQZXJtaXNzaW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVuZGluZy1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdXYWl0aW5nIGZvciBwZXJtaXNzaW9uJyksIGNoaWxkcmVuOiBcIj9cIiB9KSldIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBqc3goRGV2aWNlU2VsZWN0b3JWaWRlbywgeyB2aXN1YWxUeXBlOiBcImxpc3RcIiB9KSwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiwgaXNQcm9tcHRpbmdQZXJtaXNzaW9uLCB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWQgPSBjYWxsU2V0dGluZ3M/LnZpZGVvLmVuYWJsZWQ7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBjYW1lcmEudG9nZ2xlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXSwgY2hpbGRyZW46IGpzeChQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCB7IHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkuU0VORF9WSURFTywgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHZpZGVvLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHlvdXIgdmlkZW8uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLicpLCBjaGlsZHJlbjoganN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiAhaGFzUGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICA/IHQoJ1lvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlbycpXG4gICAgICAgICAgICAgICAgICAgIDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICFpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ1ZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXB0aW9uIHx8IHQoJ1ZpZGVvJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaGFzUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlID8gJ3ZpZGVvLXVubXV0ZS1idXR0b24nIDogJ3ZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQ6IDE2LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IG9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhLW9mZicgOiAnY2FtZXJhJyB9KSwgKCFoYXNCcm93c2VyUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCkgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIGNoaWxkcmVuOiBcIiFcIiB9KSksIGlzUHJvbXB0aW5nUGVybWlzc2lvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BlbmRpbmctcGVybWlzc2lvblwiLCB0aXRsZTogdCgnV2FpdGluZyBmb3IgcGVybWlzc2lvbicpLCBjaGlsZHJlbjogXCI/XCIgfSkpXSB9KSB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBFbmRDYWxsTWVudSA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgb25MZWF2ZSwgb25FbmQgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1jYWxsX19jb25maXJtYXRpb25cIiwgY2hpbGRyZW46IFtqc3hzKFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uIHN0ci12aWRlb19fZW5kLWNhbGxfX2xlYXZlXCIsIHR5cGU6IFwiYnV0dG9uXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJsZWF2ZS1jYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkxlYXZlLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2J1dHRvbl9faWNvbiBzdHItdmlkZW9fX2VuZC1jYWxsX19sZWF2ZS1pY29uXCIsIGljb246IFwibG9nb3V0XCIgfSksIHQoJ0xlYXZlIGNhbGwnKV0gfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5FTkRfQ0FMTF0sIGNoaWxkcmVuOiBqc3hzKFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uIHN0ci12aWRlb19fZW5kLWNhbGxfX2VuZFwiLCB0eXBlOiBcImJ1dHRvblwiLCBcImRhdGEtdGVzdGlkXCI6IFwiZW5kLWNhbGwtZm9yLWFsbC1idXR0b25cIiwgb25DbGljazogb25FbmQsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uX19pY29uIHN0ci12aWRlb19fZW5kLWNhbGxfX2VuZC1pY29uXCIsIGljb246IFwiY2FsbC1lbmRcIiB9KSwgdCgnRW5kIGNhbGwgZm9yIGFsbCcpXSB9KSB9KV0gfSkpO1xufTtcbmNvbnN0IENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBDYW5jZWxDYWxsVG9nZ2xlTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogdCgnTGVhdmUgY2FsbCcpLCB0b29sdGlwRGlzYWJsZWQ6IG1lbnVTaG93biwgY2hpbGRyZW46IGpzeChJY29uQnV0dG9uLCB7IGljb246IG1lbnVTaG93biA/ICdjbG9zZScgOiAnY2FsbC1lbmQnLCB2YXJpYW50OiBtZW51U2hvd24gPyAnYWN0aXZlJyA6ICdkYW5nZXInLCBcImRhdGEtdGVzdGlkXCI6IFwibGVhdmUtY2FsbC1idXR0b25cIiwgcmVmOiByZWYgfSkgfSkpO1xufSk7XG5jb25zdCBDYW5jZWxDYWxsQ29uZmlybUJ1dHRvbiA9ICh7IG9uQ2xpY2ssIG9uTGVhdmUsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGhhbmRsZUxlYXZlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbCkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC5sZWF2ZSgpO1xuICAgICAgICAgICAgb25MZWF2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25MZWF2ZSwgY2FsbF0pO1xuICAgIGNvbnN0IGhhbmRsZUVuZENhbGwgPSB1c2VDYWxsYmFjayhhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsLmVuZENhbGwoKTtcbiAgICAgICAgICAgIG9uTGVhdmU/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uTGVhdmUsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3Atc3RhcnRcIiwgVG9nZ2xlQnV0dG9uOiBDYW5jZWxDYWxsVG9nZ2xlTWVudUJ1dHRvbiwgY2hpbGRyZW46IGpzeChFbmRDYWxsTWVudSwgeyBvbkVuZDogaGFuZGxlRW5kQ2FsbCwgb25MZWF2ZTogaGFuZGxlTGVhdmUgfSkgfSkpO1xufTtcbmNvbnN0IENhbmNlbENhbGxCdXR0b24gPSAoeyBkaXNhYmxlZCwgY2FwdGlvbiwgb25DbGljaywgb25MZWF2ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKCk7XG4gICAgICAgICAgICBvbkxlYXZlPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrLCBvbkxlYXZlLCBjYWxsXSk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIGljb246IFwiY2FsbC1lbmRcIiwgdmFyaWFudDogXCJkYW5nZXJcIiwgdGl0bGU6IGNhcHRpb24gPz8gdCgnTGVhdmUgY2FsbCcpLCBcImRhdGEtdGVzdGlkXCI6IFwiY2FuY2VsLWNhbGwtYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrIH0pKTtcbn07XG5cbmNvbnN0IENhbGxDb250cm9scyA9ICh7IG9uTGVhdmUgfSkgPT4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzXCIsIGNoaWxkcmVuOiBbanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dLCBjaGlsZHJlbjoganN4KFNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiwgeyBjaGlsZHJlbjoganN4KFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiwge30pIH0pIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0VORF9WSURFT10sIGNoaWxkcmVuOiBqc3goVG9nZ2xlVmlkZW9QdWJsaXNoaW5nQnV0dG9uLCB7fSkgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5DUkVBVEVfUkVBQ1RJT05dLCBjaGlsZHJlbjoganN4KFJlYWN0aW9uc0J1dHRvbiwge30pIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdLCBjaGlsZHJlbjoganN4KFNjcmVlblNoYXJlQnV0dG9uLCB7fSkgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBdLCBjaGlsZHJlbjoganN4KFJlY29yZENhbGxCdXR0b24sIHt9KSB9KSwganN4KENhbmNlbENhbGxCdXR0b24sIHsgb25MZWF2ZTogb25MZWF2ZSB9KV0gfSkpO1xuXG5jb25zdCBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzJykpO1xudmFyIFN0YXR1cztcbihmdW5jdGlvbiAoU3RhdHVzKSB7XG4gICAgU3RhdHVzW1wiR09PRFwiXSA9IFwiR29vZFwiO1xuICAgIFN0YXR1c1tcIk9LXCJdID0gXCJPa1wiO1xuICAgIFN0YXR1c1tcIkJBRFwiXSA9IFwiQmFkXCI7XG59KShTdGF0dXMgfHwgKFN0YXR1cyA9IHt9KSk7XG5jb25zdCBDYWxsU3RhdHMgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxhdGVuY3lMb3dCb3VuZCA9IDc1LCBsYXRlbmN5SGlnaEJvdW5kID0gNDAwLCBzaG93Q29kZWNJbmZvID0gZmFsc2UsIExhdGVuY3lDaGFydFN1c3BlbnNlRmFsbGJhY2sgPSBudWxsLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2xhdGVuY3lCdWZmZXIsIHNldExhdGVuY3lCdWZmZXJdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKF8sIGkpID0+ICh7IHg6IG5vdyArIGksIHk6IDAgfSkpO1xuICAgIH0pO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IFtwdWJsaXNoQml0cmF0ZSwgc2V0UHVibGlzaEJpdHJhdGVdID0gdXNlU3RhdGUoJy0nKTtcbiAgICBjb25zdCBbc3Vic2NyaWJlQml0cmF0ZSwgc2V0U3Vic2NyaWJlQml0cmF0ZV0gPSB1c2VTdGF0ZSgnLScpO1xuICAgIGNvbnN0IHByZXZpb3VzU3RhdHMgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTdGF0c1JlcG9ydCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsU3RhdHNSZXBvcnQgPSB1c2VDYWxsU3RhdHNSZXBvcnQoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGxTdGF0c1JlcG9ydClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFwcmV2aW91c1N0YXRzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHMuY3VycmVudCA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCA9IHByZXZpb3VzU3RhdHMuY3VycmVudDtcbiAgICAgICAgc2V0UHVibGlzaEJpdHJhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVB1Ymxpc2hCaXRyYXRlKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0U3Vic2NyaWJlQml0cmF0ZSgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlU3Vic2NyaWJlQml0cmF0ZShwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldExhdGVuY3lCdWZmZXIoKGxhdGVuY3lCdWYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0xhdGVuY3lCdWZmZXIgPSBsYXRlbmN5QnVmLnNsaWNlKC0xOSk7XG4gICAgICAgICAgICBuZXdMYXRlbmN5QnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IGNhbGxTdGF0c1JlcG9ydC50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgeTogY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0xhdGVuY3lCdWZmZXI7XG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2aW91c1N0YXRzLmN1cnJlbnQgPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgfSwgW2NhbGxTdGF0c1JlcG9ydF0pO1xuICAgIGNvbnN0IGxhdGVuY3lDb21wYXJpc29uID0ge1xuICAgICAgICBsb3dCb3VuZDogbGF0ZW5jeUxvd0JvdW5kLFxuICAgICAgICBoaWdoQm91bmQ6IGxhdGVuY3lIaWdoQm91bmQsXG4gICAgICAgIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQ/LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyB8fCAwLFxuICAgIH07XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzXCIsIGNoaWxkcmVuOiBjYWxsU3RhdHNSZXBvcnQgJiYgKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImgzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGluZ1wiLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2ljb25cIiwgaWNvbjogXCJjYWxsLWxhdGVuY3lcIiB9KSwgdCgnQ2FsbCBMYXRlbmN5JyldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ1ZlcnkgaGlnaCBsYXRlbmN5IHZhbHVlcyBtYXkgcmVkdWNlIGNhbGwgcXVhbGl0eSwgY2F1c2UgbGFnLCBhbmQgbWFrZSB0aGUgY2FsbCBsZXNzIGVuam95YWJsZS4nKSB9KV0gfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2xhdGVuY3ljaGFydFwiLCBjaGlsZHJlbjoganN4KFN1c3BlbnNlLCB7IGZhbGxiYWNrOiBMYXRlbmN5Q2hhcnRTdXNwZW5zZUZhbGxiYWNrLCBjaGlsZHJlbjoganN4KENhbGxTdGF0c0xhdGVuY3lDaGFydCwgeyB2YWx1ZXM6IGxhdGVuY3lCdWZmZXIgfSkgfSkgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiaDNcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkaW5nXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faWNvblwiLCBpY29uOiBcIm5ldHdvcmstcXVhbGl0eVwiIH0pLCB0KCdDYWxsIHBlcmZvcm1hbmNlJyldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ1JldmlldyB0aGUga2V5IGRhdGEgcG9pbnRzIGJlbG93IHRvIGFzc2VzcyBjYWxsIHBlcmZvcm1hbmNlJykgfSldIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC1jb250YWluZXJcIiwgY2hpbGRyZW46IFtqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlZ2lvbicpLCB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LmRhdGFjZW50ZXIgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnTGF0ZW5jeScpLCB2YWx1ZTogYCR7Y2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5Nc30gbXMuYCwgY29tcGFyaXNvbjogbGF0ZW5jeUNvbXBhcmlzb24gfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2ZSBqaXR0ZXInKSwgdmFsdWU6IGAke2NhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMuYXZlcmFnZUppdHRlckluTXN9IG1zLmAsIGNvbXBhcmlzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGF0ZW5jeUNvbXBhcmlzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUHVibGlzaCBqaXR0ZXInKSwgdmFsdWU6IGAke2NhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlSml0dGVySW5Nc30gbXMuYCwgY29tcGFyaXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5sYXRlbmN5Q29tcGFyaXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlSml0dGVySW5NcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IGAke3QoJ1B1Ymxpc2ggcmVzb2x1dGlvbicpfSR7c2hvd0NvZGVjSW5mbyA/IGZvcm1hdENvZGVjKGNhbGxTdGF0c1JlcG9ydCkgOiAnJ31gLCB2YWx1ZTogdG9GcmFtZVNpemUoY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzKSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIHF1YWxpdHkgZHJvcCByZWFzb24nKSwgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2aW5nIHJlc29sdXRpb24nKSwgdmFsdWU6IHRvRnJhbWVTaXplKGNhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMpIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmUgcXVhbGl0eSBkcm9wIHJlYXNvbicpLCB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUHVibGlzaCBiaXRyYXRlJyksIHZhbHVlOiBwdWJsaXNoQml0cmF0ZSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZpbmcgYml0cmF0ZScpLCB2YWx1ZTogc3Vic2NyaWJlQml0cmF0ZSB9KV0gfSldIH0pKSB9KSk7XG59O1xuY29uc3QgU3RhdENhcmRFeHBsYW5hdGlvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZGVzY3JpcHRpb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgeyByZWZzLCBmbG9hdGluZ1N0eWxlcywgY29udGV4dCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBvcGVuOiBpc09wZW4sXG4gICAgICAgIG9uT3BlbkNoYW5nZTogc2V0SXNPcGVuLFxuICAgIH0pO1xuICAgIGNvbnN0IGhvdmVyID0gdXNlSG92ZXIoY29udGV4dCk7XG4gICAgY29uc3QgeyBnZXRSZWZlcmVuY2VQcm9wcywgZ2V0RmxvYXRpbmdQcm9wcyB9ID0gdXNlSW50ZXJhY3Rpb25zKFtob3Zlcl0pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtZXhwbGFuYXRpb25cIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgLi4uZ2V0UmVmZXJlbmNlUHJvcHMoKSwgY2hpbGRyZW46IGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtZXhwbGFuYXRpb25fX2ljb25cIiwgaWNvbjogXCJpbmZvXCIgfSkgfSksIGlzT3BlbiAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1leHBsYW5hdGlvbl9fZGVzY3JpcHRpb25cIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZTogZmxvYXRpbmdTdHlsZXMsIC4uLmdldEZsb2F0aW5nUHJvcHMoKSwgY2hpbGRyZW46IGRlc2NyaXB0aW9uIH0pKV0gfSkpO1xufTtcbmNvbnN0IFN0YXRzVGFnID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgc3RhdHVzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWcnLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLWdvb2QnOiBzdGF0dXMgPT09IFN0YXR1cy5HT09ELFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1vayc6IHN0YXR1cyA9PT0gU3RhdHVzLk9LLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1iYWQnOiBzdGF0dXMgPT09IFN0YXR1cy5CQUQsXG4gICAgICAgIH0pLCBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnX190ZXh0XCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSk7XG59O1xuY29uc3QgU3RhdENhcmQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxhYmVsLCB2YWx1ZSwgZGVzY3JpcHRpb24sIGNvbXBhcmlzb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHN0YXR1cyA9IGNvbXBhcmlzb24gPyB0b1N0YXR1cyhjb21wYXJpc29uKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtY29udGVudFwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLWxhYmVsXCIsIGNoaWxkcmVuOiBbbGFiZWwsIGRlc2NyaXB0aW9uICYmIGpzeChTdGF0Q2FyZEV4cGxhbmF0aW9uLCB7IGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9KV0gfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtdmFsdWVcIiwgY2hpbGRyZW46IHZhbHVlIH0pXSB9KSwgc3RhdHVzICYmIGpzeChTdGF0c1RhZywgeyBzdGF0dXM6IHN0YXR1cywgY2hpbGRyZW46IHQoc3RhdHVzKSB9KV0gfSkpO1xufTtcbmNvbnN0IHRvU3RhdHVzID0gKGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUsIGxvd0JvdW5kLCBoaWdoQm91bmQgfSA9IGNvbmZpZztcbiAgICBpZiAodmFsdWUgPD0gbG93Qm91bmQpXG4gICAgICAgIHJldHVybiBTdGF0dXMuR09PRDtcbiAgICBpZiAodmFsdWUgPj0gbG93Qm91bmQgJiYgdmFsdWUgPD0gaGlnaEJvdW5kKVxuICAgICAgICByZXR1cm4gU3RhdHVzLk9LO1xuICAgIGlmICh2YWx1ZSA+PSBoaWdoQm91bmQpXG4gICAgICAgIHJldHVybiBTdGF0dXMuQkFEO1xuICAgIHJldHVybiBTdGF0dXMuR09PRDtcbn07XG5jb25zdCB0b0ZyYW1lU2l6ZSA9IChzdGF0cykgPT4ge1xuICAgIGNvbnN0IHsgaGlnaGVzdEZyYW1lV2lkdGg6IHcsIGhpZ2hlc3RGcmFtZUhlaWdodDogaCwgaGlnaGVzdEZyYW1lc1BlclNlY29uZDogZnBzLCB9ID0gc3RhdHM7XG4gICAgbGV0IHNpemUgPSBgLWA7XG4gICAgaWYgKHcgJiYgaCkge1xuICAgICAgICBzaXplID0gYCR7d314JHtofWA7XG4gICAgICAgIGlmIChmcHMpIHtcbiAgICAgICAgICAgIHNpemUgKz0gYEAke2Zwc31mcHMuYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn07XG5jb25zdCBmb3JtYXRDb2RlYyA9IChjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IGNvZGVjUGVyVHJhY2tUeXBlIH0gPSBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHM7XG4gICAgaWYgKCFjb2RlY1BlclRyYWNrVHlwZSB8fCAhY29kZWNQZXJUcmFja1R5cGVbU2Z1TW9kZWxzLlRyYWNrVHlwZS5WSURFT10pIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBbLCBuYW1lXSA9IGNvZGVjUGVyVHJhY2tUeXBlW1NmdU1vZGVscy5UcmFja1R5cGUuVklERU9dLnNwbGl0KCcvJyk7XG4gICAgcmV0dXJuIG5hbWUgPyBgICgke25hbWV9KWAgOiAnJztcbn07XG5jb25zdCBjYWxjdWxhdGVQdWJsaXNoQml0cmF0ZSA9IChwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KSA9PiB7XG4gICAgY29uc3QgeyBwdWJsaXNoZXJTdGF0czogeyB0b3RhbEJ5dGVzU2VudDogcHJldmlvdXNUb3RhbEJ5dGVzU2VudCwgdGltZXN0YW1wOiBwcmV2aW91c1RpbWVzdGFtcCwgfSwgfSA9IHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0O1xuICAgIGNvbnN0IHsgcHVibGlzaGVyU3RhdHM6IHsgdG90YWxCeXRlc1NlbnQsIHRpbWVzdGFtcCB9LCB9ID0gY2FsbFN0YXRzUmVwb3J0O1xuICAgIGNvbnN0IGJ5dGVzU2VudCA9IHRvdGFsQnl0ZXNTZW50IC0gcHJldmlvdXNUb3RhbEJ5dGVzU2VudDtcbiAgICBjb25zdCB0aW1lRWxhcHNlZCA9IHRpbWVzdGFtcCAtIHByZXZpb3VzVGltZXN0YW1wO1xuICAgIHJldHVybiBgJHsoKGJ5dGVzU2VudCAqIDgpIC8gdGltZUVsYXBzZWQpLnRvRml4ZWQoMil9IGticHNgO1xufTtcbmNvbnN0IGNhbGN1bGF0ZVN1YnNjcmliZUJpdHJhdGUgPSAocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCkgPT4ge1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlclN0YXRzOiB7IHRvdGFsQnl0ZXNSZWNlaXZlZDogcHJldmlvdXNUb3RhbEJ5dGVzUmVjZWl2ZWQsIHRpbWVzdGFtcDogcHJldmlvdXNUaW1lc3RhbXAsIH0sIH0gPSBwcmV2aW91c0NhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCB7IHN1YnNjcmliZXJTdGF0czogeyB0b3RhbEJ5dGVzUmVjZWl2ZWQsIHRpbWVzdGFtcCB9LCB9ID0gY2FsbFN0YXRzUmVwb3J0O1xuICAgIGNvbnN0IGJ5dGVzUmVjZWl2ZWQgPSB0b3RhbEJ5dGVzUmVjZWl2ZWQgLSBwcmV2aW91c1RvdGFsQnl0ZXNSZWNlaXZlZDtcbiAgICBjb25zdCB0aW1lRWxhcHNlZCA9IHRpbWVzdGFtcCAtIHByZXZpb3VzVGltZXN0YW1wO1xuICAgIHJldHVybiBgJHsoKGJ5dGVzUmVjZWl2ZWQgKiA4KSAvIHRpbWVFbGFwc2VkKS50b0ZpeGVkKDIpfSBrYnBzYDtcbn07XG5cbmNvbnN0IENhbGxTdGF0c0J1dHRvbiA9ICgpID0+IChqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwidG9wLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZU1lbnVCdXR0b24sIGNoaWxkcmVuOiBqc3goQ2FsbFN0YXRzLCB7fSkgfSkpO1xuY29uc3QgVG9nZ2xlTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlTWVudUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBtZW51U2hvd24gfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KENvbXBvc2l0ZUJ1dHRvbiwgeyByZWY6IHJlZiwgYWN0aXZlOiBtZW51U2hvd24sIGNhcHRpb246IGNhcHRpb24sIHRpdGxlOiBjYXB0aW9uIHx8IHQoJ1N0YXRpc3RpY3MnKSwgXCJkYXRhLXRlc3RpZFwiOiBcInN0YXRzLWJ1dHRvblwiLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJzdGF0c1wiIH0pIH0pKTtcbn0pO1xuXG5jb25zdCBUb2dnbGVBdWRpb091dHB1dEJ1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQsIG1lbnVQbGFjZW1lbnQgPSAndG9wJywgb25NZW51VG9nZ2xlLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogY2FwdGlvbiB8fCB0KCdTcGVha2VycycpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgY2FwdGlvbjogY2FwdGlvbiwgXCJkYXRhLXRlc3RpZFwiOiBcImF1ZGlvLW91dHB1dC1idXR0b25cIiwgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInNwZWFrZXJcIiB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBCbG9ja2VkVXNlckxpc3RpbmcgPSAoeyBkYXRhIH0pID0+IHtcbiAgICBpZiAoIWRhdGEubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZ1wiLCBjaGlsZHJlbjogZGF0YS5tYXAoKHVzZXJJZCkgPT4gKGpzeChCbG9ja2VkVXNlckxpc3RpbmdJdGVtLCB7IHVzZXJJZDogdXNlcklkIH0sIHVzZXJJZCkpKSB9KSB9KSk7XG59O1xuY29uc3QgQmxvY2tlZFVzZXJMaXN0aW5nSXRlbSA9ICh7IHVzZXJJZCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB1bmJsb2NrVXNlckNsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKHVzZXJJZClcbiAgICAgICAgICAgIGNhbGw/LnVuYmxvY2tVc2VyKHVzZXJJZCk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2Rpc3BsYXktbmFtZVwiLCBjaGlsZHJlbjogdXNlcklkIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQkxPQ0tfVVNFUlNdLCBjaGlsZHJlbjoganN4KFRleHRCdXR0b24sIHsgb25DbGljazogdW5ibG9ja1VzZXJDbGlja0hhbmRsZXIsIGNoaWxkcmVuOiBcIlVuYmxvY2tcIiB9KSB9KV0gfSkpO1xufTtcblxuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdEhlYWRlciA9ICh7IG9uQ2xvc2UsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cywgdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50ID0gdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX190aXRsZVwiLCBjaGlsZHJlbjogW3QoJ1BhcnRpY2lwYW50cycpLCAnICcsIGpzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX3RpdGxlLWNvdW50XCIsIGNoaWxkcmVuOiBbXCJbXCIsIHBhcnRpY2lwYW50cy5sZW5ndGgsIFwiXVwiXSB9KSwgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA+IDAgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fdGl0bGUtYW5vbnltb3VzXCIsIGNoaWxkcmVuOiB0KCdBbm9ueW1vdXMnLCB7IGNvdW50OiBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50IH0pIH0pKV0gfSksIGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IG9uQ2xvc2UsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX19jbG9zZS1idXR0b25cIiwgaWNvbjogXCJjbG9zZVwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBDYWxsUGFydGljaXBhbnRMaXN0aW5nSXRlbSA9ICh7IHBhcnRpY2lwYW50LCBEaXNwbGF5TmFtZSA9IERlZmF1bHREaXNwbGF5TmFtZSwgfSkgPT4ge1xuICAgIGNvbnN0IGlzQXVkaW9PbiA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBpc1ZpZGVvT24gPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaXNQaW5uZWRPbiA9IGlzUGlubmVkKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1cIiwgY2hpbGRyZW46IFtqc3goQXZhdGFyLCB7IG5hbWU6IHBhcnRpY2lwYW50Lm5hbWUsIGltYWdlU3JjOiBwYXJ0aWNpcGFudC5pbWFnZSB9KSwganN4KERpc3BsYXlOYW1lLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fbWVkaWEtaW5kaWNhdG9yLWdyb3VwXCIsIGNoaWxkcmVuOiBbanN4KE1lZGlhSW5kaWNhdG9yLCB7IHRpdGxlOiBpc0F1ZGlvT24gPyB0KCdNaWNyb3Bob25lIG9uJykgOiB0KCdNaWNyb3Bob25lIG9mZicpLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uJywgYHN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uLSR7aXNBdWRpb09uID8gJ21pYycgOiAnbWljLW9mZid9YCkgfSksIGpzeChNZWRpYUluZGljYXRvciwgeyB0aXRsZTogaXNWaWRlb09uID8gdCgnQ2FtZXJhIG9uJykgOiB0KCdDYW1lcmEgb2ZmJyksIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24nLCBgc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24tJHtpc1ZpZGVvT24gPyAnY2FtZXJhJyA6ICdjYW1lcmEtb2ZmJ31gKSB9KSwgaXNQaW5uZWRPbiAmJiAoanN4KE1lZGlhSW5kaWNhdG9yLCB7IHRpdGxlOiB0KCdQaW5uZWQnKSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbicsICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbi1waW5uZWQnKSB9KSksIGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJib3R0b20tZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlQnV0dG9uJDIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiAnbm9uZScgfSwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSwge30pIH0pIH0pXSB9KV0gfSkpO1xufTtcbmNvbnN0IE1lZGlhSW5kaWNhdG9yID0gKHByb3BzKSA9PiAoanN4KFdpdGhUb29sdGlwLCB7IC4uLnByb3BzIH0pKTtcbmNvbnN0IERlZmF1bHREaXNwbGF5TmFtZSA9ICh7IHBhcnRpY2lwYW50IH0pID0+IHtcbiAgICBjb25zdCBjb25uZWN0ZWRVc2VyID0gdXNlQ29ubmVjdGVkVXNlcigpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IG1lRmxhZyA9IHBhcnRpY2lwYW50LnVzZXJJZCA9PT0gY29ubmVjdGVkVXNlcj8uaWQgPyB0KCdNZScpIDogJyc7XG4gICAgY29uc3QgbmFtZU9ySWQgPSBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZCB8fCB0KCdVbmtub3duJyk7XG4gICAgbGV0IGRpc3BsYXlOYW1lO1xuICAgIGlmICghcGFydGljaXBhbnQubmFtZSkge1xuICAgICAgICBkaXNwbGF5TmFtZSA9IG1lRmxhZyB8fCBuYW1lT3JJZCB8fCB0KCdVbmtub3duJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lRmxhZykge1xuICAgICAgICBkaXNwbGF5TmFtZSA9IGAke25hbWVPcklkfSAoJHttZUZsYWd9KWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkaXNwbGF5TmFtZSA9IG5hbWVPcklkO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2Rpc3BsYXktbmFtZVwiLCB0aXRsZTogZGlzcGxheU5hbWUsIGNoaWxkcmVuOiBkaXNwbGF5TmFtZSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlQnV0dG9uJDIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIGpzeChJY29uQnV0dG9uLCB7IGVuYWJsZWQ6IHByb3BzLm1lbnVTaG93biwgaWNvbjogXCJlbGxpcHNpc1wiLCByZWY6IHJlZiB9KTtcbn0pO1xuXG5jb25zdCBDYWxsUGFydGljaXBhbnRMaXN0aW5nID0gKHsgZGF0YSwgfSkgPT4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmdcIiwgY2hpbGRyZW46IGRhdGEubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChDYWxsUGFydGljaXBhbnRMaXN0aW5nSXRlbSwgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSwgcGFydGljaXBhbnQuc2Vzc2lvbklkKSkpIH0pKTtcblxuY29uc3QgRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LS1lbXB0eVwiLCBjaGlsZHJlbjogdCgnTm8gcGFydGljaXBhbnRzIGZvdW5kJykgfSkpO1xufTtcblxuY29uc3QgU2VhcmNoSW5wdXQgPSAoeyBleGl0U2VhcmNoLCBpc0FjdGl2ZSwgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgW2lucHV0RWxlbWVudCwgc2V0SW5wdXRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleS50b0xvd2VyQ2FzZSgpID09PSAnZXNjYXBlJylcbiAgICAgICAgICAgICAgICBleGl0U2VhcmNoKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICB9O1xuICAgIH0sIFtleGl0U2VhcmNoLCBpbnB1dEVsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc2VhcmNoLWlucHV0X19jb250YWluZXInLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2NvbnRhaW5lci0tYWN0aXZlJzogaXNBY3RpdmUsXG4gICAgICAgIH0pLCBjaGlsZHJlbjogW2pzeChcImlucHV0XCIsIHsgcGxhY2Vob2xkZXI6IFwiU2VhcmNoXCIsIC4uLnJlc3QsIHJlZjogc2V0SW5wdXRFbGVtZW50IH0pLCBpc0FjdGl2ZSA/IChqc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2NsZWFyLWJ0blwiLCBvbkNsaWNrOiBleGl0U2VhcmNoLCBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9faWNvbi0tYWN0aXZlXCIgfSkgfSkpIDogKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2ljb25cIiB9KSldIH0pKTtcbn07XG5cbmZ1bmN0aW9uIFNlYXJjaFJlc3VsdHMoeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudCwgTG9hZGluZ0luZGljYXRvcjogTG9hZGluZ0luZGljYXRvciQxID0gTG9hZGluZ0luZGljYXRvciwgc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzLCBTZWFyY2hSZXN1bHRMaXN0LCB9KSB7XG4gICAgaWYgKHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1yZXN1bHRzLS1sb2FkaW5nXCIsIGNoaWxkcmVuOiBqc3goTG9hZGluZ0luZGljYXRvciQxLCB7fSkgfSkpO1xuICAgIH1cbiAgICBpZiAoIXNlYXJjaFJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBqc3goRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQsIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzeChTZWFyY2hSZXN1bHRMaXN0LCB7IGRhdGE6IHNlYXJjaFJlc3VsdHMgfSk7XG59XG5cbmNvbnN0IHVzZVNlYXJjaCA9ICh7IGRlYm91bmNlSW50ZXJ2YWwgPSAyMDAsIHNlYXJjaEZuLCBzZWFyY2hRdWVyeSA9ICcnLCB9KSA9PiB7XG4gICAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3Qgc2VhcmNoRm5SZWYgPSB1c2VSZWYoc2VhcmNoRm4pO1xuICAgIHNlYXJjaEZuUmVmLmN1cnJlbnQgPSBzZWFyY2hGbjtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNlYXJjaFF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyh0cnVlKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VhcmNoRm5SZWYuY3VycmVudChzZWFyY2hRdWVyeSk7XG4gICAgICAgICAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVib3VuY2VJbnRlcnZhbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH07XG4gICAgfSwgW2RlYm91bmNlSW50ZXJ2YWwsIHNlYXJjaFF1ZXJ5XSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VhcmNoUXVlcnlJblByb2dyZXNzLFxuICAgICAgICBzZWFyY2hSZXN1bHRzLFxuICAgIH07XG59O1xuXG5jb25zdCBVc2VyTGlzdFR5cGVzID0ge1xuICAgIGFjdGl2ZTogJ0FjdGl2ZSB1c2VycycsXG4gICAgYmxvY2tlZDogJ0Jsb2NrZWQgdXNlcnMnLFxufTtcbmNvbnN0IENhbGxQYXJ0aWNpcGFudHNMaXN0ID0gKHsgb25DbG9zZSwgYWN0aXZlVXNlcnNTZWFyY2hGbiwgYmxvY2tlZFVzZXJzU2VhcmNoRm4sIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsIH0pID0+IHtcbiAgICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbdXNlckxpc3RUeXBlLCBzZXRVc2VyTGlzdFR5cGVdID0gdXNlU3RhdGUoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IGV4aXRTZWFyY2ggPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRTZWFyY2hRdWVyeSgnJyksIFtdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0XCIsIGNoaWxkcmVuOiBbanN4KENhbGxQYXJ0aWNpcGFudExpc3RIZWFkZXIsIHsgb25DbG9zZTogb25DbG9zZSB9KSwganN4KFNlYXJjaElucHV0LCB7IHZhbHVlOiBzZWFyY2hRdWVyeSwgb25DaGFuZ2U6ICh7IGN1cnJlbnRUYXJnZXQgfSkgPT4gc2V0U2VhcmNoUXVlcnkoY3VycmVudFRhcmdldC52YWx1ZSksIGV4aXRTZWFyY2g6IGV4aXRTZWFyY2gsIGlzQWN0aXZlOiAhIXNlYXJjaFF1ZXJ5IH0pLCBqc3goQ2FsbFBhcnRpY2lwYW50TGlzdENvbnRlbnRIZWFkZXIsIHsgdXNlckxpc3RUeXBlOiB1c2VyTGlzdFR5cGUsIHNldFVzZXJMaXN0VHlwZTogc2V0VXNlckxpc3RUeXBlIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdF9fY29udGVudFwiLCBjaGlsZHJlbjogW3VzZXJMaXN0VHlwZSA9PT0gJ2FjdGl2ZScgJiYgKGpzeChBY3RpdmVVc2Vyc1NlYXJjaFJlc3VsdHMsIHsgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5LCBhY3RpdmVVc2Vyc1NlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuLCBkZWJvdW5jZVNlYXJjaEludGVydmFsOiBkZWJvdW5jZVNlYXJjaEludGVydmFsIH0pKSwgdXNlckxpc3RUeXBlID09PSAnYmxvY2tlZCcgJiYgKGpzeChCbG9ja2VkVXNlcnNTZWFyY2hSZXN1bHRzLCB7IHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwgYmxvY2tlZFVzZXJzU2VhcmNoRm46IGJsb2NrZWRVc2Vyc1NlYXJjaEZuLCBkZWJvdW5jZVNlYXJjaEludGVydmFsOiBkZWJvdW5jZVNlYXJjaEludGVydmFsIH0pKV0gfSldIH0pKTtcbn07XG5jb25zdCBDYWxsUGFydGljaXBhbnRMaXN0Q29udGVudEhlYWRlciA9ICh7IHVzZXJMaXN0VHlwZSwgc2V0VXNlckxpc3RUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBtdXRlQWxsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjYWxsPy5tdXRlQWxsVXNlcnMoJ2F1ZGlvJyk7XG4gICAgfSwgW2NhbGxdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0X19jb250ZW50LWhlYWRlclwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RfX2NvbnRlbnQtaGVhZGVyLXRpdGxlXCIsIGNoaWxkcmVuOiB1c2VyTGlzdFR5cGUgPT09ICdhY3RpdmUnICYmIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuTVVURV9VU0VSU10sIGhhc1Blcm1pc3Npb25zT25seTogdHJ1ZSwgY2hpbGRyZW46IGpzeChUZXh0QnV0dG9uLCB7IG9uQ2xpY2s6IG11dGVBbGwsIGNoaWxkcmVuOiBcIk11dGUgYWxsXCIgfSkgfSkpIH0pLCBqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZUJ1dHRvbiQxLCBjaGlsZHJlbjoganN4KEdlbmVyaWNNZW51LCB7IGNoaWxkcmVuOiBPYmplY3Qua2V5cyhVc2VyTGlzdFR5cGVzKS5tYXAoKGx0KSA9PiAoanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBcImFyaWEtc2VsZWN0ZWRcIjogbHQgPT09IHVzZXJMaXN0VHlwZSwgb25DbGljazogKCkgPT4gc2V0VXNlckxpc3RUeXBlKGx0KSwgY2hpbGRyZW46IFVzZXJMaXN0VHlwZXNbbHRdIH0sIGx0KSkpIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgQWN0aXZlVXNlcnNTZWFyY2hSZXN1bHRzID0gKHsgc2VhcmNoUXVlcnksIGFjdGl2ZVVzZXJzU2VhcmNoRm46IGFjdGl2ZVVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMsIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoeyBzb3J0Qnk6IG5hbWUgfSk7XG4gICAgY29uc3QgYWN0aXZlVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiBwLm5hbWUubWF0Y2gocXVlcnlSZWdFeHApKTtcbiAgICB9LCBbcGFydGljaXBhbnRzXSk7XG4gICAgY29uc3QgeyBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMgfSA9IHVzZVNlYXJjaCh7XG4gICAgICAgIHNlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuRnJvbVByb3BzID8/IGFjdGl2ZVVzZXJzU2VhcmNoRm4sXG4gICAgICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsXG4gICAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFNlYXJjaFJlc3VsdHMsIHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQ6IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3M6IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0czogc2VhcmNoUXVlcnkgPyBzZWFyY2hSZXN1bHRzIDogcGFydGljaXBhbnRzLCBTZWFyY2hSZXN1bHRMaXN0OiBDYWxsUGFydGljaXBhbnRMaXN0aW5nIH0pKTtcbn07XG5jb25zdCBCbG9ja2VkVXNlcnNTZWFyY2hSZXN1bHRzID0gKHsgYmxvY2tlZFVzZXJzU2VhcmNoRm46IGJsb2NrZWRVc2Vyc1NlYXJjaEZuRnJvbVByb3BzLCBkZWJvdW5jZVNlYXJjaEludGVydmFsLCBzZWFyY2hRdWVyeSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FsbEJsb2NrZWRVc2VySWRzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGJsb2NrZWRVc2VycyA9IHVzZUNhbGxCbG9ja2VkVXNlcklkcygpO1xuICAgIGNvbnN0IGJsb2NrZWRVc2Vyc1NlYXJjaEZuID0gdXNlQ2FsbGJhY2soYXN5bmMgKHF1ZXJ5U3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVnRXhwID0gbmV3IFJlZ0V4cChxdWVyeVN0cmluZywgJ2knKTtcbiAgICAgICAgcmV0dXJuIGJsb2NrZWRVc2Vycy5maWx0ZXIoKHVzZXJJZCkgPT4gdXNlcklkLm1hdGNoKHF1ZXJ5UmVnRXhwKSk7XG4gICAgfSwgW2Jsb2NrZWRVc2Vyc10pO1xuICAgIGNvbnN0IHsgc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzIH0gPSB1c2VTZWFyY2goe1xuICAgICAgICBzZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMgPz8gYmxvY2tlZFVzZXJzU2VhcmNoRm4sXG4gICAgICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsXG4gICAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFNlYXJjaFJlc3VsdHMsIHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQ6IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3M6IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0czogc2VhcmNoUXVlcnkgPyBzZWFyY2hSZXN1bHRzIDogYmxvY2tlZFVzZXJzLCBTZWFyY2hSZXN1bHRMaXN0OiBCbG9ja2VkVXNlckxpc3RpbmcgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUJ1dHRvbiQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZmlsdGVyXCIsIHJlZjogcmVmIH0pO1xufSk7XG5cbmNvbnN0IENhbGxQcmV2aWV3ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIHN0eWxlIH0gPSBwcm9wcztcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFRodW1ibmFpbCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB0aHVtYm5haWwgPSB1c2VDYWxsVGh1bWJuYWlsKCk7XG4gICAgY29uc3QgW2ltYWdlUmVmLCBzZXRJbWFnZVJlZl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWltYWdlUmVmIHx8ICFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kQ2FsbFRodW1ibmFpbEVsZW1lbnQoaW1hZ2VSZWYpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtpbWFnZVJlZiwgY2FsbF0pO1xuICAgIGlmICghdGh1bWJuYWlsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeChcImltZ1wiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLXByZXZpZXcnLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUsIGFsdDogXCJDYWxsIFByZXZpZXcgVGh1bWJuYWlsXCIsIHJlZjogc2V0SW1hZ2VSZWYgfSkpO1xufTtcblxuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIgPSAoeyBjYWxsUmVjb3JkaW5ncywgb25SZWZyZXNoLCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpdGxlXCIsIGNoaWxkcmVuOiBbanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiB0KCdDYWxsIFJlY29yZGluZ3MnKSB9KSwgY2FsbFJlY29yZGluZ3MubGVuZ3RoID8ganN4cyhcInNwYW5cIiwgeyBjaGlsZHJlbjogW1wiKFwiLCBjYWxsUmVjb3JkaW5ncy5sZW5ndGgsIFwiKVwiXSB9KSA6IG51bGxdIH0pLCBvblJlZnJlc2ggJiYgKGpzeChJY29uQnV0dG9uLCB7IGljb246IFwicmVmcmVzaFwiLCB0aXRsZTogdCgnUmVmcmVzaCcpLCBvbkNsaWNrOiBvblJlZnJlc2ggfSkpXSB9KSk7XG59O1xuXG5jb25zdCBkYXRlRm9ybWF0ID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBmb3JtYXQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICByZXR1cm4gZm9ybWF0LnRvVGltZVN0cmluZygpLnNwbGl0KCcgJylbMF07XG59O1xuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3RJdGVtID0gKHsgcmVjb3JkaW5nLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2ZpbGVuYW1lXCIsIGNoaWxkcmVuOiByZWNvcmRpbmcuZmlsZW5hbWUgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RhYmxlLWNlbGwgc3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBkYXRlRm9ybWF0KHJlY29yZGluZy5zdGFydF90aW1lKSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IGRhdGVGb3JtYXQocmVjb3JkaW5nLmVuZF90aW1lKSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2Rvd25sb2FkXCIsIGNoaWxkcmVuOiBqc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3QtaXRlbV9fYWN0aW9uLWJ1dHRvbicsICdzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3QtaXRlbV9fYWN0aW9uLWJ1dHRvbi0tZG93bmxvYWQnKSwgcm9sZTogXCJidXR0b25cIiwgaHJlZjogcmVjb3JkaW5nLnVybCwgZG93bmxvYWQ6IHJlY29yZGluZy5maWxlbmFtZSwgdGl0bGU6IFwiRG93bmxvYWQgdGhlIHJlY29yZGluZ1wiLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJkb3dubG9hZFwiIH0pIH0pIH0pXSB9KSk7XG59O1xuXG5jb25zdCBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nID0gKCkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3Rpbmcgc3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0aW5nLS1lbXB0eVwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLWljb24tZW1wdHlcIiB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLXRleHQtZW1wdHlcIiwgY2hpbGRyZW46IFwiTm8gcmVjb3JkaW5ncyBhdmFpbGFibGVcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgTG9hZGluZ0NhbGxSZWNvcmRpbmdMaXN0aW5nID0gKHsgY2FsbFJlY29yZGluZ3MsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtjYWxsUmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZykgPT4gKGpzeChDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIHsgcmVjb3JkaW5nOiByZWNvcmRpbmcgfSwgcmVjb3JkaW5nLmZpbGVuYW1lKSkpLCBqc3goTG9hZGluZ0luZGljYXRvciwgeyB0ZXh0OiBcIlJlY29yZGluZyBnZXR0aW5nIHJlYWR5XCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxSZWNvcmRpbmdMaXN0ID0gKHsgY2FsbFJlY29yZGluZ3MsIENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyOiBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciQxID0gQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbTogQ2FsbFJlY29yZGluZ0xpc3RJdGVtJDEgPSBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIEVtcHR5Q2FsbFJlY29yZGluZ0xpc3QgPSBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nLCBsb2FkaW5nLCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3QgPSBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcsIG9uUmVmcmVzaCwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RcIiwgY2hpbGRyZW46IFtqc3goQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIkMSwgeyBjYWxsUmVjb3JkaW5nczogY2FsbFJlY29yZGluZ3MsIG9uUmVmcmVzaDogb25SZWZyZXNoIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0aW5nXCIsIGNoaWxkcmVuOiBsb2FkaW5nID8gKGpzeChMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3QsIHsgY2FsbFJlY29yZGluZ3M6IGNhbGxSZWNvcmRpbmdzIH0pKSA6IGNhbGxSZWNvcmRpbmdzLmxlbmd0aCA/IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0XCIsIGNoaWxkcmVuOiBqc3hzKFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZmlsZW5hbWVcIiwgY2hpbGRyZW46IFwiTmFtZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBcIlN0YXJ0IHRpbWVcIiB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGltZVwiLCBjaGlsZHJlbjogXCJFbmQgdGltZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19kb3dubG9hZFwiIH0pXSB9KSB9KSwganN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0XCIsIGNoaWxkcmVuOiBjYWxsUmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZykgPT4gKGpzeChDYWxsUmVjb3JkaW5nTGlzdEl0ZW0kMSwgeyByZWNvcmRpbmc6IHJlY29yZGluZyB9LCByZWNvcmRpbmcuZmlsZW5hbWUpKSkgfSldIH0pKSA6IChqc3goRW1wdHlDYWxsUmVjb3JkaW5nTGlzdCwge30pKSB9KV0gfSkpO1xufTtcblxuY29uc3QgTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbi8qKlxuICogRXhwb3NlcyB0aGUgTm9pc2VDYW5jZWxsYXRpb24gQVBJLlxuICogVGhyb3dzIGFuIGVycm9yIGlmIHVzZWQgb3V0c2lkZSA8Tm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlciAvPi5cbiAqL1xuY29uc3QgdXNlTm9pc2VDYW5jZWxsYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0KTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VOb2lzZUNhbmNlbGxhdGlvbiBtdXN0IGJlIHVzZWQgd2l0aGluIGEgTm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlcicpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn07XG5jb25zdCBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgbm9pc2VDYW5jZWxsYXRpb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsU2V0dGluZ3MsIHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3Qgbm9pc2VDYW5jZWxsYXRpb25BbGxvd2VkID0gISEoc2V0dGluZ3MgJiZcbiAgICAgICAgc2V0dGluZ3MuYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uICYmXG4gICAgICAgIHNldHRpbmdzLmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbi5tb2RlICE9PVxuICAgICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkRJU0FCTEVEKTtcbiAgICBjb25zdCBoYXNDYXBhYmlsaXR5ID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5FTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OKTtcbiAgICBjb25zdCBbaXNTdXBwb3J0ZWRCeUJyb3dzZXIsIHNldElzU3VwcG9ydGVkQnlCcm93c2VyXSA9IHVzZVN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbm9pc2VDYW5jZWxsYXRpb24uaXNTdXBwb3J0ZWQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXIocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgIC50aGVuKChzKSA9PiBzZXRJc1N1cHBvcnRlZEJ5QnJvd3NlcihzKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgQ2FuJ3QgZGV0ZXJtaW5lIGlmIG5vaXNlIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWRgLCBlcnIpKTtcbiAgICAgICAgfVxuICAgIH0sIFtub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWRCeUJyb3dzZXIgJiYgaGFzQ2FwYWJpbGl0eSAmJiBub2lzZUNhbmNlbGxhdGlvbkFsbG93ZWQ7XG4gICAgY29uc3QgW2lzRW5hYmxlZCwgc2V0SXNFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBkZWluaXQgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWlzU3VwcG9ydGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5pc0VuYWJsZWQoKS50aGVuKChlKSA9PiBzZXRJc0VuYWJsZWQoZSkpO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG5vaXNlQ2FuY2VsbGF0aW9uLm9uKCdjaGFuZ2UnLCAodikgPT4gc2V0SXNFbmFibGVkKHYpKTtcbiAgICAgICAgY29uc3QgaW5pdCA9IChkZWluaXQuY3VycmVudCB8fCBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IG5vaXNlQ2FuY2VsbGF0aW9uLmluaXQoeyB0cmFjZXI6IGNhbGwudHJhY2VyIH0pKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY2FsbC5taWNyb3Bob25lLmVuYWJsZU5vaXNlQ2FuY2VsbGF0aW9uKG5vaXNlQ2FuY2VsbGF0aW9uKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5lcnJvcihgQ2FuJ3QgaW5pdGlhbGl6ZSBub2lzZSBjYW5jZWxsYXRpb25gLCBlKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkZWluaXQuY3VycmVudCA9IGluaXRcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBjYWxsLm1pY3JvcGhvbmUuZGlzYWJsZU5vaXNlQ2FuY2VsbGF0aW9uKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbm9pc2VDYW5jZWxsYXRpb24uZGlzcG9zZSgpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHVuc3Vic2NyaWJlKCkpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBpc1N1cHBvcnRlZCwgbm9pc2VDYW5jZWxsYXRpb25dKTtcbiAgICBjb25zdCBjb250ZXh0VmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGlzU3VwcG9ydGVkLFxuICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgIHNldFN1cHByZXNzaW9uTGV2ZWw6IChsZXZlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5zZXRTdXBwcmVzc2lvbkxldmVsKGxldmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0RW5hYmxlZDogKGVuYWJsZWRPclNldHRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBlbmFibGUgPSB0eXBlb2YgZW5hYmxlZE9yU2V0dGVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBlbmFibGVkT3JTZXR0ZXIoaXNFbmFibGVkKVxuICAgICAgICAgICAgICAgIDogZW5hYmxlZE9yU2V0dGVyO1xuICAgICAgICAgICAgaWYgKGVuYWJsZSkge1xuICAgICAgICAgICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLmVuYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pLCBbaXNFbmFibGVkLCBpc1N1cHBvcnRlZCwgbm9pc2VDYW5jZWxsYXRpb25dKTtcbiAgICByZXR1cm4gKGpzeChOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHRWYWx1ZSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFJpbmdpbmdDYWxsQ29udHJvbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxDYWxsaW5nU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbENhbGxpbmdTdGF0ZSA9IHVzZUNhbGxDYWxsaW5nU3RhdGUoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGJ1dHRvbnNEaXNhYmxlZCA9IGNhbGxDYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVuZGluZy1jYWxsLWNvbnRyb2xzXCIsIGNoaWxkcmVuOiBjYWxsLmlzQ3JlYXRlZEJ5TWUgPyAoanN4KENhbmNlbENhbGxCdXR0b24sIHsgZGlzYWJsZWQ6IGJ1dHRvbnNEaXNhYmxlZCB9KSkgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChBY2NlcHRDYWxsQnV0dG9uLCB7IGRpc2FibGVkOiBidXR0b25zRGlzYWJsZWQgfSksIGpzeChDYW5jZWxDYWxsQnV0dG9uLCB7IG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGNhbGwuaXNDcmVhdGVkQnlNZSA/ICdjYW5jZWwnIDogJ2RlY2xpbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbC5sZWF2ZSh7IHJlamVjdDogdHJ1ZSwgcmVhc29uIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pXSB9KSkgfSkpO1xufTtcblxuY29uc3QgQ0FMTElOR19TVEFURV9UT19MQUJFTCA9IHtcbiAgICBbQ2FsbGluZ1N0YXRlLkpPSU5JTkddOiAnSm9pbmluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SSU5HSU5HXTogJ1JpbmdpbmcnLFxuICAgIFtDYWxsaW5nU3RhdGUuTUlHUkFUSU5HXTogJ01pZ3JhdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkddOiAnUmUtY29ubmVjdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXTogJ0ZhaWxlZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5PRkZMSU5FXTogJ05vIGludGVybmV0IGNvbm5lY3Rpb24nLFxuICAgIFtDYWxsaW5nU3RhdGUuSURMRV06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuVU5LTk9XTl06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuSk9JTkVEXTogJ0pvaW5lZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5MRUZUXTogJ0xlZnQgY2FsbCcsXG59O1xuY29uc3QgUmluZ2luZ0NhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGluY2x1ZGVTZWxmID0gZmFsc2UsIHRvdGFsTWVtYmVyc1RvU2hvdyA9IDMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlLCB1c2VDYWxsTWVtYmVycyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgY29uc3QgbWVtYmVycyA9IHVzZUNhbGxNZW1iZXJzKCk7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIHRha2UgdGhlIGZpcnN0IE4gbWVtYmVycyB0byBzaG93IHRoZWlyIGF2YXRhcnNcbiAgICBjb25zdCBtZW1iZXJzVG9TaG93ID0gKG1lbWJlcnMgfHwgW10pXG4gICAgICAgIC5zbGljZSgwLCB0b3RhbE1lbWJlcnNUb1Nob3cpXG4gICAgICAgIC5tYXAoKHsgdXNlciB9KSA9PiB1c2VyKVxuICAgICAgICAuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLmlkICE9PSBjb25uZWN0ZWRVc2VyPy5pZCB8fCBpbmNsdWRlU2VsZik7XG4gICAgaWYgKGluY2x1ZGVTZWxmICYmXG4gICAgICAgICFtZW1iZXJzVG9TaG93LmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkKSkge1xuICAgICAgICAvLyBpZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBpbiB0aGUgaW5pdGlhbCBiYXRjaCBvZiBtZW1iZXJzLFxuICAgICAgICAvLyByZXBsYWNlIHRoZSBmaXJzdCBpdGVtIGluIG1lbWJlcnNUb1Nob3cgYXJyYXkgd2l0aCB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgIGNvbnN0IHNlbGYgPSBtZW1iZXJzLmZpbmQoKHsgdXNlciB9KSA9PiB1c2VyLmlkID09PSBjb25uZWN0ZWRVc2VyPy5pZCk7XG4gICAgICAgIGlmIChzZWxmKSB7XG4gICAgICAgICAgICBtZW1iZXJzVG9TaG93LnNwbGljZSgwLCAxLCBzZWxmLnVzZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZUxhYmVsID0gQ0FMTElOR19TVEFURV9UT19MQUJFTFtjYWxsaW5nU3RhdGVdO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWwgc3RyLXZpZGVvX19jYWxsLXBhbmVsLS1yaW5naW5nXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1wYW5lbF9fbWVtYmVycy1saXN0XCIsIGNoaWxkcmVuOiBtZW1iZXJzVG9TaG93Lm1hcCgodXNlcikgPT4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19tZW1iZXItYm94XCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiB1c2VyLm5hbWUsIGltYWdlU3JjOiB1c2VyLmltYWdlIH0pLCB1c2VyLm5hbWUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX21lbWJlcl9kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVtYmVyX25hbWVcIiwgY2hpbGRyZW46IHVzZXIubmFtZSB9KSB9KSldIH0sIHVzZXIuaWQpKSkgfSksIGNhbGxpbmdTdGF0ZUxhYmVsICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19jYWxsaW5nLXN0YXRlLWxhYmVsXCIsIGNoaWxkcmVuOiB0KGNhbGxpbmdTdGF0ZUxhYmVsKSB9KSksIFtDYWxsaW5nU3RhdGUuUklOR0lORywgQ2FsbGluZ1N0YXRlLkpPSU5JTkddLmluY2x1ZGVzKGNhbGxpbmdTdGF0ZSkgJiYgKGpzeChSaW5naW5nQ2FsbENvbnRyb2xzLCB7fSkpXSB9KSk7XG59O1xuXG5jb25zdCBieU5hbWVPcklkID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmIChhLmlkIDwgYi5pZClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VMb2NhbFBhcnRpY2lwYW50LCB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gdXNlTG9jYWxQYXJ0aWNpcGFudCgpO1xuICAgIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtwZXJtaXNzaW9uUmVxdWVzdHMsIHNldFBlcm1pc3Npb25SZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgY2FuVXBkYXRlQ2FsbFBlcm1pc3Npb25zID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyk7XG4gICAgY29uc3QgbG9jYWxVc2VySWQgPSBsb2NhbFBhcnRpY2lwYW50Py51c2VySWQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFjYW5VcGRhdGVDYWxsUGVybWlzc2lvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBjYWxsLm9uKCdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnVzZXIuaWQgIT09IGxvY2FsVXNlcklkKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gWy4uLnJlcXVlc3RzLCBldmVudF0uc29ydCgoYSwgYikgPT4gYnlOYW1lT3JJZChhLnVzZXIsIGIudXNlcikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW2NhbGwsIGNhblVwZGF0ZUNhbGxQZXJtaXNzaW9ucywgbG9jYWxVc2VySWRdKTtcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uID0gKHJlcXVlc3QsIHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgcGVybWlzc2lvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmFudCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LmdyYW50UGVybWlzc2lvbnModXNlci5pZCwgcGVybWlzc2lvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXZva2UnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXZva2VQZXJtaXNzaW9ucyh1c2VyLmlkLCBwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gcmVxdWVzdHMuZmlsdGVyKChyKSA9PiByICE9PSByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgfSk7XG4gICAgLy8gZG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIHRoZXJlIGFyZSBubyBwZXJtaXNzaW9uIHJlcXVlc3RzXG4gICAgaWYgKHBlcm1pc3Npb25SZXF1ZXN0cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHNcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0c19fbm90aWZpY2F0aW9uXCIsIGNoaWxkcmVuOiBbanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RzX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IFtwZXJtaXNzaW9uUmVxdWVzdHMubGVuZ3RoLCBcIiBwZW5kaW5nIHBlcm1pc3Npb24gcmVxdWVzdHNcIl0gfSksIGpzeChCdXR0b24sIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKChlKSA9PiAhZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogZXhwYW5kZWQgPyAnSGlkZSByZXF1ZXN0cycgOiAnU2hvdyByZXF1ZXN0cycgfSldIH0pLCBleHBhbmRlZCAmJiAoanN4KFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgeyByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgcGVybWlzc2lvblJlcXVlc3RzOiBwZXJtaXNzaW9uUmVxdWVzdHMsIGhhbmRsZVVwZGF0ZVBlcm1pc3Npb246IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24gfSkpXSB9KSk7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RMaXN0ID0gZm9yd2FyZFJlZihmdW5jdGlvbiBQZXJtaXNzaW9uUmVxdWVzdExpc3QocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvblJlcXVlc3RzLCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHMtbGlzdFwiLCByZWY6IHJlZiwgLi4ucmVzdCwgY2hpbGRyZW46IHBlcm1pc3Npb25SZXF1ZXN0cy5tYXAoKHJlcXVlc3QsIHJlcUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHBlcm1pc3Npb25zIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgcmV0dXJuIChqc3goRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogcGVybWlzc2lvbnMubWFwKChwZXJtaXNzaW9uKSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdFwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fbWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZUZvclBlcm1pc3Npb24odXNlci5uYW1lIHx8IHVzZXIuaWQsIHBlcm1pc3Npb24sIHQpIH0pLCBqc3goQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uLS1hbGxvd1wiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdncmFudCcpLCBjaGlsZHJlbjogdCgnQWxsb3cnKSB9KSwganN4KEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RfX2J1dHRvbi0tcmVqZWN0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ3Jldm9rZScpLCBjaGlsZHJlbjogdCgnUmV2b2tlJykgfSksIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24tLXJlamVjdFwiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdkaXNtaXNzJyksIGNoaWxkcmVuOiB0KCdEaXNtaXNzJykgfSldIH0sIHBlcm1pc3Npb24pKSkgfSwgYCR7dXNlci5pZH0vJHtyZXFJbmRleH1gKSk7XG4gICAgICAgIH0pIH0pKTtcbn0pO1xuY29uc3QgQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uJywgY2xhc3NOYW1lKSwgLi4ucmVzdCB9KSk7XG59O1xuY29uc3QgbWVzc2FnZUZvclBlcm1pc3Npb24gPSAodXNlck5hbWUsIHBlcm1pc3Npb24sIHQpID0+IHtcbiAgICBzd2l0Y2ggKHBlcm1pc3Npb24pIHtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU86XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVhaycsIHsgdXNlck5hbWUgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPOlxuICAgICAgICAgICAgcmV0dXJuIHQoJ3t7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRTpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19Jywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBTdHJlYW1UaGVtZSA9ICh7IGFzOiBDb21wb25lbnQgPSAnZGl2JywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KENvbXBvbmVudCwgeyAuLi5wcm9wcywgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGVmYXVsdERpc2FibGVkVmlkZW9QcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0cl92aWRlb19fdmlkZW8tcHJldmlld19fZGlzYWJsZWQtdmlkZW8tcHJldmlld1wiLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgZGlzYWJsZWQnKSB9KSk7XG59O1xuY29uc3QgRGVmYXVsdE5vQ2FtZXJhUHJldmlldyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHJfdmlkZW9fX3ZpZGVvLXByZXZpZXdfX25vLWNhbWVyYS1wcmV2aWV3XCIsIGNoaWxkcmVuOiB0KCdObyBjYW1lcmEgZm91bmQnKSB9KSk7XG59O1xuY29uc3QgVmlkZW9QcmV2aWV3ID0gKHsgY2xhc3NOYW1lLCBtaXJyb3IgPSB0cnVlLCBEaXNhYmxlZFZpZGVvUHJldmlldyA9IERlZmF1bHREaXNhYmxlZFZpZGVvUHJldmlldywgTm9DYW1lcmFQcmV2aWV3ID0gRGVmYXVsdE5vQ2FtZXJhUHJldmlldywgU3RhcnRpbmdDYW1lcmFQcmV2aWV3ID0gTG9hZGluZ0luZGljYXRvciwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBkZXZpY2VzLCBzdGF0dXMsIGlzTXV0ZSwgbWVkaWFTdHJlYW0gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgbGV0IGNvbnRlbnRzO1xuICAgIGlmIChpc011dGUgJiYgZGV2aWNlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRlbnRzID0ganN4KE5vQ2FtZXJhUHJldmlldywge30pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgICBjb25zdCBsb2FkaW5nID0gIW1lZGlhU3RyZWFtO1xuICAgICAgICBjb250ZW50cyA9IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVkaWFTdHJlYW0gJiYgKGpzeChCYXNlVmlkZW8sIHsgc3RyZWFtOiBtZWRpYVN0cmVhbSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1taXJyb3InOiBtaXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1sb2FkaW5nJzogbG9hZGluZyxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSkpLCBsb2FkaW5nICYmIGpzeChTdGFydGluZ0NhbWVyYVByZXZpZXcsIHt9KV0gfSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudHMgPSBqc3goRGlzYWJsZWRWaWRlb1ByZXZpZXcsIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8tcHJldmlldy1jb250YWluZXInLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY29udGVudHMgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZWxsaXBzaXNcIiwgcmVmOiByZWYgfSk7XG59KTtcbmNvbnN0IERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBzdG9wU2NyZWVuU2hhcmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnNjcmVlblNoYXJlLmRpc2FibGUoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RvcCBzY3JlZW4gc2hhcmluZzonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5XCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fdGl0bGVcIiwgY2hpbGRyZW46IHQoJ1lvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlbicpIH0pLCBqc3hzKFwiYnV0dG9uXCIsIHsgb25DbGljazogc3RvcFNjcmVlblNoYXJlLCB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fYnV0dG9uXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJjbG9zZVwiIH0pLCBcIiBcIiwgdCgnU3RvcCBTY3JlZW4gU2hhcmluZycpXSB9KV0gfSkpO1xufTtcbmNvbnN0IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSA9ICh7IGluZGljYXRvcnNWaXNpYmxlID0gdHJ1ZSwgbWVudVBsYWNlbWVudCA9ICdib3R0b20tc3RhcnQnLCBzaG93TWVudUJ1dHRvbiA9IHRydWUsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51OiBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSQxID0gUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBpc1NjcmVlblNoYXJpbmcgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgaWYgKHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICBpc1NjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaycpIHtcbiAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIHt9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2hvd01lbnVCdXR0b24gJiYgKGpzeChNZW51VG9nZ2xlLCB7IHN0cmF0ZWd5OiBcImZpeGVkXCIsIHBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24sIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUkMSwge30pIH0pKSwganN4KFJlYWN0aW9uLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbn07XG5jb25zdCBQYXJ0aWNpcGFudERldGFpbHMgPSAoeyBpbmRpY2F0b3JzVmlzaWJsZSA9IHRydWUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzTG9jYWxQYXJ0aWNpcGFudCwgY29ubmVjdGlvblF1YWxpdHksIHBpbiwgc2Vzc2lvbklkLCBuYW1lLCB1c2VySWQsIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmcgPSAhIWNvbm5lY3Rpb25RdWFsaXR5ICYmXG4gICAgICAgIFNmdU1vZGVscy5Db25uZWN0aW9uUXVhbGl0eVtjb25uZWN0aW9uUXVhbGl0eV0udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgY2FuVW5waW4gPSAhIXBpbiAmJiBwaW4uaXNMb2NhbFBpbjtcbiAgICBjb25zdCBpc1RyYWNrUGF1c2VkID0gdHJhY2tUeXBlICE9PSAnbm9uZScgPyBoYXNQYXVzZWRUcmFjayhwYXJ0aWNpcGFudCwgdHJhY2tUeXBlKSA6IGZhbHNlO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNcIiwgY2hpbGRyZW46IGpzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZVwiLCBjaGlsZHJlbjogW25hbWUgfHwgdXNlcklkLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiAhaGFzQXVkaW9UcmFjayAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX25hbWUtLWF1ZGlvLW11dGVkXCIgfSkpLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiAhaGFzVmlkZW9UcmFjayAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX25hbWUtLXZpZGVvLW11dGVkXCIgfSkpLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiBpc1RyYWNrUGF1c2VkICYmIChqc3goXCJzcGFuXCIsIHsgdGl0bGU6IHQoJ1ZpZGVvIHBhdXNlZCBkdWUgdG8gaW5zdWZmaWNpZW50IGJhbmR3aWR0aCcpLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS10cmFjay1wYXVzZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmIGNhblVucGluICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIG1vbnN0cm9zaXR5IG9uY2Ugd2UgaGF2ZSBhIHByb3BlciBkZXNpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIGpzeChcInNwYW5cIiwgeyB0aXRsZTogdCgnVW5waW4nKSwgb25DbGljazogKCkgPT4gY2FsbD8udW5waW4oc2Vzc2lvbklkKSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tcGlubmVkXCIgfSkpLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiBqc3goU3BlZWNoSW5kaWNhdG9yLCB7fSldIH0pIH0pLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiAoanN4KE5vdGlmaWNhdGlvbiwgeyBpc1Zpc2libGU6IGlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSA9PT0gU2Z1TW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5LlBPT1IsIG1lc3NhZ2U6IHQoJ1Bvb3IgY29ubmVjdGlvbiBxdWFsaXR5JyksIGNoaWxkcmVuOiBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eScsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eS0tJHtjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nfWApLCB0aXRsZTogY29ubmVjdGlvblF1YWxpdHlBc1N0cmluZyB9KSkgfSkpXSB9KSk7XG59O1xuY29uc3QgU3BlZWNoSW5kaWNhdG9yID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmcsIGlzRG9taW5hbnRTcGVha2VyIH0gPSBwYXJ0aWNpcGFudDtcbiAgICByZXR1cm4gKGpzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3InLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3ItLXNwZWFraW5nJywgaXNEb21pbmFudFNwZWFrZXIgJiYgJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvci0tZG9taW5hbnQnKSwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcl9fYmFyXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yX19iYXJcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3JfX2JhclwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBQYXJ0aWNpcGFudFZpZXcgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFBhcnRpY2lwYW50Vmlldyh7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgPSAndmlkZW9UcmFjaycsIG1pcnJvciwgbXV0ZUF1ZGlvLCByZWZzOiB7IHNldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSA9IHt9LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUkgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIH0sIHJlZikge1xuICAgIGNvbnN0IHsgaXNMb2NhbFBhcnRpY2lwYW50LCBpc1NwZWFraW5nLCBpc0RvbWluYW50U3BlYWtlciwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgW3RyYWNrZWRFbGVtZW50LCBzZXRUcmFja2VkRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGV4dFZpZGVvRWxlbWVudCwgc2V0Q29udGV4dFZpZGVvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LCBzZXRDb250ZXh0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gVE9ETzogYWxsb3cgdG8gcGFzcyBjdXN0b20gVmlld3BvcnRUcmFja2VyIGluc3RhbmNlIGZyb20gcHJvcHNcbiAgICB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5KHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0cmFja2VkRWxlbWVudCxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgaXNQYXJ0aWNpcGFudFZpZGVvRW5hYmxlZCB9ID0gdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRWaWV3Q29udGV4dFZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgcGFydGljaXBhbnRWaWV3RWxlbWVudDogdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHZpZGVvRWxlbWVudDogY29udGV4dFZpZGVvRWxlbWVudCxcbiAgICAgICAgdmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ6IGNvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgIH0pLCBbXG4gICAgICAgIGNvbnRleHRWaWRlb0VsZW1lbnQsXG4gICAgICAgIGNvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCxcbiAgICAgICAgcGFydGljaXBhbnQsXG4gICAgICAgIHRyYWNrZWRFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgXSk7XG4gICAgY29uc3QgdmlkZW9SZWZzID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBzZXRWaWRlb0VsZW1lbnQ6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb0VsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgIHNldENvbnRleHRWaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50OiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgIHNldENvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICB9KSwgW3NldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJwYXJ0aWNpcGFudC12aWV3XCIsIHJlZjogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGFwcGx5RWxlbWVudFRvUmVmKHJlZiwgZWxlbWVudCk7XG4gICAgICAgICAgICBzZXRUcmFja2VkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXcnLCBpc0RvbWluYW50U3BlYWtlciAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1kb21pbmFudC1zcGVha2VyJywgaXNTcGVha2luZyAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1zcGVha2luZycsICFoYXNWaWRlb1RyYWNrICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLW5vLXZpZGVvJywgIWhhc0F1ZGlvVHJhY2sgJiYgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldy0tbm8tYXVkaW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjoganN4cyhQYXJ0aWNpcGFudFZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwYXJ0aWNpcGFudFZpZXdDb250ZXh0VmFsdWUsIGNoaWxkcmVuOiBbIWlzTG9jYWxQYXJ0aWNpcGFudCAmJiAhbXV0ZUF1ZGlvICYmIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbaGFzQXVkaW9UcmFjayAmJiAoanN4KEF1ZGlvLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiBcImF1ZGlvVHJhY2tcIiB9KSksIGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayAmJiAoanN4KEF1ZGlvLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlQXVkaW9UcmFja1wiIH0pKV0gfSkpLCBqc3goVmlkZW8kMSwgeyBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IHRyYWNrVHlwZSwgcmVmczogdmlkZW9SZWZzLCBlbmFibGVkOiBpc0xvY2FsUGFydGljaXBhbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrVHlwZSAhPT0gJ3ZpZGVvVHJhY2snIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkKHBhcnRpY2lwYW50LnNlc3Npb25JZCksIG1pcnJvcjogbWlycm9yLCBhdXRvUGxheTogdHJ1ZSB9KSwgaXNDb21wb25lbnRUeXBlKFBhcnRpY2lwYW50Vmlld1VJKSA/IChqc3goUGFydGljaXBhbnRWaWV3VUksIHt9KSkgOiAoUGFydGljaXBhbnRWaWV3VUkpXSB9KSB9KSk7XG59KTtcblBhcnRpY2lwYW50Vmlldy5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudFZpZXcnO1xuXG4vLyByZS1leHBvcnRpbmcgdGhlIFN0cmVhbUNhbGxQcm92aWRlciBhcyBTdHJlYW1DYWxsXG5jb25zdCBTdHJlYW1DYWxsID0gU3RyZWFtQ2FsbFByb3ZpZGVyO1xuU3RyZWFtQ2FsbC5kaXNwbGF5TmFtZSA9ICdTdHJlYW1DYWxsJztcblxudmFyIEpvaW5pbmcgPSBcIkpvaW5pbmdcIjtcbnZhciBNaWMgPSBcIk1pY1wiO1xudmFyIFJpbmdpbmcgPSBcIlJpbmdpbmdcIjtcbnZhciBTcGVha2VycyA9IFwiU3BlYWtlcnNcIjtcbnZhciBWaWRlbyA9IFwiVmlkZW9cIjtcbnZhciBMaXZlID0gXCJMaXZlXCI7XG52YXIgUmVhY3Rpb25zID0gXCJSZWFjdGlvbnNcIjtcbnZhciBTdGF0aXN0aWNzID0gXCJTdGF0aXN0aWNzXCI7XG52YXIgSW52aXRlID0gXCJJbnZpdGVcIjtcbnZhciBKb2luID0gXCJKb2luXCI7XG52YXIgWW91ID0gXCJZb3VcIjtcbnZhciBNZSA9IFwiTWVcIjtcbnZhciBVbmtub3duID0gXCJVbmtub3duXCI7XG52YXIgRGVmYXVsdCA9IFwiRGVmYXVsdFwiO1xudmFyIFJlZnJlc2ggPSBcIlJlZnJlc2hcIjtcbnZhciBBbGxvdyA9IFwiQWxsb3dcIjtcbnZhciBSZXZva2UgPSBcIlJldm9rZVwiO1xudmFyIERpc21pc3MgPSBcIkRpc21pc3NcIjtcbnZhciBQaW5uZWQgPSBcIlBpbm5lZFwiO1xudmFyIFVucGluID0gXCJVbnBpblwiO1xudmFyIFBpbiA9IFwiUGluXCI7XG52YXIgQmxvY2sgPSBcIkJsb2NrXCI7XG52YXIgS2ljayA9IFwiS2lja1wiO1xudmFyIEVudGVyID0gXCJFbnRlclwiO1xudmFyIExlYXZlID0gXCJMZWF2ZVwiO1xudmFyIFBhcnRpY2lwYW50cyA9IFwiUGFydGljaXBhbnRzXCI7XG52YXIgQW5vbnltb3VzID0gXCIsIGFuZCAoe3sgY291bnQgfX0pIGFub255bW91c1wiO1xudmFyIGVuID0ge1xuXHRKb2luaW5nOiBKb2luaW5nLFxuXHRNaWM6IE1pYyxcblx0XCJObyBpbnRlcm5ldCBjb25uZWN0aW9uXCI6IFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvblwiLFxuXHRcIlJlLWNvbm5lY3RpbmdcIjogXCJSZS1jb25uZWN0aW5nXCIsXG5cdFJpbmdpbmc6IFJpbmdpbmcsXG5cdFwiU2NyZWVuIFNoYXJlXCI6IFwiU2NyZWVuIFNoYXJlXCIsXG5cdFwiU2VsZWN0IGEgQ2FtZXJhXCI6IFwiU2VsZWN0IGEgQ2FtZXJhXCIsXG5cdFwiU2VsZWN0IGEgTWljXCI6IFwiU2VsZWN0IGEgTWljXCIsXG5cdFwiU2VsZWN0IFNwZWFrZXJzXCI6IFwiU2VsZWN0IFNwZWFrZXJzXCIsXG5cdFNwZWFrZXJzOiBTcGVha2Vycyxcblx0VmlkZW86IFZpZGVvLFxuXHRcIllvdSBhcmUgbXV0ZWQuIFVubXV0ZSB0byBzcGVhay5cIjogXCJZb3UgYXJlIG11dGVkLiBVbm11dGUgdG8gc3BlYWsuXCIsXG5cdExpdmU6IExpdmUsXG5cdFwiTGl2ZXN0cmVhbSBzdGFydHMgc29vblwiOiBcIkxpdmVzdHJlYW0gc3RhcnRzIHNvb25cIixcblx0XCJMaXZlc3RyZWFtIHN0YXJ0cyBhdCB7eyBzdGFydHNBdCB9fVwiOiBcIkxpdmVzdHJlYW0gc3RhcnRzIGF0IHt7IHN0YXJ0c0F0LCBkYXRldGltZSB9fVwiLFxuXHRcInt7IGNvdW50IH19IHBhcnRpY2lwYW50cyBqb2luZWQgZWFybHlfb25lXCI6IFwie3sgY291bnQgfX0gcGFydGljaXBhbnQgam9pbmVkIGVhcmx5XCIsXG5cdFwie3sgY291bnQgfX0gcGFydGljaXBhbnRzIGpvaW5lZCBlYXJseV9vdGhlclwiOiBcInt7IGNvdW50IH19IHBhcnRpY2lwYW50cyBqb2luZWQgZWFybHlcIixcblx0XCJZb3UgY2FuIG5vdyBzcGVhay5cIjogXCJZb3UgY2FuIG5vdyBzcGVhay5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuXCI6IFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uXCIsXG5cdFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi5cIjogXCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLlwiLFxuXHRcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiOiBcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiLFxuXHRcIlJlY29yZCBjYWxsXCI6IFwiUmVjb3JkIGNhbGxcIixcblx0UmVhY3Rpb25zOiBSZWFjdGlvbnMsXG5cdFN0YXRpc3RpY3M6IFN0YXRpc3RpY3MsXG5cdFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCIsXG5cdFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHNjcmVlbi5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiLFxuXHRcIlNoYXJlIHNjcmVlblwiOiBcIlNoYXJlIHNjcmVlblwiLFxuXHRcIkluY29taW5nIENhbGwuLi5cIjogXCJJbmNvbWluZyBDYWxsLi4uXCIsXG5cdFwiQ2FsbGluZy4uLlwiOiBcIkNhbGxpbmcuLi5cIixcblx0XCJNdXRlIEFsbFwiOiBcIk11dGUgQWxsXCIsXG5cdEludml0ZTogSW52aXRlLFxuXHRKb2luOiBKb2luLFxuXHRZb3U6IFlvdSxcblx0TWU6IE1lLFxuXHRVbmtub3duOiBVbmtub3duLFxuXHRcIlRvZ2dsZSBkZXZpY2UgbWVudVwiOiBcIlRvZ2dsZSBkZXZpY2UgbWVudVwiLFxuXHREZWZhdWx0OiBEZWZhdWx0LFxuXHRcIkNhbGwgUmVjb3JkaW5nc1wiOiBcIkNhbGwgUmVjb3JkaW5nc1wiLFxuXHRSZWZyZXNoOiBSZWZyZXNoLFxuXHRcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiOiBcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiLFxuXHRcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiOiBcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiLFxuXHRcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiOiBcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiLFxuXHRcIlN0b3AgU2NyZWVuIFNoYXJpbmdcIjogXCJTdG9wIFNjcmVlbiBTaGFyaW5nXCIsXG5cdEFsbG93OiBBbGxvdyxcblx0UmV2b2tlOiBSZXZva2UsXG5cdERpc21pc3M6IERpc21pc3MsXG5cdFwiTWljcm9waG9uZSBvblwiOiBcIk1pY3JvcGhvbmUgb25cIixcblx0XCJNaWNyb3Bob25lIG9mZlwiOiBcIk1pY3JvcGhvbmUgb2ZmXCIsXG5cdFwiQ2FtZXJhIG9uXCI6IFwiQ2FtZXJhIG9uXCIsXG5cdFwiQ2FtZXJhIG9mZlwiOiBcIkNhbWVyYSBvZmZcIixcblx0XCJObyBjYW1lcmEgZm91bmRcIjogXCJObyBjYW1lcmEgZm91bmRcIixcblx0XCJWaWRlbyBpcyBkaXNhYmxlZFwiOiBcIlZpZGVvIGlzIGRpc2FibGVkXCIsXG5cdFBpbm5lZDogUGlubmVkLFxuXHRVbnBpbjogVW5waW4sXG5cdFBpbjogUGluLFxuXHRcIlBpbiBmb3IgZXZlcnlvbmVcIjogXCJQaW4gZm9yIGV2ZXJ5b25lXCIsXG5cdFwiVW5waW4gZm9yIGV2ZXJ5b25lXCI6IFwiVW5waW4gZm9yIGV2ZXJ5b25lXCIsXG5cdEJsb2NrOiBCbG9jayxcblx0S2ljazogS2ljayxcblx0XCJUdXJuIG9mZiB2aWRlb1wiOiBcIlR1cm4gb2ZmIHZpZGVvXCIsXG5cdFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCI6IFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCIsXG5cdFwiTXV0ZSBhdWRpb1wiOiBcIk11dGUgYXVkaW9cIixcblx0XCJNdXRlIHNjcmVlbiBzaGFyZSBhdWRpb1wiOiBcIk11dGUgc2NyZWVuIHNoYXJlIGF1ZGlvXCIsXG5cdFwiQWxsb3cgYXVkaW9cIjogXCJBbGxvdyBhdWRpb1wiLFxuXHRcIkFsbG93IHZpZGVvXCI6IFwiQWxsb3cgdmlkZW9cIixcblx0XCJBbGxvdyBzY3JlZW4gc2hhcmluZ1wiOiBcIkFsbG93IHNjcmVlbiBzaGFyaW5nXCIsXG5cdFwiRGlzYWJsZSBhdWRpb1wiOiBcIkRpc2FibGUgYXVkaW9cIixcblx0XCJEaXNhYmxlIHZpZGVvXCI6IFwiRGlzYWJsZSB2aWRlb1wiLFxuXHRcIkRpc2FibGUgc2NyZWVuIHNoYXJpbmdcIjogXCJEaXNhYmxlIHNjcmVlbiBzaGFyaW5nXCIsXG5cdEVudGVyOiBFbnRlcixcblx0TGVhdmU6IExlYXZlLFxuXHRcIkxlYXZlIGNhbGxcIjogXCJMZWF2ZSBjYWxsXCIsXG5cdFwiRW5kIGNhbGwgZm9yIGFsbFwiOiBcIkVuZCBjYWxsIGZvciBhbGxcIixcblx0XCJ7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlblwiOiBcInt7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuXCIsXG5cdFwie3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZVwiOiBcInt7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmVcIixcblx0XCJEb21pbmFudCBTcGVha2VyXCI6IFwiRG9taW5hbnQgU3BlYWtlclwiLFxuXHRcIlBvb3IgY29ubmVjdGlvbiBxdWFsaXR5XCI6IFwiUG9vciBjb25uZWN0aW9uIHF1YWxpdHkuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uXCIsXG5cdFwiVmlkZW8gcGF1c2VkIGR1ZSB0byBpbnN1ZmZpY2llbnQgYmFuZHdpZHRoXCI6IFwiVmlkZW8gcGF1c2VkIGR1ZSB0byBpbnN1ZmZpY2llbnQgYmFuZHdpZHRoXCIsXG5cdFBhcnRpY2lwYW50czogUGFydGljaXBhbnRzLFxuXHRBbm9ueW1vdXM6IEFub255bW91cyxcblx0XCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIjogXCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIixcblx0XCJQYXJ0aWNpcGFudHMgKHt7IG51bWJlck9mUGFydGljaXBhbnRzIH19KVwiOiBcIlBhcnRpY2lwYW50cyAoe3sgbnVtYmVyT2ZQYXJ0aWNpcGFudHMgfX0pXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgc2hhcmluZyB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyBzaGFyaW5nIHRoZWlyIHNjcmVlblwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc3BlYWtcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNwZWFrXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzaGFyZSB0aGVpciBjYW1lcmFcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNoYXJlIHRoZWlyIGNhbWVyYVwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gcHJlc2VudCB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCJcbn07XG5cbmNvbnN0IHRyYW5zbGF0aW9ucyA9IHsgZW4gfTtcblxuY29uc3QgU3RyZWFtVmlkZW8gPSAocHJvcHMpID0+IHtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1WaWRlb1Byb3ZpZGVyLCB7IHRyYW5zbGF0aW9uc092ZXJyaWRlczogdHJhbnNsYXRpb25zLCAuLi5wcm9wcyB9KSk7XG59O1xuU3RyZWFtVmlkZW8uZGlzcGxheU5hbWUgPSAnU3RyZWFtVmlkZW8nO1xuXG5mdW5jdGlvbiBhcHBseUZpbHRlcihvYmosIGZpbHRlcikge1xuICAgIGlmICgnJGFuZCcgaW4gZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXIuJGFuZC5ldmVyeSgoZikgPT4gYXBwbHlGaWx0ZXIob2JqLCBmKSk7XG4gICAgfVxuICAgIGlmICgnJG9yJyBpbiBmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlci4kb3Iuc29tZSgoZikgPT4gYXBwbHlGaWx0ZXIob2JqLCBmKSk7XG4gICAgfVxuICAgIGlmICgnJG5vdCcgaW4gZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiAhYXBwbHlGaWx0ZXIob2JqLCBmaWx0ZXIuJG5vdCk7XG4gICAgfVxuICAgIHJldHVybiBjaGVja0NvbmRpdGlvbnMob2JqLCBmaWx0ZXIpO1xufVxuZnVuY3Rpb24gY2hlY2tDb25kaXRpb25zKG9iaiwgY29uZGl0aW9ucykge1xuICAgIGxldCBtYXRjaCA9IHRydWU7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZGl0aW9ucykpIHtcbiAgICAgICAgY29uc3Qgb3BlcmF0b3IgPSBjb25kaXRpb25zW2tleV07XG4gICAgICAgIGNvbnN0IG1heWJlT3BlcmF0b3IgPSBvcGVyYXRvciAmJiB0eXBlb2Ygb3BlcmF0b3IgPT09ICdvYmplY3QnO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICBpZiAobWF5YmVPcGVyYXRvciAmJiAnJGVxJyBpbiBvcGVyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgZXFPcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICAgICAgbWF0Y2ggJiYgKG1hdGNoID0gZXFPcGVyYXRvci4kZXEgPT09IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXliZU9wZXJhdG9yICYmICckbmVxJyBpbiBvcGVyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgbmVxT3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgIG1hdGNoICYmIChtYXRjaCA9IG5lcU9wZXJhdG9yLiRuZXEgIT09IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXliZU9wZXJhdG9yICYmICckaW4nIGluIG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBpbk9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgICAgICBtYXRjaCAmJiAobWF0Y2ggPSBpbk9wZXJhdG9yLiRpbi5pbmNsdWRlcyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1heWJlT3BlcmF0b3IgJiYgJyRjb250YWlucycgaW4gb3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5zT3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgICAgICBtYXRjaCAmJiAobWF0Y2ggPSB2YWx1ZS5pbmNsdWRlcyhjb250YWluc09wZXJhdG9yLiRjb250YWlucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVxVmFsdWUgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgIG1hdGNoICYmIChtYXRjaCA9IGVxVmFsdWUgPT09IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IHVzZUZpbHRlcmVkUGFydGljaXBhbnRzID0gKHsgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPSBmYWxzZSwgZmlsdGVyUGFydGljaXBhbnRzLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuZmlsdGVyZWRQYXJ0aWNpcGFudHMgPSBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICAgICAgPyByZW1vdGVQYXJ0aWNpcGFudHNcbiAgICAgICAgICAgIDogYWxsUGFydGljaXBhbnRzO1xuICAgICAgICByZXR1cm4gZmlsdGVyUGFydGljaXBhbnRzXG4gICAgICAgICAgICA/IGFwcGx5UGFydGljaXBhbnRzRmlsdGVyKHVuZmlsdGVyZWRQYXJ0aWNpcGFudHMsIGZpbHRlclBhcnRpY2lwYW50cylcbiAgICAgICAgICAgIDogdW5maWx0ZXJlZFBhcnRpY2lwYW50cztcbiAgICB9LCBbXG4gICAgICAgIGFsbFBhcnRpY2lwYW50cyxcbiAgICAgICAgcmVtb3RlUGFydGljaXBhbnRzLFxuICAgICAgICBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCxcbiAgICAgICAgZmlsdGVyUGFydGljaXBhbnRzLFxuICAgIF0pO1xufTtcbmNvbnN0IGFwcGx5UGFydGljaXBhbnRzRmlsdGVyID0gKHBhcnRpY2lwYW50cywgZmlsdGVyKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyQ2FsbGJhY2sgPSB0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gZmlsdGVyXG4gICAgICAgIDogKHBhcnRpY2lwYW50KSA9PiBhcHBseUZpbHRlcih7XG4gICAgICAgICAgICB1c2VySWQ6IHBhcnRpY2lwYW50LnVzZXJJZCxcbiAgICAgICAgICAgIGlzU3BlYWtpbmc6IHBhcnRpY2lwYW50LmlzU3BlYWtpbmcsXG4gICAgICAgICAgICBpc0RvbWluYW50U3BlYWtlcjogcGFydGljaXBhbnQuaXNEb21pbmFudFNwZWFrZXIsXG4gICAgICAgICAgICBuYW1lOiBwYXJ0aWNpcGFudC5uYW1lLFxuICAgICAgICAgICAgcm9sZXM6IHBhcnRpY2lwYW50LnJvbGVzLFxuICAgICAgICAgICAgaXNQaW5uZWQ6IGlzUGlubmVkKHBhcnRpY2lwYW50KSxcbiAgICAgICAgICAgIGhhc1ZpZGVvOiBoYXNWaWRlbyhwYXJ0aWNpcGFudCksXG4gICAgICAgICAgICBoYXNBdWRpbzogaGFzQXVkaW8ocGFydGljaXBhbnQpLFxuICAgICAgICB9LCBmaWx0ZXIpO1xuICAgIHJldHVybiBwYXJ0aWNpcGFudHMuZmlsdGVyKGZpbHRlckNhbGxiYWNrKTtcbn07XG5jb25zdCB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KHBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVzZXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsXSk7XG59O1xuY29uc3QgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSAoY2FsbCwgaXNPbmVPbk9uZUNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGFsd2F5cyBzaG93IHRoZSByZW1vdGUgcGFydGljaXBhbnQgaW4gdGhlIHNwb3RsaWdodFxuICAgICAgICBpZiAoaXNPbmVPbk9uZUNhbGwpIHtcbiAgICAgICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNvbWJpbmVDb21wYXJhdG9ycyhzY3JlZW5TaGFyaW5nLCBsb2dnZWRJbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoc3BlYWtlckxheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNldFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzT25lT25PbmVDYWxsXSk7XG59O1xuY29uc3QgdXNlUmF3UmVtb3RlUGFydGljaXBhbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUmF3UGFydGljaXBhbnRzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHJhd1BhcmljaXBhbnRzID0gdXNlUmF3UGFydGljaXBhbnRzKCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gcmF3UGFyaWNpcGFudHMuZmlsdGVyKChwKSA9PiAhcC5pc0xvY2FsUGFydGljaXBhbnQpLCBbcmF3UGFyaWNpcGFudHNdKTtcbn07XG5jb25zdCByZXNldFNvcnRQcmVzZXQgPSAoY2FsbCkgPT4ge1xuICAgIC8vIHJlc2V0IHRoZSBzb3J0aW5nIHRvIHRoZSBkZWZhdWx0IGZvciB0aGUgY2FsbCB0eXBlXG4gICAgY29uc3QgY2FsbENvbmZpZyA9IENhbGxUeXBlcy5nZXQoY2FsbC50eXBlKTtcbiAgICBjYWxsLnNldFNvcnRQYXJ0aWNpcGFudHNCeShjYWxsQ29uZmlnLm9wdGlvbnMuc29ydFBhcnRpY2lwYW50c0J5IHx8IGRlZmF1bHRTb3J0UHJlc2V0KTtcbn07XG5jb25zdCBsb2dnZWRJbiA9IChhLCBiKSA9PiB7XG4gICAgaWYgKGEuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAoYi5pc0xvY2FsUGFydGljaXBhbnQpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IExpdmVzdHJlYW1MYXlvdXQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cywgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgW2N1cnJlbnRTcGVha2VyXSA9IHBhcnRpY2lwYW50cztcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSYXdSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBoYXNPbmdvaW5nU2NyZWVuU2hhcmVcbiAgICAgICAgPyBwYXJ0aWNpcGFudHMuZmluZChoYXNTY3JlZW5TaGFyZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdXNlUGFnaW5hdGVkTGF5b3V0U29ydFByZXNldChjYWxsKTtcbiAgICBjb25zdCBvdmVybGF5ID0gKGpzeChQYXJ0aWNpcGFudE92ZXJsYXksIHsgc2hvd1BhcnRpY2lwYW50Q291bnQ6IHByb3BzLnNob3dQYXJ0aWNpcGFudENvdW50LCBzaG93RHVyYXRpb246IHByb3BzLnNob3dEdXJhdGlvbiwgc2hvd0xpdmVCYWRnZTogcHJvcHMuc2hvd0xpdmVCYWRnZSwgc2hvd1NwZWFrZXJOYW1lOiBwcm9wcy5zaG93U3BlYWtlck5hbWUgfSkpO1xuICAgIGNvbnN0IHsgZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzLCBtdXRlZCB9ID0gcHJvcHM7XG4gICAgY29uc3QgZmxvYXRpbmdQYXJ0aWNpcGFudE92ZXJsYXkgPSBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiYgKGpzeChQYXJ0aWNpcGFudE92ZXJsYXlcbiAgICAvLyB0aGVzZSBlbGVtZW50cyBhcmVuJ3QgbmVlZGVkIGZvciB0aGUgdmlkZW8gZmVlZFxuICAgICwgeyBcbiAgICAgICAgLy8gdGhlc2UgZWxlbWVudHMgYXJlbid0IG5lZWRlZCBmb3IgdGhlIHZpZGVvIGZlZWRcbiAgICAgICAgc2hvd1BhcnRpY2lwYW50Q291bnQ6IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd1BhcnRpY2lwYW50Q291bnQgPz8gZmFsc2UsIHNob3dEdXJhdGlvbjogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93RHVyYXRpb24gPz8gZmFsc2UsIHNob3dMaXZlQmFkZ2U6IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd0xpdmVCYWRnZSA/PyBmYWxzZSwgc2hvd1NwZWFrZXJOYW1lOiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dTcGVha2VyTmFtZSA/PyB0cnVlIH0pKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fd3JhcHBlclwiLCBjaGlsZHJlbjogWyFtdXRlZCAmJiBqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSksIGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJiBwcmVzZW50ZXIgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3NjcmVlbi1zaGFyZVwiLCBwYXJ0aWNpcGFudDogcHJlc2VudGVyLCBQYXJ0aWNpcGFudFZpZXdVSTogb3ZlcmxheSwgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlVHJhY2tcIiwgbXV0ZUF1ZGlvIC8vIGF1ZGlvIGlzIHJlbmRlcmVkIGJ5IFBhcnRpY2lwYW50c0F1ZGlvXG4gICAgICAgICAgICAgICAgOiB0cnVlIH0pKSwgY3VycmVudFNwZWFrZXIgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgY2xhc3NOYW1lOiBjbHN4KGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICBjbHN4KCdzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19mbG9hdGluZy1wYXJ0aWNpcGFudCcsIGBzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19mbG9hdGluZy1wYXJ0aWNpcGFudC0tJHtmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnBvc2l0aW9uID8/ICd0b3AtcmlnaHQnfWApKSwgcGFydGljaXBhbnQ6IGN1cnJlbnRTcGVha2VyLCBQYXJ0aWNpcGFudFZpZXdVSTogZmxvYXRpbmdQYXJ0aWNpcGFudE92ZXJsYXkgfHwgb3ZlcmxheSwgbWlycm9yOiBwcm9wcy5taXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gIT09IGZhbHNlID8gdW5kZWZpbmVkIDogZmFsc2UsIG11dGVBdWRpbyAvLyBhdWRpbyBpcyByZW5kZXJlZCBieSBQYXJ0aWNpcGFudHNBdWRpb1xuICAgICAgICAgICAgICAgIDogdHJ1ZSB9KSldIH0pKTtcbn07XG5MaXZlc3RyZWFtTGF5b3V0LmRpc3BsYXlOYW1lID0gJ0xpdmVzdHJlYW1MYXlvdXQnO1xuY29uc3QgQmFja3N0YWdlTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzaG93RWFybHlQYXJ0aWNpcGFudENvdW50ID0gdHJ1ZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudENvdW50LCB1c2VDYWxsU3RhcnRzQXQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRDb3VudCA9IHVzZVBhcnRpY2lwYW50Q291bnQoKTtcbiAgICBjb25zdCBzdGFydHNBdCA9IHVzZUNhbGxTdGFydHNBdCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fYmFja3N0YWdlXCIsIGNoaWxkcmVuOiBbc3RhcnRzQXQgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fc3RhcnRzLWF0XCIsIGNoaWxkcmVuOiBzdGFydHNBdC5nZXRUaW1lKCkgPCBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ0xpdmVzdHJlYW0gc3RhcnRzIHNvb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0KCdMaXZlc3RyZWFtIHN0YXJ0cyBhdCB7eyBzdGFydHNBdCB9fScsIHsgc3RhcnRzQXQgfSkgfSkpLCBzaG93RWFybHlQYXJ0aWNpcGFudENvdW50ICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2Vhcmx5LXZpZXdlcnMtY291bnRcIiwgY2hpbGRyZW46IHQoJ3t7IGNvdW50IH19IHBhcnRpY2lwYW50cyBqb2luZWQgZWFybHknLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogcGFydGljaXBhbnRDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSkpXSB9KSB9KSk7XG59O1xuQmFja3N0YWdlTGF5b3V0LmRpc3BsYXlOYW1lID0gJ0JhY2tzdGFnZUxheW91dCc7XG5jb25zdCBQYXJ0aWNpcGFudE92ZXJsYXkgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGVuYWJsZUZ1bGxTY3JlZW4gPSB0cnVlLCBzaG93UGFydGljaXBhbnRDb3VudCA9IHRydWUsIHNob3dEdXJhdGlvbiA9IHRydWUsIHNob3dMaXZlQmFkZ2UgPSB0cnVlLCBzaG93U3BlYWtlck5hbWUgPSBmYWxzZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50Q291bnQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRDb3VudCA9IHVzZVBhcnRpY2lwYW50Q291bnQoKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHVzZVVwZGF0ZUNhbGxEdXJhdGlvbigpO1xuICAgIGNvbnN0IHRvZ2dsZUZ1bGxTY3JlZW4gPSB1c2VUb2dnbGVGdWxsU2NyZWVuKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fb3ZlcmxheVwiLCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19vdmVybGF5X19iYXJcIiwgY2hpbGRyZW46IFtzaG93TGl2ZUJhZGdlICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2xpdmUtYmFkZ2VcIiwgY2hpbGRyZW46IHQoJ0xpdmUnKSB9KSksIHNob3dQYXJ0aWNpcGFudENvdW50ICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3ZpZXdlcnMtY291bnRcIiwgY2hpbGRyZW46IHBhcnRpY2lwYW50Q291bnQgfSkpLCBzaG93U3BlYWtlck5hbWUgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fc3BlYWtlci1uYW1lXCIsIHRpdGxlOiBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZCB8fCAnJywgY2hpbGRyZW46IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkIHx8ICcnIH0pKSwgc2hvd0R1cmF0aW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2R1cmF0aW9uXCIsIGNoaWxkcmVuOiBmb3JtYXREdXJhdGlvbihkdXJhdGlvbikgfSkpLCBlbmFibGVGdWxsU2NyZWVuICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2dvLWZ1bGxzY3JlZW5cIiwgb25DbGljazogdG9nZ2xlRnVsbFNjcmVlbiB9KSldIH0pIH0pKTtcbn07XG5jb25zdCB1c2VVcGRhdGVDYWxsRHVyYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyB1c2VJc0NhbGxMaXZlLCB1c2VDYWxsU2Vzc2lvbiB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBpc0NhbGxMaXZlID0gdXNlSXNDYWxsTGl2ZSgpO1xuICAgIGNvbnN0IHNlc3Npb24gPSB1c2VDYWxsU2Vzc2lvbigpO1xuICAgIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24ubGl2ZV9zdGFydGVkX2F0KVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGxpdmVTdGFydFRpbWUgPSBuZXcgRGF0ZShzZXNzaW9uLmxpdmVfc3RhcnRlZF9hdCk7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gbGl2ZVN0YXJ0VGltZS5nZXRUaW1lKCkpIC8gMTAwMCk7XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpc0NhbGxMaXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHNldER1cmF0aW9uKChkKSA9PiBkICsgMSk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2lzQ2FsbExpdmVdKTtcbiAgICByZXR1cm4gZHVyYXRpb247XG59O1xuY29uc3QgdXNlVG9nZ2xlRnVsbFNjcmVlbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50Vmlld0VsZW1lbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBbaXNGdWxsc2NyZWVuLCBzZXRJc0Z1bGxzY3JlZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFydGljaXBhbnRWaWV3RWxlbWVudD8ucmVxdWVzdEZ1bGxzY3JlZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0Z1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0Z1bGxzY3JlZW4sIHBhcnRpY2lwYW50Vmlld0VsZW1lbnRdKTtcbn07XG5jb25zdCBmb3JtYXREdXJhdGlvbiA9IChkdXJhdGlvbkluTXMpID0+IHtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihkdXJhdGlvbkluTXMgLyA4NjQwMCk7XG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uSW5NcyAvIDM2MDApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkdXJhdGlvbkluTXMgJSAzNjAwKSAvIDYwKTtcbiAgICBjb25zdCBzZWNvbmRzID0gZHVyYXRpb25Jbk1zICUgNjA7XG4gICAgcmV0dXJuIGAke2RheXMgPyBkYXlzICsgJyAnIDogJyd9JHtob3VycyA/IGhvdXJzICsgJzonIDogJyd9JHttaW51dGVzIDwgMTAgPyAnMCcgOiAnJ30ke21pbnV0ZXN9OiR7c2Vjb25kcyA8IDEwID8gJzAnIDogJyd9JHtzZWNvbmRzfWA7XG59O1xuXG5jb25zdCBHUk9VUF9TSVpFID0gMTY7XG5jb25zdCBQYWdpbmF0ZWRHcmlkTGF5b3V0R3JvdXAgPSAoeyBncm91cCwgbWlycm9yLCBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0X19ncm91cCcsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dC0tb25lJzogZ3JvdXAubGVuZ3RoID09PSAxLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS10d28tZm91cic6IGdyb3VwLmxlbmd0aCA+PSAyICYmIGdyb3VwLmxlbmd0aCA8PSA0LFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS1maXZlLW5pbmUnOiBncm91cC5sZW5ndGggPj0gNSAmJiBncm91cC5sZW5ndGggPD0gOSxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBncm91cC5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIG11dGVBdWRpbzogdHJ1ZSwgbWlycm9yOiBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcjogUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUkgfSwgcGFydGljaXBhbnQuc2Vzc2lvbklkKSkpIH0pKTtcbn07XG5jb25zdCBQYWdpbmF0ZWRHcmlkTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBncm91cFNpemUgPSAocHJvcHMuZ3JvdXBTaXplIHx8IDApID4gMFxuICAgICAgICA/IHByb3BzLmdyb3VwU2l6ZSB8fCBHUk9VUF9TSVpFXG4gICAgICAgIDogR1JPVVBfU0laRSwgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPSBmYWxzZSwgZmlsdGVyUGFydGljaXBhbnRzLCBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPSB0cnVlLCBwYWdlQXJyb3dzVmlzaWJsZSA9IHRydWUsIFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIG11dGVkLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gdXNlU3RhdGUoMCk7XG4gICAgY29uc3QgW3BhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCwgc2V0UGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHJlbW90ZVBhcnRpY2lwYW50cyA9IHVzZVJhd1JlbW90ZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZUZpbHRlcmVkUGFydGljaXBhbnRzKHtcbiAgICAgICAgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQsXG4gICAgICAgIGZpbHRlclBhcnRpY2lwYW50cyxcbiAgICB9KTtcbiAgICB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghcGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50IHx8ICFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5zZXRWaWV3cG9ydChwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsIGNhbGxdKTtcbiAgICAvLyBvbmx5IHVzZWQgdG8gcmVuZGVyIHZpZGVvIGVsZW1lbnRzXG4gICAgY29uc3QgcGFydGljaXBhbnRHcm91cHMgPSB1c2VNZW1vKCgpID0+IGNodW5rKHBhcnRpY2lwYW50cywgZ3JvdXBTaXplKSwgW3BhcnRpY2lwYW50cywgZ3JvdXBTaXplXSk7XG4gICAgY29uc3QgcGFnZUNvdW50ID0gcGFydGljaXBhbnRHcm91cHMubGVuZ3RoO1xuICAgIC8vIHVwZGF0ZSBwYWdlIHdoZW4gcGFnZSBjb3VudCBpcyByZWR1Y2VkIGFuZCBzZWxlY3RlZCBwYWdlIG5vIGxvbmdlciBleGlzdHNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocGFnZSA+IHBhZ2VDb3VudCAtIDEpIHtcbiAgICAgICAgICAgIHNldFBhZ2UoTWF0aC5tYXgoMCwgcGFnZUNvdW50IC0gMSkpO1xuICAgICAgICB9XG4gICAgfSwgW3BhZ2UsIHBhZ2VDb3VudF0pO1xuICAgIGNvbnN0IHNlbGVjdGVkR3JvdXAgPSBwYXJ0aWNpcGFudEdyb3Vwc1twYWdlXTtcbiAgICBjb25zdCBtaXJyb3IgPSBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dF9fd3JhcHBlclwiLCByZWY6IHNldFBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCwgY2hpbGRyZW46IFshbXV0ZWQgJiYganN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0XCIsIGNoaWxkcmVuOiBbcGFnZUFycm93c1Zpc2libGUgJiYgcGFnZUNvdW50ID4gMSAmJiAoanN4KEljb25CdXR0b24sIHsgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGRpc2FibGVkOiBwYWdlID09PSAwLCBvbkNsaWNrOiAoKSA9PiBzZXRQYWdlKChjdXJyZW50UGFnZSkgPT4gTWF0aC5tYXgoMCwgY3VycmVudFBhZ2UgLSAxKSkgfSkpLCBzZWxlY3RlZEdyb3VwICYmIChqc3goUGFnaW5hdGVkR3JpZExheW91dEdyb3VwLCB7IGdyb3VwOiBzZWxlY3RlZEdyb3VwLCBtaXJyb3I6IG1pcnJvciwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciB9KSksIHBhZ2VBcnJvd3NWaXNpYmxlICYmIHBhZ2VDb3VudCA+IDEgJiYgKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBwYWdlID09PSBwYWdlQ291bnQgLSAxLCBpY29uOiBcImNhcmV0LXJpZ2h0XCIsIG9uQ2xpY2s6ICgpID0+IHNldFBhZ2UoKGN1cnJlbnRQYWdlKSA9PiBNYXRoLm1pbihwYWdlQ291bnQgLSAxLCBjdXJyZW50UGFnZSArIDEpKSB9KSldIH0pXSB9KSk7XG59O1xuUGFnaW5hdGVkR3JpZExheW91dC5kaXNwbGF5TmFtZSA9ICdQYWdpbmF0ZWRHcmlkTGF5b3V0JztcblxuY29uc3QgdXNlQ2FsY3VsYXRlSGFyZExpbWl0ID0gKFxuLyoqXG4gKiBFbGVtZW50IHRoYXQgc3RyZXRjaGVzIHRvIDEwMCUgb2YgdGhlIHdob2xlIGxheW91dCBjb21wb25lbnRcbiAqL1xud3JhcHBlckVsZW1lbnQsIFxuLyoqXG4gKiBFbGVtZW50IHRoYXQgZGlyZWN0bHkgaG9zdHMgaW5kaXZpZHVhbCBgUGFydGljaXBhbnRWaWV3YCAob3Igd3JhcHBlcikgZWxlbWVudHNcbiAqL1xuaG9zdEVsZW1lbnQsIGxpbWl0KSA9PiB7XG4gICAgY29uc3QgW2NhbGN1bGF0ZWRMaW1pdCwgc2V0Q2FsY3VsYXRlZExpbWl0XSA9IHVzZVN0YXRlKHtcbiAgICAgICAgdmVydGljYWw6IHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBsaW1pdCA6IG51bGwsXG4gICAgICAgIGhvcml6b250YWw6IHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBsaW1pdCA6IG51bGwsXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFob3N0RWxlbWVudCB8fFxuICAgICAgICAgICAgIXdyYXBwZXJFbGVtZW50IHx8XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY2hpbGRXaWR0aCA9IG51bGw7XG4gICAgICAgIGxldCBjaGlsZEhlaWdodCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJ0IHNob3VsZCBpZGVhbGx5IHJ1biBhcyBsaXR0bGUgdGltZXMgYXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIGdldCBjaGlsZCBtZWFzdXJlbWVudHMgYW5kIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgIC8vIGRvZXMgbm90IGNvbnNpZGVyIGR5bmFtaWNhbGx5IHNpemVkIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB0aGlzIGhvb2sgaXMgZm9yIFNwZWFrZXJMYXlvdXQgdXNlIG9ubHksIHdoZXJlIGNoaWxkcmVuIGluIHRoZSBiYXIgYXJlIGZpeGVkIHNpemVcbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGhvc3RFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkSGVpZ2h0ID0gY2hpbGQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoID0gY2hpbGQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShob3N0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8ga2VlcCB0aGUgc3RhdGUgYXQgeyB2ZXJ0aWNhbDogMSwgaG9yaXpvbnRhbDogMSB9XG4gICAgICAgICAgICAvLyB1bnRpbCB3ZSBnZXQgdGhlIHByb3BlciBjaGlsZCBtZWFzdXJlbWVudHNcbiAgICAgICAgICAgIGlmIChjaGlsZEhlaWdodCA9PT0gbnVsbCB8fCBjaGlsZFdpZHRoID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gTWF0aC5mbG9vcih3cmFwcGVyRWxlbWVudC5jbGllbnRIZWlnaHQgLyBjaGlsZEhlaWdodCk7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsID0gTWF0aC5mbG9vcih3cmFwcGVyRWxlbWVudC5jbGllbnRXaWR0aCAvIGNoaWxkV2lkdGgpO1xuICAgICAgICAgICAgc2V0Q2FsY3VsYXRlZExpbWl0KChwdikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwdi52ZXJ0aWNhbCAhPT0gdmVydGljYWwgfHwgcHYuaG9yaXpvbnRhbCAhPT0gaG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmVydGljYWwsIGhvcml6b250YWwgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHY7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUod3JhcHBlckVsZW1lbnQpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGhvc3RFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbaG9zdEVsZW1lbnQsIGxpbWl0LCB3cmFwcGVyRWxlbWVudF0pO1xuICAgIHJldHVybiBjYWxjdWxhdGVkTGltaXQ7XG59O1xuXG5jb25zdCBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlCYXIgPSAoKSA9PiAoanN4KERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgeyBtZW51UGxhY2VtZW50OiBcInRvcC1lbmRcIiB9KSk7XG5jb25zdCBTcGVha2VyTGF5b3V0ID0gKHsgUGFydGljaXBhbnRWaWV3VUlCYXIgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlCYXIsIFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0ID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID0gJ2JvdHRvbScsIHBhcnRpY2lwYW50c0JhckxpbWl0LCBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPSB0cnVlLCBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCA9IGZhbHNlLCBmaWx0ZXJQYXJ0aWNpcGFudHMsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgbXV0ZWQsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGFsbFBhcnRpY2lwYW50cyA9IHVzZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IHJlbW90ZVBhcnRpY2lwYW50cyA9IHVzZVJhd1JlbW90ZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IFtwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCAuLi5vdGhlclBhcnRpY2lwYW50c10gPSB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cyh7IGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50LCBmaWx0ZXJQYXJ0aWNpcGFudHMgfSk7XG4gICAgY29uc3QgW3BhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50LCBzZXRQYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRzQmFyRWxlbWVudCwgc2V0UGFydGljaXBhbnRzQmFyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYnV0dG9uc1dyYXBwZXJFbGVtZW50LCBzZXRCdXR0b25zV3JhcHBlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgaXNTcGVha2VyU2NyZWVuU2hhcmluZyA9IHBhcnRpY2lwYW50SW5TcG90bGlnaHQgJiYgaGFzU2NyZWVuU2hhcmUocGFydGljaXBhbnRJblNwb3RsaWdodCk7XG4gICAgY29uc3QgaGFyZExpbWl0ID0gdXNlQ2FsY3VsYXRlSGFyZExpbWl0KGJ1dHRvbnNXcmFwcGVyRWxlbWVudCwgcGFydGljaXBhbnRzQmFyRWxlbWVudCwgcGFydGljaXBhbnRzQmFyTGltaXQpO1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID09PSAncmlnaHQnO1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID09PSAndG9wJyB8fCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ2JvdHRvbSc7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCB8fCAhY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuc2V0Vmlld3BvcnQocGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIGNvbnN0IGlzT25lT25PbmVDYWxsID0gYWxsUGFydGljaXBhbnRzLmxlbmd0aCA9PT0gMjtcbiAgICB1c2VTcGVha2VyTGF5b3V0U29ydFByZXNldChjYWxsLCBpc09uZU9uT25lQ2FsbCk7XG4gICAgbGV0IHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQgPSBvdGhlclBhcnRpY2lwYW50cztcbiAgICBjb25zdCBoYXJkTGltaXRUb0FwcGx5ID0gaXNWZXJ0aWNhbFxuICAgICAgICA/IGhhcmRMaW1pdC52ZXJ0aWNhbFxuICAgICAgICA6IGhhcmRMaW1pdC5ob3Jpem9udGFsO1xuICAgIGlmICh0eXBlb2YgcGFydGljaXBhbnRzQmFyTGltaXQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIGhhcmRMaW1pdFRvQXBwbHkgIT09IG51bGwpIHtcbiAgICAgICAgcGFydGljaXBhbnRzV2l0aEFwcGxpZWRMaW1pdCA9IG90aGVyUGFydGljaXBhbnRzLnNsaWNlKDAsIFxuICAgICAgICAvLyBzdWJ0cmFjdCAxIGlmIHNwZWFrZXIgaXMgc2hhcmluZyBzY3JlZW4gYXNcbiAgICAgICAgLy8gdGhhdCBvbmUgaXMgcmVuZGVyZWQgaW5kZXBlbmRlbnRseSBmcm9tIG90aGVyUGFydGljaXBhbnRzIGFycmF5XG4gICAgICAgIGhhcmRMaW1pdFRvQXBwbHkgLSAoaXNTcGVha2VyU2NyZWVuU2hhcmluZyA/IDEgOiAwKSk7XG4gICAgfVxuICAgIGNvbnN0IG1pcnJvciA9IG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA/IHVuZGVmaW5lZCA6IGZhbHNlO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmVuZGVyUGFydGljaXBhbnRzQmFyID0gcGFydGljaXBhbnRzQmFyUG9zaXRpb24gJiZcbiAgICAgICAgKHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQubGVuZ3RoID4gMCB8fCBpc1NwZWFrZXJTY3JlZW5TaGFyaW5nKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fd3JhcHBlclwiLCBjaGlsZHJlbjogWyFtdXRlZCAmJiBqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc3BlYWtlci1sYXlvdXQnLCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBgc3RyLXZpZGVvX19zcGVha2VyLWxheW91dC0tdmFyaWFudC0ke3BhcnRpY2lwYW50c0JhclBvc2l0aW9ufWApLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19zcG90bGlnaHRcIiwgY2hpbGRyZW46IHBhcnRpY2lwYW50SW5TcG90bGlnaHQgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50SW5TcG90bGlnaHQsIG11dGVBdWRpbzogdHJ1ZSwgbWlycm9yOiBtaXJyb3IsIHRyYWNrVHlwZTogaXNTcGVha2VyU2NyZWVuU2hhcmluZyA/ICdzY3JlZW5TaGFyZVRyYWNrJyA6ICd2aWRlb1RyYWNrJywgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0LCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciB9KSkgfSksIHJlbmRlclBhcnRpY2lwYW50c0JhciAmJiAoanN4cyhcImRpdlwiLCB7IHJlZjogc2V0QnV0dG9uc1dyYXBwZXJFbGVtZW50LCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci1idXR0b25zLXdyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci13cmFwcGVyXCIsIHJlZjogc2V0UGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHsgcmVmOiBzZXRQYXJ0aWNpcGFudHNCYXJFbGVtZW50LCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhclwiLCBjaGlsZHJlbjogW2lzU3BlYWtlclNjcmVlblNoYXJpbmcgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUlCYXIsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcjogUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBtaXJyb3I6IG1pcnJvciwgbXV0ZUF1ZGlvOiB0cnVlIH0pIH0sIHBhcnRpY2lwYW50SW5TcG90bGlnaHQuc2Vzc2lvbklkKSksIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJQmFyLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgbWlycm9yOiBtaXJyb3IsIG11dGVBdWRpbzogdHJ1ZSB9KSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSldIH0pIH0pLCBwYWdlQXJyb3dzVmlzaWJsZSAmJiBpc1ZlcnRpY2FsICYmIChqc3goVmVydGljYWxTY3JvbGxCdXR0b25zLCB7IHNjcm9sbFdyYXBwZXI6IHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IH0pKSwgcGFnZUFycm93c1Zpc2libGUgJiYgaXNIb3Jpem9udGFsICYmIChqc3goSG9yaXpvbnRhbFNjcm9sbEJ1dHRvbnMsIHsgc2Nyb2xsV3JhcHBlcjogcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfSkpXSB9KSldIH0pXSB9KSk7XG59O1xuU3BlYWtlckxheW91dC5kaXNwbGF5TmFtZSA9ICdTcGVha2VyTGF5b3V0JztcbmNvbnN0IEhvcml6b250YWxTY3JvbGxCdXR0b25zID0gKHsgc2Nyb2xsV3JhcHBlciwgfSkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uKHNjcm9sbFdyYXBwZXIpO1xuICAgIGNvbnN0IHNjcm9sbFN0YXJ0Q2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IGxlZnQ6IC0xNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbEVuZENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyBsZWZ0OiAxNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW3Njcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnc3RhcnQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxTdGFydENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLS1idXR0b24tbGVmdFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdlbmQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxFbmRDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtcmlnaHRcIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi1yaWdodFwiIH0pKV0gfSkpO1xufTtcbmNvbnN0IFZlcnRpY2FsU2Nyb2xsQnV0dG9ucyA9ICh7IHNjcm9sbFdyYXBwZXIsIH0pID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24oc2Nyb2xsV3JhcHBlcik7XG4gICAgY29uc3Qgc2Nyb2xsVG9wQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogLTE1MCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc2Nyb2xsQm90dG9tQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzY3JvbGxQb3NpdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gJ3RvcCcgJiYgKGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IHNjcm9sbFRvcENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC11cFwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLXRvcFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdib3R0b20nICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxCb3R0b21DbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtZG93blwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLWJvdHRvbVwiIH0pKV0gfSkpO1xufTtcblxuY29uc3QgUGlwID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCA9IGZhbHNlLCBmaWx0ZXJQYXJ0aWNpcGFudHMsIG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA9IHRydWUsIFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2xheW91dFdyYXBwZXJFbGVtZW50LCBzZXRMYXlvdXRXcmFwcGVyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZUZpbHRlcmVkUGFydGljaXBhbnRzKHtcbiAgICAgICAgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQsXG4gICAgICAgIGZpbHRlclBhcnRpY2lwYW50cyxcbiAgICB9KTtcbiAgICBjb25zdCBzY3JlZW5TaGFyaW5nUGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudHMuZmluZCgocCkgPT4gaGFzU2NyZWVuU2hhcmUocCkpO1xuICAgIHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRXcmFwcGVyRWxlbWVudCB8fCAhY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGNhbGwuc2V0Vmlld3BvcnQobGF5b3V0V3JhcHBlckVsZW1lbnQpO1xuICAgIH0sIFtsYXlvdXRXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIGNvbnN0IG1pcnJvciA9IG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA/IHVuZGVmaW5lZCA6IGZhbHNlO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGlwLWxheW91dFwiLCByZWY6IHNldExheW91dFdyYXBwZXJFbGVtZW50LCBjaGlsZHJlbjogW3NjcmVlblNoYXJpbmdQYXJ0aWNpcGFudCAmJlxuICAgICAgICAgICAgICAgIChzY3JlZW5TaGFyaW5nUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50ID8gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19waXAtc2NyZWVuLXNoYXJlLWxvY2FsXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19waXAtc2NyZWVuLXNoYXJlLWxvY2FsX190aXRsZVwiLCBjaGlsZHJlbjogdCgnWW91IGFyZSBwcmVzZW50aW5nIHlvdXIgc2NyZWVuJykgfSldIH0pKSA6IChqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBzY3JlZW5TaGFyaW5nUGFydGljaXBhbnQsIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZVRyYWNrXCIsIG11dGVBdWRpbzogdHJ1ZSwgbWlycm9yOiBmYWxzZSwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJIH0pKSksIHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIG11dGVBdWRpbzogdHJ1ZSwgbWlycm9yOiBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSldIH0pKTtcbn07XG5QaXAuZGlzcGxheU5hbWUgPSAnUGlwTGF5b3V0LlBpcCc7XG5jb25zdCBIb3N0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlbW90ZVBhcnRpY2lwYW50cyA9IHVzZVJhd1JlbW90ZVBhcnRpY2lwYW50cygpO1xuICAgIHJldHVybiBqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSk7XG59O1xuSG9zdC5kaXNwbGF5TmFtZSA9ICdQaXBMYXlvdXQuSG9zdCc7XG5jb25zdCBQaXBMYXlvdXQgPSB7IFBpcCwgSG9zdCB9O1xuXG5mdW5jdGlvbiB1c2VFZmZlY3RFdmVudChjYikge1xuICAgIGNvbnN0IGNiUmVmID0gdXNlUmVmKHVuZGVmaW5lZCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgY2JSZWYuY3VycmVudCA9IGNiO1xuICAgIH0sIFtjYl0pO1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IGNiUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNhbGxiYWNrPy4oLi4uYXJncyk7XG4gICAgfSwgW10pO1xufVxuXG5jb25zdCBMaXZlc3RyZWFtUGxheWVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYWxsVHlwZSwgY2FsbElkLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNsaWVudCA9IHVzZVN0cmVhbVZpZGVvQ2xpZW50KCk7XG4gICAgY29uc3QgW2NhbGwsIHNldENhbGxdID0gdXNlU3RhdGUoKTtcbiAgICBjb25zdCBvbkVycm9yID0gdXNlRWZmZWN0RXZlbnQocHJvcHMub25FcnJvcik7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjbGllbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG15Q2FsbCA9IGNsaWVudC5jYWxsKGNhbGxUeXBlLCBjYWxsSWQpO1xuICAgICAgICBzZXRDYWxsKG15Q2FsbCk7XG4gICAgICAgIG15Q2FsbC5nZXQoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGNhbGwnLCBlKTtcbiAgICAgICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgbXlDYWxsLmxlYXZlKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbGVhdmUgY2FsbCcsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRDYWxsKHVuZGVmaW5lZCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGxJZCwgY2FsbFR5cGUsIGNsaWVudCwgb25FcnJvcl0pO1xuICAgIGlmICghY2FsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goU3RyZWFtQ2FsbCwgeyBjYWxsOiBjYWxsLCBjaGlsZHJlbjoganN4KExpdmVzdHJlYW1DYWxsLCB7IC4uLnJlc3RQcm9wcyB9KSB9KSk7XG59O1xuY29uc3QgTGl2ZXN0cmVhbUNhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlTGl2ZXN0cmVhbUNhbGwocHJvcHMpO1xuICAgIGNvbnN0IHsgdXNlSXNDYWxsTGl2ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBpc0xpdmUgPSB1c2VJc0NhbGxMaXZlKCk7XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoaXNMaXZlKSB7XG4gICAgICAgIHJldHVybiBqc3goTGl2ZXN0cmVhbUxheW91dCwgeyAuLi5wcm9wcy5sYXlvdXRQcm9wcyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzeChCYWNrc3RhZ2VMYXlvdXQsIHsgLi4ucHJvcHMuYmFja3N0YWdlUHJvcHMgfSk7XG59O1xuY29uc3QgdXNlTGl2ZXN0cmVhbUNhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlSXNDYWxsTGl2ZSwgdXNlT3duQ2FwYWJpbGl0aWVzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbkpvaW5MaXZlID0gdXNlSXNDYWxsTGl2ZSgpO1xuICAgIGNvbnN0IGNhbkpvaW5FYXJseSA9IHVzZUNhbkpvaW5FYXJseSgpO1xuICAgIGNvbnN0IGNhbkpvaW5CYWNrc3RhZ2UgPSB1c2VPd25DYXBhYmlsaXRpZXMoKT8uaW5jbHVkZXMoJ2pvaW4tYmFja3N0YWdlJykgPz8gZmFsc2U7XG4gICAgY29uc3QgY2FuSm9pbkFzYXAgPSBjYW5Kb2luTGl2ZSB8fCBjYW5Kb2luRWFybHkgfHwgY2FuSm9pbkJhY2tzdGFnZTtcbiAgICBjb25zdCBqb2luQmVoYXZpb3IgPSBwcm9wcy5qb2luQmVoYXZpb3IgPz8gJ2FzYXAnO1xuICAgIGNvbnN0IGNhbkpvaW4gPSAoam9pbkJlaGF2aW9yID09PSAnYXNhcCcgJiYgY2FuSm9pbkFzYXApIHx8XG4gICAgICAgIChqb2luQmVoYXZpb3IgPT09ICdsaXZlJyAmJiBjYW5Kb2luTGl2ZSk7XG4gICAgY29uc3Qgb25FcnJvciA9IHVzZUVmZmVjdEV2ZW50KHByb3BzLm9uRXJyb3IpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChjYWxsICYmIGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSURMRSAmJiBjYW5Kb2luKSB7XG4gICAgICAgICAgICBjYWxsLmpvaW4oKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBqb2luIGNhbGwnLCBlKTtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2FsbCwgY2FuSm9pbiwgb25FcnJvcl0pO1xuICAgIHJldHVybiBjYWxsO1xufTtcbmNvbnN0IHVzZUNhbkpvaW5FYXJseSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHVzZUNhbGxTdGFydHNBdCwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHN0YXJ0c0F0ID0gdXNlQ2FsbFN0YXJ0c0F0KCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBqb2luQWhlYWRUaW1lU2Vjb25kcyA9IHNldHRpbmdzPy5iYWNrc3RhZ2Uuam9pbl9haGVhZF90aW1lX3NlY29uZHM7XG4gICAgY29uc3QgW2NhbkpvaW5FYXJseSwgc2V0Q2FuSm9pbkVhcmx5XSA9IHVzZVN0YXRlKCgpID0+IGNoZWNrQ2FuSm9pbkVhcmx5KHN0YXJ0c0F0LCBqb2luQWhlYWRUaW1lU2Vjb25kcykpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FuSm9pbkVhcmx5KSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Q2FuSm9pbkVhcmx5KGNoZWNrQ2FuSm9pbkVhcmx5KHN0YXJ0c0F0LCBqb2luQWhlYWRUaW1lU2Vjb25kcykpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChoYW5kbGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NhbkpvaW5FYXJseSwgc3RhcnRzQXQsIGpvaW5BaGVhZFRpbWVTZWNvbmRzXSk7XG4gICAgcmV0dXJuIGNhbkpvaW5FYXJseTtcbn07XG5jb25zdCBjaGVja0NhbkpvaW5FYXJseSA9IChzdGFydHNBdCwgam9pbkFoZWFkVGltZVNlY29uZHMpID0+IHtcbiAgICBpZiAoIXN0YXJ0c0F0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIERhdGUubm93KCkgPj0gK3N0YXJ0c0F0IC0gKGpvaW5BaGVhZFRpbWVTZWNvbmRzID8/IDApICogMTAwMDtcbn07XG5cbmNvbnN0IFttYWpvciwgbWlub3IsIHBhdGNoXSA9IChcIjEuMjAuMVwiKS5zcGxpdCgnLicpO1xuc2V0U2RrSW5mbyh7XG4gICAgdHlwZTogU2Z1TW9kZWxzLlNka1R5cGUuUkVBQ1QsXG4gICAgbWFqb3IsXG4gICAgbWlub3IsXG4gICAgcGF0Y2gsXG59KTtcblxuZXhwb3J0IHsgQWNjZXB0Q2FsbEJ1dHRvbiwgQXVkaW8sIEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEJhY2tncm91bmRGaWx0ZXJzUHJvdmlkZXIsIEJhY2tzdGFnZUxheW91dCwgQmFzZVZpZGVvLCBDYWxsQ29udHJvbHMsIENhbGxQYXJ0aWNpcGFudExpc3RpbmcsIENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtLCBDYWxsUGFydGljaXBhbnRzTGlzdCwgQ2FsbFByZXZpZXcsIENhbGxSZWNvcmRpbmdMaXN0LCBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciwgQ2FsbFJlY29yZGluZ0xpc3RJdGVtLCBDYWxsU3RhdHMsIENhbGxTdGF0c0J1dHRvbiwgQ2FuY2VsQ2FsbEJ1dHRvbiwgQ2FuY2VsQ2FsbENvbmZpcm1CdXR0b24sIENvbXBvc2l0ZUJ1dHRvbiwgRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCBEZWZhdWx0UmVhY3Rpb25zTWVudSwgRGVmYXVsdFNjcmVlblNoYXJlT3ZlcmxheSwgRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIsIERldmljZVNlbGVjdG9yLCBEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQsIERldmljZVNlbGVjdG9yVmlkZW8sIERldmljZVNldHRpbmdzLCBEcm9wRG93blNlbGVjdCwgRHJvcERvd25TZWxlY3RPcHRpb24sIEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcsIEdlbmVyaWNNZW51LCBHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIEljb24sIEljb25CdXR0b24sIExpdmVzdHJlYW1MYXlvdXQsIExpdmVzdHJlYW1QbGF5ZXIsIExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdGluZywgTG9hZGluZ0luZGljYXRvciwgTWVudVRvZ2dsZSwgTWVudVZpc3VhbFR5cGUsIE5vaXNlQ2FuY2VsbGF0aW9uUHJvdmlkZXIsIE5vdGlmaWNhdGlvbiwgUGFnaW5hdGVkR3JpZExheW91dCwgUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIFBhcnRpY2lwYW50RGV0YWlscywgUGFydGljaXBhbnRWaWV3LCBQYXJ0aWNpcGFudFZpZXdDb250ZXh0LCBQYXJ0aWNpcGFudHNBdWRpbywgUGVybWlzc2lvbk5vdGlmaWNhdGlvbiwgUGVybWlzc2lvblJlcXVlc3RMaXN0LCBQZXJtaXNzaW9uUmVxdWVzdHMsIFBpcExheW91dCwgUmVhY3Rpb24sIFJlYWN0aW9uc0J1dHRvbiwgUmVjb3JkQ2FsbEJ1dHRvbiwgUmVjb3JkQ2FsbENvbmZpcm1hdGlvbkJ1dHRvbiwgUmVjb3JkaW5nSW5Qcm9ncmVzc05vdGlmaWNhdGlvbiwgUmluZ2luZ0NhbGwsIFJpbmdpbmdDYWxsQ29udHJvbHMsIFNjcmVlblNoYXJlQnV0dG9uLCBTZWFyY2hJbnB1dCwgU2VhcmNoUmVzdWx0cywgU3BlYWtlckxheW91dCwgU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCBTcGVlY2hJbmRpY2F0b3IsIFN0YXRDYXJkLCBTdHJlYW1DYWxsLCBTdHJlYW1UaGVtZSwgU3RyZWFtVmlkZW8sIFRleHRCdXR0b24sIFRvZ2dsZUF1ZGlvT3V0cHV0QnV0dG9uLCBUb2dnbGVBdWRpb1ByZXZpZXdCdXR0b24sIFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiwgVG9nZ2xlVmlkZW9QcmV2aWV3QnV0dG9uLCBUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24sIFRvb2x0aXAsIFZpZGVvJDEgYXMgVmlkZW8sIFZpZGVvUHJldmlldywgV2l0aFRvb2x0aXAsIGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwLCBkZWZhdWx0UmVhY3Rpb25zLCB0cmFuc2xhdGlvbnMsIHVzZUJhY2tncm91bmRGaWx0ZXJzLCB1c2VEZXZpY2VMaXN0LCB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cywgdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uLCB1c2VNZW51Q29udGV4dCwgdXNlTm9pc2VDYW5jZWxsYXRpb24sIHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQsIHVzZVBlcnNpc3RlZERldmljZVByZWZlcmVuY2VzLCB1c2VSZXF1ZXN0UGVybWlzc2lvbiwgdXNlVHJhY2tFbGVtZW50VmlzaWJpbGl0eSwgdXNlVmVydGljYWxTY3JvbGxQb3NpdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallStatsLatencyChart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chart.js */ \"(ssr)/./node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-chartjs-2 */ \"(ssr)/./node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\n// NOTE: this is a side effect by definition, but this component is\n// isolated in a separate chunk, and it won't affect the rest of the app.\n// See CallStats.tsx for more details.\nchart_js__WEBPACK_IMPORTED_MODULE_2__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_2__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_2__.PointElement);\nconst CallStatsLatencyChart = (props) => {\n    const { values } = props;\n    let max = 0;\n    const data = {\n        labels: values.map((point) => {\n            const date = new Date(point.x * 1000);\n            return `${date.getHours()}:${date.getMinutes()}`;\n        }),\n        datasets: [\n            {\n                data: values.map((point) => {\n                    const { y } = point;\n                    max = Math.max(max, y);\n                    return point;\n                }),\n                borderColor: '#00e2a1',\n                backgroundColor: '#00e2a1',\n            },\n        ],\n    };\n    const options = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getLineOptions(max), [max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"str-video__call-stats-line-chart-container\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__.Line, { options: options, data: data, className: \"str-video__call-stats__latencychart\" }) }));\n};\nconst getLineOptions = (max) => ({\n    maintainAspectRatio: false,\n    animation: { duration: 0 },\n    elements: {\n        line: { borderWidth: 1 },\n        point: { radius: 2 },\n    },\n    scales: {\n        y: {\n            position: 'right',\n            stacked: true,\n            min: 0,\n            max: Math.max(180, Math.ceil((max + 10) / 10) * 10),\n            grid: { display: true, color: '#979ca0' },\n            ticks: { stepSize: 30 },\n        },\n        x: {\n            grid: { display: false },\n            ticks: { display: false },\n        },\n    },\n});\n\n\n//# sourceMappingURL=latency-chart-Bj5OSYzg.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0M7QUFDZ0Q7QUFDakQ7QUFDUDs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsMkNBQUssVUFBVSxtREFBYSxFQUFFLGlEQUFXLEVBQUUsaURBQVcsRUFBRSxrREFBWTtBQUNwRTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsR0FBRyxrQkFBa0I7QUFDM0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFPO0FBQzNCLFlBQVksc0RBQUcsVUFBVSxtRUFBbUUsc0RBQUcsQ0FBQyxpREFBSSxJQUFJLGdGQUFnRixHQUFHO0FBQzNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQyxpQkFBaUIsV0FBVztBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlDQUFpQztBQUNyRCxxQkFBcUIsY0FBYztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDLHFCQUFxQixnQkFBZ0I7QUFDckMsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDOztBQUUyQztBQUM1QyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxocFxcRG93bmxvYWRzXFxyZW1vdGUtaW50ZXJ2aWV3LXBsYXRmb3JtXFxub2RlX21vZHVsZXNcXEBzdHJlYW0taW9cXHZpZGVvLXJlYWN0LXNka1xcZGlzdFxcbGF0ZW5jeS1jaGFydC1CajVPU1l6Zy5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBDaGFydCwgQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUsIExpbmVFbGVtZW50LCBQb2ludEVsZW1lbnQgfSBmcm9tICdjaGFydC5qcyc7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSAncmVhY3QtY2hhcnRqcy0yJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbi8vIE5PVEU6IHRoaXMgaXMgYSBzaWRlIGVmZmVjdCBieSBkZWZpbml0aW9uLCBidXQgdGhpcyBjb21wb25lbnQgaXNcbi8vIGlzb2xhdGVkIGluIGEgc2VwYXJhdGUgY2h1bmssIGFuZCBpdCB3b24ndCBhZmZlY3QgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbi8vIFNlZSBDYWxsU3RhdHMudHN4IGZvciBtb3JlIGRldGFpbHMuXG5DaGFydC5yZWdpc3RlcihDYXRlZ29yeVNjYWxlLCBMaW5lYXJTY2FsZSwgTGluZUVsZW1lbnQsIFBvaW50RWxlbWVudCk7XG5jb25zdCBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlcyB9ID0gcHJvcHM7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiB2YWx1ZXMubWFwKChwb2ludCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHBvaW50LnggKiAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtkYXRlLmdldEhvdXJzKCl9OiR7ZGF0ZS5nZXRNaW51dGVzKCl9YDtcbiAgICAgICAgfSksXG4gICAgICAgIGRhdGFzZXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YTogdmFsdWVzLm1hcCgocG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB5IH0gPSBwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwZTJhMScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwZTJhMScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4gZ2V0TGluZU9wdGlvbnMobWF4KSwgW21heF0pO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0cy1saW5lLWNoYXJ0LWNvbnRhaW5lclwiLCBjaGlsZHJlbjoganN4KExpbmUsIHsgb3B0aW9uczogb3B0aW9ucywgZGF0YTogZGF0YSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fbGF0ZW5jeWNoYXJ0XCIgfSkgfSkpO1xufTtcbmNvbnN0IGdldExpbmVPcHRpb25zID0gKG1heCkgPT4gKHtcbiAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICBhbmltYXRpb246IHsgZHVyYXRpb246IDAgfSxcbiAgICBlbGVtZW50czoge1xuICAgICAgICBsaW5lOiB7IGJvcmRlcldpZHRoOiAxIH0sXG4gICAgICAgIHBvaW50OiB7IHJhZGl1czogMiB9LFxuICAgIH0sXG4gICAgc2NhbGVzOiB7XG4gICAgICAgIHk6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgc3RhY2tlZDogdHJ1ZSxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogTWF0aC5tYXgoMTgwLCBNYXRoLmNlaWwoKG1heCArIDEwKSAvIDEwKSAqIDEwKSxcbiAgICAgICAgICAgIGdyaWQ6IHsgZGlzcGxheTogdHJ1ZSwgY29sb3I6ICcjOTc5Y2EwJyB9LFxuICAgICAgICAgICAgdGlja3M6IHsgc3RlcFNpemU6IDMwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHg6IHtcbiAgICAgICAgICAgIGdyaWQ6IHsgZGlzcGxheTogZmFsc2UgfSxcbiAgICAgICAgICAgIHRpY2tzOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG5leHBvcnQgeyBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGF0ZW5jeS1jaGFydC1CajVPU1l6Zy5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\n");

/***/ })

};
;